# src/nix-analyze/BUCK
#
# Nix flake analyzer for Buck2 integration
#
# Usage:
#   buck2 build //src/nix-analyze:nix-analyze
#   buck2 run //src/nix-analyze:nix-analyze -- resolve nixpkgs#zlib

load("@toolchains//:haskell.bzl", "haskell_binary")

haskell_binary(
    name = "nix-analyze",
    srcs = [
        "Main.hs",
        "Nix.hs",
    ],
    deps = [
        # All from base/GHC boot libs or common Hackage
        # aeson, bytestring, text, containers, directory, process
    ],
    ghc_options = [
        "-O2",
    ],
    visibility = ["PUBLIC"],
)
