# Lazy Code Pattern Scan Report

**Generated:** 2026-01-13T15:43:24.787Z
**Total Patterns Found:** 5359

## Summary by Severity

- ğŸ”´ **CRITICAL:** 202
- ğŸŸ  **HIGH:** 115
- ğŸŸ¡ **MEDIUM:** 929
- ğŸŸ¢ **LOW:** 4113

## Summary by Category

- **Return Type:** 1899
- **Optional Chaining:** 1611
- **Defensive Guard:** 836
- **Legacy Function:** 603
- **Type Escape:** 317
- **Numeric Issue:** 93

---

## Detailed Patterns

| âœ… | File | Line | Pattern | Severity | Category | Code Snippet | Suggestion |
|----|------|------|---------|----------|----------|--------------|------------|
| â˜ | `composables/useCurveEditorCoords.ts` | 129:38 | : any | ğŸ”´ CRITICAL | Type Escape | `export function getNumericValue(value: any): nu...` | Replace with proper type annotation |
| â˜ | `composables/useShapeDrawing.ts` | 32:12 | : any | ğŸ”´ CRITICAL | Type Escape | `keyframes: any[];` | Replace with proper type annotation |
| â˜ | `composables/useShapeDrawing.ts` | 251:37 | as any | ğŸ”´ CRITICAL | Type Escape | `const shapeData = newLayer.data as any;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `composables/useShapeDrawing.ts` | 257:43 | : any | ğŸ”´ CRITICAL | Type Escape | `let group = shapeData.contents.find((c: any) =>...` | Replace with proper type annotation |
| â˜ | `composables/useShapeDrawing.ts` | 273:18 | : any | ğŸ”´ CRITICAL | Type Escape | `let generator: any;` | Replace with proper type annotation |
| â˜ | `composables/useSplineInteraction.ts` | 63:8 | : any | ğŸ”´ CRITICAL | Type Escape | `store: any;` | Replace with proper type annotation |
| â˜ | `composables/useSplineInteraction.ts` | 64:13 | : any | ğŸ”´ CRITICAL | Type Escape | `layerStore: any;` | Replace with proper type annotation |
| â˜ | `composables/useSplineInteraction.ts` | 310:39 | : any | ğŸ”´ CRITICAL | Type Escape | `const layer = store.layers.find((l: any) => l.i...` | Replace with proper type annotation |
| â˜ | `composables/useSplineInteraction.ts` | 453:40 | as any | ğŸ”´ CRITICAL | Type Escape | `const rawNewPointX = (newPoint as any)?.rawX ??...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `composables/useSplineInteraction.ts` | 454:40 | as any | ğŸ”´ CRITICAL | Type Escape | `const rawNewPointY = (newPoint as any)?.rawY ??...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `composables/useSplineInteraction.ts` | 502:41 | : any | ğŸ”´ CRITICAL | Type Escape | `const layer = store.layers.find((l: any) => l.i...` | Replace with proper type annotation |
| â˜ | `composables/useSplineInteraction.ts` | 517:22 | : any | ğŸ”´ CRITICAL | Type Escape | `const updates: any = { x: layerPos.x, y: layerP...` | Replace with proper type annotation |
| â˜ | `composables/useSplineInteraction.ts` | 534:22 | : any | ğŸ”´ CRITICAL | Type Escape | `const updates: any = { handleIn: { x: layerPos....` | Replace with proper type annotation |
| â˜ | `composables/useSplineInteraction.ts` | 545:22 | : any | ğŸ”´ CRITICAL | Type Escape | `const updates: any = { handleOut: { x: layerPos...` | Replace with proper type annotation |
| â˜ | `composables/useSplineInteraction.ts` | 574:22 | : any | ğŸ”´ CRITICAL | Type Escape | `const updates: any = { x: newX };` | Replace with proper type annotation |
| â˜ | `composables/useSplineInteraction.ts` | 597:22 | : any | ğŸ”´ CRITICAL | Type Escape | `const updates: any = { y: newY };` | Replace with proper type annotation |
| â˜ | `composables/useSplineInteraction.ts` | 630:41 | : any | ğŸ”´ CRITICAL | Type Escape | `const layer = store.layers.find((l: any) => l.i...` | Replace with proper type annotation |
| â˜ | `composables/useSplineInteraction.ts` | 834:26 | as any | ğŸ”´ CRITICAL | Type Escape | `startDepth: (point as any).depth ?? 0,` | Replace with proper type assertion or fix underlying type... |
| â˜ | `composables/useSplineInteraction.ts` | 844:43 | : any | ğŸ”´ CRITICAL | Type Escape | `const layer = store.layers.find((l: any) => l.i...` | Replace with proper type annotation |
| â˜ | `engine/animation/KeyframeEvaluator.ts` | 20:52 | : any | ğŸ”´ CRITICAL | Type Escape | `private cache: Map<string, { frame: number; val...` | Replace with proper type annotation |
| â˜ | `engine/animation/KeyframeEvaluator.ts` | 308:10 | : any | ğŸ”´ CRITICAL | Type Escape | `value: any,` | Replace with proper type annotation |
| â˜ | `engine/core/LayerManager.ts` | 166:32 | as any | ğŸ”´ CRITICAL | Type Escape | `const layerData = (layer as any).layerData;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/core/RenderPipeline.ts` | 404:9 | as any | ğŸ”´ CRITICAL | Type Escape | `} as any, // width/height are needed but not in...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/core/RenderPipeline.ts` | 417:38 | as any | ğŸ”´ CRITICAL | Type Escape | `const uniforms = (this.bokehPass as any).uniforms;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/core/RenderPipeline.ts` | 1052:20 | as any | ğŸ”´ CRITICAL | Type Escape | `(this.composer as any).renderTarget1 = this.col...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/core/RenderPipeline.ts` | 1053:20 | as any | ğŸ”´ CRITICAL | Type Escape | `(this.composer as any).renderTarget2 = this.col...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/core/SceneManager.ts` | 273:24 | as any | ğŸ”´ CRITICAL | Type Escape | `const obj = object as any;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/core/SceneManager.ts` | 285:32 | : any | ğŸ”´ CRITICAL | Type Escape | `const patchChild = (child: any) => {` | Replace with proper type annotation |
| â˜ | `engine/core/SceneManager.ts` | 328:56 | as any | ğŸ”´ CRITICAL | Type Escape | `const index = this.scene.children.indexOf(objec...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/core/SceneManager.ts` | 331:17 | as any | ğŸ”´ CRITICAL | Type Escape | `(object as any).parent = null;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/core/SceneManager.ts` | 347:31 | : any | ğŸ”´ CRITICAL | Type Escape | `const ensureMethods = (obj: any, depth = 0) => {` | Replace with proper type annotation |
| â˜ | `engine/LatticeEngine.ts` | 802:23 | as any | ğŸ”´ CRITICAL | Type Escape | `typeof (layer as any).setResolution === "function"` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/LatticeEngine.ts` | 804:16 | as any | ğŸ”´ CRITICAL | Type Escape | `(layer as any).setResolution(width, height);` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/ImageLayer.ts` | 93:33 | as any | ğŸ”´ CRITICAL | Type Escape | `const data = layerData.data as any;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/ImageLayer.ts` | 400:34 | as any | ğŸ”´ CRITICAL | Type Escape | `const data = properties.data as any;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/LightLayer.ts` | 276:33 | as any | ğŸ”´ CRITICAL | Type Escape | `const data = layerData.data as any;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/LightLayer.ts` | 502:24 | as any | ğŸ”´ CRITICAL | Type Escape | `if ((this.helper as any).dispose) {` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/LightLayer.ts` | 503:22 | as any | ğŸ”´ CRITICAL | Type Escape | `(this.helper as any).dispose();` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/LightLayer.ts` | 683:21 | as any | ğŸ”´ CRITICAL | Type Escape | `if ((this.light as any).dispose) {` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/LightLayer.ts` | 684:19 | as any | ğŸ”´ CRITICAL | Type Escape | `(this.light as any).dispose();` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/LightLayer.ts` | 1201:21 | as any | ğŸ”´ CRITICAL | Type Escape | `if ((this.light as any).dispose) {` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/LightLayer.ts` | 1202:19 | as any | ğŸ”´ CRITICAL | Type Escape | `(this.light as any).dispose();` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/LightLayer.ts` | 1204:37 | as any | ğŸ”´ CRITICAL | Type Escape | `if (this.helper && (this.helper as any).dispose) {` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/LightLayer.ts` | 1205:20 | as any | ğŸ”´ CRITICAL | Type Escape | `(this.helper as any).dispose();` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/ModelLayer.ts` | 590:17 | as any | ğŸ”´ CRITICAL | Type Escape | `(material as any).wireframe = override.wireframe;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/ModelLayer.ts` | 599:17 | as any | ğŸ”´ CRITICAL | Type Escape | `(material as any).color = new THREE.Color(overr...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/PoseLayer.ts` | 556:34 | as any | ğŸ”´ CRITICAL | Type Escape | `this.layerData.data = data as any;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/PoseLayer.ts` | 593:32 | as any | ğŸ”´ CRITICAL | Type Escape | `this.layerData.data = data as any;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/ShapeLayer.ts` | 160:56 | as any | ğŸ”´ CRITICAL | Type Escape | `this.texture = new THREE.CanvasTexture(this.can...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/ShapeLayer.ts` | 211:38 | as any | ğŸ”´ CRITICAL | Type Escape | `this.texture.image = this.canvas as any;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/ShapeLayer.ts` | 282:30 | : any | ğŸ”´ CRITICAL | Type Escape | `onApplyEvaluatedState(state: any): void {` | Replace with proper type annotation |
| â˜ | `engine/layers/SplineLayer.ts` | 1609:33 | as any | ğŸ”´ CRITICAL | Type Escape | `const value = (audioMod as any)[key];` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/SplineLayer.ts` | 1637:30 | as any | ğŸ”´ CRITICAL | Type Escape | `const xMod = (audioMod as any)[`splineControlPo...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/SplineLayer.ts` | 1640:30 | as any | ğŸ”´ CRITICAL | Type Escape | `const yMod = (audioMod as any)[`splineControlPo...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/SplineLayer.ts` | 1643:34 | as any | ğŸ”´ CRITICAL | Type Escape | `const depthMod = (audioMod as any)[`splineContr...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/TextLayer.ts` | 366:11 | as any | ğŸ”´ CRITICAL | Type Escape | `(text as any).fontWeight = this.textData.fontWe...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/TextLayer.ts` | 367:11 | as any | ğŸ”´ CRITICAL | Type Escape | `(text as any).fontStyle = this.textData.fontSty...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/TextLayer.ts` | 391:11 | as any | ğŸ”´ CRITICAL | Type Escape | `(text as any).sdfGlyphSize = 256; // Default is...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/TextLayer.ts` | 394:11 | as any | ğŸ”´ CRITICAL | Type Escape | `(text as any).gpuAccelerateSDF = true;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/TextLayer.ts` | 398:13 | as any | ğŸ”´ CRITICAL | Type Escape | `(text as any).outlineBlur = 0.003; // Slight bl...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/TextLayer.ts` | 708:17 | as any | ğŸ”´ CRITICAL | Type Escape | `(charMesh as any).fontWeight = this.textData.fo...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/TextLayer.ts` | 709:17 | as any | ğŸ”´ CRITICAL | Type Escape | `(charMesh as any).fontStyle = this.textData.fon...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/TextLayer.ts` | 718:19 | as any | ğŸ”´ CRITICAL | Type Escape | `(charMesh as any).outlineBlur = 0.005;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/TextLayer.ts` | 722:17 | as any | ğŸ”´ CRITICAL | Type Escape | `(charMesh as any).sdfGlyphSize = 128;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/TextLayer.ts` | 820:20 | as any | ğŸ”´ CRITICAL | Type Escape | `(this.textMesh as any).fontWeight = weight;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/TextLayer.ts` | 824:17 | as any | ğŸ”´ CRITICAL | Type Escape | `(charMesh as any).fontWeight = weight;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/TextLayer.ts` | 831:20 | as any | ğŸ”´ CRITICAL | Type Escape | `(this.textMesh as any).fontStyle = style;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/TextLayer.ts` | 835:17 | as any | ğŸ”´ CRITICAL | Type Escape | `(charMesh as any).fontStyle = style;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/TextLayer.ts` | 1331:21 | as any | ğŸ”´ CRITICAL | Type Escape | `(charMesh as any).__blurX = blurVal.x * influence;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/TextLayer.ts` | 1332:21 | as any | ğŸ”´ CRITICAL | Type Escape | `(charMesh as any).__blurY = blurVal.y * influence;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/VideoLayer.ts` | 343:44 | as any | ğŸ”´ CRITICAL | Type Escape | `const audioTracks = (this.videoElement as any)....` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/VideoLayer.ts` | 1105:14 | as any | ğŸ”´ CRITICAL | Type Escape | `(video as any).requestVideoFrameCallback(onFrame);` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/layers/VideoLayer.ts` | 1111:16 | as any | ğŸ”´ CRITICAL | Type Escape | `(video as any).requestVideoFrameCallback(onFrame);` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1895:18 | as any | ğŸ”´ CRITICAL | Type Escape | `type: type as any,` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/TransformControlsManager.ts` | 63:14 | as any | ğŸ”´ CRITICAL | Type Escape | `if ((obj as any).children === undefined \|\| (obj...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/TransformControlsManager.ts` | 63:53 | as any | ğŸ”´ CRITICAL | Type Escape | `if ((obj as any).children === undefined \|\| (obj...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/TransformControlsManager.ts` | 64:12 | as any | ğŸ”´ CRITICAL | Type Escape | `(obj as any).children = [];` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/TransformControlsManager.ts` | 68:15 | as any | ğŸ”´ CRITICAL | Type Escape | `if (!(obj as any).matrix) {` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/TransformControlsManager.ts` | 69:12 | as any | ğŸ”´ CRITICAL | Type Escape | `(obj as any).matrix = new THREE.Matrix4();` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/TransformControlsManager.ts` | 71:15 | as any | ğŸ”´ CRITICAL | Type Escape | `if (!(obj as any).matrixWorld) {` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/TransformControlsManager.ts` | 72:12 | as any | ğŸ”´ CRITICAL | Type Escape | `(obj as any).matrixWorld = new THREE.Matrix4();` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/TransformControlsManager.ts` | 76:27 | as any | ğŸ”´ CRITICAL | Type Escape | `const children = (obj as any).children;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/TransformControlsManager.ts` | 126:13 | : any | ğŸ”´ CRITICAL | Type Escape | `(event: any) => {` | Replace with proper type annotation |
| â˜ | `engine/TransformControlsManager.ts` | 146:65 | as any | ğŸ”´ CRITICAL | Type Escape | `const anchorZ = (layerData?.transform?.anchorPo...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/TransformControlsManager.ts` | 274:31 | as any | ğŸ”´ CRITICAL | Type Escape | `(this.transformControls as any).visible = visible;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `engine/utils/PerformanceMonitor.ts` | 82:33 | as any | ğŸ”´ CRITICAL | Type Escape | `const memory = (performance as any).memory;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/ai/actionExecutor.ts` | 1866:11 | : any | ğŸ”´ CRITICAL | Type Escape | `): { state: any; message: string } {` | Replace with proper type annotation |
| â˜ | `services/ai/actionExecutor.ts` | 1902:31 | : any | ğŸ”´ CRITICAL | Type Escape | `function setNestedProperty(obj: any, path: stri...` | Replace with proper type annotation |
| â˜ | `services/ai/actionExecutor.ts` | 1902:59 | : any | ğŸ”´ CRITICAL | Type Escape | `function setNestedProperty(obj: any, path: stri...` | Replace with proper type annotation |
| â˜ | `services/ai/depthEstimation.ts` | 312:49 | : any | ğŸ”´ CRITICAL | Type Escape | `layers: (parsed.layers \|\| []).map((layer: any) ...` | Replace with proper type annotation |
| â˜ | `services/ai/stateSerializer.ts` | 166:8 | : any | ğŸ”´ CRITICAL | Type Escape | `value: any;` | Replace with proper type annotation |
| â˜ | `services/ai/stateSerializer.ts` | 174:8 | : any | ğŸ”´ CRITICAL | Type Escape | `value: any;` | Replace with proper type annotation |
| â˜ | `services/ai/stateSerializer.ts` | 526:47 | : any | ğŸ”´ CRITICAL | Type Escape | `function serializeLayerData(type: string, data:...` | Replace with proper type annotation |
| â˜ | `services/ai/toolDefinitions.ts` | 21:10 | : any | ğŸ”´ CRITICAL | Type Escape | `result?: any;` | Replace with proper type annotation |
| â˜ | `services/arcLength.ts` | 330:15 | : any | ğŸ”´ CRITICAL | Type Escape | `pathCommands: any[],` | Replace with proper type annotation |
| â˜ | `services/audioReactiveMapping.ts` | 1137:18 | as any | ğŸ”´ CRITICAL | Type Escape | `(modifiers as any)[key] = value;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/cameraTrackingImport.ts` | 450:62 | as any | ğŸ”´ CRITICAL | Type Escape | `const cameraLayer = layerStore.createCameraLaye...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/cameraTrackingImport.ts` | 463:52 | as any | ğŸ”´ CRITICAL | Type Escape | `positionProp.keyframes = positionKeyframes as a...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/cameraTrackingImport.ts` | 473:55 | as any | ğŸ”´ CRITICAL | Type Escape | `orientationProp.keyframes = rotationKeyframes a...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/cameraTrackingImport.ts` | 480:36 | as any | ğŸ”´ CRITICAL | Type Escape | `position: positionProp as any, // Cast needed d...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/cameraTrackingImport.ts` | 524:17 | as any | ğŸ”´ CRITICAL | Type Escape | `) as any,` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/cameraTrackingImport.ts` | 580:13 | as any | ğŸ”´ CRITICAL | Type Escape | `} as any,` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/comfyui/comfyuiClient.ts` | 64:45 | : any | ğŸ”´ CRITICAL | Type Escape | `private messageHandlers: Map<string, (data: any...` | Replace with proper type annotation |
| â˜ | `services/comfyui/comfyuiClient.ts` | 414:41 | : any | ğŸ”´ CRITICAL | Type Escape | `onMessage(type: string, handler: (data: any) =>...` | Replace with proper type annotation |
| â˜ | `services/comfyui/comfyuiClient.ts` | 425:38 | : any | ğŸ”´ CRITICAL | Type Escape | `private handleWebSocketMessage(data: any): void {` | Replace with proper type annotation |
| â˜ | `services/comfyui/workflowTemplates.ts` | 32:14 | : any | ğŸ”´ CRITICAL | Type Escape | `cameraData?: any;` | Replace with proper type annotation |
| â˜ | `services/comfyui/workflowTemplates.ts` | 59:14 | : any | ğŸ”´ CRITICAL | Type Escape | `motionData?: any;` | Replace with proper type annotation |
| â˜ | `services/dataImport.ts` | 485:2 | : any | ğŸ”´ CRITICAL | Type Escape | `): any[] \| null {` | Replace with proper type annotation |
| â˜ | `services/dataImport.ts` | 502:65 | : any | ğŸ”´ CRITICAL | Type Escape | `export function getJSONValue(asset: JSONDataAss...` | Replace with proper type annotation |
| â˜ | `services/effectProcessor.ts` | 291:16 | : any | ğŸ”´ CRITICAL | Type Escape | `[key: string]: any;` | Replace with proper type annotation |
| â˜ | `services/export/depthRenderer.ts` | 224:29 | as any | ğŸ”´ CRITICAL | Type Escape | `const layerWidth = (layer as any).width \|\| scre...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/export/depthRenderer.ts` | 225:30 | as any | ğŸ”´ CRITICAL | Type Escape | `const layerHeight = (layer as any).height \|\| sc...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/export/depthRenderer.ts` | 285:49 | as any | ğŸ”´ CRITICAL | Type Escape | `return layer.type === "depthflow" && !!(layer a...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/export/depthRenderer.ts` | 300:28 | as any | ğŸ”´ CRITICAL | Type Escape | `const depthData = (layer as any).depthMapData a...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/export/depthRenderer.ts` | 301:29 | as any | ğŸ”´ CRITICAL | Type Escape | `const depthWidth = (layer as any).depthWidth \|\|...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/export/depthRenderer.ts` | 302:30 | as any | ğŸ”´ CRITICAL | Type Escape | `const depthHeight = (layer as any).depthHeight ...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/export/depthRenderer.ts` | 360:26 | as any | ğŸ”´ CRITICAL | Type Escape | `const engine = (window as any).__latticeEngine;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/export/depthRenderer.ts` | 449:12 | : any | ğŸ”´ CRITICAL | Type Escape | `keyframes: any[],` | Replace with proper type annotation |
| â˜ | `services/export/exportPipeline.ts` | 348:42 | as any | ğŸ”´ CRITICAL | Type Escape | `: ((evaluated.transform.rotation as any)?.z ?? 0);` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/export/exportPipeline.ts` | 360:34 | as any | ğŸ”´ CRITICAL | Type Escape | `const layerData = layer.data as any;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/fontService.ts` | 122:35 | as any | ğŸ”´ CRITICAL | Type Escape | `const fonts = await (window as any).queryLocalF...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/gpuDetection.ts` | 48:33 | as any | ğŸ”´ CRITICAL | Type Escape | `const info = (adapter as any).info;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/gpuEffectDispatcher.ts` | 596:37 | as any | ğŸ”´ CRITICAL | Type Escape | `const renderer = webgpuRenderer as any;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/gpuEffectDispatcher.ts` | 643:4 | : any | ğŸ”´ CRITICAL | Type Escape | `): any {` | Replace with proper type annotation |
| â˜ | `services/jsonValidation.ts` | 35:7 | : any | ğŸ”´ CRITICAL | Type Escape | `data: any,` | Replace with proper type annotation |
| â˜ | `services/matteExporter.ts` | 377:52 | : any | ğŸ”´ CRITICAL | Type Escape | `private buildPathCommands(splineData: SplineDat...` | Replace with proper type annotation |
| â˜ | `services/matteExporter.ts` | 381:23 | : any | ğŸ”´ CRITICAL | Type Escape | `const pathCommands: any[] = [];` | Replace with proper type annotation |
| â˜ | `services/modelExport.ts` | 572:43 | as any | ğŸ”´ CRITICAL | Type Escape | `if (cameras.length < 2) return "static" as any;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/modelExport.ts` | 660:7 | : any | ğŸ”´ CRITICAL | Type Escape | `data: any;` | Replace with proper type annotation |
| â˜ | `services/particleSystem.ts` | 1344:11 | : any | ğŸ”´ CRITICAL | Type Escape | `config: any,` | Replace with proper type annotation |
| â˜ | `services/particleSystem.ts` | 1443:11 | : any | ğŸ”´ CRITICAL | Type Escape | `config: any,` | Replace with proper type annotation |
| â˜ | `services/particleSystem.ts` | 2239:26 | : any | ğŸ”´ CRITICAL | Type Escape | `static deserialize(data: any): ParticleSystem {` | Replace with proper type annotation |
| â˜ | `services/pathMorphing.ts` | 767:25 | as any | ğŸ”´ CRITICAL | Type Escape | `if (typeof (v.point as any)?.x !== "number") re...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/pathMorphing.ts` | 768:25 | as any | ğŸ”´ CRITICAL | Type Escape | `if (typeof (v.point as any)?.y !== "number") re...` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/plugins/PluginManager.ts` | 59:15 | : any | ğŸ”´ CRITICAL | Type Escape | `getProject(): any;` | Replace with proper type annotation |
| â˜ | `services/plugins/PluginManager.ts` | 62:23 | : any | ğŸ”´ CRITICAL | Type Escape | `getLayer(id: string): any;` | Replace with proper type annotation |
| â˜ | `services/plugins/PluginManager.ts` | 63:29 | : any | ğŸ”´ CRITICAL | Type Escape | `getComposition(id: string): any;` | Replace with proper type annotation |
| â˜ | `services/plugins/PluginManager.ts` | 64:23 | : any | ğŸ”´ CRITICAL | Type Escape | `getAsset(id: string): any;` | Replace with proper type annotation |
| â˜ | `services/plugins/PluginManager.ts` | 67:44 | : any | ğŸ”´ CRITICAL | Type Escape | `on(event: PluginEvent, callback: (...args: any[...` | Replace with proper type annotation |
| â˜ | `services/plugins/PluginManager.ts` | 68:45 | : any | ğŸ”´ CRITICAL | Type Escape | `off(event: PluginEvent, callback: (...args: any...` | Replace with proper type annotation |
| â˜ | `services/plugins/PluginManager.ts` | 92:18 | : any | ğŸ”´ CRITICAL | Type Escape | `debug(...args: any[]): void;` | Replace with proper type annotation |
| â˜ | `services/plugins/PluginManager.ts` | 93:17 | : any | ğŸ”´ CRITICAL | Type Escape | `info(...args: any[]): void;` | Replace with proper type annotation |
| â˜ | `services/plugins/PluginManager.ts` | 94:17 | : any | ğŸ”´ CRITICAL | Type Escape | `warn(...args: any[]): void;` | Replace with proper type annotation |
| â˜ | `services/plugins/PluginManager.ts` | 95:18 | : any | ğŸ”´ CRITICAL | Type Escape | `error(...args: any[]): void;` | Replace with proper type annotation |
| â˜ | `services/plugins/PluginManager.ts` | 111:12 | : any | ğŸ”´ CRITICAL | Type Escape | `component: any; // Vue component` | Replace with proper type annotation |
| â˜ | `services/plugins/PluginManager.ts` | 130:23 | : any | ğŸ”´ CRITICAL | Type Escape | `action: (contextData: any) => void;` | Replace with proper type annotation |
| â˜ | `services/plugins/PluginManager.ts` | 149:15 | : any | ğŸ”´ CRITICAL | Type Escape | `defaultValue: any;` | Replace with proper type annotation |
| â˜ | `services/plugins/PluginManager.ts` | 153:35 | : any | ğŸ”´ CRITICAL | Type Escape | `options?: { label: string; value: any }[];` | Replace with proper type annotation |
| â˜ | `services/plugins/PluginManager.ts` | 161:40 | : any | ğŸ”´ CRITICAL | Type Escape | `export: (frames: ImageData[], options: any) => ...` | Replace with proper type annotation |
| â˜ | `services/plugins/PluginManager.ts` | 483:35 | : any | ğŸ”´ CRITICAL | Type Escape | `emit(event: PluginEvent, ...args: any[]): void {` | Replace with proper type annotation |
| â˜ | `services/preprocessorService.ts` | 44:10 | : any | ğŸ”´ CRITICAL | Type Escape | `default: any;` | Replace with proper type annotation |
| â˜ | `services/preprocessorService.ts` | 743:28 | as any | ğŸ”´ CRITICAL | Type Escape | `const engine = (window as any).__latticeEngine;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/projectMigration.ts` | 33:16 | : any | ğŸ”´ CRITICAL | Type Escape | `[key: string]: any;` | Replace with proper type annotation |
| â˜ | `services/projectMigration.ts` | 53:41 | : any | ğŸ”´ CRITICAL | Type Escape | `export type MigrationFunction = (project: any) ...` | Replace with proper type annotation |
| â˜ | `services/projectMigration.ts` | 76:22 | : any | ğŸ”´ CRITICAL | Type Escape | `migrate: (project: any) => {` | Replace with proper type annotation |
| â˜ | `services/projectMigration.ts` | 141:42 | : any | ğŸ”´ CRITICAL | Type Escape | `export function getProjectVersion(project: any)...` | Replace with proper type annotation |
| â˜ | `services/projectMigration.ts` | 153:39 | : any | ğŸ”´ CRITICAL | Type Escape | `export function needsMigration(project: any): b...` | Replace with proper type annotation |
| â˜ | `services/projectMigration.ts` | 180:39 | : any | ğŸ”´ CRITICAL | Type Escape | `export function migrateProject(project: any): M...` | Replace with proper type annotation |
| â˜ | `services/projectMigration.ts` | 268:44 | : any | ğŸ”´ CRITICAL | Type Escape | `export function stampProjectVersion(project: an...` | Replace with proper type annotation |
| â˜ | `services/projectMigration.ts` | 268:50 | : any | ğŸ”´ CRITICAL | Type Escape | `export function stampProjectVersion(project: an...` | Replace with proper type annotation |
| â˜ | `services/templateBuilder.ts` | 392:69 | : any | ğŸ”´ CRITICAL | Type Escape | `export function getPropertyValue(layer: Layer, ...` | Replace with proper type annotation |
| â˜ | `services/templateBuilder.ts` | 394:14 | : any | ğŸ”´ CRITICAL | Type Escape | `let current: any = layer;` | Replace with proper type annotation |
| â˜ | `services/templateBuilder.ts` | 422:8 | : any | ğŸ”´ CRITICAL | Type Escape | `value: any,` | Replace with proper type annotation |
| â˜ | `services/templateBuilder.ts` | 425:14 | : any | ğŸ”´ CRITICAL | Type Escape | `let current: any = layer;` | Replace with proper type annotation |
| â˜ | `services/templateBuilder.ts` | 470:2 | : any | ğŸ”´ CRITICAL | Type Escape | `): any {` | Replace with proper type annotation |
| â˜ | `services/templateBuilder.ts` | 565:56 | : any | ğŸ”´ CRITICAL | Type Escape | `function serializeComposition(composition: Comp...` | Replace with proper type annotation |
| â˜ | `services/templateBuilder.ts` | 582:2 | : any | ğŸ”´ CRITICAL | Type Escape | `): any[] {` | Replace with proper type annotation |
| â˜ | `services/templateBuilder.ts` | 590:31 | as any | ğŸ”´ CRITICAL | Type Escape | `const data = layer.data as any;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/templateBuilder.ts` | 601:24 | : any | ğŸ”´ CRITICAL | Type Escape | `const collectedAssets: any[] = [];` | Replace with proper type annotation |
| â˜ | `services/templateBuilder.ts` | 624:2 | : any | ğŸ”´ CRITICAL | Type Escape | `): any[] {` | Replace with proper type annotation |
| â˜ | `services/templateBuilder.ts` | 625:14 | : any | ğŸ”´ CRITICAL | Type Escape | `const fonts: any[] = [];` | Replace with proper type annotation |
| â˜ | `services/templateBuilder.ts` | 631:31 | as any | ğŸ”´ CRITICAL | Type Escape | `const data = layer.data as any;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/textToVector.ts` | 401:56 | as any | ğŸ”´ CRITICAL | Type Escape | `const layerX = (textLayer.transform?.position?....` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/textToVector.ts` | 402:56 | as any | ğŸ”´ CRITICAL | Type Escape | `const layerY = (textLayer.transform?.position?....` | Replace with proper type assertion or fix underlying type... |
| â˜ | `services/videoDecoder.ts` | 322:21 | as any | ğŸ”´ CRITICAL | Type Escape | `return (video as any).audioTracks.length > 0;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `stores/layerStore/index.ts` | 414:78 | : any | ğŸ”´ CRITICAL | Type Escape | `): Promise<{ status: string; layer?: Layer; err...` | Replace with proper type annotation |
| â˜ | `stores/layerStore/specialized.ts` | 368:74 | : any | ğŸ”´ CRITICAL | Type Escape | `): Promise<{ status: string; layer?: Layer; err...` | Replace with proper type annotation |
| â˜ | `types/assets.ts` | 149:14 | : any | ğŸ”´ CRITICAL | Type Escape | `sourceData?: any;` | Replace with proper type annotation |
| â˜ | `types/dataAsset.ts` | 36:13 | : any | ğŸ”´ CRITICAL | Type Escape | `sourceData: any; // Parsed JSON object` | Replace with proper type annotation |
| â˜ | `types/dataAsset.ts` | 68:13 | : any | ğŸ”´ CRITICAL | Type Escape | `sourceData: any;` | Replace with proper type annotation |
| â˜ | `types/dataAsset.ts` | 123:14 | : any | ğŸ”´ CRITICAL | Type Escape | `sourceData?: any;` | Replace with proper type annotation |
| â˜ | `types/dataAsset.ts` | 178:16 | : any | ğŸ”´ CRITICAL | Type Escape | `[key: string]: any; // Additional properties` | Replace with proper type annotation |
| â˜ | `types/effects.ts` | 38:8 | : any | ğŸ”´ CRITICAL | Type Escape | `value: any;` | Replace with proper type annotation |
| â˜ | `types/effects.ts` | 39:15 | : any | ğŸ”´ CRITICAL | Type Escape | `defaultValue: any;` | Replace with proper type annotation |
| â˜ | `types/effects.ts` | 43:41 | : any | ğŸ”´ CRITICAL | Type Escape | `options?: Array<{ label: string; value: any }>;` | Replace with proper type annotation |
| â˜ | `types/effects.ts` | 3200:12 | : any | ğŸ”´ CRITICAL | Type Escape | `value: any;` | Replace with proper type annotation |
| â˜ | `types/presets.ts` | 778:9 | as any | ğŸ”´ CRITICAL | Type Escape | `} as any,` | Replace with proper type assertion or fix underlying type... |
| â˜ | `types/presets.ts` | 821:9 | as any | ğŸ”´ CRITICAL | Type Escape | `} as any,` | Replace with proper type assertion or fix underlying type... |
| â˜ | `types/project.ts` | 185:14 | : any | ğŸ”´ CRITICAL | Type Escape | `sourceData?: any;` | Replace with proper type annotation |
| â˜ | `types/ses-ambient.d.ts` | 13:60 | : any | ğŸ”´ CRITICAL | Type Escape | `evaluate(code: string, options?: Record<string,...` | Replace with proper type annotation |
| â˜ | `types/templateBuilder.ts` | 135:16 | : any | ğŸ”´ CRITICAL | Type Escape | `defaultValue?: any;` | Replace with proper type annotation |
| â˜ | `types/templateBuilder.ts` | 258:14 | : any | ğŸ”´ CRITICAL | Type Escape | `composition: any; // Serialized composition` | Replace with proper type annotation |
| â˜ | `types/templateBuilder.ts` | 361:19 | : any | ğŸ”´ CRITICAL | Type Escape | `let defaultValue: any;` | Replace with proper type annotation |
| â˜ | `utils/logger.ts` | 93:35 | : any | ğŸ”´ CRITICAL | Type Escape | `debug(message: string, ...args: any[]): void {` | Replace with proper type annotation |
| â˜ | `utils/logger.ts` | 99:34 | : any | ğŸ”´ CRITICAL | Type Escape | `info(message: string, ...args: any[]): void {` | Replace with proper type annotation |
| â˜ | `utils/logger.ts` | 105:34 | : any | ğŸ”´ CRITICAL | Type Escape | `warn(message: string, ...args: any[]): void {` | Replace with proper type annotation |
| â˜ | `utils/logger.ts` | 111:35 | : any | ğŸ”´ CRITICAL | Type Escape | `error(message: string, ...args: any[]): void {` | Replace with proper type annotation |
| â˜ | `utils/logger.ts` | 120:50 | : any | ğŸ”´ CRITICAL | Type Escape | `log(level: LogLevel, message: string, ...args: ...` | Replace with proper type annotation |
| â˜ | `utils/logger.ts` | 155:15 | : any | ğŸ”´ CRITICAL | Type Escape | `table(data: any): void {` | Replace with proper type annotation |
| â˜ | `workers/expressionWorker.ts` | 14:16 | : any | ğŸ”´ CRITICAL | Type Escape | `let Compartment: any = null;` | Replace with proper type annotation |
| â˜ | `workers/expressionWorker.ts` | 15:11 | : any | ğŸ”´ CRITICAL | Type Escape | `let harden: any = null;` | Replace with proper type annotation |
| â˜ | `workers/expressionWorker.ts` | 22:26 | as any | ğŸ”´ CRITICAL | Type Escape | `const g = globalThis as any;` | Replace with proper type assertion or fix underlying type... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 839:31 | as unknown | ğŸŸ  HIGH | Type Escape | `const data = layer.data as unknown as LayerData...` | Consider if proper type narrowing is possible |
| â˜ | `composables/useKeyboardShortcuts.ts` | 839:31 | as unknown as | ğŸŸ  HIGH | Type Escape | `const data = layer.data as unknown as LayerData...` | Review if type definitions can be improved |
| â˜ | `composables/useKeyboardShortcuts.ts` | 870:31 | as unknown | ğŸŸ  HIGH | Type Escape | `const data = layer.data as unknown as LayerData...` | Consider if proper type narrowing is possible |
| â˜ | `composables/useKeyboardShortcuts.ts` | 870:31 | as unknown as | ğŸŸ  HIGH | Type Escape | `const data = layer.data as unknown as LayerData...` | Review if type definitions can be improved |
| â˜ | `composables/useKeyboardShortcuts.ts` | 893:31 | as unknown | ğŸŸ  HIGH | Type Escape | `const data = layer.data as unknown as LayerData...` | Consider if proper type narrowing is possible |
| â˜ | `composables/useKeyboardShortcuts.ts` | 893:31 | as unknown as | ğŸŸ  HIGH | Type Escape | `const data = layer.data as unknown as LayerData...` | Review if type definitions can be improved |
| â˜ | `composables/useKeyboardShortcuts.ts` | 932:31 | as unknown | ğŸŸ  HIGH | Type Escape | `const data = layer.data as unknown as LayerData...` | Consider if proper type narrowing is possible |
| â˜ | `composables/useKeyboardShortcuts.ts` | 932:31 | as unknown as | ğŸŸ  HIGH | Type Escape | `const data = layer.data as unknown as LayerData...` | Review if type definitions can be improved |
| â˜ | `composables/useKeyboardShortcuts.ts` | 1015:29 | as unknown | ğŸŸ  HIGH | Type Escape | `const data = layer.data as unknown as LayerData...` | Consider if proper type narrowing is possible |
| â˜ | `composables/useKeyboardShortcuts.ts` | 1015:29 | as unknown as | ğŸŸ  HIGH | Type Escape | `const data = layer.data as unknown as LayerData...` | Review if type definitions can be improved |
| â˜ | `composables/useKeyboardShortcuts.ts` | 1067:31 | as unknown | ğŸŸ  HIGH | Type Escape | `const data = layer.data as unknown as LayerData...` | Consider if proper type narrowing is possible |
| â˜ | `composables/useKeyboardShortcuts.ts` | 1067:31 | as unknown as | ğŸŸ  HIGH | Type Escape | `const data = layer.data as unknown as LayerData...` | Review if type definitions can be improved |
| â˜ | `composables/useKeyboardShortcuts.ts` | 1155:39 | as unknown | ğŸŸ  HIGH | Type Escape | `const data = layer.data as unknown as Record<st...` | Consider if proper type narrowing is possible |
| â˜ | `composables/useKeyboardShortcuts.ts` | 1155:39 | as unknown as | ğŸŸ  HIGH | Type Escape | `const data = layer.data as unknown as Record<st...` | Review if type definitions can be improved |
| â˜ | `composables/useKeyboardShortcuts.ts` | 1169:46 | as unknown | ğŸŸ  HIGH | Type Escape | `const data = result.layer.data as unknown as Re...` | Consider if proper type narrowing is possible |
| â˜ | `composables/useKeyboardShortcuts.ts` | 1169:46 | as unknown as | ğŸŸ  HIGH | Type Escape | `const data = result.layer.data as unknown as Re...` | Review if type definitions can be improved |
| â˜ | `composables/useKeyboardShortcuts.ts` | 1179:37 | as unknown | ğŸŸ  HIGH | Type Escape | `const data = layer.data as unknown as Record<st...` | Consider if proper type narrowing is possible |
| â˜ | `composables/useKeyboardShortcuts.ts` | 1179:37 | as unknown as | ğŸŸ  HIGH | Type Escape | `const data = layer.data as unknown as Record<st...` | Review if type definitions can be improved |
| â˜ | `engine/core/LayerManager.ts` | 173:18 | as unknown | ğŸŸ  HIGH | Type Escape | `(layer as unknown as EffectLayer).setRenderCont...` | Consider if proper type narrowing is possible |
| â˜ | `engine/core/LayerManager.ts` | 173:18 | as unknown as | ğŸŸ  HIGH | Type Escape | `(layer as unknown as EffectLayer).setRenderCont...` | Review if type definitions can be improved |
| â˜ | `engine/core/LayerManager.ts` | 380:16 | as unknown | ğŸŸ  HIGH | Type Escape | `(layer as unknown as EffectLayer).setRenderCont...` | Consider if proper type narrowing is possible |
| â˜ | `engine/core/LayerManager.ts` | 380:16 | as unknown as | ğŸŸ  HIGH | Type Escape | `(layer as unknown as EffectLayer).setRenderCont...` | Review if type definitions can be improved |
| â˜ | `engine/core/LayerManager.ts` | 1291:13 | as unknown | ğŸŸ  HIGH | Type Escape | `layer as unknown as { getSourceCanvas(): HTMLCa...` | Consider if proper type narrowing is possible |
| â˜ | `engine/core/LayerManager.ts` | 1291:13 | as unknown as | ğŸŸ  HIGH | Type Escape | `layer as unknown as { getSourceCanvas(): HTMLCa...` | Review if type definitions can be improved |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 158:20 | as unknown | ğŸŸ  HIGH | Type Escape | `(emitter as unknown as Record<string, unknown>)...` | Consider if proper type narrowing is possible |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 158:20 | as unknown as | ğŸŸ  HIGH | Type Escape | `(emitter as unknown as Record<string, unknown>)...` | Review if type definitions can be improved |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 164:18 | as unknown | ğŸŸ  HIGH | Type Escape | `(field as unknown as Record<string, unknown>)[b...` | Consider if proper type narrowing is possible |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 164:18 | as unknown as | ğŸŸ  HIGH | Type Escape | `(field as unknown as Record<string, unknown>)[b...` | Review if type definitions can be improved |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 258:31 | as unknown | ğŸŸ  HIGH | Type Escape | `this.forceFieldBuffer as unknown as BufferSource,` | Consider if proper type narrowing is possible |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 258:31 | as unknown as | ğŸŸ  HIGH | Type Escape | `this.forceFieldBuffer as unknown as BufferSource,` | Review if type definitions can be improved |
| â˜ | `engine/TransformControlsManager.ts` | 107:32 | as unknown | ğŸŸ  HIGH | Type Escape | `this.transformControls as unknown as THREE.Obje...` | Consider if proper type narrowing is possible |
| â˜ | `engine/TransformControlsManager.ts` | 107:32 | as unknown as | ğŸŸ  HIGH | Type Escape | `this.transformControls as unknown as THREE.Obje...` | Review if type definitions can be improved |
| â˜ | `engine/TransformControlsManager.ts` | 112:32 | as unknown | ğŸŸ  HIGH | Type Escape | `this.transformControls as unknown as THREE.Obje...` | Consider if proper type narrowing is possible |
| â˜ | `engine/TransformControlsManager.ts` | 112:32 | as unknown as | ğŸŸ  HIGH | Type Escape | `this.transformControls as unknown as THREE.Obje...` | Review if type definitions can be improved |
| â˜ | `services/effects/audioVisualizer.ts` | 508:16 | as unknown | ğŸŸ  HIGH | Type Escape | `params as unknown as AudioSpectrumParams,` | Consider if proper type narrowing is possible |
| â˜ | `services/effects/audioVisualizer.ts` | 508:16 | as unknown as | ğŸŸ  HIGH | Type Escape | `params as unknown as AudioSpectrumParams,` | Review if type definitions can be improved |
| â˜ | `services/effects/audioVisualizer.ts` | 520:16 | as unknown | ğŸŸ  HIGH | Type Escape | `params as unknown as AudioWaveformParams,` | Consider if proper type narrowing is possible |
| â˜ | `services/effects/audioVisualizer.ts` | 520:16 | as unknown as | ğŸŸ  HIGH | Type Escape | `params as unknown as AudioWaveformParams,` | Review if type definitions can be improved |
| â˜ | `services/export/backendDepthService.ts` | 305:26 | as unknown | ğŸŸ  HIGH | Type Escape | `ctx.drawImage(canvas as unknown as CanvasImageS...` | Consider if proper type narrowing is possible |
| â˜ | `services/export/backendDepthService.ts` | 305:26 | as unknown as | ğŸŸ  HIGH | Type Escape | `ctx.drawImage(canvas as unknown as CanvasImageS...` | Review if type definitions can be improved |
| â˜ | `services/projectCollection.ts` | 301:34 | as unknown | ğŸŸ  HIGH | Type Escape | `const rawData = asset.data as unknown;` | Consider if proper type narrowing is possible |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 149:9 | as unknown | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Consider if proper type narrowing is possible |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 149:9 | as unknown as | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Review if type definitions can be improved |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 215:9 | as unknown | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Consider if proper type narrowing is possible |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 215:9 | as unknown as | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Review if type definitions can be improved |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 237:9 | as unknown | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Consider if proper type narrowing is possible |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 237:9 | as unknown as | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Review if type definitions can be improved |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 250:9 | as unknown | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Consider if proper type narrowing is possible |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 250:9 | as unknown as | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Review if type definitions can be improved |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 256:9 | as unknown | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Consider if proper type narrowing is possible |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 256:9 | as unknown as | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Review if type definitions can be improved |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 262:9 | as unknown | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Consider if proper type narrowing is possible |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 262:9 | as unknown as | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Review if type definitions can be improved |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 270:9 | as unknown | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Consider if proper type narrowing is possible |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 270:9 | as unknown as | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Review if type definitions can be improved |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 292:9 | as unknown | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Consider if proper type narrowing is possible |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 292:9 | as unknown as | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Review if type definitions can be improved |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 303:9 | as unknown | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Consider if proper type narrowing is possible |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 303:9 | as unknown as | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Review if type definitions can be improved |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 390:9 | as unknown | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Consider if proper type narrowing is possible |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 390:9 | as unknown as | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Review if type definitions can be improved |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 406:9 | as unknown | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Consider if proper type narrowing is possible |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 406:9 | as unknown as | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Review if type definitions can be improved |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 421:9 | as unknown | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Consider if proper type narrowing is possible |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 421:9 | as unknown as | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Review if type definitions can be improved |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 432:9 | as unknown | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Consider if proper type narrowing is possible |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 432:9 | as unknown as | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Review if type definitions can be improved |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 440:9 | as unknown | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Consider if proper type narrowing is possible |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 440:9 | as unknown as | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Review if type definitions can be improved |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 453:9 | as unknown | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Consider if proper type narrowing is possible |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 453:9 | as unknown as | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Review if type definitions can be improved |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 461:9 | as unknown | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Consider if proper type narrowing is possible |
| â˜ | `stores/actions/layer/layerDefaults.ts` | 461:9 | as unknown as | ğŸŸ  HIGH | Type Escape | `} as unknown as AnyLayerData;` | Review if type definitions can be improved |
| â˜ | `stores/assetStore.ts` | 372:24 | as unknown | ğŸŸ  HIGH | Type Escape | `(stored.config as unknown as Record<string, str...` | Consider if proper type narrowing is possible |
| â˜ | `stores/assetStore.ts` | 372:24 | as unknown as | ğŸŸ  HIGH | Type Escape | `(stored.config as unknown as Record<string, str...` | Review if type definitions can be improved |
| â˜ | `stores/assetStore.ts` | 982:40 | as unknown | ğŸŸ  HIGH | Type Escape | `const value = (stored.config as unknown as Reco...` | Consider if proper type narrowing is possible |
| â˜ | `stores/assetStore.ts` | 982:40 | as unknown as | ğŸŸ  HIGH | Type Escape | `const value = (stored.config as unknown as Reco...` | Review if type definitions can be improved |
| â˜ | `stores/cameraStore.ts` | 153:15 | as unknown | ğŸŸ  HIGH | Type Escape | `store as unknown as Parameters<typeof layerStor...` | Consider if proper type narrowing is possible |
| â˜ | `stores/cameraStore.ts` | 153:15 | as unknown as | ğŸŸ  HIGH | Type Escape | `store as unknown as Parameters<typeof layerStor...` | Review if type definitions can be improved |
| â˜ | `stores/layerStore/crud.ts` | 64:34 | as unknown | ğŸŸ  HIGH | Type Escape | `const splineData = layerData as unknown as {` | Consider if proper type narrowing is possible |
| â˜ | `stores/layerStore/crud.ts` | 64:34 | as unknown as | ğŸŸ  HIGH | Type Escape | `const splineData = layerData as unknown as {` | Review if type definitions can be improved |
| â˜ | `stores/layerStore/crud.ts` | 178:19 | as unknown | ğŸŸ  HIGH | Type Escape | `(layer.data as unknown as Record<string, unknow...` | Consider if proper type narrowing is possible |
| â˜ | `stores/layerStore/crud.ts` | 178:19 | as unknown as | ğŸŸ  HIGH | Type Escape | `(layer.data as unknown as Record<string, unknow...` | Review if type definitions can be improved |
| â˜ | `stores/layerStore/crud.ts` | 180:19 | as unknown | ğŸŸ  HIGH | Type Escape | `(layer.data as unknown as Record<string, unknow...` | Consider if proper type narrowing is possible |
| â˜ | `stores/layerStore/crud.ts` | 180:19 | as unknown as | ğŸŸ  HIGH | Type Escape | `(layer.data as unknown as Record<string, unknow...` | Review if type definitions can be improved |
| â˜ | `stores/layerStore/crud.ts` | 275:45 | as unknown | ğŸŸ  HIGH | Type Escape | `const transformRecord = layer.transform as unkn...` | Consider if proper type narrowing is possible |
| â˜ | `stores/layerStore/crud.ts` | 275:45 | as unknown as | ğŸŸ  HIGH | Type Escape | `const transformRecord = layer.transform as unkn...` | Review if type definitions can be improved |
| â˜ | `stores/layerStore/specialized.ts` | 376:21 | as unknown | ğŸŸ  HIGH | Type Escape | `compositorStore as unknown as Parameters<typeof...` | Consider if proper type narrowing is possible |
| â˜ | `stores/layerStore/specialized.ts` | 376:21 | as unknown as | ğŸŸ  HIGH | Type Escape | `compositorStore as unknown as Parameters<typeof...` | Review if type definitions can be improved |
| â˜ | `stores/physicsStore.ts` | 240:39 | as unknown | ğŸŸ  HIGH | Type Escape | `const physicsData = (layer.data as unknown as R...` | Consider if proper type narrowing is possible |
| â˜ | `stores/physicsStore.ts` | 240:39 | as unknown as | ğŸŸ  HIGH | Type Escape | `const physicsData = (layer.data as unknown as R...` | Review if type definitions can be improved |
| â˜ | `stores/physicsStore.ts` | 371:41 | as unknown | ğŸŸ  HIGH | Type Escape | `const physicsData = (layer.data as unknown as R...` | Consider if proper type narrowing is possible |
| â˜ | `stores/physicsStore.ts` | 371:41 | as unknown as | ğŸŸ  HIGH | Type Escape | `const physicsData = (layer.data as unknown as R...` | Review if type definitions can be improved |
| â˜ | `stores/physicsStore.ts` | 400:41 | as unknown | ğŸŸ  HIGH | Type Escape | `const physicsData = (layer.data as unknown as R...` | Consider if proper type narrowing is possible |
| â˜ | `stores/physicsStore.ts` | 400:41 | as unknown as | ğŸŸ  HIGH | Type Escape | `const physicsData = (layer.data as unknown as R...` | Review if type definitions can be improved |
| â˜ | `stores/physicsStore.ts` | 515:41 | as unknown | ğŸŸ  HIGH | Type Escape | `const physicsData = (layer.data as unknown as R...` | Consider if proper type narrowing is possible |
| â˜ | `stores/physicsStore.ts` | 515:41 | as unknown as | ğŸŸ  HIGH | Type Escape | `const physicsData = (layer.data as unknown as R...` | Review if type definitions can be improved |
| â˜ | `stores/projectStore.ts` | 214:26 | as unknown | ğŸŸ  HIGH | Type Escape | `const engine = (window as unknown as {` | Consider if proper type narrowing is possible |
| â˜ | `stores/projectStore.ts` | 214:26 | as unknown as | ğŸŸ  HIGH | Type Escape | `const engine = (window as unknown as {` | Review if type definitions can be improved |
| â˜ | `stores/projectStore.ts` | 241:33 | as unknown | ğŸŸ  HIGH | Type Escape | `const data = layer.data as unknown as Record<st...` | Consider if proper type narrowing is possible |
| â˜ | `stores/projectStore.ts` | 241:33 | as unknown as | ğŸŸ  HIGH | Type Escape | `const data = layer.data as unknown as Record<st...` | Review if type definitions can be improved |
| â˜ | `stores/projectStore.ts` | 482:39 | as unknown | ğŸŸ  HIGH | Type Escape | `const oldVersion = (project as unknown as { sch...` | Consider if proper type narrowing is possible |
| â˜ | `stores/projectStore.ts` | 482:39 | as unknown as | ğŸŸ  HIGH | Type Escape | `const oldVersion = (project as unknown as { sch...` | Review if type definitions can be improved |
| â˜ | `stores/projectStore.ts` | 500:41 | as unknown | ğŸŸ  HIGH | Type Escape | `const projectWithSnap = project as unknown as R...` | Consider if proper type narrowing is possible |
| â˜ | `stores/projectStore.ts` | 500:41 | as unknown as | ğŸŸ  HIGH | Type Escape | `const projectWithSnap = project as unknown as R...` | Review if type definitions can be improved |
| â˜ | `stores/projectStore.ts` | 511:50 | as unknown | ğŸŸ  HIGH | Type Escape | `store.project = projectWithoutSnapConfig as unk...` | Consider if proper type narrowing is possible |
| â˜ | `stores/projectStore.ts` | 511:50 | as unknown as | ğŸŸ  HIGH | Type Escape | `store.project = projectWithoutSnapConfig as unk...` | Review if type definitions can be improved |
| â˜ | `stores/projectStore.ts` | 589:41 | as unknown | ğŸŸ  HIGH | Type Escape | `const oldVersion = (project as unknown as { sch...` | Consider if proper type narrowing is possible |
| â˜ | `stores/projectStore.ts` | 589:41 | as unknown as | ğŸŸ  HIGH | Type Escape | `const oldVersion = (project as unknown as { sch...` | Review if type definitions can be improved |
| â˜ | `stores/projectStore.ts` | 796:27 | as unknown | ğŸŸ  HIGH | Type Escape | `(exportProject.meta as unknown as Record<string...` | Consider if proper type narrowing is possible |
| â˜ | `stores/projectStore.ts` | 796:27 | as unknown as | ğŸŸ  HIGH | Type Escape | `(exportProject.meta as unknown as Record<string...` | Review if type definitions can be improved |
| â˜ | `stores/projectStore.ts` | 797:22 | as unknown | ğŸŸ  HIGH | Type Escape | `(exportProject as unknown as Record<string, unk...` | Consider if proper type narrowing is possible |
| â˜ | `stores/projectStore.ts` | 797:22 | as unknown as | ğŸŸ  HIGH | Type Escape | `(exportProject as unknown as Record<string, unk...` | Review if type definitions can be improved |
| â˜ | `stores/segmentationStore.ts` | 110:17 | as unknown | ğŸŸ  HIGH | Type Escape | `store as unknown as Parameters<typeof layerStor...` | Consider if proper type narrowing is possible |
| â˜ | `stores/segmentationStore.ts` | 110:17 | as unknown as | ğŸŸ  HIGH | Type Escape | `store as unknown as Parameters<typeof layerStor...` | Review if type definitions can be improved |
| â˜ | `composables/useAssetHandlers.ts` | 65:32 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `z: config?.depth \|\| 0,` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `composables/useAssetHandlers.ts` | 105:52 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const existingEmitters = particleData.emitters ...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `composables/useCanvasSelection.ts` | 200:45 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const current = currentSelection?.value \|\| [];` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `composables/useCurveEditorCoords.ts` | 131:71 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `if (typeof value === "object") return value.x ?...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `composables/useCurveEditorCoords.ts` | 148:18 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `? (value.x ?? 0)` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `composables/useCurveEditorDraw.ts` | 192:45 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `kf1.frame + (kf1.outHandle?.frame ?? 0),` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `composables/useCurveEditorDraw.ts` | 198:62 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `getNumericValue(kf1.value) + (kf1.outHandle?.va...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `composables/useCurveEditorDraw.ts` | 204:44 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `kf2.frame + (kf2.inHandle?.frame ?? 0),` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `composables/useCurveEditorDraw.ts` | 210:61 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `getNumericValue(kf2.value) + (kf2.inHandle?.val...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 159:47 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const dx = x - (dragTarget.value.startX ?? 0);` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 160:47 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const dy = y - (dragTarget.value.startY ?? 0);` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 179:46 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const startX = dragTarget.value.startX ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 180:46 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const startY = dragTarget.value.startY ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `composables/useCurveEditorView.ts` | 59:18 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let minFrame = Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `composables/useCurveEditorView.ts` | 60:19 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let maxFrame = -Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `composables/useCurveEditorView.ts` | 61:18 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let minValue = Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `composables/useCurveEditorView.ts` | 62:19 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let maxValue = -Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `composables/useCurveEditorView.ts` | 97:18 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let minFrame = Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `composables/useCurveEditorView.ts` | 98:19 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let maxFrame = -Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `composables/useCurveEditorView.ts` | 99:18 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let minValue = Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `composables/useCurveEditorView.ts` | 100:19 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let maxValue = -Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `composables/useKeyboardShortcuts.ts` | 339:21 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let nextFrame = Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `composables/useKeyboardShortcuts.ts` | 360:21 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `if (nextFrame < Infinity) {` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `composables/useKeyboardShortcuts.ts` | 548:52 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `animationStore.setFrame(store, layer.inPoint ??...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 583:41 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const currentIn = layer.inPoint ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 666:37 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const inPoint = layer.inPoint ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 945:50 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const offsetX = centerX - (currentAnchor.x \|\| 0);` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `composables/useKeyboardShortcuts.ts` | 946:50 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const offsetY = centerY - (currentAnchor.y \|\| 0);` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `composables/useKeyboardShortcuts.ts` | 949:62 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `anchor: { x: centerX, y: centerY, z: currentAnc...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `composables/useKeyboardShortcuts.ts` | 951:28 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `x: (currentPos.x \|\| 0) + offsetX,` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `composables/useKeyboardShortcuts.ts` | 952:28 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `y: (currentPos.y \|\| 0) + offsetY,` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `composables/useKeyboardShortcuts.ts` | 953:27 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `z: currentPos.z \|\| 0,` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `composables/useKeyboardShortcuts.ts` | 979:61 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `position: { x: centerX, y: centerY, z: currentP...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `composables/useShapeDrawing.ts` | 150:52 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const innerRatio = options.starInnerRadius \|\| 0.5;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `composables/useSplineInteraction.ts` | 453:69 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawNewPointX = (newPoint as any)?.rawX ??...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `composables/useSplineInteraction.ts` | 454:69 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawNewPointY = (newPoint as any)?.rawY ??...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `composables/useSplineInteraction.ts` | 561:40 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `(dragTarget.value.startDepth ?? 0) - screenDy *...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `composables/useSplineInteraction.ts` | 834:40 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `startDepth: (point as any).depth ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/animation/KeyframeEvaluator.ts` | 332:26 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `result.z = (from.z ?? 0) + ((to.z ?? 0) - (from...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/animation/KeyframeEvaluator.ts` | 332:41 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `result.z = (from.z ?? 0) + ((to.z ?? 0) - (from...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/animation/KeyframeEvaluator.ts` | 332:57 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `result.z = (from.z ?? 0) + ((to.z ?? 0) - (from...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/animation/KeyframeEvaluator.ts` | 360:31 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const fromVal = from[i] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/animation/KeyframeEvaluator.ts` | 361:27 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const toVal = to[i] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/core/CameraController.ts` | 542:51 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `this.setTarget(target.x, target.y, target.z ?? 0);` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/core/LayerManager.ts` | 598:28 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const frameNum = frame ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/core/SceneManager.ts` | 178:43 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const currentZ = child.position.z \|\| 0;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `engine/core/SceneManager.ts` | 191:28 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return (a.position.z \|\| 0) - (b.position.z \|\| 0);` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `engine/core/SceneManager.ts` | 191:50 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return (a.position.z \|\| 0) - (b.position.z \|\| 0);` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `engine/core/SceneManager.ts` | 196:55 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `this.zPositionCache.set(child, child.position.z...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `engine/layers/AudioLayer.ts` | 70:34 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `startTime: data?.startTime ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/AudioLayer.ts` | 264:49 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `this.updateGain(this.audioData.level?.value ?? 0);` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/AudioLayer.ts` | 265:46 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `this.updatePan(this.audioData.pan?.value ?? 0);` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/BaseLayer.ts` | 211:62 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `this.inPoint = layerData.startFrame ?? layerDat...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/BaseLayer.ts` | 219:38 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `this.effects = layerData.effects ?? [];` | Verify if empty array is valid default, or add proper val... |
| â˜ | `engine/layers/BaseLayer.ts` | 230:34 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `this.masks = layerData.masks ?? [];` | Verify if empty array is valid default, or add proper val... |
| â˜ | `engine/layers/BaseLayer.ts` | 308:22 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `basePosition.z ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/BaseLayer.ts` | 342:66 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `x: this.getDrivenOrBase("transform.origin.x", b...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/BaseLayer.ts` | 343:66 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `y: this.getDrivenOrBase("transform.origin.y", b...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/BaseLayer.ts` | 344:66 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `z: this.getDrivenOrBase("transform.origin.z", b...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/BaseLayer.ts` | 589:43 | || {} | ğŸŸ¡ MEDIUM | Defensive Guard | `const audioMod = state.audioModifiers \|\| {};` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `engine/layers/BaseLayer.ts` | 612:28 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `transform.position.z ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/BaseLayer.ts` | 642:31 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `transform.rotationX ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/BaseLayer.ts` | 646:31 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `transform.rotationY ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/BaseLayer.ts` | 654:67 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `z: this.getDrivenOrBase("transform.origin.z", o...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/BaseLayer.ts` | 849:49 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return this.audioReactiveValues.get(target) ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/BaseLayer.ts` | 1842:48 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `marker.position.set(pos.x, -pos.y, pos.z ?? 0);` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/BaseLayer.ts` | 1881:55 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return (this.transform.position.keyframes?.leng...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/BaseLayer.ts` | 1955:74 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `this.axisGizmo.position.set(-originVal.x, origi...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/BaseLayer.ts` | 2027:74 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `this.axisGizmo.position.set(-originVal.x, origi...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 182:40 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `offsetX: data?.config?.offsetX ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 183:40 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `offsetY: data?.config?.offsetY ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 184:42 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `rotation: data?.config?.rotation ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 185:46 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `depthScale: data?.config?.depthScale ?? 0.1,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 186:46 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `focusDepth: data?.config?.focusDepth ?? 0.5,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 187:44 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `dollyZoom: data?.config?.dollyZoom ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 188:48 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `orbitRadius: data?.config?.orbitRadius ?? 0.1,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 190:54 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `swingAmplitude: data?.config?.swingAmplitude ??...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 192:50 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `edgeDilation: data?.config?.edgeDilation ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/DepthLayer.ts` | 53:32 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `minDepth: data?.minDepth ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/GeneratedLayer.ts` | 42:36 | ?? {} | ğŸŸ¡ MEDIUM | Defensive Guard | `parameters: data?.parameters ?? {},` | Verify if empty object is valid default, or add proper va... |
| â˜ | `engine/layers/LightLayer.ts` | 307:53 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `smoothing: data?.pointOfInterest?.smoothing ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/LightLayer.ts` | 339:46 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `normalBias: data?.shadow?.normalBias ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/LightLayer.ts` | 347:44 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `layers: data?.lightLinking?.layers ?? [],` | Verify if empty array is valid default, or add proper val... |
| â˜ | `engine/layers/ModelLayer.ts` | 155:38 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `renderOrder: data?.renderOrder ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/ModelLayer.ts` | 502:7 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `Infinity,` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `engine/layers/ModelLayer.ts` | 758:44 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `return this.modelData.animation?.clips ?? [];` | Verify if empty array is valid default, or add proper val... |
| â˜ | `engine/layers/ModelLayer.ts` | 885:48 | ?? {} | ğŸŸ¡ MEDIUM | Defensive Guard | `Object.assign(this.modelData.animation ?? {}, d...` | Verify if empty object is valid default, or add proper va... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 242:55 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const layerStartFrame = this.layerData.startFra...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/NormalLayer.ts` | 47:48 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `ambientIntensity: data?.ambientIntensity ?? 0.2,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/ParticleLayer.ts` | 196:35 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `z: emitter.shapeDepth ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/ParticleLayer.ts` | 214:52 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `radiusVariance: emitter.shapeInnerRadius ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/ParticleLayer.ts` | 224:56 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `splineOffset: emitter.splinePath.parameter ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/ParticleLayer.ts` | 234:65 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `emissionThreshold: emitter.depthMapEmission?.de...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/ParticleLayer.ts` | 243:62 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `emissionThreshold: emitter.maskEmission?.thresh...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/ParticleLayer.ts` | 294:45 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `((data.systemConfig.windDirection ?? 0) * Math....` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/ParticleLayer.ts` | 362:44 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const dirRad = ((emitter.direction ?? 0) * Math...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/ParticleLayer.ts` | 560:47 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `bounciness: data.collision.bounciness ?? 0.5,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/ParticleLayer.ts` | 561:43 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `friction: data.collision.friction ?? 0.1,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/ParticleLayer.ts` | 585:47 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `data.renderOptions.motionBlurStrength ?? 0.5;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/ParticleLayer.ts` | 594:55 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `1 - (data.renderOptions.trailOpacityFalloff ?? ...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/ParticleLayer.ts` | 614:67 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `lineOpacity: data.renderOptions.connections.lin...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/ParticleLayer.ts` | 625:55 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `intensity: data.renderOptions.glowIntensity ?? ...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1197:55 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const layerStartFrame = this.layerData.startFra...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1253:31 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const frame = state.frame ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/PathLayer.ts` | 82:42 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `controlPoints: data?.controlPoints ?? [],` | Verify if empty array is valid default, or add proper val... |
| â˜ | `engine/layers/PathLayer.ts` | 111:27 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const z0 = p0.depth ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/PathLayer.ts` | 112:27 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const z1 = p1.depth ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/PathLayer.ts` | 139:37 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const zLast = lastPoint.depth ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/PathLayer.ts` | 140:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const zFirst = firstPoint.depth ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/PathLayer.ts` | 325:25 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `depth: cp.depth ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 126:36 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `pointCount: data?.pointCount ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 918:17 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let min = Infinity,` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `engine/layers/PointCloudLayer.ts` | 919:16 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `max = -Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `engine/layers/PoseLayer.ts` | 300:66 | || {} | ğŸŸ¡ MEDIUM | Defensive Guard | `const data = (this.layerData.data as Partial<Po...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `engine/layers/SplineLayer.ts` | 168:42 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `controlPoints: data?.controlPoints ?? [],` | Verify if empty array is valid default, or add proper val... |
| â˜ | `engine/layers/SplineLayer.ts` | 444:27 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const z0 = p0.depth ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/SplineLayer.ts` | 445:27 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const z1 = p1.depth ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/SplineLayer.ts` | 472:37 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const zLast = lastPoint.depth ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/SplineLayer.ts` | 473:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const zFirst = firstPoint.depth ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/SplineLayer.ts` | 968:73 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `depth: this.getDrivenControlPointValue(index, "...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/SplineLayer.ts` | 1475:27 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `depth: cp.depth ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/SplineLayer.ts` | 1520:29 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `depth: cp.depth ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/SplineLayer.ts` | 1655:28 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `x: point.x + (xMod ?? 0),` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/SplineLayer.ts` | 1656:28 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `y: point.y + (yMod ?? 0),` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/SplineLayer.ts` | 1657:40 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `depth: point.depth + (depthMod ?? 0),` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/TextLayer.ts` | 163:46 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `this.animators = this.textData.animators ?? [];` | Verify if empty array is valid default, or add proper val... |
| â˜ | `engine/layers/TextLayer.ts` | 250:38 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `strokeWidth: data?.strokeWidth ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/TextLayer.ts` | 253:32 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `tracking: data?.tracking ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/TextLayer.ts` | 254:38 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `lineSpacing: data?.lineSpacing ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/TextLayer.ts` | 256:46 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `characterOffset: data?.characterOffset ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/TextLayer.ts` | 257:44 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `characterValue: data?.characterValue ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/TextLayer.ts` | 261:60 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `letterSpacing: data?.letterSpacing ?? data?.tra...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/TextLayer.ts` | 270:46 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `pathFirstMargin: data?.pathFirstMargin ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/TextLayer.ts` | 271:44 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `pathLastMargin: data?.pathLastMargin ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/TextLayer.ts` | 272:36 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `pathOffset: data?.pathOffset ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/TextLayer.ts` | 285:34 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `animators: data?.animators ?? [],` | Verify if empty array is valid default, or add proper val... |
| â˜ | `engine/layers/TextLayer.ts` | 377:50 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `text.letterSpacing = (this.textData.tracking \|\|...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `engine/layers/TextLayer.ts` | 593:49 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `letterSpacing: this.textData.tracking ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/TextLayer.ts` | 1208:41 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `letterSpacing: mesh.letterSpacing ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/VideoLayer.ts` | 129:34 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `startTime: data?.startTime ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/VideoLayer.ts` | 142:38 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `posterFrame: data?.posterFrame ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/layers/VideoLayer.ts` | 537:55 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const layerStartFrame = this.layerData.startFra...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/MotionEngine.ts` | 312:47 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `startFrame: l.startFrame ?? l.inPoint ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/MotionEngine.ts` | 315:50 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `(sum, p) => sum + (p.keyframes?.length \|\| 0),` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `engine/MotionEngine.ts` | 654:53 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const start = layer.startFrame ?? layer.inPoint...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/MotionEngine.ts` | 673:55 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const start = layer.startFrame ?? layer.inPoint...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/MotionEngine.ts` | 1048:47 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `frame >= (l.startFrame ?? l.inPoint ?? 0) &&` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/MotionEngine.ts` | 1086:49 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `position = { x: pos.x, y: pos.y, z: pos.z ?? 0 };` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/MotionEngine.ts` | 1096:47 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `target = { x: tgt.x, y: tgt.y, z: tgt.z ?? 0 };` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/MotionEngine.ts` | 1362:55 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const start = layer.startFrame ?? layer.inPoint...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/MotionEngine.ts` | 1404:46 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `turbulenceFields: sys.turbulenceFields ?? [],` | Verify if empty array is valid default, or add proper val... |
| â˜ | `engine/MotionEngine.ts` | 1405:36 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `subEmitters: sys.subEmitters ?? [],` | Verify if empty array is valid default, or add proper val... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 724:55 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `trailWidthEnd: this.config.render.trailWidthEnd...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 924:37 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `strength: config.strength ?? 0.1,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1307:77 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `buffer[offset + 8] = Math.max(rawMass, 0.001); ...` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1387:56 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const randomOffset = initialValues?.randomOffse...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1824:54 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `value: this.config.render.motionBlurStrength ??...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1836:55 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `u_shadowBias: { value: shadowConfig?.shadowBias...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1849:52 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `this.config.render.lodSizeMultipliers?.[1] ?? 0.5,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1850:52 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `this.config.render.lodSizeMultipliers?.[2] ?? 0...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1858:58 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `dofMaxBlur: { value: this.config.render.dofMaxB...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2076:53 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const warmupFrames = this.config.warmupFrames \|...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `engine/particles/GPUSPHSystem.ts` | 69:45 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `surfaceTension: config.surfaceTension ?? 0.0728,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/GPUSPHSystem.ts` | 72:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `maxTimeStep: config.maxTimeStep ?? 0.004,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/GPUSpringSystem.ts` | 272:38 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `breakThreshold: breakThreshold ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 55:44 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return this.audioFeatures.get(feature) ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 101:68 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const featureValue = this.audioFeatures.get(bin...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 149:61 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const onsetValue = this.audioFeatures.get("onse...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 185:70 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const featureValue = this.audioFeatures.get(bin...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleCollisionSystem.ts` | 83:37 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `bounciness: config.bounciness ?? 0.5,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleCollisionSystem.ts` | 84:33 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `friction: config.friction ?? 0.1,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleCollisionSystem.ts` | 85:51 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `collisionResponse: config.collisionResponse ?? ...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleCollisionSystem.ts` | 86:43 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `bounceDamping: config.bounceDamping ?? 0.8,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleCollisionSystem.ts` | 89:29 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `planes: config.planes ?? [],  // Must explicitl...` | Verify if empty array is valid default, or add proper val... |
| â˜ | `engine/particles/ParticleCollisionSystem.ts` | 629:36 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `return [...(this.config.planes \|\| [])];` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `engine/particles/ParticleConnectionSystem.ts` | 162:59 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const p1Connections = connectionCount.get(p1.in...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleConnectionSystem.ts` | 184:67 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const p2Connections = connectionCount.get(p2.in...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleConnectionSystem.ts` | 235:50 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `(connectionCount.get(p1.index) ?? 0) + 1,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleConnectionSystem.ts` | 241:50 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `(connectionCount.get(p1.index) ?? 0) >=` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleConnectionSystem.ts` | 248:46 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `(connectionCount.get(p1.index) ?? 0) >= this.co...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleConnectionSystem.ts` | 253:44 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `(connectionCount.get(p1.index) ?? 0) >= this.co...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleConnectionSystem.ts` | 257:44 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `if ((connectionCount.get(p1.index) ?? 0) >= thi...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleEmitterLogic.ts` | 138:52 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawThreshold = shape.emissionThreshold ??...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleEmitterLogic.ts` | 173:52 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawThreshold = shape.emissionThreshold ??...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleEmitterLogic.ts` | 223:61 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return new THREE.Vector3(point.x, -point.y, poi...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 80:29 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `(field.direction?.x ?? 0) * strength,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 82:29 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `(field.direction?.z ?? 0) * strength,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 98:31 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `field.vortexAxis?.x ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 99:31 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `field.vortexAxis?.y ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 108:47 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `.multiplyScalar(-(field.inwardForce ?? 0));` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 114:41 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawScale = field.noiseScale ?? 0.01;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 116:41 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawSpeed = field.noiseSpeed ?? 0.5;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 140:48 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawLinearDrag = field.linearDrag ?? 0.1;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 142:49 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawQuadDrag = field.quadraticDrag ?? 0.01;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 158:32 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `field.windDirection?.y ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 159:32 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `field.windDirection?.z ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 162:56 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `Math.sin(simulationTime * (field.gustFrequency ...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 163:29 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `(field.gustStrength ?? 0);` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 184:41 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawScale = field.noiseScale ?? 0.01;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 186:41 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawSpeed = field.noiseSpeed ?? 0.5;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 227:29 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `field.vortexAxis?.x ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 229:29 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `field.vortexAxis?.z ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 247:31 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `field.vortexAxis?.x ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 249:31 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `field.vortexAxis?.z ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleFrameCache.ts` | 148:53 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `emitterBurstTimers.set(id, emitter.burstTimer ?...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 111:31 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `damping: config.damping ?? 0.99,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 112:37 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `noiseScale: config.noiseScale ?? 0.005,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 113:37 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `noiseSpeed: config.noiseSpeed ?? 0.5,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleModulationCurves.ts` | 137:31 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `h3 * (p0.outTangent ?? 0) +` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleModulationCurves.ts` | 138:30 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `h4 * (p1.inTangent ?? 0)` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleSPHSystem.ts` | 131:45 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `surfaceTension: config.surfaceTension ?? 0.0728,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleSPHSystem.ts` | 134:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `maxTimeStep: config.maxTimeStep ?? 0.004,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 213:57 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawInheritSize = subEmitter.inheritSize ?...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 219:60 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawInheritRot = subEmitter.inheritRotatio...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 225:62 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawAngVel = overrides.initialAngularVeloc...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 237:57 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawInheritCol = subEmitter.inheritColor ?...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/particles/SpatialHashGrid.ts` | 103:32 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `return this.cells.get(key) ?? [];` | Verify if empty array is valid default, or add proper val... |
| â˜ | `engine/TransformControlsManager.ts` | 144:67 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const anchorX = layerData?.transform?.anchorPoi...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/TransformControlsManager.ts` | 145:67 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const anchorY = layerData?.transform?.anchorPoi...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/TransformControlsManager.ts` | 146:76 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const anchorZ = (layerData?.transform?.anchorPo...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `engine/utils/PerformanceMonitor.ts` | 83:47 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const memoryUsed = memory?.usedJSHeapSize ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `schemas/exports/ati-schema.ts` | 28:32 | NaN literal | ğŸŸ¡ MEDIUM | Numeric Issue | `/** Finite number that rejects NaN and Infinity */` | Add proper validation or use Number.isNaN() for comparisons |
| â˜ | `schemas/exports/ati-schema.ts` | 28:40 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `/** Finite number that rejects NaN and Infinity */` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `schemas/exports/wanmove-schema.ts` | 30:32 | NaN literal | ğŸŸ¡ MEDIUM | Numeric Issue | `/** Finite number that rejects NaN and Infinity */` | Add proper validation or use Number.isNaN() for comparisons |
| â˜ | `schemas/exports/wanmove-schema.ts` | 30:40 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `/** Finite number that rejects NaN and Infinity */` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `schemas/imports/cameraTracking-schema.ts` | 14:32 | NaN literal | ğŸŸ¡ MEDIUM | Numeric Issue | `/** Finite number that rejects NaN and Infinity */` | Add proper validation or use Number.isNaN() for comparisons |
| â˜ | `schemas/imports/cameraTracking-schema.ts` | 14:40 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `/** Finite number that rejects NaN and Infinity */` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `schemas/layers/primitives-schema.ts` | 14:32 | NaN literal | ğŸŸ¡ MEDIUM | Numeric Issue | `/** Finite number that rejects NaN and Infinity */` | Add proper validation or use Number.isNaN() for comparisons |
| â˜ | `schemas/layers/primitives-schema.ts` | 14:40 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `/** Finite number that rejects NaN and Infinity */` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/ai/actionExecutor.ts` | 320:30 | || {} | ğŸŸ¡ MEDIUM | Defensive Guard | `Object.assign(layer.data \|\| {}, properties);` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/ai/actionExecutor.ts` | 730:20 | || {} | ğŸŸ¡ MEDIUM | Defensive Guard | `params: params \|\| {},` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/ai/actionExecutor.ts` | 895:61 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `particleData.systemConfig.gravity = physics.gra...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/ai/actionExecutor.ts` | 899:36 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const windX = physics.wind.x ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/ai/actionExecutor.ts` | 900:36 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const windY = physics.wind.y ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/ai/actionExecutor.ts` | 1038:29 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `(keyframes.zoom?.length \|\| 0);` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/ai/actionExecutor.ts` | 1091:38 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `intensity: shakeConfig.intensity ?? 0.3,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/ai/actionExecutor.ts` | 1096:30 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `decay: shakeConfig.decay ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/ai/actionExecutor.ts` | 1450:28 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `keyframes: keyframes \|\| [],` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/ai/cameraTrackingAI.ts` | 223:40 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `startFrame: Number(seg.startFrame) \|\| 0,` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/ai/cameraTrackingAI.ts` | 224:36 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `endFrame: Number(seg.endFrame) \|\| 0,` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/ai/cameraTrackingAI.ts` | 226:40 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `confidence: Number(seg.confidence) \|\| 0.5,` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/ai/cameraTrackingAI.ts` | 490:43 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const trackPoints = solve.trackPoints3D ?? [];` | Verify if empty array is valid default, or add proper val... |
| â˜ | `services/ai/depthEstimation.ts` | 312:32 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `layers: (parsed.layers \|\| []).map((layer: any) ...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/ai/depthEstimation.ts` | 313:30 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `index: layer.index ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/ai/depthEstimation.ts` | 316:64 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `confidence: Math.max(0, Math.min(1, layer.confi...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/ai/secureActionExecutor.ts` | 115:37 | || {} | ğŸŸ¡ MEDIUM | Defensive Guard | `await logToolCallAudit(name, args \|\| {}, userAc...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/ai/security/hardenedScopeManager.ts` | 894:66 | || {} | ğŸŸ¡ MEDIUM | Defensive Guard | `return hardenedScopeManager.checkToolPermission...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/ai/security/promptInjectionDetector.ts` | 842:64 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const combiningCharsCount = (input.match(/[\u03...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/ai/security/promptInjectionDetector.ts` | 1091:30 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `freq[char] = (freq[char] \|\| 0) + 1;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/ai/security/promptInjectionDetector.ts` | 1262:56 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `nameGroups[layer.name] = (nameGroups[layer.name...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/ai/stateSerializer.ts` | 230:51 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `startFrame: layer.startFrame ?? layer.inPoint ?...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/ai/stateSerializer.ts` | 351:38 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const effectTypes = (layer.effects \|\| []).map((...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/ai/stateSerializer.ts` | 359:51 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `startFrame: layer.startFrame ?? layer.inPoint ?...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/ai/stateSerializer.ts` | 364:33 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `effectCount: (layer.effects \|\| []).length,` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/ai/stateSerializer.ts` | 444:51 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `startFrame: layer.startFrame ?? layer.inPoint ?...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/ai/stateSerializer.ts` | 549:48 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `pointCount: data.controlPoints?.length \|\| 0,` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/ai/stateSerializer.ts` | 557:45 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `emitterCount: data.emitters?.length \|\| 0,` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/ai/stateSerializer.ts` | 595:41 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `shapeCount: data.shapes?.length \|\| 0,` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/ai/stateSerializer.ts` | 717:72 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const beforeKfCount = beforeLayer.transform.pos...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/ai/stateSerializer.ts` | 718:70 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const afterKfCount = afterLayer.transform.posit...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/ai/stateSerializer.ts` | 726:55 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const beforeEffects = beforeLayer.effects?.leng...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/ai/stateSerializer.ts` | 727:58 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const afterLayerEffects = afterLayer.effects?.l...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/aiGeneration.ts` | 459:23 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `(result.masks \|\| []).map((maskBase64: string) =>` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/arcLength.ts` | 131:51 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `point: { x: point.x, y: point.y, z: point.z \|\| ...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/arcLength.ts` | 132:59 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `tangent: { x: tangent.x, y: tangent.y, z: tange...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/arcLength.ts` | 221:60 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const h1 = p1.handleOut \|\| { x: p1.x, y: p1.y, ...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/arcLength.ts` | 222:59 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const h2 = p2.handleIn \|\| { x: p2.x, y: p2.y, z...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/arcLength.ts` | 226:37 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `{ x: p1.x, y: p1.y, z: p1.z \|\| 0 },` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/arcLength.ts` | 227:37 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `{ x: h1.x, y: h1.y, z: h1.z \|\| 0 },` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/arcLength.ts` | 228:37 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `{ x: h2.x, y: h2.y, z: h2.z \|\| 0 },` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/arcLength.ts` | 229:37 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `{ x: p2.x, y: p2.y, z: p2.z \|\| 0 },` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/arcLength.ts` | 342:63 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `startPoint = { x: coords[0], y: coords[1], z: c...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/arcLength.ts` | 347:59 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `new THREE.Vector3(coords[0], coords[1], coords[...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/arcLength.ts` | 351:21 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `coords[5] \|\| 0,` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/arcLength.ts` | 356:21 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `coords[8] \|\| 0,` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/arcLength.ts` | 362:62 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const qcp = { x: coords[0], y: coords[1], z: co...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/arcLength.ts` | 366:22 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `z: coords[5] \|\| 0,` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/audio/enhancedBeatDetection.ts` | 316:62 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const amplitude = analysis.amplitudeEnvelope[cl...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/audio/enhancedBeatDetection.ts` | 317:59 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const bass = analysis.frequencyBands.bass[clamp...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/audio/enhancedBeatDetection.ts` | 318:54 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const flux = analysis.spectralFlux?.[clampedFra...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/audioFeatures.ts` | 440:31 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `windowed[i] = (samples[i] \|\| 0) * windowValue;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/audioFeatures.ts` | 1004:55 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.amplitudeEnvelope[clampedFrame]...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1007:47 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.rmsEnergy[clampedFrame] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1010:54 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.spectralCentroid[clampedFrame] ...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1013:56 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.frequencyBands.sub[clampedFrame...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1016:57 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.frequencyBands.bass[clampedFram...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1019:59 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.frequencyBands.lowMid[clampedFr...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1022:56 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.frequencyBands.mid[clampedFrame...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1025:60 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.frequencyBands.highMid[clampedF...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1028:57 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.frequencyBands.high[clampedFram...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1036:52 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.spectralFlux?.[clampedFrame] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1040:56 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.zeroCrossingRate?.[clampedFrame...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1044:55 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.spectralRolloff?.[clampedFrame]...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1048:56 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.spectralFlatness?.[clampedFrame...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1051:66 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.chromaFeatures?.chromaEnergy[cl...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1055:65 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.chromaFeatures?.chroma[clampedF...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1058:65 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.chromaFeatures?.chroma[clampedF...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1060:65 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.chromaFeatures?.chroma[clampedF...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1063:65 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.chromaFeatures?.chroma[clampedF...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1065:65 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.chromaFeatures?.chroma[clampedF...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1067:65 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.chromaFeatures?.chroma[clampedF...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1070:65 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.chromaFeatures?.chroma[clampedF...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1072:65 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.chromaFeatures?.chroma[clampedF...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1075:65 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.chromaFeatures?.chroma[clampedF...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1077:65 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.chromaFeatures?.chroma[clampedF...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1080:66 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.chromaFeatures?.chroma[clampedF...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1082:66 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.chromaFeatures?.chroma[clampedF...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1087:54 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.harmonicEnergy?.[clampedFrame] ...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1091:56 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.percussiveEnergy?.[clampedFrame...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1095:47 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return analysis.hpRatio?.[clampedFrame] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/audioFeatures.ts` | 1609:36 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `min: new Array(numCoeffs).fill(Infinity),` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/audioFeatures.ts` | 1610:37 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `max: new Array(numCoeffs).fill(-Infinity),` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/audioPathAnimator.ts` | 87:53 | || {} | ğŸŸ¡ MEDIUM | Defensive Guard | `this.config = { ...DEFAULT_CONFIG, ...(config \|...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/audioPathAnimator.ts` | 91:63 | || {} | ğŸŸ¡ MEDIUM | Defensive Guard | `this.config = { ...DEFAULT_CONFIG, ...(pathData...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/audioPathAnimator.ts` | 120:59 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const commands = pathData.match(/[MLCQZ][^MLCQZ...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/audioPathAnimator.ts` | 136:30 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `currentX = nums[0] \|\| 0;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/audioPathAnimator.ts` | 137:30 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `currentY = nums[1] \|\| 0;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/audioReactiveMapping.ts` | 321:66 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const releaseEnvelope = this.releaseEnvelopes.g...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/audioReactiveMapping.ts` | 342:68 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const currentToggle = this.beatToggleStates.get...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/audioReactiveMapping.ts` | 365:61 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const toggle = this.beatToggleStates.get(mappin...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/audioReactiveMapping.ts` | 390:61 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const prevSmoothed = this.smoothedValues.get(ma...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/cameraEnhancements.ts` | 358:31 | || {} | ğŸŸ¡ MEDIUM | Defensive Guard | `if (!before) return after \|\| {};` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/cameraTrackingImport.ts` | 320:9 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `})) \|\| [];` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/cameraTrackingImport.ts` | 335:9 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `})) \|\| [];` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/cameraTrackingImport.ts` | 403:45 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const frameOffset = options.frameOffset ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/cameraTrackingImport.ts` | 705:12 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `z: v.z ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/cameraTrackingImport.ts` | 831:30 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const prevZ = prev.value.z ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/cameraTrackingImport.ts` | 832:30 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const nextZ = next.value.z ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/colorDepthReactivity.ts` | 287:19 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let maxValue = -Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/colorDepthReactivity.ts` | 323:18 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let minValue = Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/comfyui/workflowTemplates.ts` | 1079:31 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `denoise: params.denoise \|\| 0.75,` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/comfyui/workflowTemplates.ts` | 1355:35 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const layers = params.ttmLayers \|\| [];` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/comfyui/workflowTemplates.ts` | 1495:43 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `tweak_index: params.ttmTweakIndex ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/comfyui/workflowTemplates.ts` | 1496:47 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `tstrong_index: params.ttmTstrongIndex ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/comfyui/workflowTemplates.ts` | 1595:43 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `tweak_index: params.ttmTweakIndex ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/comfyui/workflowTemplates.ts` | 1596:47 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `tstrong_index: params.ttmTstrongIndex ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/comfyui/workflowTemplates.ts` | 1655:43 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `tweak_index: params.ttmTweakIndex ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/comfyui/workflowTemplates.ts` | 1656:47 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `tstrong_index: params.ttmTstrongIndex ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/comfyui/workflowTemplates.ts` | 2234:56 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `tracks: JSON.stringify(params.motionData?.track...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/comfyui/workflowTemplates.ts` | 2371:68 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `trajectories: JSON.stringify(params.motionData?...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/comfyui/workflowTemplates.ts` | 2478:60 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `matrices: JSON.stringify(params.cameraData?.mat...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/conditioningRenderer.ts` | 147:25 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `near: config.near ?? 0.1,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/conditioningRenderer.ts` | 149:35 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `depthNear: config.depthNear ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/conditioningRenderer.ts` | 154:45 | ?? {} | ğŸŸ¡ MEDIUM | Defensive Guard | `categoryColors: config.categoryColors ?? {},` | Verify if empty object is valid default, or add proper va... |
| â˜ | `services/conditioningRenderer.ts` | 503:37 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const dataValue = p.dataValue ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/conditioningRenderer.ts` | 721:49 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const x = (parseFloat(row[mapping.xColumn]) \|\| ...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/conditioningRenderer.ts` | 722:49 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const y = (parseFloat(row[mapping.yColumn]) \|\| ...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/conditioningRenderer.ts` | 725:45 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `? (parseFloat(row[mapping.zColumn]) \|\| 0) * zSc...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/conditioningRenderer.ts` | 741:69 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `particle.dataValue = parseFloat(row[mapping.dat...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/dataImport.ts` | 598:14 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let max = -Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/dataImport.ts` | 606:19 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `return max === -Infinity ? 0 : max;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/dataImport.ts` | 623:13 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let min = Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/dataImport.ts` | 631:18 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `return min === Infinity ? 0 : min;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/depthflow.ts` | 280:34 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const phase = motion.phase ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/depthflow.ts` | 293:34 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const phase = motion.phase ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/audioVisualizer.ts` | 277:28 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `value = sub[frame] \|\| 0;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/effects/audioVisualizer.ts` | 279:29 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `value = bass[frame] \|\| 0;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/effects/audioVisualizer.ts` | 281:31 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `value = lowMid[frame] \|\| 0;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/effects/audioVisualizer.ts` | 283:28 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `value = mid[frame] \|\| 0;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/effects/audioVisualizer.ts` | 285:32 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `value = highMid[frame] \|\| 0;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/effects/audioVisualizer.ts` | 287:29 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `value = high[frame] \|\| 0;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/effects/blurRenderer.ts` | 1022:41 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const directionRaw = params.direction ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/blurRenderer.ts` | 1364:41 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const thresholdRaw = params.threshold ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/cinematicBloom.ts` | 674:62 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const threshold = Math.max(0, Math.min(1, param...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/cinematicBloom.ts` | 688:61 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const exposure = Math.max(-5, Math.min(5, param...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/cinematicBloom.ts` | 691:46 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `Math.min(20, params.chromatic_aberration ?? 0),` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/cinematicBloom.ts` | 696:44 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `Math.min(1, params.lens_dirt_intensity ?? 0.5),` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/colorGrading.ts` | 38:36 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const liftRRaw = params.lift_red ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/colorGrading.ts` | 39:38 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const liftGRaw = params.lift_green ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/colorGrading.ts` | 40:37 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const liftBRaw = params.lift_blue ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/colorGrading.ts` | 386:71 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const hueVsHue: Array<{ x: number; y: number }>...` | Verify if empty array is valid default, or add proper val... |
| â˜ | `services/effects/colorGrading.ts` | 387:71 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const hueVsSat: Array<{ x: number; y: number }>...` | Verify if empty array is valid default, or add proper val... |
| â˜ | `services/effects/colorGrading.ts` | 388:71 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const hueVsLum: Array<{ x: number; y: number }>...` | Verify if empty array is valid default, or add proper val... |
| â˜ | `services/effects/colorGrading.ts` | 389:71 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const lumVsSat: Array<{ x: number; y: number }>...` | Verify if empty array is valid default, or add proper val... |
| â˜ | `services/effects/colorGrading.ts` | 390:71 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const satVsSat: Array<{ x: number; y: number }>...` | Verify if empty array is valid default, or add proper val... |
| â˜ | `services/effects/colorRenderer.ts` | 63:43 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawBrightness = params.brightness ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/colorRenderer.ts` | 65:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawContrast = params.contrast ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/colorRenderer.ts` | 194:36 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawHue = params.master_hue ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/colorRenderer.ts` | 196:43 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawSat = params.master_saturation ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/colorRenderer.ts` | 198:44 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawLight = params.master_lightness ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/colorRenderer.ts` | 278:44 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawInputBlack = params.input_black ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/colorRenderer.ts` | 284:46 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawOutputBlack = params.output_black ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/colorRenderer.ts` | 1099:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawExposure = params.exposure ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/colorRenderer.ts` | 1101:35 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawOffset = params.offset ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/colorRenderer.ts` | 1170:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawVibrance = params.vibrance ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/colorRenderer.ts` | 1172:43 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawSaturation = params.saturation ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/colorRenderer.ts` | 1443:35 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawAmount = params.amount ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/colorRenderer.ts` | 1447:41 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawRoundness = params.roundness ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/colorRenderer.ts` | 1551:29 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `domainMin = [parts[0] ?? 0, parts[1] ?? 0, part...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/colorRenderer.ts` | 1551:44 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `domainMin = [parts[0] ?? 0, parts[1] ?? 0, part...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/colorRenderer.ts` | 1551:59 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `domainMin = [parts[0] ?? 0, parts[1] ?? 0, part...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/colorRenderer.ts` | 1567:28 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `data[i * 3] = parts[0] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/colorRenderer.ts` | 1568:32 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `data[i * 3 + 1] = parts[1] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/colorRenderer.ts` | 1569:32 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `data[i * 3 + 2] = parts[2] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/colorRenderer.ts` | 1612:26 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return lut.data[idx] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/generateRenderer.ts` | 183:21 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const g = color.g ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/generateRenderer.ts` | 184:21 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const b = color.b ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/generateRenderer.ts` | 240:40 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const scatter = (params.ramp_scatter ?? 0) / 100;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/generateRenderer.ts` | 241:45 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const blend = (params.blend_with_original ?? 0)...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/generateRenderer.ts` | 281:45 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const frame = (params._frame as number) ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/generateRenderer.ts` | 418:41 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const brightness = (params.brightness ?? 0) / 100;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/generateRenderer.ts` | 421:40 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const evolution = ((params.evolution ?? 0) * Ma...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/generateRenderer.ts` | 506:38 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const intensity = params.intensity ?? 0.5;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/generateRenderer.ts` | 508:36 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const softness = params.softness ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/generateRenderer.ts` | 537:33 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const seed = animate ? (frame ?? 0) * 12345 : 42;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/generateRenderer.ts` | 629:40 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const fadeStart = (params.fade_start ?? 0) / 100;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/generateRenderer.ts` | 731:37 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const softness = (params.softness ?? 0) / 100;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/generateRenderer.ts` | 732:43 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const strokeWidth = params.stroke_width ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/meshDeformRenderer.ts` | 772:31 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const frame = params._frame ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/meshDeformRenderer.ts` | 777:48 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const pins: WarpPin[] = effectInstance?.pins ??...` | Verify if empty array is valid default, or add proper val... |
| â˜ | `services/effects/stylizeRenderer.ts` | 48:41 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawThreshold = params.threshold ?? 0.25;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/stylizeRenderer.ts` | 50:41 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawSmoothing = params.smoothing ?? 0.1;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/stylizeRenderer.ts` | 207:46 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rng = new SeededRandom(seed + (frame ?? 0));` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/stylizeRenderer.ts` | 307:36 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const tracking = params.tracking ?? 0.5;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/stylizeRenderer.ts` | 308:30 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const noise = params.noise ?? 0.3;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/stylizeRenderer.ts` | 310:32 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const jitter = params.jitter ?? 0.5;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/stylizeRenderer.ts` | 321:47 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rng = new SeededRandom(12345 + (frame ?? ...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/stylizeRenderer.ts` | 436:42 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const redOffsetY = params.red_offset_y ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/stylizeRenderer.ts` | 437:46 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const greenOffsetX = params.green_offset_x ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/stylizeRenderer.ts` | 438:46 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const greenOffsetY = params.green_offset_y ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/stylizeRenderer.ts` | 440:44 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const blueOffsetY = params.blue_offset_y ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/stylizeRenderer.ts` | 528:34 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const opacity = params.opacity ?? 0.3;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/stylizeRenderer.ts` | 877:28 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `let phase = params.phase ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/stylizeRenderer.ts` | 880:30 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const decay = params.decay ?? 0.5;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/stylizeRenderer.ts` | 1011:45 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const blend = (params.blend_with_original ?? 0)...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/timeRenderer.ts` | 227:31 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const frame = params._frame ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/timeRenderer.ts` | 244:33 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawDecay = params.decay ?? 0.5;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/timeRenderer.ts` | 287:59 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const intensity = intensities[echoData.echoInde...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/timeRenderer.ts` | 376:31 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const frame = params._frame ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/timeRenderer.ts` | 499:43 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawBias = params.time_offset_bias ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/timeRenderer.ts` | 501:31 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const frame = params._frame ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/timeRenderer.ts` | 583:71 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const freezeAtFrame = Math.max(0, Math.round(pa...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/timeRenderer.ts` | 584:31 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const frame = params._frame ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/effects/timeRenderer.ts` | 848:21 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let bestSAD = Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/export/atiExport.ts` | 297:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const numFrames = points[0]?.length ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/cameraExportFormats.ts` | 105:33 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const prevFrame = prev?.frame ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/depthRenderer.ts` | 60:18 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let minDepth = Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/export/depthRenderer.ts` | 61:19 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let maxDepth = -Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/export/depthRenderer.ts` | 163:59 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return interpolateValue(position.keyframes, fra...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/depthRenderer.ts` | 170:42 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return (value as { z?: number }).z ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/depthRenderer.ts` | 218:20 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `x = value[0] \|\| 0;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/depthRenderer.ts` | 219:20 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `y = value[1] \|\| 0;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/depthRenderer.ts` | 250:27 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `anchorX = (value[0] \|\| 0) / layerWidth + 0.5;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/depthRenderer.ts` | 251:27 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `anchorY = (value[1] \|\| 0) / layerHeight + 0.5;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/exportPipeline.ts` | 317:52 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const az = a.transform?.position?.value?.z ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/exportPipeline.ts` | 318:52 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const bz = b.transform?.position?.value?.z ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/exportPipeline.ts` | 348:53 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `: ((evaluated.transform.rotation as any)?.z ?? 0);` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/vaceControlExport.ts` | 181:37 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `{ x: p0.x, y: p0.y, z: p0.z \|\| 0 },` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/vaceControlExport.ts` | 183:38 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `x: p0.x + (p0.handleOut?.x \|\| 0),` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/vaceControlExport.ts` | 184:38 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `y: p0.y + (p0.handleOut?.y \|\| 0),` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/vaceControlExport.ts` | 185:20 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `z: (p0.z \|\| 0) + (p0.handleOut?.z \|\| 0),` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/vaceControlExport.ts` | 185:45 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `z: (p0.z \|\| 0) + (p0.handleOut?.z \|\| 0),` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/vaceControlExport.ts` | 188:37 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `x: p1.x + (p1.handleIn?.x \|\| 0),` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/vaceControlExport.ts` | 189:37 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `y: p1.y + (p1.handleIn?.y \|\| 0),` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/vaceControlExport.ts` | 190:20 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `z: (p1.z \|\| 0) + (p1.handleIn?.z \|\| 0),` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/vaceControlExport.ts` | 190:44 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `z: (p1.z \|\| 0) + (p1.handleIn?.z \|\| 0),` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/vaceControlExport.ts` | 192:37 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `{ x: p1.x, y: p1.y, z: p1.z \|\| 0 },` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/vaceControlExport.ts` | 204:43 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `{ x: last.x, y: last.y, z: last.z \|\| 0 },` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/vaceControlExport.ts` | 206:42 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `x: last.x + (last.handleOut?.x \|\| 0),` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/vaceControlExport.ts` | 207:42 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `y: last.y + (last.handleOut?.y \|\| 0),` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/vaceControlExport.ts` | 208:22 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `z: (last.z \|\| 0) + (last.handleOut?.z \|\| 0),` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/vaceControlExport.ts` | 208:49 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `z: (last.z \|\| 0) + (last.handleOut?.z \|\| 0),` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/vaceControlExport.ts` | 211:43 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `x: first.x + (first.handleIn?.x \|\| 0),` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/vaceControlExport.ts` | 212:43 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `y: first.y + (first.handleIn?.y \|\| 0),` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/vaceControlExport.ts` | 213:23 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `z: (first.z \|\| 0) + (first.handleIn?.z \|\| 0),` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/vaceControlExport.ts` | 213:50 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `z: (first.z \|\| 0) + (first.handleIn?.z \|\| 0),` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/vaceControlExport.ts` | 215:46 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `{ x: first.x, y: first.y, z: first.z \|\| 0 },` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/export/vaceControlExport.ts` | 556:36 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `startFrame: options.startFrame ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/vaceControlExport.ts` | 560:44 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `rotationOffset: options.rotationOffset ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/vaceControlExport.ts` | 580:36 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `startFrame: options.startFrame ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/wanMoveExport.ts` | 203:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const dataVal = normalizedData[i] ?? 0.5;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/wanMoveExport.ts` | 761:24 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const dt = config.dt ?? 0.005;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/wanMoveExport.ts` | 836:24 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const dt = config.dt ?? 0.02;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/wanMoveExport.ts` | 906:24 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const dt = config.dt ?? 0.01;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/wanMoveExport.ts` | 1053:37 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const padding = shape.padding ?? 0.1;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/wanMoveExport.ts` | 1188:40 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const morphNoise = config.morphNoise ?? 0.1;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/wanMoveExport.ts` | 1316:34 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const damping = config.damping ?? 0.98;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/wanMoveFlowGenerators.ts` | 106:38 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const noise = params.noiseStrength ?? 0.1;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/wanMoveFlowGenerators.ts` | 168:34 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const speed = params.waveSpeed ?? 0.1;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/wanMoveFlowGenerators.ts` | 170:38 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const noise = params.noiseStrength ?? 0.05;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/wanMoveFlowGenerators.ts` | 235:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const decay = params.explosionDecay ?? 0.95;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/wanMoveFlowGenerators.ts` | 237:38 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const noise = params.noiseStrength ?? 0.1;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/wanMoveFlowGenerators.ts` | 311:42 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const strength = params.vortexStrength ?? 0.5;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/wanMoveFlowGenerators.ts` | 314:38 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const noise = params.noiseStrength ?? 0.05;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/wanMoveFlowGenerators.ts` | 371:35 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const curve = params.riverCurve ?? 0.5;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/wanMoveFlowGenerators.ts` | 372:45 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const turbulence = params.riverTurbulence ?? 0.1;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/wanMoveFlowGenerators.ts` | 560:41 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const cohesion = params.swarmCohesion ?? 0.01;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/export/wanMoveFlowGenerators.ts` | 562:43 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const alignment = params.swarmAlignment ?? 0.05;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 39:26 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const dx = (toPoint[0] ?? 0) - (fromPoint[0] ??...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 39:48 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const dx = (toPoint[0] ?? 0) - (fromPoint[0] ??...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 40:26 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const dy = (toPoint[1] ?? 0) - (fromPoint[1] ??...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 40:48 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const dy = (toPoint[1] ?? 0) - (fromPoint[1] ??...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 41:26 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const dz = (toPoint[2] ?? 0) - (fromPoint[2] ??...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 41:48 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const dz = (toPoint[2] ?? 0) - (fromPoint[2] ??...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 63:22 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const dxVal = dx ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 64:22 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const dyVal = dy ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 75:23 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const dx = vel[0] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 76:23 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const dy = vel[1] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 119:27 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `let x = px - (anchor[0] ?? 0);` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 120:27 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `let y = py - (anchor[1] ?? 0);` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 121:27 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `let z = pz - (anchor[2] ?? 0);` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 129:43 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rz = ((rotation[2] ?? rotation[0] ?? 0) *...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 130:28 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const ry = ((rotation[1] ?? 0) * Math.PI) / 180;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 131:28 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rx = ((rotation[0] ?? 0) * Math.PI) / 180;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 149:21 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `x3 += position[0] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 150:21 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `y3 += position[1] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 151:21 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `z3 += position[2] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 192:31 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const x = px - (position[0] ?? 0);` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 193:31 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const y = py - (position[1] ?? 0);` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 194:31 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const z = pz - (position[2] ?? 0);` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 197:44 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rz = (-(rotation[2] ?? rotation[0] ?? 0) ...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 198:29 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const ry = (-(rotation[1] ?? 0) * Math.PI) / 180;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 199:29 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rx = (-(rotation[0] ?? 0) * Math.PI) / 180;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 230:19 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `x3 += anchor[0] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 231:19 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `y3 += anchor[1] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/coordinateConversion.ts` | 232:19 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `z3 += anchor[2] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 479:38 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `numLayers: ctx.allLayers?.length ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 513:72 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return getLayerEffectParam?.(layerId, effectNam...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 518:63 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `getLayerEffectParam?.(layerId, effectName, "val...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 560:68 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `index: ctx.allLayers?.find((l) => l.id === laye...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 563:69 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `rotation: getLayerProperty?.(layerId, "transfor...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 622:42 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return eff.parameters[paramName] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 626:46 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `accessor.value = eff?.parameters.value ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 627:74 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `accessor.slider = eff?.parameters.slider ?? eff...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 629:71 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `accessor.angle = eff?.parameters.angle ?? eff?....` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 104:14 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let minX = Infinity,` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/expressions/layerContentExpressions.ts` | 105:12 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `minY = Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/expressions/layerContentExpressions.ts` | 106:15 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let maxX = -Infinity,` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/expressions/layerContentExpressions.ts` | 107:13 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `maxY = -Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/expressions/layerContentExpressions.ts` | 126:30 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `extractPaths(data.contents ?? []);` | Verify if empty array is valid default, or add proper val... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 133:36 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const vertices = path.vertices ?? [];` | Verify if empty array is valid default, or add proper val... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 135:33 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const x = vertex.point?.x ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 136:33 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const y = vertex.point?.y ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 164:35 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `findStrokeWidth(data.contents ?? []);` | Verify if empty array is valid default, or add proper val... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 232:41 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `strokeWidth: layerData?.strokeWidth ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 233:40 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `tracking: layerData?.letterSpacing ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/loopExpressions.ts` | 95:53 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return value.map((v, i) => v + (velocity[i] ?? ...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/loopExpressions.ts` | 167:53 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return value.map((v, i) => v - (velocity[i] ?? ...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/motionExpressions.ts` | 60:19 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return arr[0] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/motionExpressions.ts` | 68:17 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `x: arr[0] ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/motionExpressions.ts` | 69:17 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `y: arr[1] ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/motionExpressions.ts` | 72:25 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `result.z = arr[2] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/motionExpressions.ts` | 127:41 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const componentVel = velocityArr[i] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/sesEvaluator.ts` | 171:5 | NaN literal | ğŸŸ¡ MEDIUM | Numeric Issue | `NaN: Number.NaN,` | Add proper validation or use Number.isNaN() for comparisons |
| â˜ | `services/expressions/sesEvaluator.ts` | 171:17 | NaN literal | ğŸŸ¡ MEDIUM | Numeric Issue | `NaN: Number.NaN,` | Add proper validation or use Number.isNaN() for comparisons |
| â˜ | `services/expressions/sesEvaluator.ts` | 227:31 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const diff = (arrA[i] ?? 0) - (arrB[i] ?? 0);` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/sesEvaluator.ts` | 227:48 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const diff = (arrA[i] ?? 0) - (arrB[i] ?? 0);` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/sesEvaluator.ts` | 241:30 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `result.push((arrA[i] ?? 0) + (arrB[i] ?? 0));` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/sesEvaluator.ts` | 241:47 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `result.push((arrA[i] ?? 0) + (arrB[i] ?? 0));` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/sesEvaluator.ts` | 254:30 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `result.push((arrA[i] ?? 0) - (arrB[i] ?? 0));` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/sesEvaluator.ts` | 254:47 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `result.push((arrA[i] ?? 0) - (arrB[i] ?? 0));` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/sesEvaluator.ts` | 273:30 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `result.push((arrA[i] ?? 0) * (arrB[i] ?? 0));` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/sesEvaluator.ts` | 273:47 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `result.push((arrA[i] ?? 0) * (arrB[i] ?? 0));` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/sesEvaluator.ts` | 295:46 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `result.push(divisor !== 0 ? (arrA[i] ?? 0) / di...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/sesEvaluator.ts` | 316:5 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `Infinity,` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/expressions/sesEvaluator.ts` | 317:5 | NaN literal | ğŸŸ¡ MEDIUM | Numeric Issue | `NaN,` | Add proper validation or use Number.isNaN() for comparisons |
| â˜ | `services/expressions/sesEvaluator.ts` | 560:9 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `Infinity,` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/expressions/sesEvaluator.ts` | 561:9 | NaN literal | ğŸŸ¡ MEDIUM | Numeric Issue | `NaN,` | Add proper validation or use Number.isNaN() for comparisons |
| â˜ | `services/expressions/textAnimator.ts` | 97:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const wordIndex = ${ctx.wordIndex ?? 0};` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/textAnimator.ts` | 98:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const lineIndex = ${ctx.lineIndex ?? 0};` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/textAnimator.ts` | 99:41 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const charInWord = ${ctx.charInWord ?? 0};` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/textAnimator.ts` | 100:41 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const charInLine = ${ctx.charInLine ?? 0};` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/vectorMath.ts` | 20:23 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const aVal = a[i] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/vectorMath.ts` | 21:23 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const bVal = b[i] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/vectorMath.ts` | 35:23 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const aVal = a[i] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/vectorMath.ts` | 36:23 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const bVal = b[i] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/vectorMath.ts` | 60:25 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const aVal = a[i] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/vectorMath.ts` | 61:25 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const bVal = b[i] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/vectorMath.ts` | 87:25 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const aVal = a[i] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/vectorMath.ts` | 114:23 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const aVal = a[i] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/vectorMath.ts` | 115:23 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const bVal = b[i] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/vectorMath.ts` | 127:19 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const ax = a[0] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/vectorMath.ts` | 128:19 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const ay = a[1] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/vectorMath.ts` | 129:19 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const az = a[2] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/vectorMath.ts` | 130:19 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const bx = b[0] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/vectorMath.ts` | 131:19 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const by = b[1] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/vectorMath.ts` | 132:19 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const bz = b[2] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/vectorMath.ts` | 150:23 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const aVal = a[i] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/vectorMath.ts` | 151:23 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const bVal = b[i] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/expressions/vectorMath.ts` | 169:53 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `const minVal = Array.isArray(min) ? (min[i] ?? ...` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/expressions/vectorMath.ts` | 170:52 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `const maxVal = Array.isArray(max) ? (max[i] ?? ...` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/expressions/workerEvaluator.ts` | 74:42 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `req.resolve({ value: data.result ?? 0, timedOut...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/gpuEffectDispatcher.ts` | 655:35 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `centerX: params.centerX ?? 0.5,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/gpuEffectDispatcher.ts` | 656:35 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `centerY: params.centerY ?? 0.5,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/gpuEffectDispatcher.ts` | 663:31 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `angle: params.angle ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/gpuEffectDispatcher.ts` | 670:42 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `brightness: (params.brightness ?? 0) / 100, // ...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/gpuEffectDispatcher.ts` | 671:38 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `contrast: (params.contrast ?? 0) / 100,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/gpuEffectDispatcher.ts` | 680:42 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `saturation: (params.saturation ?? 0) / 100,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/gpuEffectDispatcher.ts` | 681:27 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `hue: params.hue ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/gpuEffectDispatcher.ts` | 686:42 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `inputBlack: (params.inputBlack ?? 0) / 255,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/gpuEffectDispatcher.ts` | 689:44 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `outputBlack: (params.outputBlack ?? 0) / 255,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/gpuEffectDispatcher.ts` | 697:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `threshold: params.threshold ?? 0.5,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/gpuEffectDispatcher.ts` | 706:46 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `bend: params.amount ?? params.bend ?? 0.5,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/gpuEffectDispatcher.ts` | 707:37 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `hDistort: params.hDistort ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/gpuEffectDispatcher.ts` | 708:37 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `vDistort: params.vDistort ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/gpuEffectDispatcher.ts` | 733:29 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `iTime: (params._frame ?? 0) / (params._fps ?? 30),` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/gpuEffectDispatcher.ts` | 734:29 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `iFrame: params._frame ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/gpuEffectDispatcher.ts` | 742:31 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `angle: params.angle ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/gpuEffectDispatcher.ts` | 761:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `threshold: params.threshold ?? 0.1,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/gpuEffectDispatcher.ts` | 769:67 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `lineIntensity: params.intensity ?? params.lineI...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/gpuEffectDispatcher.ts` | 776:31 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `angle: params.angle ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/gpuEffectDispatcher.ts` | 783:63 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `noiseStrength: params.noise ?? params.noiseStre...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/gpuEffectDispatcher.ts` | 784:73 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `scanlineStrength: params.scanlines ?? params.sc...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/gpuEffectDispatcher.ts` | 793:35 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `centerX: params.centerX ?? 0.5,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/gpuEffectDispatcher.ts` | 794:35 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `centerY: params.centerY ?? 0.5,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/gpuParticleRenderer.ts` | 218:53 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `motionBlurStrength: config.motionBlurStrength ?...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/imageTrace.ts` | 404:28 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const tl = bitmap[idx] \|\| 0;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/imageTrace.ts` | 405:32 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const tr = bitmap[idx + 1] \|\| 0;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/imageTrace.ts` | 406:36 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const bl = bitmap[idx + width] \|\| 0;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/imageTrace.ts` | 407:40 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const br = bitmap[idx + width + 1] \|\| 0;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/layerEvaluationCache.ts` | 49:46 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const current = layerVersions.get(layerId) ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/layerEvaluationCache.ts` | 66:37 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return layerVersions.get(layerId) ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/layerEvaluationCache.ts` | 390:51 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const start = layer.startFrame ?? layer.inPoint...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/layerTime.ts` | 125:44 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const layerStartFrame = layer.startFrame ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/layerTime.ts` | 263:34 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const start = layer.startFrame ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/maskGenerator.ts` | 343:17 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let minR0 = Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/matteExporter.ts` | 174:55 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const start = layer.startFrame ?? layer.inPoint...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/matteExporter.ts` | 194:55 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const start = layer.startFrame ?? layer.inPoint...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/matteExporter.ts` | 517:42 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `for (const mod of data.modulations ?? []) {` | Verify if empty array is valid default, or add proper val... |
| â˜ | `services/matteExporter.ts` | 522:59 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const warmupFrames = data.systemConfig.warmupPe...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/matteExporter.ts` | 550:55 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const start = layer.startFrame ?? layer.inPoint...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/meshDeformation3D.ts` | 484:48 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const pins = this.pinsByLayer.get(layerId) ?? [];` | Verify if empty array is valid default, or add proper val... |
| â˜ | `services/meshDeformation3D.ts` | 496:42 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `return this.pinsByLayer.get(layerId) ?? [];` | Verify if empty array is valid default, or add proper val... |
| â˜ | `services/meshParticleManager.ts` | 164:61 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `vertexCount: geometry.getAttribute("position")?...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/meshParticleManager.ts` | 167:53 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `: (geometry.getAttribute("position")?.count ?? ...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/meshParticleManager.ts` | 208:28 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `scale: options.scale ?? 0.01,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/meshParticleManager.ts` | 211:52 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `simplifyTolerance: options.simplifyTolerance ??...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/meshParticleManager.ts` | 233:28 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `scale: options.scale ?? 0.01,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/meshParticleManager.ts` | 236:52 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `simplifyTolerance: options.simplifyTolerance ??...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/meshParticleManager.ts` | 438:35 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `metalness: config.metalness ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/meshParticleManager.ts` | 439:35 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `roughness: config.roughness ?? 0.5,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/meshParticleManager.ts` | 441:51 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `emissiveIntensity: config.emissiveIntensity ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/meshWarpDeformation.ts` | 658:46 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `return this.meshCache.get(layerId)?.pins ?? [];` | Verify if empty array is valid default, or add proper val... |
| â˜ | `services/midi/MIDIService.ts` | 534:75 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `inputValue = this.getCCValue(message.channel, m...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/midiToKeyframes.ts` | 661:67 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `(config.noteRange?.max ?? 127) - (config.noteRa...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/midiToKeyframes.ts` | 663:53 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `(note.noteNumber - (config.noteRange?.min ?? 0)...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/modelExport.ts` | 141:52 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const numFrames = trajectories[0]?.points.lengt...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/modelExport.ts` | 251:58 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const layerStart = layer.startFrame ?? layer.in...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/modelExport.ts` | 443:56 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const layerStart = layer.startFrame ?? layer.in...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/modelExport.ts` | 476:63 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const layerStartFrame = layer.startFrame ?? lay...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/modelExport.ts` | 1189:63 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const shape = [trajectories.length, trajectorie...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/motionRecording.ts` | 560:14 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let minX = Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/motionRecording.ts` | 561:15 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let maxX = -Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/motionRecording.ts` | 562:14 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let minY = Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/motionRecording.ts` | 563:15 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let maxY = -Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/particleSystem.ts` | 447:44 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `(this.emissionAccumulators.get(id) \|\| 0) + part...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/particleSystem.ts` | 1143:47 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const coneRadius = emitter.coneRadius ?? 0.1;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/particleSystem.ts` | 1144:47 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const coneLength = emitter.coneLength ?? 0.2;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/particleSystem.ts` | 1233:63 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const currentT = this.sequentialEmitT.get(emitt...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/particleSystem.ts` | 1557:49 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const threshold = emitter.emissionThreshold ?? ...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/particleSystem.ts` | 1639:50 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const threshold = emitter.depthEdgeThreshold ??...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/particleSystem.ts` | 1855:53 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const turbFields = this.config.turbulenceFields...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/particleSystem.ts` | 1887:41 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `return this.config.turbulenceFields \|\| [];` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/particleSystem.ts` | 1899:49 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const subEmitters = this.config.subEmitters \|\| [];` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/particleSystem.ts` | 1974:36 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `return this.config.subEmitters \|\| [];` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/particleSystem.ts` | 2140:48 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `angularVelocity: state.angularVelocity ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/particleSystem.ts` | 2142:40 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `spriteIndex: state.spriteIndex ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/particleSystem.ts` | 2144:46 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `collisionCount: state.collisionCount ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/pathMorphing.ts` | 457:22 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let bestDistance = Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/persistenceService.ts` | 354:54 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `request.onsuccess = () => resolve(request.resul...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/persistenceService.ts` | 444:54 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `request.onsuccess = () => resolve(request.resul...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/persistenceService.ts` | 588:31 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `usage: estimate.usage \|\| 0,` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/persistenceService.ts` | 589:31 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `quota: estimate.quota \|\| 0,` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/physics/JointSystem.ts` | 561:49 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const dampingRatio = joint.dampingRatio \|\| 0.7;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/physics/PhysicsEngine.ts` | 918:46 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const brokenConstraints = (constraintIds \|\| [])` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/plugins/PluginManager.ts` | 384:57 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `getCurrentFrame: () => this.getCurrentFrameFn?....` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/plugins/PluginManager.ts` | 385:61 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `getSelectedLayers: () => this.getSelectedLayers...` | Verify if empty array is valid default, or add proper val... |
| â˜ | `services/preprocessorService.ts` | 645:31 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `return data.preprocessors \|\| [];` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/projectCollection.ts` | 160:56 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `: (assetData as ArrayBuffer).byteLength) \|\| 0;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/projectStorage.ts` | 168:52 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `logger.info(`Found ${result.projects?.length \|\|...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/propertyDriver.ts` | 470:42 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return value + (transform.amount ?? 0);` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/propertyDriver.ts` | 474:29 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `transform.min ?? -Infinity,` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/propertyDriver.ts` | 475:37 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `Math.min(transform.max ?? Infinity, value),` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/propertyDriver.ts` | 480:47 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const smoothing = transform.smoothing ?? 0.5;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/propertyDriver.ts` | 490:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const inMin = transform.inMin ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/propertyDriver.ts` | 492:41 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const outMin = transform.outMin ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/propertyDriver.ts` | 505:45 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return value > (transform.threshold ?? 0.5) ? 1...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/propertyDriver.ts` | 510:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const phase = transform.phase ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/propertyDriver.ts` | 563:63 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const baseValue = baseValues.get(driver.targetP...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/propertyDriver.ts` | 652:45 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `driver.audioThreshold = options.threshold ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/propertyDriver.ts` | 747:45 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `driver.audioThreshold = options.threshold ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/propertyDriver.ts` | 751:37 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const minI = options.minIntensity ?? 0.2;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/propertyEvaluator.ts` | 175:62 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `if (normalizedPath === "position") return [p.x,...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/propertyEvaluator.ts` | 178:53 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `if (normalizedPath === "position.z") return p.z...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/propertyEvaluator.ts` | 211:29 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return [a.x, a.y, a.z ?? 0];` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/propertyEvaluator.ts` | 215:51 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `if (normalizedPath.endsWith(".z")) return a.z ?...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/propertyEvaluator.ts` | 220:27 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return [o.x, o.y, o.z ?? 0];` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/propertyEvaluator.ts` | 236:50 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return [posValue.x, posValue.y, posValue.z ?? 0];` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/propertyEvaluator.ts` | 281:66 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `audioValue = audioAnalysis.amplitudeEnvelope?.[...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/propertyEvaluator.ts` | 284:69 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `audioValue = audioAnalysis.frequencyBands?.bass...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/propertyEvaluator.ts` | 287:68 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `audioValue = audioAnalysis.frequencyBands?.mid?...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/propertyEvaluator.ts` | 290:69 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `audioValue = audioAnalysis.frequencyBands?.high...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/propertyEvaluator.ts` | 298:66 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `audioValue = audioAnalysis.amplitudeEnvelope?.[...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/renderQueue/RenderQueueManager.ts` | 214:56 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `request.onsuccess = () => resolve(request.resul...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/renderQueue/RenderQueueManager.ts` | 275:56 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `request.onsuccess = () => resolve(request.resul...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/renderQueue/RenderQueueManager.ts` | 808:70 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `? (this.jobs.get(this.activeJobId)?.progress.fr...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/rovingKeyframes.ts` | 38:22 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return [value[0] \|\| 0, value[1] \|\| 0, value[2] ...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/rovingKeyframes.ts` | 38:37 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return [value[0] \|\| 0, value[1] \|\| 0, value[2] ...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/rovingKeyframes.ts` | 38:52 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return [value[0] \|\| 0, value[1] \|\| 0, value[2] ...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/rovingKeyframes.ts` | 40:19 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return [value.x \|\| 0, value.y \|\| 0, value.z \|\| 0];` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/rovingKeyframes.ts` | 40:33 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return [value.x \|\| 0, value.y \|\| 0, value.z \|\| 0];` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/rovingKeyframes.ts` | 40:47 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return [value.x \|\| 0, value.y \|\| 0, value.z \|\| 0];` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/security/auditLog.ts` | 356:35 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const offset = query.offset ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/security/auditLog.ts` | 441:45 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `(stats.byCategory[entry.category] \|\| 0) + 1;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/security/auditLog.ts` | 445:45 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `(stats.bySeverity[entry.severity] \|\| 0) + 1;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/security/auditLog.ts` | 450:47 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `(stats.byToolName[entry.toolName] \|\| 0) + 1;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/security/rateLimits.ts` | 230:18 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `maxPerDay: Infinity,` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/security/rateLimits.ts` | 231:49 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `callsThisSession: sessionCounts[toolName] \|\| 0,` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/security/rateLimits.ts` | 239:46 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const callsToday = stored.counts[toolName] \|\| 0;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/security/rateLimits.ts` | 240:52 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const callsThisSession = sessionCounts[toolName...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/security/rateLimits.ts` | 291:54 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `stored.counts[toolName] = (stored.counts[toolNa...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/security/rateLimits.ts` | 295:54 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `sessionCounts[toolName] = (sessionCounts[toolNa...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/security/rateLimits.ts` | 318:44 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const oldCount = sessionCounts[toolName] \|\| 0;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/security/rateLimits.ts` | 392:9 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `: Infinity,` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/security/urlValidator.ts` | 306:42 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const matches = text.match(urlPattern) \|\| [];` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/segmentToMask.ts` | 90:33 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const width = data[0]?.length ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/shape/pathModifiers.ts` | 264:14 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let minX = Infinity,` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/shape/pathModifiers.ts` | 265:12 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `minY = Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/shape/pathModifiers.ts` | 266:15 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let maxX = -Infinity,` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/shape/pathModifiers.ts` | 267:13 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `maxY = -Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/shape/pathModifiers.ts` | 703:14 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let minY = Infinity,` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/shape/pathModifiers.ts` | 704:13 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `maxY = -Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/spriteSheet.ts` | 278:43 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `frameWidth: frames[0]?.source.width ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/spriteSheet.ts` | 279:45 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `frameHeight: frames[0]?.source.height ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/svgExport.ts` | 267:42 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `transforms.push(`translate(${pos.x \|\| 0},${pos....` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/svgExport.ts` | 267:56 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `transforms.push(`translate(${pos.x \|\| 0},${pos....` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/svgExport.ts` | 287:16 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let minX = Infinity,` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/svgExport.ts` | 288:14 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `minY = Infinity,` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/svgExport.ts` | 289:15 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `maxX = -Infinity,` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/svgExport.ts` | 290:15 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `maxY = -Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/svgExtrusion.ts` | 355:16 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let minX = Infinity,` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/svgExtrusion.ts` | 356:14 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `minY = Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/svgExtrusion.ts` | 357:17 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let maxX = -Infinity,` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/svgExtrusion.ts` | 358:15 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `maxY = -Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/svgExtrusion.ts` | 377:66 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const strokeWidth = shapePath.userData?.style?....` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/svgExtrusion.ts` | 439:16 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let minX = Infinity,` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/svgExtrusion.ts` | 440:14 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `minY = Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/svgExtrusion.ts` | 441:17 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let maxX = -Infinity,` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/svgExtrusion.ts` | 442:15 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `maxY = -Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/svgExtrusion.ts` | 506:35 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `bevelSize: config.bevelSize ?? 0.5,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/svgExtrusion.ts` | 507:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `bevelOffset: config.bevelOffset ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/svgExtrusion.ts` | 756:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `else totalIndices += pos?.count ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/svgExtrusion.ts` | 868:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `metalness: config.metalness ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/svgExtrusion.ts` | 869:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `roughness: config.roughness ?? 0.5,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/svgExtrusion.ts` | 871:55 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `emissiveIntensity: config.emissiveIntensity ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/svgExtrusion.ts` | 876:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `metalness: config.metalness ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/svgExtrusion.ts` | 877:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `roughness: config.roughness ?? 0.5,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/svgExtrusion.ts` | 879:55 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `emissiveIntensity: config.emissiveIntensity ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/svgExtrusion.ts` | 1003:34 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `config.simplifyTolerance ?? 0.1,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/templateBuilder.ts` | 778:35 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `items: groups.get(group.id) \|\| [],` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/textMeasurement.ts` | 84:58 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `actualBoundingBoxLeft: metrics.actualBoundingBo...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textMeasurement.ts` | 168:44 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const letterSpacing = data.letterSpacing \|\| 0;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `services/textOnPath.ts` | 205:27 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const z0 = p0.depth ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textOnPath.ts` | 206:27 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const z1 = p1.depth ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textOnPath.ts` | 211:35 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `p0.x + (p0.handleOut?.x ?? 0),` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textOnPath.ts` | 212:37 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `-(p0.y + (p0.handleOut?.y ?? 0)),` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textOnPath.ts` | 216:34 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `p1.x + (p1.handleIn?.x ?? 0),` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textOnPath.ts` | 217:36 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `-(p1.y + (p1.handleIn?.y ?? 0)),` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textOnPath.ts` | 231:37 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const zLast = lastPoint.depth ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textOnPath.ts` | 232:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const zFirst = firstPoint.depth ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textOnPath.ts` | 237:49 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `lastPoint.x + (lastPoint.handleOut?.x ?? 0),` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textOnPath.ts` | 238:51 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `-(lastPoint.y + (lastPoint.handleOut?.y ?? 0)),` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textOnPath.ts` | 242:50 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `firstPoint.x + (firstPoint.handleIn?.x ?? 0),` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textOnPath.ts` | 243:52 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `-(firstPoint.y + (firstPoint.handleIn?.y ?? 0)),` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textOnPath.ts` | 268:45 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return this.arcLengthTable?.totalLength ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textShaper.ts` | 274:80 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `lineGap: (font.tables as { hhea?: { lineGap?: n...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textShaper.ts` | 342:48 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const advanceWidth = (glyph.advanceWidth ?? 0) ...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textShaper.ts` | 448:48 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const advanceWidth = (glyph.advanceWidth ?? 0) ...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textShaper.ts` | 519:47 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `letterSpacing: options?.letterSpacing ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textShaper.ts` | 541:47 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `letterSpacing: options?.letterSpacing ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textToVector.ts` | 256:27 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `(glyph.advanceWidth ?? 0) * (opts.fontSize / fo...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textToVector.ts` | 401:67 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const layerX = (textLayer.transform?.position?....` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textToVector.ts` | 402:67 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const layerY = (textLayer.transform?.position?....` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textToVector.ts` | 575:19 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `x: options?.x ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textToVector.ts` | 576:19 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `y: options?.y ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textToVector.ts` | 578:43 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `letterSpacing: options?.letterSpacing ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/textToVector.ts` | 623:27 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `(glyph.advanceWidth ?? 0) * (fontSize / font.un...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/timelineSnap.ts` | 143:60 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const layerStart = layer.startFrame ?? layer.in...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/timelineSnap.ts` | 250:32 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `return audioAnalysis?.onsets ?? [];` | Verify if empty array is valid default, or add proper val... |
| â˜ | `services/timelineSnap.ts` | 257:28 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `return peakData?.indices ?? [];` | Verify if empty array is valid default, or add proper val... |
| â˜ | `services/trackPointService.ts` | 495:18 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let minFrame = Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/trackPointService.ts` | 496:19 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let maxFrame = -Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/vectorize.ts` | 549:14 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let minX = Infinity,` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/vectorize.ts` | 550:12 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `minY = Infinity,` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/vectorize.ts` | 551:13 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `maxX = -Infinity,` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/vectorize.ts` | 552:13 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `maxY = -Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `services/vectorLOD.ts` | 201:51 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `let bestDiff = Math.abs((levels[0].complexity ?...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/vectorLOD.ts` | 204:47 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const diff = Math.abs((level.complexity ?? 0) -...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/videoDecoder.ts` | 422:42 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `width: this.videoInfo?.width ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/videoDecoder.ts` | 423:44 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `height: this.videoInfo?.height ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/visionAuthoring/MotionIntentResolver.ts` | 89:40 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `temperature: config?.temperature ?? 0.7,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/visionAuthoring/MotionIntentResolver.ts` | 339:42 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const depth = depthMap[pixelIndex] ?? 0.5;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/visionAuthoring/MotionIntentResolver.ts` | 550:41 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `confidence: parsed.confidence ?? 0.8,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/visionAuthoring/MotionIntentResolver.ts` | 551:47 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `cameraIntents: parsed.cameraIntents ?? [],` | Verify if empty array is valid default, or add proper val... |
| â˜ | `services/visionAuthoring/MotionIntentResolver.ts` | 552:47 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `splineIntents: parsed.splineIntents ?? [],` | Verify if empty array is valid default, or add proper val... |
| â˜ | `services/visionAuthoring/MotionIntentResolver.ts` | 553:51 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `particleIntents: parsed.particleIntents ?? [],` | Verify if empty array is valid default, or add proper val... |
| â˜ | `services/visionAuthoring/MotionIntentResolver.ts` | 554:45 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `layerIntents: parsed.layerIntents ?? [],` | Verify if empty array is valid default, or add proper val... |
| â˜ | `services/visionAuthoring/MotionIntentTranslator.ts` | 253:32 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `intent.noiseAmount ?? 0.5,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/visionAuthoring/MotionIntentTranslator.ts` | 310:24 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `depth: p.depth ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/visionAuthoring/MotionIntentTranslator.ts` | 444:26 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `intent.phase ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/visionAuthoring/MotionIntentTranslator.ts` | 458:26 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `intent.phase ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/visionAuthoring/MotionIntentTranslator.ts` | 472:26 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `intent.phase ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/visionAuthoring/MotionIntentTranslator.ts` | 486:26 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `intent.phase ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/visionAuthoring/MotionIntentTranslator.ts` | 495:26 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `intent.phase ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/visionAuthoring/MotionIntentTranslator.ts` | 509:26 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `intent.phase ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/webgpuRenderer.ts` | 1217:32 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `styleMap[params.style] ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/webgpuRenderer.ts` | 1219:25 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `params.hDistort ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/webgpuRenderer.ts` | 1220:25 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `params.vDistort ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/webgpuRenderer.ts` | 1252:24 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `params.threshold ?? 0.5,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `services/workerPool.ts` | 175:25 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let bestTaskCount = Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `stores/animationStore/index.ts` | 82:57 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `effectiveStartFrame: (state) => state.workAreaS...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/animationStore/index.ts` | 313:55 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const targetFrame = frame ?? comp?.currentFrame...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/assetStore.ts` | 266:54 | || {} | ğŸŸ¡ MEDIUM | Defensive Guard | `const presetConfig = presetConfigs[presetName] ...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/audioKeyframeStore.ts` | 287:57 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const frame = store.getActiveComp()?.currentFra...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/audioStore.ts` | 106:54 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `duration: (state) => state.audioBuffer?.duratio...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/audioStore.ts` | 107:46 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `bpm: (state) => state.audioAnalysis?.bpm ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/audioStore.ts` | 108:60 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `frameCount: (state) => state.audioAnalysis?.fra...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/audioStore.ts` | 279:55 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `frame ?? store?.getActiveComp()?.currentFrame ?...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/audioStore.ts` | 330:57 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const existing = this.legacyMappings.get(layerI...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/audioStore.ts` | 352:47 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `return this.legacyMappings.get(layerId) \|\| [];` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/audioStore.ts` | 484:42 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `this.audioContext?.currentTime ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/cacheStore.ts` | 167:41 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `layerCount: comp.layers?.length ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/cameraStore.ts` | 250:50 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `return store.cameraKeyframes.get(cameraId) \|\| [];` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/compositionStore.ts` | 343:64 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `...selectedLayers.map((l) => l.startFrame ?? l....` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/compositionStore.ts` | 347:62 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const layerStart = layer.startFrame ?? layer.in...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/compositorStore.ts` | 312:33 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return comp?.currentFrame \|\| 0;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/compositorStore.ts` | 323:27 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `return comp?.layers \|\| [];` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/compositorStore.ts` | 327:35 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const layers = comp?.layers \|\| [];` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/compositorStore.ts` | 333:35 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const layers = comp?.layers \|\| [];` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/compositorStore.ts` | 360:28 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `return (comp?.layers \|\| []).filter((l: Layer) =>` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/compositorStore.ts` | 369:23 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `(comp?.layers \|\| []).find(` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/compositorStore.ts` | 409:35 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const layers = comp?.layers \|\| [];` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/compositorStore.ts` | 435:27 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `return comp?.layers \|\| [];` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/compositorStore.ts` | 954:42 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `currentFrame: comp?.currentFrame ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/compositorStore.ts` | 972:42 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `currentFrame: comp?.currentFrame ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/compositorStore.ts` | 2158:71 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const targetFrame = frame ?? this.getActiveComp...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/compositorStore.ts` | 2171:56 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const frame = this.getActiveComp()?.currentFram...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/compositorStore.ts` | 2380:44 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `this.getActiveComp()?.currentFrame ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/decompositionStore.ts` | 255:40 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `(b.depth?.estimatedDepth \|\| 0) - (a.depth?.esti...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/decompositionStore.ts` | 255:73 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `(b.depth?.estimatedDepth \|\| 0) - (a.depth?.esti...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/decompositionStore.ts` | 271:39 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `depth?.suggestedZPosition \|\| 0,` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/effectStore/index.ts` | 327:69 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rawFrame = frame ?? store.getActiveComp()...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/keyframeStore/clipboard.ts` | 62:23 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let earliestFrame = Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `stores/keyframeStore/clipboard.ts` | 84:25 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `if (earliestFrame === Infinity) {` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `stores/keyframeStore/evaluation.ts` | 67:69 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return parts[2] === "x" ? p.x : parts[2] === "y...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/keyframeStore/evaluation.ts` | 80:69 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return parts[2] === "x" ? a.x : parts[2] === "y...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/keyframeStore/evaluation.ts` | 161:27 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return [p.x, p.y, p.z ?? 0];` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/keyframeStore/evaluation.ts` | 177:27 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return [a.x, a.y, a.z ?? 0];` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/keyframeStore/evaluation.ts` | 209:27 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return [o.x, o.y, o.z ?? 0];` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/keyframeStore/evaluation.ts` | 243:50 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return [posValue.x, posValue.y, posValue.z ?? 0];` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/keyframeStore/evaluation.ts` | 264:36 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const frame = comp?.currentFrame ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/keyframeStore/expressions.ts` | 249:28 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const start = startFrame ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/keyframeStore/expressions.ts` | 275:36 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `keyframeValue = value[0] ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/keyframeStore/property.ts` | 35:62 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const currentFrame = store.getActiveComp()?.cur...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/keyframeStore/property.ts` | 74:40 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const frame = comp?.currentFrame ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/keyframeStore/timing.ts` | 183:21 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `z: (beforeVal.z ?? 0) + ((afterVal.z ?? 0) - (b...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/keyframeStore/timing.ts` | 183:42 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `z: (beforeVal.z ?? 0) + ((afterVal.z ?? 0) - (b...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/keyframeStore/timing.ts` | 183:63 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `z: (beforeVal.z ?? 0) + ((afterVal.z ?? 0) - (b...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/keyframeStore/velocity.ts` | 126:59 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const inHandleFrame = Math.abs(keyframe.inHandl...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/keyframeStore/velocity.ts` | 132:52 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const outHandleFrame = keyframe.outHandle?.fram...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/layerStore/crud.ts` | 442:72 | NaN literal | ğŸŸ¡ MEDIUM | Numeric Issue | `storeLogger.warn("updateLayerTransform: Invalid...` | Add proper validation or use Number.isNaN() for comparisons |
| â˜ | `stores/layerStore/crud.ts` | 442:76 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `storeLogger.warn("updateLayerTransform: Invalid...` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `stores/layerStore/crud.ts` | 451:69 | NaN literal | ğŸŸ¡ MEDIUM | Numeric Issue | `storeLogger.warn("updateLayerTransform: Invalid...` | Add proper validation or use Number.isNaN() for comparisons |
| â˜ | `stores/layerStore/crud.ts` | 451:73 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `storeLogger.warn("updateLayerTransform: Invalid...` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `stores/layerStore/crud.ts` | 459:71 | NaN literal | ğŸŸ¡ MEDIUM | Numeric Issue | `storeLogger.warn("updateLayerTransform: Invalid...` | Add proper validation or use Number.isNaN() for comparisons |
| â˜ | `stores/layerStore/crud.ts` | 459:75 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `storeLogger.warn("updateLayerTransform: Invalid...` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `stores/layerStore/crud.ts` | 485:70 | NaN literal | ğŸŸ¡ MEDIUM | Numeric Issue | `storeLogger.warn("updateLayerTransform: Invalid...` | Add proper validation or use Number.isNaN() for comparisons |
| â˜ | `stores/layerStore/crud.ts` | 485:74 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `storeLogger.warn("updateLayerTransform: Invalid...` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `stores/layerStore/hierarchy.ts` | 188:58 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const layers = compositorStore.getActiveCompLay...` | Verify if empty array is valid default, or add proper val... |
| â˜ | `stores/layerStore/hierarchy.ts` | 251:58 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const layers = compositorStore.getActiveCompLay...` | Verify if empty array is valid default, or add proper val... |
| â˜ | `stores/layerStore/hierarchy.ts` | 265:58 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const layers = compositorStore.getActiveCompLay...` | Verify if empty array is valid default, or add proper val... |
| â˜ | `stores/layerStore/hierarchy.ts` | 298:58 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const layers = compositorStore.getActiveCompLay...` | Verify if empty array is valid default, or add proper val... |
| â˜ | `stores/layerStore/hierarchy.ts` | 312:58 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const layers = compositorStore.getActiveCompLay...` | Verify if empty array is valid default, or add proper val... |
| â˜ | `stores/layerStore/hierarchy.ts` | 327:58 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const layers = compositorStore.getActiveCompLay...` | Verify if empty array is valid default, or add proper val... |
| â˜ | `stores/layerStore/hierarchy.ts` | 339:58 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const layers = compositorStore.getActiveCompLay...` | Verify if empty array is valid default, or add proper val... |
| â˜ | `stores/layerStore/hierarchy.ts` | 351:58 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const layers = compositorStore.getActiveCompLay...` | Verify if empty array is valid default, or add proper val... |
| â˜ | `stores/layerStore/hierarchy.ts` | 368:58 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const layers = compositorStore.getActiveCompLay...` | Verify if empty array is valid default, or add proper val... |
| â˜ | `stores/layerStore/pathOperations.ts` | 72:50 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const controlPoints = splineData.controlPoints ...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/layerStore/pathOperations.ts` | 83:41 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const startFrame = options.startFrame ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/layerStore/pathOperations.ts` | 130:56 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const prevFrame = i > 0 ? (keyframes[i - 1]?.fr...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/layerStore/pathOperations.ts` | 144:55 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `value: { x: point.x, y: point.y, z: point.depth...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/layerStore/spline.ts` | 151:49 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const staticPoints = splineData.controlPoints \|...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/layerStore/spline.ts` | 353:38 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `return (splineData.controlPoints \|\| []).map((cp...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/layerStore/spline.ts` | 357:23 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `depth: cp.depth ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/layerStore/textConversion.ts` | 134:45 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `strokeWidth: textData.strokeWidth \|\| 0,` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/layerStore/textConversion.ts` | 187:43 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `strokeWidth: textData.strokeWidth \|\| 0,` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/layerStore/time.ts` | 149:53 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const currentFrame = compositorStore.currentFra...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/layerStore/time.ts` | 226:53 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const currentFrame = compositorStore.currentFra...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/layerStore/time.ts` | 227:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const startFrame = layer.startFrame ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/layerStore/time.ts` | 257:55 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const originalStartTime = newLayer.data.startTi...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/layerStore/time.ts` | 308:44 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const layerStartFrame = layer.startFrame ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/markerStore.ts` | 307:28 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `return comp?.markers \|\| [];` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/physicsStore.ts` | 178:48 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `x: layer.transform?.position?.value?.x ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/physicsStore.ts` | 179:48 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `y: layer.transform?.position?.value?.y ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/physicsStore.ts` | 274:57 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const fields = compositionForceFields.get(compI...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/physicsStore.ts` | 295:57 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const fields = compositionForceFields.get(compI...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/physicsStore.ts` | 317:57 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const fields = compositionForceFields.get(compI...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/physicsStore.ts` | 378:32 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `x: initialPos?.x ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/physicsStore.ts` | 379:32 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `y: initialPos?.y ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/physicsStore.ts` | 380:52 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `z: layer.transform.position.value?.z ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/physicsStore.ts` | 412:50 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `z: layer.transform.position.value?.z ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/physicsStore.ts` | 444:45 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const startFrame = options.startFrame ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/physicsStore.ts` | 467:54 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `z: layer.transform?.position?.value?.z ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/physicsStore.ts` | 551:48 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `x: layer.transform?.position?.value?.x ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/physicsStore.ts` | 552:48 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `y: layer.transform?.position?.value?.y ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/playbackStore.ts` | 37:57 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `effectiveStartFrame: (state) => state.workAreaS...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/playbackStore.ts` | 84:45 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const rangeStart = this.workAreaStart ?? 0;` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/presetStore.ts` | 159:39 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `this.presets = data.presets \|\| [];` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/projectStore.ts` | 220:41 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const layers = engine.getLayers?.() \|\| [];` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/textAnimatorStore.ts` | 245:44 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `return getTextData(layer)?.animators ?? [];` | Verify if empty array is valid default, or add proper val... |
| â˜ | `stores/textAnimatorStore.ts` | 377:44 | || [] | ğŸŸ¡ MEDIUM | Defensive Guard | `const animators = textData.animators \|\| [];` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `stores/textAnimatorStore.ts` | 434:68 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `transforms[i].strokeWidth = (transforms[i].stro...` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/textAnimatorStore.ts` | 582:41 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `firstMargin: config.firstMargin ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/textAnimatorStore.ts` | 583:39 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `lastMargin: config.lastMargin ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/textAnimatorStore.ts` | 584:31 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `offset: config.offset ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/textAnimatorStore.ts` | 641:54 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `firstMargin: textData.pathConfig.firstMargin ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/textAnimatorStore.ts` | 642:52 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `lastMargin: textData.pathConfig.lastMargin ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/textAnimatorStore.ts` | 643:44 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `offset: textData.pathConfig.offset ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `stores/textAnimatorStore.ts` | 647:85 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `return service.calculatePlacements(characterWid...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `types/transform.ts` | 273:20 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `currentValue.z ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `types/transform.ts` | 304:22 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `value: val.z ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `types/transform.ts` | 331:20 | ?? 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `z: posZ?.value ?? 0,` | Verify if 0 is valid default, or add proper validation/er... |
| â˜ | `types/transform.ts` | 359:44 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `getInterpolatedValue(posZ?.keyframes ?? [], fra...` | Verify if empty array is valid default, or add proper val... |
| â˜ | `types/transform.ts` | 490:46 | ?? [] | ğŸŸ¡ MEDIUM | Defensive Guard | `getInterpolatedValue(scaleZ?.keyframes ?? [], f...` | Verify if empty array is valid default, or add proper val... |
| â˜ | `utils/arrayUtils.ts` | 18:28 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `const safeMax = maxValue \|\| 0.0001; // Prevent ...` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `utils/numericSafety.ts` | 31:46 | NaN literal | ğŸŸ¡ MEDIUM | Numeric Issue | `throw new TypeError(`${name} must not be NaN`);` | Add proper validation or use Number.isNaN() for comparisons |
| â˜ | `utils/validation.ts` | 68:54 | NaN literal | ğŸŸ¡ MEDIUM | Numeric Issue | `return fail(`${name} must be a valid number, go...` | Add proper validation or use Number.isNaN() for comparisons |
| â˜ | `workers/audioWorker.ts` | 175:27 | || 0 | ğŸŸ¡ MEDIUM | Defensive Guard | `real[i] = (samples[i] \|\| 0) * windowValue;` | Consider using ?? instead of \|\| for nullish coalescing |
| â˜ | `workers/audioWorker.ts` | 783:26 | Infinity literal | ğŸŸ¡ MEDIUM | Numeric Issue | `let bestCorrelation = -Infinity;` | Add proper validation or use Number.isFinite() for checks |
| â˜ | `composables/useAssetHandlers.ts` | 44:48 | : void | ğŸŸ¢ LOW | Return Type | `function onCreateLayersFromSvg(svgId: string): ...` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useAssetHandlers.ts` | 65:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `z: config?.depth \|\| 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useAssetHandlers.ts` | 81:46 | : void | ğŸŸ¢ LOW | Return Type | `function onUseMeshAsEmitter(meshId: string): vo...` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useAssetHandlers.ts` | 137:50 | : void | ğŸŸ¢ LOW | Return Type | `function onEnvironmentUpdate(settings: unknown)...` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useAssetHandlers.ts` | 138:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const engine = canvasRef.value?.getEngine?.();` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useAssetHandlers.ts` | 138:46 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const engine = canvasRef.value?.getEngine?.();` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useAssetHandlers.ts` | 147:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const engine = canvasRef.value?.getEngine?.();` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useAssetHandlers.ts` | 147:46 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const engine = canvasRef.value?.getEngine?.();` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useAssetHandlers.ts` | 166:32 | : void | ğŸŸ¢ LOW | Return Type | `function onEnvironmentClear(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useAssetHandlers.ts` | 167:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const engine = canvasRef.value?.getEngine?.();` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useAssetHandlers.ts` | 167:46 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const engine = canvasRef.value?.getEngine?.();` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useCanvasSegmentation.ts` | 26:63 | : void | ğŸŸ¢ LOW | Return Type | `function startSegmentBox(scenePos: { x: number;...` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCanvasSegmentation.ts` | 35:64 | : void | ğŸŸ¢ LOW | Return Type | `function updateSegmentBox(scenePos: { x: number...` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCanvasSegmentation.ts` | 44:30 | : void | ğŸŸ¢ LOW | Return Type | `function cancelSegmentBox(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCanvasSelection.ts` | 200:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const current = currentSelection?.value \|\| [];` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useCurveEditorCoords.ts` | 167:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!kf \|\| !kf.outHandle?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useCurveEditorCoords.ts` | 185:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!kf \|\| !kf.outHandle?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useCurveEditorCoords.ts` | 208:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!kf \|\| !kf.inHandle?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useCurveEditorCoords.ts` | 226:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!kf \|\| !kf.inHandle?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useCurveEditorDraw.ts` | 57:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorDraw.ts` | 133:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorDraw.ts` | 185:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `(!kf1.outHandle?.enabled && !kf2.inHandle?.enab...` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useCurveEditorDraw.ts` | 185:50 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `(!kf1.outHandle?.enabled && !kf2.inHandle?.enab...` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useCurveEditorDraw.ts` | 192:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `kf1.frame + (kf1.outHandle?.frame ?? 0),` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useCurveEditorDraw.ts` | 198:54 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `getNumericValue(kf1.value) + (kf1.outHandle?.va...` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useCurveEditorDraw.ts` | 204:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `kf2.frame + (kf2.inHandle?.frame ?? 0),` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useCurveEditorDraw.ts` | 210:53 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `getNumericValue(kf2.value) + (kf2.inHandle?.val...` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useCurveEditorDraw.ts` | 236:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorDraw.ts` | 287:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorDraw.ts` | 325:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 107:55 | : void | ğŸŸ¢ LOW | Return Type | `function updateHoveredKeyframe(x: number, y: nu...` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 126:46 | : void | ğŸŸ¢ LOW | Return Type | `function handleMouseDown(event: MouseEvent): vo...` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 127:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const rect = canvasRef.value?.getBoundingClient...` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 146:46 | : void | ğŸŸ¢ LOW | Return Type | `function handleMouseMove(event: MouseEvent): vo...` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 147:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const rect = canvasRef.value?.getBoundingClient...` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 198:27 | : void | ğŸŸ¢ LOW | Return Type | `function handleMouseUp(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 199:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (dragTarget.value?.type === "select" && sele...` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 207:42 | : void | ğŸŸ¢ LOW | Return Type | `function handleWheel(event: WheelEvent): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 210:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const rect = canvasRef.value?.getBoundingClient...` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 249:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 266:34 | : void | ğŸŸ¢ LOW | Return Type | `function selectKeyframesInBox(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 295:67 | : void | ğŸŸ¢ LOW | Return Type | `function moveSelectedKeyframes(screenX: number,...` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 337:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 341:56 | : void | ğŸŸ¢ LOW | Return Type | `function moveHandle(screenX: number, screenY: n...` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 348:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `(p) => p.id === dragTarget.value?.propId,` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 426:46 | : void | ğŸŸ¢ LOW | Return Type | `function showContextMenu(event: MouseEvent): vo...` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 430:29 | : void | ğŸŸ¢ LOW | Return Type | `function hideContextMenu(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 434:35 | : void | ğŸŸ¢ LOW | Return Type | `function addKeyframeAtPosition(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 454:37 | : void | ğŸŸ¢ LOW | Return Type | `function deleteSelectedKeyframes(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 471:27 | : void | ğŸŸ¢ LOW | Return Type | `function copyKeyframes(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 476:28 | : void | ğŸŸ¢ LOW | Return Type | `function pasteKeyframes(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 512:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (kf.inHandle?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 522:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (kf.outHandle?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 540:32 | : void | ğŸŸ¢ LOW | Return Type | `function selectAllKeyframes(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 553:29 | : void | ğŸŸ¢ LOW | Return Type | `function invertSelection(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorInteraction.ts` | 572:47 | : void | ğŸŸ¢ LOW | Return Type | `function handleKeyDown(event: KeyboardEvent): v...` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorKeyboard.ts` | 30:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorKeyboard.ts` | 55:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorKeyboard.ts` | 86:54 | : void | ğŸŸ¢ LOW | Return Type | `export function applyEasyEase(params: EasyEaseP...` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorKeyboard.ts` | 161:54 | : void | ğŸŸ¢ LOW | Return Type | `return function handleKeyDown(event: KeyboardEv...` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorView.ts` | 56:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorView.ts` | 91:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorView.ts` | 126:50 | : void | ğŸŸ¢ LOW | Return Type | `export function zoomIn(viewState: CurveViewStat...` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorView.ts` | 136:51 | : void | ğŸŸ¢ LOW | Return Type | `export function zoomOut(viewState: CurveViewSta...` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorView.ts` | 153:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useCurveEditorView.ts` | 199:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useExpressionEditor.ts` | 53:58 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (expression.type === "custom" && expression....` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 163:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!layer?.transform) continue;` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 169:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (prop?.animated && prop?.keyframes) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 169:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (prop?.animated && prop?.keyframes) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 183:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (layer.opacity?.animated && layer.opacity?.k...` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 183:51 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (layer.opacity?.animated && layer.opacity?.k...` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 206:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!layer?.transform) continue;` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 212:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (prop?.animated && prop?.keyframes) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 212:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (prop?.animated && prop?.keyframes) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 258:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!layer?.transform) continue;` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 264:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (prop?.animated && prop?.keyframes) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 264:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (prop?.animated && prop?.keyframes) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 314:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!layer?.transform) continue;` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 320:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (prop?.animated && prop?.keyframes) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 320:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (prop?.animated && prop?.keyframes) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 344:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!layer?.transform) continue;` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 350:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (prop?.animated && prop?.keyframes) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 350:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (prop?.animated && prop?.keyframes) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 718:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `store.setTimelineZoom?.(timelineZoom.value);` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 723:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `store.setTimelineZoom?.(timelineZoom.value);` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 728:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `store.setTimelineZoom?.(1);` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 739:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `threeCanvasRef.value.setZoom?.(viewerZoom.value);` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 748:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `threeCanvasRef.value.setZoom?.(viewerZoom.value);` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 758:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `threeCanvasRef.value.fitToView?.();` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 766:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `threeCanvasRef.value.setZoom?.(1);` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 781:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!layer?.transform) continue;` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 787:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (prop?.animated && prop?.keyframes) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 787:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (prop?.animated && prop?.keyframes) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 840:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layerW = data?.width \|\| compW;` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 841:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layerH = data?.height \|\| compH;` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 871:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layerW = data?.width \|\| compW;` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 894:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layerH = data?.height \|\| compH;` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 933:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layerW = data?.width \|\| compWidth.value;` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 934:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layerH = data?.height \|\| compHeight.value;` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 941:45 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const currentAnchor = transform.origin?.value ??` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 942:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `transform.anchorPoint?.value ?? { x: 0, y: 0, z...` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 943:44 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const currentPos = transform.position?.value ??...` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 976:44 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const currentPos = transform.position?.value ??...` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 1018:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (data?.assetId) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 1021:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (data?.compositionId) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 1059:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (prop?.keyframes && Array.isArray(prop.keyfr...` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 1069:49 | : void | ğŸŸ¢ LOW | Return Type | `const checkForKeyframes = (obj: unknown): void ...` | Review if function should return boolean/number/object in... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 1142:47 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const ext = file.name.split(".").pop()?.toLower...` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 1154:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (layer?.data) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 1168:60 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (result.status === "success" && result.layer...` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 1178:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (layer?.data) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 1213:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `document.activeElement?.tagName === "INPUT" \|\|` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useKeyboardShortcuts.ts` | 1214:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `document.activeElement?.tagName === "TEXTAREA"` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useShapeDrawing.ts` | 349:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `...newLayer.transform?.position,` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useSplineInteraction.ts` | 445:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (dragTarget.value?.type === "newPoint") {` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useSplineInteraction.ts` | 448:70 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const newPoint = points.find((p) => p.id === dr...` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useSplineInteraction.ts` | 453:47 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const rawNewPointX = (newPoint as any)?.rawX ??...` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useSplineInteraction.ts` | 453:65 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const rawNewPointX = (newPoint as any)?.rawX ??...` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useSplineInteraction.ts` | 454:47 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const rawNewPointY = (newPoint as any)?.rawY ??...` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useSplineInteraction.ts` | 454:65 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const rawNewPointY = (newPoint as any)?.rawY ??...` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useSplineInteraction.ts` | 506:44 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const point = layerData.controlPoints?.find(` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useSplineInteraction.ts` | 507:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `(p) => p.id === dragTarget.value?.pointId,` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useSplineInteraction.ts` | 633:46 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const point = layerData.controlPoints?.find(` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useSplineInteraction.ts` | 634:43 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `(p) => p.id === dragTarget.value?.pointId,` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useSplineInteraction.ts` | 636:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (point?.handleOut && dragTarget.value.type =...` | Review if optional chaining is necessary or if null check... |
| â˜ | `composables/useViewportControls.ts` | 97:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(newZoom) \|\| newZoom <= 0) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `composables/useViewportControls.ts` | 173:19 | isNaN() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isNaN(newZoom)) {` | Replace with Number.isNaN() for more accurate type checking |
| â˜ | `composables/useViewportControls.ts` | 208:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(scaleX) \|\| scaleX === 0) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `composables/useViewportControls.ts` | 214:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(scaleY) \|\| scaleY === 0) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `composables/useViewportControls.ts` | 222:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const panX = Number.isFinite(vpt[4]) ? vpt[4] : 0;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `composables/useViewportControls.ts` | 223:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const panY = Number.isFinite(vpt[5]) ? vpt[5] : 0;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/animation/KeyframeEvaluator.ts` | 149:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!outHandle?.enabled && !inHandle?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/animation/KeyframeEvaluator.ts` | 149:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!outHandle?.enabled && !inHandle?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/animation/KeyframeEvaluator.ts` | 159:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `x: outHandle?.enabled` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/animation/KeyframeEvaluator.ts` | 162:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `y: outHandle?.enabled ? outHandle.value : 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/animation/KeyframeEvaluator.ts` | 165:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `x: inHandle?.enabled` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/animation/KeyframeEvaluator.ts` | 168:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `y: inHandle?.enabled ? 1 + inHandle.value : 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/animation/KeyframeEvaluator.ts` | 397:15 | : void | ğŸŸ¢ LOW | Return Type | `clearCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/BackgroundManager.ts` | 44:46 | : void | ğŸŸ¢ LOW | Return Type | `setBackgroundImage(image: HTMLImageElement): vo...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/BackgroundManager.ts` | 80:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/BackgroundManager.ts` | 113:43 | : void | ğŸŸ¢ LOW | Return Type | `setDepthOverlayVisible(visible: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/BackgroundManager.ts` | 123:43 | : void | ğŸŸ¢ LOW | Return Type | `setDepthColormap(colormap: ColormapType): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/BackgroundManager.ts` | 134:35 | : void | ğŸŸ¢ LOW | Return Type | `setDepthOpacity(opacity: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/BackgroundManager.ts` | 166:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 99:53 | : void | ğŸŸ¢ LOW | Return Type | `enableOrbitControls(domElement: HTMLCanvasEleme...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 154:25 | : void | ğŸŸ¢ LOW | Return Type | `disableOrbitControls(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 182:19 | : void | ğŸŸ¢ LOW | Return Type | `resetToDefault(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 243:67 | : void | ğŸŸ¢ LOW | Return Type | `setOrbitTarget(x: number, y: number, z: number,...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 258:29 | : void | ğŸŸ¢ LOW | Return Type | `resetOrbitTargetToCenter(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 272:47 | : void | ğŸŸ¢ LOW | Return Type | `setPosition(x: number, y: number, z: number): v...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 293:45 | : void | ğŸŸ¢ LOW | Return Type | `setTarget(x: number, y: number, z: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 303:53 | : void | ğŸŸ¢ LOW | Return Type | `setPositionDirect(x: number, y: number, z: numb...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 313:51 | : void | ğŸŸ¢ LOW | Return Type | `setTargetDirect(x: number, y: number, z: number...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 333:47 | : void | ğŸŸ¢ LOW | Return Type | `setRotation(x: number, y: number, z: number): v...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 349:22 | : void | ğŸŸ¢ LOW | Return Type | `setFOV(fov: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 364:43 | : void | ğŸŸ¢ LOW | Return Type | `setClipPlanes(near: number, far: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 382:24 | : void | ğŸŸ¢ LOW | Return Type | `setZoom(zoom: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 398:31 | : void | ğŸŸ¢ LOW | Return Type | `setPan(x: number, y: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 415:36 | : void | ğŸŸ¢ LOW | Return Type | `private updateCameraForViewport(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 485:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 516:54 | : void | ğŸŸ¢ LOW | Return Type | `setAnimationProperties(props: CameraAnimationPr...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 525:29 | : void | ğŸŸ¢ LOW | Return Type | `clearAnimationProperties(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 534:31 | : void | ğŸŸ¢ LOW | Return Type | `evaluateFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 559:40 | : void | ğŸŸ¢ LOW | Return Type | `resize(width: number, height: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 577:67 | : void | ğŸŸ¢ LOW | Return Type | `setViewportAspect(viewportWidth: number, viewpo...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 658:40 | : void | ğŸŸ¢ LOW | Return Type | `setState(state: Partial<CameraState>): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 679:10 | : void | ğŸŸ¢ LOW | Return Type | `reset(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 727:20 | : void | ğŸŸ¢ LOW | Return Type | `enableOrbitMode(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 744:21 | : void | ğŸŸ¢ LOW | Return Type | `disableOrbitMode(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 760:46 | : void | ğŸŸ¢ LOW | Return Type | `orbit(deltaTheta: number, deltaPhi: number): vo...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 778:23 | : void | ğŸŸ¢ LOW | Return Type | `dolly(delta: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 800:43 | : void | ğŸŸ¢ LOW | Return Type | `orbitPan(deltaX: number, deltaY: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 828:38 | : void | ğŸŸ¢ LOW | Return Type | `private updateCameraFromSpherical(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 874:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 920:18 | : void | ğŸŸ¢ LOW | Return Type | `resetTo2DView(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 930:15 | : void | ğŸŸ¢ LOW | Return Type | `resetOrbit(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 958:5 | : void | ğŸŸ¢ LOW | Return Type | `}): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 1005:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 1032:29 | : void | ğŸŸ¢ LOW | Return Type | `saveBookmark(name: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/CameraController.ts` | 1143:45 | : void | ğŸŸ¢ LOW | Return Type | `importBookmarks(data: Record<string, any>): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 138:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 146:63 | : void | ğŸŸ¢ LOW | Return Type | `setNestedCompRenderContext(context: NestedCompR...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 161:65 | : void | ğŸŸ¢ LOW | Return Type | `setEffectLayerRenderContext(context: EffectLaye...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 169:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `(layerData?.effectLayer \|\| layerData?.adjustmen...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/LayerManager.ts` | 169:45 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `(layerData?.effectLayer \|\| layerData?.adjustmen...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/LayerManager.ts` | 180:63 | : void | ğŸŸ¢ LOW | Return Type | `setAdjustmentRenderContext(context: AdjustmentR...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 191:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 212:45 | : void | ğŸŸ¢ LOW | Return Type | `setRenderer(renderer: THREE.WebGLRenderer): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 226:33 | : void | ğŸŸ¢ LOW | Return Type | `setCompositionFPS(fps: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 251:45 | : void | ğŸŸ¢ LOW | Return Type | `setCamera(camera: THREE.PerspectiveCamera): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 318:66 | : void | ğŸŸ¢ LOW | Return Type | `private setupLayerCallbacks(layer: BaseLayer, l...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 326:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.onVideoMetadataLoaded?.(layerData.id, meta...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/LayerManager.ts` | 507:54 | : void | ğŸŸ¢ LOW | Return Type | `update(layerId: string, properties: Partial<Lay...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 523:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 536:26 | : void | ğŸŸ¢ LOW | Return Type | `remove(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 557:37 | : void | ğŸŸ¢ LOW | Return Type | `removeMultiple(layerIds: string[]): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 566:14 | : void | ğŸŸ¢ LOW | Return Type | `removeAll(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 597:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 637:34 | : void | ğŸŸ¢ LOW | Return Type | `private updateParticleShadows(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 643:42 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const light = lightLayer.getLight?.();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/LayerManager.ts` | 644:54 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (light && light.castShadow && light.shadow?....` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/LayerManager.ts` | 644:59 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (light && light.castShadow && light.shadow?....` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/LayerManager.ts` | 676:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 708:68 | : void | ğŸŸ¢ LOW | Return Type | `setAudioReactiveCallback(getter: LayerAudioReac...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 716:69 | : void | ğŸŸ¢ LOW | Return Type | `setLayerDrivenValues(layerId: string, values: M...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 726:42 | : void | ğŸŸ¢ LOW | Return Type | `clearLayerDrivenValues(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 736:25 | : void | ğŸŸ¢ LOW | Return Type | `clearAllDrivenValues(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 753:52 | : void | ğŸŸ¢ LOW | Return Type | `private updateTextPathConnections(frame?: numbe...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 943:69 | : void | ğŸŸ¢ LOW | Return Type | `connectTextToPath(textLayerId: string, pathLaye...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 984:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.layers.get(layerId)?.getObject() ??...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/LayerManager.ts` | 1038:18 | : void | ğŸŸ¢ LOW | Return Type | `reorderLayers(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 1050:27 | : void | ğŸŸ¢ LOW | Return Type | `rebuildParentHierarchy(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 1081:59 | : void | ğŸŸ¢ LOW | Return Type | `setLayerParent(layerId: string, parentId: strin...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 1113:40 | : void | ğŸŸ¢ LOW | Return Type | `setLayerZ(layerId: string, z: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 1128:53 | : void | ğŸŸ¢ LOW | Return Type | `setLayerVisible(layerId: string, visible: boole...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 1151:32 | : void | ğŸŸ¢ LOW | Return Type | `isolateLayer(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 1158:29 | : void | ğŸŸ¢ LOW | Return Type | `soloLayer(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 1165:17 | : void | ğŸŸ¢ LOW | Return Type | `unisolateAll(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 1172:14 | : void | ğŸŸ¢ LOW | Return Type | `unsoloAll(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 1194:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 1211:36 | : void | ğŸŸ¢ LOW | Return Type | `processTrackMattes(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 1292:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `).getSourceCanvas?.();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/LayerManager.ts` | 1312:53 | : void | ğŸŸ¢ LOW | Return Type | `setLayerMasks(layerId: string, masks: LayerMask...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 1322:35 | : void | ğŸŸ¢ LOW | Return Type | `clearTrackMatte(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 1340:36 | : void | ğŸŸ¢ LOW | Return Type | `const visit = (layerId: string): void => {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/LayerManager.ts` | 1426:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 323:31 | : void | ğŸŸ¢ LOW | Return Type | `private setupDefaultPasses(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 336:26 | : void | ğŸŸ¢ LOW | Return Type | `addPass(pass: PostPass): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 352:29 | : void | ğŸŸ¢ LOW | Return Type | `removePass(pass: PostPass): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 363:37 | : void | ğŸŸ¢ LOW | Return Type | `setDOF(config: Partial<DOFConfig>): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 392:28 | : void | ğŸŸ¢ LOW | Return Type | `private createBokehPass(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 414:28 | : void | ğŸŸ¢ LOW | Return Type | `private updateBokehPass(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 428:37 | : void | ğŸŸ¢ LOW | Return Type | `setFocusDistance(distance: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 435:32 | : void | ğŸŸ¢ LOW | Return Type | `setAperture(aperture: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 442:34 | : void | ğŸŸ¢ LOW | Return Type | `setDOFEnabled(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 453:39 | : void | ğŸŸ¢ LOW | Return Type | `setSSAO(config: Partial<SSAOConfig>): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 479:27 | : void | ğŸŸ¢ LOW | Return Type | `private createSSAOPass(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 506:27 | : void | ğŸŸ¢ LOW | Return Type | `private updateSSAOPass(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 527:35 | : void | ğŸŸ¢ LOW | Return Type | `setSSAOEnabled(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 534:38 | : void | ğŸŸ¢ LOW | Return Type | `setSSAOIntensity(intensity: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 541:32 | : void | ğŸŸ¢ LOW | Return Type | `setSSAORadius(radius: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 553:41 | : void | ğŸŸ¢ LOW | Return Type | `setBloom(config: Partial<BloomConfig>): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 579:28 | : void | ğŸŸ¢ LOW | Return Type | `private createBloomPass(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 614:28 | : void | ğŸŸ¢ LOW | Return Type | `private updateBloomPass(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 625:36 | : void | ğŸŸ¢ LOW | Return Type | `setBloomEnabled(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 632:37 | : void | ğŸŸ¢ LOW | Return Type | `setBloomStrength(strength: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 639:39 | : void | ğŸŸ¢ LOW | Return Type | `setBloomThreshold(threshold: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 650:51 | : void | ğŸŸ¢ LOW | Return Type | `setMotionBlur(config: Partial<MotionBlurConfig>...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 666:41 | : void | ğŸŸ¢ LOW | Return Type | `setMotionBlurEnabled(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 673:42 | : void | ğŸŸ¢ LOW | Return Type | `setMotionBlurType(type: MotionBlurType): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 680:50 | : void | ğŸŸ¢ LOW | Return Type | `setMotionBlurShutterAngle(shutterAngle: number)...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 687:42 | : void | ğŸŸ¢ LOW | Return Type | `setMotionBlurPreset(presetName: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 722:11 | : void | ğŸŸ¢ LOW | Return Type | `render(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 733:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.camera?.camera && !this.camera.camera....` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/RenderPipeline.ts` | 748:50 | : void | ğŸŸ¢ LOW | Return Type | `renderToTarget(target: THREE.WebGLRenderTarget)...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 770:52 | : void | ğŸŸ¢ LOW | Return Type | `setRenderMode(mode: "color" \| "depth" \| "normal...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 1029:40 | : void | ğŸŸ¢ LOW | Return Type | `resize(width: number, height: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 1169:49 | : void | ğŸŸ¢ LOW | Return Type | `disposeNestedCompTarget(compositionId: string):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 1182:32 | : void | ğŸŸ¢ LOW | Return Type | `disposeAllNestedCompTargets(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/RenderPipeline.ts` | 1204:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/ResourceManager.ts` | 70:38 | : void | ğŸŸ¢ LOW | Return Type | `setAssetGetter(getter: AssetGetter): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/ResourceManager.ts` | 79:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.assetGetter?.(assetId);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/ResourceManager.ts` | 89:39 | : void | ğŸŸ¢ LOW | Return Type | `private initializeCommonGeometries(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/ResourceManager.ts` | 241:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/ResourceManager.ts` | 273:30 | : void | ğŸŸ¢ LOW | Return Type | `releaseTexture(key: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/ResourceManager.ts` | 301:59 | : void | ğŸŸ¢ LOW | Return Type | `setLayerTexture(layerId: string, texture: THREE...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/ResourceManager.ts` | 466:15 | : void | ğŸŸ¢ LOW | Return Type | `resetStats(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/ResourceManager.ts` | 482:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/ResourceManager.ts` | 505:16 | : void | ğŸŸ¢ LOW | Return Type | `clearUnused(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 112:33 | : void | ğŸŸ¢ LOW | Return Type | `private setupDefaultLighting(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 141:43 | : void | ğŸŸ¢ LOW | Return Type | `addToComposition(object: THREE.Object3D): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 146:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layerId = object.userData?.layerId;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/SceneManager.ts` | 155:48 | : void | ğŸŸ¢ LOW | Return Type | `removeFromComposition(object: THREE.Object3D): ...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 159:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layerId = object.userData?.layerId;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/SceneManager.ts` | 172:12 | : void | ğŸŸ¢ LOW | Return Type | `sortByZ(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 206:19 | : void | ğŸŸ¢ LOW | Return Type | `markNeedsZSort(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 224:39 | : void | ğŸŸ¢ LOW | Return Type | `addToOverlay(object: THREE.Object3D): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 231:44 | : void | ğŸŸ¢ LOW | Return Type | `removeFromOverlay(object: THREE.Object3D): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 238:17 | : void | ğŸŸ¢ LOW | Return Type | `clearOverlay(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 254:39 | : void | ğŸŸ¢ LOW | Return Type | `addUIElement(object: THREE.Object3D): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 303:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `obj.parent.remove?.(obj);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/SceneManager.ts` | 307:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `obj.dispatchEvent?.({ type: "added" });` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/SceneManager.ts` | 319:42 | : void | ğŸŸ¢ LOW | Return Type | `removeUIElement(object: THREE.Object3D): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 332:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `object.dispatchEvent?.({ type: "removed" });` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/SceneManager.ts` | 346:21 | : void | ğŸŸ¢ LOW | Return Type | `prepareForRender(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 381:57 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.matrixAutoUpdate) this.updateMatrix?.();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/SceneManager.ts` | 385:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.matrixWorld?.copy?.(this.matrix);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/SceneManager.ts` | 385:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.matrixWorld?.copy?.(this.matrix);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/SceneManager.ts` | 386:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `} else if (this.parent?.matrixWorld) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/SceneManager.ts` | 387:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.matrixWorld?.multiplyMatrices?.(` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/SceneManager.ts` | 387:53 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.matrixWorld?.multiplyMatrices?.(` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/SceneManager.ts` | 405:42 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `child.updateMatrixWorld?.(force);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/SceneManager.ts` | 442:36 | : void | ğŸŸ¢ LOW | Return Type | `setDebugVisible(visible: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 449:36 | : void | ğŸŸ¢ LOW | Return Type | `addAxisHelper(size: number = 500): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 463:61 | : void | ğŸŸ¢ LOW | Return Type | `addGridHelper(size: number = 2000, divisions: n...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 482:38 | : void | ğŸŸ¢ LOW | Return Type | `setBackground(color: string \| null): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 508:62 | : void | ğŸŸ¢ LOW | Return Type | `initializeEnvironmentSupport(renderer: THREE.We...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 585:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 587:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const envMap = this.pmremGenerator?.fromEquirec...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/SceneManager.ts` | 605:58 | : void | ğŸŸ¢ LOW | Return Type | `setEnvironmentMapTexture(texture: THREE.Texture...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 641:62 | : void | ğŸŸ¢ LOW | Return Type | `setEnvironmentConfig(config: Partial<Environmen...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 685:42 | : void | ğŸŸ¢ LOW | Return Type | `setEnvironmentEnabled(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 692:45 | : void | ğŸŸ¢ LOW | Return Type | `setEnvironmentIntensity(intensity: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 699:43 | : void | ğŸŸ¢ LOW | Return Type | `setEnvironmentRotation(rotation: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 706:34 | : void | ğŸŸ¢ LOW | Return Type | `setBackgroundBlur(blur: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 713:35 | : void | ğŸŸ¢ LOW | Return Type | `setUseAsBackground(use: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 724:52 | : void | ğŸŸ¢ LOW | Return Type | `setCompositionSize(width: number, height: numbe...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 742:36 | : void | ğŸŸ¢ LOW | Return Type | `private updateCompositionBounds(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 777:48 | : void | ğŸŸ¢ LOW | Return Type | `setCompositionBoundsVisible(visible: boolean): ...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 787:48 | : void | ğŸŸ¢ LOW | Return Type | `updateCompositionGrid(divisions: number = 20): ...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 962:46 | : void | ğŸŸ¢ LOW | Return Type | `setCompositionGridVisible(visible: boolean): vo...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 972:25 | : void | ğŸŸ¢ LOW | Return Type | `updateOutsideOverlay(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 1028:45 | : void | ğŸŸ¢ LOW | Return Type | `setOutsideOverlayVisible(visible: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 1061:48 | : void | ğŸŸ¢ LOW | Return Type | `private disposeObject(object: THREE.Object3D): ...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 1063:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `object.geometry?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/SceneManager.ts` | 1085:52 | : void | ğŸŸ¢ LOW | Return Type | `private disposeMaterial(material: THREE.Materia...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/core/SceneManager.ts` | 1088:12 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `mat.map?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/SceneManager.ts` | 1089:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `mat.normalMap?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/SceneManager.ts` | 1090:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `mat.roughnessMap?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/SceneManager.ts` | 1091:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `mat.metalnessMap?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/SceneManager.ts` | 1092:14 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `mat.aoMap?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/SceneManager.ts` | 1093:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `mat.emissiveMap?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/SceneManager.ts` | 1094:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `mat.alphaMap?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/SceneManager.ts` | 1095:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `mat.envMap?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/core/SceneManager.ts` | 1103:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 192:54 | : void | ğŸŸ¢ LOW | Return Type | `private validateConfig(config: LatticeEngineCon...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 199:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `!Number.isFinite(config.width) \|\|` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/LatticeEngine.ts` | 200:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `!Number.isFinite(config.height) \|\|` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/LatticeEngine.ts` | 222:29 | : void | ğŸŸ¢ LOW | Return Type | `addLayer(layerData: Layer): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 238:59 | : void | ğŸŸ¢ LOW | Return Type | `updateLayer(layerId: string, properties: Partia...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 249:31 | : void | ğŸŸ¢ LOW | Return Type | `removeLayer(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 287:30 | : void | ğŸŸ¢ LOW | Return Type | `syncLayers(layers: Layer[]): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 323:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 337:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 348:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 363:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 377:53 | : void | ğŸŸ¢ LOW | Return Type | `setActiveCameraLayer(cameraLayerId: string \| nu...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 385:29 | : void | ğŸŸ¢ LOW | Return Type | `private syncActiveCamera(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 427:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (camera3d?.depthOfField) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/LatticeEngine.ts` | 436:33 | : void | ğŸŸ¢ LOW | Return Type | `setCompositionFPS(fps: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 438:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validFps = Number.isFinite(fps) && fps > ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/LatticeEngine.ts` | 446:30 | : void | ğŸŸ¢ LOW | Return Type | `initializeParticleSystems(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 458:25 | : void | ğŸŸ¢ LOW | Return Type | `initialize3DServices(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 538:69 | : void | ğŸŸ¢ LOW | Return Type | `setLayerDrivenValues(layerId: string, values: M...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 545:42 | : void | ğŸŸ¢ LOW | Return Type | `clearLayerDrivenValues(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 552:25 | : void | ğŸŸ¢ LOW | Return Type | `clearAllDrivenValues(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 580:42 | : void | ğŸŸ¢ LOW | Return Type | `applyFrameState(frameState: FrameState): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 608:62 | : void | ğŸŸ¢ LOW | Return Type | `private applyCameraState(cameraState: FrameStat...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 634:26 | : void | ğŸŸ¢ LOW | Return Type | `setFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 656:68 | : void | ğŸŸ¢ LOW | Return Type | `setAudioReactiveCallback(getter: LayerAudioReac...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 676:11 | : void | ğŸŸ¢ LOW | Return Type | `render(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 694:20 | : void | ğŸŸ¢ LOW | Return Type | `startRenderLoop(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 719:19 | : void | ğŸŸ¢ LOW | Return Type | `stopRenderLoop(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 751:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 756:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `!Number.isFinite(width) \|\|` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/LatticeEngine.ts` | 757:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `!Number.isFinite(height) \|\|` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/LatticeEngine.ts` | 777:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(compositionWidth) &&` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/LatticeEngine.ts` | 778:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(compositionHeight) &&` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/LatticeEngine.ts` | 797:65 | : void | ğŸŸ¢ LOW | Return Type | `private updateSplineResolutions(width: number, ...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 826:47 | : void | ğŸŸ¢ LOW | Return Type | `setResolution(width: number, height: number): v...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 831:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `!Number.isFinite(width) \|\|` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/LatticeEngine.ts` | 832:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `!Number.isFinite(height) \|\|` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/LatticeEngine.ts` | 866:24 | : void | ğŸŸ¢ LOW | Return Type | `enableOrbitControls(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 874:25 | : void | ğŸŸ¢ LOW | Return Type | `disableOrbitControls(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 881:25 | : void | ğŸŸ¢ LOW | Return Type | `resetCameraToDefault(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 890:49 | : void | ğŸŸ¢ LOW | Return Type | `fitCompositionToViewport(padding: number = 40):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 893:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(padding) && padding >= 0 ? padd...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/LatticeEngine.ts` | 908:53 | : void | ğŸŸ¢ LOW | Return Type | `setCameraPosition(x: number, y: number, z: numb...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 915:51 | : void | ğŸŸ¢ LOW | Return Type | `setCameraTarget(x: number, y: number, z: number...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 922:28 | : void | ğŸŸ¢ LOW | Return Type | `setCameraFOV(fov: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 932:50 | : void | ğŸŸ¢ LOW | Return Type | `setOrbitTarget(x: number, y: number, z: number)...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 939:29 | : void | ğŸŸ¢ LOW | Return Type | `resetOrbitTargetToCenter(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 956:5 | : void | ğŸŸ¢ LOW | Return Type | `}): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 969:34 | : void | ğŸŸ¢ LOW | Return Type | `setDOFEnabled(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 977:40 | : void | ğŸŸ¢ LOW | Return Type | `setDOFFocusDistance(distance: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 985:35 | : void | ğŸŸ¢ LOW | Return Type | `setDOFAperture(aperture: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1004:71 | : void | ğŸŸ¢ LOW | Return Type | `setSSAO(config: Partial<import("./core/RenderPi...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1011:35 | : void | ğŸŸ¢ LOW | Return Type | `setSSAOEnabled(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1019:38 | : void | ğŸŸ¢ LOW | Return Type | `setSSAOIntensity(intensity: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1027:32 | : void | ğŸŸ¢ LOW | Return Type | `setSSAORadius(radius: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1047:73 | : void | ğŸŸ¢ LOW | Return Type | `setBloom(config: Partial<import("./core/RenderP...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1054:36 | : void | ğŸŸ¢ LOW | Return Type | `setBloomEnabled(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1062:37 | : void | ğŸŸ¢ LOW | Return Type | `setBloomStrength(strength: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1070:39 | : void | ğŸŸ¢ LOW | Return Type | `setBloomThreshold(threshold: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1089:44 | : void | ğŸŸ¢ LOW | Return Type | `setViewportTransform(transform: number[]): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1097:26 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const scale = Number.isFinite(transform[0]) ? t...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/LatticeEngine.ts` | 1098:26 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const skewX = Number.isFinite(transform[1]) ? t...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/LatticeEngine.ts` | 1099:26 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const skewY = Number.isFinite(transform[2]) ? t...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/LatticeEngine.ts` | 1100:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const scaleY = Number.isFinite(transform[3]) ? ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/LatticeEngine.ts` | 1101:23 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const tx = Number.isFinite(transform[4]) ? tran...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/LatticeEngine.ts` | 1102:23 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const ty = Number.isFinite(transform[5]) ? tran...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/LatticeEngine.ts` | 1135:38 | : void | ğŸŸ¢ LOW | Return Type | `setBackground(color: string \| null): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1151:46 | : void | ğŸŸ¢ LOW | Return Type | `setBackgroundImage(image: HTMLImageElement): vo...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1154:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.backgroundManager?.setBackgroundImage(image);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/LatticeEngine.ts` | 1169:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1172:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.backgroundManager?.setDepthMap(image, opti...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/LatticeEngine.ts` | 1178:43 | : void | ğŸŸ¢ LOW | Return Type | `setDepthOverlayVisible(visible: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1180:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.backgroundManager?.setDepthOverlayVisible(...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/LatticeEngine.ts` | 1186:65 | : void | ğŸŸ¢ LOW | Return Type | `setDepthColormap(colormap: "viridis" \| "plasma"...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1188:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.backgroundManager?.setDepthColormap(colorm...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/LatticeEngine.ts` | 1194:35 | : void | ğŸŸ¢ LOW | Return Type | `setDepthOpacity(opacity: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1196:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.backgroundManager?.setDepthOpacity(opacity);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/LatticeEngine.ts` | 1208:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.backgroundManager?.getDepthMapSetti...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/LatticeEngine.ts` | 1218:36 | : void | ğŸŸ¢ LOW | Return Type | `private ensureBackgroundManager(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1231:52 | : void | ğŸŸ¢ LOW | Return Type | `setRenderMode(mode: "color" \| "depth" \| "normal...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1251:33 | : void | ğŸŸ¢ LOW | Return Type | `initializeEnvironmentSupport(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1276:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1290:42 | : void | ğŸŸ¢ LOW | Return Type | `setEnvironmentEnabled(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1298:45 | : void | ğŸŸ¢ LOW | Return Type | `setEnvironmentIntensity(intensity: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1306:42 | : void | ğŸŸ¢ LOW | Return Type | `setEnvironmentRotation(degrees: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1314:45 | : void | ğŸŸ¢ LOW | Return Type | `setEnvironmentBackgroundBlur(blur: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1321:43 | : void | ğŸŸ¢ LOW | Return Type | `setEnvironmentAsBackground(use: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1339:46 | : void | ğŸŸ¢ LOW | Return Type | `setCompositionGridVisible(visible: boolean): vo...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1346:45 | : void | ğŸŸ¢ LOW | Return Type | `setOutsideOverlayVisible(visible: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1353:48 | : void | ğŸŸ¢ LOW | Return Type | `setCompositionBoundsVisible(visible: boolean): ...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1402:43 | : void | ğŸŸ¢ LOW | Return Type | `private ensureTransformControlsManager(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1420:32 | : void | ğŸŸ¢ LOW | Return Type | `initializeTransformControls(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1423:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.transformControlsManager?.initialize();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/LatticeEngine.ts` | 1434:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1436:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.transformControlsManager?.setTransformChan...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/LatticeEngine.ts` | 1443:38 | : void | ğŸŸ¢ LOW | Return Type | `selectLayer(layerId: string \| null): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1446:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.transformControlsManager?.selectLayer(laye...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/LatticeEngine.ts` | 1452:32 | : void | ğŸŸ¢ LOW | Return Type | `focusOnLayer(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1454:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.transformControlsManager?.focusOnLayer(lay...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/LatticeEngine.ts` | 1461:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.transformControlsManager?.getSelect...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/LatticeEngine.ts` | 1468:59 | : void | ğŸŸ¢ LOW | Return Type | `setTransformMode(mode: "translate" \| "rotate" \|...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1470:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.transformControlsManager?.setMode(mode);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/LatticeEngine.ts` | 1477:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.transformControlsManager?.getMode()...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/LatticeEngine.ts` | 1483:48 | : void | ğŸŸ¢ LOW | Return Type | `setTransformControlsVisible(visible: boolean): ...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1484:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.transformControlsManager?.setVisible(visib...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/LatticeEngine.ts` | 1491:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.transformControlsManager?.isDraggin...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/LatticeEngine.ts` | 1501:10 | : void | ğŸŸ¢ LOW | Return Type | `start(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1508:9 | : void | ğŸŸ¢ LOW | Return Type | `stop(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1545:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(quality) && quality >= 0 && qua...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/LatticeEngine.ts` | 1591:26 | : void | ğŸŸ¢ LOW | Return Type | `resetPerformanceStats(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1604:57 | : void | ğŸŸ¢ LOW | Return Type | `on(type: EngineEventType, handler: EngineEventH...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1608:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.eventHandlers.get(type)?.add(handler);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/LatticeEngine.ts` | 1616:58 | : void | ğŸŸ¢ LOW | Return Type | `off(type: EngineEventType, handler: EngineEvent...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1617:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.eventHandlers.get(type)?.delete(handler);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/LatticeEngine.ts` | 1620:54 | : void | ğŸŸ¢ LOW | Return Type | `private emit(type: EngineEventType, data?: unkn...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1627:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.eventHandlers.get(type)?.forEach((handler)...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/LatticeEngine.ts` | 1640:37 | : void | ğŸŸ¢ LOW | Return Type | `private setupContextLossHandling(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1681:30 | : void | ğŸŸ¢ LOW | Return Type | `private assertNotDisposed(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1736:46 | : void | ğŸŸ¢ LOW | Return Type | `clearNestedCompCache(compositionId: string): vo...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1737:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.nestedCompRenderer?.clearCache(composition...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/LatticeEngine.ts` | 1743:29 | : void | ğŸŸ¢ LOW | Return Type | `clearAllNestedCompCaches(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/LatticeEngine.ts` | 1744:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.nestedCompRenderer?.clearAllCaches();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/LatticeEngine.ts` | 1755:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/AudioLayer.ts` | 64:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `assetId: data?.assetId ?? null,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/AudioLayer.ts` | 65:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `level: data?.level ?? createAnimatableProperty(...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/AudioLayer.ts` | 66:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `muted: data?.muted ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/AudioLayer.ts` | 67:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `solo: data?.solo ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/AudioLayer.ts` | 68:16 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `pan: data?.pan ?? createAnimatableProperty("Pan...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/AudioLayer.ts` | 69:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `loop: data?.loop ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/AudioLayer.ts` | 70:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `startTime: data?.startTime ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/AudioLayer.ts` | 71:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `speed: data?.speed ?? 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/AudioLayer.ts` | 72:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `showWaveform: data?.showWaveform ?? true,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/AudioLayer.ts` | 73:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `waveformColor: data?.waveformColor ?? "#4a90d9",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/AudioLayer.ts` | 74:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `exposeFeatures: data?.exposeFeatures ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/AudioLayer.ts` | 82:27 | : void | ğŸŸ¢ LOW | Return Type | `private createIconMesh(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/AudioLayer.ts` | 130:43 | : void | ğŸŸ¢ LOW | Return Type | `protected onEvaluateFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/AudioLayer.ts` | 154:49 | : void | ğŸŸ¢ LOW | Return Type | `protected onUpdate(properties: Partial<Layer>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/AudioLayer.ts` | 162:24 | : void | ğŸŸ¢ LOW | Return Type | `protected onDispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/AudioLayer.ts` | 200:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validFps = Number.isFinite(fps) && fps > ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/AudioLayer.ts` | 201:31 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validFrame = Number.isFinite(frame) ? fra...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/AudioLayer.ts` | 204:31 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validSpeed = Number.isFinite(this.audioDa...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/AudioLayer.ts` | 207:35 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validStartTime = Number.isFinite(this.aud...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/AudioLayer.ts` | 227:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.playbackNodes?.buffer) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/AudioLayer.ts` | 241:42 | : void | ğŸŸ¢ LOW | Return Type | `initializePlayback(buffer: AudioBuffer): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/AudioLayer.ts` | 264:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.updateGain(this.audioData.level?.value ?? 0);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/AudioLayer.ts` | 265:38 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.updatePan(this.audioData.pan?.value ?? 0);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/AudioLayer.ts` | 271:44 | : void | ğŸŸ¢ LOW | Return Type | `startPlayback(frame: number, fps: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/AudioLayer.ts` | 327:17 | : void | ğŸŸ¢ LOW | Return Type | `stopPlayback(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/AudioLayer.ts` | 345:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.playbackNodes?.isPlaying ?? false;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/AudioLayer.ts` | 352:30 | : void | ğŸŸ¢ LOW | Return Type | `updateGain(levelDb: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/AudioLayer.ts` | 356:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validDb = Number.isFinite(levelDb) ? leve...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/AudioLayer.ts` | 373:25 | : void | ğŸŸ¢ LOW | Return Type | `updatePan(pan: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/AudioLayer.ts` | 377:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validPan = Number.isFinite(pan) ? pan : 0;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/AudioLayer.ts` | 391:43 | : void | ğŸŸ¢ LOW | Return Type | `scrubAtFrame(frame: number, fps: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/AudioLayer.ts` | 430:40 | : void | ğŸŸ¢ LOW | Return Type | `updatePlaybackForFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/AudioLayer.ts` | 458:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.playbackNodes?.buffer ?? null;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/BaseLayer.ts` | 243:34 | : void | ğŸŸ¢ LOW | Return Type | `protected initializeBlendMode(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 267:31 | : void | ğŸŸ¢ LOW | Return Type | `evaluateFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 298:45 | : void | ğŸŸ¢ LOW | Return Type | `protected evaluateTransform(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 418:5 | : void | ğŸŸ¢ LOW | Return Type | `}): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 422:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const posX = Number.isFinite(position.x) ? posi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 423:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const posY = Number.isFinite(position.y) ? posi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 424:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const posZ = Number.isFinite(position.z) ? posi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 425:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const originX = Number.isFinite(origin.x) ? ori...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 426:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const originY = Number.isFinite(origin.y) ? ori...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 427:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const originZ = Number.isFinite(origin.z) ? ori...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 428:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const rotX = Number.isFinite(rotation.x) ? rota...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 429:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const rotY = Number.isFinite(rotation.y) ? rota...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 430:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const rotZ = Number.isFinite(rotation.z) ? rota...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 432:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const scaleX = Number.isFinite(scale.x) ? scale...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 433:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const scaleY = Number.isFinite(scale.y) ? scale...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 434:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const scaleZ = Number.isFinite(scale.z) ? scale...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 468:70 | : void | ğŸŸ¢ LOW | Return Type | `applyAutoOrient(camera?: THREE.Camera, pathTang...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 530:38 | : void | ğŸŸ¢ LOW | Return Type | `setAutoOrient(mode: AutoOrientMode): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 537:42 | : void | ğŸŸ¢ LOW | Return Type | `protected applyOpacity(opacity: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 539:33 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validOpacity = Number.isFinite(opacity) ?...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 575:71 | : void | ğŸŸ¢ LOW | Return Type | `applyEvaluatedState(state: import("../MotionEng...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 668:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 682:37 | : void | ğŸŸ¢ LOW | Return Type | `update(properties: Partial<Layer>): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 771:31 | : void | ğŸŸ¢ LOW | Return Type | `setVisible(visible: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 800:47 | : void | ğŸŸ¢ LOW | Return Type | `setDrivenValues(values: Map<string, number>): v...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 807:22 | : void | ğŸŸ¢ LOW | Return Type | `clearDrivenValues(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 817:45 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (drivenValue !== undefined && Number.isFinit...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 821:19 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `return Number.isFinite(baseValue) ? baseValue : 0;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 833:63 | : void | ğŸŸ¢ LOW | Return Type | `setAudioReactiveValues(values: Map<TargetParame...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 840:29 | : void | ğŸŸ¢ LOW | Return Type | `clearAudioReactiveValues(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 863:30 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validBase = Number.isFinite(baseValue) ? ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 867:31 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validAudio = Number.isFinite(audioValue) ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 887:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(result)) result = validBase;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 890:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validMin = Number.isFinite(range.min) ? r...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 891:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validMax = Number.isFinite(range.max) ? r...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 906:40 | : void | ğŸŸ¢ LOW | Return Type | `setEffects(effects: EffectInstance[]): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 933:38 | : void | ğŸŸ¢ LOW | Return Type | `setEffectsEnabled(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 949:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!this.layerStyles?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/BaseLayer.ts` | 954:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.layerStyles.dropShadow?.enabled \|\|` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/BaseLayer.ts` | 955:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.layerStyles.innerShadow?.enabled \|\|` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/BaseLayer.ts` | 956:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.layerStyles.outerGlow?.enabled \|\|` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/BaseLayer.ts` | 957:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.layerStyles.innerGlow?.enabled \|\|` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/BaseLayer.ts` | 958:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.layerStyles.bevelEmboss?.enabled \|\|` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/BaseLayer.ts` | 959:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.layerStyles.satin?.enabled \|\|` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/BaseLayer.ts` | 960:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.layerStyles.colorOverlay?.enabled \|\|` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/BaseLayer.ts` | 961:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.layerStyles.gradientOverlay?.enabled \|\|` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/BaseLayer.ts` | 962:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.layerStyles.stroke?.enabled` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/BaseLayer.ts` | 1084:50 | : void | ğŸŸ¢ LOW | Return Type | `setLayerStyles(styles: LayerStyles \| undefined)...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 1092:40 | : void | ğŸŸ¢ LOW | Return Type | `setQuality(quality: "draft" \| "best"): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 1118:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const hasStyles = this.layerStyles?.enabled && ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/BaseLayer.ts` | 1235:71 | : void | ğŸŸ¢ LOW | Return Type | `protected applyProcessedEffects(_processedCanva...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 1254:73 | : void | ğŸŸ¢ LOW | Return Type | `protected initializeMotionBlurProcessor(width: ...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 1275:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `(this.motionBlurSettings?.shutterAngle ?? 180)` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/BaseLayer.ts` | 1279:46 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `shutterAngle: this.motionBlurSettings?.shutterA...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/BaseLayer.ts` | 1280:46 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `shutterPhase: this.motionBlurSettings?.shutterP...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/BaseLayer.ts` | 1281:49 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `samplesPerFrame: this.motionBlurSettings?.sampl...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/BaseLayer.ts` | 1398:34 | : void | ğŸŸ¢ LOW | Return Type | `setMotionBlur(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 1402:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.motionBlurProcessor?.clearBuffer();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/BaseLayer.ts` | 1410:68 | : void | ğŸŸ¢ LOW | Return Type | `setMotionBlurSettings(settings: Partial<LayerMo...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 1460:51 | : void | ğŸŸ¢ LOW | Return Type | `setMatteCanvas(canvas: HTMLCanvasElement \| null...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 1465:56 | : void | ğŸŸ¢ LOW | Return Type | `setTrackMatteCanvas(canvas: HTMLCanvasElement \|...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 1516:31 | : void | ğŸŸ¢ LOW | Return Type | `setMasks(masks: LayerMask[]): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 1554:43 | : void | ğŸŸ¢ LOW | Return Type | `protected evaluateEffects(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 1598:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 1666:38 | : void | ğŸŸ¢ LOW | Return Type | `setParent(parent: BaseLayer \| null): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 1705:33 | : void | ğŸŸ¢ LOW | Return Type | `setCompositionFps(fps: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 1707:34 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.compositionFps = Number.isFinite(fps) && f...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 1718:41 | : void | ğŸŸ¢ LOW | Return Type | `protected applyBlendMode(mode: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 1730:60 | : void | ğŸŸ¢ LOW | Return Type | `computeMotionPath(startFrame?: number, endFrame...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 1734:26 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const start = Number.isFinite(rawStart)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 1737:24 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const end = Number.isFinite(rawEnd) ? Math.floo...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 1750:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validX = Number.isFinite(pos.x) ? pos.x : 0;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 1751:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validY = Number.isFinite(pos.y) ? pos.y : 0;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 1752:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validZ = Number.isFinite(pos.z) ? pos.z : 0;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/BaseLayer.ts` | 1763:30 | : void | ğŸŸ¢ LOW | Return Type | `private rebuildMotionPath(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 1819:36 | : void | ğŸŸ¢ LOW | Return Type | `private createMotionPathMarkers(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 1854:41 | : void | ğŸŸ¢ LOW | Return Type | `setMotionPathVisible(visible: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 1881:46 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return (this.transform.position.keyframes?.leng...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/BaseLayer.ts` | 1891:37 | : void | ğŸŸ¢ LOW | Return Type | `createAxisGizmo(size: number = 50): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 1954:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const originVal = originProp?.value \|\| { x: 0, ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/BaseLayer.ts` | 1964:38 | : void | ğŸŸ¢ LOW | Return Type | `private addAxisLabels(size: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 2000:40 | : void | ğŸŸ¢ LOW | Return Type | `setAxisGizmoVisible(visible: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 2022:28 | : void | ğŸŸ¢ LOW | Return Type | `updateAxisGizmoPosition(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 2026:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const originVal = originProp?.value \|\| { x: 0, ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/BaseLayer.ts` | 2060:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/BaseLayer.ts` | 2097:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `child.geometry?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/BaseLayer.ts` | 2117:24 | : void | ğŸŸ¢ LOW | Return Type | `protected onDispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/blendModeUtils.ts` | 21:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/blendModeUtils.ts` | 128:72 | : void | ğŸŸ¢ LOW | Return Type | `export function applyBlendModeToGroup(group: TH...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/CameraLayer.ts` | 120:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `cameraId: data?.cameraId ?? "",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/CameraLayer.ts` | 121:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `isActiveCamera: data?.isActiveCamera ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/CameraLayer.ts` | 122:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `pathFollowing: data?.pathFollowing,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/CameraLayer.ts` | 133:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/CameraLayer.ts` | 142:59 | : void | ğŸŸ¢ LOW | Return Type | `setSplineProvider(provider: CameraSplineProvide...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/CameraLayer.ts` | 149:39 | : void | ğŸŸ¢ LOW | Return Type | `setCompositionAspect(aspect: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/CameraLayer.ts` | 152:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(aspect) && aspect > 0 ? aspect ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/CameraLayer.ts` | 166:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.cameraData.pathFollowing?.enabled ?...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/CameraLayer.ts` | 172:21 | : void | ğŸŸ¢ LOW | Return Type | `resetAutoAdvance(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/CameraLayer.ts` | 183:28 | : void | ğŸŸ¢ LOW | Return Type | `private createWireframe(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/CameraLayer.ts` | 266:26 | : void | ğŸŸ¢ LOW | Return Type | `private createFrustum(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/CameraLayer.ts` | 278:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(camera.nearClip) && camera.near...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/CameraLayer.ts` | 281:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const rawFar = Number.isFinite(camera.farClip) ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/CameraLayer.ts` | 283:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const rawAngle = Number.isFinite(camera.angleOf...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/CameraLayer.ts` | 355:33 | : void | ğŸŸ¢ LOW | Return Type | `private updateWireframeColor(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/CameraLayer.ts` | 419:35 | : void | ğŸŸ¢ LOW | Return Type | `setActiveCamera(active: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/CameraLayer.ts` | 438:40 | : void | ğŸŸ¢ LOW | Return Type | `setWireframeVisible(visible: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/CameraLayer.ts` | 448:38 | : void | ğŸŸ¢ LOW | Return Type | `setFrustumVisible(visible: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/CameraLayer.ts` | 459:43 | : void | ğŸŸ¢ LOW | Return Type | `protected onEvaluateFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/CameraLayer.ts` | 472:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `pathFollowing?.enabled &&` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/CameraLayer.ts` | 536:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/CameraLayer.ts` | 542:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.cameraData.pathFollowing?.enabled` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/CameraLayer.ts` | 560:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/CameraLayer.ts` | 570:33 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validSpeed = Number.isFinite(pathFollowin...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/CameraLayer.ts` | 573:33 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validFrame = Number.isFinite(frame) ? fra...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/CameraLayer.ts` | 586:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(t)) t = 0;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/CameraLayer.ts` | 593:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(audioMod.pathPosition) &&` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/CameraLayer.ts` | 618:35 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validLookAhead = Number.isFinite(pathFoll...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/CameraLayer.ts` | 632:33 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validOffsetY = Number.isFinite(pathFollow...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/CameraLayer.ts` | 669:43 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validBankingStrength = Number.isFinite(` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/CameraLayer.ts` | 707:22 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (Number.isFinite(cross)) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/CameraLayer.ts` | 720:49 | : void | ğŸŸ¢ LOW | Return Type | `protected onUpdate(properties: Partial<Layer>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/CameraLayer.ts` | 741:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (data.pathFollowing?.autoAdvance) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/CameraLayer.ts` | 786:29 | : void | ğŸŸ¢ LOW | Return Type | `private disposeWireframe(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/CameraLayer.ts` | 800:27 | : void | ğŸŸ¢ LOW | Return Type | `private disposeFrustum(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/CameraLayer.ts` | 814:24 | : void | ğŸŸ¢ LOW | Return Type | `protected onDispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ControlLayer.ts` | 40:28 | : void | ğŸŸ¢ LOW | Return Type | `private createIndicator(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ControlLayer.ts` | 106:40 | : void | ğŸŸ¢ LOW | Return Type | `setIndicatorVisible(visible: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ControlLayer.ts` | 115:33 | : void | ğŸŸ¢ LOW | Return Type | `setIndicatorSize(size: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ControlLayer.ts` | 117:30 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validSize = Number.isFinite(size) && size...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ControlLayer.ts` | 133:29 | : void | ğŸŸ¢ LOW | Return Type | `private disposeIndicator(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ControlLayer.ts` | 155:44 | : void | ğŸŸ¢ LOW | Return Type | `protected onEvaluateFrame(_frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ControlLayer.ts` | 162:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ControlLayer.ts` | 167:49 | : void | ğŸŸ¢ LOW | Return Type | `protected onUpdate(properties: Partial<Layer>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ControlLayer.ts` | 181:24 | : void | ğŸŸ¢ LOW | Return Type | `protected onDispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 177:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `sourceLayerId: data?.sourceLayerId ?? "",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 178:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `depthLayerId: data?.depthLayerId ?? "",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 180:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `preset: data?.config?.preset ?? "static",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 180:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `preset: data?.config?.preset ?? "static",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 181:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `zoom: data?.config?.zoom ?? 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 181:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `zoom: data?.config?.zoom ?? 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 182:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `offsetX: data?.config?.offsetX ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 182:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `offsetX: data?.config?.offsetX ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 183:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `offsetY: data?.config?.offsetY ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 183:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `offsetY: data?.config?.offsetY ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 184:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `rotation: data?.config?.rotation ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 184:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `rotation: data?.config?.rotation ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 185:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `depthScale: data?.config?.depthScale ?? 0.1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 185:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `depthScale: data?.config?.depthScale ?? 0.1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 186:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `focusDepth: data?.config?.focusDepth ?? 0.5,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 186:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `focusDepth: data?.config?.focusDepth ?? 0.5,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 187:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `dollyZoom: data?.config?.dollyZoom ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 187:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `dollyZoom: data?.config?.dollyZoom ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 188:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `orbitRadius: data?.config?.orbitRadius ?? 0.1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 188:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `orbitRadius: data?.config?.orbitRadius ?? 0.1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 189:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `orbitSpeed: data?.config?.orbitSpeed ?? 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 189:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `orbitSpeed: data?.config?.orbitSpeed ?? 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 190:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `swingAmplitude: data?.config?.swingAmplitude ??...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 190:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `swingAmplitude: data?.config?.swingAmplitude ??...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 191:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `swingFrequency: data?.config?.swingFrequency ?? 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 191:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `swingFrequency: data?.config?.swingFrequency ?? 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 192:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `edgeDilation: data?.config?.edgeDilation ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 192:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `edgeDilation: data?.config?.edgeDilation ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 193:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `inpaintEdges: data?.config?.inpaintEdges ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 193:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `inpaintEdges: data?.config?.inpaintEdges ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 195:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `animatedZoom: data?.animatedZoom,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 196:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `animatedOffsetX: data?.animatedOffsetX,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 197:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `animatedOffsetY: data?.animatedOffsetY,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 198:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `animatedRotation: data?.animatedRotation,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 199:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `animatedDepthScale: data?.animatedDepthScale,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 258:47 | : void | ğŸŸ¢ LOW | Return Type | `setDimensions(width: number, height: number): v...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 260:31 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validWidth = Number.isFinite(width) && wi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 261:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validHeight = Number.isFinite(height) && ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 281:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.sourceTexture?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 294:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.depthTexture?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 303:49 | : void | ğŸŸ¢ LOW | Return Type | `updateConfig(config: Partial<DepthflowConfig>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 425:43 | : void | ğŸŸ¢ LOW | Return Type | `protected onEvaluateFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 486:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 518:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(audioMod.depthflowZoom) &&` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 526:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(audioMod.depthflowOffsetX) &&` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 534:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(audioMod.depthflowOffsetY) &&` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 542:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(audioMod.depthflowRotation) &&` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 553:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(audioMod.depthflowDepthScale) &&` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 562:49 | : void | ğŸŸ¢ LOW | Return Type | `protected onUpdate(properties: Partial<Layer>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 613:24 | : void | ğŸŸ¢ LOW | Return Type | `protected onDispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 615:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.sourceTexture?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthflowLayer.ts` | 616:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.depthTexture?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthLayer.ts` | 49:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `assetId: data?.assetId ?? null,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthLayer.ts` | 50:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `visualizationMode: data?.visualizationMode ?? "...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthLayer.ts` | 51:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `colorMap: data?.colorMap ?? "turbo",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthLayer.ts` | 52:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `invert: data?.invert ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthLayer.ts` | 53:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `minDepth: data?.minDepth ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthLayer.ts` | 54:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `maxDepth: data?.maxDepth ?? 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthLayer.ts` | 55:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `autoNormalize: data?.autoNormalize ?? true,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthLayer.ts` | 56:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `contourLevels: data?.contourLevels ?? 10,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthLayer.ts` | 57:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `contourColor: data?.contourColor ?? "#ffffff",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthLayer.ts` | 58:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `contourWidth: data?.contourWidth ?? 1.0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthLayer.ts` | 60:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `data?.meshDisplacement ??` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthLayer.ts` | 62:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `meshResolution: data?.meshResolution ?? 64,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthLayer.ts` | 63:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `wireframe: data?.wireframe ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/DepthLayer.ts` | 67:23 | : void | ğŸŸ¢ LOW | Return Type | `private createMesh(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/DepthLayer.ts` | 168:34 | : void | ğŸŸ¢ LOW | Return Type | `private updateColormapTexture(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/DepthLayer.ts` | 197:37 | : void | ğŸŸ¢ LOW | Return Type | `setTexture(texture: THREE.Texture): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/DepthLayer.ts` | 208:43 | : void | ğŸŸ¢ LOW | Return Type | `protected onEvaluateFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/DepthLayer.ts` | 231:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const minDepth = Number.isFinite(this.depthData...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/DepthLayer.ts` | 234:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const maxDepth = Number.isFinite(this.depthData...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/DepthLayer.ts` | 243:49 | : void | ğŸŸ¢ LOW | Return Type | `protected onUpdate(properties: Partial<Layer>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/DepthLayer.ts` | 262:20 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(data.contourLevels) && data.con...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/DepthLayer.ts` | 269:37 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validWidth = Number.isFinite(data.contour...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/DepthLayer.ts` | 278:24 | : void | ğŸŸ¢ LOW | Return Type | `protected onDispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/EffectLayer.ts` | 91:23 | : void | ğŸŸ¢ LOW | Return Type | `private createMesh(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/EffectLayer.ts` | 109:52 | : void | ğŸŸ¢ LOW | Return Type | `private resizeMesh(width: number, height: numbe...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/EffectLayer.ts` | 113:31 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validWidth = Number.isFinite(width) && wi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/EffectLayer.ts` | 114:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validHeight = Number.isFinite(height) && ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/EffectLayer.ts` | 137:54 | : void | ğŸŸ¢ LOW | Return Type | `setRenderContext(context: EffectLayerRenderCont...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/EffectLayer.ts` | 148:40 | : void | ğŸŸ¢ LOW | Return Type | `setAffectedLayers(layerIds: string[]): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/EffectLayer.ts` | 163:43 | : void | ğŸŸ¢ LOW | Return Type | `protected onEvaluateFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/EffectLayer.ts` | 221:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/EffectLayer.ts` | 225:35 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validOpacity = Number.isFinite(state.opac...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/EffectLayer.ts` | 239:57 | : void | ğŸŸ¢ LOW | Return Type | `private updateResultTexture(canvas: HTMLCanvasE...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/EffectLayer.ts` | 274:39 | : void | ğŸŸ¢ LOW | Return Type | `setEffectLayerMode(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/EffectLayer.ts` | 290:38 | : void | ğŸŸ¢ LOW | Return Type | `setAdjustmentMode(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/EffectLayer.ts` | 298:49 | : void | ğŸŸ¢ LOW | Return Type | `protected onUpdate(properties: Partial<Layer>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/EffectLayer.ts` | 312:24 | : void | ğŸŸ¢ LOW | Return Type | `protected onDispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/GeneratedLayer.ts` | 39:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `generationType: data?.generationType ?? "depth",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/GeneratedLayer.ts` | 40:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `sourceLayerId: data?.sourceLayerId ?? null,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/GeneratedLayer.ts` | 41:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `model: data?.model ?? "depth-anything-v2",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/GeneratedLayer.ts` | 42:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `parameters: data?.parameters ?? {},` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/GeneratedLayer.ts` | 43:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `generatedAssetId: data?.generatedAssetId ?? null,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/GeneratedLayer.ts` | 44:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `status: data?.status ?? "pending",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/GeneratedLayer.ts` | 45:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `autoRegenerate: data?.autoRegenerate ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/GeneratedLayer.ts` | 46:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `lastGenerated: data?.lastGenerated,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/GeneratedLayer.ts` | 47:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `errorMessage: data?.errorMessage,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/GeneratedLayer.ts` | 51:23 | : void | ğŸŸ¢ LOW | Return Type | `private createMesh(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/GeneratedLayer.ts` | 69:34 | : void | ğŸŸ¢ LOW | Return Type | `private createStatusIndicator(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/GeneratedLayer.ts` | 99:37 | : void | ğŸŸ¢ LOW | Return Type | `setTexture(texture: THREE.Texture): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/GeneratedLayer.ts` | 111:44 | : void | ğŸŸ¢ LOW | Return Type | `protected onEvaluateFrame(_frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/GeneratedLayer.ts` | 123:49 | : void | ğŸŸ¢ LOW | Return Type | `protected onUpdate(properties: Partial<Layer>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/GeneratedLayer.ts` | 141:24 | : void | ğŸŸ¢ LOW | Return Type | `protected onDispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/GroupLayer.ts` | 37:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `collapsed: data?.collapsed ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/GroupLayer.ts` | 38:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `color: data?.color ?? "#888888",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/GroupLayer.ts` | 39:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `passThrough: data?.passThrough ?? true,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/GroupLayer.ts` | 40:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `isolate: data?.isolate ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/GroupLayer.ts` | 44:26 | : void | ğŸŸ¢ LOW | Return Type | `private createVisuals(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/GroupLayer.ts` | 50:30 | : void | ğŸŸ¢ LOW | Return Type | `private createBoundingBox(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/GroupLayer.ts` | 73:24 | : void | ğŸŸ¢ LOW | Return Type | `private createLabel(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/GroupLayer.ts` | 99:44 | : void | ğŸŸ¢ LOW | Return Type | `protected onEvaluateFrame(_frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/GroupLayer.ts` | 115:49 | : void | ğŸŸ¢ LOW | Return Type | `protected onUpdate(properties: Partial<Layer>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/GroupLayer.ts` | 123:24 | : void | ğŸŸ¢ LOW | Return Type | `protected onDispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/GroupLayer.ts` | 142:52 | : void | ğŸŸ¢ LOW | Return Type | `updateBoundsFromChildren(childBounds: THREE.Box...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/GroupLayer.ts` | 213:20 | : void | ğŸŸ¢ LOW | Return Type | `toggleCollapsed(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ImageLayer.ts` | 96:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `source: data?.source ?? data?.url ?? data?.asse...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ImageLayer.ts` | 96:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `source: data?.source ?? data?.url ?? data?.asse...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ImageLayer.ts` | 96:48 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `source: data?.source ?? data?.url ?? data?.asse...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ImageLayer.ts` | 97:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `targetWidth: data?.width ?? null,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ImageLayer.ts` | 98:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `targetHeight: data?.height ?? null,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ImageLayer.ts` | 99:16 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `fit: data?.fit ?? "none",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ImageLayer.ts` | 130:37 | : void | ğŸŸ¢ LOW | Return Type | `setTexture(texture: THREE.Texture): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ImageLayer.ts` | 154:48 | : void | ğŸŸ¢ LOW | Return Type | `setTextureFromImageData(imageData: ImageData): ...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ImageLayer.ts` | 172:68 | : void | ğŸŸ¢ LOW | Return Type | `setTextureFromCanvas(canvas: HTMLCanvasElement ...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ImageLayer.ts` | 190:27 | : void | ğŸŸ¢ LOW | Return Type | `private updateMeshSize(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ImageLayer.ts` | 197:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(this.imageWidth) && this.imageW...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ImageLayer.ts` | 201:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(this.imageHeight) && this.image...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ImageLayer.ts` | 208:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(this.targetWidth) &&` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ImageLayer.ts` | 212:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(this.targetHeight) &&` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ImageLayer.ts` | 275:47 | : void | ğŸŸ¢ LOW | Return Type | `setDimensions(width: number, height: number): v...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ImageLayer.ts` | 277:30 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.imageWidth = Number.isFinite(width) && wid...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ImageLayer.ts` | 278:31 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.imageHeight = Number.isFinite(height) && h...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ImageLayer.ts` | 292:34 | : void | ğŸŸ¢ LOW | Return Type | `setTint(color: string \| number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ImageLayer.ts` | 300:14 | : void | ğŸŸ¢ LOW | Return Type | `clearTint(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ImageLayer.ts` | 314:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!this.originalTexture?.image) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ImageLayer.ts` | 357:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ImageLayer.ts` | 380:43 | : void | ğŸŸ¢ LOW | Return Type | `protected onEvaluateFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ImageLayer.ts` | 387:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ImageLayer.ts` | 399:49 | : void | ğŸŸ¢ LOW | Return Type | `protected onUpdate(properties: Partial<Layer>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ImageLayer.ts` | 404:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (data?.source \|\| data?.url \|\| data?.assetId) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ImageLayer.ts` | 404:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (data?.source \|\| data?.url \|\| data?.assetId) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ImageLayer.ts` | 404:42 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (data?.source \|\| data?.url \|\| data?.assetId) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ImageLayer.ts` | 412:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (data?.fit !== undefined && data.fit !== thi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ImageLayer.ts` | 418:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (data?.width !== undefined \|\| data?.height !...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ImageLayer.ts` | 418:42 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (data?.width !== undefined \|\| data?.height !...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ImageLayer.ts` | 430:24 | : void | ğŸŸ¢ LOW | Return Type | `protected onDispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 181:30 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validKelvin = Number.isFinite(kelvin) ? k...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/LightLayer.ts` | 279:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `lightType: data?.lightType ?? "point",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 280:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `color: data?.color ?? "#ffffff",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 281:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `colorTemperature: data?.colorTemperature,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 282:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `useColorTemperature: data?.useColorTemperature ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 283:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `intensity: data?.intensity ?? 100,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 284:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `physicalIntensity: data?.physicalIntensity,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 285:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `usePhysicalIntensity: data?.usePhysicalIntensit...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 286:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `radius: data?.radius ?? 500,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 287:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `falloff: data?.falloff ?? "none",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 288:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `falloffDistance: data?.falloffDistance ?? 500,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 289:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `coneAngle: data?.coneAngle ?? 90,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 290:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `coneFeather: data?.coneFeather ?? 50,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 291:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `areaWidth: data?.areaWidth ?? 100,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 292:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `areaHeight: data?.areaHeight ?? 100,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 295:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `enabled: data?.pointOfInterest?.enabled ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 295:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `enabled: data?.pointOfInterest?.enabled ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 296:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `targetType: data?.pointOfInterest?.targetType ?...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 296:42 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `targetType: data?.pointOfInterest?.targetType ?...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 297:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `position: data?.pointOfInterest?.position ?? {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 297:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `position: data?.pointOfInterest?.position ?? {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 305:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `targetLayerId: data?.pointOfInterest?.targetLay...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 305:45 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `targetLayerId: data?.pointOfInterest?.targetLay...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 306:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `offset: data?.pointOfInterest?.offset ?? { x: 0...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 306:38 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `offset: data?.pointOfInterest?.offset ?? { x: 0...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 307:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `smoothing: data?.pointOfInterest?.smoothing ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 307:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `smoothing: data?.pointOfInterest?.smoothing ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 311:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `enabled: data?.pathFollowing?.enabled ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 311:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `enabled: data?.pathFollowing?.enabled ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 312:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `splineLayerId: data?.pathFollowing?.splineLayerId,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 312:43 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `splineLayerId: data?.pathFollowing?.splineLayerId,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 313:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `progress: data?.pathFollowing?.progress ?? {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 313:38 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `progress: data?.pathFollowing?.progress ?? {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 321:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `autoOrient: data?.pathFollowing?.autoOrient ?? ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 321:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `autoOrient: data?.pathFollowing?.autoOrient ?? ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 322:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `bankAngle: data?.pathFollowing?.bankAngle ?? {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 322:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `bankAngle: data?.pathFollowing?.bankAngle ?? {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 333:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `enabled: data?.shadow?.enabled ?? data?.castSha...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 333:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `enabled: data?.shadow?.enabled ?? data?.castSha...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 333:47 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `enabled: data?.shadow?.enabled ?? data?.castSha...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 334:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `type: data?.shadow?.type ?? "pcf",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 334:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `type: data?.shadow?.type ?? "pcf",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 335:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `mapSize: data?.shadow?.mapSize ?? 1024,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 335:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `mapSize: data?.shadow?.mapSize ?? 1024,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 336:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `darkness: data?.shadow?.darkness ?? data?.shado...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 336:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `darkness: data?.shadow?.darkness ?? data?.shado...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 336:49 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `darkness: data?.shadow?.darkness ?? data?.shado...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 337:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `radius: data?.shadow?.radius ?? data?.shadowDif...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 337:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `radius: data?.shadow?.radius ?? data?.shadowDif...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 337:45 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `radius: data?.shadow?.radius ?? data?.shadowDif...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 338:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `bias: data?.shadow?.bias ?? -0.0001,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 338:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `bias: data?.shadow?.bias ?? -0.0001,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 339:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `normalBias: data?.shadow?.normalBias ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 339:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `normalBias: data?.shadow?.normalBias ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 340:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `cameraNear: data?.shadow?.cameraNear ?? 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 340:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `cameraNear: data?.shadow?.cameraNear ?? 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 341:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `cameraFar: data?.shadow?.cameraFar ?? 1000,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 341:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `cameraFar: data?.shadow?.cameraFar ?? 1000,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 342:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `cameraSize: data?.shadow?.cameraSize ?? 500,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 342:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `cameraSize: data?.shadow?.cameraSize ?? 500,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 346:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `mode: data?.lightLinking?.mode ?? "include",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 346:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `mode: data?.lightLinking?.mode ?? "include",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 347:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `layers: data?.lightLinking?.layers ?? [],` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 347:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `layers: data?.lightLinking?.layers ?? [],` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 350:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `animatedIntensity: data?.animatedIntensity,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 351:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `animatedConeAngle: data?.animatedConeAngle,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 352:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `animatedColor: data?.animatedColor,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 353:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `animatedColorTemperature: data?.animatedColorTe...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 447:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 499:25 | : void | ğŸŸ¢ LOW | Return Type | `private createHelper(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 559:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 566:47 | : void | ğŸŸ¢ LOW | Return Type | `private updatePointOfInterest(frame: number): v...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 636:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 643:45 | : void | ğŸŸ¢ LOW | Return Type | `private updatePathFollowing(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 677:32 | : void | ğŸŸ¢ LOW | Return Type | `setLightType(type: LightType): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 692:26 | : void | ğŸŸ¢ LOW | Return Type | `setColor(color: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 698:38 | : void | ğŸŸ¢ LOW | Return Type | `setColorTemperature(kelvin: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 705:34 | : void | ğŸŸ¢ LOW | Return Type | `setIntensity(intensity: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 707:35 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validIntensity = Number.isFinite(intensit...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/LightLayer.ts` | 713:39 | : void | ğŸŸ¢ LOW | Return Type | `setFalloffDistance(distance: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 715:34 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validDistance = Number.isFinite(distance)...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/LightLayer.ts` | 726:30 | : void | ğŸŸ¢ LOW | Return Type | `setConeAngle(angle: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 729:33 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validAngle = Number.isFinite(angle) ? ang...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/LightLayer.ts` | 738:34 | : void | ğŸŸ¢ LOW | Return Type | `setConeFeather(feather: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 741:35 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validFeather = Number.isFinite(feather) ?...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/LightLayer.ts` | 747:45 | : void | ğŸŸ¢ LOW | Return Type | `setAreaSize(width: number, height: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 750:33 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validWidth = Number.isFinite(width) && wi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/LightLayer.ts` | 751:34 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validHeight = Number.isFinite(height) && ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/LightLayer.ts` | 759:37 | : void | ğŸŸ¢ LOW | Return Type | `setShadowEnabled(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 770:34 | : void | ğŸŸ¢ LOW | Return Type | `setShadowType(type: ShadowType): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 781:46 | : void | ğŸŸ¢ LOW | Return Type | `setPointOfInterestEnabled(enabled: boolean): vo...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 785:51 | : void | ğŸŸ¢ LOW | Return Type | `setPointOfInterestTarget(layerId: string \| null...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 795:44 | : void | ğŸŸ¢ LOW | Return Type | `setPathFollowingEnabled(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 799:46 | : void | ğŸŸ¢ LOW | Return Type | `setPathSpline(splineLayerId: string \| null): vo...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 858:54 | : void | ğŸŸ¢ LOW | Return Type | `setDriverPropertyValue(path: string, value: num...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 971:37 | : void | ğŸŸ¢ LOW | Return Type | `setHelperVisible(visible: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 981:43 | : void | ğŸŸ¢ LOW | Return Type | `protected onEvaluateFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 993:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.lightData.animatedIntensity?.animated) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 1003:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.lightData.animatedConeAngle?.animated &&` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 1017:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.lightData.animatedColor?.animated) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 1027:46 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.lightData.animatedColorTemperature?.animat...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/LightLayer.ts` | 1052:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 1115:49 | : void | ğŸŸ¢ LOW | Return Type | `protected onUpdate(properties: Partial<Layer>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/LightLayer.ts` | 1200:24 | : void | ğŸŸ¢ LOW | Return Type | `protected onDispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 102:30 | : void | ğŸŸ¢ LOW | Return Type | `private initializeLoaders(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 145:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `assetId: data?.assetId ?? "",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 146:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `format: data?.format ?? "gltf",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 147:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `scale: data?.scale ?? defaultScale,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 148:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `uniformScale: data?.uniformScale ?? true,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 149:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `materialOverride: data?.materialOverride,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 150:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `animation: data?.animation,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 151:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `boundingBox: data?.boundingBox,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 152:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `castShadow: data?.castShadow ?? true,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 153:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `receiveShadow: data?.receiveShadow ?? true,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 154:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `frustumCulled: data?.frustumCulled ?? true,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 155:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `renderOrder: data?.renderOrder ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 156:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `showBoundingBox: data?.showBoundingBox ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 157:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `showSkeleton: data?.showSkeleton ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 158:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `envMapIntensity: data?.envMapIntensity ?? 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 159:16 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `lod: data?.lod,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 229:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `ModelLayer.gltfLoader?.load(` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 250:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `ModelLayer.objLoader?.load(url, resolve, undefi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 259:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `ModelLayer.fbxLoader?.load(` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 280:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `ModelLayer.colladaLoader?.load(` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 342:30 | : void | ğŸŸ¢ LOW | Return Type | `private createPlaceholder(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 367:43 | : void | ğŸŸ¢ LOW | Return Type | `private setModel(object: THREE.Object3D): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 402:35 | : void | ğŸŸ¢ LOW | Return Type | `private storeOriginalMaterials(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 405:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.model?.traverse((child) => {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 415:32 | : void | ğŸŸ¢ LOW | Return Type | `private applyShadowSettings(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 416:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.model?.traverse((child) => {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 429:33 | : void | ğŸŸ¢ LOW | Return Type | `private calculateBoundingBox(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 451:50 | : void | ğŸŸ¢ LOW | Return Type | `private setupAnimations(object: THREE.Object3D)...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 487:34 | : void | ğŸŸ¢ LOW | Return Type | `playAnimation(clipName: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 501:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.modelData.animation?.loop ? THREE.LoopRepe...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 514:18 | : void | ğŸŸ¢ LOW | Return Type | `stopAnimation(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 527:33 | : void | ğŸŸ¢ LOW | Return Type | `setAnimationTime(time: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 530:30 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validTime = Number.isFinite(time) ? Math....` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ModelLayer.ts` | 538:45 | : void | ğŸŸ¢ LOW | Return Type | `private updateAnimation(deltaTime: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 541:43 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const speed = this.modelData.animation?.speed ?...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 552:57 | : void | ğŸŸ¢ LOW | Return Type | `applyMaterialOverride(override: ModelMaterialOv...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 568:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 634:29 | : void | ğŸŸ¢ LOW | Return Type | `restoreOriginalMaterials(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 647:36 | : void | ğŸŸ¢ LOW | Return Type | `private updateBoundingBoxHelper(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 665:33 | : void | ğŸŸ¢ LOW | Return Type | `private updateSkeletonHelper(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 698:64 | : void | ğŸŸ¢ LOW | Return Type | `setScale(scale: number \| { x: number; y: number...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 703:33 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validScale = Number.isFinite(scale) ? sca...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ModelLayer.ts` | 707:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validX = Number.isFinite(scale.x) ? scale...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ModelLayer.ts` | 708:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validY = Number.isFinite(scale.y) ? scale...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ModelLayer.ts` | 709:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validZ = Number.isFinite(scale.z) ? scale...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ModelLayer.ts` | 722:36 | : void | ğŸŸ¢ LOW | Return Type | `setShowBoundingBox(show: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 730:33 | : void | ğŸŸ¢ LOW | Return Type | `setShowSkeleton(show: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 739:22 | : void | ğŸŸ¢ LOW | Return Type | `setFPS(fps: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 758:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.modelData.animation?.clips ?? [];` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 786:43 | : void | ğŸŸ¢ LOW | Return Type | `protected onEvaluateFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 802:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.modelData.animation?.time) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 813:47 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.mixer && this.modelData.animation?.aut...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ModelLayer.ts` | 826:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 838:49 | : void | ğŸŸ¢ LOW | Return Type | `protected onUpdate(properties: Partial<Layer>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 893:24 | : void | ğŸŸ¢ LOW | Return Type | `protected onDispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 900:25 | : void | ğŸŸ¢ LOW | Return Type | `private disposeModel(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ModelLayer.ts` | 918:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.model?.traverse((child) => {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 110:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `compositionId: data?.compositionId ?? "",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 112:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `speedMapEnabled: data?.speedMapEnabled ?? data?...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 112:53 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `speedMapEnabled: data?.speedMapEnabled ?? data?...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 113:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `speedMap: data?.speedMap ?? data?.timeRemap,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 113:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `speedMap: data?.speedMap ?? data?.timeRemap,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 116:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `data?.timeRemapEnabled ?? data?.speedMapEnabled...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 116:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `data?.timeRemapEnabled ?? data?.speedMapEnabled...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 117:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `timeRemap: data?.timeRemap ?? data?.speedMap,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 117:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `timeRemap: data?.timeRemap ?? data?.speedMap,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 118:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `flattenTransform: data?.flattenTransform ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 119:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `overrideFrameRate: data?.overrideFrameRate ?? f...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 120:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `frameRate: data?.frameRate,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 127:23 | : void | ğŸŸ¢ LOW | Return Type | `private createMesh(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 149:53 | : void | ğŸŸ¢ LOW | Return Type | `setRenderContext(context: NestedCompRenderConte...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 159:22 | : void | ğŸŸ¢ LOW | Return Type | `setFPS(fps: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 161:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.parentFPS = Number.isFinite(fps) && fps > ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 167:28 | : void | ğŸŸ¢ LOW | Return Type | `private loadComposition(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 188:52 | : void | ğŸŸ¢ LOW | Return Type | `private resizeMesh(width: number, height: numbe...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 215:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(rawNestedFps) && rawNestedFps >...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 229:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validTime = Number.isFinite(remappedTime)...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 235:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const timeStretch = Number.isFinite(rawTimeStre...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 253:16 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(this.parentFPS) && this.parentF...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 257:16 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(this.nestedCompData.frameRate) &&` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 273:19 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `return Number.isFinite(nestedFrame) ? Math.floo...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 280:43 | : void | ğŸŸ¢ LOW | Return Type | `protected onEvaluateFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 319:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 325:35 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validOpacity = Number.isFinite(state.opac...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 351:40 | : void | ğŸŸ¢ LOW | Return Type | `setComposition(compositionId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 359:39 | : void | ğŸŸ¢ LOW | Return Type | `setSpeedMapEnabled(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 365:40 | : void | ğŸŸ¢ LOW | Return Type | `setTimeRemapEnabled(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 372:52 | : void | ğŸŸ¢ LOW | Return Type | `setSpeedMap(speedMap: AnimatableProperty<number...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 378:54 | : void | ğŸŸ¢ LOW | Return Type | `setTimeRemap(timeRemap: AnimatableProperty<numb...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 385:40 | : void | ğŸŸ¢ LOW | Return Type | `setFlattenTransform(flatten: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 396:48 | : void | ğŸŸ¢ LOW | Return Type | `setCollapseTransformations(collapse: boolean): ...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 519:56 | : void | ğŸŸ¢ LOW | Return Type | `setFrameRateOverride(override: boolean, fps?: n...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 528:49 | : void | ğŸŸ¢ LOW | Return Type | `protected onUpdate(properties: Partial<Layer>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/NestedCompLayer.ts` | 593:24 | : void | ğŸŸ¢ LOW | Return Type | `protected onDispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/NormalLayer.ts` | 36:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `assetId: data?.assetId ?? null,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NormalLayer.ts` | 37:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `visualizationMode: data?.visualizationMode ?? "...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NormalLayer.ts` | 38:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `format: data?.format ?? "opengl",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NormalLayer.ts` | 39:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `flipX: data?.flipX ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NormalLayer.ts` | 40:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `flipY: data?.flipY ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NormalLayer.ts` | 41:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `flipZ: data?.flipZ ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NormalLayer.ts` | 42:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `arrowDensity: data?.arrowDensity ?? 16,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NormalLayer.ts` | 43:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `arrowScale: data?.arrowScale ?? 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NormalLayer.ts` | 44:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `arrowColor: data?.arrowColor ?? "#00ff00",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NormalLayer.ts` | 45:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `lightDirection: data?.lightDirection ?? { x: 0....` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NormalLayer.ts` | 46:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `lightIntensity: data?.lightIntensity ?? 1.0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NormalLayer.ts` | 47:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `ambientIntensity: data?.ambientIntensity ?? 0.2,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NormalLayer.ts` | 51:23 | : void | ğŸŸ¢ LOW | Return Type | `private createMesh(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/NormalLayer.ts` | 63:59 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `Number.isFinite(this.normalData.lightDirection?.x)` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NormalLayer.ts` | 63:20 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(this.normalData.lightDirection?.x)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/NormalLayer.ts` | 66:59 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `Number.isFinite(this.normalData.lightDirection?.y)` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NormalLayer.ts` | 66:20 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(this.normalData.lightDirection?.y)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/NormalLayer.ts` | 69:59 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `Number.isFinite(this.normalData.lightDirection?.z)` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/NormalLayer.ts` | 69:20 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(this.normalData.lightDirection?.z)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/NormalLayer.ts` | 75:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `value: Number.isFinite(this.normalData.lightInt...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/NormalLayer.ts` | 80:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `value: Number.isFinite(this.normalData.ambientI...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/NormalLayer.ts` | 169:37 | : void | ğŸŸ¢ LOW | Return Type | `setTexture(texture: THREE.Texture): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/NormalLayer.ts` | 180:44 | : void | ğŸŸ¢ LOW | Return Type | `protected onEvaluateFrame(_frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/NormalLayer.ts` | 194:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const lx = Number.isFinite(this.normalData.ligh...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/NormalLayer.ts` | 197:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const ly = Number.isFinite(this.normalData.ligh...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/NormalLayer.ts` | 200:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const lz = Number.isFinite(this.normalData.ligh...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/NormalLayer.ts` | 207:49 | : void | ğŸŸ¢ LOW | Return Type | `protected onUpdate(properties: Partial<Layer>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/NormalLayer.ts` | 215:24 | : void | ğŸŸ¢ LOW | Return Type | `protected onDispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 234:54 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `emissionThreshold: emitter.depthMapEmission?.de...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ParticleLayer.ts` | 243:50 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `emissionThreshold: emitter.maskEmission?.thresh...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ParticleLayer.ts` | 270:36 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `config.maxParticles = Number.isFinite(rawMaxPar...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ParticleLayer.ts` | 535:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (data.flocking?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ParticleLayer.ts` | 538:16 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(val) ? val! : def;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ParticleLayer.ts` | 555:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (data.collision?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ParticleLayer.ts` | 606:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (data.renderOptions.connections?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ParticleLayer.ts` | 739:56 | : void | ğŸŸ¢ LOW | Return Type | `initializeWithRenderer(renderer: THREE.WebGLRen...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 785:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.pendingGlowConfig?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ParticleLayer.ts` | 796:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.pendingCollisionConfig?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ParticleLayer.ts` | 802:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.pendingShadowConfig?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ParticleLayer.ts` | 827:28 | : void | ğŸŸ¢ LOW | Return Type | `private storeBaseValues(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 874:5 | : void | ğŸŸ¢ LOW | Return Type | `}): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 884:45 | : void | ğŸŸ¢ LOW | Return Type | `setRenderer(renderer: THREE.WebGLRenderer): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 896:97 | : void | ğŸŸ¢ LOW | Return Type | `setSplineProvider(provider: import("../particle...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 905:45 | : void | ğŸŸ¢ LOW | Return Type | `updateShadowsFromScene(scene: THREE.Scene): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 911:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (obj.castShadow && obj.shadow?.map?.texture) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ParticleLayer.ts` | 911:46 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (obj.castShadow && obj.shadow?.map?.texture) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ParticleLayer.ts` | 921:22 | : void | ğŸŸ¢ LOW | Return Type | `setFPS(fps: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 923:23 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.fps = Number.isFinite(fps) && fps > 0 ? fp...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ParticleLayer.ts` | 945:61 | : void | ğŸŸ¢ LOW | Return Type | `updateEmitter(id: string, updates: Partial<Emit...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 952:28 | : void | ğŸŸ¢ LOW | Return Type | `removeEmitter(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 978:67 | : void | ğŸŸ¢ LOW | Return Type | `updateForceField(id: string, updates: Partial<F...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 985:31 | : void | ğŸŸ¢ LOW | Return Type | `removeForceField(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 996:56 | : void | ğŸŸ¢ LOW | Return Type | `setAudioFeature(feature: AudioFeature, value: n...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1003:16 | : void | ğŸŸ¢ LOW | Return Type | `triggerBeat(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1010:35 | : void | ğŸŸ¢ LOW | Return Type | `triggerBurst(emitterId?: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1026:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1044:26 | : void | ğŸŸ¢ LOW | Return Type | `step(deltaTime: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1067:10 | : void | ğŸŸ¢ LOW | Return Type | `reset(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1075:15 | : void | ğŸŸ¢ LOW | Return Type | `clearCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1097:31 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validStart = Number.isFinite(startFrame)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1100:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validEnd = Number.isFinite(endFrame)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1130:37 | : void | ğŸŸ¢ LOW | Return Type | `setCacheInterval(interval: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1177:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.particleData?.speedMapEnabled && this....` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1177:73 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.particleData?.speedMapEnabled && this....` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1183:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validTime = Number.isFinite(remappedTime)...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1190:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const timeStretch = Number.isFinite(rawTimeStre...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1204:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (isReversed && this.particleData?.systemConf...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1212:19 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `return Number.isFinite(simulationFrame) && simu...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1215:43 | : void | ğŸŸ¢ LOW | Return Type | `protected onEvaluateFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1250:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1276:33 | : void | ğŸŸ¢ LOW | Return Type | `evaluateAtFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1286:39 | : void | ğŸŸ¢ LOW | Return Type | `private applyEmissionRateModifiers(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1297:60 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const emitterMods = this.currentEmitterAudioMod...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1298:42 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const emissionRateMod = emitterMods?.emissionRa...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1319:33 | : void | ğŸŸ¢ LOW | Return Type | `private applyAudioReactivity(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1336:60 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const emitterMods = this.currentEmitterAudioMod...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1339:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const speed = emitterMods?.speed ?? layerSpeed;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1340:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const size = emitterMods?.size ?? layerSize;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1383:49 | : void | ğŸŸ¢ LOW | Return Type | `protected onUpdate(properties: Partial<Layer>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1423:24 | : void | ğŸŸ¢ LOW | Return Type | `protected onDispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1435:17 | : void | ğŸŸ¢ LOW | Return Type | `createGizmos(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1454:53 | : void | ğŸŸ¢ LOW | Return Type | `private createEmitterGizmo(emitter: EmitterConf...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1530:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `emitter.shape.boxSize?.x ?? 100,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1531:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `emitter.shape.boxSize?.y ?? 100,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1532:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `emitter.shape.boxSize?.z ?? 100,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1630:57 | : void | ğŸŸ¢ LOW | Return Type | `private createForceFieldGizmo(field: ForceField...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1785:25 | : void | ğŸŸ¢ LOW | Return Type | `updateGizmoPositions(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1814:44 | : void | ğŸŸ¢ LOW | Return Type | `setEmitterGizmosVisible(visible: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1824:47 | : void | ğŸŸ¢ LOW | Return Type | `setForceFieldGizmosVisible(visible: boolean): v...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1834:26 | : void | ğŸŸ¢ LOW | Return Type | `private disposeGizmos(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1911:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1955:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1957:33 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeGridSize = Number.isFinite(gridSize) ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1958:30 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeDepth = Number.isFinite(depth) && dep...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1959:34 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeCompWidth = Number.isFinite(compWidth...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ParticleLayer.ts` | 1960:35 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeCompHeight = Number.isFinite(compHeig...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ParticleLayer.ts` | 2030:43 | : void | ğŸŸ¢ LOW | Return Type | `createParticleAxis(length: number = 200): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 2122:42 | : void | ğŸŸ¢ LOW | Return Type | `setHorizonLineVisible(visible: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 2132:43 | : void | ğŸŸ¢ LOW | Return Type | `setParticleGridVisible(visible: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 2142:43 | : void | ğŸŸ¢ LOW | Return Type | `setParticleAxisVisible(visible: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ParticleLayer.ts` | 2152:63 | : void | ğŸŸ¢ LOW | Return Type | `updateHorizonLine(floorY: number, compHeight: n...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PathLayer.ts` | 82:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `controlPoints: data?.controlPoints ?? [],` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PathLayer.ts` | 83:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `closed: data?.closed ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PathLayer.ts` | 84:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `pathData: data?.pathData ?? "",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PathLayer.ts` | 85:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `showGuide: data?.showGuide ?? true,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PathLayer.ts` | 86:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `guideColor: data?.guideColor ?? "#00FFFF",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PathLayer.ts` | 87:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `guideDashPattern: data?.guideDashPattern ?? [10...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PathLayer.ts` | 88:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `animatedControlPoints: data?.animatedControlPoi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PathLayer.ts` | 89:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `animated: data?.animated,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PathLayer.ts` | 96:22 | : void | ğŸŸ¢ LOW | Return Type | `private buildPath(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PathLayer.ts` | 119:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `p0.handleOut?.x ?? p0.x,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PathLayer.ts` | 120:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `-(p0.handleOut?.y ?? p0.y),` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PathLayer.ts` | 124:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `p1.handleIn?.x ?? p1.x,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PathLayer.ts` | 125:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `-(p1.handleIn?.y ?? p1.y),` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PathLayer.ts` | 145:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `lastPoint.handleOut?.x ?? lastPoint.x,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PathLayer.ts` | 146:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `-(lastPoint.handleOut?.y ?? lastPoint.y),` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PathLayer.ts` | 150:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `firstPoint.handleIn?.x ?? firstPoint.x,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PathLayer.ts` | 151:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `-(firstPoint.handleIn?.y ?? firstPoint.y),` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PathLayer.ts` | 169:28 | : void | ğŸŸ¢ LOW | Return Type | `private createGuideLine(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PathLayer.ts` | 216:27 | : void | ğŸŸ¢ LOW | Return Type | `private clearGuideLine(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PathLayer.ts` | 236:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validT = Number.isFinite(t) ? Math.max(0,...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/PathLayer.ts` | 246:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validT = Number.isFinite(t) ? Math.max(0,...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/PathLayer.ts` | 391:30 | : void | ğŸŸ¢ LOW | Return Type | `setShowGuide(show: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PathLayer.ts` | 409:31 | : void | ğŸŸ¢ LOW | Return Type | `setGuideColor(color: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PathLayer.ts` | 419:49 | : void | ğŸŸ¢ LOW | Return Type | `setGuideDashPattern(pattern: [number, number]):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PathLayer.ts` | 433:47 | : void | ğŸŸ¢ LOW | Return Type | `setResolution(width: number, height: number): v...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PathLayer.ts` | 435:31 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validWidth = Number.isFinite(width) && wi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/PathLayer.ts` | 436:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validHeight = Number.isFinite(height) && ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/PathLayer.ts` | 449:43 | : void | ğŸŸ¢ LOW | Return Type | `setControlPoints(points: ControlPoint[]): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PathLayer.ts` | 461:61 | : void | ğŸŸ¢ LOW | Return Type | `setAnimatedControlPoints(points: AnimatableCont...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PathLayer.ts` | 473:29 | : void | ğŸŸ¢ LOW | Return Type | `setClosed(closed: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PathLayer.ts` | 483:43 | : void | ğŸŸ¢ LOW | Return Type | `protected onEvaluateFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PathLayer.ts` | 501:72 | : void | ğŸŸ¢ LOW | Return Type | `private buildPathFromEvaluatedPoints(points: Ev...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PathLayer.ts` | 519:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `p0.handleOut?.x ?? p0.x,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PathLayer.ts` | 520:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `-(p0.handleOut?.y ?? p0.y),` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PathLayer.ts` | 524:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `p1.handleIn?.x ?? p1.x,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PathLayer.ts` | 525:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `-(p1.handleIn?.y ?? p1.y),` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PathLayer.ts` | 542:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `lastPoint.handleOut?.x ?? lastPoint.x,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PathLayer.ts` | 543:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `-(lastPoint.handleOut?.y ?? lastPoint.y),` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PathLayer.ts` | 547:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `firstPoint.handleIn?.x ?? firstPoint.x,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PathLayer.ts` | 548:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `-(firstPoint.handleIn?.y ?? firstPoint.y),` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PathLayer.ts` | 565:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PathLayer.ts` | 579:49 | : void | ğŸŸ¢ LOW | Return Type | `protected onUpdate(properties: Partial<Layer>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PathLayer.ts` | 620:24 | : void | ğŸŸ¢ LOW | Return Type | `protected onDispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 89:30 | : void | ğŸŸ¢ LOW | Return Type | `private initializeLoaders(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 124:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `assetId: data?.assetId ?? "",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 125:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `format: data?.format ?? "ply",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 126:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `pointCount: data?.pointCount ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 127:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `pointSize: data?.pointSize ?? defaultPointSize,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 128:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `sizeAttenuation: data?.sizeAttenuation ?? true,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 129:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `minPointSize: data?.minPointSize ?? 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 130:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `maxPointSize: data?.maxPointSize ?? 64,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 131:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `colorMode: data?.colorMode ?? "rgb",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 132:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `uniformColor: data?.uniformColor ?? "#ffffff",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 133:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `colorGradient: data?.colorGradient,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 134:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `renderMode: data?.renderMode ?? "circles",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 135:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `opacity: data?.opacity ?? defaultOpacity,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 136:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `depthTest: data?.depthTest ?? true,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 137:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `depthWrite: data?.depthWrite ?? true,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 138:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `boundingBox: data?.boundingBox,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 139:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `showBoundingBox: data?.showBoundingBox ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 140:16 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `lod: data?.lod,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 141:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `octree: data?.octree,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 142:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `pointBudget: data?.pointBudget ?? 1000000,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 143:16 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `edl: data?.edl,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 144:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `clipPlanes: data?.clipPlanes,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 145:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `classificationFilter: data?.classificationFilter,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 146:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `intensityRange: data?.intensityRange,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 212:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `PointCloudLayer.plyLoader?.load(url, resolve, u...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 221:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `PointCloudLayer.pcdLoader?.load(` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 478:30 | : void | ğŸŸ¢ LOW | Return Type | `private createPlaceholder(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 486:54 | : void | ğŸŸ¢ LOW | Return Type | `private setGeometry(geometry: THREE.BufferGeome...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 525:36 | : void | ğŸŸ¢ LOW | Return Type | `private storeOriginalAttributes(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 544:27 | : void | ğŸŸ¢ LOW | Return Type | `private createMaterial(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 666:47 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const stops = this.cloudData.colorGradient?.sto...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 707:33 | : void | ğŸŸ¢ LOW | Return Type | `private calculateBoundingBox(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 738:44 | : void | ğŸŸ¢ LOW | Return Type | `applyColorMode(mode: PointCloudColorMode): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 791:32 | : void | ğŸŸ¢ LOW | Return Type | `private applyHeightColoring(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 832:31 | : void | ğŸŸ¢ LOW | Return Type | `private applyDepthColoring(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 871:32 | : void | ğŸŸ¢ LOW | Return Type | `private applyNormalColoring(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 909:35 | : void | ğŸŸ¢ LOW | Return Type | `private applyIntensityColoring(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 959:40 | : void | ğŸŸ¢ LOW | Return Type | `private applyClassificationColoring(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 1020:36 | : void | ğŸŸ¢ LOW | Return Type | `private updateBoundingBoxHelper(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 1041:29 | : void | ğŸŸ¢ LOW | Return Type | `setPointSize(size: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 1044:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validSize = Number.isFinite(size) && size...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 1052:30 | : void | ğŸŸ¢ LOW | Return Type | `setOpacity(opacity: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 1055:35 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validOpacity = Number.isFinite(opacity)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 1065:33 | : void | ğŸŸ¢ LOW | Return Type | `setUniformColor(color: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 1075:44 | : void | ğŸŸ¢ LOW | Return Type | `setRenderMode(mode: PointCloudRenderMode): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 1085:36 | : void | ğŸŸ¢ LOW | Return Type | `setShowBoundingBox(show: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 1126:43 | : void | ğŸŸ¢ LOW | Return Type | `protected onEvaluateFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 1157:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 1169:49 | : void | ğŸŸ¢ LOW | Return Type | `protected onUpdate(properties: Partial<Layer>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 1221:24 | : void | ğŸŸ¢ LOW | Return Type | `protected onDispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PointCloudLayer.ts` | 1228:30 | : void | ğŸŸ¢ LOW | Return Type | `private disposePointCloud(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PoseLayer.ts` | 310:53 | : void | ğŸŸ¢ LOW | Return Type | `private renderPoses(width: number, height: numb...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PoseLayer.ts` | 341:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PoseLayer.ts` | 455:52 | : void | ğŸŸ¢ LOW | Return Type | `setCompositionSize(width: number, height: numbe...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PoseLayer.ts` | 457:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.compWidth = Number.isFinite(width) && widt...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/PoseLayer.ts` | 458:30 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.compHeight = Number.isFinite(height) && he...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/PoseLayer.ts` | 464:43 | : void | ğŸŸ¢ LOW | Return Type | `protected onEvaluateFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PoseLayer.ts` | 480:49 | : void | ğŸŸ¢ LOW | Return Type | `protected onUpdate(properties: Partial<Layer>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PoseLayer.ts` | 527:5 | : void | ğŸŸ¢ LOW | Return Type | `}): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PoseLayer.ts` | 563:37 | : void | ğŸŸ¢ LOW | Return Type | `flipPoseHorizontal(poseId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PoseLayer.ts` | 628:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PoseLayer.ts` | 643:53 | : void | ğŸŸ¢ LOW | Return Type | `export function scalePose(pose: Pose, scale: nu...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PoseLayer.ts` | 670:61 | : void | ğŸŸ¢ LOW | Return Type | `export function rotatePose(pose: Pose, angleDeg...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/PoseLayer.ts` | 703:66 | : void | ğŸŸ¢ LOW | Return Type | `export function translatePose(pose: Pose, dx: n...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 168:23 | : void | ğŸŸ¢ LOW | Return Type | `private createMesh(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 189:47 | : void | ğŸŸ¢ LOW | Return Type | `setDimensions(width: number, height: number): v...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 191:31 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validWidth = Number.isFinite(width) && wi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 192:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validHeight = Number.isFinite(height) && ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 211:43 | : void | ğŸŸ¢ LOW | Return Type | `protected onEvaluateFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 221:49 | : void | ğŸŸ¢ LOW | Return Type | `protected onUpdate(properties: Partial<Layer>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 237:39 | : void | ğŸŸ¢ LOW | Return Type | `private renderPattern(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 326:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 361:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 395:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 434:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 479:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 519:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 557:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 603:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 639:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 683:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 741:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 778:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 827:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 884:37 | : void | ğŸŸ¢ LOW | Return Type | `private applyLevels(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 893:36 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validInputBlack = Number.isFinite(inputBl...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 894:36 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validInputWhite = Number.isFinite(inputWh...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 895:31 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validGamma = Number.isFinite(gamma) && ga...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 896:37 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validOutputBlack = Number.isFinite(output...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 897:37 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validOutputWhite = Number.isFinite(output...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 945:25 | : void | ğŸŸ¢ LOW | Return Type | `private invertCanvas(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 1020:70 | : void | ğŸŸ¢ LOW | Return Type | `protected applyProcessedEffects(processedCanvas...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ProceduralMatteLayer.ts` | 1035:24 | : void | ğŸŸ¢ LOW | Return Type | `protected onDispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ShapeLayer.ts` | 195:41 | : void | ğŸŸ¢ LOW | Return Type | `setSize(width: number, height: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ShapeLayer.ts` | 197:31 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validWidth = Number.isFinite(width) && wi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ShapeLayer.ts` | 198:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validHeight = Number.isFinite(height) && ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ShapeLayer.ts` | 230:37 | : void | ğŸŸ¢ LOW | Return Type | `setShapeData(data: ShapeLayerData): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ShapeLayer.ts` | 235:36 | : void | ğŸŸ¢ LOW | Return Type | `addContent(content: ShapeContent): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ShapeLayer.ts` | 240:31 | : void | ğŸŸ¢ LOW | Return Type | `removeContent(index: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ShapeLayer.ts` | 245:54 | : void | ğŸŸ¢ LOW | Return Type | `updateContent(index: number, content: ShapeCont...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ShapeLayer.ts` | 256:31 | : void | ğŸŸ¢ LOW | Return Type | `evaluateFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ShapeLayer.ts` | 265:43 | : void | ğŸŸ¢ LOW | Return Type | `protected onEvaluateFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ShapeLayer.ts` | 274:49 | : void | ğŸŸ¢ LOW | Return Type | `protected onUpdate(properties: Partial<Layer>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ShapeLayer.ts` | 282:36 | : void | ğŸŸ¢ LOW | Return Type | `onApplyEvaluatedState(state: any): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ShapeLayer.ts` | 297:24 | : void | ğŸŸ¢ LOW | Return Type | `private renderShape(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ShapeLayer.ts` | 546:35 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validStart = Number.isFinite(start) ? sta...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ShapeLayer.ts` | 547:33 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validEnd = Number.isFinite(end) ? end : 100;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ShapeLayer.ts` | 548:36 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validOffset = Number.isFinite(offset) ? o...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ShapeLayer.ts` | 710:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const copies = Number.isFinite(rawCopies) ? Mat...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/ShapeLayer.ts` | 758:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ShapeLayer.ts` | 834:46 | : void | ğŸŸ¢ LOW | Return Type | `private renderPath(evalPath: EvaluatedPath): vo...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ShapeLayer.ts` | 1010:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/ShapeLayer.ts` | 1074:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SolidLayer.ts` | 72:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `position: layerData.transform?.position?.value,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SolidLayer.ts` | 72:46 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `position: layerData.transform?.position?.value,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SolidLayer.ts` | 144:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `color: data?.color ?? "#808080",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SolidLayer.ts` | 145:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `width: data?.width ?? 1920,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SolidLayer.ts` | 146:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `height: data?.height ?? 1080,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SolidLayer.ts` | 147:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `animatedColor: data?.animatedColor,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SolidLayer.ts` | 148:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `shadowCatcher: data?.shadowCatcher ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SolidLayer.ts` | 149:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `shadowOpacity: data?.shadowOpacity ?? 50,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SolidLayer.ts` | 150:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `shadowColor: data?.shadowColor ?? "#000000",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SolidLayer.ts` | 151:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `receiveShadow: data?.receiveShadow ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SolidLayer.ts` | 158:26 | : void | ğŸŸ¢ LOW | Return Type | `setColor(color: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SolidLayer.ts` | 179:47 | : void | ğŸŸ¢ LOW | Return Type | `setDimensions(width: number, height: number): v...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SolidLayer.ts` | 181:31 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validWidth = Number.isFinite(width) && wi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/SolidLayer.ts` | 182:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validHeight = Number.isFinite(height) && ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/SolidLayer.ts` | 207:37 | : void | ğŸŸ¢ LOW | Return Type | `setShadowCatcher(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SolidLayer.ts` | 217:36 | : void | ğŸŸ¢ LOW | Return Type | `setShadowOpacity(opacity: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SolidLayer.ts` | 219:33 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validOpacity = Number.isFinite(opacity) ?...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/SolidLayer.ts` | 230:32 | : void | ğŸŸ¢ LOW | Return Type | `setShadowColor(color: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SolidLayer.ts` | 241:37 | : void | ğŸŸ¢ LOW | Return Type | `setReceiveShadow(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SolidLayer.ts` | 256:28 | : void | ğŸŸ¢ LOW | Return Type | `private rebuildMaterial(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SolidLayer.ts` | 277:43 | : void | ğŸŸ¢ LOW | Return Type | `protected onEvaluateFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SolidLayer.ts` | 279:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.animatedColor?.animated && !this.shado...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SolidLayer.ts` | 292:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SolidLayer.ts` | 313:49 | : void | ğŸŸ¢ LOW | Return Type | `protected onUpdate(properties: Partial<Layer>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SolidLayer.ts` | 317:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (data?.shadowCatcher !== undefined) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SolidLayer.ts` | 322:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (data?.receiveShadow !== undefined) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SolidLayer.ts` | 326:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (data?.color !== undefined) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SolidLayer.ts` | 330:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (data?.width !== undefined \|\| data?.height !...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SolidLayer.ts` | 330:42 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (data?.width !== undefined \|\| data?.height !...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SolidLayer.ts` | 332:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `data?.width ?? this.width,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SolidLayer.ts` | 333:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `data?.height ?? this.height,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SolidLayer.ts` | 338:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (data?.shadowOpacity !== undefined) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SolidLayer.ts` | 342:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (data?.shadowColor !== undefined) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SolidLayer.ts` | 347:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (data?.animatedColor !== undefined) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SolidLayer.ts` | 353:24 | : void | ğŸŸ¢ LOW | Return Type | `protected onDispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 143:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.trimStartProp = data?.trimStart;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 144:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.trimEndProp = data?.trimEnd;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 145:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.trimOffsetProp = data?.trimOffset;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 146:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.pathEffects = data?.pathEffects;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 168:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `controlPoints: data?.controlPoints ?? [],` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 169:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `closed: data?.closed ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 170:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `stroke: data?.stroke ?? "#00ff00",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 171:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `strokeWidth: data?.strokeWidth ?? 2,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 172:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `fill: data?.fill ?? "",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 173:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `pathData: data?.pathData ?? "",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 180:49 | : void | ğŸŸ¢ LOW | Return Type | `private initializeLOD(data: SplineData \| null):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 190:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (lodSettings?.enabled \|\| shouldAutoEnable) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 194:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (lodSettings?.levels && lodSettings.levels.l...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 207:38 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const tolerance = lodSettings?.simplificationTo...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 221:56 | : void | ğŸŸ¢ LOW | Return Type | `public updateLODContext(context: Partial<LODCon...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 228:50 | : void | ğŸŸ¢ LOW | Return Type | `private initializeWarp(data: SplineData \| null)...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 230:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const pins = data?.warpPins ?? data?.puppetPins;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 230:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const pins = data?.warpPins ?? data?.puppetPins;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 246:26 | : void | ğŸŸ¢ LOW | Return Type | `public enableWarpMode(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 262:28 | : void | ğŸŸ¢ LOW | Return Type | `public enablePuppetMode(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 269:27 | : void | ğŸŸ¢ LOW | Return Type | `public disableWarpMode(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 280:29 | : void | ğŸŸ¢ LOW | Return Type | `public disablePuppetMode(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 340:38 | : void | ğŸŸ¢ LOW | Return Type | `public removeWarpPin(pinId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 356:40 | : void | ğŸŸ¢ LOW | Return Type | `public removePuppetPin(pinId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 378:68 | : void | ğŸŸ¢ LOW | Return Type | `public updateWarpPinPosition(pinId: string, x: ...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 383:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validX = Number.isFinite(x) ? x : 0;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/SplineLayer.ts` | 384:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validY = Number.isFinite(y) ? y : 0;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/SplineLayer.ts` | 398:70 | : void | ğŸŸ¢ LOW | Return Type | `public updatePuppetPinPosition(pinId: string, x...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 406:38 | : void | ğŸŸ¢ LOW | Return Type | `public setWarpPins(pins: WarpPin[]): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 422:40 | : void | ğŸŸ¢ LOW | Return Type | `public setPuppetPins(pins: WarpPin[]): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 429:24 | : void | ğŸŸ¢ LOW | Return Type | `private buildSpline(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 452:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `p0.handleOut?.x ?? p0.x,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 453:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `-(p0.handleOut?.y ?? p0.y),` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 457:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `p1.handleIn?.x ?? p1.x,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 458:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `-(p1.handleIn?.y ?? p1.y),` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 479:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `lastPoint.handleOut?.x ?? lastPoint.x,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 480:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `-(lastPoint.handleOut?.y ?? lastPoint.y),` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 484:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `firstPoint.handleIn?.x ?? firstPoint.x,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 485:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `-(firstPoint.handleIn?.y ?? firstPoint.y),` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 532:51 | : void | ğŸŸ¢ LOW | Return Type | `private createFill(curvePoints: THREE.Vector3[]...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 562:24 | : void | ğŸŸ¢ LOW | Return Type | `private clearMeshes(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 590:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validT = Number.isFinite(t) ? Math.max(0,...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/SplineLayer.ts` | 600:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validT = Number.isFinite(t) ? Math.max(0,...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/SplineLayer.ts` | 643:27 | : void | ğŸŸ¢ LOW | Return Type | `setStroke(color: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 653:32 | : void | ğŸŸ¢ LOW | Return Type | `setStrokeWidth(width: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 655:31 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validWidth = Number.isFinite(width) && wi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/SplineLayer.ts` | 666:25 | : void | ğŸŸ¢ LOW | Return Type | `setFill(color: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 682:47 | : void | ğŸŸ¢ LOW | Return Type | `setResolution(width: number, height: number): v...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 684:31 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validWidth = Number.isFinite(width) && wi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/SplineLayer.ts` | 685:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validHeight = Number.isFinite(height) && ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/SplineLayer.ts` | 698:43 | : void | ğŸŸ¢ LOW | Return Type | `setControlPoints(points: ControlPoint[]): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 710:61 | : void | ğŸŸ¢ LOW | Return Type | `setAnimatedControlPoints(points: AnimatableCont...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 744:21 | : void | ğŸŸ¢ LOW | Return Type | `disableAnimation(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 767:29 | : void | ğŸŸ¢ LOW | Return Type | `setClosed(closed: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 788:30 | : void | ğŸŸ¢ LOW | Return Type | `setTrimStart(value: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 797:28 | : void | ğŸŸ¢ LOW | Return Type | `setTrimEnd(value: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 806:31 | : void | ğŸŸ¢ LOW | Return Type | `setTrimOffset(value: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 815:57 | : void | ğŸŸ¢ LOW | Return Type | `setAnimatedTrimStart(prop: AnimatableProperty<n...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 824:55 | : void | ğŸŸ¢ LOW | Return Type | `setAnimatedTrimEnd(prop: AnimatableProperty<num...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 833:58 | : void | ğŸŸ¢ LOW | Return Type | `setAnimatedTrimOffset(prop: AnimatableProperty<...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 866:46 | : void | ğŸŸ¢ LOW | Return Type | `setPathEffects(effects: SplinePathEffect[]): vo...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 1062:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.pathEffects?.some((e) => e.enabled)...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 1298:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 1320:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `p0.handleOut?.x ?? p0.x,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 1321:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `-(p0.handleOut?.y ?? p0.y),` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 1325:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `p1.handleIn?.x ?? p1.x,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 1326:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `-(p1.handleIn?.y ?? p1.y),` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 1347:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `lastPoint.handleOut?.x ?? lastPoint.x,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 1348:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `-(lastPoint.handleOut?.y ?? lastPoint.y),` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 1352:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `firstPoint.handleIn?.x ?? firstPoint.x,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 1353:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `-(firstPoint.handleIn?.y ?? firstPoint.y),` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/SplineLayer.ts` | 1400:43 | : void | ğŸŸ¢ LOW | Return Type | `protected onEvaluateFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 1563:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 1662:49 | : void | ğŸŸ¢ LOW | Return Type | `protected onUpdate(properties: Partial<Layer>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/SplineLayer.ts` | 1742:24 | : void | ğŸŸ¢ LOW | Return Type | `protected onDispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 243:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `text: data?.text ?? "Text",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 244:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `fontFamily: data?.fontFamily ?? "Impact",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 245:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `fontSize: data?.fontSize ?? 72,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 246:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `fontWeight: data?.fontWeight ?? "400",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 247:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `fontStyle: data?.fontStyle ?? "normal",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 248:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `fill: data?.fill ?? "#ffffff",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 249:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `stroke: data?.stroke ?? "",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 250:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `strokeWidth: data?.strokeWidth ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 253:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `tracking: data?.tracking ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 254:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `lineSpacing: data?.lineSpacing ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 255:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `lineAnchor: data?.lineAnchor ?? 50,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 256:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `characterOffset: data?.characterOffset ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 257:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `characterValue: data?.characterValue ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 258:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `blur: data?.blur ?? { x: 0, y: 0 },` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 261:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `letterSpacing: data?.letterSpacing ?? data?.tra...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 261:49 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `letterSpacing: data?.letterSpacing ?? data?.tra...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 262:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `lineHeight: data?.lineHeight ?? data?.lineSpaci...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 262:43 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `lineHeight: data?.lineHeight ?? data?.lineSpaci...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 263:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `textAlign: data?.textAlign ?? "left",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 266:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `pathLayerId: data?.pathLayerId ?? null,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 267:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `pathReversed: data?.pathReversed ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 268:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `pathPerpendicularToPath: data?.pathPerpendicula...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 269:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `pathForceAlignment: data?.pathForceAlignment ??...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 270:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `pathFirstMargin: data?.pathFirstMargin ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 271:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `pathLastMargin: data?.pathLastMargin ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 272:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `pathOffset: data?.pathOffset ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 273:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `pathAlign: data?.pathAlign ?? "left",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 276:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `anchorPointGrouping: data?.anchorPointGrouping ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 277:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `groupingAlignment: data?.groupingAlignment ?? {...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 278:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `fillAndStroke: data?.fillAndStroke ?? "fill-ove...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 279:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `interCharacterBlending: data?.interCharacterBle...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 282:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `perCharacter3D: data?.perCharacter3D ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 285:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `animators: data?.animators ?? [],` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 292:56 | : void | ğŸŸ¢ LOW | Return Type | `private extractAnimatableProperties(layerData: ...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 337:27 | : void | ğŸŸ¢ LOW | Return Type | `private syncPathConfig(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 473:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 496:58 | : void | ğŸŸ¢ LOW | Return Type | `setPathFromCurve(curve: THREE.CurvePath<THREE.V...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 509:14 | : void | ğŸŸ¢ LOW | Return Type | `clearPath(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 519:29 | : void | ğŸŸ¢ LOW | Return Type | `private updatePathLayout(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 542:60 | : void | ğŸŸ¢ LOW | Return Type | `private applyPlacements(placements: CharacterPl...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 561:28 | : void | ğŸŸ¢ LOW | Return Type | `private resetPathLayout(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 576:34 | : void | ğŸŸ¢ LOW | Return Type | `private ensureCharacterWidths(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 634:33 | : void | ğŸŸ¢ LOW | Return Type | `private enablePerCharacter3D(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 652:34 | : void | ğŸŸ¢ LOW | Return Type | `private disablePerCharacter3D(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 669:34 | : void | ğŸŸ¢ LOW | Return Type | `private createCharacterMeshes(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 747:35 | : void | ğŸŸ¢ LOW | Return Type | `private disposeCharacterMeshes(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 750:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.perCharacterGroup?.remove(mesh);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 759:24 | : void | ğŸŸ¢ LOW | Return Type | `setText(text: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 773:32 | : void | ğŸŸ¢ LOW | Return Type | `setFontFamily(family: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 796:28 | : void | ğŸŸ¢ LOW | Return Type | `setFontSize(size: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 798:30 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validSize = Number.isFinite(size) && size...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/TextLayer.ts` | 818:32 | : void | ğŸŸ¢ LOW | Return Type | `setFontWeight(weight: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 829:30 | : void | ğŸŸ¢ LOW | Return Type | `setFontStyle(style: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 840:30 | : void | ğŸŸ¢ LOW | Return Type | `setFillColor(color: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 856:42 | : void | ğŸŸ¢ LOW | Return Type | `setStroke(color: string, width: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 877:32 | : void | ğŸŸ¢ LOW | Return Type | `setTracking(tracking: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 879:34 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validTracking = Number.isFinite(tracking)...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/TextLayer.ts` | 893:51 | : void | ğŸŸ¢ LOW | Return Type | `setTextAlign(align: "left" \| "center" \| "right"...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 913:32 | : void | ğŸŸ¢ LOW | Return Type | `setPathOffset(offset: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 925:33 | : void | ğŸŸ¢ LOW | Return Type | `setFirstMargin(margin: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 937:32 | : void | ğŸŸ¢ LOW | Return Type | `setLastMargin(margin: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 949:37 | : void | ğŸŸ¢ LOW | Return Type | `setPathReversed(reversed: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 961:49 | : void | ğŸŸ¢ LOW | Return Type | `setPerpendicularToPath(perpendicular: boolean):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 973:36 | : void | ğŸŸ¢ LOW | Return Type | `setForceAlignment(force: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 982:56 | : void | ğŸŸ¢ LOW | Return Type | `setAnchorPointGrouping(grouping: AnchorPointGro...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 986:67 | : void | ğŸŸ¢ LOW | Return Type | `setFillAndStroke(order: "fill-over-stroke" \| "s...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 994:43 | : void | ğŸŸ¢ LOW | Return Type | `protected onEvaluateFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 996:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.fontSizeProp?.animated) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 1001:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.trackingProp?.animated) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 1006:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.fillColorProp?.animated) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 1011:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.strokeColorProp?.animated && this.stro...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 1028:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.firstMarginProp?.animated) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 1033:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.lastMarginProp?.animated) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 1039:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.characterTransforms?.animated && this....` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 1058:42 | : void | ğŸŸ¢ LOW | Return Type | `override setCompositionFps(fps: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 1064:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 1130:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.characterTransforms?.animated && this....` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 1138:50 | : void | ğŸŸ¢ LOW | Return Type | `private applyCharacterTransforms(frame: number)...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 1185:70 | : void | ğŸŸ¢ LOW | Return Type | `private applyAnimatorsToCharacters(frame: numbe...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 1313:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (animator.wigglySelector?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 1365:49 | : void | ğŸŸ¢ LOW | Return Type | `protected onUpdate(properties: Partial<Layer>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 1463:51 | : void | ğŸŸ¢ LOW | Return Type | `protected override applyOpacity(opacity: number...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/TextLayer.ts` | 1465:33 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validOpacity = Number.isFinite(opacity) ?...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/TextLayer.ts` | 1488:48 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const bounds = this.textMesh.textRenderInfo?.bl...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/TextLayer.ts` | 1514:24 | : void | ğŸŸ¢ LOW | Return Type | `protected onDispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/VideoLayer.ts` | 126:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `assetId: data?.assetId ?? null,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 127:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `loop: data?.loop ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 128:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `pingPong: data?.pingPong ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 129:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `startTime: data?.startTime ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 130:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `endTime: data?.endTime,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 131:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `speed: data?.speed ?? 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 133:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `speedMapEnabled: data?.speedMapEnabled ?? data?...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 133:53 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `speedMapEnabled: data?.speedMapEnabled ?? data?...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 134:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `speedMap: data?.speedMap ?? data?.timeRemap,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 134:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `speedMap: data?.speedMap ?? data?.timeRemap,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 137:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `data?.timeRemapEnabled ?? data?.speedMapEnabled...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 137:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `data?.timeRemapEnabled ?? data?.speedMapEnabled...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 138:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `timeRemap: data?.timeRemap ?? data?.speedMap,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 138:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `timeRemap: data?.timeRemap ?? data?.speedMap,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 139:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `frameBlending: data?.frameBlending ?? "none",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 140:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `audioEnabled: data?.audioEnabled ?? true,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 141:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `audioLevel: data?.audioLevel ?? 100,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 142:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `posterFrame: data?.posterFrame ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 149:34 | : void | ğŸŸ¢ LOW | Return Type | `private createPlaceholderMesh(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/VideoLayer.ts` | 281:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.videoElement?.removeEventListener(` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 285:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.videoElement?.removeEventListener("error",...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 299:28 | : void | ğŸŸ¢ LOW | Return Type | `private extractMetadata(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/VideoLayer.ts` | 308:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const fps = this.assetRef?.fps ?? 30;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 329:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.onMetadataLoaded?.(this.metadata);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 355:31 | : void | ğŸŸ¢ LOW | Return Type | `private createVideoTexture(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/VideoLayer.ts` | 379:52 | : void | ğŸŸ¢ LOW | Return Type | `private resizeMesh(width: number, height: numbe...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/VideoLayer.ts` | 397:40 | : void | ğŸŸ¢ LOW | Return Type | `seekToFrame(compositionFrame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/VideoLayer.ts` | 477:42 | : void | ğŸŸ¢ LOW | Return Type | `private updateTextureFromDecodedFrame(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/VideoLayer.ts` | 511:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (speedMapEnabled && speedMapProp?.animated) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 517:21 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `return Number.isFinite(remappedTime) ? remapped...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/VideoLayer.ts` | 522:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const timeStretch = Number.isFinite(rawTimeStre...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/VideoLayer.ts` | 531:26 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const speed = Number.isFinite(this.videoData.sp...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/VideoLayer.ts` | 541:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(this.compositionFPS) && this.co...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/VideoLayer.ts` | 596:31 | : void | ğŸŸ¢ LOW | Return Type | `setAudioLevel(level: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/VideoLayer.ts` | 606:36 | : void | ğŸŸ¢ LOW | Return Type | `setAudioEnabled(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/VideoLayer.ts` | 620:22 | : void | ğŸŸ¢ LOW | Return Type | `setFPS(fps: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/VideoLayer.ts` | 622:34 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.compositionFPS = Number.isFinite(fps) && f...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/VideoLayer.ts` | 629:67 | : void | ğŸŸ¢ LOW | Return Type | `setMetadataCallback(callback: (metadata: VideoM...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/VideoLayer.ts` | 656:25 | : void | ğŸŸ¢ LOW | Return Type | `setLoop(loop: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/VideoLayer.ts` | 660:33 | : void | ğŸŸ¢ LOW | Return Type | `setPingPong(pingPong: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/VideoLayer.ts` | 664:26 | : void | ğŸŸ¢ LOW | Return Type | `setSpeed(speed: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/VideoLayer.ts` | 666:31 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validSpeed = Number.isFinite(speed) ? spe...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/layers/VideoLayer.ts` | 673:29 | : void | ğŸŸ¢ LOW | Return Type | `setStartTime(time: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/VideoLayer.ts` | 677:39 | : void | ğŸŸ¢ LOW | Return Type | `setEndTime(time: number \| undefined): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/VideoLayer.ts` | 681:64 | : void | ğŸŸ¢ LOW | Return Type | `setFrameBlending(mode: "none" \| "frame-mix" \| "...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/VideoLayer.ts` | 730:56 | : void | ğŸŸ¢ LOW | Return Type | `private ensureCanvases(width: number, height: n...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/VideoLayer.ts` | 818:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.effectCanvasCtx?.clearRect(0, 0, width, he...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 819:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.effectCanvasCtx?.drawImage(this.videoEleme...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/layers/VideoLayer.ts` | 848:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/VideoLayer.ts` | 872:43 | : void | ğŸŸ¢ LOW | Return Type | `protected onEvaluateFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/VideoLayer.ts` | 897:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/VideoLayer.ts` | 932:49 | : void | ğŸŸ¢ LOW | Return Type | `protected onUpdate(properties: Partial<Layer>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/VideoLayer.ts` | 963:23 | : void | ğŸŸ¢ LOW | Return Type | `private clearVideo(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/layers/VideoLayer.ts` | 1007:24 | : void | ğŸŸ¢ LOW | Return Type | `protected onDispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/MotionEngine.ts` | 307:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `modified: project.meta?.modified \|\| "",` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/MotionEngine.ts` | 315:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `(sum, p) => sum + (p.keyframes?.length \|\| 0),` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/MotionEngine.ts` | 367:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/MotionEngine.ts` | 387:15 | : void | ğŸŸ¢ LOW | Return Type | `invalidate(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/MotionEngine.ts` | 394:47 | : void | ğŸŸ¢ LOW | Return Type | `invalidateComposition(compositionId: string): v...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/MotionEngine.ts` | 471:20 | : void | ğŸŸ¢ LOW | Return Type | `invalidateCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/MotionEngine.ts` | 541:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (audioReactive?.analysis && audioReactive.ma...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/MotionEngine.ts` | 589:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const fps = composition.settings?.fps ?? 30;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/MotionEngine.ts` | 592:49 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const audioAnalysisForLayers = audioReactive?.a...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/MotionEngine.ts` | 688:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `layer.audioPathAnimation?.enabled &&` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/MotionEngine.ts` | 856:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `transform.separateDimensions?.position &&` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/MotionEngine.ts` | 880:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `transform.separateDimensions?.scale &&` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/MotionEngine.ts` | 1068:42 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const compWidth = compositionSettings?.width ??...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/MotionEngine.ts` | 1069:43 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const compHeight = compositionSettings?.height ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/MotionEngine.ts` | 1124:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const dofEnabled = dofConfig?.enabled ?? legacy...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/MotionEngine.ts` | 1124:58 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const dofEnabled = dofConfig?.enabled ?? legacy...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/MotionEngine.ts` | 1127:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `let focusDistance = dofConfig?.focusDistance ??...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/MotionEngine.ts` | 1127:65 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `let focusDistance = dofConfig?.focusDistance ??...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/MotionEngine.ts` | 1128:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `let aperture = dofConfig?.aperture ?? legacyCam...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/MotionEngine.ts` | 1128:55 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `let aperture = dofConfig?.aperture ?? legacyCam...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/MotionEngine.ts` | 1129:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `let blurLevel = dofConfig?.blurLevel ?? legacyC...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/MotionEngine.ts` | 1129:57 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `let blurLevel = dofConfig?.blurLevel ?? legacyC...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/MotionEngine.ts` | 1249:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (cameraData.shake?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/MotionEngine.ts` | 1285:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (cameraData.rackFocus?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/MotionEngine.ts` | 1367:16 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!data?.systemConfig) continue;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/NestedCompRenderer.ts` | 154:36 | : void | ğŸŸ¢ LOW | Return Type | `clearCache(compositionId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/NestedCompRenderer.ts` | 174:19 | : void | ğŸŸ¢ LOW | Return Type | `clearAllCaches(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/NestedCompRenderer.ts` | 184:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 415:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `!Number.isFinite(this.config.maxParticles) \|\|` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 477:44 | : void | ğŸŸ¢ LOW | Return Type | `initialize(renderer: THREE.WebGLRenderer): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 515:41 | : void | ğŸŸ¢ LOW | Return Type | `setGPUPhysicsEnabled(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 516:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.gpuPhysics?.setEnabled(enabled);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 523:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.gpuPhysics?.isEnabled() ?? false;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 530:37 | : void | ğŸŸ¢ LOW | Return Type | `private createModulationTextures(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 563:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.modulationSystem?.evaluateCurve(cur...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 642:31 | : void | ğŸŸ¢ LOW | Return Type | `private createParticleMesh(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 712:48 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.particleMesh.castShadow = shadowConfig?.ca...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 713:51 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.particleMesh.receiveShadow = shadowConfig?...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 719:29 | : void | ğŸŸ¢ LOW | Return Type | `private initializeTrails(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 743:25 | : void | ğŸŸ¢ LOW | Return Type | `private updateTrails(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 754:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.trailSystem?.getMesh() ?? null;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 760:50 | : void | ğŸŸ¢ LOW | Return Type | `initializeConnections(config: ConnectionConfig)...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 772:30 | : void | ğŸŸ¢ LOW | Return Type | `private updateConnections(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 783:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.connectionSystem?.getMesh() ?? null;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 789:42 | : void | ğŸŸ¢ LOW | Return Type | `setConnectionsEnabled(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 790:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.connectionSystem?.setEnabled(enabled);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 795:57 | : void | ğŸŸ¢ LOW | Return Type | `initializeCollisions(config: Partial<CollisionC...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 809:28 | : void | ğŸŸ¢ LOW | Return Type | `private applyCollisions(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 819:45 | : void | ğŸŸ¢ LOW | Return Type | `initializeFlocking(config: FlockingConfig): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 833:50 | : void | ğŸŸ¢ LOW | Return Type | `updateFlocking(config: Partial<FlockingConfig>)...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 834:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.flockingSystem?.updateConfig(config);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 840:39 | : void | ğŸŸ¢ LOW | Return Type | `setFlockingEnabled(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 841:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.flockingSystem?.setEnabled(enabled);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 888:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 902:46 | : void | ğŸŸ¢ LOW | Return Type | `private updateSpriteAnimation(time: number): vo...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 903:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.textureSystem?.updateSpriteAnimation(time);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 915:5 | : void | ğŸŸ¢ LOW | Return Type | `}): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 941:5 | : void | ğŸŸ¢ LOW | Return Type | `}): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 959:5 | : void | ğŸŸ¢ LOW | Return Type | `}): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 960:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.textureSystem?.setGlow(config);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 968:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.textureSystem?.getGlowMesh() ?? null;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 975:36 | : void | ğŸŸ¢ LOW | Return Type | `addEmitter(config: EmitterConfig): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 986:61 | : void | ğŸŸ¢ LOW | Return Type | `updateEmitter(id: string, updates: Partial<Emit...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 994:28 | : void | ğŸŸ¢ LOW | Return Type | `removeEmitter(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1008:42 | : void | ğŸŸ¢ LOW | Return Type | `addForceField(config: ForceFieldConfig): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1013:67 | : void | ğŸŸ¢ LOW | Return Type | `updateForceField(id: string, updates: Partial<F...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1021:31 | : void | ğŸŸ¢ LOW | Return Type | `removeForceField(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1030:42 | : void | ğŸŸ¢ LOW | Return Type | `addSubEmitter(config: SubEmitterConfig): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1035:31 | : void | ğŸŸ¢ LOW | Return Type | `removeSubEmitter(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1047:26 | : void | ğŸŸ¢ LOW | Return Type | `step(deltaTime: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1059:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.gpuPhysics?.isEnabled()) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1081:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.subEmitterSystem?.hasSubEmitters()) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1096:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.flockingSystem?.isEnabled() \|\|` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1097:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `(this.collisionSystem?.isEnabled() &&` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1108:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.flockingSystem?.isEnabled()) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1117:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.collisionSystem?.isEnabled()) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1130:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.connectionSystem?.isEnabled()) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1149:36 | : void | ğŸŸ¢ LOW | Return Type | `private emitParticles(dt: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1154:33 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `let emissionRate = Number.isFinite(emitter.emis...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1162:44 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (audioMod !== undefined && Number.isFinite(a...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1177:43 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeBeatMultiplier = Number.isFinite(emit...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1181:35 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const burstCount = Number.isFinite(rawBurstCount)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1190:36 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const burstInterval = Number.isFinite(emitter.b...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1201:37 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const burstCount = Number.isFinite(emitter.burs...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1281:26 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const speed = Number.isFinite(rawSpeed) ? rawSp...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1302:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(rawLifetime) && rawLifetime > 0...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1321:38 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeColorVariance = Number.isFinite(emitt...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1353:53 | : void | ğŸŸ¢ LOW | Return Type | `setSplineProvider(provider: SplineProvider \| nu...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1360:36 | : void | ğŸŸ¢ LOW | Return Type | `private updatePhysics(dt: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1385:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const initialSize = initialValues?.size ?? buff...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1386:43 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const initialOpacity = initialValues?.opacity ?...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1387:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const randomOffset = initialValues?.randomOffse...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1574:33 | : void | ğŸŸ¢ LOW | Return Type | `private applyAudioModulation(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1575:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.audioSystem?.applyModulation(this.emitters...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1587:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.audioSystem?.getModulation(target, ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1593:34 | : void | ğŸŸ¢ LOW | Return Type | `private updateInstanceBuffers(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1651:56 | : void | ğŸŸ¢ LOW | Return Type | `setAudioFeature(feature: AudioFeature, value: n...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1652:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.audioSystem?.setFeature(feature, value);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1659:16 | : void | ğŸŸ¢ LOW | Return Type | `triggerBeat(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1660:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.audioSystem?.triggerBeat();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1666:35 | : void | ğŸŸ¢ LOW | Return Type | `triggerBurst(emitterId?: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1677:30 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const count = Number.isFinite(emitter.burstCount)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1687:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const count = Number.isFinite(emitter.burstCount)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1713:44 | : void | ğŸŸ¢ LOW | Return Type | `updateShadowFromLight(light: THREE.Light): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1714:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!this.material?.uniforms) return;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1717:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!shadowLight.shadow?.map?.texture) return;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1717:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!shadowLight.shadow?.map?.texture) return;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1727:99 | : void | ğŸŸ¢ LOW | Return Type | `updateLODConfig(config: { enabled?: boolean; di...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1728:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!this.material?.uniforms) return;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1757:5 | : void | ğŸŸ¢ LOW | Return Type | `}): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1758:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!this.material?.uniforms) return;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1777:78 | : void | ğŸŸ¢ LOW | Return Type | `updateShadowConfig(config: Partial<import("./ty...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1778:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!this.material?.uniforms) return;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1832:46 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `u_receiveShadows: { value: shadowConfig?.receiv...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1835:46 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `u_shadowSoftness: { value: shadowConfig?.shadow...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1836:42 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `u_shadowBias: { value: shadowConfig?.shadowBias...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1838:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `u_aoEnabled: { value: shadowConfig?.aoEnabled ?...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1843:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.config.render.lodDistances?.[0] ?? 100,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1844:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.config.render.lodDistances?.[1] ?? 500,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1845:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.config.render.lodDistances?.[2] ?? 1000,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1848:46 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.config.render.lodSizeMultipliers?.[0] ?? 1.0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1849:46 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.config.render.lodSizeMultipliers?.[1] ?? 0.5,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1850:46 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.config.render.lodSizeMultipliers?.[2] ?? 0...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1882:51 | : void | ğŸŸ¢ LOW | Return Type | `on(event: string, handler: ParticleEventHandler...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1886:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.eventHandlers.get(event)?.add(handler);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1889:52 | : void | ğŸŸ¢ LOW | Return Type | `off(event: string, handler: ParticleEventHandle...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1890:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.eventHandlers.get(event)?.delete(handler);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1893:60 | : void | ğŸŸ¢ LOW | Return Type | `private emit(type: string, data: Record<string,...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1899:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.eventHandlers.get(type)?.forEach((handler)...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1945:35 | : void | ğŸŸ¢ LOW | Return Type | `cacheCurrentState(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 1958:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.audioSystem?.getSmoothedAudioValues() ?? n...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2007:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.audioSystem?.setSmoothedAudioValues(cached...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2020:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.frameCacheSystem?.findNearestCache(...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2026:15 | : void | ğŸŸ¢ LOW | Return Type | `clearCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2027:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.frameCacheSystem?.clearCache();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2033:20 | : void | ğŸŸ¢ LOW | Return Type | `invalidateCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2034:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.frameCacheSystem?.invalidateCache();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2043:39 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeFps = fps > 0 && Number.isFinite(fps)...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2112:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.frameCacheSystem?.getStats() ?? {` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2125:37 | : void | ğŸŸ¢ LOW | Return Type | `setCacheInterval(interval: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2126:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.frameCacheSystem?.setCacheInterval(interval);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2133:10 | : void | ğŸŸ¢ LOW | Return Type | `reset(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2167:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.frameCacheSystem?.setCurrentFrame(-1);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2174:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.trailSystem?.reset();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2177:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.connectionSystem?.reset();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2180:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.audioSystem?.reset();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2194:24 | : void | ğŸŸ¢ LOW | Return Type | `setSeed(seed: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2259:30 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeStart = Number.isFinite(startFrame) &...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2262:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeEnd = Number.isFinite(endFrame) && en...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2280:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.(frame - safeStart + 1, total);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2295:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2297:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.instancedGeometry?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2298:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.material?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2299:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.sizeOverLifetimeTexture?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2300:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.opacityOverLifetimeTexture?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2301:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.colorOverLifetimeTexture?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2322:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.textureSystem?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2324:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.audioSystem?.clear();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUParticleSystem.ts` | 2326:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.frameCacheSystem?.clearCache();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/GPUSPHSystem.ts` | 60:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.maxParticles = Number.isFinite(maxParticle...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/GPUSPHSystem.ts` | 178:26 | : void | ğŸŸ¢ LOW | Return Type | `private createBuffers(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUSPHSystem.ts` | 229:28 | : void | ğŸŸ¢ LOW | Return Type | `private createBindGroup(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUSPHSystem.ts` | 254:153 | : void | ğŸŸ¢ LOW | Return Type | `private buildSpatialHash(particleBuffer: Float3...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUSPHSystem.ts` | 335:154 | : void | ğŸŸ¢ LOW | Return Type | `private updateParams(dt: number, particleCount:...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUSPHSystem.ts` | 387:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(dt) && dt > 0 ? dt : 0.016,` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/GPUSPHSystem.ts` | 482:43 | : void | ğŸŸ¢ LOW | Return Type | `updateConfig(config: Partial<SPHConfig>): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUSPHSystem.ts` | 499:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUSpringSystem.ts` | 71:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.maxParticles = Number.isFinite(maxParticle...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/GPUSpringSystem.ts` | 75:30 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.maxSprings = Number.isFinite(maxSprings) &...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/GPUSpringSystem.ts` | 79:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.maxPins = Number.isFinite(maxPins) && maxP...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/GPUSpringSystem.ts` | 184:26 | : void | ğŸŸ¢ LOW | Return Type | `private createBuffers(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUSpringSystem.ts` | 227:28 | : void | ğŸŸ¢ LOW | Return Type | `private createBindGroup(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUSpringSystem.ts` | 254:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUSpringSystem.ts` | 286:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUSpringSystem.ts` | 311:78 | : void | ğŸŸ¢ LOW | Return Type | `createChain(particleIndices: number[], spacing:...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUSpringSystem.ts` | 325:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUSpringSystem.ts` | 354:17 | : void | ğŸŸ¢ LOW | Return Type | `clearSprings(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUSpringSystem.ts` | 363:84 | : void | ğŸŸ¢ LOW | Return Type | `pinParticle(particleIndex: number, position: { ...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUSpringSystem.ts` | 381:39 | : void | ğŸŸ¢ LOW | Return Type | `unpinParticle(particleIndex: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUSpringSystem.ts` | 386:90 | : void | ğŸŸ¢ LOW | Return Type | `updatePinPosition(particleIndex: number, positi...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUSpringSystem.ts` | 393:14 | : void | ğŸŸ¢ LOW | Return Type | `clearPins(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUSpringSystem.ts` | 401:26 | : void | ğŸŸ¢ LOW | Return Type | `private uploadSprings(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUSpringSystem.ts` | 425:23 | : void | ğŸŸ¢ LOW | Return Type | `private uploadPins(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUSpringSystem.ts` | 446:35 | : void | ğŸŸ¢ LOW | Return Type | `private updateParams(dt: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUSpringSystem.ts` | 467:64 | : void | ğŸŸ¢ LOW | Return Type | `private initializePrevPositions(particleBuffer:...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUSpringSystem.ts` | 490:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeDt = Number.isFinite(dt) && dt > 0 ? ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/GPUSpringSystem.ts` | 587:52 | : void | ğŸŸ¢ LOW | Return Type | `updateConfig(config: Partial<SpringSystemConfig...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/GPUSpringSystem.ts` | 604:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 29:40 | : void | ğŸŸ¢ LOW | Return Type | `setBindings(bindings: AudioBinding[]): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 47:51 | : void | ğŸŸ¢ LOW | Return Type | `setFeature(feature: AudioFeature, value: number...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 69:16 | : void | ğŸŸ¢ LOW | Return Type | `triggerBeat(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 98:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 108:36 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeSmoothing = Number.isFinite(binding.s...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 114:30 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeMin = Number.isFinite(binding.min) ? ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 115:30 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeMax = Number.isFinite(binding.max) ? ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 124:36 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeOutputMin = Number.isFinite(binding.o...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 125:36 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeOutputMax = Number.isFinite(binding.o...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 145:71 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const threshold = (typeof rawThreshold === 'num...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 187:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeMin = Number.isFinite(binding.min) ? ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 188:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeMax = Number.isFinite(binding.max) ? ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 192:38 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeOutputMin = Number.isFinite(binding.o...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 193:38 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeOutputMax = Number.isFinite(binding.o...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 207:10 | : void | ğŸŸ¢ LOW | Return Type | `reset(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 221:54 | : void | ğŸŸ¢ LOW | Return Type | `setSmoothedAudioValues(values: Map<number, numb...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleAudioReactive.ts` | 228:10 | : void | ğŸŸ¢ LOW | Return Type | `clear(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleCollisionSystem.ts` | 76:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.maxParticles = Number.isFinite(maxParticle...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleCollisionSystem.ts` | 97:40 | : void | ğŸŸ¢ LOW | Return Type | `setSpatialHash(hash: SpatialHashGrid): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleCollisionSystem.ts` | 109:39 | : void | ğŸŸ¢ LOW | Return Type | `update(particleBuffer: Float32Array): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleCollisionSystem.ts` | 135:56 | : void | ğŸŸ¢ LOW | Return Type | `private applyBoundaryCollisions(buffer: Float32...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleCollisionSystem.ts` | 140:31 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const bounciness = Number.isFinite(this.config....` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleCollisionSystem.ts` | 322:53 | : void | ğŸŸ¢ LOW | Return Type | `private applyPlaneCollisions(buffer: Float32Arr...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleCollisionSystem.ts` | 368:37 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const bounciness = Number.isFinite(plane.bounci...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleCollisionSystem.ts` | 369:35 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const friction = Number.isFinite(plane.friction...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleCollisionSystem.ts` | 424:56 | : void | ğŸŸ¢ LOW | Return Type | `private applyParticleCollisions(buffer: Float32...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleCollisionSystem.ts` | 428:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const radius = Number.isFinite(this.config.part...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleCollisionSystem.ts` | 432:31 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const bounciness = Number.isFinite(this.config....` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleCollisionSystem.ts` | 486:36 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeMass1 = Number.isFinite(mass1) && mas...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleCollisionSystem.ts` | 487:36 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeMass2 = Number.isFinite(mass2) && mas...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleCollisionSystem.ts` | 535:31 | : void | ğŸŸ¢ LOW | Return Type | `setEnabled(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleCollisionSystem.ts` | 542:49 | : void | ğŸŸ¢ LOW | Return Type | `updateConfig(config: Partial<CollisionConfig>):...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleCollisionSystem.ts` | 560:34 | : void | ğŸŸ¢ LOW | Return Type | `addPlane(plane: CollisionPlane): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleCollisionSystem.ts` | 572:26 | : void | ğŸŸ¢ LOW | Return Type | `removePlane(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleConnectionSystem.ts` | 30:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.maxParticles = Number.isFinite(maxParticle...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleConnectionSystem.ts` | 43:15 | : void | ğŸŸ¢ LOW | Return Type | `initialize(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleConnectionSystem.ts` | 45:39 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeMaxConnections = Number.isFinite(this...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleConnectionSystem.ts` | 97:39 | : void | ğŸŸ¢ LOW | Return Type | `update(particleBuffer: Float32Array): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleConnectionSystem.ts` | 108:36 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeMaxDistance = Number.isFinite(this.co...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleConnectionSystem.ts` | 154:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `grid.get(key)?.push(p);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleConnectionSystem.ts` | 195:48 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeLineOpacity = Number.isFinite(this.co...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleConnectionSystem.ts` | 289:31 | : void | ğŸŸ¢ LOW | Return Type | `setEnabled(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleConnectionSystem.ts` | 303:50 | : void | ğŸŸ¢ LOW | Return Type | `updateConfig(config: Partial<ConnectionConfig>)...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleConnectionSystem.ts` | 314:10 | : void | ğŸŸ¢ LOW | Return Type | `reset(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleConnectionSystem.ts` | 323:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleEmitterLogic.ts` | 54:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `let radius = (Number.isFinite(rawRadius) && raw...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleEmitterLogic.ts` | 72:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `let radius = (Number.isFinite(rawRadius) && raw...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleEmitterLogic.ts` | 88:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const sx = Number.isFinite(size.x) ? size.x : 100;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleEmitterLogic.ts` | 89:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const sy = Number.isFinite(size.y) ? size.y : 100;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleEmitterLogic.ts` | 90:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const sz = Number.isFinite(size.z) ? size.z : 100;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleEmitterLogic.ts` | 118:34 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const coneRadius = (Number.isFinite(rawConeRadi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleEmitterLogic.ts` | 120:34 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const coneLength = (Number.isFinite(rawConeLeng...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleEmitterLogic.ts` | 139:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const threshold = Number.isFinite(rawThreshold)...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleEmitterLogic.ts` | 174:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const threshold = Number.isFinite(rawThreshold)...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleEmitterLogic.ts` | 274:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeSpread = Number.isFinite(emitter.emis...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleEmitterLogic.ts` | 315:35 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeInitialSpeed = Number.isFinite(emitte...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleEmitterLogic.ts` | 316:36 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeSpeedVariance = Number.isFinite(emitt...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleEmitterLogic.ts` | 320:30 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeInherit = Number.isFinite(emitter.inh...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleFlockingSystem.ts` | 31:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.maxParticles = Number.isFinite(maxParticle...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleFlockingSystem.ts` | 45:40 | : void | ğŸŸ¢ LOW | Return Type | `setSpatialHash(hash: SpatialHashGrid): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleFlockingSystem.ts` | 54:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.spatialHash?.getRawCells() ?? null;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleFlockingSystem.ts` | 61:51 | : void | ğŸŸ¢ LOW | Return Type | `updateSpatialHash(_particleBuffer: Float32Array...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleFlockingSystem.ts` | 75:58 | : void | ğŸŸ¢ LOW | Return Type | `applyFlocking(particleBuffer: Float32Array, dt:...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleFlockingSystem.ts` | 79:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeDt = Number.isFinite(dt) && dt >= 0 ?...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleFlockingSystem.ts` | 106:42 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safePerceptionAngle = Number.isFinite(thi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleFlockingSystem.ts` | 147:38 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeSepRadius = Number.isFinite(this.conf...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleFlockingSystem.ts` | 149:40 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeAlignRadius = Number.isFinite(this.co...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleFlockingSystem.ts` | 151:38 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeCohRadius = Number.isFinite(this.conf...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleFlockingSystem.ts` | 180:36 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeSepWeight = Number.isFinite(this.conf...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleFlockingSystem.ts` | 181:38 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeAlignWeight = Number.isFinite(this.co...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleFlockingSystem.ts` | 182:36 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeCohWeight = Number.isFinite(this.conf...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleFlockingSystem.ts` | 183:35 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeMaxForce = Number.isFinite(this.confi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleFlockingSystem.ts` | 219:35 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeMaxSpeed = Number.isFinite(this.confi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleFlockingSystem.ts` | 250:31 | : void | ğŸŸ¢ LOW | Return Type | `setEnabled(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleFlockingSystem.ts` | 257:48 | : void | ğŸŸ¢ LOW | Return Type | `updateConfig(config: Partial<FlockingConfig>): ...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleFlockingSystem.ts` | 276:10 | : void | ğŸŸ¢ LOW | Return Type | `reset(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 75:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const strength = Number.isFinite(rawStrength) ?...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 80:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `(field.direction?.x ?? 0) * strength,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 81:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `(field.direction?.y ?? 1) * strength,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 82:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `(field.direction?.z ?? 0) * strength,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 98:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.vortexAxis?.x ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 99:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.vortexAxis?.y ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 100:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.vortexAxis?.z ?? 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 115:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const scale = Number.isFinite(rawScale) ? rawSc...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 117:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const speed = Number.isFinite(rawSpeed) ? rawSp...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 119:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const time = Number.isFinite(simulationTime * s...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 141:35 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const linearDrag = Number.isFinite(rawLinearDra...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 143:33 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const quadDrag = Number.isFinite(rawQuadDrag) ?...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 157:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.windDirection?.x ?? 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 158:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.windDirection?.y ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 159:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.windDirection?.z ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 171:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const sigma = Number.isFinite(rawSigma) ? rawSi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 173:26 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const rho = Number.isFinite(rawRho) ? rawRho : 28;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 175:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const beta = Number.isFinite(rawBeta) ? rawBeta...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 185:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const scale = Number.isFinite(rawScale) ? rawSc...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 187:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const speed = Number.isFinite(rawSpeed) ? rawSp...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 189:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const time = Number.isFinite(simulationTime * s...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 227:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.vortexAxis?.x ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 228:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.vortexAxis?.y ?? 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 229:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.vortexAxis?.z ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 247:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.vortexAxis?.x ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 248:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.vortexAxis?.y ?? 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleForceCalculator.ts` | 249:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.vortexAxis?.z ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleFrameCache.ts` | 82:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.maxParticles = Number.isFinite(maxParticle...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleFrameCache.ts` | 136:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleFrameCache.ts` | 209:15 | : void | ğŸŸ¢ LOW | Return Type | `clearCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleFrameCache.ts` | 218:20 | : void | ğŸŸ¢ LOW | Return Type | `invalidateCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleFrameCache.ts` | 239:33 | : void | ğŸŸ¢ LOW | Return Type | `setCurrentFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleFrameCache.ts` | 261:37 | : void | ğŸŸ¢ LOW | Return Type | `setCacheInterval(interval: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 101:37 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeMaxParticles = Number.isFinite(config...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 182:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 283:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 406:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeDt = Number.isFinite(dt) && dt >= 0 ?...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 464:21 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `return Number.isFinite(val) ? val : fallback;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 486:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.direction?.x ?? field.vortexAxis?.x ?? fi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 486:51 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.direction?.x ?? field.vortexAxis?.x ?? fi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 486:77 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.direction?.x ?? field.vortexAxis?.x ?? fi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 490:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.direction?.y ?? field.vortexAxis?.y ?? fi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 490:51 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.direction?.y ?? field.vortexAxis?.y ?? fi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 490:77 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.direction?.y ?? field.vortexAxis?.y ?? fi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 494:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.direction?.z ?? field.vortexAxis?.z ?? fi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 494:51 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.direction?.z ?? field.vortexAxis?.z ?? fi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 494:77 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.direction?.z ?? field.vortexAxis?.z ?? fi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 506:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeSimTime = Number.isFinite(state.simul...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 595:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeSimTime = Number.isFinite(state.simul...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 605:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const tex = textureProps?.__webglTexture;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 666:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 677:55 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safePos = (val: number): number => Number...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 679:16 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(val) && val >= 0 ? val : fallback;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 690:54 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.forceFieldBuffer[baseOffset + 4] = Number....` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 700:23 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `return Number.isFinite(val) ? val : fallback;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 710:75 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.forceFieldBuffer[baseOffset + 8] = safeFlo...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 711:75 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.forceFieldBuffer[baseOffset + 9] = safeFlo...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 712:76 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.forceFieldBuffer[baseOffset + 10] = safeFl...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 716:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.direction?.x ?? field.vortexAxis?.x ?? fi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 716:49 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.direction?.x ?? field.vortexAxis?.x ?? fi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 716:75 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.direction?.x ?? field.vortexAxis?.x ?? fi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 720:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.direction?.y ?? field.vortexAxis?.y ?? fi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 720:49 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.direction?.y ?? field.vortexAxis?.y ?? fi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 720:75 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.direction?.y ?? field.vortexAxis?.y ?? fi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 724:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.direction?.z ?? field.vortexAxis?.z ?? fi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 724:49 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.direction?.z ?? field.vortexAxis?.z ?? fi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 724:75 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `field.direction?.z ?? field.vortexAxis?.z ?? fi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 782:47 | : void | ğŸŸ¢ LOW | Return Type | `readParticleData(targetBuffer: Float32Array): v...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 816:38 | : void | ğŸŸ¢ LOW | Return Type | `setCurrentBuffer(buffer: "A" \| "B"): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 820:31 | : void | ğŸŸ¢ LOW | Return Type | `setEnabled(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 832:12 | : void | ğŸŸ¢ LOW | Return Type | `cleanup(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 871:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.forceFieldTexture?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleGPUPhysics.ts` | 885:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleGroupSystem.ts` | 31:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.maxParticles = Number.isFinite(maxParticle...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleGroupSystem.ts` | 58:40 | : void | ğŸŸ¢ LOW | Return Type | `addGroup(config: ParticleGroupConfig): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleGroupSystem.ts` | 81:31 | : void | ğŸŸ¢ LOW | Return Type | `removeGroup(groupId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleGroupSystem.ts` | 117:69 | : void | ğŸŸ¢ LOW | Return Type | `updateGroup(groupId: string, config: Partial<Pa...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleGroupSystem.ts` | 131:59 | : void | ğŸŸ¢ LOW | Return Type | `setParticleGroup(particleIndex: number, groupId...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleGroupSystem.ts` | 143:67 | : void | ğŸŸ¢ LOW | Return Type | `setParticleGroupIndex(particleIndex: number, gr...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleGroupSystem.ts` | 323:10 | : void | ğŸŸ¢ LOW | Return Type | `reset(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleGroupSystem.ts` | 330:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleModulationCurves.ts` | 60:30 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.resolution = Number.isFinite(resolution) &...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleModulationCurves.ts` | 68:28 | : void | ğŸŸ¢ LOW | Return Type | `setRng(rng: () => number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleModulationCurves.ts` | 92:23 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `return Number.isFinite(curve.value) ? curve.val...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleModulationCurves.ts` | 96:30 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const start = Number.isFinite(curve.start) ? cu...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleModulationCurves.ts` | 97:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const end = Number.isFinite(curve.end) ? curve....` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleModulationCurves.ts` | 146:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const min = Number.isFinite(curve.min) ? curve....` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleModulationCurves.ts` | 147:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const max = Number.isFinite(curve.max) ? curve....` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleModulationCurves.ts` | 233:72 | : void | ğŸŸ¢ LOW | Return Type | `sampleCurve(curve: ModulationCurve \| undefined,...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleModulationCurves.ts` | 294:48 | : void | ğŸŸ¢ LOW | Return Type | `disposeTextures(textures: ModulationTextures): ...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSPHSystem.ts` | 122:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.maxParticles = Number.isFinite(maxParticle...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSPHSystem.ts` | 152:40 | : void | ğŸŸ¢ LOW | Return Type | `setSpatialHash(hash: SpatialHashGrid): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSPHSystem.ts` | 159:51 | : void | ğŸŸ¢ LOW | Return Type | `update(particleBuffer: Float32Array, dt: number...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSPHSystem.ts` | 167:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(dt) && dt > 0 ? dt : 0.016,` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSPHSystem.ts` | 183:52 | : void | ğŸŸ¢ LOW | Return Type | `private substep(buffer: Float32Array, dt: numbe...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSPHSystem.ts` | 199:66 | : void | ğŸŸ¢ LOW | Return Type | `private computeDensityPressure(buffer: Float32A...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSPHSystem.ts` | 263:57 | : void | ğŸŸ¢ LOW | Return Type | `private computeForces(buffer: Float32Array, h: ...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSPHSystem.ts` | 389:54 | : void | ğŸŸ¢ LOW | Return Type | `private integrate(buffer: Float32Array, dt: num...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSPHSystem.ts` | 445:43 | : void | ğŸŸ¢ LOW | Return Type | `updateConfig(config: Partial<SPHConfig>): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 85:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.maxParticles = Number.isFinite(maxParticle...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 91:38 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (v === undefined \|\| !Number.isFinite(v)) ret...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 97:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(safeGravity.x) &&` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 98:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(safeGravity.y) &&` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 99:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(safeGravity.z)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 121:43 | : void | ğŸŸ¢ LOW | Return Type | `initialize(particleBuffer: Float32Array): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 149:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 158:35 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeRestLength = Number.isFinite(restLeng...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 160:34 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeStiffness = Number.isFinite(stiffness...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 163:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeDamping = Number.isFinite(damping) &&...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 166:39 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeBreakThreshold = Number.isFinite(brea...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 195:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 237:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 255:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 289:17 | : void | ğŸŸ¢ LOW | Return Type | `clearSprings(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 297:47 | : void | ğŸŸ¢ LOW | Return Type | `removeParticleSprings(particleIndex: number): v...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 312:51 | : void | ğŸŸ¢ LOW | Return Type | `update(particleBuffer: Float32Array, dt: number...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 318:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeDt = Number.isFinite(dt) && dt > 0 ? ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 331:56 | : void | ğŸŸ¢ LOW | Return Type | `private updateEuler(buffer: Float32Array, dt: n...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 402:19 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(forceMag)) continue;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 422:18 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (Number.isFinite(dvAx) && Number.isFinite(dv...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 422:43 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (Number.isFinite(dvAx) && Number.isFinite(dv...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 422:68 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (Number.isFinite(dvAx) && Number.isFinite(dv...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 428:18 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (Number.isFinite(dvBx) && Number.isFinite(dv...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 428:43 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (Number.isFinite(dvBx) && Number.isFinite(dv...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 428:68 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (Number.isFinite(dvBx) && Number.isFinite(dv...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 462:19 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(buffer[offset + 3])) buffe...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 463:19 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(buffer[offset + 4])) buffe...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 464:19 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(buffer[offset + 5])) buffe...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 472:18 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (Number.isFinite(newX)) buffer[offset + 0] =...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 473:18 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (Number.isFinite(newY)) buffer[offset + 1] =...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 474:18 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (Number.isFinite(newZ)) buffer[offset + 2] =...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 482:57 | : void | ğŸŸ¢ LOW | Return Type | `private updateVerlet(buffer: Float32Array, dt: ...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 621:37 | : void | ğŸŸ¢ LOW | Return Type | `pinParticle(particleIndex: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 628:39 | : void | ğŸŸ¢ LOW | Return Type | `unpinParticle(particleIndex: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 642:98 | : void | ğŸŸ¢ LOW | Return Type | `applyPins(buffer: Float32Array, pinPositions: M...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSpringSystem.ts` | 675:52 | : void | ğŸŸ¢ LOW | Return Type | `updateConfig(config: Partial<SpringSystemConfig...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 43:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.maxParticles = Number.isFinite(maxParticle...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 56:42 | : void | ğŸŸ¢ LOW | Return Type | `addSubEmitter(config: SubEmitterConfig): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 63:31 | : void | ğŸŸ¢ LOW | Return Type | `removeSubEmitter(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 77:42 | : void | ğŸŸ¢ LOW | Return Type | `setEmitCallback(callback: EmitCallback): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 88:37 | : void | ğŸŸ¢ LOW | Return Type | `queueDeathEvent(event: DeathEvent): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 132:21 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(death.index) \|\| death.inde...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 160:19 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `(Number.isFinite(subEmitter.emitCount) ? subEmi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 161:55 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Math.floor((this.rng() - 0.5) * 2 * (Number.isF...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 179:33 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const speed = (Number.isFinite(rawSpeed) && raw...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 181:33 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const spread = Number.isFinite(rawSpread) ? Mat...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 193:37 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const inheritVel = Number.isFinite(subEmitter.i...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 202:36 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const lifetime = (Number.isFinite(rawLifetime) ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 208:36 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeMass = (Number.isFinite(rawMass) && r...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 212:43 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeInitialSize = (Number.isFinite(rawIni...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 214:42 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeInheritSize = Number.isFinite(rawInhe...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 216:50 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `particleBuffer[subOffset + 9] = Number.isFinite...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 220:37 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const inheritRot = Number.isFinite(rawInheritRo...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 226:33 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const angVel = Number.isFinite(rawAngVel) ? raw...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 232:20 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(rawColorStart[0]) ? rawColorSta...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 233:20 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(rawColorStart[1]) ? rawColorSta...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 234:20 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(rawColorStart[2]) ? rawColorSta...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 235:20 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(rawColorStart[3]) ? rawColorSta...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 238:37 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const inheritCol = Number.isFinite(rawInheritCo...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 301:10 | : void | ğŸŸ¢ LOW | Return Type | `reset(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleSubEmitter.ts` | 308:10 | : void | ğŸŸ¢ LOW | Return Type | `clear(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleTextureSystem.ts` | 60:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleTextureSystem.ts` | 104:36 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const cols = (Number.isFinite(rawCols) && rawCo...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleTextureSystem.ts` | 108:36 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const rows = (Number.isFinite(rawRows) && rawRo...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleTextureSystem.ts` | 113:41 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const frameRate = (Number.isFinite(rawFrameRate...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleTextureSystem.ts` | 184:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleTextureSystem.ts` | 213:38 | : void | ğŸŸ¢ LOW | Return Type | `updateSpriteAnimation(time: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleTextureSystem.ts` | 214:48 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.material && this.spriteSheetConfig?.an...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleTextureSystem.ts` | 235:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleTextureSystem.ts` | 241:49 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (config.strength !== undefined && Number.isF...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleTextureSystem.ts` | 244:51 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (config.minStretch !== undefined && Number.i...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleTextureSystem.ts` | 247:51 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (config.maxStretch !== undefined && Number.i...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleTextureSystem.ts` | 272:37 | : void | ğŸŸ¢ LOW | Return Type | `initializeGlow(config: GlowConfig): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleTextureSystem.ts` | 278:31 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeRadius = Number.isFinite(config.radiu...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleTextureSystem.ts` | 279:34 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeIntensity = Number.isFinite(config.in...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleTextureSystem.ts` | 308:5 | : void | ğŸŸ¢ LOW | Return Type | `}): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleTextureSystem.ts` | 322:49 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (config.radius !== undefined && Number.isFin...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleTextureSystem.ts` | 327:52 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (config.intensity !== undefined && Number.is...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleTextureSystem.ts` | 356:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleTextureSystem.ts` | 357:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.particleTexture?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleTextureSystem.ts` | 361:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.glowMaterial?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/ParticleTrailSystem.ts` | 53:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.maxParticles = Number.isFinite(maxParticle...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleTrailSystem.ts` | 67:15 | : void | ğŸŸ¢ LOW | Return Type | `initialize(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleTrailSystem.ts` | 69:35 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const rawTrailLength = Number.isFinite(this.con...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleTrailSystem.ts` | 126:39 | : void | ğŸŸ¢ LOW | Return Type | `update(particleBuffer: Float32Array): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleTrailSystem.ts` | 130:35 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const rawTrailLength = Number.isFinite(this.con...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleTrailSystem.ts` | 214:35 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const endAlpha = Number.isFinite(this.config.tr...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/ParticleTrailSystem.ts` | 271:45 | : void | ğŸŸ¢ LOW | Return Type | `updateConfig(config: Partial<TrailConfig>): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleTrailSystem.ts` | 282:10 | : void | ğŸŸ¢ LOW | Return Type | `reset(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/ParticleTrailSystem.ts` | 294:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/SpatialHashGrid.ts` | 43:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.maxParticles = Number.isFinite(config.maxP...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/SpatialHashGrid.ts` | 47:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.cellSize = Number.isFinite(config.cellSize...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/SpatialHashGrid.ts` | 61:40 | : void | ğŸŸ¢ LOW | Return Type | `rebuild(particleBuffer: Float32Array): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/SpatialHashGrid.ts` | 78:19 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(px) \|\| !Number.isFinite(py...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/SpatialHashGrid.ts` | 78:43 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(px) \|\| !Number.isFinite(py...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/SpatialHashGrid.ts` | 78:67 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(px) \|\| !Number.isFinite(py...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/SpatialHashGrid.ts` | 90:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.cells.get(key)?.push(i);` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/SpatialHashGrid.ts` | 115:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(px) \|\| !Number.isFinite(py...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/SpatialHashGrid.ts` | 115:41 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(px) \|\| !Number.isFinite(py...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/SpatialHashGrid.ts` | 115:65 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(px) \|\| !Number.isFinite(py...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/SpatialHashGrid.ts` | 202:28 | : void | ğŸŸ¢ LOW | Return Type | `setCellSize(size: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/SpatialHashGrid.ts` | 204:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.cellSize = Number.isFinite(size) && size >...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/SpatialHashGrid.ts` | 258:10 | : void | ğŸŸ¢ LOW | Return Type | `clear(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/webgpuParticleCompute.ts` | 421:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `maxParticles: Number.isFinite(config.maxParticl...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/webgpuParticleCompute.ts` | 425:23 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `damping: Number.isFinite(config.damping) ? Math...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/webgpuParticleCompute.ts` | 426:26 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `noiseScale: Number.isFinite(config.noiseScale) ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/webgpuParticleCompute.ts` | 427:26 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `noiseSpeed: Number.isFinite(config.noiseSpeed) ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/webgpuParticleCompute.ts` | 493:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/webgpuParticleCompute.ts` | 497:34 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeDeltaTime = Number.isFinite(deltaTime...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/webgpuParticleCompute.ts` | 498:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeTime = Number.isFinite(time) ? time : 0;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/webgpuParticleCompute.ts` | 499:38 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeParticleCount = Number.isFinite(parti...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/webgpuParticleCompute.ts` | 502:40 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeForceFieldCount = Number.isFinite(for...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/webgpuParticleCompute.ts` | 531:38 | : void | ğŸŸ¢ LOW | Return Type | `uploadParticles(data: Float32Array): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/webgpuParticleCompute.ts` | 558:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/webgpuParticleCompute.ts` | 587:30 | : void | ğŸŸ¢ LOW | Return Type | `step(particleCount: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/webgpuParticleCompute.ts` | 599:38 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeParticleCount = Number.isFinite(parti...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/particles/webgpuParticleCompute.ts` | 675:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/particles/webgpuParticleCompute.ts` | 676:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.particleBufferA?.destroy();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/webgpuParticleCompute.ts` | 677:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.particleBufferB?.destroy();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/webgpuParticleCompute.ts` | 678:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.paramsBuffer?.destroy();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/particles/webgpuParticleCompute.ts` | 679:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.forceFieldBuffer?.destroy();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/ParticleSimulationController.ts` | 109:22 | : void | ğŸŸ¢ LOW | Return Type | `reset(seed: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/ParticleSimulationController.ts` | 132:26 | : void | ğŸŸ¢ LOW | Return Type | `setState(state: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/ParticleSimulationController.ts` | 175:38 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.checkpointInterval = Number.isFinite(check...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `engine/ParticleSimulationController.ts` | 247:10 | : void | ğŸŸ¢ LOW | Return Type | `reset(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/ParticleSimulationController.ts` | 259:55 | : void | ğŸŸ¢ LOW | Return Type | `updateConfig(updates: Partial<ParticleSystemCon...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/ParticleSimulationController.ts` | 293:42 | : void | ğŸŸ¢ LOW | Return Type | `private createCheckpoint(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/ParticleSimulationController.ts` | 318:43 | : void | ğŸŸ¢ LOW | Return Type | `private restoreCheckpoint(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/ParticleSimulationController.ts` | 340:30 | : void | ğŸŸ¢ LOW | Return Type | `private deterministicStep(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/ParticleSimulationController.ts` | 452:30 | : void | ğŸŸ¢ LOW | Return Type | `resetLayer(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/ParticleSimulationController.ts` | 462:10 | : void | ğŸŸ¢ LOW | Return Type | `clear(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/TransformControlsManager.ts` | 59:63 | : void | ğŸŸ¢ LOW | Return Type | `private ensureObjectChildren(obj: THREE.Object3...` | Review if function should return boolean/number/object in... |
| â˜ | `engine/TransformControlsManager.ts` | 88:15 | : void | ğŸŸ¢ LOW | Return Type | `initialize(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/TransformControlsManager.ts` | 143:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layerData = layer?.getLayerData?.();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/TransformControlsManager.ts` | 143:44 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layerData = layer?.getLayerData?.();` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/TransformControlsManager.ts` | 144:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const anchorX = layerData?.transform?.anchorPoi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/TransformControlsManager.ts` | 144:43 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const anchorX = layerData?.transform?.anchorPoi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/TransformControlsManager.ts` | 144:56 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const anchorX = layerData?.transform?.anchorPoi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/TransformControlsManager.ts` | 144:63 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const anchorX = layerData?.transform?.anchorPoi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/TransformControlsManager.ts` | 145:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const anchorY = layerData?.transform?.anchorPoi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/TransformControlsManager.ts` | 145:43 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const anchorY = layerData?.transform?.anchorPoi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/TransformControlsManager.ts` | 145:56 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const anchorY = layerData?.transform?.anchorPoi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/TransformControlsManager.ts` | 145:63 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const anchorY = layerData?.transform?.anchorPoi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/TransformControlsManager.ts` | 146:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const anchorZ = (layerData?.transform?.anchorPo...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/TransformControlsManager.ts` | 146:44 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const anchorZ = (layerData?.transform?.anchorPo...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/TransformControlsManager.ts` | 146:57 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const anchorZ = (layerData?.transform?.anchorPo...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/TransformControlsManager.ts` | 146:72 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const anchorZ = (layerData?.transform?.anchorPo...` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/TransformControlsManager.ts` | 188:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/TransformControlsManager.ts` | 196:38 | : void | ğŸŸ¢ LOW | Return Type | `selectLayer(layerId: string \| null): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/TransformControlsManager.ts` | 234:32 | : void | ğŸŸ¢ LOW | Return Type | `focusOnLayer(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/TransformControlsManager.ts` | 255:31 | : void | ğŸŸ¢ LOW | Return Type | `setMode(mode: TransformMode): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/TransformControlsManager.ts` | 272:31 | : void | ğŸŸ¢ LOW | Return Type | `setVisible(visible: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/TransformControlsManager.ts` | 283:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.transformControls?.dragging ?? false;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/TransformControlsManager.ts` | 289:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/utils/colormapShader.ts` | 130:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/utils/colormapShader.ts` | 140:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/utils/PerformanceMonitor.ts` | 49:15 | : void | ğŸŸ¢ LOW | Return Type | `beginFrame(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `engine/utils/PerformanceMonitor.ts` | 83:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const memoryUsed = memory?.usedJSHeapSize ?? 0;` | Review if optional chaining is necessary or if null check... |
| â˜ | `engine/utils/PerformanceMonitor.ts` | 158:10 | : void | ğŸŸ¢ LOW | Return Type | `reset(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `main.ts` | 58:33 | : void | ğŸŸ¢ LOW | Return Type | `function initializeEffectsOnce(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `main.ts` | 68:23 | : void | ğŸŸ¢ LOW | Return Type | `function setupBridge(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `main.ts` | 80:26 | : void | ğŸŸ¢ LOW | Return Type | `function teardownBridge(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `main.ts` | 133:29 | : void | ğŸŸ¢ LOW | Return Type | `export function unmountApp(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `main.ts` | 163:14 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!bridge?.sendOutput) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/actionExecutor.ts` | 681:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (property?.keyframes && property.keyframes.l...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/actionExecutor.ts` | 788:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const effect = layer?.effects?.[layer.effects.l...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/actionExecutor.ts` | 788:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const effect = layer?.effects?.[layer.effects.l...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/actionExecutor.ts` | 821:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!layer?.effects) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/actionExecutor.ts` | 883:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (emitter && particleData.emitters?.[0]) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/actionExecutor.ts` | 888:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (particles && particleData.emitters?.[0]) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/actionExecutor.ts` | 952:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const compSettings = comp?.settings \|\| {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/actionExecutor.ts` | 1018:7 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `?.filter((kf) => kf.zoom !== undefined)` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/actionExecutor.ts` | 1038:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `(keyframes.zoom?.length \|\| 0);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/actionExecutor.ts` | 1073:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const compDuration = comp?.settings.frameCount ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/actionExecutor.ts` | 1486:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const frameCount = comp?.settings.frameCount \|\|...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/actionExecutor.ts` | 1554:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const sourceUrl = imageData?.assetId;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/actionExecutor.ts` | 1650:62 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (isLayerOfType(sourceLayer, "image") && sour...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/actionExecutor.ts` | 1651:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const asset = store.project?.assets[sourceLayer...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/actionExecutor.ts` | 1652:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!asset?.data) throw new Error("Asset data n...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/actionExecutor.ts` | 1655:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const asset = store.project?.assets[layerData.a...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/actionExecutor.ts` | 1656:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!asset?.data) throw new Error("Asset data n...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/actionExecutor.ts` | 1821:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `effects: layer.effects?.map((e) => ({` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/actionExecutor.ts` | 1902:65 | : void | ğŸŸ¢ LOW | Return Type | `function setNestedProperty(obj: any, path: stri...` | Review if function should return boolean/number/object in... |
| â˜ | `services/ai/AICompositorAgent.ts` | 183:65 | : void | ğŸŸ¢ LOW | Return Type | `setConfirmationCallback(callback: ConfirmationC...` | Review if function should return boolean/number/object in... |
| â˜ | `services/ai/AICompositorAgent.ts` | 262:11 | : void | ğŸŸ¢ LOW | Return Type | `cancel(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/ai/AICompositorAgent.ts` | 271:17 | : void | ğŸŸ¢ LOW | Return Type | `clearHistory(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/ai/AICompositorAgent.ts` | 293:41 | : void | ğŸŸ¢ LOW | Return Type | `private addMessage(message: AIMessage): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/ai/AICompositorAgent.ts` | 343:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.abortController?.signal.aborted) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/AICompositorAgent.ts` | 400:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `signal: this.abortController?.signal,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/AICompositorAgent.ts` | 470:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | ``${memCheck.warning?.suggestions.join(" ") \|\| "...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/AICompositorAgent.ts` | 581:27 | : void | ğŸŸ¢ LOW | Return Type | `resetBackendCallLimits(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/ai/cameraTrackingAI.ts` | 233:54 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `suggestedPreset: MOTION_TO_TRAJECTORY[segments[...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/cameraTrackingAI.ts` | 389:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `color: data.point_cloud?.colors?.[i]` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/cameraTrackingAI.ts` | 389:42 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `color: data.point_cloud?.colors?.[i]` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/cameraTrackingAI.ts` | 469:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const cx = intrinsics.principalPoint?.x ?? 960;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/cameraTrackingAI.ts` | 470:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const cy = intrinsics.principalPoint?.y ?? 540;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/depthEstimation.ts` | 268:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `result.choices?.[0]?.message?.content \|\|` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/depthEstimation.ts` | 268:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `result.choices?.[0]?.message?.content \|\|` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/depthEstimation.ts` | 268:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `result.choices?.[0]?.message?.content \|\|` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/depthEstimation.ts` | 269:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `result.content?.[0]?.text \|\|` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/depthEstimation.ts` | 269:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `result.content?.[0]?.text \|\|` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/sapiensIntegration.ts` | 435:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const width = depthResults[0]?.width ?? 1920;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/sapiensIntegration.ts` | 436:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const height = depthResults[0]?.height ?? 1080;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/security/hardenedScopeManager.ts` | 231:27 | : void | ğŸŸ¢ LOW | Return Type | `public startNewSession(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/ai/security/hardenedScopeManager.ts` | 380:60 | : void | ğŸŸ¢ LOW | Return Type | `public revokeElevation(reason: string = "user-i...` | Review if function should return boolean/number/object in... |
| â˜ | `services/ai/security/hardenedScopeManager.ts` | 546:29 | : void | ğŸŸ¢ LOW | Return Type | `private checkGrantExpiry(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/ai/security/hardenedScopeManager.ts` | 668:36 | : void | ğŸŸ¢ LOW | Return Type | `private cleanupExpiredApprovals(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/ai/security/hardenedScopeManager.ts` | 686:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/ai/security/hardenedScopeManager.ts` | 705:41 | : void | ğŸŸ¢ LOW | Return Type | `public lockdownSession(reason: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/ai/security/hardenedScopeManager.ts` | 722:39 | : void | ğŸŸ¢ LOW | Return Type | `public autoDowngrade(reason: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/ai/security/hardenedScopeManager.ts` | 744:44 | : void | ğŸŸ¢ LOW | Return Type | `public activateKillSwitch(reason: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/ai/security/hardenedScopeManager.ts` | 759:32 | : void | ğŸŸ¢ LOW | Return Type | `public deactivateKillSwitch(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/ai/security/hardenedScopeManager.ts` | 905:51 | : void | ğŸŸ¢ LOW | Return Type | `export function activateKillSwitch(reason: stri...` | Review if function should return boolean/number/object in... |
| â˜ | `services/ai/security/hardenedScopeManager.ts` | 909:57 | : void | ğŸŸ¢ LOW | Return Type | `export function reportInjectionDetected(details...` | Review if function should return boolean/number/object in... |
| â˜ | `services/ai/security/promptInjectionDetector.ts` | 625:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `location: context?.fieldName \|\| context?.source...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/security/promptInjectionDetector.ts` | 625:48 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `location: context?.fieldName \|\| context?.source...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/security/promptInjectionDetector.ts` | 656:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `location: context?.fieldName \|\| "unknown",` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/security/promptInjectionDetector.ts` | 882:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/ai/security/promptInjectionDetector.ts` | 904:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `fieldName: context?.fieldName,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/security/promptInjectionDetector.ts` | 905:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `source: context?.source,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/security/promptInjectionDetector.ts` | 1314:65 | : void | ğŸŸ¢ LOW | Return Type | `function checkDepth(obj: unknown, depth: number...` | Review if function should return boolean/number/object in... |
| â˜ | `services/ai/security/scopeManager.ts` | 329:30 | : void | ğŸŸ¢ LOW | Return Type | `setScope(scope: AgentScope): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/ai/security/scopeManager.ts` | 347:57 | : void | ğŸŸ¢ LOW | Return Type | `setScopePreset(presetName: keyof typeof SCOPE_P...` | Review if function should return boolean/number/object in... |
| â˜ | `services/ai/security/scopeManager.ts` | 500:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (args?.path && typeof args.path === "string") {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/security/scopeManager.ts` | 511:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (args?.keyframes && Array.isArray(args.keyfr...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/security/scopeManager.ts` | 604:32 | : void | ğŸŸ¢ LOW | Return Type | `cleanupExpiredConfirmations(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/ai/stateSerializer.ts` | 549:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `pointCount: data.controlPoints?.length \|\| 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/stateSerializer.ts` | 557:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `emitterCount: data.emitters?.length \|\| 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/stateSerializer.ts` | 558:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `maxParticles: data.systemConfig?.maxParticles,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/stateSerializer.ts` | 559:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `gravity: data.systemConfig?.gravity,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/stateSerializer.ts` | 560:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `firstEmitter: data.emitters?.[0]` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/stateSerializer.ts` | 595:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `shapeCount: data.shapes?.length \|\| 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/stateSerializer.ts` | 611:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `preset: data.config?.preset,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/stateSerializer.ts` | 726:46 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const beforeEffects = beforeLayer.effects?.leng...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/stateSerializer.ts` | 727:49 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const afterLayerEffects = afterLayer.effects?.l...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/ai/stateSerializer.ts` | 778:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const effects = layer.effects?.length` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/aiGeneration.ts` | 633:26 | : void | ğŸŸ¢ LOW | Return Type | `setBaseUrl(url: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/animation/PropertyEvaluator.ts` | 34:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(fps) \|\| fps <= 0) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/animation/PropertyEvaluator.ts` | 53:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(frame)) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/audio/enhancedBeatDetection.ts` | 318:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const flux = analysis.spectralFlux?.[clampedFra...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audio/stemSeparation.ts` | 400:63 | : void | ğŸŸ¢ LOW | Return Type | `export function downloadStem(base64: string, fi...` | Review if function should return boolean/number/object in... |
| â˜ | `services/audioFeatures.ts` | 175:11 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `config?.analysisMode &&` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 327:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const fftSize = config?.fftSize ?? DEFAULT_FFT_...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 355:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const minFreq = config?.minFrequency ?? 20;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 356:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const maxFreq = config?.maxFrequency ?? 20000;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1036:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.spectralFlux?.[clampedFrame] ?? 0;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1040:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.zeroCrossingRate?.[clampedFrame...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1044:38 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.spectralRolloff?.[clampedFrame]...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1048:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.spectralFlatness?.[clampedFrame...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1051:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chromaEnergy[cl...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1055:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chroma[clampedF...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1055:59 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chroma[clampedF...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1058:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chroma[clampedF...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1058:59 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chroma[clampedF...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1060:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chroma[clampedF...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1060:59 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chroma[clampedF...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1063:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chroma[clampedF...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1063:59 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chroma[clampedF...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1065:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chroma[clampedF...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1065:59 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chroma[clampedF...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1067:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chroma[clampedF...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1067:59 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chroma[clampedF...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1070:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chroma[clampedF...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1070:59 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chroma[clampedF...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1072:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chroma[clampedF...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1072:59 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chroma[clampedF...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1075:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chroma[clampedF...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1075:59 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chroma[clampedF...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1077:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chroma[clampedF...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1077:59 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chroma[clampedF...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1080:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chroma[clampedF...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1080:59 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chroma[clampedF...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1082:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chroma[clampedF...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1082:59 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.chromaFeatures?.chroma[clampedF...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1087:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.harmonicEnergy?.[clampedFrame] ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1091:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.percussiveEnergy?.[clampedFrame...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1095:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return analysis.hpRatio?.[clampedFrame] ?? 0;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1140:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const value = analysis.mfcc?.[frame]?.[coeff];` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1140:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const value = analysis.mfcc?.[frame]?.[coeff];` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1387:16 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!analysis?.onsets) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/audioFeatures.ts` | 1623:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(stats.min[c]) \|\| !Number.i...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/audioFeatures.ts` | 1623:51 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(stats.min[c]) \|\| !Number.i...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/audioPathAnimator.ts` | 108:28 | : void | ğŸŸ¢ LOW | Return Type | `setPath(pathData: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/audioPathAnimator.ts` | 132:32 | isNaN() | ğŸŸ¢ LOW | Legacy Function | `.filter((n) => !Number.isNaN(n));` | Replace with Number.isNaN() for more accurate type checking |
| â˜ | `services/audioPathAnimator.ts` | 220:36 | : void | ğŸŸ¢ LOW | Return Type | `private calculateSegmentLengths(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/audioPathAnimator.ts` | 340:50 | : void | ğŸŸ¢ LOW | Return Type | `private updateAmplitudeMode(audioValue: number)...` | Review if function should return boolean/number/object in... |
| â˜ | `services/audioPathAnimator.ts` | 364:68 | : void | ğŸŸ¢ LOW | Return Type | `private updateAccumulateMode(audioValue: number...` | Review if function should return boolean/number/object in... |
| â˜ | `services/audioPathAnimator.ts` | 507:10 | : void | ğŸŸ¢ LOW | Return Type | `reset(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/audioPathAnimator.ts` | 532:50 | : void | ğŸŸ¢ LOW | Return Type | `setConfig(updates: Partial<PathAnimatorConfig>)...` | Review if function should return boolean/number/object in... |
| â˜ | `services/audioReactiveMapping.ts` | 164:34 | : void | ğŸŸ¢ LOW | Return Type | `setPeakData(peakData: PeakData): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/audioReactiveMapping.ts` | 173:36 | : void | ğŸŸ¢ LOW | Return Type | `addMapping(mapping: AudioMapping): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/audioReactiveMapping.ts` | 187:28 | : void | ğŸŸ¢ LOW | Return Type | `removeMapping(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/audioReactiveMapping.ts` | 199:23 | : void | ğŸŸ¢ LOW | Return Type | `resetTemporalState(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/audioReactiveMapping.ts` | 217:60 | : void | ğŸŸ¢ LOW | Return Type | `updateMapping(id: string, updates: Partial<Audi...` | Review if function should return boolean/number/object in... |
| â˜ | `services/audioReactiveMapping.ts` | 540:19 | : void | ğŸŸ¢ LOW | Return Type | `resetSmoothing(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/audioReactiveMapping.ts` | 554:39 | : void | ğŸŸ¢ LOW | Return Type | `setAnalysis(analysis: AudioAnalysis): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/audioReactiveMapping.ts` | 562:10 | : void | ğŸŸ¢ LOW | Return Type | `clear(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/audioReactiveMapping.ts` | 579:40 | : void | ğŸŸ¢ LOW | Return Type | `deserialize(mappings: AudioMapping[]): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/audioWorkerClient.ts` | 128:34 | : void | ğŸŸ¢ LOW | Return Type | `export function terminateWorker(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/audioWorkerClient.ts` | 139:33 | : void | ğŸŸ¢ LOW | Return Type | `export function cancelAnalysis(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/bezierBoolean.ts` | 60:27 | : void | ğŸŸ¢ LOW | Return Type | `function initializePaper(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/camera3DVisualization.ts` | 77:14 | isNaN() | ğŸŸ¢ LOW | Legacy Function | `if (Number.isNaN(right.x)) {` | Replace with Number.isNaN() for more accurate type checking |
| â˜ | `services/camera3DVisualization.ts` | 181:14 | isNaN() | ğŸŸ¢ LOW | Legacy Function | `if (Number.isNaN(right.x)) {` | Replace with Number.isNaN() for more accurate type checking |
| â˜ | `services/camera3DVisualization.ts` | 332:14 | isNaN() | ğŸŸ¢ LOW | Legacy Function | `if (Number.isNaN(right.x)) {` | Replace with Number.isNaN() for more accurate type checking |
| â˜ | `services/cameraEnhancements.ts` | 393:48 | : void | ğŸŸ¢ LOW | Return Type | `setConfig(config: Partial<CameraShakeConfig>): ...` | Review if function should return boolean/number/object in... |
| â˜ | `services/cameraTrackingImport.ts` | 307:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `data.reconstruction?.camera_poses?.map((pose) =...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/cameraTrackingImport.ts` | 307:38 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `data.reconstruction?.camera_poses?.map((pose) =...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/cameraTrackingImport.ts` | 324:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `data.reconstruction?.points?.map((pt, i) => ({` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/cameraTrackingImport.ts` | 324:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `data.reconstruction?.points?.map((pt, i) => ({` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/cameraTrackingImport.ts` | 458:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `transformedPath[0]?.position ?? { x: 0, y: 0, z...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/cameraTrackingImport.ts` | 468:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `rotationKeyframes[0]?.value ?? { x: 0, y: 0, z:...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/cameraTrackingImport.ts` | 533:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `result.warnings?.push(` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/cameraTrackingImport.ts` | 541:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `options.pointCloud?.create &&` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/cameraTrackingImport.ts` | 683:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const positionProp = layer.transform?.position;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/cameraTrackingImport.ts` | 685:42 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const orientationProp = layer.transform?.orient...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/cameraTrackingImport.ts` | 690:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (positionProp?.keyframes) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/cameraTrackingImport.ts` | 693:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (orientationProp?.keyframes) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/cameraTrackingImport.ts` | 710:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const posValue = positionProp?.value ?? { x: 0,...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/cameraTrackingImport.ts` | 712:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const rot = orientationProp?.value ?? { x: 0, y...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/cameraTrackingImport.ts` | 744:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const fov = cameraData?.fov?.value ?? 50;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/cameraTrackingImport.ts` | 744:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const fov = cameraData?.fov?.value ?? 50;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/cameraTrajectory.ts` | 573:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/colorManagement/ColorProfileService.ts` | 689:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `workingColorSpace: settings?.workingColorSpace ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/colorManagement/ColorProfileService.ts` | 690:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `viewTransform: settings?.viewTransform ?? "sRGB",` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/colorManagement/ColorProfileService.ts` | 691:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `exportColorSpace: settings?.exportColorSpace ??...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/colorManagement/ColorProfileService.ts` | 692:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `linearCompositing: settings?.linearCompositing ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/colorManagement/ColorProfileService.ts` | 693:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `displayGamma: settings?.displayGamma ?? 2.2,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/colorManagement/ColorProfileService.ts` | 705:51 | : void | ğŸŸ¢ LOW | Return Type | `updateSettings(settings: Partial<ColorSettings>...` | Review if function should return boolean/number/object in... |
| â˜ | `services/colorManagement/ColorProfileService.ts` | 710:47 | : void | ğŸŸ¢ LOW | Return Type | `setWorkingColorSpace(colorSpace: ColorSpace): v...` | Review if function should return boolean/number/object in... |
| â˜ | `services/colorManagement/ColorProfileService.ts` | 714:45 | : void | ğŸŸ¢ LOW | Return Type | `setViewTransform(transform: ViewTransform): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/colorManagement/ColorProfileService.ts` | 718:41 | : void | ğŸŸ¢ LOW | Return Type | `setLinearCompositing(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/comfyui/comfyuiClient.ts` | 387:24 | : void | ğŸŸ¢ LOW | Return Type | `disconnectWebSocket(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/comfyui/comfyuiClient.ts` | 399:12 | : void | ğŸŸ¢ LOW | Return Type | `destroy(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/comfyui/comfyuiClient.ts` | 414:56 | : void | ğŸŸ¢ LOW | Return Type | `onMessage(type: string, handler: (data: any) =>...` | Review if function should return boolean/number/object in... |
| â˜ | `services/comfyui/comfyuiClient.ts` | 421:27 | : void | ğŸŸ¢ LOW | Return Type | `offMessage(type: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/comfyui/comfyuiClient.ts` | 425:44 | : void | ğŸŸ¢ LOW | Return Type | `private handleWebSocketMessage(data: any): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/comfyui/comfyuiClient.ts` | 521:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.({` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/comfyui/comfyuiClient.ts` | 533:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.({` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/comfyui/comfyuiClient.ts` | 547:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.({` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/comfyui/comfyuiClient.ts` | 563:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.({` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/comfyui/comfyuiClient.ts` | 588:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.({` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/comfyui/comfyuiClient.ts` | 650:56 | : void | ğŸŸ¢ LOW | Return Type | `export function setComfyUIServer(serverAddress:...` | Review if function should return boolean/number/object in... |
| â˜ | `services/comfyui/workflowTemplates.ts` | 102:63 | : void | ğŸŸ¢ LOW | Return Type | `export function validateWorkflowParams(params: ...` | Review if function should return boolean/number/object in... |
| â˜ | `services/comfyui/workflowTemplates.ts` | 120:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(params.width) \|\| params.wi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/comfyui/workflowTemplates.ts` | 130:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(params.height) \|\| params.h...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/comfyui/workflowTemplates.ts` | 141:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(params.frameCount) \|\| para...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/comfyui/workflowTemplates.ts` | 152:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(params.fps) \|\| params.fps ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/comfyui/workflowTemplates.ts` | 169:24 | : void | ğŸŸ¢ LOW | Return Type | `function resetNodeIds(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/comfyui/workflowTemplates.ts` | 781:56 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (params.trajType === "custom" && params.came...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/comfyui/workflowTemplates.ts` | 2234:47 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `tracks: JSON.stringify(params.motionData?.track...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/comfyui/workflowTemplates.ts` | 2371:53 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `trajectories: JSON.stringify(params.motionData?...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/comfyui/workflowTemplates.ts` | 2478:49 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `matrices: JSON.stringify(params.cameraData?.mat...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/comfyui/workflowTemplates.ts` | 2698:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `node.class_type?.includes("Save") \|\|` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/comfyui/workflowTemplates.ts` | 2699:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `node.class_type?.includes("Output") \|\|` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/comfyui/workflowTemplates.ts` | 2700:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `node.class_type?.includes("Preview"),` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/conditioningRenderer.ts` | 637:40 | : void | ğŸŸ¢ LOW | Return Type | `resize(width: number, height: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/dataImport.ts` | 340:34 | : void | ğŸŸ¢ LOW | Return Type | `export function clearDataAssets(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/dataImport.ts` | 421:28 | isNaN() | ğŸŸ¢ LOW | Legacy Function | `obj[header] = Number.isNaN(numValue) ? value : ...` | Replace with Number.isNaN() for more accurate type checking |
| â˜ | `services/dataImport.ts` | 466:21 | isNaN() | ğŸŸ¢ LOW | Legacy Function | `return Number.isNaN(numValue) ? value : numValue;` | Replace with Number.isNaN() for more accurate type checking |
| â˜ | `services/dataImport.ts` | 576:17 | isNaN() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isNaN(value)) {` | Replace with Number.isNaN() for more accurate type checking |
| â˜ | `services/dataImport.ts` | 601:17 | isNaN() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isNaN(value) && value > max) {` | Replace with Number.isNaN() for more accurate type checking |
| â˜ | `services/dataImport.ts` | 626:17 | isNaN() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isNaN(value) && value < min) {` | Replace with Number.isNaN() for more accurate type checking |
| â˜ | `services/depthflow.ts` | 752:22 | : void | ğŸŸ¢ LOW | Return Type | `private initWebGL(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/depthflow.ts` | 854:69 | : void | ğŸŸ¢ LOW | Return Type | `setSource(image: ImageData \| HTMLImageElement \|...` | Review if function should return boolean/number/object in... |
| â˜ | `services/depthflow.ts` | 877:71 | : void | ğŸŸ¢ LOW | Return Type | `setDepthMap(depth: ImageData \| HTMLImageElement...` | Review if function should return boolean/number/object in... |
| â˜ | `services/depthflow.ts` | 895:51 | : void | ğŸŸ¢ LOW | Return Type | `private updateTexture(which: "source" \| "depth"...` | Review if function should return boolean/number/object in... |
| â˜ | `services/depthflow.ts` | 918:46 | : void | ğŸŸ¢ LOW | Return Type | `setConfig(config: Partial<DepthflowConfig>): vo...` | Review if function should return boolean/number/object in... |
| â˜ | `services/depthflow.ts` | 1259:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effectProcessor.ts` | 36:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effectProcessor.ts` | 212:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effectProcessor.ts` | 230:31 | : void | ğŸŸ¢ LOW | Return Type | `invalidate(effectId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effectProcessor.ts` | 237:10 | : void | ğŸŸ¢ LOW | Return Type | `clear(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effectProcessor.ts` | 256:36 | : void | ğŸŸ¢ LOW | Return Type | `export function clearEffectCaches(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effectProcessor.ts` | 278:41 | : void | ğŸŸ¢ LOW | Return Type | `export function cleanupEffectResources(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effectProcessor.ts` | 322:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effectProcessor.ts` | 788:57 | : void | ğŸŸ¢ LOW | Return Type | `export function releaseCanvas(canvas: HTMLCanva...` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/audioVisualizer.ts` | 266:16 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (audioData?.frequencyBands && frame < audioD...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/effects/audioVisualizer.ts` | 465:16 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (audioData?.amplitudeEnvelope && frame < aud...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/effects/audioVisualizer.ts` | 501:49 | : void | ğŸŸ¢ LOW | Return Type | `export function registerAudioVisualizerEffects(...` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/blurRenderer.ts` | 386:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/blurRenderer.ts` | 417:35 | : void | ğŸŸ¢ LOW | Return Type | `export function disposeWebGLBlur(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/blurRenderer.ts` | 502:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/blurRenderer.ts` | 510:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(radiusX)) radiusX = 0;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/blurRenderer.ts` | 511:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(radiusY)) radiusY = 0;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/blurRenderer.ts` | 536:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/blurRenderer.ts` | 692:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/blurRenderer.ts` | 882:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const blurriness = Number.isFinite(blurrinessRaw)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/blurRenderer.ts` | 1023:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const direction = Number.isFinite(directionRaw)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/blurRenderer.ts` | 1027:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const blurLength = Number.isFinite(blurLengthRaw)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/blurRenderer.ts` | 1109:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const amount = Number.isFinite(amountRaw)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/blurRenderer.ts` | 1115:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const centerXRaw = center?.x ?? (params.center_...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/effects/blurRenderer.ts` | 1116:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const centerYRaw = center?.y ?? (params.center_...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/effects/blurRenderer.ts` | 1117:26 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const centerX = Number.isFinite(centerXRaw) ? c...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/blurRenderer.ts` | 1118:26 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const centerY = Number.isFinite(centerYRaw) ? c...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/blurRenderer.ts` | 1256:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const radius = Number.isFinite(radiusRaw)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/blurRenderer.ts` | 1260:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const iterations = Number.isFinite(iterationsRaw)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/blurRenderer.ts` | 1359:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const amount = Number.isFinite(amountRaw) ? amo...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/blurRenderer.ts` | 1361:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const radius = Number.isFinite(radiusRaw)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/blurRenderer.ts` | 1365:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const threshold = Number.isFinite(thresholdRaw)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/blurRenderer.ts` | 1411:38 | : void | ğŸŸ¢ LOW | Return Type | `export function registerBlurEffects(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/cinematicBloom.ts` | 231:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/cinematicBloom.ts` | 526:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/cinematicBloom.ts` | 712:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const sourceCtx = sourceCanvas?.getContext("2d");` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/effects/cinematicBloom.ts` | 824:48 | : void | ğŸŸ¢ LOW | Return Type | `export function registerCinematicBloomEffects()...` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/colorGrading.ts` | 41:24 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const liftR = Number.isFinite(liftRRaw)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorGrading.ts` | 44:24 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const liftG = Number.isFinite(liftGRaw)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorGrading.ts` | 47:24 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const liftB = Number.isFinite(liftBRaw)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorGrading.ts` | 55:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const gammaR = Number.isFinite(gammaRRaw)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorGrading.ts` | 58:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const gammaG = Number.isFinite(gammaGRaw)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorGrading.ts` | 61:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const gammaB = Number.isFinite(gammaBRaw)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorGrading.ts` | 69:24 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const gainR = Number.isFinite(gainRRaw)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorGrading.ts` | 72:24 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const gainG = Number.isFinite(gainGRaw)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorGrading.ts` | 75:24 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const gainB = Number.isFinite(gainBRaw)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorGrading.ts` | 192:51 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const num = typeof val === "number" && Number.i...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorGrading.ts` | 608:12 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(refPixelsRaw) &&` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorGrading.ts` | 613:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const strength = Number.isFinite(strengthRaw)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorGrading.ts` | 767:46 | : void | ğŸŸ¢ LOW | Return Type | `export function registerColorGradingEffects(): ...` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/colorRenderer.ts` | 64:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const brightness = Number.isFinite(rawBrightnes...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 66:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const contrast = Number.isFinite(rawContrast) ?...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 195:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const hueShift = Number.isFinite(rawHue) ? rawH...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 197:34 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const saturationShift = Number.isFinite(rawSat)...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 199:33 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const lightnessShift = Number.isFinite(rawLight...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 279:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const inputBlack = Number.isFinite(rawInputBlac...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 281:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const inputWhite = Number.isFinite(rawInputWhit...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 283:24 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const gamma = Number.isFinite(rawGamma) && rawG...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 285:30 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const outputBlack = Number.isFinite(rawOutputBl...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 287:30 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const outputWhite = Number.isFinite(rawOutputWh...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 360:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const amount = Number.isFinite(rawAmount) ? raw...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 534:24 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const blend = Number.isFinite(rawBlend) ? rawBl...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 672:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const threshold = Number.isFinite(rawThreshold)...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 674:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const radius = Number.isFinite(rawRadius) ? Mat...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 677:33 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const validIntensity = Number.isFinite(rawInten...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 696:36 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const colorLoopingSpeed = Number.isFinite(rawLo...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 715:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(params._fps) && params._fps > 0...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 758:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const sourceCtx = sourceCanvas?.getContext("2d");` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/effects/colorRenderer.ts` | 923:26 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const opacity = Number.isFinite(rawOpacity) ? r...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 925:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const direction = Number.isFinite(rawDirection)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 929:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const distance = Number.isFinite(rawDistance) ?...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 931:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const softness = Number.isFinite(rawSoftness) ?...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 990:19 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `return Number.isFinite(raw) ? raw / 100 : def /...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 1100:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const exposure = Number.isFinite(rawExposure) ?...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 1102:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const offset = Number.isFinite(rawOffset) ? raw...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 1104:24 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const gamma = Number.isFinite(rawGamma) && rawG...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 1171:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const vibrance = Number.isFinite(rawVibrance) ?...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 1173:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const saturation = Number.isFinite(rawSaturatio...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 1253:24 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const blend = Number.isFinite(rawBlend) ? rawBl...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 1338:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const levels = Number.isFinite(rawLevels)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 1391:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const threshold = Number.isFinite(rawThreshold)...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 1444:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const amount = Number.isFinite(rawAmount) ? raw...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 1446:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const midpoint = Number.isFinite(rawMidpoint) ?...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 1448:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const roundness = Number.isFinite(rawRoundness)...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 1450:26 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const feather = Number.isFinite(rawFeather) ? r...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 1660:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const intensity = Number.isFinite(rawIntensity)...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/colorRenderer.ts` | 1722:63 | : void | ğŸŸ¢ LOW | Return Type | `export function registerLUT(name: string, cubeC...` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/colorRenderer.ts` | 1737:32 | : void | ğŸŸ¢ LOW | Return Type | `export function clearLUTCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/colorRenderer.ts` | 1751:39 | : void | ğŸŸ¢ LOW | Return Type | `export function registerColorEffects(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/distortRenderer.ts` | 46:51 | : void | ğŸŸ¢ LOW | Return Type | `private initializePermutationTable(seed: number...` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/distortRenderer.ts` | 173:49 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const num = typeof val === "number" && Number.i...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/distortRenderer.ts` | 1239:41 | : void | ğŸŸ¢ LOW | Return Type | `export function registerDistortEffects(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/expressionControlRenderer.ts` | 112:53 | : void | ğŸŸ¢ LOW | Return Type | `export function registerExpressionControlRender...` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/generateRenderer.ts` | 95:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/generateRenderer.ts` | 117:10 | : void | ğŸŸ¢ LOW | Return Type | `clear(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/generateRenderer.ts` | 135:38 | : void | ğŸŸ¢ LOW | Return Type | `export function clearNoiseTileCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/generateRenderer.ts` | 169:26 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const opacity = Number.isFinite(rawOpacity) ? r...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/generateRenderer.ts` | 847:42 | : void | ğŸŸ¢ LOW | Return Type | `export function registerGenerateEffects(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/index.ts` | 23:36 | : void | ğŸŸ¢ LOW | Return Type | `export function initializeEffects(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/layerStyleRenderer.ts` | 56:47 | : void | ğŸŸ¢ LOW | Return Type | `export function setCurrentFrame(frame: number):...` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/layerStyleRenderer.ts` | 93:58 | : void | ğŸŸ¢ LOW | Return Type | `function releaseMatchingCanvas(canvas: HTMLCanv...` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/layerStyleRenderer.ts` | 130:62 | : void | ğŸŸ¢ LOW | Return Type | `function applyBlur(canvas: HTMLCanvasElement, r...` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/layerStyleRenderer.ts` | 1133:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (styles.dropShadow?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/effects/layerStyleRenderer.ts` | 1138:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (styles.innerShadow?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/effects/layerStyleRenderer.ts` | 1143:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (styles.outerGlow?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/effects/layerStyleRenderer.ts` | 1148:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (styles.innerGlow?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/effects/layerStyleRenderer.ts` | 1153:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (styles.bevelEmboss?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/effects/layerStyleRenderer.ts` | 1158:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (styles.satin?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/effects/layerStyleRenderer.ts` | 1163:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (styles.colorOverlay?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/effects/layerStyleRenderer.ts` | 1168:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (styles.gradientOverlay?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/effects/layerStyleRenderer.ts` | 1173:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (styles.stroke?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/effects/maskRenderer.ts` | 27:71 | : void | ğŸŸ¢ LOW | Return Type | `function renderMaskPath(ctx: CanvasRenderingCon...` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/maskRenderer.ts` | 374:66 | : void | ğŸŸ¢ LOW | Return Type | `function cachePath(maskId: string, frame: numbe...` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/maskRenderer.ts` | 390:43 | : void | ğŸŸ¢ LOW | Return Type | `export function clearMaskPathCacheOnSeek(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/meshDeformRenderer.ts` | 400:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/meshDeformRenderer.ts` | 578:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/meshDeformRenderer.ts` | 650:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/meshDeformRenderer.ts` | 682:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/meshDeformRenderer.ts` | 777:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const pins: WarpPin[] = effectInstance?.pins ??...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/effects/meshDeformRenderer.ts` | 787:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const effectId = effectInstance?.id ?? "temp";` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/effects/meshDeformRenderer.ts` | 803:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const effectId = effectInstance?.id ?? `temp-${...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/effects/meshDeformRenderer.ts` | 856:43 | : void | ğŸŸ¢ LOW | Return Type | `export function registerMeshDeformEffect(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/meshDeformRenderer.ts` | 863:40 | : void | ğŸŸ¢ LOW | Return Type | `export function clearMeshDeformCaches(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/perspectiveRenderer.ts` | 97:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const depthData = depthMap?.data;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/effects/perspectiveRenderer.ts` | 173:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const depthData = depthMap?.data;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/effects/perspectiveRenderer.ts` | 249:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const rightData = rightImage?.data \|\| leftImage...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/effects/stylizeRenderer.ts` | 49:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const threshold = Number.isFinite(rawThreshold)...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/stylizeRenderer.ts` | 51:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const smoothing = Number.isFinite(rawSmoothing)...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/stylizeRenderer.ts` | 186:31 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const glitchAmount = Number.isFinite(rawGlitchA...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/stylizeRenderer.ts` | 189:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const blockSize = Number.isFinite(rawBlockSize)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/stylizeRenderer.ts` | 193:23 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const seed = Number.isFinite(rawSeed) ? rawSeed...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/stylizeRenderer.ts` | 1139:41 | : void | ğŸŸ¢ LOW | Return Type | `export function registerStylizeEffects(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/timeRenderer.ts` | 40:28 | : void | ğŸŸ¢ LOW | Return Type | `setLayer(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/timeRenderer.ts` | 51:50 | : void | ğŸŸ¢ LOW | Return Type | `store(frame: number, canvas: HTMLCanvasElement)...` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/timeRenderer.ts` | 133:10 | : void | ğŸŸ¢ LOW | Return Type | `clear(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/timeRenderer.ts` | 141:32 | : void | ğŸŸ¢ LOW | Return Type | `cleanup(currentFrame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/timeRenderer.ts` | 184:39 | : void | ğŸŸ¢ LOW | Return Type | `export function clearAllFrameBuffers(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/timeRenderer.ts` | 230:12 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(params._fps) && params._fps > 0...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/timeRenderer.ts` | 235:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const echoTime = Number.isFinite(rawEchoTime) ?...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/timeRenderer.ts` | 237:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const numEchoes = Number.isFinite(rawNumEchoes)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/timeRenderer.ts` | 241:36 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const startingIntensity = Number.isFinite(rawIn...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/timeRenderer.ts` | 245:24 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const decay = Number.isFinite(rawDecay)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/timeRenderer.ts` | 373:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const targetFps = Number.isFinite(rawTargetFps)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/timeRenderer.ts` | 379:12 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(params._fps) && params._fps > 0...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/timeRenderer.ts` | 493:34 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const maxDisplacement = Number.isFinite(rawMaxD...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/timeRenderer.ts` | 498:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const mapScale = Number.isFinite(rawMapScale) ?...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/timeRenderer.ts` | 500:23 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const bias = Number.isFinite(rawBias) ? rawBias...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/effects/timeRenderer.ts` | 636:50 | : void | ğŸŸ¢ LOW | Return Type | `export function clearFrozenFrame(layerId: strin...` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/timeRenderer.ts` | 643:39 | : void | ğŸŸ¢ LOW | Return Type | `export function clearAllFrozenFrames(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/timeRenderer.ts` | 659:45 | : void | ğŸŸ¢ LOW | Return Type | `export function clearTimeEffectStateOnSeek(): v...` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/timeRenderer.ts` | 762:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/effects/timeRenderer.ts` | 1026:38 | : void | ğŸŸ¢ LOW | Return Type | `export function registerTimeEffects(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/export/atiExport.ts` | 175:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `vis = visibility[trackIdx]?.[f] ?? true;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/atiExport.ts` | 180:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `vis = visibility[trackIdx]?.[lastIdx] ?? true;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/atiExport.ts` | 297:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const numFrames = points[0]?.length ?? 0;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/backendDepthService.ts` | 115:48 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | ``Depth map generated: ${result.metadata?.width}...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/backendDepthService.ts` | 115:74 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | ``Depth map generated: ${result.metadata?.width}...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/backendDepthService.ts` | 186:49 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | ``Normal map generated: ${result.metadata?.width...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/backendDepthService.ts` | 186:75 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | ``Normal map generated: ${result.metadata?.width...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/cameraExportFormats.ts` | 84:7 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `kf?.position ?? camera.position;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/cameraExportFormats.ts` | 86:7 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `kf?.orientation ?? camera.orientation;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/cameraExportFormats.ts` | 88:7 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `kf?.focalLength ?? camera.focalLength;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/cameraExportFormats.ts` | 90:7 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `kf?.zoom ?? camera.zoom;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/cameraExportFormats.ts` | 92:7 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `kf?.focusDistance ?? camera.depthOfField.focusD...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/cameraExportFormats.ts` | 94:11 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (prev?.frame === next?.frame) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/cameraExportFormats.ts` | 94:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (prev?.frame === next?.frame) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/cameraExportFormats.ts` | 105:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const prevFrame = prev?.frame ?? 0;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/cameraExportFormats.ts` | 106:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const nextFrame = next?.frame ?? prevFrame;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/cameraExportFormats.ts` | 161:23 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const rotX = Number.isFinite(rotation.x) ? rota...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/cameraExportFormats.ts` | 162:23 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const rotY = Number.isFinite(rotation.y) ? rota...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/cameraExportFormats.ts` | 163:23 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const rotZ = Number.isFinite(rotation.z) ? rota...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/cameraExportFormats.ts` | 164:23 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const posX = Number.isFinite(position.x) ? posi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/cameraExportFormats.ts` | 165:23 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const posY = Number.isFinite(position.y) ? posi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/cameraExportFormats.ts` | 166:23 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const posZ = Number.isFinite(position.z) ? posi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/cameraExportFormats.ts` | 219:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(aspectRatio) \|\| aspectRati...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/cameraExportFormats.ts` | 230:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(nearClip) \|\| nearClip <= 0) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/cameraExportFormats.ts` | 237:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(farClip) \|\| farClip <= val...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/cameraExportFormats.ts` | 246:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(cam.focalLength)) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/cameraExportFormats.ts` | 686:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(width) \|\| width <= 0) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/cameraExportFormats.ts` | 691:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(height) \|\| height <= 0) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/cameraExportFormats.ts` | 698:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(fps) \|\| fps <= 0) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/cameraExportFormats.ts` | 705:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(frameCount) \|\| frameCount ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/cameraExportFormats.ts` | 773:23 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const rotX = Number.isFinite(rotation.x) ? rota...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/cameraExportFormats.ts` | 774:23 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const rotY = Number.isFinite(rotation.y) ? rota...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/cameraExportFormats.ts` | 775:23 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const rotZ = Number.isFinite(rotation.z) ? rota...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/cameraExportFormats.ts` | 776:23 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const posX = Number.isFinite(position.x) ? posi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/cameraExportFormats.ts` | 777:23 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const posY = Number.isFinite(position.y) ? posi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/cameraExportFormats.ts` | 778:23 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const posZ = Number.isFinite(position.z) ? posi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/depthRenderer.ts` | 132:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(minDepth) \|\| !Number.isFin...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/depthRenderer.ts` | 132:45 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(minDepth) \|\| !Number.isFin...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/depthRenderer.ts` | 157:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const position = layer.transform?.position;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/depthRenderer.ts` | 186:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `layer.opacity.keyframes?.length > 0` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/depthRenderer.ts` | 214:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const position = layer.transform?.position;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/depthRenderer.ts` | 230:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const scale = layer.transform?.scale;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/depthRenderer.ts` | 246:38 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const anchorPoint = layer.transform?.anchorPoint;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/depthRenderer.ts` | 299:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/export/depthRenderer.ts` | 358:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/export/depthRenderer.ts` | 364:44 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const particleLayer = engine.getLayerById?.(lay...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/depthRenderer.ts` | 380:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(p.x) \|\| !Number.isFinite(p...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/depthRenderer.ts` | 380:42 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(p.x) \|\| !Number.isFinite(p...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/depthRenderer.ts` | 380:67 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(p.x) \|\| !Number.isFinite(p...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/depthRenderer.ts` | 427:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/export/depthRenderer.ts` | 510:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(width) \|\| width <= 0) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/depthRenderer.ts` | 513:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(height) \|\| height <= 0) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/export/depthRenderer.ts` | 951:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.(i + 1, totalFrames);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/exportPipeline.ts` | 76:25 | : void | ğŸŸ¢ LOW | Return Type | `private checkAborted(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/export/exportPipeline.ts` | 82:60 | : void | ğŸŸ¢ LOW | Return Type | `private updateProgress(progress: Partial<Export...` | Review if function should return boolean/number/object in... |
| â˜ | `services/export/exportPipeline.ts` | 317:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const az = a.transform?.position?.value?.z ?? 0;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/exportPipeline.ts` | 317:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const az = a.transform?.position?.value?.z ?? 0;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/exportPipeline.ts` | 317:48 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const az = a.transform?.position?.value?.z ?? 0;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/exportPipeline.ts` | 318:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const bz = b.transform?.position?.value?.z ?? 0;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/exportPipeline.ts` | 318:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const bz = b.transform?.position?.value?.z ?? 0;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/exportPipeline.ts` | 318:48 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const bz = b.transform?.position?.value?.z ?? 0;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/exportPipeline.ts` | 348:49 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `: ((evaluated.transform.rotation as any)?.z ?? 0);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/exportPipeline.ts` | 361:44 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (layer.type === "image" && layerData?.src) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/exportPipeline.ts` | 365:51 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `} else if (layer.type === "solid" && layerData?...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/exportPipeline.ts` | 370:50 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `} else if (layer.type === "text" && layerData?....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/exportPipeline.ts` | 617:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/export/exportPipeline.ts` | 664:48 | : void | ğŸŸ¢ LOW | Return Type | `private applyLineart(data: Uint8ClampedArray): ...` | Review if function should return boolean/number/object in... |
| â˜ | `services/export/exportPipeline.ts` | 678:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/export/frameSequenceExporter.ts` | 137:59 | : void | ğŸŸ¢ LOW | Return Type | `export function downloadBlob(blob: Blob, filena...` | Review if function should return boolean/number/object in... |
| â˜ | `services/export/frameSequenceExporter.ts` | 282:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.(frame - startFrame + 1, totalFrames);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/frameSequenceExporter.ts` | 298:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.(frame - startFrame + 1, totalFrames);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/meshDeformExport.ts` | 248:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/export/meshDeformExport.ts` | 371:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/export/meshDeformExport.ts` | 445:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/export/poseExport.ts` | 129:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/export/vaceControlExport.ts` | 163:22 | : void | ğŸŸ¢ LOW | Return Type | `private buildPath(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/export/vaceControlExport.ts` | 183:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `x: p0.x + (p0.handleOut?.x \|\| 0),` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/vaceControlExport.ts` | 184:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `y: p0.y + (p0.handleOut?.y \|\| 0),` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/vaceControlExport.ts` | 185:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `z: (p0.z \|\| 0) + (p0.handleOut?.z \|\| 0),` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/vaceControlExport.ts` | 188:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `x: p1.x + (p1.handleIn?.x \|\| 0),` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/vaceControlExport.ts` | 189:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `y: p1.y + (p1.handleIn?.y \|\| 0),` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/vaceControlExport.ts` | 190:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `z: (p1.z \|\| 0) + (p1.handleIn?.z \|\| 0),` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/vaceControlExport.ts` | 206:38 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `x: last.x + (last.handleOut?.x \|\| 0),` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/vaceControlExport.ts` | 207:38 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `y: last.y + (last.handleOut?.y \|\| 0),` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/vaceControlExport.ts` | 208:45 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `z: (last.z \|\| 0) + (last.handleOut?.z \|\| 0),` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/vaceControlExport.ts` | 211:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `x: first.x + (first.handleIn?.x \|\| 0),` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/vaceControlExport.ts` | 212:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `y: first.y + (first.handleIn?.y \|\| 0),` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/vaceControlExport.ts` | 213:46 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `z: (first.z \|\| 0) + (first.handleIn?.z \|\| 0),` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/vaceControlExport.ts` | 346:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/export/vaceControlExport.ts` | 436:32 | : void | ğŸŸ¢ LOW | Return Type | `private initializeFollowers(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/export/videoEncoder.ts` | 279:11 | : void | ğŸŸ¢ LOW | Return Type | `cancel(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/export/videoEncoder.ts` | 295:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/export/videoEncoder.ts` | 389:69 | : void | ğŸŸ¢ LOW | Return Type | `export function downloadVideo(video: EncodedVid...` | Review if function should return boolean/number/object in... |
| â˜ | `services/export/wanMoveExport.ts` | 461:42 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `transposedVis[f][n] = visibility[n]?.[f] ?? true;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/export/wanMoveExport.ts` | 1548:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/exportTemplates.ts` | 136:26 | : void | ğŸŸ¢ LOW | Return Type | `private saveToStorage(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/exportTemplates.ts` | 250:26 | : void | ğŸŸ¢ LOW | Return Type | `setLastUsed(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/exportTemplates.ts` | 320:20 | : void | ğŸŸ¢ LOW | Return Type | `resetToDefaults(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/expressions/audioExpressions.ts` | 110:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(framesPerSecond) \|\| frames...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/easing.ts` | 23:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(t)) return 0;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/easing.ts` | 226:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(rawT)) return 0;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/easing.ts` | 230:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(rawT)) return 0;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/easing.ts` | 249:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeX1 = Number.isFinite(x1) ? Math.max(0...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/easing.ts` | 250:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeY1 = Number.isFinite(y1) ? y1 : 0;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/easing.ts` | 251:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeX2 = Number.isFinite(x2) ? Math.max(0...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/easing.ts` | 252:25 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeY2 = Number.isFinite(y2) ? y2 : 1;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 58:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(duration) \|\| duration === ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 64:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(period) \|\| period === 0) r...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 70:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `!Number.isFinite(time) \|\|` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 71:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `!Number.isFinite(frequency) \|\|` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 72:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `!Number.isFinite(amplitude)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 81:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `!Number.isFinite(time) \|\|` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 82:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `!Number.isFinite(frequency) \|\|` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 83:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `!Number.isFinite(amplitude)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 92:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `!Number.isFinite(time) \|\|` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 93:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `!Number.isFinite(frequency) \|\|` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 94:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `!Number.isFinite(amplitude)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 142:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(range) \|\| range === 0) ret...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 148:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(range) \|\| range === 0) ret...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 154:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(range) \|\| range === 0) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 163:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(range) \|\| range === 0) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 171:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(b) \|\| b === 0) return 0;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 172:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(a)) return 0;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 206:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `!Number.isFinite(mean) \|\|` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 207:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `!Number.isFinite(stdDev) \|\|` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 208:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `!Number.isFinite(seed)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 217:23 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const u1 = Number.isFinite(u1Raw) ? Math.max(0....` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 219:23 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const u2 = Number.isFinite(u2Raw) ? u2Raw : 0;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 242:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(range) \|\| range === 0) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 273:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(range) \|\| range === 0) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 301:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(range) \|\| range === 0) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 471:22 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const fps = Number.isFinite(ctx.fps) && ctx.fps...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 472:27 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const duration = Number.isFinite(ctx.duration) ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 479:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `numLayers: ctx.allLayers?.length ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 486:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layerInfo = ctx.allLayers?.find((l) => l....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 487:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `layerId = layerInfo?.id ?? `layer_${nameOrIndex}`;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 489:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layerInfo = ctx.allLayers?.find((l) => l....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 490:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `layerId = layerInfo?.id ?? nameOrIndex;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 494:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `position: (getLayerProperty?.(` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 498:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `scale: (getLayerProperty?.(layerId, "transform....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 501:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `rotation: (getLayerProperty?.(` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 505:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `anchor: (getLayerProperty?.(` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 513:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return getLayerEffectParam?.(layerId, effectNam...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 518:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `getLayerEffectParam?.(layerId, effectName, "val...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 520:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `getLayerEffectParam?.(layerId, effectName, "sli...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 521:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `getLayerEffectParam?.(layerId, effectName, "Sli...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 525:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `getLayerEffectParam?.(layerId, effectName, "ang...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 526:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `getLayerEffectParam?.(layerId, effectName, "Ang...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 530:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `getLayerEffectParam?.(layerId, effectName, "che...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 531:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `getLayerEffectParam?.(layerId, effectName, "Che...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 534:45 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `accessor.color = getLayerEffectParam?.(layerId,...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 535:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `getLayerEffectParam?.(layerId, effectName, "Col...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 537:45 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `accessor.point = getLayerEffectParam?.(layerId,...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 538:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `getLayerEffectParam?.(layerId, effectName, "Poi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 539:47 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `accessor.point3D = getLayerEffectParam?.(` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 544:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `getLayerEffectParam?.(layerId, effectName, "3D ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 547:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `getLayerEffectParam?.(layerId, effectName, "men...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 548:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `getLayerEffectParam?.(layerId, effectName, "Men...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 552:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `getLayerEffectParam?.(layerId, effectName, "lay...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 553:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `getLayerEffectParam?.(layerId, effectName, "Lay...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 559:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `name: ctx.allLayers?.find((l) => l.id === layer...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 559:59 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `name: ctx.allLayers?.find((l) => l.id === layer...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 560:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `index: ctx.allLayers?.find((l) => l.id === laye...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 560:60 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `index: ctx.allLayers?.find((l) => l.id === laye...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 561:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `position: getLayerProperty?.(layerId, "transfor...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 562:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `scale: getLayerProperty?.(layerId, "transform.s...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 563:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `rotation: getLayerProperty?.(layerId, "transfor...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 564:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `opacity: getLayerProperty?.(layerId, "transform...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 565:38 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `anchorPoint: getLayerProperty?.(layerId, "trans...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 568:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `origin: getLayerProperty?.(layerId, "transform....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 570:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `position: getLayerProperty?.(layerId, "transfor...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 573:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `rotation: getLayerProperty?.(layerId, "transfor...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 576:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `scale: getLayerProperty?.(layerId, "transform.s...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 579:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `opacity: getLayerProperty?.(layerId, "transform...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 580:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `anchorPoint: getLayerProperty?.(layerId, "trans...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 583:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `origin: getLayerProperty?.(layerId, "transform....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 602:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `position: ctx.layerTransform?.position ?? [0, 0...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 603:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `rotation: ctx.layerTransform?.rotation ?? [0, 0...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 604:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `scale: ctx.layerTransform?.scale ?? [100, 100, ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 605:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `opacity: ctx.layerTransform?.opacity ?? 100,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 606:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `anchorPoint: ctx.layerTransform?.origin ?? [0, ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 607:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `origin: ctx.layerTransform?.origin ?? [0, 0, 0],` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 609:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `position: ctx.layerTransform?.position ?? [0, 0...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 610:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `rotation: ctx.layerTransform?.rotation ?? [0, 0...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 611:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `scale: ctx.layerTransform?.scale ?? [100, 100, ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 612:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `opacity: ctx.layerTransform?.opacity ?? 100,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 613:38 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `anchorPoint: ctx.layerTransform?.origin ?? [0, ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 614:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `origin: ctx.layerTransform?.origin ?? [0, 0, 0],` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 617:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const eff = ctx.layerEffects?.find(` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 626:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `accessor.value = eff?.parameters.value ?? 0;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 627:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `accessor.slider = eff?.parameters.slider ?? eff...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 627:54 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `accessor.slider = eff?.parameters.slider ?? eff...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 629:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `accessor.angle = eff?.parameters.angle ?? eff?....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 629:52 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `accessor.angle = eff?.parameters.angle ?? eff?....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 632:12 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `eff?.parameters.checkbox ?? eff?.parameters.Che...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 632:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `eff?.parameters.checkbox ?? eff?.parameters.Che...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 634:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `accessor.color = eff?.parameters.color ??` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 635:12 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `eff?.parameters.Color ?? [1, 1, 1, 1];` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 637:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `accessor.point = eff?.parameters.point ?? eff?....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 637:52 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `accessor.point = eff?.parameters.point ?? eff?....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 638:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `accessor.point3D = eff?.parameters.point3D ??` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 639:12 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `eff?.parameters["3D Point"] ?? [0, 0, 0];` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 641:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `accessor.menu = eff?.parameters.menu ?? eff?.pa...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 641:50 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `accessor.menu = eff?.parameters.menu ?? eff?.pa...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 643:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `accessor.layer = eff?.parameters.layer ?? eff?....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 643:52 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `accessor.layer = eff?.parameters.layer ?? eff?....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 654:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `position: ctx.layerTransform?.position ?? [0, 0...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 655:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `scale: ctx.layerTransform?.scale ?? [100, 100, ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 656:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `rotation: ctx.layerTransform?.rotation ?? [0, 0...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 657:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `anchor: ctx.layerTransform?.origin ?? [0, 0, 0],` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 663:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `position: ctx.layerTransform?.position ?? [0, 0...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 664:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `scale: ctx.layerTransform?.scale ?? [100, 100, ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 665:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `rotation: ctx.layerTransform?.rotation ?? [0, 0...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 666:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `anchor: ctx.layerTransform?.origin ?? [0, 0, 0],` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 672:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `position: ctx.layerTransform?.position ?? [0, 0...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 673:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `scale: ctx.layerTransform?.scale ?? [100, 100, ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 674:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `rotation: ctx.layerTransform?.rotation ?? [0, 0...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 675:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `anchor: ctx.layerTransform?.origin ?? [0, 0, 0],` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 681:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `position: ctx.layerTransform?.position ?? [0, 0...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 682:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `scale: ctx.layerTransform?.scale ?? [100, 100, ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 683:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `rotation: ctx.layerTransform?.rotation ?? [0, 0...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionEvaluator.ts` | 684:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `anchor: ctx.layerTransform?.origin ?? [0, 0, 0],` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionHelpers.ts` | 125:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(frameDelta) \|\| frameDelta ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/expressionValidator.ts` | 45:14 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!expr?.enabled) return;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionValidator.ts` | 50:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `expr.params?.code &&` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionValidator.ts` | 62:14 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!prop?.expression) return;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionValidator.ts` | 101:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (data?.animators) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionValidator.ts` | 107:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (exprSel?.enabled && exprSel.amountExpressio...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/expressionValidator.ts` | 135:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (p?.expression) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/jitterExpressions.ts` | 41:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(octaves) \|\| octaves < 1) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/jitterExpressions.ts` | 68:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(denominator) \|\| denominato...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/jitterExpressions.ts` | 95:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(frequency) \|\| frequency <=...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/jitterExpressions.ts` | 100:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(octaves) \|\| octaves < 1) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 111:62 | : void | ğŸŸ¢ LOW | Return Type | `function extractPaths(contents: ShapeLayerData[...` | Review if function should return boolean/number/object in... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 116:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (pathShape.path?.value?.vertices) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 116:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (pathShape.path?.value?.vertices) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 135:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const x = vertex.point?.x ?? 0;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 136:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const y = vertex.point?.y ?? 0;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 144:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(minX)) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 154:67 | : void | ğŸŸ¢ LOW | Return Type | `function findStrokeWidth(contents: ShapeLayerDa...` | Review if function should return boolean/number/object in... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 157:48 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const strokeWidth = typeof item.width?.value ==...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 226:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `text: layerData?.text ?? "",` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 227:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `fontSize: layerData?.fontSize ?? 72,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 228:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `fontFamily: layerData?.fontFamily ?? "Arial",` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 229:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `fontStyle: layerData?.fontStyle ?? "normal",` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 230:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `fillColor: layerData?.fill ?? "#FFFFFF",` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 231:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `strokeColor: layerData?.stroke ?? "#000000",` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 232:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `strokeWidth: layerData?.strokeWidth ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 233:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `tracking: layerData?.letterSpacing ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 234:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `leading: layerData?.lineHeight ?? 1.2,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/layerContentExpressions.ts` | 268:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const param = effect.parameters?.[paramKey];` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/motionExpressions.ts` | 96:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeAmplitude = Number.isFinite(amplitude...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/motionExpressions.ts` | 97:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeFrequency = Number.isFinite(frequency...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/motionExpressions.ts` | 98:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeDecay = Number.isFinite(decay) ? Math...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/motionExpressions.ts` | 150:33 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeElasticity = Number.isFinite(elasticity)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/motionExpressions.ts` | 153:30 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeGravity = Number.isFinite(gravity) &&...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/motionExpressions.ts` | 217:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeAmplitude = Number.isFinite(amplitude...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/motionExpressions.ts` | 218:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safePeriod = Number.isFinite(period) && p...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/sesEvaluator.ts` | 605:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(result)) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/expressions/workerEvaluator.ts` | 150:11 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `worker?.postMessage({ id, code, context });` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/expressions/workerEvaluator.ts` | 164:34 | : void | ğŸŸ¢ LOW | Return Type | `export function terminateWorker(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/frameCache.ts` | 131:19 | : void | ğŸŸ¢ LOW | Return Type | `add(key: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/frameCache.ts` | 150:25 | : void | ğŸŸ¢ LOW | Return Type | `moveToEnd(key: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/frameCache.ts` | 166:22 | : void | ğŸŸ¢ LOW | Return Type | `remove(key: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/frameCache.ts` | 179:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.head?.key ?? null;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/frameCache.ts` | 186:10 | : void | ğŸŸ¢ LOW | Return Type | `clear(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/frameCache.ts` | 243:69 | : void | ğŸŸ¢ LOW | Return Type | `setRenderCallback(callback: (frame: number) => ...` | Review if function should return boolean/number/object in... |
| â˜ | `services/frameCache.ts` | 253:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(frame)) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/frameCache.ts` | 352:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `!Number.isFinite(width) \|\|` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/frameCache.ts` | 353:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `!Number.isFinite(height) \|\|` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/frameCache.ts` | 410:47 | : void | ğŸŸ¢ LOW | Return Type | `remove(frame: number, compositionId: string): v...` | Review if function should return boolean/number/object in... |
| â˜ | `services/frameCache.ts` | 441:42 | : void | ğŸŸ¢ LOW | Return Type | `clearComposition(compositionId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/frameCache.ts` | 462:10 | : void | ğŸŸ¢ LOW | Return Type | `clear(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/frameCache.ts` | 474:58 | : void | ğŸŸ¢ LOW | Return Type | `invalidate(compositionId: string, newStateHash:...` | Review if function should return boolean/number/object in... |
| â˜ | `services/frameCache.ts` | 508:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(rawWindow) && rawWindow > 0` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/frameCache.ts` | 564:18 | : void | ğŸŸ¢ LOW | Return Type | `abortPreCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/frameCache.ts` | 597:47 | : void | ğŸŸ¢ LOW | Return Type | `setConfig(config: Partial<FrameCacheConfig>): v...` | Review if function should return boolean/number/object in... |
| â˜ | `services/gaussianSplatting.ts` | 561:54 | : void | ğŸŸ¢ LOW | Return Type | `setQuality(quality: Partial<GaussianRenderQuali...` | Review if function should return boolean/number/object in... |
| â˜ | `services/gaussianSplatting.ts` | 575:21 | : void | ğŸŸ¢ LOW | Return Type | `unload(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/gaussianSplatting.ts` | 582:10 | : void | ğŸŸ¢ LOW | Return Type | `clear(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/gaussianSplatting.ts` | 644:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/globalLight.ts` | 135:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/globalLight.ts` | 146:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/globalLight.ts` | 158:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/globalLight.ts` | 169:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/globalLight.ts` | 183:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/globalLight.ts` | 194:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/globalLight.ts` | 267:57 | : void | ğŸŸ¢ LOW | Return Type | `export function removeGlobalLight(compositionId...` | Review if function should return boolean/number/object in... |
| â˜ | `services/globalLight.ts` | 274:40 | : void | ğŸŸ¢ LOW | Return Type | `export function clearGlobalLightCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/globalLight.ts` | 297:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/glsl/GLSLEngine.ts` | 664:49 | : void | ğŸŸ¢ LOW | Return Type | `setUniforms(uniforms: Partial<ShaderUniforms>):...` | Review if function should return boolean/number/object in... |
| â˜ | `services/glsl/GLSLEngine.ts` | 838:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/glsl/GLSLEngine.ts` | 885:36 | : void | ğŸŸ¢ LOW | Return Type | `export function disposeGLSLEngine(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/glsl/ShaderEffects.ts` | 1126:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/glsl/ShaderEffects.ts` | 1145:47 | : void | ğŸŸ¢ LOW | Return Type | `export function disposeShaderEffectProcessor():...` | Review if function should return boolean/number/object in... |
| â˜ | `services/gpuBenchmark.ts` | 225:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const bestEffect = sortedBySpeedup[0]?.effectKe...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/gpuBenchmark.ts` | 227:48 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `sortedBySpeedup[sortedBySpeedup.length - 1]?.ef...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/gpuBenchmark.ts` | 261:61 | : void | ğŸŸ¢ LOW | Return Type | `export function printBenchmarkResults(suite: Be...` | Review if function should return boolean/number/object in... |
| â˜ | `services/gpuDetection.ts` | 49:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `deviceName = info?.device \|\| info?.description ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/gpuDetection.ts` | 49:44 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `deviceName = info?.device \|\| info?.description ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/gpuEffectDispatcher.ts` | 368:30 | : void | ğŸŸ¢ LOW | Return Type | `release(texture: ImageData): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/gpuEffectDispatcher.ts` | 379:12 | : void | ğŸŸ¢ LOW | Return Type | `cleanup(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/gpuEffectDispatcher.ts` | 389:10 | : void | ğŸŸ¢ LOW | Return Type | `clear(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/gpuEffectDispatcher.ts` | 481:30 | : void | ğŸŸ¢ LOW | Return Type | `private buildEffectRoutes(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/gpuEffectDispatcher.ts` | 556:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (mapping?.webgpuMethod) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/gpuEffectDispatcher.ts` | 566:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (mapping?.webglShader) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/gpuEffectDispatcher.ts` | 851:37 | : void | ğŸŸ¢ LOW | Return Type | `releaseTexture(texture: ImageData): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/gpuEffectDispatcher.ts` | 889:12 | : void | ğŸŸ¢ LOW | Return Type | `cleanup(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/gpuEffectDispatcher.ts` | 896:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/gpuParticleRenderer.ts` | 310:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/gpuParticleRenderer.ts` | 369:50 | : void | ğŸŸ¢ LOW | Return Type | `setSpriteTexture(texture: THREE.Texture \| null)...` | Review if function should return boolean/number/object in... |
| â˜ | `services/gpuParticleRenderer.ts` | 387:47 | : void | ğŸŸ¢ LOW | Return Type | `setDepthTexture(texture: THREE.DepthTexture): v...` | Review if function should return boolean/number/object in... |
| â˜ | `services/gpuParticleRenderer.ts` | 395:47 | : void | ğŸŸ¢ LOW | Return Type | `setResolution(width: number, height: number): v...` | Review if function should return boolean/number/object in... |
| â˜ | `services/gpuParticleRenderer.ts` | 402:49 | : void | ğŸŸ¢ LOW | Return Type | `setCameraClipPlanes(near: number, far: number):...` | Review if function should return boolean/number/object in... |
| â˜ | `services/gpuParticleRenderer.ts` | 410:49 | : void | ğŸŸ¢ LOW | Return Type | `setBlendMode(mode: RenderOptions["blendMode"]):...` | Review if function should return boolean/number/object in... |
| â˜ | `services/gpuParticleRenderer.ts` | 433:53 | : void | ğŸŸ¢ LOW | Return Type | `setMotionBlur(enabled: boolean, strength?: numb...` | Review if function should return boolean/number/object in... |
| â˜ | `services/gpuParticleRenderer.ts` | 443:56 | : void | ğŸŸ¢ LOW | Return Type | `setSoftParticles(enabled: boolean, distance?: n...` | Review if function should return boolean/number/object in... |
| â˜ | `services/gpuParticleRenderer.ts` | 453:52 | : void | ğŸŸ¢ LOW | Return Type | `setEmissive(enabled: boolean, intensity?: numbe...` | Review if function should return boolean/number/object in... |
| â˜ | `services/gpuParticleRenderer.ts` | 463:30 | : void | ğŸŸ¢ LOW | Return Type | `setSizeScale(scale: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/gpuParticleRenderer.ts` | 470:24 | : void | ğŸŸ¢ LOW | Return Type | `setTime(time: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/gpuParticleRenderer.ts` | 491:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/gpuParticleRenderer.ts` | 553:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/gpuParticleRenderer.ts` | 602:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/interpolation.ts` | 128:10 | : void | ğŸŸ¢ LOW | Return Type | `clear(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/interpolation.ts` | 147:35 | : void | ğŸŸ¢ LOW | Return Type | `export function clearBezierCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/interpolation.ts` | 215:19 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `return Number.isFinite(distance) && distance > ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/interpolation.ts` | 296:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (property.expression?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/interpolation.ts` | 639:17 | isNaN() | ğŸŸ¢ LOW | Legacy Function | `return Number.isNaN(val) ? 0 : Math.max(0, Math...` | Replace with Number.isNaN() for more accurate type checking |
| â˜ | `services/interpolation.ts` | 737:38 | : void | ğŸŸ¢ LOW | Return Type | `export function clearPathMorphCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/interpolation.ts` | 805:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/jsonValidation.ts` | 83:47 | isNaN() | ğŸŸ¢ LOW | Legacy Function | `return typeof value === "number" && !Number.isN...` | Replace with Number.isNaN() for more accurate type checking |
| â˜ | `services/layerDecomposition.ts` | 128:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.("starting", 0);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/layerDecomposition.ts` | 154:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.("complete", 100);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/layerDecomposition.ts` | 256:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `throw new Error(memCheck.warning?.message \|\| "I...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/layerDecomposition.ts` | 378:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.("checking", "Checking model status...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/layerDecomposition.ts` | 383:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.("downloading", "Downloading model ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/layerDecomposition.ts` | 389:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.("loading", "Loading model into GPU...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/layerDecomposition.ts` | 394:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.("decomposing", "Decomposing image ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/layerDecomposition.ts` | 399:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.("labeling", "Generating semantic l...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/layerDecomposition.ts` | 403:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.("complete", `Generated ${layers.le...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/layerDecomposition.ts` | 408:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.("cleanup", "Freeing GPU memory...");` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/layerEvaluationCache.ts` | 48:48 | : void | ğŸŸ¢ LOW | Return Type | `export function markLayerDirty(layerId: string)...` | Review if function should return boolean/number/object in... |
| â˜ | `services/layerEvaluationCache.ts` | 57:37 | : void | ğŸŸ¢ LOW | Return Type | `export function markAllLayersDirty(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/layerEvaluationCache.ts` | 139:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/layerEvaluationCache.ts` | 156:40 | : void | ğŸŸ¢ LOW | Return Type | `function evictOldEntries(count: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/layerEvaluationCache.ts` | 171:49 | : void | ğŸŸ¢ LOW | Return Type | `export function clearLayerCache(layerId: string...` | Review if function should return boolean/number/object in... |
| â˜ | `services/layerEvaluationCache.ts` | 184:39 | : void | ğŸŸ¢ LOW | Return Type | `export function clearEvaluationCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/layerEvaluationCache.ts` | 244:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `transform.separateDimensions?.position &&` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/layerEvaluationCache.ts` | 268:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `transform.separateDimensions?.scale &&` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/lazyLoader.ts` | 147:39 | : void | ğŸŸ¢ LOW | Return Type | `export function preloadCommonModules(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/lazyLoader.ts` | 165:39 | : void | ğŸŸ¢ LOW | Return Type | `export function preloadExportModules(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/lazyLoader.ts` | 178:46 | : void | ğŸŸ¢ LOW | Return Type | `export function clearModuleCache(key: string): ...` | Review if function should return boolean/number/object in... |
| â˜ | `services/lazyLoader.ts` | 185:38 | : void | ğŸŸ¢ LOW | Return Type | `export function clearAllModuleCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/maskGenerator.ts` | 163:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/maskGenerator.ts` | 532:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/maskGenerator.ts` | 731:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const baseSeed = options?.seed ?? Date.now();` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/materialSystem.ts` | 149:44 | : void | ğŸŸ¢ LOW | Return Type | `initialize(renderer: THREE.WebGLRenderer): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/materialSystem.ts` | 159:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/materialSystem.ts` | 188:16 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (asset?.data) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/materialSystem.ts` | 201:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (options?.repeat) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/materialSystem.ts` | 206:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (options?.offset) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/materialSystem.ts` | 209:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (options?.rotation !== undefined) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/materialSystem.ts` | 228:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/materialSystem.ts` | 464:16 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (asset?.data) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/materialSystem.ts` | 479:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.pmremGenerator?.fromEquirectangular(textur...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/materialSystem.ts` | 504:59 | : void | ğŸŸ¢ LOW | Return Type | `setEnvironmentConfig(config: Partial<Environmen...` | Review if function should return boolean/number/object in... |
| â˜ | `services/materialSystem.ts` | 532:34 | : void | ğŸŸ¢ LOW | Return Type | `private updateMaterialsEnvMap(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/materialSystem.ts` | 724:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/materialSystem.ts` | 782:38 | : void | ğŸŸ¢ LOW | Return Type | `disposeMaterial(materialId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/materialSystem.ts` | 793:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/math3d.ts` | 47:80 | : void | ğŸŸ¢ LOW | Return Type | `export function setMath3DWarnHandler(handler: (...` | Review if function should return boolean/number/object in... |
| â˜ | `services/math3d.ts` | 51:93 | : void | ğŸŸ¢ LOW | Return Type | `function math3dWarn(type: Math3DWarning, messag...` | Review if function should return boolean/number/object in... |
| â˜ | `services/matteExporter.ts` | 306:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!splineData?.controlPoints \|\| splineData.co...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/matteExporter.ts` | 413:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/matteExporter.ts` | 488:61 | : void | ğŸŸ¢ LOW | Return Type | `private initializeParticleSystems(project: Latt...` | Review if function should return boolean/number/object in... |
| â˜ | `services/matteExporter.ts` | 538:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/matteExporter.ts` | 566:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/matteExporter.ts` | 589:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/memoryBudget.ts` | 240:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/memoryBudget.ts` | 247:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `canUnload: options?.canUnload ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/memoryBudget.ts` | 248:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `unloadFn: options?.unloadFn,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/memoryBudget.ts` | 263:49 | : void | ğŸŸ¢ LOW | Return Type | `export function unregisterAllocation(id: string...` | Review if function should return boolean/number/object in... |
| â˜ | `services/memoryBudget.ts` | 276:66 | : void | ğŸŸ¢ LOW | Return Type | `export function updateAllocation(id: string, es...` | Review if function should return boolean/number/object in... |
| â˜ | `services/memoryBudget.ts` | 535:30 | : void | ğŸŸ¢ LOW | Return Type | `function checkAndLogWarning(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/meshDeformation3D.ts` | 408:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/meshDeformation3D.ts` | 420:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/meshDeformation3D.ts` | 458:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/meshDeformation3D.ts` | 528:30 | : void | ğŸŸ¢ LOW | Return Type | `clearLayer(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/meshDeformation3D.ts` | 538:13 | : void | ğŸŸ¢ LOW | Return Type | `clearAll(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/meshParticleManager.ts` | 162:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `boundingBox: geometry.boundingBox?.clone() ?? n...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/meshParticleManager.ts` | 163:46 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `boundingSphere: geometry.boundingSphere?.clone(...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/meshParticleManager.ts` | 164:53 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `vertexCount: geometry.getAttribute("position")?...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/meshParticleManager.ts` | 167:45 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `: (geometry.getAttribute("position")?.count ?? ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/meshParticleManager.ts` | 292:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `name ?? `${type?.charAt(0).toUpperCase()}${type...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/meshParticleManager.ts` | 292:54 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `name ?? `${type?.charAt(0).toUpperCase()}${type...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/meshParticleManager.ts` | 379:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/meshParticleManager.ts` | 498:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/meshParticleManager.ts` | 646:29 | : void | ğŸŸ¢ LOW | Return Type | `unregisterMesh(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/meshParticleManager.ts` | 650:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `registration.lodGeometries?.forEach((g) => g.di...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/meshParticleManager.ts` | 666:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/meshParticleManager.ts` | 670:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `registration.lodGeometries?.forEach((g) => g.di...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/meshWarpDeformation.ts` | 474:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `inFront: pin.inFront?.value,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/meshWarpDeformation.ts` | 524:29 | : void | ğŸŸ¢ LOW | Return Type | `clearMesh(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/meshWarpDeformation.ts` | 535:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/meshWarpDeformation.ts` | 557:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/meshWarpDeformation.ts` | 578:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/meshWarpDeformation.ts` | 658:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.meshCache.get(layerId)?.pins ?? [];` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/meshWarpDeformation.ts` | 669:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/meshWarpDeformation.ts` | 682:19 | : void | ğŸŸ¢ LOW | Return Type | `clearAllMeshes(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/midi/MIDIService.ts` | 209:54 | : void | ğŸŸ¢ LOW | Return Type | `private registerInput(id: string, input: MIDIIn...` | Review if function should return boolean/number/object in... |
| â˜ | `services/midi/MIDIService.ts` | 214:56 | : void | ğŸŸ¢ LOW | Return Type | `private handleStateChange(event: MIDIConnection...` | Review if function should return boolean/number/object in... |
| â˜ | `services/midi/MIDIService.ts` | 244:71 | : void | ğŸŸ¢ LOW | Return Type | `private handleMIDIMessage(deviceId: string, eve...` | Review if function should return boolean/number/object in... |
| â˜ | `services/midi/MIDIService.ts` | 336:44 | : void | ğŸŸ¢ LOW | Return Type | `private updateState(message: MIDIMessage): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/midi/MIDIService.ts` | 367:49 | : void | ğŸŸ¢ LOW | Return Type | `addGlobalListener(callback: MIDIEventCallback):...` | Review if function should return boolean/number/object in... |
| â˜ | `services/midi/MIDIService.ts` | 374:52 | : void | ğŸŸ¢ LOW | Return Type | `removeGlobalListener(callback: MIDIEventCallbac...` | Review if function should return boolean/number/object in... |
| â˜ | `services/midi/MIDIService.ts` | 381:67 | : void | ğŸŸ¢ LOW | Return Type | `addDeviceListener(deviceId: string, callback: M...` | Review if function should return boolean/number/object in... |
| â˜ | `services/midi/MIDIService.ts` | 385:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.listeners.get(deviceId)?.add(callback);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/midi/MIDIService.ts` | 391:70 | : void | ğŸŸ¢ LOW | Return Type | `removeDeviceListener(deviceId: string, callback...` | Review if function should return boolean/number/object in... |
| â˜ | `services/midi/MIDIService.ts` | 392:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.listeners.get(deviceId)?.delete(callback);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/midi/MIDIService.ts` | 664:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/midi/MIDIService.ts` | 701:37 | : void | ğŸŸ¢ LOW | Return Type | `export function disposeMIDIService(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/midiToKeyframes.ts` | 273:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `let currentBpm = tempoChanges[0]?.bpm ?? 120;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/midiToKeyframes.ts` | 661:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `(config.noteRange?.max ?? 127) - (config.noteRa...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/midiToKeyframes.ts` | 661:61 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `(config.noteRange?.max ?? 127) - (config.noteRa...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/midiToKeyframes.ts` | 663:47 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `(note.noteNumber - (config.noteRange?.min ?? 0)...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/modelExport.ts` | 102:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `fov: cameras[0]?.angleOfView ?? 39.6,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/modelExport.ts` | 103:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `nearClip: cameras[0]?.nearClip ?? 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/modelExport.ts` | 104:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `farClip: cameras[0]?.farClip ?? 10000,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/modelExport.ts` | 141:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const numFrames = trajectories[0]?.points.lengt...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/modelExport.ts` | 318:62 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (splineData.animated && splineData.animatedC...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/modelExport.ts` | 1189:54 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const shape = [trajectories.length, trajectorie...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/motionBlur.ts` | 130:53 | : void | ğŸŸ¢ LOW | Return Type | `setSettings(settings: Partial<MotionBlurSetting...` | Review if function should return boolean/number/object in... |
| â˜ | `services/motionBlur.ts` | 138:40 | : void | ğŸŸ¢ LOW | Return Type | `resize(width: number, height: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/motionBlur.ts` | 243:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/motionBlur.ts` | 606:16 | : void | ğŸŸ¢ LOW | Return Type | `clearBuffer(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/motionReactivity.ts` | 363:51 | : void | ğŸŸ¢ LOW | Return Type | `export function clearMotionCache(layerId?: stri...` | Review if function should return boolean/number/object in... |
| â˜ | `services/motionRecording.ts` | 449:44 | : void | ğŸŸ¢ LOW | Return Type | `start(initialX: number, initialY: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/motionRecording.ts` | 463:34 | : void | ğŸŸ¢ LOW | Return Type | `addSample(x: number, y: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleGPU.ts` | 426:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.maxParticles = Number.isFinite(maxParticle...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/particleGPU.ts` | 489:26 | : void | ğŸŸ¢ LOW | Return Type | `private createBuffers(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleGPU.ts` | 595:41 | : void | ğŸŸ¢ LOW | Return Type | `uploadParticles(data: GPUParticleData): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleGPU.ts` | 628:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleGPU.ts` | 684:40 | : void | ğŸŸ¢ LOW | Return Type | `dispatchUpdate(particleCount: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleGPU.ts` | 726:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleGPU.ts` | 822:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `await this.stagingPositionBuffer?.mapAsync(GPUM...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 823:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `await this.stagingVelocityBuffer?.mapAsync(GPUM...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 824:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `await this.stagingPropertiesBuffer?.mapAsync(GP...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 825:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `await this.stagingColorBuffer?.mapAsync(GPUMapM...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 827:48 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const posRange = this.stagingPositionBuffer?.ge...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 828:48 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const velRange = this.stagingVelocityBuffer?.ge...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 829:51 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const propRange = this.stagingPropertiesBuffer?...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 830:47 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const colorRange = this.stagingColorBuffer?.get...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 837:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.stagingPositionBuffer?.unmap();` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 838:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.stagingVelocityBuffer?.unmap();` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 839:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.stagingPropertiesBuffer?.unmap();` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 840:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.stagingColorBuffer?.unmap();` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 858:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleGPU.ts` | 859:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.positionBuffer?.destroy();` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 860:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.velocityBuffer?.destroy();` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 861:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.propertiesBuffer?.destroy();` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 862:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.colorBuffer?.destroy();` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 863:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.configBuffer?.destroy();` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 864:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.gravityWellBuffer?.destroy();` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 865:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.vortexBuffer?.destroy();` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 866:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.modulationConfigBuffer?.destroy();` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 867:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.stagingPositionBuffer?.destroy();` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 868:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.stagingVelocityBuffer?.destroy();` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 869:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.stagingPropertiesBuffer?.destroy();` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 870:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.stagingColorBuffer?.destroy();` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 932:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.maxParticles = Number.isFinite(maxParticle...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/particleGPU.ts` | 972:16 | : void | ğŸŸ¢ LOW | Return Type | `uploadToGPU(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleGPU.ts` | 1013:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleGPU.ts` | 1134:34 | : void | ğŸŸ¢ LOW | Return Type | `setParticleCount(count: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleGPU.ts` | 1236:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleGPU.ts` | 1237:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.gpu?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleGPU.ts` | 1259:46 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const adapter = await navigator.gpu?.requestAda...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particles/particleDefaults.ts` | 41:50 | : void | ğŸŸ¢ LOW | Return Type | `export function resetIdCounter(value: number = ...` | Review if function should return boolean/number/object in... |
| â˜ | `services/particles/particleRenderer.ts` | 62:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particles/particleRenderer.ts` | 89:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (options.connections?.enabled && spatialGrid) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particles/particleRenderer.ts` | 177:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particles/particleRenderer.ts` | 271:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particles/particleRenderer.ts` | 330:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particles/particleRenderer.ts` | 370:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particles/particleRenderer.ts` | 372:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!emitter?.sprite?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particles/particleRenderer.ts` | 372:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!emitter?.sprite?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particles/particleRenderer.ts` | 393:38 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `ctx.imageSmoothingEnabled = options?.spriteSmoo...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particles/particleRenderer.ts` | 397:14 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (options?.spriteOpacityByAge) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particles/particleRenderer.ts` | 460:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particles/particleRenderer.ts` | 497:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particles/particleRenderer.ts` | 562:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (connConfig?.enabled && particles.length >= ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particles/SeededRandom.ts` | 25:10 | : void | ğŸŸ¢ LOW | Return Type | `reset(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particles/SeededRandom.ts` | 30:24 | : void | ğŸŸ¢ LOW | Return Type | `setSeed(seed: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particles/SeededRandom.ts` | 41:26 | : void | ğŸŸ¢ LOW | Return Type | `setState(state: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 178:24 | : void | ğŸŸ¢ LOW | Return Type | `setSeed(seed: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 187:29 | : void | ğŸŸ¢ LOW | Return Type | `setNoiseTime(time: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 188:29 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `this.noiseTime = Number.isFinite(time) && time ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/particleSystem.ts` | 194:43 | : void | ğŸŸ¢ LOW | Return Type | `setRenderOptions(options: RenderOptions): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 209:57 | : void | ğŸŸ¢ LOW | Return Type | `setSplineProvider(provider: SplinePathProvider ...` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 224:33 | : void | ğŸŸ¢ LOW | Return Type | `setCurrentFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 242:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (emitter?.sprite) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleSystem.ts` | 258:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 261:16 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (emitter?.sprite) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleSystem.ts` | 277:36 | : void | ğŸŸ¢ LOW | Return Type | `addEmitter(config: EmitterConfig): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 292:61 | : void | ğŸŸ¢ LOW | Return Type | `updateEmitter(id: string, updates: Partial<Emit...` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 299:28 | : void | ğŸŸ¢ LOW | Return Type | `removeEmitter(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 316:44 | : void | ğŸŸ¢ LOW | Return Type | `addGravityWell(config: GravityWellConfig): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 320:69 | : void | ğŸŸ¢ LOW | Return Type | `updateGravityWell(id: string, updates: Partial<...` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 327:32 | : void | ğŸŸ¢ LOW | Return Type | `removeGravityWell(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 339:34 | : void | ğŸŸ¢ LOW | Return Type | `addVortex(config: VortexConfig): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 343:59 | : void | ğŸŸ¢ LOW | Return Type | `updateVortex(id: string, updates: Partial<Vorte...` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 350:27 | : void | ğŸŸ¢ LOW | Return Type | `removeVortex(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 362:52 | : void | ğŸŸ¢ LOW | Return Type | `addLorenzAttractor(config: LorenzAttractorConfi...` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 369:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 376:36 | : void | ğŸŸ¢ LOW | Return Type | `removeLorenzAttractor(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 388:41 | : void | ğŸŸ¢ LOW | Return Type | `addModulation(mod: ParticleModulation): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 392:31 | : void | ğŸŸ¢ LOW | Return Type | `removeModulation(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 407:42 | : void | ğŸŸ¢ LOW | Return Type | `setBoundaryMask(mask: ImageData \| null): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 415:68 | : void | ğŸŸ¢ LOW | Return Type | `setFeatureValue(param: string, value: number, e...` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 435:30 | : void | ğŸŸ¢ LOW | Return Type | `step(deltaTime: number = 1): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 602:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (emitter?.sprite?.alignToVelocity && (p.vx !...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleSystem.ts` | 602:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (emitter?.sprite?.alignToVelocity && (p.vx !...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleSystem.ts` | 607:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (emitter?.sprite?.isSheet && emitter.sprite....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleSystem.ts` | 607:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (emitter?.sprite?.isSheet && emitter.sprite....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleSystem.ts` | 648:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.config.collision?.enabled &&` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleSystem.ts` | 655:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (this.config.collision?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleSystem.ts` | 671:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 722:37 | : void | ğŸŸ¢ LOW | Return Type | `private handleParticleCollisions(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 737:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.collisionGrid.get(key)?.push(p);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleSystem.ts` | 833:40 | : void | ğŸŸ¢ LOW | Return Type | `private handleEnvironmentCollisions(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 835:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!collision?.enabled) return;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleSystem.ts` | 875:48 | : void | ğŸŸ¢ LOW | Return Type | `private spawnParticle(emitter: EmitterConfig): ...` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 910:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (sprite?.rotationEnabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleSystem.ts` | 918:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (sprite?.alignToVelocity) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleSystem.ts` | 924:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (sprite?.isSheet && sprite.playMode === "ran...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleSystem.ts` | 1528:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 1537:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 1544:23 | : void | ğŸŸ¢ LOW | Return Type | `clearEmissionCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 1729:47 | : void | ğŸŸ¢ LOW | Return Type | `private handleBoundaryCollision(p: Particle): v...` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 1770:44 | : void | ğŸŸ¢ LOW | Return Type | `private handleCanvasBoundary(p: Particle): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 1804:40 | : void | ğŸŸ¢ LOW | Return Type | `private applyModulations(p: Particle): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 1854:58 | : void | ğŸŸ¢ LOW | Return Type | `private applyTurbulence(p: Particle, deltaTime:...` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 1868:42 | : void | ğŸŸ¢ LOW | Return Type | `addTurbulence(config: TurbulenceConfig): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 1873:67 | : void | ğŸŸ¢ LOW | Return Type | `updateTurbulence(id: string, updates: Partial<T...` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 1874:46 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const turb = this.config.turbulenceFields?.find...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleSystem.ts` | 1878:31 | : void | ğŸŸ¢ LOW | Return Type | `removeTurbulence(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 1898:53 | : void | ğŸŸ¢ LOW | Return Type | `private triggerSubEmitters(deadParticle: Partic...` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 1955:42 | : void | ğŸŸ¢ LOW | Return Type | `addSubEmitter(config: SubEmitterConfig): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 1960:67 | : void | ğŸŸ¢ LOW | Return Type | `updateSubEmitter(id: string, updates: Partial<S...` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 1961:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const sub = this.config.subEmitters?.find((s) =...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleSystem.ts` | 1965:31 | : void | ğŸŸ¢ LOW | Return Type | `removeSubEmitter(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 1981:50 | : void | ğŸŸ¢ LOW | Return Type | `triggerBurst(emitterId: string, count?: number)...` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 1990:21 | : void | ğŸŸ¢ LOW | Return Type | `triggerAllBursts(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 2003:52 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const cellSize = this.renderOptions.connections...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleSystem.ts` | 2010:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `cells.get(key)?.push(p);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/particleSystem.ts` | 2020:10 | : void | ğŸŸ¢ LOW | Return Type | `reset(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 2044:22 | : void | ğŸŸ¢ LOW | Return Type | `resetEmitterSeeds(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 2072:14 | : void | ğŸŸ¢ LOW | Return Type | `clearPool(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 2106:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 2156:11 | : void | ğŸŸ¢ LOW | Return Type | `warmup(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 2174:52 | : void | ğŸŸ¢ LOW | Return Type | `setConfig(updates: Partial<ParticleSystemConfig...` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 2187:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/particleSystem.ts` | 2201:44 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const spatialGrid = options.connections?.enabled` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/pathMorphing.ts` | 767:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (typeof (v.point as any)?.x !== "number") re...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/pathMorphing.ts` | 768:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (typeof (v.point as any)?.y !== "number") re...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/persistenceService.ts` | 211:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const name = project.meta?.name \|\| "Untitled Pr...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/persistenceService.ts` | 478:62 | : void | ğŸŸ¢ LOW | Return Type | `export function saveSettings(settings: Partial<...` | Review if function should return boolean/number/object in... |
| â˜ | `services/persistenceService.ts` | 500:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/persistenceService.ts` | 520:55 | : void | ğŸŸ¢ LOW | Return Type | `function saveRecentProjects(projects: RecentPro...` | Review if function should return boolean/number/object in... |
| â˜ | `services/persistenceService.ts` | 531:60 | : void | ğŸŸ¢ LOW | Return Type | `export function addToRecentProjects(project: Re...` | Review if function should return boolean/number/object in... |
| â˜ | `services/persistenceService.ts` | 547:60 | : void | ğŸŸ¢ LOW | Return Type | `export function removeFromRecentProjects(projec...` | Review if function should return boolean/number/object in... |
| â˜ | `services/persistenceService.ts` | 552:38 | : void | ğŸŸ¢ LOW | Return Type | `export function clearRecentProjects(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/persistenceService.ts` | 568:45 | : void | ğŸŸ¢ LOW | Return Type | `export function setLastProjectId(id: string): v...` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/JointSystem.ts` | 62:32 | : void | ğŸŸ¢ LOW | Return Type | `addJoint(config: JointConfig): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/JointSystem.ts` | 66:26 | : void | ğŸŸ¢ LOW | Return Type | `removeJoint(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/JointSystem.ts` | 86:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/JointSystem.ts` | 194:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (joint.motor?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/physics/JointSystem.ts` | 422:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (joint.motor?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/physics/JointSystem.ts` | 498:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (joint.motor?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/physics/JointSystem.ts` | 706:10 | : void | ğŸŸ¢ LOW | Return Type | `clear(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/JointSystem.ts` | 724:55 | : void | ğŸŸ¢ LOW | Return Type | `loadState(states: { id: string; broken: boolean...` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 52:10 | : void | ğŸŸ¢ LOW | Return Type | `reset(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 163:39 | : void | ğŸŸ¢ LOW | Return Type | `addBody(bodyConfig: RigidBodyConfig): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 201:25 | : void | ğŸŸ¢ LOW | Return Type | `removeBody(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 243:70 | : void | ğŸŸ¢ LOW | Return Type | `applyForce(bodyId: string, force: PhysicsVec2, ...` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 259:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 278:24 | : void | ğŸŸ¢ LOW | Return Type | `integrate(dt: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 344:38 | : void | ğŸŸ¢ LOW | Return Type | `loadState(states: RigidBodyState[]): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 770:38 | : void | ğŸŸ¢ LOW | Return Type | `addSoftBody(config: SoftBodyConfig): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 809:29 | : void | ğŸŸ¢ LOW | Return Type | `removeSoftBody(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 828:53 | : void | ğŸŸ¢ LOW | Return Type | `applyForce(particleId: string, force: PhysicsVe...` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 838:38 | : void | ğŸŸ¢ LOW | Return Type | `applyForceToAll(force: PhysicsVec2): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 846:48 | : void | ğŸŸ¢ LOW | Return Type | `integrate(dt: number, damping: number = 0.98): ...` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 867:39 | : void | ğŸŸ¢ LOW | Return Type | `solveConstraints(iterations: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 919:47 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `.filter((id) => this.constraints.get(id)?.broken)` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/physics/PhysicsEngine.ts` | 929:55 | : void | ğŸŸ¢ LOW | Return Type | `loadState(_softBodyId: string, state: SoftBodyS...` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 961:35 | : void | ğŸŸ¢ LOW | Return Type | `createCloth(config: ClothConfig): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 1086:26 | : void | ğŸŸ¢ LOW | Return Type | `removeCloth(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 1090:50 | : void | ğŸŸ¢ LOW | Return Type | `applyForce(clothId: string, force: PhysicsVec2)...` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 1101:24 | : void | ğŸŸ¢ LOW | Return Type | `integrate(dt: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 1124:21 | : void | ğŸŸ¢ LOW | Return Type | `solveConstraints(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 1195:48 | : void | ğŸŸ¢ LOW | Return Type | `loadState(clothId: string, state: ClothState): ...` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 1240:39 | : void | ğŸŸ¢ LOW | Return Type | `setForceFields(fields: ForceField[]): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 1248:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 1489:49 | : void | ğŸŸ¢ LOW | Return Type | `setConfig(config: Partial<PhysicsSpaceConfig>):...` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 1496:39 | : void | ğŸŸ¢ LOW | Return Type | `setForceFields(fields: ForceField[]): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 1502:40 | : void | ğŸŸ¢ LOW | Return Type | `addRigidBody(config: RigidBodyConfig): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 1507:30 | : void | ğŸŸ¢ LOW | Return Type | `removeRigidBody(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 1512:38 | : void | ğŸŸ¢ LOW | Return Type | `addSoftBody(config: SoftBodyConfig): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 1517:29 | : void | ğŸŸ¢ LOW | Return Type | `removeSoftBody(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 1522:32 | : void | ğŸŸ¢ LOW | Return Type | `addCloth(config: ClothConfig): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 1527:26 | : void | ğŸŸ¢ LOW | Return Type | `removeCloth(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 1536:54 | : void | ğŸŸ¢ LOW | Return Type | `addRagdoll(ragdollId: string, bones: RagdollBon...` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 1545:35 | : void | ğŸŸ¢ LOW | Return Type | `removeRagdoll(ragdollId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 1608:38 | : void | ğŸŸ¢ LOW | Return Type | `private simulateStep(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 1692:40 | : void | ğŸŸ¢ LOW | Return Type | `private saveCheckpoint(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 1706:15 | : void | ğŸŸ¢ LOW | Return Type | `clearCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/PhysicsEngine.ts` | 1742:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `frameData.get(body.id)?.push({` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/physics/PhysicsEngine.ts` | 1868:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/physics/RagdollBuilder.ts` | 589:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/plugins/PluginManager.ts` | 255:5 | : void | ğŸŸ¢ LOW | Return Type | `}): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/plugins/PluginManager.ts` | 275:5 | : void | ğŸŸ¢ LOW | Return Type | `}): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/plugins/PluginManager.ts` | 383:42 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `getProject: () => this.getProjectFn?.() ?? null,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/plugins/PluginManager.ts` | 384:52 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `getCurrentFrame: () => this.getCurrentFrameFn?....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/plugins/PluginManager.ts` | 385:56 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `getSelectedLayers: () => this.getSelectedLayers...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/plugins/PluginManager.ts` | 386:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `getLayer: (id) => this.getLayerFn?.(id) ?? null,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/plugins/PluginManager.ts` | 387:52 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `getComposition: (id) => this.getCompositionFn?....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/plugins/PluginManager.ts` | 388:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `getAsset: (id) => this.getAssetFn?.(id) ?? null,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/plugins/PluginManager.ts` | 399:49 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `plugin.registrations.events.get(event)?.add(cal...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/plugins/PluginManager.ts` | 401:52 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return () => this.eventListeners.get(event)?.de...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/plugins/PluginManager.ts` | 405:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.eventListeners.get(event)?.delete(callback);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/plugins/PluginManager.ts` | 406:47 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `plugin.registrations.events.get(event)?.delete(...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/plugins/PluginManager.ts` | 412:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.onRegisterPanel?.(panel);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/plugins/PluginManager.ts` | 417:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.onRegisterMenuItem?.(item);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/plugins/PluginManager.ts` | 422:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.onRegisterContextMenu?.(menu);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/plugins/PluginManager.ts` | 428:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.onRegisterEffect?.(effect);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/plugins/PluginManager.ts` | 434:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.onRegisterExporter?.(exporter);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/plugins/PluginManager.ts` | 440:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.onRegisterTool?.(tool);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/plugins/PluginManager.ts` | 445:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.onShowNotification?.(message, type);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/plugins/PluginManager.ts` | 461:59 | : void | ğŸŸ¢ LOW | Return Type | `private cleanupPluginRegistrations(plugin: Load...` | Review if function should return boolean/number/object in... |
| â˜ | `services/plugins/PluginManager.ts` | 483:43 | : void | ğŸŸ¢ LOW | Return Type | `emit(event: PluginEvent, ...args: any[]): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/plugins/PluginManager.ts` | 534:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return plugin.manifest.permissions?.includes(pe...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/preprocessorService.ts` | 781:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.("Rendering source layer...");` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/preprocessorService.ts` | 793:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.(` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/preprocessorService.ts` | 795:47 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `(PREPROCESSOR_REGISTRY[preprocessorId]?.display...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/preprocessorService.ts` | 811:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.("Creating asset...");` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/projectCollection.ts` | 82:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `projectName: project.meta?.name \|\| "Untitled Pr...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/projectCollection.ts` | 93:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.({` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/projectCollection.ts` | 129:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.({` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/projectCollection.ts` | 171:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.({` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/projectCollection.ts` | 197:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.({` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/projectCollection.ts` | 212:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.({` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/projectCollection.ts` | 223:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.({` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/projectCollection.ts` | 235:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.({` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/projectCollection.ts` | 249:10 | : void | ğŸŸ¢ LOW | Return Type | `abort(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/projectCollection.ts` | 259:71 | : void | ğŸŸ¢ LOW | Return Type | `downloadZip(blob: Blob, filename: string = "pro...` | Review if function should return boolean/number/object in... |
| â˜ | `services/projectCollection.ts` | 289:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (asset.url?.startsWith("blob:")) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/projectMigration.ts` | 85:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (layer.transform?.anchorPoint !== undefined) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/projectMigration.ts` | 101:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (layer.data?.timeRemapEnabled !== undefined) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/projectMigration.ts` | 105:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (layer.data?.timeRemap !== undefined) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/projectMigration.ts` | 142:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (typeof project?.schemaVersion === "number") {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/projectStorage.ts` | 168:43 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `logger.info(`Found ${result.projects?.length \|\|...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/projectStorage.ts` | 244:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/projectStorage.ts` | 245:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const name = filename \|\| project.meta?.name \|\| ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/projectStorage.ts` | 284:54 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `logger.info(`Imported project: ${project.meta?....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/propertyDriver.ts` | 214:51 | : void | ğŸŸ¢ LOW | Return Type | `setAudioAnalysis(analysis: AudioAnalysis \| null...` | Review if function should return boolean/number/object in... |
| â˜ | `services/propertyDriver.ts` | 221:44 | : void | ğŸŸ¢ LOW | Return Type | `setPropertyGetter(getter: PropertyGetter): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/propertyDriver.ts` | 297:27 | : void | ğŸŸ¢ LOW | Return Type | `removeDriver(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/propertyDriver.ts` | 305:61 | : void | ğŸŸ¢ LOW | Return Type | `updateDriver(id: string, updates: Partial<Prope...` | Review if function should return boolean/number/object in... |
| â˜ | `services/propertyDriver.ts` | 581:19 | : void | ğŸŸ¢ LOW | Return Type | `resetSmoothing(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/propertyDriver.ts` | 588:10 | : void | ğŸŸ¢ LOW | Return Type | `clear(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/propertyDriver.ts` | 603:41 | : void | ğŸŸ¢ LOW | Return Type | `deserialize(drivers: PropertyDriver[]): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/propertyDriver.ts` | 838:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const offsetValue = options.offset?.[coord];` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/propertyEvaluator.ts` | 281:51 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `audioValue = audioAnalysis.amplitudeEnvelope?.[...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/propertyEvaluator.ts` | 284:48 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `audioValue = audioAnalysis.frequencyBands?.bass...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/propertyEvaluator.ts` | 284:54 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `audioValue = audioAnalysis.frequencyBands?.bass...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/propertyEvaluator.ts` | 287:48 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `audioValue = audioAnalysis.frequencyBands?.mid?...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/propertyEvaluator.ts` | 287:53 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `audioValue = audioAnalysis.frequencyBands?.mid?...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/propertyEvaluator.ts` | 290:48 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `audioValue = audioAnalysis.frequencyBands?.high...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/propertyEvaluator.ts` | 290:54 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `audioValue = audioAnalysis.frequencyBands?.high...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/propertyEvaluator.ts` | 295:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `audioValue = audioAnalysis.beats?.includes(fram...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/propertyEvaluator.ts` | 298:51 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `audioValue = audioAnalysis.amplitudeEnvelope?.[...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/propertyEvaluator.ts` | 350:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return property.expression?.enabled === true;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/renderQueue/RenderQueueManager.ts` | 303:10 | : void | ğŸŸ¢ LOW | Return Type | `close(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/renderQueue/RenderQueueManager.ts` | 391:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/renderQueue/RenderQueueManager.ts` | 488:10 | : void | ğŸŸ¢ LOW | Return Type | `start(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/renderQueue/RenderQueueManager.ts` | 502:10 | : void | ğŸŸ¢ LOW | Return Type | `pause(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/renderQueue/RenderQueueManager.ts` | 519:11 | : void | ğŸŸ¢ LOW | Return Type | `resume(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/renderQueue/RenderQueueManager.ts` | 539:9 | : void | ğŸŸ¢ LOW | Return Type | `stop(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/renderQueue/RenderQueueManager.ts` | 558:21 | : void | ğŸŸ¢ LOW | Return Type | `cancelCurrentJob(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/renderQueue/RenderQueueManager.ts` | 589:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.onQueueEmptyCallback?.();` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/renderQueue/RenderQueueManager.ts` | 676:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.onJobCompleteCallback?.(job.id, allFrames);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/renderQueue/RenderQueueManager.ts` | 690:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.onJobErrorCallback?.(job.id, job.progress....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/renderQueue/RenderQueueManager.ts` | 704:66 | : void | ğŸŸ¢ LOW | Return Type | `private updateJobProgress(job: RenderJob, curre...` | Review if function should return boolean/number/object in... |
| â˜ | `services/renderQueue/RenderQueueManager.ts` | 727:26 | : void | ğŸŸ¢ LOW | Return Type | `private startAutoSave(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/renderQueue/RenderQueueManager.ts` | 741:25 | : void | ğŸŸ¢ LOW | Return Type | `private stopAutoSave(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/renderQueue/RenderQueueManager.ts` | 754:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/renderQueue/RenderQueueManager.ts` | 760:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/renderQueue/RenderQueueManager.ts` | 764:63 | : void | ğŸŸ¢ LOW | Return Type | `onJobError(callback: (jobId: string, error: str...` | Review if function should return boolean/number/object in... |
| â˜ | `services/renderQueue/RenderQueueManager.ts` | 768:37 | : void | ğŸŸ¢ LOW | Return Type | `onQueueEmpty(callback: () => void): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/renderQueue/RenderQueueManager.ts` | 772:69 | : void | ğŸŸ¢ LOW | Return Type | `private notifyProgress(jobId: string, progress:...` | Review if function should return boolean/number/object in... |
| â˜ | `services/renderQueue/RenderQueueManager.ts` | 773:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.onProgressCallback?.(jobId, progress);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/renderQueue/RenderQueueManager.ts` | 808:43 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `? (this.jobs.get(this.activeJobId)?.progress.fr...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/renderQueue/RenderQueueManager.ts` | 817:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/security/jsonSanitizer.ts` | 216:38 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (type === "number" && !Number.isFinite(value...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `services/security/rateLimits.ts` | 177:52 | : void | ğŸŸ¢ LOW | Return Type | `function saveStoredLimits(limits: StoredRateLim...` | Review if function should return boolean/number/object in... |
| â˜ | `services/security/rateLimits.ts` | 203:29 | : void | ğŸŸ¢ LOW | Return Type | `function saveSessionCounts(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/security/rateLimits.ts` | 371:60 | : void | ğŸŸ¢ LOW | Return Type | `export function setRateLimitConfig(config: Rate...` | Review if function should return boolean/number/object in... |
| â˜ | `services/segmentToMask.ts` | 90:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const width = data[0]?.length ?? 0;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/spriteSheet.ts` | 278:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `frameWidth: frames[0]?.source.width ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/spriteSheet.ts` | 279:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `frameHeight: frames[0]?.source.height ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/spriteSheet.ts` | 288:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (metadata.meta?.frameTags) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/spriteSheet.ts` | 416:60 | : void | ğŸŸ¢ LOW | Return Type | `addAnimation(sheetId: string, animation: Sprite...` | Review if function should return boolean/number/object in... |
| â˜ | `services/spriteSheet.ts` | 504:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `spriteFrameRate: animation?.frameRate ?? sheet....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/spriteSheet.ts` | 517:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!sheet?.texture) return null;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/spriteSheet.ts` | 541:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/spriteSheet.ts` | 543:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!sheet?.texture \|\| !material.map) return;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/spriteSheet.ts` | 582:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.sheets.get(sheetId)?.texture;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/spriteSheet.ts` | 592:26 | : void | ğŸŸ¢ LOW | Return Type | `removeSheet(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/spriteSheet.ts` | 594:14 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (sheet?.texture) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/spriteSheet.ts` | 603:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/spriteValidation.ts` | 84:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const ext = filename.split(".").pop()?.toLowerC...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/svgExport.ts` | 265:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const pos = t.position?.value as { x?: number; ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/svgExport.ts` | 270:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const rot = t.rotation?.value as number \| undef...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/svgExport.ts` | 275:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const scale = t.scale?.value as { x?: number; y...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/svgExport.ts` | 349:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `width: options?.viewBox?.width ?? 1920,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/svgExport.ts` | 349:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `width: options?.viewBox?.width ?? 1920,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/svgExport.ts` | 350:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `height: options?.viewBox?.height ?? 1080,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/svgExport.ts` | 350:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `height: options?.viewBox?.height ?? 1080,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/svgExtrusion.ts` | 367:43 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const fillColor = shapePath.userData?.style?.fill;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/svgExtrusion.ts` | 367:50 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const fillColor = shapePath.userData?.style?.fill;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/svgExtrusion.ts` | 373:45 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const fillOpacity = shapePath.userData?.style?....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/svgExtrusion.ts` | 373:52 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const fillOpacity = shapePath.userData?.style?....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/svgExtrusion.ts` | 376:45 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const strokeColor = shapePath.userData?.style?....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/svgExtrusion.ts` | 376:52 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const strokeColor = shapePath.userData?.style?....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/svgExtrusion.ts` | 377:45 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const strokeWidth = shapePath.userData?.style?....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/svgExtrusion.ts` | 377:52 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const strokeWidth = shapePath.userData?.style?....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/svgExtrusion.ts` | 756:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `else totalIndices += pos?.count ?? 0;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/svgExtrusion.ts` | 1011:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `geometry.boundingBox?.getCenter(center);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/svgExtrusion.ts` | 1147:15 | : void | ğŸŸ¢ LOW | Return Type | `clearCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/svgExtrusion.ts` | 1158:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/templateBuilder.ts` | 47:56 | : void | ğŸŸ¢ LOW | Return Type | `export function clearTemplate(composition: Comp...` | Review if function should return boolean/number/object in... |
| â˜ | `services/templateBuilder.ts` | 62:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/templateBuilder.ts` | 239:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/templateBuilder.ts` | 324:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/templateBuilder.ts` | 753:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `groups.get(prop.groupId)?.push(prop);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/templateBuilder.ts` | 762:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `groups.get(comment.groupId)?.push(comment);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textAnimator.ts` | 907:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (animator.wigglySelector?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textAnimator.ts` | 923:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (animator.expressionSelector?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textAnimator.ts` | 947:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `randomSeed: overrides?.randomSeed ?? Math.floor...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textMeasurement.ts` | 310:26 | : void | ğŸŸ¢ LOW | Return Type | `export function cleanup(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/textOnPath.ts` | 100:36 | : void | ğŸŸ¢ LOW | Return Type | `private build(resolution: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/textOnPath.ts` | 192:66 | : void | ğŸŸ¢ LOW | Return Type | `setPath(controlPoints: ControlPoint[], closed: ...` | Review if function should return boolean/number/object in... |
| â˜ | `services/textOnPath.ts` | 211:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `p0.x + (p0.handleOut?.x ?? 0),` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textOnPath.ts` | 212:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `-(p0.y + (p0.handleOut?.y ?? 0)),` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textOnPath.ts` | 216:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `p1.x + (p1.handleIn?.x ?? 0),` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textOnPath.ts` | 217:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `-(p1.y + (p1.handleIn?.y ?? 0)),` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textOnPath.ts` | 237:45 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `lastPoint.x + (lastPoint.handleOut?.x ?? 0),` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textOnPath.ts` | 238:47 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `-(lastPoint.y + (lastPoint.handleOut?.y ?? 0)),` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textOnPath.ts` | 242:46 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `firstPoint.x + (firstPoint.handleIn?.x ?? 0),` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textOnPath.ts` | 243:48 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `-(firstPoint.y + (firstPoint.handleIn?.y ?? 0)),` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textOnPath.ts` | 259:50 | : void | ğŸŸ¢ LOW | Return Type | `setCurve(curve: THREE.CurvePath<THREE.Vector3>)...` | Review if function should return boolean/number/object in... |
| â˜ | `services/textOnPath.ts` | 268:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.arcLengthTable?.totalLength ?? 0;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textOnPath.ts` | 430:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/textShaper.ts` | 257:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (isVariableFont && fvar?.axes) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textShaper.ts` | 261:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `name: axis.name?.en \|\| axis.tag,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textShaper.ts` | 274:64 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `lineGap: (font.tables as { hhea?: { lineGap?: n...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textShaper.ts` | 274:70 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `lineGap: (font.tables as { hhea?: { lineGap?: n...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textShaper.ts` | 275:68 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `capHeight: (font.tables as { os2?: { sCapHeight...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textShaper.ts` | 275:73 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `capHeight: (font.tables as { os2?: { sCapHeight...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textShaper.ts` | 276:64 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `xHeight: (font.tables as { os2?: { sxHeight?: n...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textShaper.ts` | 276:69 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `xHeight: (font.tables as { os2?: { sxHeight?: n...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textShaper.ts` | 324:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `(notdef?.advanceWidth ?? font.unitsPerEm * 0.5)...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textShaper.ts` | 431:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `(notdef?.advanceWidth ?? font.unitsPerEm * 0.5)...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textShaper.ts` | 518:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `kern: options?.kern ?? true,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textShaper.ts` | 519:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `letterSpacing: options?.letterSpacing ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textShaper.ts` | 540:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `kern: options?.kern ?? true,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textShaper.ts` | 541:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `letterSpacing: options?.letterSpacing ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textShaper.ts` | 594:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return cached?.metrics ?? null;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textShaper.ts` | 600:15 | : void | ğŸŸ¢ LOW | Return Type | `clearCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/textShaper.ts` | 609:22 | : void | ğŸŸ¢ LOW | Return Type | `clearShapingCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/textShaper.ts` | 635:61 | : void | ğŸŸ¢ LOW | Return Type | `private addToShapingCache(key: string, result: ...` | Review if function should return boolean/number/object in... |
| â˜ | `services/textToVector.ts` | 111:65 | : void | ğŸŸ¢ LOW | Return Type | `export function registerFontUrl(fontFamily: str...` | Review if function should return boolean/number/object in... |
| â˜ | `services/textToVector.ts` | 160:33 | : void | ğŸŸ¢ LOW | Return Type | `export function clearFontCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/textToVector.ts` | 394:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const fontSize = options?.fontSize ?? textData....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textToVector.ts` | 399:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const groupByCharacter = options?.groupByCharac...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textToVector.ts` | 401:38 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layerX = (textLayer.transform?.position?....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textToVector.ts` | 401:48 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layerX = (textLayer.transform?.position?....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textToVector.ts` | 401:63 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layerX = (textLayer.transform?.position?....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textToVector.ts` | 402:38 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layerY = (textLayer.transform?.position?....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textToVector.ts` | 402:48 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layerY = (textLayer.transform?.position?....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textToVector.ts` | 402:63 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layerY = (textLayer.transform?.position?....` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textToVector.ts` | 413:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `closed: charGroup.paths[0]?.closed ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textToVector.ts` | 434:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `textLayer.transform?.rotation ??` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textToVector.ts` | 437:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `textLayer.transform?.scale ??` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textToVector.ts` | 455:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `closed: result.allPaths[0]?.closed ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textToVector.ts` | 476:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `textLayer.transform?.rotation ??` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textToVector.ts` | 479:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `textLayer.transform?.scale ??` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textToVector.ts` | 575:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `x: options?.x ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textToVector.ts` | 576:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `y: options?.y ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textToVector.ts` | 577:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `kerning: options?.kerning ?? true,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textToVector.ts` | 578:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `letterSpacing: options?.letterSpacing ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/textToVector.ts` | 660:38 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `fontFamily: font.names.fontFamily?.en \|\| "Unkno...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/timelineSnap.ts` | 111:50 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (config.snapToBeats && context.audioAnalysis...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/timelineSnap.ts` | 125:45 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (config.snapToPeaks && context.peakData?.ind...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/timelineSnap.ts` | 216:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/timelineSnap.ts` | 250:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return audioAnalysis?.onsets ?? [];` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/timelineSnap.ts` | 257:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return peakData?.indices ?? [];` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/timelineSnap.ts` | 268:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!audioAnalysis?.onsets) return false;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/timelineSnap.ts` | 282:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!audioAnalysis?.onsets \|\| audioAnalysis.ons...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/timelineWaveform.ts` | 215:48 | : void | ğŸŸ¢ LOW | Return Type | `export function clearWaveformCache(id?: string)...` | Review if function should return boolean/number/object in... |
| â˜ | `services/timelineWaveform.ts` | 234:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/timelineWaveform.ts` | 396:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/trackPointService.ts` | 141:39 | : void | ğŸŸ¢ LOW | Return Type | `export function deleteSelectedTracks(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/trackPointService.ts` | 158:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/trackPointService.ts` | 173:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return track?.positions.get(frame) ?? null;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/trackPointService.ts` | 179:68 | : void | ğŸŸ¢ LOW | Return Type | `export function removeTrackPosition(trackId: st...` | Review if function should return boolean/number/object in... |
| â˜ | `services/trackPointService.ts` | 251:72 | : void | ğŸŸ¢ LOW | Return Type | `export function selectTrack(trackId: string, ad...` | Review if function should return boolean/number/object in... |
| â˜ | `services/trackPointService.ts` | 267:47 | : void | ğŸŸ¢ LOW | Return Type | `export function deselectTrack(trackId: string):...` | Review if function should return boolean/number/object in... |
| â˜ | `services/trackPointService.ts` | 282:33 | : void | ğŸŸ¢ LOW | Return Type | `export function clearSelection(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/trackPointService.ts` | 293:55 | : void | ğŸŸ¢ LOW | Return Type | `export function setActiveTrack(trackId: string ...` | Review if function should return boolean/number/object in... |
| â˜ | `services/trackPointService.ts` | 300:65 | : void | ğŸŸ¢ LOW | Return Type | `export function setTrackLocked(trackId: string,...` | Review if function should return boolean/number/object in... |
| â˜ | `services/trackPointService.ts` | 310:59 | : void | ğŸŸ¢ LOW | Return Type | `export function renameTrack(trackId: string, na...` | Review if function should return boolean/number/object in... |
| â˜ | `services/trackPointService.ts` | 320:62 | : void | ğŸŸ¢ LOW | Return Type | `export function setTrackColor(trackId: string, ...` | Review if function should return boolean/number/object in... |
| â˜ | `services/trackPointService.ts` | 330:58 | : void | ğŸŸ¢ LOW | Return Type | `export function setGroundPlane(plane: GroundPla...` | Review if function should return boolean/number/object in... |
| â˜ | `services/trackPointService.ts` | 346:14 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!track1?.position3D \|\| !track2?.position3D ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/trackPointService.ts` | 346:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!track1?.position3D \|\| !track2?.position3D ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/trackPointService.ts` | 346:60 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!track1?.position3D \|\| !track2?.position3D ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/trackPointService.ts` | 393:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!track?.position3D) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/trackPointService.ts` | 405:60 | : void | ğŸŸ¢ LOW | Return Type | `export function importTrackPoints2D(points: Tra...` | Review if function should return boolean/number/object in... |
| â˜ | `services/trackPointService.ts` | 416:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `trackGroups.get(trackId)?.push(point);` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/trackPointService.ts` | 424:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `color: trackPoints[0]?.color ?? generateTrackCo...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/trackPointService.ts` | 440:60 | : void | ğŸŸ¢ LOW | Return Type | `export function importTrackPoints3D(points: Tra...` | Review if function should return boolean/number/object in... |
| â˜ | `services/trackPointService.ts` | 454:33 | : void | ğŸŸ¢ LOW | Return Type | `export function clearAllTracks(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/vectorize.ts` | 217:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `memCheck.warning?.message \|\| "Insufficient GPU ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/vectorize.ts` | 254:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `throw new Error(memCheck.warning?.message \|\| "I...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/vectorize.ts` | 258:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.("downloading", "Downloading StarVe...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/vectorize.ts` | 285:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.("complete", "StarVector model load...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/vectorize.ts` | 342:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.("checking", "Checking StarVector m...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/vectorize.ts` | 347:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.("downloading", "Downloading StarVe...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/vectorize.ts` | 352:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.("vectorizing", "Running AI vectori...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/vectorize.ts` | 357:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.("tracing", "Tracing image to vecto...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/vectorLOD.ts` | 157:31 | : void | ğŸŸ¢ LOW | Return Type | `clearCache(layerId?: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/vectorLOD.ts` | 377:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!splineData.lod?.enabled) return false;` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/video/transitions.ts` | 149:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/video/transitions.ts` | 174:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/video/transitions.ts` | 205:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/video/transitions.ts` | 246:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/video/transitions.ts` | 315:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/video/transitions.ts` | 368:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/videoDecoder.ts` | 115:50 | : void | ğŸŸ¢ LOW | Return Type | `set(frameNumber: number, frame: VideoFrameInfo)...` | Review if function should return boolean/number/object in... |
| â˜ | `services/videoDecoder.ts` | 134:10 | : void | ğŸŸ¢ LOW | Return Type | `clear(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/videoDecoder.ts` | 341:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const maxFrame = (this.videoInfo?.frameCount ??...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/videoDecoder.ts` | 422:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `width: this.videoInfo?.width ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/videoDecoder.ts` | 423:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `height: this.videoInfo?.height ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/videoDecoder.ts` | 440:48 | : void | ğŸŸ¢ LOW | Return Type | `private handleDecodedFrame(frame: VideoFrame): ...` | Review if function should return boolean/number/object in... |
| â˜ | `services/videoDecoder.ts` | 457:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const maxFrame = (this.videoInfo?.frameCount ??...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/videoDecoder.ts` | 512:15 | : void | ğŸŸ¢ LOW | Return Type | `clearCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/videoDecoder.ts` | 540:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/videoDecoder.ts` | 614:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `oldDecoder?.dispose();` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/videoDecoder.ts` | 630:34 | : void | ğŸŸ¢ LOW | Return Type | `removeDecoder(videoUrl: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/videoDecoder.ts` | 641:10 | : void | ğŸŸ¢ LOW | Return Type | `clear(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/visionAuthoring/MotionIntentResolver.ts` | 85:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `modelId: config?.modelId ?? "rule-based",` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/visionAuthoring/MotionIntentResolver.ts` | 86:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `apiEndpoint: config?.apiEndpoint,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/visionAuthoring/MotionIntentResolver.ts` | 87:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `apiKey: config?.apiKey,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/visionAuthoring/MotionIntentResolver.ts` | 88:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `maxTokens: config?.maxTokens ?? 2048,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/visionAuthoring/MotionIntentResolver.ts` | 89:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `temperature: config?.temperature ?? 0.7,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/visionAuthoring/MotionIntentResolver.ts` | 416:45 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const content = result.data.choices[0]?.message...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/visionAuthoring/MotionIntentResolver.ts` | 416:54 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const content = result.data.choices[0]?.message...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/visionAuthoring/MotionIntentResolver.ts` | 483:53 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const responseContent = result.data.content[0]?...` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/visionAuthoring/MotionIntentResolver.ts` | 597:48 | : void | ğŸŸ¢ LOW | Return Type | `setConfig(config: Partial<VisionModelConfig>): ...` | Review if function should return boolean/number/object in... |
| â˜ | `services/webgpuRenderer.ts` | 1254:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `params.color?.r ?? 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/webgpuRenderer.ts` | 1255:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `params.color?.g ?? 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/webgpuRenderer.ts` | 1256:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `params.color?.b ?? 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `services/webgpuRenderer.ts` | 1451:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/workerPool.ts` | 76:25 | : void | ğŸŸ¢ LOW | Return Type | `private spawnWorkers(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/workerPool.ts` | 85:24 | : void | ğŸŸ¢ LOW | Return Type | `private spawnWorker(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/workerPool.ts` | 115:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/workerPool.ts` | 142:67 | : void | ğŸŸ¢ LOW | Return Type | `private handleWorkerError(state: WorkerState, e...` | Review if function should return boolean/number/object in... |
| â˜ | `services/workerPool.ts` | 157:44 | : void | ğŸŸ¢ LOW | Return Type | `private recycleWorker(state: WorkerState): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/workerPool.ts` | 190:25 | : void | ğŸŸ¢ LOW | Return Type | `private processQueue(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/workerPool.ts` | 208:4 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/workerPool.ts` | 350:12 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `services/workerPool.ts` | 392:36 | : void | ğŸŸ¢ LOW | Return Type | `export function disposeWorkerPool(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/index.ts` | 98:58 | : void | ğŸŸ¢ LOW | Return Type | `setWorkArea(start: number \| null, end: number \|...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/index.ts` | 106:20 | : void | ğŸŸ¢ LOW | Return Type | `clearWorkArea(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/index.ts` | 114:35 | : void | ğŸŸ¢ LOW | Return Type | `setLoopPlayback(loop: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/index.ts` | 125:38 | : void | ğŸŸ¢ LOW | Return Type | `play(store: AnimationStoreAccess): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/index.ts` | 132:39 | : void | ğŸŸ¢ LOW | Return Type | `pause(store: AnimationStoreAccess): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/index.ts` | 139:48 | : void | ğŸŸ¢ LOW | Return Type | `togglePlayback(store: AnimationStoreAccess): vo...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/index.ts` | 146:57 | : void | ğŸŸ¢ LOW | Return Type | `setFrame(store: AnimationStoreAccess, frame: nu...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/index.ts` | 153:43 | : void | ğŸŸ¢ LOW | Return Type | `nextFrame(store: AnimationStoreAccess): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/index.ts` | 160:43 | : void | ğŸŸ¢ LOW | Return Type | `prevFrame(store: AnimationStoreAccess): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/index.ts` | 167:55 | : void | ğŸŸ¢ LOW | Return Type | `jumpFrames(store: AnimationStoreAccess, n: numb...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/index.ts` | 178:43 | : void | ğŸŸ¢ LOW | Return Type | `goToStart(store: AnimationStoreAccess): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/index.ts` | 185:41 | : void | ğŸŸ¢ LOW | Return Type | `goToEnd(store: AnimationStoreAccess): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/index.ts` | 192:70 | : void | ğŸŸ¢ LOW | Return Type | `jumpToNextKeyframe(store: AnimationStoreAccess,...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/index.ts` | 199:70 | : void | ğŸŸ¢ LOW | Return Type | `jumpToPrevKeyframe(store: AnimationStoreAccess,...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/index.ts` | 242:47 | : void | ğŸŸ¢ LOW | Return Type | `setSnapConfig(config: Partial<SnapConfig>): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/index.ts` | 249:21 | : void | ğŸŸ¢ LOW | Return Type | `toggleSnapping(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/index.ts` | 264:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/index.ts` | 293:34 | : void | ğŸŸ¢ LOW | Return Type | `setTimelineZoom(zoom: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/index.ts` | 313:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const targetFrame = frame ?? comp?.currentFrame...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/animationStore/navigation.ts` | 17:55 | : void | ğŸŸ¢ LOW | Return Type | `export function goToStart(store: AnimationStore...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/navigation.ts` | 30:53 | : void | ğŸŸ¢ LOW | Return Type | `export function goToEnd(store: AnimationStoreAc...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/navigation.ts` | 49:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/navigation.ts` | 75:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/playback.ts` | 15:50 | : void | ğŸŸ¢ LOW | Return Type | `export function play(store: AnimationStoreAcces...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/playback.ts` | 37:51 | : void | ğŸŸ¢ LOW | Return Type | `export function pause(store: AnimationStoreAcce...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/playback.ts` | 46:60 | : void | ğŸŸ¢ LOW | Return Type | `export function togglePlayback(store: Animation...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/playback.ts` | 59:69 | : void | ğŸŸ¢ LOW | Return Type | `export function setFrame(store: AnimationStoreA...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/playback.ts` | 64:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(frame)) return;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/animationStore/playback.ts` | 81:55 | : void | ğŸŸ¢ LOW | Return Type | `export function nextFrame(store: AnimationStore...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/playback.ts` | 92:55 | : void | ğŸŸ¢ LOW | Return Type | `export function prevFrame(store: AnimationStore...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/playback.ts` | 103:67 | : void | ğŸŸ¢ LOW | Return Type | `export function jumpFrames(store: AnimationStor...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/animationStore/playback.ts` | 108:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(n)) return;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/assetStore.ts` | 348:68 | : void | ğŸŸ¢ LOW | Return Type | `updateMaterial(id: string, updates: Partial<PBR...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/assetStore.ts` | 385:31 | : void | ğŸŸ¢ LOW | Return Type | `deleteMaterial(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/assetStore.ts` | 522:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/assetStore.ts` | 564:34 | : void | ğŸŸ¢ LOW | Return Type | `deleteSvgDocument(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/assetStore.ts` | 670:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return result?.mesh \|\| null;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/assetStore.ts` | 676:35 | : void | ğŸŸ¢ LOW | Return Type | `deleteMeshParticle(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/assetStore.ts` | 705:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `name: options?.name \|\| file.name.replace(/\.[^....` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/assetStore.ts` | 706:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `frameRate: options?.frameRate,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/assetStore.ts` | 738:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const showWarnings = options?.showWarnings ?? t...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/assetStore.ts` | 747:64 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `validation.issues.find((i) => i.severity === "e...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/assetStore.ts` | 762:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | ``Sprite "${options?.name \|\| file.name}" importe...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/assetStore.ts` | 781:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const showWarnings = options?.showWarnings ?? t...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/assetStore.ts` | 790:64 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `validation.issues.find((i) => i.severity === "e...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/assetStore.ts` | 806:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | ``Sprite sheet "${options?.name \|\| file.name}" i...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/assetStore.ts` | 820:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/assetStore.ts` | 838:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/assetStore.ts` | 842:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `frameRate: options?.frameRate ?? 24,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/assetStore.ts` | 843:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `loop: options?.loop ?? true,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/assetStore.ts` | 844:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `pingPong: options?.pingPong ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/assetStore.ts` | 860:34 | : void | ğŸŸ¢ LOW | Return Type | `deleteSpriteSheet(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/assetStore.ts` | 862:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (stored?.textureUrl) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/assetStore.ts` | 894:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `intensity: options?.intensity ?? this.environme...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/assetStore.ts` | 895:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `rotation: options?.rotation ?? this.environment...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/assetStore.ts` | 897:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `options?.useAsBackground ?? this.environment.us...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/assetStore.ts` | 941:59 | : void | ğŸŸ¢ LOW | Return Type | `updateEnvironment(settings: Partial<Environment...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/assetStore.ts` | 948:23 | : void | ğŸŸ¢ LOW | Return Type | `clearEnvironment(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/assetStore.ts` | 970:17 | : void | ğŸŸ¢ LOW | Return Type | `clearError(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/assetStore.ts` | 977:14 | : void | ğŸŸ¢ LOW | Return Type | `dispose(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioKeyframeStore.ts` | 112:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(safeFps) \|\| safeFps <= 0) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/audioKeyframeStore.ts` | 116:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(frameCount) \|\| frameCount ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/audioKeyframeStore.ts` | 187:28 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeScale = Number.isFinite(scale) ? scal...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/audioKeyframeStore.ts` | 192:19 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `value: Number.isFinite(amp) ? amp * safeScale : 0,` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/audioKeyframeStore.ts` | 230:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioKeyframeStore.ts` | 242:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioKeyframeStore.ts` | 256:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioKeyframeStore.ts` | 266:73 | : void | ğŸŸ¢ LOW | Return Type | `removePathAnimator(store: AudioKeyframeStoreAcc...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioKeyframeStore.ts` | 283:57 | : void | ğŸŸ¢ LOW | Return Type | `updatePathAnimators(store: AudioKeyframeStoreAc...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioKeyframeStore.ts` | 287:42 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const frame = store.getActiveComp()?.currentFra...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/audioKeyframeStore.ts` | 299:56 | : void | ğŸŸ¢ LOW | Return Type | `resetPathAnimators(store: AudioKeyframeStoreAcc...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioKeyframeStore.ts` | 336:37 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const amplitudeScale = Number.isFinite(rawScale...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/audioKeyframeStore.ts` | 337:32 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const smoothing = Number.isFinite(rawSmoothing)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/audioKeyframeStore.ts` | 628:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (analysis.spectralCentroid?.length > 0) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/audioKeyframeStore.ts` | 643:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (analysis.spectralFlux?.length > 0) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/audioKeyframeStore.ts` | 655:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (analysis.spectralRolloff?.length > 0) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/audioKeyframeStore.ts` | 670:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (analysis.spectralFlatness?.length > 0) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/audioKeyframeStore.ts` | 683:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (analysis.rmsEnergy?.length > 0) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/audioKeyframeStore.ts` | 695:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (analysis.zeroCrossingRate?.length > 0) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/audioStore.ts` | 106:43 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `duration: (state) => state.audioBuffer?.duratio...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/audioStore.ts` | 107:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `bpm: (state) => state.audioAnalysis?.bpm ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/audioStore.ts` | 108:47 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `frameCount: (state) => state.audioAnalysis?.fra...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/audioStore.ts` | 140:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `state.audioAnalysis?.bpm,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/audioStore.ts` | 153:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return stemData?.analysis ?? state.audioAnalysis;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/audioStore.ts` | 161:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return stemData?.buffer ?? state.audioBuffer;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/audioStore.ts` | 228:17 | : void | ğŸŸ¢ LOW | Return Type | `cancelLoad(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioStore.ts` | 239:12 | : void | ğŸŸ¢ LOW | Return Type | `clear(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioStore.ts` | 253:31 | : void | ğŸŸ¢ LOW | Return Type | `initializeReactiveMapper(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioStore.ts` | 279:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `frame ?? store?.getActiveComp()?.currentFrame ?...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/audioStore.ts` | 279:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `frame ?? store?.getActiveComp()?.currentFrame ?...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/audioStore.ts` | 298:36 | : void | ğŸŸ¢ LOW | Return Type | `setPeakData(peakData: PeakData): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioStore.ts` | 329:69 | : void | ğŸŸ¢ LOW | Return Type | `addLegacyMapping(layerId: string, mapping: Audi...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioStore.ts` | 338:56 | : void | ğŸŸ¢ LOW | Return Type | `removeLegacyMapping(layerId: string, index: num...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioStore.ts` | 362:38 | : void | ğŸŸ¢ LOW | Return Type | `addMapping(mapping: AudioMapping): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioStore.ts` | 373:37 | : void | ğŸŸ¢ LOW | Return Type | `removeMapping(mappingId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioStore.ts` | 387:69 | : void | ğŸŸ¢ LOW | Return Type | `updateMapping(mappingId: string, updates: Parti...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioStore.ts` | 455:30 | : void | ğŸŸ¢ LOW | Return Type | `setVolume(volume: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioStore.ts` | 463:29 | : void | ğŸŸ¢ LOW | Return Type | `setMuted(muted: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioStore.ts` | 471:18 | : void | ğŸŸ¢ LOW | Return Type | `toggleMuted(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioStore.ts` | 479:21 | : void | ğŸŸ¢ LOW | Return Type | `updateGainNode(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioStore.ts` | 484:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.audioContext?.currentTime ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/audioStore.ts` | 508:51 | : void | ğŸŸ¢ LOW | Return Type | `playAudioFromFrame(frame: number, fps: number):...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioStore.ts` | 556:16 | : void | ğŸŸ¢ LOW | Return Type | `stopAudio(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioStore.ts` | 575:52 | : void | ğŸŸ¢ LOW | Return Type | `toggleAudioPlayback(frame: number, fps: number)...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioStore.ts` | 600:43 | : void | ğŸŸ¢ LOW | Return Type | `scrubAudio(frame: number, fps: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioStore.ts` | 693:43 | : void | ğŸŸ¢ LOW | Return Type | `setActiveStem(stemName: string \| null): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioStore.ts` | 710:44 | : void | ğŸŸ¢ LOW | Return Type | `initializeReactiveMapperForActiveStem(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioStore.ts` | 712:52 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `? this.stemBuffers.get(this.activeStemName)?.an...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/audioStore.ts` | 737:52 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `? this.stemBuffers.get(this.activeStemName)?.an...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/audioStore.ts` | 749:44 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.stemBuffers.get(stemName)?.analysis...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/audioStore.ts` | 757:44 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.stemBuffers.get(stemName)?.buffer ?...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/audioStore.ts` | 772:33 | : void | ğŸŸ¢ LOW | Return Type | `removeStem(stemName: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioStore.ts` | 785:17 | : void | ğŸŸ¢ LOW | Return Type | `clearStems(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/audioSync.ts` | 54:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/cacheStore.ts` | 62:68 | : void | ğŸŸ¢ LOW | Return Type | `setFrameCacheEnabled(store: CacheStoreAccess, e...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/cacheStore.ts` | 131:50 | : void | ğŸŸ¢ LOW | Return Type | `invalidateFrameCache(store: CacheStoreAccess): ...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/cacheStore.ts` | 143:22 | : void | ğŸŸ¢ LOW | Return Type | `clearFrameCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/cacheStore.ts` | 167:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `layerCount: comp.layers?.length ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/cacheStore.ts` | 168:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `layerIds: comp.layers?.map((l) => l.id).join(",...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/cameraStore.ts` | 35:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(a) \|\| !Number.isFinite(b))...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/cameraStore.ts` | 35:38 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(a) \|\| !Number.isFinite(b))...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/cameraStore.ts` | 43:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `return Number.isFinite(frame) ? frame! : fallback;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/cameraStore.ts` | 103:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `comp?.settings.width \|\| 1024,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/cameraStore.ts` | 104:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `comp?.settings.height \|\| 1024,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/cameraStore.ts` | 118:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const frameCount = (comp?.settings.frameCount \|...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/cameraStore.ts` | 174:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/cameraStore.ts` | 185:64 | : void | ğŸŸ¢ LOW | Return Type | `setActiveCamera(store: CameraStoreAccess, camer...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/cameraStore.ts` | 205:61 | : void | ğŸŸ¢ LOW | Return Type | `deleteCamera(store: CameraStoreAccess, cameraId...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/cameraStore.ts` | 211:61 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `l.type === "camera" && (l.data as CameraLayerDa...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/cameraStore.ts` | 260:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/cameraStore.ts` | 289:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/cameraStore.ts` | 355:83 | : void | ğŸŸ¢ LOW | Return Type | `updateViewportState(store: CameraStoreAccess, u...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/cameraStore.ts` | 362:79 | : void | ğŸŸ¢ LOW | Return Type | `updateViewOptions(store: CameraStoreAccess, upd...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositionStore.ts` | 71:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const rawFps = settings?.fps ?? activeComp?.set...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositionStore.ts` | 71:49 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const rawFps = settings?.fps ?? activeComp?.set...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositionStore.ts` | 75:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `width: settings?.width ?? activeComp?.settings....` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositionStore.ts` | 75:45 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `width: settings?.width ?? activeComp?.settings....` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositionStore.ts` | 76:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `height: settings?.height ?? activeComp?.setting...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositionStore.ts` | 76:47 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `height: settings?.height ?? activeComp?.setting...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositionStore.ts` | 77:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `frameCount: settings?.frameCount ?? activeComp?...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositionStore.ts` | 77:55 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `frameCount: settings?.frameCount ?? activeComp?...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositionStore.ts` | 80:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `backgroundColor: settings?.backgroundColor ?? "...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositionStore.ts` | 81:38 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `autoResizeToContent: settings?.autoResizeToCont...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositionStore.ts` | 82:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `frameBlendingEnabled: settings?.frameBlendingEn...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositionStore.ts` | 138:86 | : void | ğŸŸ¢ LOW | Return Type | `renameComposition(store: CompositionStoreAccess...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositionStore.ts` | 150:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositionStore.ts` | 181:71 | : void | ğŸŸ¢ LOW | Return Type | `enableFrameBlending(store: CompositionStoreAcce...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositionStore.ts` | 188:72 | : void | ğŸŸ¢ LOW | Return Type | `disableFrameBlending(store: CompositionStoreAcc...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositionStore.ts` | 195:71 | : void | ğŸŸ¢ LOW | Return Type | `toggleFrameBlending(store: CompositionStoreAcce...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositionStore.ts` | 217:69 | : void | ğŸŸ¢ LOW | Return Type | `switchComposition(store: CompositionStoreAccess...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositionStore.ts` | 238:71 | : void | ğŸŸ¢ LOW | Return Type | `closeCompositionTab(store: CompositionStoreAcce...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositionStore.ts` | 257:67 | : void | ğŸŸ¢ LOW | Return Type | `enterNestedComp(store: CompositionStoreAccess, ...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositionStore.ts` | 272:48 | : void | ğŸŸ¢ LOW | Return Type | `navigateBack(store: CompositionStoreAccess): vo...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositionStore.ts` | 288:71 | : void | ğŸŸ¢ LOW | Return Type | `navigateToBreadcrumb(store: CompositionStoreAcc...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositionStore.ts` | 305:52 | : void | ğŸŸ¢ LOW | Return Type | `resetBreadcrumbs(store: CompositionStoreAccess)...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 276:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.activeComposition?.settings.width \|...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositorStore.ts` | 279:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.activeComposition?.settings.height ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositorStore.ts` | 282:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.activeComposition?.settings.frameCo...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositorStore.ts` | 285:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.activeComposition?.settings.fps \|\| 16;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositorStore.ts` | 288:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.activeComposition?.settings.duratio...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositorStore.ts` | 291:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return this.activeComposition?.settings.backgro...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositorStore.ts` | 312:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return comp?.currentFrame \|\| 0;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositorStore.ts` | 323:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return comp?.layers \|\| [];` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositorStore.ts` | 327:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layers = comp?.layers \|\| [];` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositorStore.ts` | 333:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layers = comp?.layers \|\| [];` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositorStore.ts` | 360:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return (comp?.layers \|\| []).filter((l: Layer) =>` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositorStore.ts` | 369:14 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `(comp?.layers \|\| []).find(` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositorStore.ts` | 389:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return { id, name: comp?.name \|\| "Unknown" };` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositorStore.ts` | 409:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layers = comp?.layers \|\| [];` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositorStore.ts` | 435:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return comp?.layers \|\| [];` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositorStore.ts` | 460:38 | : void | ğŸŸ¢ LOW | Return Type | `switchComposition(compId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 464:40 | : void | ğŸŸ¢ LOW | Return Type | `closeCompositionTab(compId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 468:36 | : void | ğŸŸ¢ LOW | Return Type | `enterNestedComp(compId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 472:19 | : void | ğŸŸ¢ LOW | Return Type | `navigateBack(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 476:40 | : void | ğŸŸ¢ LOW | Return Type | `navigateToBreadcrumb(index: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 480:23 | : void | ğŸŸ¢ LOW | Return Type | `resetBreadcrumbs(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 484:55 | : void | ğŸŸ¢ LOW | Return Type | `renameComposition(compId: string, newName: stri...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 491:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 499:40 | : void | ğŸŸ¢ LOW | Return Type | `enableFrameBlending(compId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 503:41 | : void | ğŸŸ¢ LOW | Return Type | `disableFrameBlending(compId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 507:40 | : void | ğŸŸ¢ LOW | Return Type | `toggleFrameBlending(compId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 529:7 | : void | ğŸŸ¢ LOW | Return Type | `}): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 563:33 | : void | ğŸŸ¢ LOW | Return Type | `deleteLayer(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 578:25 | : void | ğŸŸ¢ LOW | Return Type | `copySelectedLayers(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 592:24 | : void | ğŸŸ¢ LOW | Return Type | `cutSelectedLayers(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 599:22 | : void | ğŸŸ¢ LOW | Return Type | `selectAllLayers(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 606:27 | : void | ğŸŸ¢ LOW | Return Type | `deleteSelectedLayers(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 621:58 | : void | ğŸŸ¢ LOW | Return Type | `updateLayer(layerId: string, updates: Partial<L...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 633:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 644:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 656:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 668:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 676:63 | : void | ğŸŸ¢ LOW | Return Type | `deleteSplineControlPoint(layerId: string, point...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 684:43 | : void | ğŸŸ¢ LOW | Return Type | `enableSplineAnimation(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 704:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 722:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 742:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 786:55 | : void | ğŸŸ¢ LOW | Return Type | `simplifySpline(layerId: string, tolerance: numb...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 795:57 | : void | ğŸŸ¢ LOW | Return Type | `smoothSplineHandles(layerId: string, amount: nu...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 832:35 | : void | ğŸŸ¢ LOW | Return Type | `toggleLayer3D(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 839:49 | : void | ğŸŸ¢ LOW | Return Type | `moveLayer(layerId: string, newIndex: number): v...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 850:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 857:22 | : void | ğŸŸ¢ LOW | Return Type | `toggleLayerLock(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 864:28 | : void | ğŸŸ¢ LOW | Return Type | `toggleLayerVisibility(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 871:22 | : void | ğŸŸ¢ LOW | Return Type | `toggleLayerSolo(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 878:19 | : void | ğŸŸ¢ LOW | Return Type | `bringToFront(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 885:17 | : void | ğŸŸ¢ LOW | Return Type | `sendToBack(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 892:19 | : void | ğŸŸ¢ LOW | Return Type | `bringForward(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 899:19 | : void | ğŸŸ¢ LOW | Return Type | `sendBackward(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 906:57 | : void | ğŸŸ¢ LOW | Return Type | `selectLayer(layerId: string, addToSelection = f...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 910:35 | : void | ğŸŸ¢ LOW | Return Type | `deselectLayer(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 917:61 | : void | ğŸŸ¢ LOW | Return Type | `setLayerParent(layerId: string, parentId: strin...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 933:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 941:34 | : void | ğŸŸ¢ LOW | Return Type | `reverseLayer(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 950:43 | : void | ğŸŸ¢ LOW | Return Type | `freezeFrameAtPlayhead(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 954:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `currentFrame: comp?.currentFrame ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositorStore.ts` | 955:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `fps: comp?.settings.fps ?? 30,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositorStore.ts` | 972:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `currentFrame: comp?.currentFrame ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositorStore.ts` | 973:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `fps: comp?.settings.fps ?? 30,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositorStore.ts` | 980:21 | : void | ğŸŸ¢ LOW | Return Type | `clearSelection(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 987:48 | : void | ğŸŸ¢ LOW | Return Type | `selectProperty(propertyPath: string \| null): vo...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1012:11 | : void | ğŸŸ¢ LOW | Return Type | `play(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1016:12 | : void | ğŸŸ¢ LOW | Return Type | `pause(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1020:21 | : void | ğŸŸ¢ LOW | Return Type | `togglePlayback(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1024:28 | : void | ğŸŸ¢ LOW | Return Type | `setFrame(frame: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1028:16 | : void | ğŸŸ¢ LOW | Return Type | `nextFrame(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1032:16 | : void | ğŸŸ¢ LOW | Return Type | `prevFrame(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1036:16 | : void | ğŸŸ¢ LOW | Return Type | `goToStart(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1040:14 | : void | ğŸŸ¢ LOW | Return Type | `goToEnd(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1044:26 | : void | ğŸŸ¢ LOW | Return Type | `jumpFrames(n: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1053:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1068:42 | : void | ğŸŸ¢ LOW | Return Type | `setSegmentMode(mode: "point" \| "box"): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1076:30 | : void | ğŸŸ¢ LOW | Return Type | `clearSegmentPendingMask(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1084:71 | : void | ğŸŸ¢ LOW | Return Type | `setSegmentPendingMask(mask: CompositorState["se...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1091:63 | : void | ğŸŸ¢ LOW | Return Type | `setSegmentBoxStart(point: { x: number; y: numbe...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1098:40 | : void | ğŸŸ¢ LOW | Return Type | `setSegmentLoading(loading: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1127:102 | : void | ğŸŸ¢ LOW | Return Type | `setShapeToolOptions(options: Parameters<ReturnT...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1134:18 | : void | ğŸŸ¢ LOW | Return Type | `pushHistory(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1138:11 | : void | ğŸŸ¢ LOW | Return Type | `undo(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1142:11 | : void | ğŸŸ¢ LOW | Return Type | `redo(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1231:24 | : void | ğŸŸ¢ LOW | Return Type | `toggleCurveEditor(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1238:44 | : void | ğŸŸ¢ LOW | Return Type | `setCurveEditorVisible(visible: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1245:32 | : void | ğŸŸ¢ LOW | Return Type | `toggleHideMinimizedLayers(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1250:26 | : void | ğŸŸ¢ LOW | Return Type | `toggleHideShyLayers(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1257:42 | : void | ğŸŸ¢ LOW | Return Type | `setHideMinimizedLayers(hide: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1262:36 | : void | ğŸŸ¢ LOW | Return Type | `setHideShyLayers(hide: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1299:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1310:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1337:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1350:14 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `)?.value,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositorStore.ts` | 1364:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1385:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1397:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1415:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1461:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1480:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1502:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1541:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1571:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1717:50 | : void | ğŸŸ¢ LOW | Return Type | `renameLayer(layerId: string, newName: string): ...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1732:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1736:71 | : void | ğŸŸ¢ LOW | Return Type | `addParticleEmitter(layerId: string, config: Par...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1744:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1748:62 | : void | ğŸŸ¢ LOW | Return Type | `removeParticleEmitter(layerId: string, emitterI...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1766:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1781:71 | : void | ğŸŸ¢ LOW | Return Type | `updateVideoLayerData(layerId: string, updates: ...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1785:68 | : void | ğŸŸ¢ LOW | Return Type | `onVideoMetadataLoaded(layerId: string, metadata...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1793:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1813:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1872:57 | : void | ğŸŸ¢ LOW | Return Type | `addEffectToLayer(layerId: string, effectKey: st...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1875:61 | : void | ğŸŸ¢ LOW | Return Type | `removeEffectFromLayer(layerId: string, effectId...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1883:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1897:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1906:52 | : void | ğŸŸ¢ LOW | Return Type | `toggleEffect(layerId: string, effectId: string)...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 1909:72 | : void | ğŸŸ¢ LOW | Return Type | `reorderEffects(layerId: string, fromIndex: numb...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2064:63 | : void | ğŸŸ¢ LOW | Return Type | `updateCamera(cameraId: string, updates: Partial...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2067:38 | : void | ğŸŸ¢ LOW | Return Type | `setActiveCamera(cameraId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2070:35 | : void | ğŸŸ¢ LOW | Return Type | `deleteCamera(cameraId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2076:66 | : void | ğŸŸ¢ LOW | Return Type | `addCameraKeyframe(cameraId: string, keyframe: C...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2079:58 | : void | ğŸŸ¢ LOW | Return Type | `removeCameraKeyframe(cameraId: string, frame: n...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2088:57 | : void | ğŸŸ¢ LOW | Return Type | `updateViewportState(updates: Partial<ViewportSt...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2091:53 | : void | ğŸŸ¢ LOW | Return Type | `updateViewOptions(updates: Partial<ViewOptions>...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2102:22 | : void | ğŸŸ¢ LOW | Return Type | `cancelAudioLoad(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2105:17 | : void | ğŸŸ¢ LOW | Return Type | `clearAudio(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2109:35 | : void | ğŸŸ¢ LOW | Return Type | `setAudioVolume(volume: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2112:34 | : void | ğŸŸ¢ LOW | Return Type | `setAudioMuted(muted: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2115:22 | : void | ğŸŸ¢ LOW | Return Type | `toggleAudioMute(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2124:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2127:61 | : void | ğŸŸ¢ LOW | Return Type | `removeLegacyAudioMapping(layerId: string, index...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2133:36 | : void | ğŸŸ¢ LOW | Return Type | `setPeakData(peakData: PeakData): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2139:43 | : void | ğŸŸ¢ LOW | Return Type | `addAudioMapping(mapping: AudioMapping): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2142:42 | : void | ğŸŸ¢ LOW | Return Type | `removeAudioMapping(mappingId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2148:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2158:56 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const targetFrame = frame ?? this.getActiveComp...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositorStore.ts` | 2171:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const frame = this.getActiveComp()?.currentFram...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositorStore.ts` | 2225:47 | : void | ğŸŸ¢ LOW | Return Type | `setSnapConfig(config: Partial<SnapConfig>): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2228:21 | : void | ğŸŸ¢ LOW | Return Type | `toggleSnapping(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2239:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2247:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2250:59 | : void | ğŸŸ¢ LOW | Return Type | `setPathAnimatorPath(layerId: string, pathData: ...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2256:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2259:40 | : void | ğŸŸ¢ LOW | Return Type | `removePathAnimator(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2265:26 | : void | ğŸŸ¢ LOW | Return Type | `updatePathAnimators(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2268:25 | : void | ğŸŸ¢ LOW | Return Type | `resetPathAnimators(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2271:36 | : void | ğŸŸ¢ LOW | Return Type | `initializeAudioReactiveMapper(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2296:19 | : void | ğŸŸ¢ LOW | Return Type | `clearMarkers(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2320:23 | : void | ğŸŸ¢ LOW | Return Type | `jumpToNextMarker(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2323:27 | : void | ğŸŸ¢ LOW | Return Type | `jumpToPreviousMarker(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2339:37 | : void | ğŸŸ¢ LOW | Return Type | `initializePropertyDriverSystem(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2380:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `this.getActiveComp()?.currentFrame ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/compositorStore.ts` | 2425:43 | : void | ğŸŸ¢ LOW | Return Type | `removePropertyDriver(driverId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2431:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2437:43 | : void | ğŸŸ¢ LOW | Return Type | `togglePropertyDriver(driverId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2449:45 | : void | ğŸŸ¢ LOW | Return Type | `resetParticleSimulation(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2458:34 | : void | ğŸŸ¢ LOW | Return Type | `clearAllParticleSimulations(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2489:40 | : void | ğŸŸ¢ LOW | Return Type | `enableAutosave(intervalMs?: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2496:22 | : void | ğŸŸ¢ LOW | Return Type | `disableAutosave(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2500:25 | : void | ğŸŸ¢ LOW | Return Type | `startAutosaveTimer(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2503:24 | : void | ğŸŸ¢ LOW | Return Type | `stopAutosaveTimer(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2509:25 | : void | ğŸŸ¢ LOW | Return Type | `markUnsavedChanges(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2539:43 | : void | ğŸŸ¢ LOW | Return Type | `setFrameCacheEnabled(enabled: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2557:27 | : void | ğŸŸ¢ LOW | Return Type | `invalidateFrameCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2560:22 | : void | ğŸŸ¢ LOW | Return Type | `clearFrameCache(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2577:34 | : void | ğŸŸ¢ LOW | Return Type | `setTimelineZoom(zoom: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2584:40 | : void | ğŸŸ¢ LOW | Return Type | `selectAsset(assetId: string \| null): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2591:37 | : void | ğŸŸ¢ LOW | Return Type | `selectLayers(layerIds: string[]): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2654:58 | : void | ğŸŸ¢ LOW | Return Type | `clearKeyframes(layerId: string, propertyPath: s...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2732:41 | : void | ğŸŸ¢ LOW | Return Type | `jumpToNextKeyframe(layerId?: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2740:41 | : void | ğŸŸ¢ LOW | Return Type | `jumpToPrevKeyframe(layerId?: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/compositorStore.ts` | 2903:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/decompositionStore.ts` | 183:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.("decomposing", "Decomposing image ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/decompositionStore.ts` | 202:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.("analyzing", "Analyzing layer dept...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/decompositionStore.ts` | 217:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.("estimating", "Estimating layer de...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/decompositionStore.ts` | 238:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.("creating", "Creating layer group....` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/decompositionStore.ts` | 244:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.("creating", "Creating layers...", ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/decompositionStore.ts` | 255:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `(b.depth?.estimatedDepth \|\| 0) - (a.depth?.esti...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/decompositionStore.ts` | 255:56 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `(b.depth?.estimatedDepth \|\| 0) - (a.depth?.esti...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/decompositionStore.ts` | 261:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.(` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/decompositionStore.ts` | 270:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `depth?.contentDescription \|\| layer.label,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/decompositionStore.ts` | 271:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `depth?.suggestedZPosition \|\| 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/decompositionStore.ts` | 283:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.("complete", `Created ${createdLaye...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/decompositionStore.ts` | 300:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `onProgress?.("error", errorMsg, 0);` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/decompositionStore.ts` | 326:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `verified: status.verification?.verified ?? false,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/decompositionStore.ts` | 372:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `stopPolling?.();` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/depthflowStore.ts` | 35:44 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (typeof value !== "number" \|\| !Number.isFini...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/depthflowStore.ts` | 109:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/effectStore/index.ts` | 159:48 | : void | ğŸŸ¢ LOW | Return Type | `function updateModified(store: LayerStyleStore)...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/effectStore/index.ts` | 192:83 | : void | ğŸŸ¢ LOW | Return Type | `addEffectToLayer(store: EffectStoreAccess, laye...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/effectStore/index.ts` | 208:87 | : void | ğŸŸ¢ LOW | Return Type | `removeEffectFromLayer(store: EffectStoreAccess,...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/effectStore/index.ts` | 223:121 | : void | ğŸŸ¢ LOW | Return Type | `updateEffectParameter(store: EffectStoreAccess,...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/effectStore/index.ts` | 238:125 | : void | ğŸŸ¢ LOW | Return Type | `setEffectParamAnimated(store: EffectStoreAccess...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/effectStore/index.ts` | 267:78 | : void | ğŸŸ¢ LOW | Return Type | `toggleEffect(store: EffectStoreAccess, layerId:...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/effectStore/index.ts` | 282:98 | : void | ğŸŸ¢ LOW | Return Type | `reorderEffects(store: EffectStoreAccess, layerI...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/effectStore/index.ts` | 298:81 | : void | ğŸŸ¢ LOW | Return Type | `duplicateEffect(store: EffectStoreAccess, layer...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/effectStore/index.ts` | 327:54 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const rawFrame = frame ?? store.getActiveComp()...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/effectStore/index.ts` | 328:34 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const targetFrame = Number.isFinite(rawFrame) ?...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/effectStore/index.ts` | 344:85 | : void | ğŸŸ¢ LOW | Return Type | `setLayerStylesEnabled(store: LayerStyleStore, l...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/effectStore/index.ts` | 362:109 | : void | ğŸŸ¢ LOW | Return Type | `setStyleEnabled(store: LayerStyleStore, layerId...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/effectStore/index.ts` | 411:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/effectStore/index.ts` | 441:126 | : void | ğŸŸ¢ LOW | Return Type | `setStyle<T extends keyof LayerStyles>(store: La...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/effectStore/index.ts` | 459:86 | : void | ğŸŸ¢ LOW | Return Type | `setLayerStyles(store: LayerStyleStore, layerId:...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/effectStore/index.ts` | 496:84 | : void | ğŸŸ¢ LOW | Return Type | `pasteLayerStyles(store: LayerStyleStore, layerI...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/effectStore/index.ts` | 519:97 | : void | ğŸŸ¢ LOW | Return Type | `pasteLayerStylesToMultiple(store: LayerStyleSto...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/effectStore/index.ts` | 542:62 | : void | ğŸŸ¢ LOW | Return Type | `clearLayerStyles(store: LayerStyleStore, layerI...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/effectStore/index.ts` | 559:26 | : void | ğŸŸ¢ LOW | Return Type | `clearStyleClipboard(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/effectStore/index.ts` | 584:7 | : void | ğŸŸ¢ LOW | Return Type | `}): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/effectStore/index.ts` | 615:7 | : void | ğŸŸ¢ LOW | Return Type | `}): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/effectStore/index.ts` | 644:7 | : void | ğŸŸ¢ LOW | Return Type | `}): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/effectStore/index.ts` | 672:7 | : void | ğŸŸ¢ LOW | Return Type | `}): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/effectStore/index.ts` | 704:7 | : void | ğŸŸ¢ LOW | Return Type | `}): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/effectStore/index.ts` | 736:82 | : void | ğŸŸ¢ LOW | Return Type | `applyStylePreset(store: LayerStyleStore, layerI...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/expressionStore/drivers.ts` | 29:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/expressionStore/drivers.ts` | 72:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const comp = store.getActiveComp?.();` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/expressionStore/drivers.ts` | 74:22 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const fps = Number.isFinite(store.fps) && store...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/expressionStore/drivers.ts` | 80:41 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `rawDuration !== undefined && Number.isFinite(ra...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/expressionStore/drivers.ts` | 261:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/expressionStore/drivers.ts` | 285:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/expressionStore/drivers.ts` | 320:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/expressionStore/index.ts` | 210:65 | : void | ğŸŸ¢ LOW | Return Type | `initializePropertyDriverSystem(store: Expressio...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/expressionStore/index.ts` | 289:73 | : void | ğŸŸ¢ LOW | Return Type | `removePropertyDriver(store: ExpressionStoreAcce...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/expressionStore/index.ts` | 300:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/expressionStore/index.ts` | 320:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/historyStore.ts` | 37:34 | : void | ğŸŸ¢ LOW | Return Type | `push(project: LatticeProject): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/historyStore.ts` | 100:12 | : void | ğŸŸ¢ LOW | Return Type | `clear(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/historyStore.ts` | 109:40 | : void | ğŸŸ¢ LOW | Return Type | `initialize(project: LatticeProject): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/historyStore.ts` | 117:29 | : void | ğŸŸ¢ LOW | Return Type | `setMaxSize(size: number): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/clipboard.ts` | 58:31 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `groupedByProperty.get(key)?.keyframeIds.push(se...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/clipboard.ts` | 72:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!property?.keyframes) continue;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/clipboard.ts` | 97:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!property?.keyframes) continue;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/crud.ts` | 41:42 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const frame = safeFrame(atFrame ?? comp?.curren...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/crud.ts` | 115:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/crud.ts` | 144:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/crud.ts` | 255:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (expr?.type === "custom" && expr?.params?.co...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/crud.ts` | 255:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (expr?.type === "custom" && expr?.params?.co...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/crud.ts` | 255:48 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (expr?.type === "custom" && expr?.params?.co...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/crud.ts` | 290:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/crud.ts` | 292:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(newFrame)) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/keyframeStore/crud.ts` | 348:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/crud.ts` | 350:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(frameDelta)) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/keyframeStore/crud.ts` | 470:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/crud.ts` | 507:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/crud.ts` | 517:45 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (updates.frame !== undefined && Number.isFin...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/keyframeStore/dimensions.ts` | 109:44 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return layer.transform.separateDimensions?.posi...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/dimensions.ts` | 122:44 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return layer.transform.separateDimensions?.scal...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/evaluation.ts` | 264:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const frame = comp?.currentFrame ?? 0;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/expressions.ts` | 161:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return property?.expression;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/expressions.ts` | 176:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return property?.expression !== undefined;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/expressions.ts` | 242:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!property.expression?.enabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/expressions.ts` | 252:23 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const rate = Number.isFinite(sampleRate)` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/keyframeStore/expressions.ts` | 328:29 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return property.expression?.enabled === true;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/helpers.ts` | 18:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `return Number.isFinite(frame) ? frame! : fallback;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/keyframeStore/index.ts` | 194:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/index.ts` | 202:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/index.ts` | 221:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/index.ts` | 233:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/index.ts` | 243:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/index.ts` | 253:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/index.ts` | 267:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/index.ts` | 278:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/index.ts` | 288:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/index.ts` | 300:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/index.ts` | 321:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/index.ts` | 331:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/interpolation.ts` | 25:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/interpolation.ts` | 51:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/interpolation.ts` | 86:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/interpolation.ts` | 124:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/property.ts` | 24:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/property.ts` | 35:47 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const currentFrame = store.getActiveComp()?.cur...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/property.ts` | 58:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/keyframeStore/property.ts` | 74:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const frame = comp?.currentFrame ?? 0;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/query.ts` | 41:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (layer.opacity?.animated && layer.opacity.ke...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/query.ts` | 98:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (layer.opacity?.animated && layer.opacity.ke...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/timing.ts` | 37:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(scaleFactor) \|\| !Number.is...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/keyframeStore/timing.ts` | 37:48 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(scaleFactor) \|\| !Number.is...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/keyframeStore/timing.ts` | 59:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (property?.keyframes && property.keyframes.l...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/timing.ts` | 110:17 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (property?.keyframes && property.keyframes.l...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/timing.ts` | 195:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return newKf?.id ?? null;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/timing.ts` | 243:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (positionProp.keyframes?.[index]) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/velocity.ts` | 36:16 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!property?.keyframes) return false;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/velocity.ts` | 57:22 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const fps = Number.isFinite(store.fps) && store...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/keyframeStore/velocity.ts` | 97:16 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!property?.keyframes) return null;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/velocity.ts` | 115:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `keyframe.inHandle?.enabled && inDuration > 0` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/velocity.ts` | 120:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `keyframe.outHandle?.enabled && outDuration > 0` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/velocity.ts` | 125:22 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const fps = Number.isFinite(store.fps) && store...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/keyframeStore/velocity.ts` | 126:51 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const inHandleFrame = Math.abs(keyframe.inHandl...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/velocity.ts` | 128:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `keyframe.inHandle?.enabled && inHandleFrame > 0` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/velocity.ts` | 132:44 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const outHandleFrame = keyframe.outHandle?.fram...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/keyframeStore/velocity.ts` | 134:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `keyframe.outHandle?.enabled && outHandleFrame !...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/batch.ts` | 120:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(startScale) \|\| startScale ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/layerStore/batch.ts` | 126:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(endScale)) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/layerStore/clipboard.ts` | 28:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/clipboard.ts` | 41:50 | : void | ğŸŸ¢ LOW | Return Type | `export function clearClipboard(state: LayerStat...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/clipboard.ts` | 65:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/clipboard.ts` | 125:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/crud.ts` | 71:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `splineData?.strokeWidth ?? 2,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/crud.ts` | 77:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `splineData?.strokeOpacity ?? 100,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/crud.ts` | 92:9 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `comp?.settings.width \|\| compositorStore.project...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/crud.ts` | 94:9 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `comp?.settings.height \|\| compositorStore.projec...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/crud.ts` | 110:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `endFrame: (comp?.settings.frameCount \|\| 81) - 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/crud.ts` | 112:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `outPoint: (comp?.settings.frameCount \|\| 81) - 1,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/crud.ts` | 155:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/crud.ts` | 171:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (layer.followPath?.pathLayerId === layerId) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/crud.ts` | 185:14 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (options?.onRemoveFromSelection) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/crud.ts` | 194:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!options?.skipHistory) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/crud.ts` | 215:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/crud.ts` | 248:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/crud.ts` | 271:52 | : void | ğŸŸ¢ LOW | Return Type | `export function regenerateKeyframeIds(layer: La...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/crud.ts` | 281:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (prop?.keyframes) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/crud.ts` | 351:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/crud.ts` | 383:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/crud.ts` | 428:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/crud.ts` | 430:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!layer?.transform) return;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/crud.ts` | 441:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(x) \|\| !Number.isFinite(y) ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/layerStore/crud.ts` | 441:40 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(x) \|\| !Number.isFinite(y) ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/layerStore/crud.ts` | 441:83 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(x) \|\| !Number.isFinite(y) ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/layerStore/crud.ts` | 450:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(x) \|\| !Number.isFinite(y) ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/layerStore/crud.ts` | 450:40 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(x) \|\| !Number.isFinite(y) ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/layerStore/crud.ts` | 450:83 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(x) \|\| !Number.isFinite(y) ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/layerStore/crud.ts` | 458:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(updates.rotation)) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/layerStore/crud.ts` | 466:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(updates.opacity) \|\| update...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/layerStore/crud.ts` | 484:17 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(x) \|\| !Number.isFinite(y) ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/layerStore/crud.ts` | 484:40 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(x) \|\| !Number.isFinite(y) ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/layerStore/crud.ts` | 484:83 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(x) \|\| !Number.isFinite(y) ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/layerStore/crud.ts` | 505:72 | : void | ğŸŸ¢ LOW | Return Type | `export function toggleLayerLock(compositorStore...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/crud.ts` | 530:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/crud.ts` | 554:72 | : void | ğŸŸ¢ LOW | Return Type | `export function toggleLayerSolo(compositorStore...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/crud.ts` | 581:69 | : void | ğŸŸ¢ LOW | Return Type | `export function bringToFront(compositorStore: C...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/crud.ts` | 626:67 | : void | ğŸŸ¢ LOW | Return Type | `export function sendToBack(compositorStore: Com...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/crud.ts` | 671:69 | : void | ğŸŸ¢ LOW | Return Type | `export function bringForward(compositorStore: C...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/crud.ts` | 712:69 | : void | ğŸŸ¢ LOW | Return Type | `export function sendBackward(compositorStore: C...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/hierarchy.ts` | 32:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/hierarchy.ts` | 77:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/hierarchy.ts` | 154:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/hierarchy.ts` | 171:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/hierarchy.ts` | 179:72 | : void | ğŸŸ¢ LOW | Return Type | `export function clearSelection(_compositorStore...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/hierarchy.ts` | 187:72 | : void | ğŸŸ¢ LOW | Return Type | `export function selectAllLayers(compositorStore...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/hierarchy.ts` | 188:53 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layers = compositorStore.getActiveCompLay...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/hierarchy.ts` | 197:77 | : void | ğŸŸ¢ LOW | Return Type | `export function deleteSelectedLayers(compositor...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/hierarchy.ts` | 251:53 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layers = compositorStore.getActiveCompLay...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/hierarchy.ts` | 265:53 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layers = compositorStore.getActiveCompLay...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/hierarchy.ts` | 298:53 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layers = compositorStore.getActiveCompLay...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/hierarchy.ts` | 312:53 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layers = compositorStore.getActiveCompLay...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/hierarchy.ts` | 327:53 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layers = compositorStore.getActiveCompLay...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/hierarchy.ts` | 339:53 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layers = compositorStore.getActiveCompLay...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/hierarchy.ts` | 351:53 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layers = compositorStore.getActiveCompLay...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/hierarchy.ts` | 368:53 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layers = compositorStore.getActiveCompLay...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/index.ts` | 183:71 | : void | ğŸŸ¢ LOW | Return Type | `setClipboard(layers: Layer[], keyframes: Clipbo...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 187:21 | : void | ğŸŸ¢ LOW | Return Type | `clearClipboard(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 211:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 219:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 227:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 242:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 250:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 265:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 269:60 | : void | ğŸŸ¢ LOW | Return Type | `toggleLayerLock(compositorStore: CompositorStor...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 273:66 | : void | ğŸŸ¢ LOW | Return Type | `toggleLayerVisibility(compositorStore: Composit...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 277:60 | : void | ğŸŸ¢ LOW | Return Type | `toggleLayerSolo(compositorStore: CompositorStor...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 281:57 | : void | ğŸŸ¢ LOW | Return Type | `bringToFront(compositorStore: CompositorStoreAc...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 285:55 | : void | ğŸŸ¢ LOW | Return Type | `sendToBack(compositorStore: CompositorStoreAcce...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 289:57 | : void | ğŸŸ¢ LOW | Return Type | `bringForward(compositorStore: CompositorStoreAc...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 293:57 | : void | ğŸŸ¢ LOW | Return Type | `sendBackward(compositorStore: CompositorStoreAc...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 298:41 | : void | ğŸŸ¢ LOW | Return Type | `_regenerateKeyframeIds(layer: Layer): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 306:63 | : void | ğŸŸ¢ LOW | Return Type | `copySelectedLayers(compositorStore: CompositorS...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 314:62 | : void | ğŸŸ¢ LOW | Return Type | `cutSelectedLayers(compositorStore: CompositorSt...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 326:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 330:75 | : void | ğŸŸ¢ LOW | Return Type | `toggleLayer3D(compositorStore: CompositorStoreA...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 342:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 346:75 | : void | ğŸŸ¢ LOW | Return Type | `deselectLayer(compositorStore: CompositorStoreA...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 350:59 | : void | ğŸŸ¢ LOW | Return Type | `clearSelection(compositorStore: CompositorStore...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 354:60 | : void | ğŸŸ¢ LOW | Return Type | `selectAllLayers(compositorStore: CompositorStor...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 358:65 | : void | ğŸŸ¢ LOW | Return Type | `deleteSelectedLayers(compositorStore: Composito...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 436:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 448:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 480:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 484:74 | : void | ğŸŸ¢ LOW | Return Type | `reverseLayer(compositorStore: CompositorStoreAc...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 491:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 506:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 513:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 585:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 594:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 603:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 611:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 618:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 635:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 644:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 656:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 695:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/index.ts` | 703:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/pathOperations.ts` | 130:48 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const prevFrame = i > 0 ? (keyframes[i - 1]?.fr...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/specialized.ts` | 150:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/specialized.ts` | 208:38 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const ext = path.split(".").pop()?.toLowerCase(...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/specialized.ts` | 314:9 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `comp?.settings.width \|\| 1024,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/specialized.ts` | 315:9 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `comp?.settings.height \|\| 1024,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/specialized.ts` | 434:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/spline.ts` | 49:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/spline.ts` | 69:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/spline.ts` | 94:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/spline.ts` | 99:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const point = splineData.controlPoints?.find((p...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/spline.ts` | 113:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/spline.ts` | 138:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/spline.ts` | 187:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/spline.ts` | 199:49 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const point = splineData.animatedControlPoints?...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/spline.ts` | 219:38 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `animatableProp = point.handleIn?.x;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/spline.ts` | 222:38 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `animatableProp = point.handleIn?.y;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/spline.ts` | 225:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `animatableProp = point.handleOut?.x;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/spline.ts` | 228:39 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `animatableProp = point.handleOut?.y;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/spline.ts` | 282:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/spline.ts` | 299:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/spline.ts` | 320:49 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const staticPoint = splineData.controlPoints?.f...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/spline.ts` | 327:43 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const point = splineData.controlPoints?.find((p...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/spline.ts` | 433:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (point.depth?.keyframes.length) return true;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/spline.ts` | 434:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (point.handleIn?.x.keyframes.length) return ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/spline.ts` | 435:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (point.handleIn?.y.keyframes.length) return ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/spline.ts` | 436:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (point.handleOut?.x.keyframes.length) return...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/spline.ts` | 437:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (point.handleOut?.y.keyframes.length) return...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/spline.ts` | 459:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/spline.ts` | 582:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/textConversion.ts` | 132:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `closed: charGroup.paths[0]?.closed ?? true,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/textConversion.ts` | 185:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `closed: result.allPaths[0]?.closed ?? true,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/time.ts` | 41:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/time.ts` | 90:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/time.ts` | 133:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/time.ts` | 152:12 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(compositorStore.fps) && composi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/layerStore/time.ts` | 183:44 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `compositorStore.getActiveComp()?.settings.frame...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/time.ts` | 230:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `compositorStore.getActiveComp()?.settings.frame...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/time.ts` | 254:14 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(compositorStore.fps) && composi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/layerStore/time.ts` | 291:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/time.ts` | 311:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `compositorStore.getActiveComp()?.settings.frame...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/layerStore/time.ts` | 369:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/layerStore/time.ts` | 420:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const isCurrentlyEnabled = data?.speedMapEnable...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/markerStore.ts` | 24:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(a) \|\| !Number.isFinite(b))...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/markerStore.ts` | 24:38 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(a) \|\| !Number.isFinite(b))...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/markerStore.ts` | 174:16 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!comp?.markers) return false;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/markerStore.ts` | 196:16 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!comp?.markers) return false;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/markerStore.ts` | 219:16 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!comp?.markers) return 0;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/markerStore.ts` | 253:16 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!comp?.markers) return false;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/markerStore.ts` | 259:49 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (updates.frame !== undefined && Number.isFin...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/markerStore.ts` | 284:43 | : void | ğŸŸ¢ LOW | Return Type | `clearMarkers(store: MarkerStoreAccess): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/markerStore.ts` | 307:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return comp?.markers \|\| [];` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/markerStore.ts` | 319:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return comp?.markers?.find((m) => m.id === mark...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/markerStore.ts` | 319:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return comp?.markers?.find((m) => m.id === mark...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/markerStore.ts` | 331:18 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return comp?.markers?.find((m) => m.frame === f...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/markerStore.ts` | 331:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return comp?.markers?.find((m) => m.frame === f...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/markerStore.ts` | 348:16 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!comp?.markers) return [];` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/markerStore.ts` | 364:16 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!comp?.markers) return null;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/markerStore.ts` | 378:16 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!comp?.markers) return null;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/markerStore.ts` | 396:47 | : void | ğŸŸ¢ LOW | Return Type | `jumpToNextMarker(store: MarkerStoreAccess): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/markerStore.ts` | 409:51 | : void | ğŸŸ¢ LOW | Return Type | `jumpToPreviousMarker(store: MarkerStoreAccess):...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/particlePreferences.ts` | 118:44 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const adapter = await navigator.gpu?.requestAda...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/particlePreferences.ts` | 124:66 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const info = await adapterWithInfo.requestAdapt...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/particlePreferences.ts` | 125:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `gpuName.value = info?.device \|\| info?.descripti...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/particlePreferences.ts` | 125:49 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `gpuName.value = info?.device \|\| info?.descripti...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/particlePreferences.ts` | 227:68 | : void | ğŸŸ¢ LOW | Return Type | `function updatePreferences(updates: Partial<Par...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/particlePreferences.ts` | 234:19 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(val) \|\| val <= 0) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/particlePreferences.ts` | 244:19 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(val) \|\| val <= 0) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/particlePreferences.ts` | 254:19 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(val) \|\| val <= 0) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/particlePreferences.ts` | 277:29 | : void | ğŸŸ¢ LOW | Return Type | `function resetToDefaults(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/particlePreferences.ts` | 285:32 | : void | ğŸŸ¢ LOW | Return Type | `function saveToLocalStorage(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/particlePreferences.ts` | 296:34 | : void | ğŸŸ¢ LOW | Return Type | `function loadFromLocalStorage(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/particlePreferences.ts` | 311:31 | : void | ğŸŸ¢ LOW | Return Type | `function applyLowEndPreset(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/particlePreferences.ts` | 327:32 | : void | ğŸŸ¢ LOW | Return Type | `function applyHighEndPreset(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/particleStore.ts` | 106:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `activeComp?.settings.width \|\| store.project.com...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/particleStore.ts` | 108:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `activeComp?.settings.height \|\| store.project.co...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/particleStore.ts` | 221:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/particleStore.ts` | 241:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/particleStore.ts` | 263:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/particleStore.ts` | 286:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/physicsStore.ts` | 150:27 | : void | ğŸŸ¢ LOW | Return Type | `disposePhysicsEngine(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/physicsStore.ts` | 168:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/physicsStore.ts` | 178:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `x: layer.transform?.position?.value?.x ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 178:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `x: layer.transform?.position?.value?.x ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 178:44 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `x: layer.transform?.position?.value?.x ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 179:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `y: layer.transform?.position?.value?.y ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 179:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `y: layer.transform?.position?.value?.y ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 179:44 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `y: layer.transform?.position?.value?.y ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 183:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `config.shape?.type === "circle"` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 192:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `width: config.shape?.width ?? 100,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 193:35 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `height: config.shape?.height ?? 100,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 219:68 | : void | ğŸŸ¢ LOW | Return Type | `disableLayerPhysics(store: PhysicsStoreAccess, ...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/physicsStore.ts` | 236:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/physicsStore.ts` | 240:77 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const physicsData = (layer.data as unknown as R...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 243:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!physicsData?.physicsEnabled \|\| !physicsDat...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 270:64 | : void | ğŸŸ¢ LOW | Return Type | `addForceField(store: PhysicsStoreAccess, force:...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/physicsStore.ts` | 291:65 | : void | ğŸŸ¢ LOW | Return Type | `removeForceField(store: PhysicsStoreAccess, for...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/physicsStore.ts` | 310:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/physicsStore.ts` | 311:35 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeGravityX = Number.isFinite(gravityX) ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/physicsStore.ts` | 312:35 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `const safeGravityY = Number.isFinite(gravityY) ...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/physicsStore.ts` | 339:64 | : void | ğŸŸ¢ LOW | Return Type | `stepPhysics(store: PhysicsStoreAccess, targetFr...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/physicsStore.ts` | 348:75 | : void | ğŸŸ¢ LOW | Return Type | `evaluatePhysicsAtFrame(store: PhysicsStoreAcces...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/physicsStore.ts` | 357:54 | : void | ğŸŸ¢ LOW | Return Type | `resetPhysicsSimulation(store: PhysicsStoreAcces...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/physicsStore.ts` | 371:79 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const physicsData = (layer.data as unknown as R...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 374:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (physicsData?.physicsEnabled && physicsData....` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 376:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (layer.transform?.position) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 378:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `x: initialPos?.x ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 379:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `y: initialPos?.y ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 380:48 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `z: layer.transform.position.value?.z ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 395:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/physicsStore.ts` | 400:79 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const physicsData = (layer.data as unknown as R...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 403:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!physicsData?.physicsEnabled) continue;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 408:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (layer.transform?.position) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 412:46 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `z: layer.transform.position.value?.z ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 416:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (layer.transform?.rotation) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 447:16 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(options.sampleInterval) && opti...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/physicsStore.ts` | 467:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `z: layer.transform?.position?.value?.z ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 467:43 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `z: layer.transform?.position?.value?.z ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 467:50 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `z: layer.transform?.position?.value?.z ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 515:79 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const physicsData = (layer.data as unknown as R...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 518:24 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (physicsData?.physicsEnabled) {` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 544:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/physicsStore.ts` | 551:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `x: layer.transform?.position?.value?.x ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 551:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `x: layer.transform?.position?.value?.x ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 551:44 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `x: layer.transform?.position?.value?.x ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 552:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `y: layer.transform?.position?.value?.y ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 552:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `y: layer.transform?.position?.value?.y ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 552:44 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `y: layer.transform?.position?.value?.y ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/physicsStore.ts` | 588:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/physicsStore.ts` | 648:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/physicsStore.ts` | 671:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/playbackStore.ts` | 46:58 | : void | ğŸŸ¢ LOW | Return Type | `setWorkArea(start: number \| null, end: number \|...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/playbackStore.ts` | 55:20 | : void | ğŸŸ¢ LOW | Return Type | `clearWorkArea(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/playbackStore.ts` | 73:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/playbackStore.ts` | 142:11 | : void | ğŸŸ¢ LOW | Return Type | `stop(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/playbackStore.ts` | 160:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/playbackStore.ts` | 171:35 | : void | ğŸŸ¢ LOW | Return Type | `setLoopPlayback(loop: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/playbackStore.ts` | 178:48 | : void | ğŸŸ¢ LOW | Return Type | `goToStart(onFrame: (frame: number) => void): vo...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/playbackStore.ts` | 186:66 | : void | ğŸŸ¢ LOW | Return Type | `goToEnd(frameCount: number, onFrame: (frame: nu...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/playbackStore.ts` | 198:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/playbackStore.ts` | 207:73 | : void | ğŸŸ¢ LOW | Return Type | `stepBackward(currentFrame: number, onFrame: (fr...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/playbackStore.ts` | 220:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/presetStore.ts` | 134:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `p.description?.toLowerCase().includes(q) \|\|` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/presetStore.ts` | 135:19 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `p.tags?.some((t) => t.toLowerCase().includes(q)),` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/projectStore.ts` | 111:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return compositorStore.getActiveComp()?.setting...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/projectStore.ts` | 115:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return compositorStore.getActiveComp()?.setting...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/projectStore.ts` | 119:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return compositorStore.getActiveComp()?.setting...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/projectStore.ts` | 123:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return compositorStore.getActiveComp()?.setting...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/projectStore.ts` | 127:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return compositorStore.getActiveComp()?.setting...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/projectStore.ts` | 131:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return compositorStore.getActiveComp()?.setting...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/projectStore.ts` | 139:89 | : void | ğŸŸ¢ LOW | Return Type | `export function selectAsset(compositorStore: Pr...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/projectStore.ts` | 153:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/projectStore.ts` | 213:36 | : void | ğŸŸ¢ LOW | Return Type | `function invalidateParticleCaches(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/projectStore.ts` | 220:36 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const layers = engine.getLayers?.() \|\| [];` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/projectStore.ts` | 368:77 | : void | ğŸŸ¢ LOW | Return Type | `selectAsset(compositorStore: ProjectStoreAccess...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/projectStore.ts` | 372:94 | : void | ğŸŸ¢ LOW | Return Type | `loadInputs(compositorStore: ProjectStoreAccess,...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/projectStore.ts` | 380:37 | : void | ğŸŸ¢ LOW | Return Type | `pushHistory(store: ProjectStore): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/projectStore.ts` | 419:38 | : void | ğŸŸ¢ LOW | Return Type | `clearHistory(store: ProjectStore): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/projectStore.ts` | 429:36 | : void | ğŸŸ¢ LOW | Return Type | `newProject(store: ProjectStore): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/projectStore.ts` | 655:79 | : void | ğŸŸ¢ LOW | Return Type | `startAutosave(store: ProjectStore, performAutos...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/projectStore.ts` | 661:38 | : void | ğŸŸ¢ LOW | Return Type | `stopAutosave(store: ProjectStore): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/projectStore.ts` | 673:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/projectStore.ts` | 675:54 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (options.intervalMs !== undefined && Number....` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/projectStore.ts` | 701:44 | : void | ğŸŸ¢ LOW | Return Type | `markUnsavedChanges(store: ProjectStore): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/projectStore.ts` | 775:41 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (base64Data) assetsFolder?.file(filename, ba...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/projectStore.ts` | 785:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `assetsFolder?.file(filename, blob);` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/projectStore.ts` | 790:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `assetsFolder?.file(filename, asset.data, { base...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/segmentationStore.ts` | 171:57 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (result.status !== "success" \|\| !result.mask...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/segmentationStore.ts` | 209:57 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (result.status !== "success" \|\| !result.mask...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/segmentationStore.ts` | 245:57 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (result.status !== "success" \|\| !result.mask...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/segmentationStore.ts` | 283:57 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (result.status !== "success" \|\| !result.mask...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/selectionStore.ts` | 72:33 | : void | ğŸŸ¢ LOW | Return Type | `selectLayer(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 81:37 | : void | ğŸŸ¢ LOW | Return Type | `selectLayers(layerIds: string[]): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 92:36 | : void | ğŸŸ¢ LOW | Return Type | `addToSelection(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 102:41 | : void | ğŸŸ¢ LOW | Return Type | `removeFromSelection(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 112:42 | : void | ğŸŸ¢ LOW | Return Type | `toggleLayerSelection(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 123:37 | : void | ğŸŸ¢ LOW | Return Type | `toggleSelection(layerId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 138:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 163:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 185:26 | : void | ğŸŸ¢ LOW | Return Type | `clearLayerSelection(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 193:21 | : void | ğŸŸ¢ LOW | Return Type | `clearSelection(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 208:48 | : void | ğŸŸ¢ LOW | Return Type | `selectLayerAbove(orderedLayerIds: string[]): vo...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 238:48 | : void | ğŸŸ¢ LOW | Return Type | `selectLayerBelow(orderedLayerIds: string[]): vo...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 271:39 | : void | ğŸŸ¢ LOW | Return Type | `selectKeyframe(keyframeId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 278:43 | : void | ğŸŸ¢ LOW | Return Type | `selectKeyframes(keyframeIds: string[]): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 285:47 | : void | ğŸŸ¢ LOW | Return Type | `addKeyframeToSelection(keyframeId: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 294:52 | : void | ğŸŸ¢ LOW | Return Type | `removeKeyframeFromSelection(keyframeId: string)...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 304:48 | : void | ğŸŸ¢ LOW | Return Type | `toggleKeyframeSelection(keyframeId: string): vo...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 315:29 | : void | ğŸŸ¢ LOW | Return Type | `clearKeyframeSelection(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 337:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 344:57 | : void | ğŸŸ¢ LOW | Return Type | `selectControlPoints(points: ControlPointSelecti...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 355:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 367:73 | : void | ğŸŸ¢ LOW | Return Type | `removeControlPointFromSelection(layerId: string...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 380:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 399:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 417:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 438:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 452:33 | : void | ğŸŸ¢ LOW | Return Type | `clearControlPointSelection(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 479:49 | : void | ğŸŸ¢ LOW | Return Type | `setSelectedPropertyPath(path: string \| null): v...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 490:49 | : void | ğŸŸ¢ LOW | Return Type | `setTool(tool: SelectionState["currentTool"]): v...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/selectionStore.ts` | 501:15 | : void | ğŸŸ¢ LOW | Return Type | `clearAll(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/textAnimatorStore.ts` | 107:15 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return layer?.type === "text" ? layer : undefined;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 114:50 | : void | ğŸŸ¢ LOW | Return Type | `function ensureAnimatorsArray(textData: TextDat...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/textAnimatorStore.ts` | 118:56 | : void | ğŸŸ¢ LOW | Return Type | `function updateModified(store: TextAnimatorStor...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/textAnimatorStore.ts` | 195:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `textData.animators?.push(animator);` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 205:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!textData?.animators) return false;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 221:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!textData?.animators) return false;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 239:22 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return textData?.animators?.find((a) => a.id ==...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 239:33 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return textData?.animators?.find((a) => a.id ==...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 245:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return getTextData(layer)?.animators ?? [];` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 257:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!textData?.animators) return false;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 281:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!textData?.animators) return false;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 310:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!textData?.animators) return false;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 313:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!animator?.expressionSelector) return false;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 326:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!textData?.animators) return false;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 351:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!textData?.animators) return false;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 354:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!animator?.wigglySelector) return false;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 378:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const fps = store.getActiveComp()?.settings?.fp...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 378:50 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const fps = store.getActiveComp()?.settings?.fp...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 466:42 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const animator = textData.animators?.find((a) =...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 469:40 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const fps = store.getActiveComp()?.settings?.fp...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 469:50 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const fps = store.getActiveComp()?.settings?.fp...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 491:42 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const animator = textData.animators?.find((a) =...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 506:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!textData?.animators) return false;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 542:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return !!(textData?.animators && textData.anima...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 548:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return getTextData(layer)?.text ?? null;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 597:66 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return (getTextData(layer) as TextDataWithPath ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 605:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!textData?.pathConfig) return false;` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 624:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!textData?.pathConfig?.pathPoints \|\| textDa...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 624:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!textData?.pathConfig?.pathPoints \|\| textDa...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 655:20 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!textData?.pathConfig?.pathPoints \|\| textDa...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 655:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `if (!textData?.pathConfig?.pathPoints \|\| textDa...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 668:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return !!(textData?.pathConfig?.pathPoints && t...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/textAnimatorStore.ts` | 668:37 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `return !!(textData?.pathConfig?.pathPoints && t...` | Review if optional chaining is necessary or if null check... |
| â˜ | `stores/toastStore.ts` | 55:35 | : void | ğŸŸ¢ LOW | Return Type | `function removeToast(id: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/toastStore.ts` | 62:22 | : void | ğŸŸ¢ LOW | Return Type | `function clearAll(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/uiStore.ts` | 56:44 | : void | ğŸŸ¢ LOW | Return Type | `setCurveEditorVisible(visible: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/uiStore.ts` | 63:31 | : void | ğŸŸ¢ LOW | Return Type | `toggleCurveEditorVisible(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/uiStore.ts` | 70:42 | : void | ğŸŸ¢ LOW | Return Type | `setHideMinimizedLayers(hide: boolean): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/uiStore.ts` | 77:32 | : void | ğŸŸ¢ LOW | Return Type | `toggleHideMinimizedLayers(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/uiStore.ts` | 84:71 | : void | ğŸŸ¢ LOW | Return Type | `setShapeToolOptions(options: Partial<UIState["s...` | Review if function should return boolean/number/object in... |
| â˜ | `stores/videoStore.ts` | 362:16 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(compositionFps) && compositionF...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/videoStore.ts` | 364:16 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `Number.isFinite(videoFps) && videoFps > 0 ? vid...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `stores/videoStore.ts` | 404:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/videoStore.ts` | 495:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/videoStore.ts` | 511:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `stores/videoStore.ts` | 543:6 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `types/animation.ts` | 179:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(frame)) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `types/spline.ts` | 333:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `depth: acp.depth?.value,` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 256:70 | : void | ğŸŸ¢ LOW | Return Type | `export function separatePositionDimensions(tran...` | Review if function should return boolean/number/object in... |
| â˜ | `types/transform.ts` | 287:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `transform.positionX?.keyframes.push({` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 294:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `transform.positionY?.keyframes.push({` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 301:26 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `transform.positionZ?.keyframes.push({` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 320:66 | : void | ğŸŸ¢ LOW | Return Type | `export function linkPositionDimensions(transfor...` | Review if function should return boolean/number/object in... |
| â˜ | `types/transform.ts` | 331:12 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `z: posZ?.value ?? 0,` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 338:7 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `posZ?.keyframes.forEach((kf) => allFrames.add(k...` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 350:21 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const zKf = posZ?.keyframes.find((k) => k.frame...` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 354:10 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `xKf?.value ?? getInterpolatedValue(posX.keyfram...` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 356:10 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `yKf?.value ?? getInterpolatedValue(posY.keyfram...` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 358:10 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `zKf?.value ??` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 359:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `getInterpolatedValue(posZ?.keyframes ?? [], fra...` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 360:11 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `posZ?.value ??` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 370:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `interpolation: templateKf?.interpolation ?? "li...` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 371:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `inHandle: templateKf?.inHandle ?? { frame: -5, ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 372:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `outHandle: templateKf?.outHandle ?? {` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 377:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `controlMode: templateKf?.controlMode ?? "smooth",` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 395:67 | : void | ğŸŸ¢ LOW | Return Type | `export function separateScaleDimensions(transfo...` | Review if function should return boolean/number/object in... |
| â˜ | `types/transform.ts` | 423:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `transform.scaleX?.keyframes.push({` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 429:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `transform.scaleY?.keyframes.push({` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 435:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `transform.scaleZ?.keyframes.push({` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 452:63 | : void | ğŸŸ¢ LOW | Return Type | `export function linkScaleDimensions(transform: ...` | Review if function should return boolean/number/object in... |
| â˜ | `types/transform.ts` | 462:14 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `z: scaleZ?.value ?? 100,` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 468:9 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `scaleZ?.keyframes.forEach((kf) => allFrames.add...` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 478:23 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const zKf = scaleZ?.keyframes.find((k) => k.fra...` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 481:10 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `xKf?.value ??` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 485:10 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `yKf?.value ??` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 489:10 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `zKf?.value ??` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 490:34 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `getInterpolatedValue(scaleZ?.keyframes ?? [], f...` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 491:13 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `scaleZ?.value ??` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 500:32 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `interpolation: templateKf?.interpolation ?? "li...` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 501:27 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `inHandle: templateKf?.inHandle ?? { frame: -5, ...` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 502:28 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `outHandle: templateKf?.outHandle ?? {` | Review if optional chaining is necessary or if null check... |
| â˜ | `types/transform.ts` | 507:30 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `controlMode: templateKf?.controlMode ?? "smooth",` | Review if optional chaining is necessary or if null check... |
| â˜ | `utils/canvasPool.ts` | 73:37 | : void | ğŸŸ¢ LOW | Return Type | `release(canvas: HTMLCanvasElement): void {` | Review if function should return boolean/number/object in... |
| â˜ | `utils/canvasPool.ts` | 84:12 | : void | ğŸŸ¢ LOW | Return Type | `cleanup(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `utils/canvasPool.ts` | 98:10 | : void | ğŸŸ¢ LOW | Return Type | `clear(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `utils/colorUtils.ts` | 205:17 | isNaN() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isNaN(r) && !Number.isNaN(g) && !Nu...` | Replace with Number.isNaN() for more accurate type checking |
| â˜ | `utils/colorUtils.ts` | 205:37 | isNaN() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isNaN(r) && !Number.isNaN(g) && !Nu...` | Replace with Number.isNaN() for more accurate type checking |
| â˜ | `utils/colorUtils.ts` | 205:57 | isNaN() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isNaN(r) && !Number.isNaN(g) && !Nu...` | Replace with Number.isNaN() for more accurate type checking |
| â˜ | `utils/colorUtils.ts` | 238:15 | isNaN() | ğŸŸ¢ LOW | Legacy Function | `!Number.isNaN(r) &&` | Replace with Number.isNaN() for more accurate type checking |
| â˜ | `utils/colorUtils.ts` | 239:15 | isNaN() | ğŸŸ¢ LOW | Legacy Function | `!Number.isNaN(g) &&` | Replace with Number.isNaN() for more accurate type checking |
| â˜ | `utils/colorUtils.ts` | 240:15 | isNaN() | ğŸŸ¢ LOW | Legacy Function | `!Number.isNaN(b) &&` | Replace with Number.isNaN() for more accurate type checking |
| â˜ | `utils/colorUtils.ts` | 241:15 | isNaN() | ğŸŸ¢ LOW | Legacy Function | `!Number.isNaN(a)` | Replace with Number.isNaN() for more accurate type checking |
| â˜ | `utils/fpsUtils.ts` | 37:52 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (fps === null \|\| fps === undefined \|\| !Numbe...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `utils/fpsUtils.ts` | 145:52 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (fps === null \|\| fps === undefined \|\| !Numbe...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `utils/logger.ts` | 27:25 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `level: import.meta.env?.DEV ? "debug" : "warn",` | Review if optional chaining is necessary or if null check... |
| â˜ | `utils/logger.ts` | 35:45 | : void | ğŸŸ¢ LOW | Return Type | `export function setLogLevel(level: LogLevel): v...` | Review if function should return boolean/number/object in... |
| â˜ | `utils/logger.ts` | 42:45 | : void | ğŸŸ¢ LOW | Return Type | `export function setLogPrefix(prefix: string): v...` | Review if function should return boolean/number/object in... |
| â˜ | `utils/logger.ts` | 49:54 | : void | ğŸŸ¢ LOW | Return Type | `export function setTimestampEnabled(enabled: bo...` | Review if function should return boolean/number/object in... |
| â˜ | `utils/logger.ts` | 93:43 | : void | ğŸŸ¢ LOW | Return Type | `debug(message: string, ...args: any[]): void {` | Review if function should return boolean/number/object in... |
| â˜ | `utils/logger.ts` | 99:42 | : void | ğŸŸ¢ LOW | Return Type | `info(message: string, ...args: any[]): void {` | Review if function should return boolean/number/object in... |
| â˜ | `utils/logger.ts` | 105:42 | : void | ğŸŸ¢ LOW | Return Type | `warn(message: string, ...args: any[]): void {` | Review if function should return boolean/number/object in... |
| â˜ | `utils/logger.ts` | 111:43 | : void | ğŸŸ¢ LOW | Return Type | `error(message: string, ...args: any[]): void {` | Review if function should return boolean/number/object in... |
| â˜ | `utils/logger.ts` | 120:58 | : void | ğŸŸ¢ LOW | Return Type | `log(level: LogLevel, message: string, ...args: ...` | Review if function should return boolean/number/object in... |
| â˜ | `utils/logger.ts` | 140:25 | : void | ğŸŸ¢ LOW | Return Type | `group(label: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `utils/logger.ts` | 146:15 | : void | ğŸŸ¢ LOW | Return Type | `groupEnd(): void {` | Review if function should return boolean/number/object in... |
| â˜ | `utils/logger.ts` | 155:21 | : void | ğŸŸ¢ LOW | Return Type | `table(data: any): void {` | Review if function should return boolean/number/object in... |
| â˜ | `utils/logger.ts` | 165:24 | : void | ğŸŸ¢ LOW | Return Type | `time(label: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `utils/logger.ts` | 171:27 | : void | ğŸŸ¢ LOW | Return Type | `timeEnd(label: string): void {` | Review if function should return boolean/number/object in... |
| â˜ | `utils/numericSafety.ts` | 18:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(value)) return fallback;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `utils/numericSafety.ts` | 30:14 | isNaN() | ğŸŸ¢ LOW | Legacy Function | `if (Number.isNaN(value)) {` | Replace with Number.isNaN() for more accurate type checking |
| â˜ | `utils/numericSafety.ts` | 33:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(value)) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `utils/numericSafety.ts` | 53:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(result)) return fallback;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `utils/numericSafety.ts` | 64:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(result)) return 0;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `utils/numericSafety.ts` | 73:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(value)) return 0;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `utils/numericSafety.ts` | 82:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(result)) return fallback;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `utils/numericSafety.ts` | 92:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(result)) return fallback;` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `utils/numericSafety.ts` | 105:14 | isNaN() | ğŸŸ¢ LOW | Legacy Function | `if (Number.isNaN(value)) return min;` | Replace with Number.isNaN() for more accurate type checking |
| â˜ | `utils/numericSafety.ts` | 153:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(diff)) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `utils/numericSafety.ts` | 173:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(diff)) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `utils/schemaValidation.ts` | 478:44 | Optional Chaining | ğŸŸ¢ LOW | Optional Chaining | `const ext = sanitized.match(/\.[^.]+$/)?.[0] \|\|...` | Review if optional chaining is necessary or if null check... |
| â˜ | `utils/security.ts` | 344:2 | : void | ğŸŸ¢ LOW | Return Type | `): void {` | Review if function should return boolean/number/object in... |
| â˜ | `utils/security.ts` | 389:18 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `(!Number.isFinite(settings.width) \|\| (settings....` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `utils/security.ts` | 397:18 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `(!Number.isFinite(settings.height) \|\| (settings...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `utils/security.ts` | 405:18 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `(!Number.isFinite(settings.frameCount) \|\|` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `utils/security.ts` | 414:18 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `(!Number.isFinite(settings.fps) \|\| (settings.fp...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `utils/typeGuards.ts` | 23:46 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `return typeof value === "number" && Number.isFi...` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `utils/validation.ts` | 66:14 | isNaN() | ğŸŸ¢ LOW | Legacy Function | `if (Number.isNaN(num)) {` | Replace with Number.isNaN() for more accurate type checking |
| â˜ | `utils/validation.ts` | 71:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(num)) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `workers/audioWorker.ts` | 117:53 | : void | ğŸŸ¢ LOW | Return Type | `function fft(real: Float32Array, imag: Float32A...` | Review if function should return boolean/number/object in... |
| â˜ | `workers/audioWorker.ts` | 203:15 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (!Number.isFinite(fps) \|\| fps <= 0) {` | Replace with Number.isFinite() for more accurate type che... |
| â˜ | `workers/expressionWorker.ts` | 144:47 | isFinite() | ğŸŸ¢ LOW | Legacy Function | `if (typeof result !== "number" \|\| !Number.isFin...` | Replace with Number.isFinite() for more accurate type che... |

---

## ğŸ”´ CRITICAL Priority (202 patterns)

### `composables/useCurveEditorCoords.ts` (1 pattern(s))

#### Pattern: `: any` at line 129:38

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  /**
   * Extract numeric value from keyframe value (handles number and object types)
   */
> export function getNumericValue(value: any): number {
    if (typeof value === "number") return value;
    if (typeof value === "object") return value.x ?? value.y ?? value.z ?? 0;
    return 0;
```

---

### `composables/useShapeDrawing.ts` (4 pattern(s))

#### Pattern: `: any` at line 32:12

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  function createAnimatableProp<T>(value: T): {
    value: T;
    animated: boolean;
> keyframes: any[];
  } {
    return {
      value,
```

---

#### Pattern: `as any` at line 251:37

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      const options = store.shapeToolOptions;
  
      // Create the appropriate shape generator based on type
> const shapeData = newLayer.data as any;
      if (!shapeData.contents || !Array.isArray(shapeData.contents)) {
        shapeData.contents = [];
      }
```

---

#### Pattern: `: any` at line 257:43

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
      }
  
      // Find or create a default group
> let group = shapeData.contents.find((c: any) => c.type === "group");
      if (!group) {
        group = {
          type: "group",
```

---

#### Pattern: `: any` at line 273:18

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
      group.contents = [];
  
      // Create the shape generator
> let generator: any;
      switch (shapeType) {
        case "rectangle":
          generator = {
```

---

### `composables/useSplineInteraction.ts` (14 pattern(s))

#### Pattern: `: any` at line 63:8

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
      y: number;
    };
    // Store references
> store: any;
    layerStore: any;
    // Callbacks
    emit: {
```

---

#### Pattern: `: any` at line 64:13

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    };
    // Store references
    store: any;
> layerStore: any;
    // Callbacks
    emit: {
      pointAdded: (point: ControlPoint) => void;
```

---

#### Pattern: `: any` at line 310:39

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
      const layerPos = inverseTransformPoint(pos);
  
      if (!layerId.value) return;
> const layer = store.layers.find((l: any) => l.id === layerId.value);
      if (!layer || !isSplineOrPathType(layer.type)) return;
  
      if (penSubMode.value === "add") {
```

---

#### Pattern: `as any` at line 453:40

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
          const prevPointIndex = newPointIndex - 1;
  
          const layerPos = inverseTransformPoint(pos);
> const rawNewPointX = (newPoint as any)?.rawX ?? newPoint?.x ?? 0;
          const rawNewPointY = (newPoint as any)?.rawY ?? newPoint?.y ?? 0;
  
          if (newPoint && prevPointIndex >= 0) {
```

---

#### Pattern: `as any` at line 454:40

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
  
          const layerPos = inverseTransformPoint(pos);
          const rawNewPointX = (newPoint as any)?.rawX ?? newPoint?.x ?? 0;
> const rawNewPointY = (newPoint as any)?.rawY ?? newPoint?.y ?? 0;
  
          if (newPoint && prevPointIndex >= 0) {
            const prevPoint = points[prevPointIndex];
```

---

#### Pattern: `: any` at line 502:41

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  
      // Handle dragging
      if (dragTarget.value && layerId.value) {
> const layer = store.layers.find((l: any) => l.id === layerId.value);
        if (!layer || !isSplineOrPathType(layer.type)) return;
  
        const layerData = layer.data as SplineData | PathLayerData;
```

---

#### Pattern: `: any` at line 517:22

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
          const dx = layerPos.x - point.x;
          const dy = layerPos.y - point.y;
  
> const updates: any = { x: layerPos.x, y: layerPos.y };
          if (point.handleIn) {
            updates.handleIn = {
              x: point.handleIn.x + dx,
```

---

#### Pattern: `: any` at line 534:22

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
          options.layerStore.updateSplineControlPoint(options.store, layerId.value, point.id, updates);
          emit.pointMoved(point.id, layerPos.x, layerPos.y);
        } else if (dragTarget.value.type === "handleIn") {
> const updates: any = { handleIn: { x: layerPos.x, y: layerPos.y } };
  
          if (point.type === "smooth") {
            const dx = layerPos.x - point.x;
```

---

#### Pattern: `: any` at line 545:22

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
          options.layerStore.updateSplineControlPoint(options.store, layerId.value, point.id, updates);
          emit.handleMoved(point.id, "in", layerPos.x, layerPos.y);
        } else if (dragTarget.value.type === "handleOut") {
> const updates: any = { handleOut: { x: layerPos.x, y: layerPos.y } };
  
          if (point.type === "smooth") {
            const dx = layerPos.x - point.x;
```

---

#### Pattern: `: any` at line 574:22

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
          const newX = (dragTarget.value.originalX ?? point.x) + dx;
  
          const handleDx = newX - point.x;
> const updates: any = { x: newX };
          if (point.handleIn) {
            updates.handleIn = {
              x: point.handleIn.x + handleDx,
```

---

#### Pattern: `: any` at line 597:22

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
          const newY = (dragTarget.value.originalY ?? point.y) + dy;
  
          const handleDy = newY - point.y;
> const updates: any = { y: newY };
          if (point.handleIn) {
            updates.handleIn = {
              x: point.handleIn.x,
```

---

#### Pattern: `: any` at line 630:41

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
          return;
        }
  
> const layer = store.layers.find((l: any) => l.id === layerId.value);
        if (layer && isSplineOrPathType(layer.type)) {
          const layerData = layer.data as SplineData | PathLayerData;
          const point = layerData.controlPoints?.find(
```

---

#### Pattern: `as any` at line 834:26

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
        pointId,
        startX: event.clientX,
        startY: event.clientY,
> startDepth: (point as any).depth ?? 0,
        screenStartX: event.clientX,
        screenStartY: event.clientY,
      };
```

---

#### Pattern: `: any` at line 844:43

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    function handleKeyDown(event: KeyboardEvent) {
      if (event.key === "Delete" || event.key === "Backspace") {
        if (selectedPointId.value && layerId.value) {
> const layer = store.layers.find((l: any) => l.id === layerId.value);
          if (layer && isSplineOrPathType(layer.type)) {
            const pointId = selectedPointId.value;
            options.layerStore.deleteSplineControlPoint(options.store, layerId.value, pointId);
```

---

### `engine/LatticeEngine.ts` (2 pattern(s))

#### Pattern: `as any` at line 802:23

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      for (const layer of layers) {
        if (
          "setResolution" in layer &&
> typeof (layer as any).setResolution === "function"
        ) {
          (layer as any).setResolution(width, height);
        }
```

---

#### Pattern: `as any` at line 804:16

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
          "setResolution" in layer &&
          typeof (layer as any).setResolution === "function"
        ) {
> (layer as any).setResolution(width, height);
        }
      }
    }
```

---

### `engine/TransformControlsManager.ts` (11 pattern(s))

#### Pattern: `as any` at line 63:14

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      if (!obj || depth > 50) return;
  
      // Ensure children is an array
> if ((obj as any).children === undefined || (obj as any).children === null) {
        (obj as any).children = [];
      }
  
```

---

#### Pattern: `as any` at line 63:53

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      if (!obj || depth > 50) return;
  
      // Ensure children is an array
> if ((obj as any).children === undefined || (obj as any).children === null) {
        (obj as any).children = [];
      }
  
```

---

#### Pattern: `as any` at line 64:12

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
  
      // Ensure children is an array
      if ((obj as any).children === undefined || (obj as any).children === null) {
> (obj as any).children = [];
      }
  
      // Ensure matrix properties exist
```

---

#### Pattern: `as any` at line 68:15

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      }
  
      // Ensure matrix properties exist
> if (!(obj as any).matrix) {
        (obj as any).matrix = new THREE.Matrix4();
      }
      if (!(obj as any).matrixWorld) {
```

---

#### Pattern: `as any` at line 69:12

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
  
      // Ensure matrix properties exist
      if (!(obj as any).matrix) {
> (obj as any).matrix = new THREE.Matrix4();
      }
      if (!(obj as any).matrixWorld) {
        (obj as any).matrixWorld = new THREE.Matrix4();
```

---

#### Pattern: `as any` at line 71:15

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      if (!(obj as any).matrix) {
        (obj as any).matrix = new THREE.Matrix4();
      }
> if (!(obj as any).matrixWorld) {
        (obj as any).matrixWorld = new THREE.Matrix4();
      }
  
```

---

#### Pattern: `as any` at line 72:12

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
        (obj as any).matrix = new THREE.Matrix4();
      }
      if (!(obj as any).matrixWorld) {
> (obj as any).matrixWorld = new THREE.Matrix4();
      }
  
      // Recursively process children
```

---

#### Pattern: `as any` at line 76:27

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      }
  
      // Recursively process children
> const children = (obj as any).children;
      if (Array.isArray(children)) {
        for (const child of children) {
          this.ensureObjectChildren(child, depth + 1);
```

---

#### Pattern: `: any` at line 126:13

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
      // Disable orbit/pan during transform and track dragging state
      this.transformControls.addEventListener(
        "dragging-changed",
> (event: any) => {
          isDragging = event.value;
          this.deps.emit("transform-dragging", { dragging: event.value });
        },
```

---

#### Pattern: `as any` at line 146:65

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
        const layerData = layer?.getLayerData?.();
        const anchorX = layerData?.transform?.anchorPoint?.value?.x ?? 0;
        const anchorY = layerData?.transform?.anchorPoint?.value?.y ?? 0;
> const anchorZ = (layerData?.transform?.anchorPoint?.value as any)?.z ?? 0;
  
        // Convert 3D position back to layer position by adding anchor point back
        // The 3D object position is offset by anchor point in applyTransform()
```

---

#### Pattern: `as any` at line 274:31

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
     */
    setVisible(visible: boolean): void {
      if (this.transformControls) {
> (this.transformControls as any).visible = visible;
        this.transformControls.enabled = visible;
      }
    }
```

---

### `engine/animation/KeyframeEvaluator.ts` (2 pattern(s))

#### Pattern: `: any` at line 20:52

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  
  export class KeyframeEvaluator {
    // Cache for recent evaluations (cleared per frame batch)
> private cache: Map<string, { frame: number; value: any }> = new Map();
  
    /**
     * Evaluate an animatable property at a given frame
```

---

#### Pattern: `: any` at line 308:10

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
     * Check if value is position-like (has x, y properties)
     */
    private isPositionLike(
> value: any,
    ): value is { x: number; y: number; z?: number } {
      return (
        value !== null &&
```

---

### `engine/core/LayerManager.ts` (1 pattern(s))

#### Pattern: `as any` at line 166:32

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
  
      // Update existing effect layers
      for (const layer of this.layers.values()) {
> const layerData = (layer as any).layerData;
        if (
          layer.type === "solid" &&
          (layerData?.effectLayer || layerData?.adjustmentLayer)
```

---

### `engine/core/RenderPipeline.ts` (4 pattern(s))

#### Pattern: `as any` at line 404:9

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
          focus: this.dofConfig.focusDistance,
          aperture: this.dofConfig.aperture,
          maxblur: this.dofConfig.maxBlur,
> } as any, // width/height are needed but not in types
      );
  
      // Insert before output pass
```

---

#### Pattern: `as any` at line 417:38

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    private updateBokehPass(): void {
      if (!this.bokehPass) return;
  
> const uniforms = (this.bokehPass as any).uniforms;
      if (uniforms) {
        uniforms.focus.value = this.dofConfig.focusDistance;
        uniforms.aperture.value = this.dofConfig.aperture;
```

---

#### Pattern: `as any` at line 1052:20

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      // Update composer's render target
      this.composer.renderTarget1.dispose();
      this.composer.renderTarget2.dispose();
> (this.composer as any).renderTarget1 = this.colorTarget.clone();
      (this.composer as any).renderTarget2 = this.colorTarget.clone();
  
      // Resize capture canvas
```

---

#### Pattern: `as any` at line 1053:20

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      this.composer.renderTarget1.dispose();
      this.composer.renderTarget2.dispose();
      (this.composer as any).renderTarget1 = this.colorTarget.clone();
> (this.composer as any).renderTarget2 = this.colorTarget.clone();
  
      // Resize capture canvas
      this.captureCanvas.width = scaledWidth;
```

---

### `engine/core/SceneManager.ts` (5 pattern(s))

#### Pattern: `as any` at line 273:24

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      // Ensure the object has required methods by binding them from our THREE.Object3D
      // This is a compatibility shim for multi-Three.js environments
      const proto = THREE.Object3D.prototype;
> const obj = object as any;
  
      // Patch missing methods if they don't exist or are from wrong prototype
      if (typeof obj.updateMatrixWorld !== "function") {
```

---

#### Pattern: `: any` at line 285:32

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  
      // Recursively patch children
      if (obj.children && Array.isArray(obj.children)) {
> const patchChild = (child: any) => {
          if (typeof child.updateMatrixWorld !== "function") {
            child.updateMatrixWorld = proto.updateMatrixWorld.bind(child);
          }
```

---

#### Pattern: `as any` at line 328:56

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
  
      // If remove() failed, manually remove from children array
      if (this.scene.children.length === childCountBefore) {
> const index = this.scene.children.indexOf(object as any);
        if (index !== -1) {
          this.scene.children.splice(index, 1);
          (object as any).parent = null;
```

---

#### Pattern: `as any` at line 331:17

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
        const index = this.scene.children.indexOf(object as any);
        if (index !== -1) {
          this.scene.children.splice(index, 1);
> (object as any).parent = null;
          object.dispatchEvent?.({ type: "removed" });
        }
      }
```

---

#### Pattern: `: any` at line 347:31

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
     * internal structures (like children arrays) to be incompatible.
     */
    prepareForRender(): void {
> const ensureMethods = (obj: any, depth = 0) => {
        // Safety check
        if (!obj || depth > 50) return;
  
```

---

### `engine/layers/ImageLayer.ts` (2 pattern(s))

#### Pattern: `as any` at line 93:33

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      targetHeight: number | null;
      fit: "none" | "contain" | "cover" | "fill";
    } {
> const data = layerData.data as any;
  
      return {
        source: data?.source ?? data?.url ?? data?.assetId ?? null,
```

---

#### Pattern: `as any` at line 400:34

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    }
  
    protected onUpdate(properties: Partial<Layer>): void {
> const data = properties.data as any;
      let needsResize = false;
  
      // Handle source change
```

---

### `engine/layers/LightLayer.ts` (9 pattern(s))

#### Pattern: `as any` at line 276:33

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    // ============================================================================
  
    private extractLightData(layerData: Layer): LightData {
> const data = layerData.data as any;
  
      return {
        lightType: data?.lightType ?? "point",
```

---

#### Pattern: `as any` at line 502:24

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    private createHelper(): void {
      if (this.helper) {
        this.group.remove(this.helper);
> if ((this.helper as any).dispose) {
          (this.helper as any).dispose();
        }
      }
```

---

#### Pattern: `as any` at line 503:22

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      if (this.helper) {
        this.group.remove(this.helper);
        if ((this.helper as any).dispose) {
> (this.helper as any).dispose();
        }
      }
  
```

---

#### Pattern: `as any` at line 683:21

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      this.lightData.lightType = type;
  
      this.group.remove(this.light);
> if ((this.light as any).dispose) {
        (this.light as any).dispose();
      }
  
```

---

#### Pattern: `as any` at line 684:19

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
  
      this.group.remove(this.light);
      if ((this.light as any).dispose) {
> (this.light as any).dispose();
      }
  
      this.light = this.createLight();
```

---

#### Pattern: `as any` at line 1201:21

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    }
  
    protected onDispose(): void {
> if ((this.light as any).dispose) {
        (this.light as any).dispose();
      }
      if (this.helper && (this.helper as any).dispose) {
```

---

#### Pattern: `as any` at line 1202:19

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
  
    protected onDispose(): void {
      if ((this.light as any).dispose) {
> (this.light as any).dispose();
      }
      if (this.helper && (this.helper as any).dispose) {
        (this.helper as any).dispose();
```

---

#### Pattern: `as any` at line 1204:37

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      if ((this.light as any).dispose) {
        (this.light as any).dispose();
      }
> if (this.helper && (this.helper as any).dispose) {
        (this.helper as any).dispose();
      }
    }
```

---

#### Pattern: `as any` at line 1205:20

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
        (this.light as any).dispose();
      }
      if (this.helper && (this.helper as any).dispose) {
> (this.helper as any).dispose();
      }
    }
  }
```

---

### `engine/layers/ModelLayer.ts` (2 pattern(s))

#### Pattern: `as any` at line 590:17

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
  
      // Apply overrides
      if (override.wireframe !== undefined) {
> (material as any).wireframe = override.wireframe;
      }
  
      if (override.wireframeColor && override.wireframe) {
```

---

#### Pattern: `as any` at line 599:17

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
          wireframe: true,
        });
      } else if (override.colorOverride) {
> (material as any).color = new THREE.Color(override.colorOverride);
      }
  
      if (override.opacityOverride !== undefined) {
```

---

### `engine/layers/PoseLayer.ts` (2 pattern(s))

#### Pattern: `as any` at line 556:34

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
  
      if (newPoses.length > 0) {
        data.poses = newPoses;
> this.layerData.data = data as any;
      }
    }
  
```

---

#### Pattern: `as any` at line 593:32

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
        }
      }
  
> this.layerData.data = data as any;
    }
  
    /**
```

---

### `engine/layers/ShapeLayer.ts` (3 pattern(s))

#### Pattern: `as any` at line 160:56

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      this.ctx = this.canvas.getContext("2d")!;
  
      // Create texture
> this.texture = new THREE.CanvasTexture(this.canvas as any);
      this.texture.colorSpace = THREE.SRGBColorSpace;
      this.texture.minFilter = THREE.LinearFilter;
      this.texture.magFilter = THREE.LinearFilter;
```

---

#### Pattern: `as any` at line 211:38

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      this.ctx = this.canvas.getContext("2d")!;
  
      // Update texture
> this.texture.image = this.canvas as any;
      this.texture.needsUpdate = true;
  
      // Update mesh geometry
```

---

#### Pattern: `: any` at line 282:30

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
      }
    }
  
> onApplyEvaluatedState(state: any): void {
      // Shape-specific state could include animated shape properties
      if (state.shapeData) {
        this.shapeData = state.shapeData;
```

---

### `engine/layers/SplineLayer.ts` (4 pattern(s))

#### Pattern: `as any` at line 1609:33

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      const audioMod = this.currentAudioModifiers;
      for (const key in audioMod) {
        if (key.startsWith("splineControlPoint_")) {
> const value = (audioMod as any)[key];
          if (value !== undefined && value !== 0) {
            return true;
          }
```

---

#### Pattern: `as any` at line 1637:30

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      // Apply modifiers to each control point
      return points.map((point, index) => {
        // Get audio modifiers for this control point index
> const xMod = (audioMod as any)[`splineControlPoint_${index}_x`] as
          | number
          | undefined;
        const yMod = (audioMod as any)[`splineControlPoint_${index}_y`] as
```

---

#### Pattern: `as any` at line 1640:30

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
        const xMod = (audioMod as any)[`splineControlPoint_${index}_x`] as
          | number
          | undefined;
> const yMod = (audioMod as any)[`splineControlPoint_${index}_y`] as
          | number
          | undefined;
        const depthMod = (audioMod as any)[`splineControlPoint_${index}_depth`] as
```

---

#### Pattern: `as any` at line 1643:34

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
        const yMod = (audioMod as any)[`splineControlPoint_${index}_y`] as
          | number
          | undefined;
> const depthMod = (audioMod as any)[`splineControlPoint_${index}_depth`] as
          | number
          | undefined;
  
```

---

### `engine/layers/TextLayer.ts` (15 pattern(s))

#### Pattern: `as any` at line 366:11

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      text.fontSize = this.textData.fontSize;
  
      // Font weight and style (using type assertions - Troika supports these but types are incomplete)
> (text as any).fontWeight = this.textData.fontWeight || "400";
      (text as any).fontStyle = this.textData.fontStyle || "normal";
  
      // Colors
```

---

#### Pattern: `as any` at line 367:11

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
  
      // Font weight and style (using type assertions - Troika supports these but types are incomplete)
      (text as any).fontWeight = this.textData.fontWeight || "400";
> (text as any).fontStyle = this.textData.fontStyle || "normal";
  
      // Colors
      text.color = this.textData.fill;
```

---

#### Pattern: `as any` at line 391:11

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
  
      // Improve text rendering quality - higher SDF glyph size for sharper edges
      // Max useful value is around 256 (higher = better quality but more memory)
> (text as any).sdfGlyphSize = 256; // Default is 64, higher = sharper text
  
      // GPU texture precision for better rendering
      (text as any).gpuAccelerateSDF = true;
```

---

#### Pattern: `as any` at line 394:11

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      (text as any).sdfGlyphSize = 256; // Default is 64, higher = sharper text
  
      // GPU texture precision for better rendering
> (text as any).gpuAccelerateSDF = true;
  
      // Enable smooth outline edges
      if (this.textData.strokeWidth > 0) {
```

---

#### Pattern: `as any` at line 398:13

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
  
      // Enable smooth outline edges
      if (this.textData.strokeWidth > 0) {
> (text as any).outlineBlur = 0.003; // Slight blur for smoother outline edges
      }
  
      // Trigger initial sync
```

---

#### Pattern: `as any` at line 708:17

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
        charMesh.text = char;
        charMesh.font = this.getFontUrl(this.textData.fontFamily) ?? null;
        charMesh.fontSize = this.textData.fontSize;
> (charMesh as any).fontWeight = this.textData.fontWeight || "400";
        (charMesh as any).fontStyle = this.textData.fontStyle || "normal";
        charMesh.color = this.textData.fill;
        charMesh.anchorX = "center";
```

---

#### Pattern: `as any` at line 709:17

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
        charMesh.font = this.getFontUrl(this.textData.fontFamily) ?? null;
        charMesh.fontSize = this.textData.fontSize;
        (charMesh as any).fontWeight = this.textData.fontWeight || "400";
> (charMesh as any).fontStyle = this.textData.fontStyle || "normal";
        charMesh.color = this.textData.fill;
        charMesh.anchorX = "center";
        charMesh.anchorY = "middle";
```

---

#### Pattern: `as any` at line 718:19

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
          charMesh.outlineWidth =
            this.textData.strokeWidth / this.textData.fontSize;
          charMesh.outlineColor = this.textData.stroke;
> (charMesh as any).outlineBlur = 0.005;
        }
  
        // Quality settings for character mesh
```

---

#### Pattern: `as any` at line 722:17

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
        }
  
        // Quality settings for character mesh
> (charMesh as any).sdfGlyphSize = 128;
  
        // Position character (for horizontal layout)
        const charWidth = this.characterWidths[i];
```

---

#### Pattern: `as any` at line 820:20

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
  
    setFontWeight(weight: string): void {
      this.textData.fontWeight = weight;
> (this.textMesh as any).fontWeight = weight;
      this.textMesh.sync();
  
      for (const charMesh of this.characterMeshes) {
```

---

#### Pattern: `as any` at line 824:17

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      this.textMesh.sync();
  
      for (const charMesh of this.characterMeshes) {
> (charMesh as any).fontWeight = weight;
        charMesh.sync();
      }
    }
```

---

#### Pattern: `as any` at line 831:20

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
  
    setFontStyle(style: string): void {
      this.textData.fontStyle = style as "normal" | "italic";
> (this.textMesh as any).fontStyle = style;
      this.textMesh.sync();
  
      for (const charMesh of this.characterMeshes) {
```

---

#### Pattern: `as any` at line 835:17

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      this.textMesh.sync();
  
      for (const charMesh of this.characterMeshes) {
> (charMesh as any).fontStyle = style;
        charMesh.sync();
      }
    }
```

---

#### Pattern: `as any` at line 1331:21

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
            // Blur requires special handling - Troika doesn't support per-character blur
            // Store blur value for potential post-processing
            const blurVal = this.getAnimatorPropertyValue(props.blur, frame);
> (charMesh as any).__blurX = blurVal.x * influence;
            (charMesh as any).__blurY = blurVal.y * influence;
          }
        }
```

---

#### Pattern: `as any` at line 1332:21

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
            // Store blur value for potential post-processing
            const blurVal = this.getAnimatorPropertyValue(props.blur, frame);
            (charMesh as any).__blurX = blurVal.x * influence;
> (charMesh as any).__blurY = blurVal.y * influence;
          }
        }
      }
```

---

### `engine/layers/VideoLayer.ts` (3 pattern(s))

#### Pattern: `as any` at line 343:44

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      if (!this.videoElement) return false;
  
      // Check for audio tracks (if available)
> const audioTracks = (this.videoElement as any).audioTracks;
      if (audioTracks) {
        return audioTracks.length > 0;
      }
```

---

#### Pattern: `as any` at line 1105:14

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
          return;
        }
  
> (video as any).requestVideoFrameCallback(onFrame);
      };
  
      video
```

---

#### Pattern: `as any` at line 1111:16

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      video
        .play()
        .then(() => {
> (video as any).requestVideoFrameCallback(onFrame);
        })
        .catch(() => {
          clearTimeout(timeoutId);
```

---

### `engine/particles/GPUParticleSystem.ts` (1 pattern(s))

#### Pattern: `as any` at line 1895:18

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
  
    private emit(type: string, data: Record<string, unknown>): void {
      const event: ParticleEvent = {
> type: type as any,
        timestamp: performance.now(),
        data,
      };
```

---

### `engine/utils/PerformanceMonitor.ts` (1 pattern(s))

#### Pattern: `as any` at line 82:33

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      const info = renderer.info;
  
      // Get memory usage (Chrome only)
> const memory = (performance as any).memory;
      const memoryUsed = memory?.usedJSHeapSize ?? 0;
  
      // Calculate average frame time
```

---

### `services/ai/actionExecutor.ts` (3 pattern(s))

#### Pattern: `: any` at line 1866:11

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  function executeGetProjectState(
    context: ExecutionContext,
    _args: Record<string, any>,
> ): { state: any; message: string } {
    const { store } = context;
    const comp = store.getActiveComp();
  
```

---

#### Pattern: `: any` at line 1902:31

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  /**
   * Set a nested property value using dot notation path
   */
> function setNestedProperty(obj: any, path: string[], value: any): void {
    let current = obj;
    for (let i = 0; i < path.length - 1; i++) {
      if (!(path[i] in current)) {
```

---

#### Pattern: `: any` at line 1902:59

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  /**
   * Set a nested property value using dot notation path
   */
> function setNestedProperty(obj: any, path: string[], value: any): void {
    let current = obj;
    for (let i = 0; i < path.length - 1; i++) {
      if (!(path[i] in current)) {
```

---

### `services/ai/depthEstimation.ts` (1 pattern(s))

#### Pattern: `: any` at line 312:49

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  
        return {
          sceneDescription: parsed.sceneDescription || "Scene analyzed",
> layers: (parsed.layers || []).map((layer: any) => ({
            index: layer.index ?? 0,
            depth: Math.max(0, Math.min(100, layer.depth ?? 50)),
            content: layer.content || "Unknown",
```

---

### `services/ai/stateSerializer.ts` (3 pattern(s))

#### Pattern: `: any` at line 166:8

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  }
  
  export interface SerializedAnimatableProperty {
> value: any;
    animated: boolean;
    keyframeCount?: number;
    keyframes?: SerializedKeyframe[];
```

---

#### Pattern: `: any` at line 174:8

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  
  export interface SerializedKeyframe {
    frame: number;
> value: any;
    interpolation: string;
  }
  
```

---

#### Pattern: `: any` at line 526:47

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    };
  }
  
> function serializeLayerData(type: string, data: any): Record<string, any> {
    // Return a summarized version of layer-specific data
    // SECURITY: Sanitize all user-controlled string fields
    switch (type) {
```

---

### `services/ai/toolDefinitions.ts` (1 pattern(s))

#### Pattern: `: any` at line 21:10

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  export interface ToolResult {
    toolCallId: string;
    success: boolean;
> result?: any;
    error?: string;
  }
  
```

---

### `services/arcLength.ts` (1 pattern(s))

#### Pattern: `: any` at line 330:15

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
   * Converts SVG-style path commands to a Three.js curve
   */
  export function pathCommandsToBezier(
> pathCommands: any[],
  ): THREE.CubicBezierCurve3 | null {
    if (!pathCommands || pathCommands.length < 2) {
      return null;
```

---

### `services/audioReactiveMapping.ts` (1 pattern(s))

#### Pattern: `as any` at line 1137:18

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
        const prop = splineMatch[2] as "x" | "y" | "depth";
        const key =
          `splineControlPoint_${index}_${prop}` as keyof AudioReactiveModifiers;
> (modifiers as any)[key] = value;
      }
    }
  
```

---

### `services/cameraTrackingImport.ts` (6 pattern(s))

#### Pattern: `as any` at line 450:62

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
        });
  
        // Create camera layer
> const cameraLayer = layerStore.createCameraLayer(store as any);
        cameraLayer.name = `Tracked Camera (${solve.source})`;
  
        if (cameraLayer) {
```

---

#### Pattern: `as any` at line 463:52

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
            "Transform",
          );
          positionProp.animated = true;
> positionProp.keyframes = positionKeyframes as any; // keyframes match the value type
  
          // Use orientation for 3D rotation (vector3), rotation is for 2D (number)
          const orientationProp = createAnimatableProperty(
```

---

#### Pattern: `as any` at line 473:55

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
            "Transform",
          );
          orientationProp.animated = true;
> orientationProp.keyframes = rotationKeyframes as any;
  
          // Update the camera layer with camera-specific data and transform
          layerStore.updateLayer(store, cameraLayer.id, {
```

---

#### Pattern: `as any` at line 480:36

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
            threeD: true,
            transform: {
              ...cameraLayer.transform,
> position: positionProp as any, // Cast needed due to z optional mismatch
              orientation: orientationProp,
            },
          });
```

---

#### Pattern: `as any` at line 524:17

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
                  pos,
                  "position",
                  "Transform",
> ) as any,
              },
            });
  
```

---

#### Pattern: `as any` at line 580:13

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
              colors: new Float32Array(colors),
              pointSize,
              format: "xyz_rgb",
> } as any,
          });
          result.pointCloudLayerId = pointCloudLayer.id;
        }
```

---

### `services/comfyui/comfyuiClient.ts` (3 pattern(s))

#### Pattern: `: any` at line 64:45

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    private serverAddress: string;
    private clientId: string;
    private ws: WebSocket | null = null;
> private messageHandlers: Map<string, (data: any) => void> = new Map();
  
    constructor(config: ComfyUIClientConfig) {
      this.serverAddress = config.serverAddress.replace(/\/$/, "");
```

---

#### Pattern: `: any` at line 414:41

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    /**
     * Register a message handler for a specific message type
     */
> onMessage(type: string, handler: (data: any) => void): void {
      this.messageHandlers.set(type, handler);
    }
  
```

---

#### Pattern: `: any` at line 425:38

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
      this.messageHandlers.delete(type);
    }
  
> private handleWebSocketMessage(data: any): void {
      const { type } = data;
  
      // Call registered handler
```

---

### `services/comfyui/workflowTemplates.ts` (2 pattern(s))

#### Pattern: `: any` at line 32:14

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    controlImages?: string[];
  
    // Camera data
> cameraData?: any;
  
    // Generation settings
    prompt: string;
```

---

#### Pattern: `: any` at line 59:14

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  
    // Uni3C specific
    trajType?: Uni3CTrajType;
> motionData?: any;
  
    // MotionCtrl specific
    motionPreset?: MotionCtrlSVDPreset;
```

---

### `services/dataImport.ts` (2 pattern(s))

#### Pattern: `: any` at line 485:2

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  export function extractArrayFromJSON(
    asset: JSONDataAsset,
    path: string,
> ): any[] | null {
    const parts = path.split(".");
    let current = asset.sourceData;
  
```

---

#### Pattern: `: any` at line 502:65

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  /**
   * Get value from JSON data at path
   */
> export function getJSONValue(asset: JSONDataAsset, path: string): any {
    const parts = path.split(".");
    let current = asset.sourceData;
  
```

---

### `services/effectProcessor.ts` (1 pattern(s))

#### Pattern: `: any` at line 291:16

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
   * All animatable values resolved to their concrete values
   */
  export interface EvaluatedEffectParams {
> [key: string]: any;
  }
  
  /**
```

---

### `services/export/depthRenderer.ts` (8 pattern(s))

#### Pattern: `as any` at line 224:29

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    }
  
    // Get layer dimensions (assuming they're stored or can be derived)
> const layerWidth = (layer as any).width || screenWidth;
    const layerHeight = (layer as any).height || screenHeight;
  
    // Get scale from transform
```

---

#### Pattern: `as any` at line 225:30

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
  
    // Get layer dimensions (assuming they're stored or can be derived)
    const layerWidth = (layer as any).width || screenWidth;
> const layerHeight = (layer as any).height || screenHeight;
  
    // Get scale from transform
    let scaleX = 1,
```

---

#### Pattern: `as any` at line 285:49

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
   * Check if layer has depth data (depthflow layers)
   */
  function hasDepthData(layer: Layer): boolean {
> return layer.type === "depthflow" && !!(layer as any).depthMapData;
  }
  
  /**
```

---

#### Pattern: `as any` at line 300:28

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    nearClip: number,
    farClip: number,
  ): void {
> const depthData = (layer as any).depthMapData as Uint8Array | Float32Array;
    const depthWidth = (layer as any).depthWidth || bounds.width;
    const depthHeight = (layer as any).depthHeight || bounds.height;
  
```

---

#### Pattern: `as any` at line 301:29

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    farClip: number,
  ): void {
    const depthData = (layer as any).depthMapData as Uint8Array | Float32Array;
> const depthWidth = (layer as any).depthWidth || bounds.width;
    const depthHeight = (layer as any).depthHeight || bounds.height;
  
    for (let y = 0; y < bounds.height; y++) {
```

---

#### Pattern: `as any` at line 302:30

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
  ): void {
    const depthData = (layer as any).depthMapData as Uint8Array | Float32Array;
    const depthWidth = (layer as any).depthWidth || bounds.width;
> const depthHeight = (layer as any).depthHeight || bounds.height;
  
    for (let y = 0; y < bounds.height; y++) {
      for (let x = 0; x < bounds.width; x++) {
```

---

#### Pattern: `as any` at line 360:26

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    farClip: number,
  ): void {
    // Access the engine's particle layer to get active particles
> const engine = (window as any).__latticeEngine;
    if (!engine) return;
  
    // Get the particle layer from the engine
```

---

#### Pattern: `: any` at line 449:12

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
   * Interpolate value from keyframes
   */
  function interpolateValue(
> keyframes: any[],
    frame: number,
    index?: number,
  ): number | null {
```

---

### `services/export/exportPipeline.ts` (2 pattern(s))

#### Pattern: `as any` at line 348:42

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      const rotation =
        typeof evaluated.transform.rotation === "number"
          ? evaluated.transform.rotation
> : ((evaluated.transform.rotation as any)?.z ?? 0);
      const opacity = evaluated.opacity;
  
      ctx.save();
```

---

#### Pattern: `as any` at line 360:34

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      ctx.scale(scaleVal.x / 100, scaleVal.y / 100);
  
      // Draw layer content
> const layerData = layer.data as any;
      if (layer.type === "image" && layerData?.src) {
        // Create image from content URL
        const img = await this.loadImage(layerData.src);
```

---

### `services/fontService.ts` (1 pattern(s))

#### Pattern: `as any` at line 122:35

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    private async loadSystemFonts(): Promise<void> {
      try {
        // This will prompt for permission
> const fonts = await (window as any).queryLocalFonts();
  
        // Group by family, keep one entry per family
        const familyMap = new Map<string, FontInfo>();
```

---

### `services/gpuDetection.ts` (1 pattern(s))

#### Pattern: `as any` at line 48:33

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
          let deviceName = "";
          if ("info" in adapter) {
            // Newer API
> const info = (adapter as any).info;
            deviceName = info?.device || info?.description || "";
          }
  
```

---

### `services/gpuEffectDispatcher.ts` (2 pattern(s))

#### Pattern: `as any` at line 596:37

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      params: Record<string, any>,
      methodName: string,
    ): Promise<ImageData> {
> const renderer = webgpuRenderer as any;
  
      if (typeof renderer[methodName] !== "function") {
        throw new Error(`WebGPU method ${methodName} not found`);
```

---

#### Pattern: `: any` at line 643:4

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    private mapParamsToWebGPU(
      effectKey: string,
      params: Record<string, any>,
> ): any {
      switch (effectKey) {
        case "gaussian-blur":
        case "box-blur":
```

---

### `services/jsonValidation.ts` (1 pattern(s))

#### Pattern: `: any` at line 35:7

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
   * Safely stringify JSON with circular reference handling
   */
  export function safeJSONStringify(
> data: any,
    indent: number = 2,
  ): { success: true; json: string } | { success: false; error: string } {
    try {
```

---

### `services/matteExporter.ts` (2 pattern(s))

#### Pattern: `: any` at line 377:52

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    /**
     * Build path commands from spline control points
     */
> private buildPathCommands(splineData: SplineData): any[] | null {
      const cp = splineData.controlPoints;
      if (!cp || cp.length < 2) return null;
  
```

---

#### Pattern: `: any` at line 381:23

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
      const cp = splineData.controlPoints;
      if (!cp || cp.length < 2) return null;
  
> const pathCommands: any[] = [];
  
      // Move to first point
      pathCommands.push(["M", cp[0].x, cp[0].y]);
```

---

### `services/modelExport.ts` (2 pattern(s))

#### Pattern: `as any` at line 572:43

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
   * Detect motion style from camera animation
   */
  export function detectMotionStyle(cameras: Camera3D[]): LightXMotionStyle {
> if (cameras.length < 2) return "static" as any;
  
    const first = cameras[0];
    const last = cameras[cameras.length - 1];
```

---

#### Pattern: `: any` at line 660:7

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  export interface UnifiedExportResult {
    success: boolean;
    target: ModelTarget;
> data: any;
    files: {
      name: string;
      content: string | Blob;
```

---

### `services/particleSystem.ts` (3 pattern(s))

#### Pattern: `: any` at line 1344:11

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
     * Sample valid emission points from a depth map
     */
    private sampleDepthMapEmissionPoints(
> config: any,
    ): Array<{ x: number; y: number; depth: number }> {
      const points: Array<{ x: number; y: number; depth: number }> = [];
  
```

---

#### Pattern: `: any` at line 1443:11

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
     * Sample valid emission points from a mask
     */
    private sampleMaskEmissionPoints(
> config: any,
    ): Array<{ x: number; y: number }> {
      const points: Array<{ x: number; y: number }> = [];
  
```

---

#### Pattern: `: any` at line 2239:26

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
      };
    }
  
> static deserialize(data: any): ParticleSystem {
      const system = new ParticleSystem(data.config);
  
      if (data.emitters) {
```

---

### `services/pathMorphing.ts` (2 pattern(s))

#### Pattern: `as any` at line 767:25

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    if (obj.vertices.length > 0) {
      const v = obj.vertices[0] as Record<string, unknown>;
      if (typeof v !== "object" || v === null) return false;
> if (typeof (v.point as any)?.x !== "number") return false;
      if (typeof (v.point as any)?.y !== "number") return false;
    }
  
```

---

#### Pattern: `as any` at line 768:25

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      const v = obj.vertices[0] as Record<string, unknown>;
      if (typeof v !== "object" || v === null) return false;
      if (typeof (v.point as any)?.x !== "number") return false;
> if (typeof (v.point as any)?.y !== "number") return false;
    }
  
    return true;
```

---

### `services/plugins/PluginManager.ts` (16 pattern(s))

#### Pattern: `: any` at line 59:15

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  
  export interface LatticePluginAPI {
    // Read-only project access
> getProject(): any;
    getCurrentFrame(): number;
    getSelectedLayers(): string[];
    getLayer(id: string): any;
```

---

#### Pattern: `: any` at line 62:23

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    getProject(): any;
    getCurrentFrame(): number;
    getSelectedLayers(): string[];
> getLayer(id: string): any;
    getComposition(id: string): any;
    getAsset(id: string): any;
  
```

---

#### Pattern: `: any` at line 63:29

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    getCurrentFrame(): number;
    getSelectedLayers(): string[];
    getLayer(id: string): any;
> getComposition(id: string): any;
    getAsset(id: string): any;
  
    // Events
```

---

#### Pattern: `: any` at line 64:23

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    getSelectedLayers(): string[];
    getLayer(id: string): any;
    getComposition(id: string): any;
> getAsset(id: string): any;
  
    // Events
    on(event: PluginEvent, callback: (...args: any[]) => void): () => void;
```

---

#### Pattern: `: any` at line 67:44

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    getAsset(id: string): any;
  
    // Events
> on(event: PluginEvent, callback: (...args: any[]) => void): () => void;
    off(event: PluginEvent, callback: (...args: any[]) => void): void;
  
    // UI registration
```

---

#### Pattern: `: any` at line 68:45

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  
    // Events
    on(event: PluginEvent, callback: (...args: any[]) => void): () => void;
> off(event: PluginEvent, callback: (...args: any[]) => void): void;
  
    // UI registration
    registerPanel(panel: PanelDefinition): void;
```

---

#### Pattern: `: any` at line 92:18

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  
    // Logging
    log: {
> debug(...args: any[]): void;
      info(...args: any[]): void;
      warn(...args: any[]): void;
      error(...args: any[]): void;
```

---

#### Pattern: `: any` at line 93:17

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    // Logging
    log: {
      debug(...args: any[]): void;
> info(...args: any[]): void;
      warn(...args: any[]): void;
      error(...args: any[]): void;
    };
```

---

#### Pattern: `: any` at line 94:17

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    log: {
      debug(...args: any[]): void;
      info(...args: any[]): void;
> warn(...args: any[]): void;
      error(...args: any[]): void;
    };
  }
```

---

#### Pattern: `: any` at line 95:18

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
      debug(...args: any[]): void;
      info(...args: any[]): void;
      warn(...args: any[]): void;
> error(...args: any[]): void;
    };
  }
  
```

---

#### Pattern: `: any` at line 111:12

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    id: string;
    name: string;
    icon?: string;
> component: any; // Vue component
    position?: "left" | "right" | "bottom";
  }
  
```

---

#### Pattern: `: any` at line 130:23

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    label: string;
    icon?: string;
    context: "layer" | "keyframe" | "composition" | "asset";
> action: (contextData: any) => void;
  }
  
  export interface EffectDefinition {
```

---

#### Pattern: `: any` at line 149:15

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    id: string;
    name: string;
    type: "number" | "color" | "point" | "angle" | "dropdown" | "checkbox";
> defaultValue: any;
    min?: number;
    max?: number;
    step?: number;
```

---

#### Pattern: `: any` at line 153:35

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    min?: number;
    max?: number;
    step?: number;
> options?: { label: string; value: any }[];
  }
  
  export interface ExporterDefinition {
```

---

#### Pattern: `: any` at line 161:40

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    name: string;
    extension: string;
    mimeType: string;
> export: (frames: ImageData[], options: any) => Promise<Blob>;
  }
  
  export interface ToolDefinition {
```

---

#### Pattern: `: any` at line 483:35

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    /**
     * Emit an event to all plugins
     */
> emit(event: PluginEvent, ...args: any[]): void {
      const listeners = this.eventListeners.get(event);
      if (!listeners) return;
  
```

---

### `services/preprocessorService.ts` (2 pattern(s))

#### Pattern: `: any` at line 44:10

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  
  export interface PreprocessorInput {
    type: "combo" | "int" | "float" | "bool" | "string";
> default: any;
    min?: number;
    max?: number;
    step?: number;
```

---

#### Pattern: `as any` at line 743:28

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
  ): Promise<string | null> {
    try {
      // Get the canvas from the engine
> const engine = (window as any).__latticeEngine;
      if (!engine) {
        console.error("[PreprocessorService] Engine not available");
        return null;
```

---

### `services/projectMigration.ts` (8 pattern(s))

#### Pattern: `: any` at line 33:16

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    /** Project file format version (semantic) */
    version: string;
    /** Rest of project data */
> [key: string]: any;
  }
  
  export interface MigrationResult {
```

---

#### Pattern: `: any` at line 53:41

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    changes: string[];
  }
  
> export type MigrationFunction = (project: any) => any;
  
  export interface Migration {
    /** Source version */
```

---

#### Pattern: `: any` at line 76:22

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
      from: 1,
      to: 2,
      description: "Rename anchorPoint to origin, update trade dress terminology",
> migrate: (project: any) => {
        const migrated = JSON.parse(JSON.stringify(project));
  
        // Migrate compositions
```

---

#### Pattern: `: any` at line 141:42

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  /**
   * Get the schema version from a project
   */
> export function getProjectVersion(project: any): number {
    if (typeof project?.schemaVersion === "number") {
      return project.schemaVersion;
    }
```

---

#### Pattern: `: any` at line 153:39

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  /**
   * Check if a project needs migration
   */
> export function needsMigration(project: any): boolean {
    const version = getProjectVersion(project);
    return version < CURRENT_SCHEMA_VERSION;
  }
```

---

#### Pattern: `: any` at line 180:39

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  /**
   * Migrate a project to the current schema version
   */
> export function migrateProject(project: any): MigrationResult {
    const fromVersion = getProjectVersion(project);
    const toVersion = CURRENT_SCHEMA_VERSION;
    const warnings: string[] = [];
```

---

#### Pattern: `: any` at line 268:44

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  /**
   * Stamp project with current version
   */
> export function stampProjectVersion(project: any): any {
    return {
      ...project,
      schemaVersion: CURRENT_SCHEMA_VERSION,
```

---

#### Pattern: `: any` at line 268:50

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  /**
   * Stamp project with current version
   */
> export function stampProjectVersion(project: any): any {
    return {
      ...project,
      schemaVersion: CURRENT_SCHEMA_VERSION,
```

---

### `services/templateBuilder.ts` (12 pattern(s))

#### Pattern: `: any` at line 392:69

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  /**
   * Get the value of a property at a path
   */
> export function getPropertyValue(layer: Layer, propertyPath: string): any {
    const parts = propertyPath.split(".");
    let current: any = layer;
  
```

---

#### Pattern: `: any` at line 394:14

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
   */
  export function getPropertyValue(layer: Layer, propertyPath: string): any {
    const parts = propertyPath.split(".");
> let current: any = layer;
  
    for (const part of parts) {
      if (current === undefined || current === null) return undefined;
```

---

#### Pattern: `: any` at line 422:8

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  export function setPropertyValue(
    layer: Layer,
    propertyPath: string,
> value: any,
  ): boolean {
    const parts = propertyPath.split(".");
    let current: any = layer;
```

---

#### Pattern: `: any` at line 425:14

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    value: any,
  ): boolean {
    const parts = propertyPath.split(".");
> let current: any = layer;
  
    // Navigate to parent
    for (let i = 0; i < parts.length - 1; i++) {
```

---

#### Pattern: `: any` at line 470:2

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    layer: Layer,
    effectName: string,
    parameterName: string,
> ): any {
    if (!layer.effects) return null;
  
    // Find effect by name
```

---

#### Pattern: `: any` at line 565:56

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  /**
   * Serialize composition for template export
   */
> function serializeComposition(composition: Composition): any {
    // Deep clone and strip runtime-only data
    const serialized = JSON.parse(JSON.stringify(composition));
  
```

---

#### Pattern: `: any` at line 582:2

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    composition: Composition,
    assets: Record<string, any>,
    settings: TemplateExportSettings,
> ): any[] {
    if (!settings.includeMedia) return [];
  
    const usedAssetIds = new Set<string>();
```

---

#### Pattern: `as any` at line 590:31

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    // Find all asset references in layers
    composition.layers.forEach((layer) => {
      if (layer.data && typeof layer.data === "object") {
> const data = layer.data as any;
        if (data.source && typeof data.source === "string") {
          usedAssetIds.add(data.source);
        }
```

---

#### Pattern: `: any` at line 601:24

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    });
  
    // Collect referenced assets
> const collectedAssets: any[] = [];
    usedAssetIds.forEach((assetId) => {
      const asset = assets[assetId];
      if (asset) {
```

---

#### Pattern: `: any` at line 624:2

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  function collectFonts(
    composition: Composition,
    settings: TemplateExportSettings,
> ): any[] {
    const fonts: any[] = [];
    const fontFamilies = new Set<string>();
  
```

---

#### Pattern: `: any` at line 625:14

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    composition: Composition,
    settings: TemplateExportSettings,
  ): any[] {
> const fonts: any[] = [];
    const fontFamilies = new Set<string>();
  
    // Find all font references in text layers
```

---

#### Pattern: `as any` at line 631:31

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    // Find all font references in text layers
    composition.layers.forEach((layer) => {
      if (layer.type === "text" && layer.data) {
> const data = layer.data as any;
        if (data.fontFamily) {
          fontFamilies.add(data.fontFamily);
        }
```

---

### `services/textToVector.ts` (2 pattern(s))

#### Pattern: `as any` at line 401:56

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    const layers: Partial<Layer>[] = [];
    const groupByCharacter = options?.groupByCharacter ?? true;
  
> const layerX = (textLayer.transform?.position?.value as any)?.x ?? 0;
    const layerY = (textLayer.transform?.position?.value as any)?.y ?? 0;
  
    if (groupByCharacter) {
```

---

#### Pattern: `as any` at line 402:56

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    const groupByCharacter = options?.groupByCharacter ?? true;
  
    const layerX = (textLayer.transform?.position?.value as any)?.x ?? 0;
> const layerY = (textLayer.transform?.position?.value as any)?.y ?? 0;
  
    if (groupByCharacter) {
      for (const charGroup of result.characters) {
```

---

### `services/videoDecoder.ts` (1 pattern(s))

#### Pattern: `as any` at line 322:21

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    private hasAudioTrack(video: HTMLVideoElement): boolean {
      // Check audioTracks API if available
      if ("audioTracks" in video) {
> return (video as any).audioTracks.length > 0;
      }
      // Assume it has audio if we can't detect
      return true;
```

---

### `stores/layerStore/index.ts` (1 pattern(s))

#### Pattern: `: any` at line 414:78

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
        },
        file: File,
        autoResizeComposition: boolean = true,
> ): Promise<{ status: string; layer?: Layer; error?: string; [key: string]: any }> {
        return createVideoLayerImpl(compositorStore, file, autoResizeComposition);
      },
  
```

---

### `stores/layerStore/specialized.ts` (1 pattern(s))

#### Pattern: `: any` at line 368:74

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    },
    file: File,
    autoResizeComposition: boolean = true,
> ): Promise<{ status: string; layer?: Layer; error?: string; [key: string]: any }> {
    // Import videoStore to delegate video import logic
    const { useVideoStore } = await import("@/stores/videoStore");
    const videoStore = useVideoStore();
```

---

### `types/assets.ts` (1 pattern(s))

#### Pattern: `: any` at line 149:14

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    lastModified: number; // Timestamp
  
    // For JSON: the parsed data
> sourceData?: any;
  
    // For CSV/TSV: tabular structure
    headers?: string[];
```

---

### `types/dataAsset.ts` (4 pattern(s))

#### Pattern: `: any` at line 36:13

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
   */
  export interface JSONDataAsset extends DataAssetBase {
    type: "json" | "mgjson";
> sourceData: any; // Parsed JSON object
  }
  
  /**
```

---

#### Pattern: `: any` at line 68:13

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
   * Provides access to parsed JSON structure.
   */
  export interface JSONDataAccessor {
> sourceData: any;
  }
  
  /**
```

---

#### Pattern: `: any` at line 123:14

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
   */
  export interface FootageDataAccessor {
    // For JSON files
> sourceData?: any;
  
    // For CSV files
    dataValue?: (coords: [number, number | string]) => string | number;
```

---

#### Pattern: `: any` at line 178:16

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  export interface ChartDataPoint {
    label: string;
    value: number;
> [key: string]: any; // Additional properties
  }
  
  /**
```

---

### `types/effects.ts` (4 pattern(s))

#### Pattern: `: any` at line 38:8

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
      | "string"
      | "curve"
      | "data";
> value: any;
    defaultValue: any;
    min?: number;
    max?: number;
```

---

#### Pattern: `: any` at line 39:15

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
      | "curve"
      | "data";
    value: any;
> defaultValue: any;
    min?: number;
    max?: number;
    step?: number;
```

---

#### Pattern: `: any` at line 43:41

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    min?: number;
    max?: number;
    step?: number;
> options?: Array<{ label: string; value: any }>;
    animatable: boolean;
    group?: string;
  }
```

---

#### Pattern: `: any` at line 3200:12

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
      property: string;
      keyframes: Array<{
        time: number; // 0-1 normalized
> value: any;
        inHandle?: { x: number; y: number };
        outHandle?: { x: number; y: number };
      }>;
```

---

### `types/presets.ts` (2 pattern(s))

#### Pattern: `as any` at line 778:9

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
            keyframes: [],
          },
          seed: 12345,
> } as any,
      ],
    },
    {
```

---

#### Pattern: `as any` at line 821:9

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
            keyframes: [],
          },
          waveType: "sine",
> } as any,
      ],
    },
  ];
```

---

### `types/project.ts` (1 pattern(s))

#### Pattern: `: any` at line 185:14

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    lastModified: number; // Timestamp
  
    // For JSON: the parsed data
> sourceData?: any;
  
    // For CSV/TSV: tabular structure
    headers?: string[];
```

---

### `types/ses-ambient.d.ts` (1 pattern(s))

#### Pattern: `: any` at line 13:60

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  export interface SESCompartment {
    globalThis: Record<PropertyKey, any>;
    name: string;
> evaluate(code: string, options?: Record<string, unknown>): any;
  }
  
  interface SESCompartmentConstructor {
```

---

### `types/templateBuilder.ts` (3 pattern(s))

#### Pattern: `: any` at line 135:16

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    comment?: string;
  
    // Value snapshot for template export/import
> defaultValue?: any;
  }
  
  /**
```

---

#### Pattern: `: any` at line 258:14

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    templateConfig: TemplateConfig;
  
    // Composition data (serialized LatticeProject subset)
> composition: any; // Serialized composition
  
    // Embedded assets
    assets: TemplateAsset[];
```

---

#### Pattern: `: any` at line 361:19

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  ): ExpressionControl {
    const id = `ctrl_${Date.now()}_${Math.random().toString(36).slice(2, 11)}`;
  
> let defaultValue: any;
    let config: ExpressionControlConfig = {};
  
    switch (type) {
```

---

### `utils/logger.ts` (6 pattern(s))

#### Pattern: `: any` at line 93:35

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
   */
  export function createLogger(context: string) {
    return {
> debug(message: string, ...args: any[]): void {
        if (shouldLog("debug")) {
          console.log(formatMessage("DEBUG", context, message), ...args);
        }
```

---

#### Pattern: `: any` at line 99:34

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
        }
      },
  
> info(message: string, ...args: any[]): void {
        if (shouldLog("info")) {
          console.info(formatMessage("INFO", context, message), ...args);
        }
```

---

#### Pattern: `: any` at line 105:34

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
        }
      },
  
> warn(message: string, ...args: any[]): void {
        if (shouldLog("warn")) {
          console.warn(formatMessage("WARN", context, message), ...args);
        }
```

---

#### Pattern: `: any` at line 111:35

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
        }
      },
  
> error(message: string, ...args: any[]): void {
        if (shouldLog("error")) {
          console.error(formatMessage("ERROR", context, message), ...args);
        }
```

---

#### Pattern: `: any` at line 120:50

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
      /**
       * Log with a specific level
       */
> log(level: LogLevel, message: string, ...args: any[]): void {
        switch (level) {
          case "debug":
            this.debug(message, ...args);
```

---

#### Pattern: `: any` at line 155:15

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
      /**
       * Log a table (useful for arrays/objects)
       */
> table(data: any): void {
        if (shouldLog("debug")) {
          console.log(formatMessage("", context, "Table:"));
          console.table(data);
```

---

### `workers/expressionWorker.ts` (3 pattern(s))

#### Pattern: `: any` at line 14:16

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  
  // Worker-side SES initialization
  let sesReady = false;
> let Compartment: any = null;
  let harden: any = null;
  
  async function initSES(): Promise<boolean> {
```

---

#### Pattern: `: any` at line 15:11

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type annotation
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  // Worker-side SES initialization
  let sesReady = false;
  let Compartment: any = null;
> let harden: any = null;
  
  async function initSES(): Promise<boolean> {
    if (sesReady) return true;
```

---

#### Pattern: `as any` at line 22:26

- **Category:** Type Escape
- **Severity:** CRITICAL
- **Suggestion:** Replace with proper type assertion or fix underlying type issue
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
  
    try {
      await import("ses");
> const g = globalThis as any;
  
      if (!g.lockdown) {
        return false;
```

---

## ğŸŸ  HIGH Priority (115 patterns)

### `composables/useKeyboardShortcuts.ts` (18 pattern(s))

#### Pattern: `as unknown` at line 839:31

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
        const layer = layerStore.getLayerById(store, id);
        if (!layer) continue;
  
> const data = layer.data as unknown as LayerDataWithDimensions;
        const layerW = data?.width || compW;
        const layerH = data?.height || compH;
  
```

---

#### Pattern: `as unknown as` at line 839:31

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
        const layer = layerStore.getLayerById(store, id);
        if (!layer) continue;
  
> const data = layer.data as unknown as LayerDataWithDimensions;
        const layerW = data?.width || compW;
        const layerH = data?.height || compH;
  
```

---

#### Pattern: `as unknown` at line 870:31

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
        const layer = layerStore.getLayerById(store, id);
        if (!layer) continue;
  
> const data = layer.data as unknown as LayerDataWithDimensions;
        const layerW = data?.width || compW;
  
        const scale = compW / layerW;
```

---

#### Pattern: `as unknown as` at line 870:31

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
        const layer = layerStore.getLayerById(store, id);
        if (!layer) continue;
  
> const data = layer.data as unknown as LayerDataWithDimensions;
        const layerW = data?.width || compW;
  
        const scale = compW / layerW;
```

---

#### Pattern: `as unknown` at line 893:31

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
        const layer = layerStore.getLayerById(store, id);
        if (!layer) continue;
  
> const data = layer.data as unknown as LayerDataWithDimensions;
        const layerH = data?.height || compH;
  
        const scale = compH / layerH;
```

---

#### Pattern: `as unknown as` at line 893:31

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
        const layer = layerStore.getLayerById(store, id);
        if (!layer) continue;
  
> const data = layer.data as unknown as LayerDataWithDimensions;
        const layerH = data?.height || compH;
  
        const scale = compH / layerH;
```

---

#### Pattern: `as unknown` at line 932:31

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
        const layer = layerStore.getLayerById(store, id);
        if (!layer) continue;
  
> const data = layer.data as unknown as LayerDataWithDimensions;
        const layerW = data?.width || compWidth.value;
        const layerH = data?.height || compHeight.value;
  
```

---

#### Pattern: `as unknown as` at line 932:31

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
        const layer = layerStore.getLayerById(store, id);
        if (!layer) continue;
  
> const data = layer.data as unknown as LayerDataWithDimensions;
        const layerW = data?.width || compWidth.value;
        const layerH = data?.height || compHeight.value;
  
```

---

#### Pattern: `as unknown` at line 1015:29

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
      const layer = layerStore.getLayerById(store, selectedIds[0]);
      if (!layer) return;
  
> const data = layer.data as unknown as LayerDataWithDimensions;
      let assetId: string | null = null;
  
      if (data?.assetId) {
```

---

#### Pattern: `as unknown as` at line 1015:29

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
      const layer = layerStore.getLayerById(store, selectedIds[0]);
      if (!layer) return;
  
> const data = layer.data as unknown as LayerDataWithDimensions;
      let assetId: string | null = null;
  
      if (data?.assetId) {
```

---

#### Pattern: `as unknown` at line 1067:31

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
          }
        }
  
> const data = layer.data as unknown as LayerDataWithDimensions;
        if (data) {
          const checkForKeyframes = (obj: unknown): void => {
            if (!obj || typeof obj !== "object" || obj === null) return;
```

---

#### Pattern: `as unknown as` at line 1067:31

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
          }
        }
  
> const data = layer.data as unknown as LayerDataWithDimensions;
        if (data) {
          const checkForKeyframes = (obj: unknown): void => {
            if (!obj || typeof obj !== "object" || obj === null) return;
```

---

#### Pattern: `as unknown` at line 1155:39

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
              const layerName = file.name.replace(/\.[^/.]+$/, "");
              const layer = layerStore.createLayer(store, "image", layerName);
              if (layer?.data) {
> const data = layer.data as unknown as Record<string, unknown>;
                data.src = url;
                data.width = img.width;
                data.height = img.height;
```

---

#### Pattern: `as unknown as` at line 1155:39

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
              const layerName = file.name.replace(/\.[^/.]+$/, "");
              const layer = layerStore.createLayer(store, "image", layerName);
              if (layer?.data) {
> const data = layer.data as unknown as Record<string, unknown>;
                data.src = url;
                data.width = img.width;
                data.height = img.height;
```

---

#### Pattern: `as unknown` at line 1169:46

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
            const layerName = file.name.replace(/\.[^/.]+$/, "");
            layerStore.createVideoLayer(store, file).then((result) => {
              if (result.status === "success" && result.layer?.data) {
> const data = result.layer.data as unknown as Record<string, unknown>;
                data.originalFilename = file.name;
              }
            });
```

---

#### Pattern: `as unknown as` at line 1169:46

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
            const layerName = file.name.replace(/\.[^/.]+$/, "");
            layerStore.createVideoLayer(store, file).then((result) => {
              if (result.status === "success" && result.layer?.data) {
> const data = result.layer.data as unknown as Record<string, unknown>;
                data.originalFilename = file.name;
              }
            });
```

---

#### Pattern: `as unknown` at line 1179:37

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
            const layerName = file.name.replace(/\.[^/.]+$/, "");
            const layer = layerStore.createLayer(store, "model", layerName);
            if (layer?.data) {
> const data = layer.data as unknown as Record<string, unknown>;
              data.src = url;
              data.format = ext;
              data.originalFilename = file.name;
```

---

#### Pattern: `as unknown as` at line 1179:37

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
            const layerName = file.name.replace(/\.[^/.]+$/, "");
            const layer = layerStore.createLayer(store, "model", layerName);
            if (layer?.data) {
> const data = layer.data as unknown as Record<string, unknown>;
              data.src = url;
              data.format = ext;
              data.originalFilename = file.name;
```

---

### `engine/TransformControlsManager.ts` (4 pattern(s))

#### Pattern: `as unknown` at line 107:32

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
        // Ensure all gizmo objects have proper children arrays
        // (fixes multi-Three.js instance issues)
        this.ensureObjectChildren(
> this.transformControls as unknown as THREE.Object3D,
        );
  
        // Add to scene (TransformControls extends Object3D internally)
```

---

#### Pattern: `as unknown as` at line 107:32

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
        // Ensure all gizmo objects have proper children arrays
        // (fixes multi-Three.js instance issues)
        this.ensureObjectChildren(
> this.transformControls as unknown as THREE.Object3D,
        );
  
        // Add to scene (TransformControls extends Object3D internally)
```

---

#### Pattern: `as unknown` at line 112:32

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
  
        // Add to scene (TransformControls extends Object3D internally)
        this.deps.scene.addUIElement(
> this.transformControls as unknown as THREE.Object3D,
        );
      } catch (e) {
        console.error("[TransformControlsManager] Failed to initialize:", e);
```

---

#### Pattern: `as unknown as` at line 112:32

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
  
        // Add to scene (TransformControls extends Object3D internally)
        this.deps.scene.addUIElement(
> this.transformControls as unknown as THREE.Object3D,
        );
      } catch (e) {
        console.error("[TransformControlsManager] Failed to initialize:", e);
```

---

### `engine/core/LayerManager.ts` (6 pattern(s))

#### Pattern: `as unknown` at line 173:18

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
        ) {
          // Check if method exists before calling (SolidLayer doesn't have setRenderContext)
          if ("setRenderContext" in layer) {
> (layer as unknown as EffectLayer).setRenderContext(context);
          }
        }
      }
```

---

#### Pattern: `as unknown as` at line 173:18

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
        ) {
          // Check if method exists before calling (SolidLayer doesn't have setRenderContext)
          if ("setRenderContext" in layer) {
> (layer as unknown as EffectLayer).setRenderContext(context);
          }
        }
      }
```

---

#### Pattern: `as unknown` at line 380:16

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
        // The layer might be a solid or any other type with effect layer flag
        // Cast to access setRenderContext if available
        if ("setRenderContext" in layer) {
> (layer as unknown as EffectLayer).setRenderContext(
            this.effectLayerRenderContext,
          );
        }
```

---

#### Pattern: `as unknown as` at line 380:16

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
        // The layer might be a solid or any other type with effect layer flag
        // Cast to access setRenderContext if available
        if ("setRenderContext" in layer) {
> (layer as unknown as EffectLayer).setRenderContext(
            this.effectLayerRenderContext,
          );
        }
```

---

#### Pattern: `as unknown` at line 1291:13

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
      // Cast to access protected method via any type assertion
      // In production, BaseLayer would expose a public getRenderedCanvas() method
      const sourceCanvas = (
> layer as unknown as { getSourceCanvas(): HTMLCanvasElement | null }
      ).getSourceCanvas?.();
  
      if (sourceCanvas) {
```

---

#### Pattern: `as unknown as` at line 1291:13

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
      // Cast to access protected method via any type assertion
      // In production, BaseLayer would expose a public getRenderedCanvas() method
      const sourceCanvas = (
> layer as unknown as { getSourceCanvas(): HTMLCanvasElement | null }
      ).getSourceCanvas?.();
  
      if (sourceCanvas) {
```

---

### `engine/particles/ParticleAudioReactive.ts` (4 pattern(s))

#### Pattern: `as unknown` at line 158:20

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
        if (binding.target === "emitter") {
          const emitter = emitters.get(binding.targetId);
          if (emitter) {
> (emitter as unknown as Record<string, unknown>)[binding.parameter] =
              output;
          }
        } else if (binding.target === "forceField") {
```

---

#### Pattern: `as unknown as` at line 158:20

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
        if (binding.target === "emitter") {
          const emitter = emitters.get(binding.targetId);
          if (emitter) {
> (emitter as unknown as Record<string, unknown>)[binding.parameter] =
              output;
          }
        } else if (binding.target === "forceField") {
```

---

#### Pattern: `as unknown` at line 164:18

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
        } else if (binding.target === "forceField") {
          const field = forceFields.get(binding.targetId);
          if (field) {
> (field as unknown as Record<string, unknown>)[binding.parameter] =
              output;
          }
        }
```

---

#### Pattern: `as unknown as` at line 164:18

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
        } else if (binding.target === "forceField") {
          const field = forceFields.get(binding.targetId);
          if (field) {
> (field as unknown as Record<string, unknown>)[binding.parameter] =
              output;
          }
        }
```

---

### `engine/particles/ParticleGPUPhysics.ts` (2 pattern(s))

#### Pattern: `as unknown` at line 258:31

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
        // Create force field texture
        this.forceFieldBuffer = new Float32Array(MAX_FORCE_FIELDS * 16);
        this.forceFieldTexture = new THREE.DataTexture(
> this.forceFieldBuffer as unknown as BufferSource,
          MAX_FORCE_FIELDS,
          4,
          THREE.RGBAFormat,
```

---

#### Pattern: `as unknown as` at line 258:31

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
        // Create force field texture
        this.forceFieldBuffer = new Float32Array(MAX_FORCE_FIELDS * 16);
        this.forceFieldTexture = new THREE.DataTexture(
> this.forceFieldBuffer as unknown as BufferSource,
          MAX_FORCE_FIELDS,
          4,
          THREE.RGBAFormat,
```

---

### `services/effects/audioVisualizer.ts` (4 pattern(s))

#### Pattern: `as unknown` at line 508:16

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
      (input: EffectStackResult, params: EvaluatedEffectParams) => {
        return renderAudioSpectrum(
          input,
> params as unknown as AudioSpectrumParams,
          0,
        );
      },
```

---

#### Pattern: `as unknown as` at line 508:16

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
      (input: EffectStackResult, params: EvaluatedEffectParams) => {
        return renderAudioSpectrum(
          input,
> params as unknown as AudioSpectrumParams,
          0,
        );
      },
```

---

#### Pattern: `as unknown` at line 520:16

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
      (input: EffectStackResult, params: EvaluatedEffectParams) => {
        return renderAudioWaveform(
          input,
> params as unknown as AudioWaveformParams,
          0,
        );
      },
```

---

#### Pattern: `as unknown as` at line 520:16

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
      (input: EffectStackResult, params: EvaluatedEffectParams) => {
        return renderAudioWaveform(
          input,
> params as unknown as AudioWaveformParams,
          0,
        );
      },
```

---

### `services/export/backendDepthService.ts` (2 pattern(s))

#### Pattern: `as unknown` at line 305:26

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
    tempCanvas.height = canvas.height;
    const ctx = tempCanvas.getContext("2d");
    if (ctx) {
> ctx.drawImage(canvas as unknown as CanvasImageSource, 0, 0);
    }
    const dataUrl = tempCanvas.toDataURL("image/png");
    return dataUrl.replace(/^data:image\/png;base64,/, "");
```

---

#### Pattern: `as unknown as` at line 305:26

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
    tempCanvas.height = canvas.height;
    const ctx = tempCanvas.getContext("2d");
    if (ctx) {
> ctx.drawImage(canvas as unknown as CanvasImageSource, 0, 0);
    }
    const dataUrl = tempCanvas.toDataURL("image/png");
    return dataUrl.replace(/^data:image\/png;base64,/, "");
```

---

### `services/projectCollection.ts` (1 pattern(s))

#### Pattern: `as unknown` at line 301:34

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
        }
  
        // If asset has raw data (cast to unknown first for type compatibility)
> const rawData = asset.data as unknown;
        if (rawData instanceof Blob) {
          return rawData;
        }
```

---

### `stores/actions/layer/layerDefaults.ts` (32 pattern(s))

#### Pattern: `as unknown` at line 149:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
          lineJoin: "round",
          dashArray: "",
          dashOffset: 0,
> } as unknown as AnyLayerData;
  
      case "path":
        return {
```

---

#### Pattern: `as unknown as` at line 149:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
          lineJoin: "round",
          dashArray: "",
          dashOffset: 0,
> } as unknown as AnyLayerData;
  
      case "path":
        return {
```

---

#### Pattern: `as unknown` at line 215:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
          audioMappings: [],
          exportEnabled: false,
          exportFormat: "wan-move",
> } as unknown as AnyLayerData;
  
      case "depthflow":
        return {
```

---

#### Pattern: `as unknown as` at line 215:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
          audioMappings: [],
          exportEnabled: false,
          exportFormat: "wan-move",
> } as unknown as AnyLayerData;
  
      case "depthflow":
        return {
```

---

#### Pattern: `as unknown` at line 237:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
            edgeDilation: 0,
            inpaintEdges: false,
          },
> } as unknown as AnyLayerData;
  
      case "light":
        return {
```

---

#### Pattern: `as unknown as` at line 237:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
            edgeDilation: 0,
            inpaintEdges: false,
          },
> } as unknown as AnyLayerData;
  
      case "light":
        return {
```

---

#### Pattern: `as unknown` at line 250:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
          castShadows: false,
          shadowDarkness: 100,
          shadowDiffusion: 0,
> } as unknown as AnyLayerData;
  
      case "camera":
        return {
```

---

#### Pattern: `as unknown as` at line 250:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
          castShadows: false,
          shadowDarkness: 100,
          shadowDiffusion: 0,
> } as unknown as AnyLayerData;
  
      case "camera":
        return {
```

---

#### Pattern: `as unknown` at line 256:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
        return {
          cameraId: null,
          isActiveCamera: false,
> } as unknown as AnyLayerData;
  
      case "image":
        return {
```

---

#### Pattern: `as unknown as` at line 256:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
        return {
          cameraId: null,
          isActiveCamera: false,
> } as unknown as AnyLayerData;
  
      case "image":
        return {
```

---

#### Pattern: `as unknown` at line 262:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
        return {
          assetId: null,
          fit: "contain",
> } as unknown as AnyLayerData;
  
      case "video":
        return {
```

---

#### Pattern: `as unknown as` at line 262:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
        return {
          assetId: null,
          fit: "contain",
> } as unknown as AnyLayerData;
  
      case "video":
        return {
```

---

#### Pattern: `as unknown` at line 270:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
          loop: false,
          startTime: 0,
          speed: 1.0,
> } as unknown as AnyLayerData;
  
      case "shape": {
        const data = createDefaultShapeLayerData();
```

---

#### Pattern: `as unknown as` at line 270:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
          loop: false,
          startTime: 0,
          speed: 1.0,
> } as unknown as AnyLayerData;
  
      case "shape": {
        const data = createDefaultShapeLayerData();
```

---

#### Pattern: `as unknown` at line 292:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
          speedMapEnabled: false,
          timeRemap: null,
          timeRemapEnabled: false,
> } as unknown as AnyLayerData;
  
      case "matte":
        return {
```

---

#### Pattern: `as unknown as` at line 292:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
          speedMapEnabled: false,
          timeRemap: null,
          timeRemapEnabled: false,
> } as unknown as AnyLayerData;
  
      case "matte":
        return {
```

---

#### Pattern: `as unknown` at line 303:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
          expansion: 0,
          sourceLayerId: null,
          previewMode: "matte" as const,
> } as unknown as AnyLayerData;
  
      case "model":
        return {
```

---

#### Pattern: `as unknown as` at line 303:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
          expansion: 0,
          sourceLayerId: null,
          previewMode: "matte" as const,
> } as unknown as AnyLayerData;
  
      case "model":
        return {
```

---

#### Pattern: `as unknown` at line 390:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
          ),
          meshResolution: 128,
          wireframe: false,
> } as unknown as AnyLayerData;
  
      case "normal":
        return {
```

---

#### Pattern: `as unknown as` at line 390:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
          ),
          meshResolution: 128,
          wireframe: false,
> } as unknown as AnyLayerData;
  
      case "normal":
        return {
```

---

#### Pattern: `as unknown` at line 406:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
          lightDirection: { x: 0.5, y: 0.5, z: 1.0 },
          lightIntensity: 1.0,
          ambientIntensity: 0.2,
> } as unknown as AnyLayerData;
  
      case "audio":
        return {
```

---

#### Pattern: `as unknown as` at line 406:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
          lightDirection: { x: 0.5, y: 0.5, z: 1.0 },
          lightIntensity: 1.0,
          ambientIntensity: 0.2,
> } as unknown as AnyLayerData;
  
      case "audio":
        return {
```

---

#### Pattern: `as unknown` at line 421:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
          showWaveform: true,
          waveformColor: "#4a90d9",
          exposeFeatures: true,
> } as unknown as AnyLayerData;
  
      case "generated":
        return {
```

---

#### Pattern: `as unknown as` at line 421:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
          showWaveform: true,
          waveformColor: "#4a90d9",
          exposeFeatures: true,
> } as unknown as AnyLayerData;
  
      case "generated":
        return {
```

---

#### Pattern: `as unknown` at line 432:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
          generatedAssetId: null,
          status: "pending" as const,
          autoRegenerate: false,
> } as unknown as AnyLayerData;
  
      case "group":
        return {
```

---

#### Pattern: `as unknown as` at line 432:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
          generatedAssetId: null,
          status: "pending" as const,
          autoRegenerate: false,
> } as unknown as AnyLayerData;
  
      case "group":
        return {
```

---

#### Pattern: `as unknown` at line 440:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
          color: null,
          passThrough: true,
          isolate: false,
> } as unknown as AnyLayerData;
  
      case "particle":
        // Legacy particle layer (backwards compatibility)
```

---

#### Pattern: `as unknown as` at line 440:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
          color: null,
          passThrough: true,
          isolate: false,
> } as unknown as AnyLayerData;
  
      case "particle":
        // Legacy particle layer (backwards compatibility)
```

---

#### Pattern: `as unknown` at line 453:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
          gravity: -9.8,
          color: "#ffffff",
          size: 5,
> } as unknown as AnyLayerData;
  
      case "adjustment":
      case "effectLayer":
```

---

#### Pattern: `as unknown as` at line 453:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
          gravity: -9.8,
          color: "#ffffff",
          size: 5,
> } as unknown as AnyLayerData;
  
      case "adjustment":
      case "effectLayer":
```

---

#### Pattern: `as unknown` at line 461:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
          color: "#808080",
          effectLayer: true,
          adjustmentLayer: true,
> } as unknown as AnyLayerData;
  
      default:
        throw new Error(
```

---

#### Pattern: `as unknown as` at line 461:9

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
          color: "#808080",
          effectLayer: true,
          adjustmentLayer: true,
> } as unknown as AnyLayerData;
  
      default:
        throw new Error(
```

---

### `stores/assetStore.ts` (4 pattern(s))

#### Pattern: `as unknown` at line 372:24

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
        try {
          const url = URL.createObjectURL(file);
          // Dynamic property assignment for texture URL
> (stored.config as unknown as Record<string, string>)[textureType] = url;
          stored.modifiedAt = Date.now();
          this.materials.set(materialId, stored);
        } catch (error) {
```

---

#### Pattern: `as unknown as` at line 372:24

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
        try {
          const url = URL.createObjectURL(file);
          // Dynamic property assignment for texture URL
> (stored.config as unknown as Record<string, string>)[textureType] = url;
          stored.modifiedAt = Date.now();
          this.materials.set(materialId, stored);
        } catch (error) {
```

---

#### Pattern: `as unknown` at line 982:40

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
        for (const stored of this.materials.values()) {
          for (const key of Object.keys(stored.config)) {
            // Dynamic property access for cleanup
> const value = (stored.config as unknown as Record<string, unknown>)[key];
            if (typeof value === "string" && value.startsWith("blob:")) {
              URL.revokeObjectURL(value);
            }
```

---

#### Pattern: `as unknown as` at line 982:40

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
        for (const stored of this.materials.values()) {
          for (const key of Object.keys(stored.config)) {
            // Dynamic property access for cleanup
> const value = (stored.config as unknown as Record<string, unknown>)[key];
            if (typeof value === "string" && value.startsWith("blob:")) {
              URL.revokeObjectURL(value);
            }
```

---

### `stores/cameraStore.ts` (2 pattern(s))

#### Pattern: `as unknown` at line 153:15

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
        const layerStore = useLayerStore();
        // Type assertion: compositorStore passed at runtime implements required interface
        layerStore.selectLayer(
> store as unknown as Parameters<typeof layerStore.selectLayer>[0],
          layerId
        );
  
```

---

#### Pattern: `as unknown as` at line 153:15

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
        const layerStore = useLayerStore();
        // Type assertion: compositorStore passed at runtime implements required interface
        layerStore.selectLayer(
> store as unknown as Parameters<typeof layerStore.selectLayer>[0],
          layerId
        );
  
```

---

### `stores/layerStore/crud.ts` (8 pattern(s))

#### Pattern: `as unknown` at line 64:34

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
  
    // Spline layer properties for timeline
    if (type === "spline") {
> const splineData = layerData as unknown as {
        strokeWidth?: number;
        strokeOpacity?: number;
      };
```

---

#### Pattern: `as unknown as` at line 64:34

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
  
    // Spline layer properties for timeline
    if (type === "spline") {
> const splineData = layerData as unknown as {
        strokeWidth?: number;
        strokeOpacity?: number;
      };
```

---

#### Pattern: `as unknown` at line 178:19

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
      if (
        layer.type === "text" &&
        layer.data &&
> (layer.data as unknown as Record<string, unknown>).pathLayerId === layerId
      ) {
        (layer.data as unknown as Record<string, unknown>).pathLayerId = null;
      }
```

---

#### Pattern: `as unknown as` at line 178:19

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
      if (
        layer.type === "text" &&
        layer.data &&
> (layer.data as unknown as Record<string, unknown>).pathLayerId === layerId
      ) {
        (layer.data as unknown as Record<string, unknown>).pathLayerId = null;
      }
```

---

#### Pattern: `as unknown` at line 180:19

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
        layer.data &&
        (layer.data as unknown as Record<string, unknown>).pathLayerId === layerId
      ) {
> (layer.data as unknown as Record<string, unknown>).pathLayerId = null;
      }
    }
  
```

---

#### Pattern: `as unknown as` at line 180:19

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
        layer.data &&
        (layer.data as unknown as Record<string, unknown>).pathLayerId === layerId
      ) {
> (layer.data as unknown as Record<string, unknown>).pathLayerId = null;
      }
    }
  
```

---

#### Pattern: `as unknown` at line 275:45

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
    type TransformProp = AnimatableProperty<PropertyValue> | undefined;
  
    if (layer.transform) {
> const transformRecord = layer.transform as unknown as Record<
        string,
        TransformProp
      >;
```

---

#### Pattern: `as unknown as` at line 275:45

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
    type TransformProp = AnimatableProperty<PropertyValue> | undefined;
  
    if (layer.transform) {
> const transformRecord = layer.transform as unknown as Record<
        string,
        TransformProp
      >;
```

---

### `stores/layerStore/specialized.ts` (2 pattern(s))

#### Pattern: `as unknown` at line 376:21

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
    // Delegate to videoStore which handles metadata extraction and asset creation
    // Type assertion: compositorStore implements required interface at runtime
    return videoStore.createVideoLayer(
> compositorStore as unknown as Parameters<typeof videoStore.createVideoLayer>[0],
      file,
      autoResizeComposition
    );
```

---

#### Pattern: `as unknown as` at line 376:21

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
    // Delegate to videoStore which handles metadata extraction and asset creation
    // Type assertion: compositorStore implements required interface at runtime
    return videoStore.createVideoLayer(
> compositorStore as unknown as Parameters<typeof videoStore.createVideoLayer>[0],
      file,
      autoResizeComposition
    );
```

---

### `stores/physicsStore.ts` (8 pattern(s))

#### Pattern: `as unknown` at line 240:39

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
        const layer = store.getLayerById(layerId);
        if (!layer) return;
  
> const physicsData = (layer.data as unknown as Record<string, unknown>)?.physics as
          | PhysicsLayerData
          | undefined;
        if (!physicsData?.physicsEnabled || !physicsData.rigidBody) return;
```

---

#### Pattern: `as unknown as` at line 240:39

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
        const layer = store.getLayerById(layerId);
        if (!layer) return;
  
> const physicsData = (layer.data as unknown as Record<string, unknown>)?.physics as
          | PhysicsLayerData
          | undefined;
        if (!physicsData?.physicsEnabled || !physicsData.rigidBody) return;
```

---

#### Pattern: `as unknown` at line 371:41

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
        if (!comp) return;
  
        for (const layer of comp.layers) {
> const physicsData = (layer.data as unknown as Record<string, unknown>)?.physics as
            | PhysicsLayerData
            | undefined;
          if (physicsData?.physicsEnabled && physicsData.rigidBody) {
```

---

#### Pattern: `as unknown as` at line 371:41

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
        if (!comp) return;
  
        for (const layer of comp.layers) {
> const physicsData = (layer.data as unknown as Record<string, unknown>)?.physics as
            | PhysicsLayerData
            | undefined;
          if (physicsData?.physicsEnabled && physicsData.rigidBody) {
```

---

#### Pattern: `as unknown` at line 400:41

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
        if (!comp) return;
  
        for (const layer of comp.layers) {
> const physicsData = (layer.data as unknown as Record<string, unknown>)?.physics as
            | PhysicsLayerData
            | undefined;
          if (!physicsData?.physicsEnabled) continue;
```

---

#### Pattern: `as unknown as` at line 400:41

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
        if (!comp) return;
  
        for (const layer of comp.layers) {
> const physicsData = (layer.data as unknown as Record<string, unknown>)?.physics as
            | PhysicsLayerData
            | undefined;
          if (!physicsData?.physicsEnabled) continue;
```

---

#### Pattern: `as unknown` at line 515:41

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
        const results: BakeResult[] = [];
  
        for (const layer of comp.layers) {
> const physicsData = (layer.data as unknown as Record<string, unknown>)?.physics as
            | PhysicsLayerData
            | undefined;
          if (physicsData?.physicsEnabled) {
```

---

#### Pattern: `as unknown as` at line 515:41

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
        const results: BakeResult[] = [];
  
        for (const layer of comp.layers) {
> const physicsData = (layer.data as unknown as Record<string, unknown>)?.physics as
            | PhysicsLayerData
            | undefined;
          if (physicsData?.physicsEnabled) {
```

---

### `stores/projectStore.ts` (16 pattern(s))

#### Pattern: `as unknown` at line 214:26

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
  // ============================================================================
  
  function invalidateParticleCaches(): void {
> const engine = (window as unknown as {
      __latticeEngine?: { getLayers?: () => Array<{ clearCache?: () => void }> };
    }).__latticeEngine;
    if (!engine) return;
```

---

#### Pattern: `as unknown as` at line 214:26

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
  // ============================================================================
  
  function invalidateParticleCaches(): void {
> const engine = (window as unknown as {
      __latticeEngine?: { getLayers?: () => Array<{ clearCache?: () => void }> };
    }).__latticeEngine;
    if (!engine) return;
```

---

#### Pattern: `as unknown` at line 241:33

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
    for (const comp of Object.values(store.project.compositions)) {
      for (const layer of comp.layers) {
        if (layer.data && typeof layer.data === "object") {
> const data = layer.data as unknown as Record<string, unknown>;
  
          if (data.assetId && typeof data.assetId === "string") usedIds.add(data.assetId);
          if (data.sourceAssetId && typeof data.sourceAssetId === "string") usedIds.add(data.sourceAssetId);
```

---

#### Pattern: `as unknown as` at line 241:33

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
    for (const comp of Object.values(store.project.compositions)) {
      for (const layer of comp.layers) {
        if (layer.data && typeof layer.data === "object") {
> const data = layer.data as unknown as Record<string, unknown>;
  
          if (data.assetId && typeof data.assetId === "string") usedIds.add(data.assetId);
          if (data.sourceAssetId && typeof data.sourceAssetId === "string") usedIds.add(data.sourceAssetId);
```

---

#### Pattern: `as unknown` at line 482:39

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
          let project = parseResult.data;
  
          if (needsMigration(project)) {
> const oldVersion = (project as unknown as { schemaVersion?: number }).schemaVersion ?? 1;
            storeLogger.info(`Migrating project from schema v${oldVersion} to v${CURRENT_SCHEMA_VERSION}`);
            const migrationResult = migrateProject(project);
            if (migrationResult.success && migrationResult.project) {
```

---

#### Pattern: `as unknown as` at line 482:39

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
          let project = parseResult.data;
  
          if (needsMigration(project)) {
> const oldVersion = (project as unknown as { schemaVersion?: number }).schemaVersion ?? 1;
            storeLogger.info(`Migrating project from schema v${oldVersion} to v${CURRENT_SCHEMA_VERSION}`);
            const migrationResult = migrateProject(project);
            if (migrationResult.success && migrationResult.project) {
```

---

#### Pattern: `as unknown` at line 500:41

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
            return false;
          }
  
> const projectWithSnap = project as unknown as Record<string, unknown>;
          const animationStore = useAnimationStore();
          if (projectWithSnap.snapConfig) {
            try {
```

---

#### Pattern: `as unknown as` at line 500:41

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
            return false;
          }
  
> const projectWithSnap = project as unknown as Record<string, unknown>;
          const animationStore = useAnimationStore();
          if (projectWithSnap.snapConfig) {
            try {
```

---

#### Pattern: `as unknown` at line 511:50

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
          }
  
          const { snapConfig: _, ...projectWithoutSnapConfig } = projectWithSnap;
> store.project = projectWithoutSnapConfig as unknown as LatticeProject;
          pushHistoryFn();
          return true;
        } catch (err) {
```

---

#### Pattern: `as unknown as` at line 511:50

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
          }
  
          const { snapConfig: _, ...projectWithoutSnapConfig } = projectWithSnap;
> store.project = projectWithoutSnapConfig as unknown as LatticeProject;
          pushHistoryFn();
          return true;
        } catch (err) {
```

---

#### Pattern: `as unknown` at line 589:41

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
            let project = result.project;
  
            if (needsMigration(project)) {
> const oldVersion = (project as unknown as { schemaVersion?: number }).schemaVersion ?? 1;
              storeLogger.info(`Migrating project from schema v${oldVersion} to v${CURRENT_SCHEMA_VERSION}`);
              const migrationResult = migrateProject(project);
              if (migrationResult.success && migrationResult.project) {
```

---

#### Pattern: `as unknown as` at line 589:41

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
            let project = result.project;
  
            if (needsMigration(project)) {
> const oldVersion = (project as unknown as { schemaVersion?: number }).schemaVersion ?? 1;
              storeLogger.info(`Migrating project from schema v${oldVersion} to v${CURRENT_SCHEMA_VERSION}`);
              const migrationResult = migrateProject(project);
              if (migrationResult.success && migrationResult.project) {
```

---

#### Pattern: `as unknown` at line 796:27

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
        }
  
        const exportProject = structuredClone(toRaw(store.project));
> (exportProject.meta as unknown as Record<string, unknown>).exportedAt = new Date().toISOString();
        (exportProject as unknown as Record<string, unknown>)._assetManifest = assetManifest;
  
        folder.file("project.lattice.json", JSON.stringify(exportProject, null, 2));
```

---

#### Pattern: `as unknown as` at line 796:27

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
        }
  
        const exportProject = structuredClone(toRaw(store.project));
> (exportProject.meta as unknown as Record<string, unknown>).exportedAt = new Date().toISOString();
        (exportProject as unknown as Record<string, unknown>)._assetManifest = assetManifest;
  
        folder.file("project.lattice.json", JSON.stringify(exportProject, null, 2));
```

---

#### Pattern: `as unknown` at line 797:22

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
  
        const exportProject = structuredClone(toRaw(store.project));
        (exportProject.meta as unknown as Record<string, unknown>).exportedAt = new Date().toISOString();
> (exportProject as unknown as Record<string, unknown>)._assetManifest = assetManifest;
  
        folder.file("project.lattice.json", JSON.stringify(exportProject, null, 2));
  
```

---

#### Pattern: `as unknown as` at line 797:22

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
  
        const exportProject = structuredClone(toRaw(store.project));
        (exportProject.meta as unknown as Record<string, unknown>).exportedAt = new Date().toISOString();
> (exportProject as unknown as Record<string, unknown>)._assetManifest = assetManifest;
  
        folder.file("project.lattice.json", JSON.stringify(exportProject, null, 2));
  
```

---

### `stores/segmentationStore.ts` (2 pattern(s))

#### Pattern: `as unknown` at line 110:17

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Consider if proper type narrowing is possible

**Code:**
```typescript
          const layerStore = useLayerStore();
          // Type assertion: compositorStore passed at runtime implements required interface
          const layer = layerStore.createLayer(
> store as unknown as Parameters<typeof layerStore.createLayer>[0],
            "image",
            name || "Segmented"
          );
```

---

#### Pattern: `as unknown as` at line 110:17

- **Category:** Type Escape
- **Severity:** HIGH
- **Suggestion:** Review if type definitions can be improved

**Code:**
```typescript
          const layerStore = useLayerStore();
          // Type assertion: compositorStore passed at runtime implements required interface
          const layer = layerStore.createLayer(
> store as unknown as Parameters<typeof layerStore.createLayer>[0],
            "image",
            name || "Segmented"
          );
```

---

## ğŸŸ¡ MEDIUM Priority (929 patterns)

### `composables/useAssetHandlers.ts` (2 pattern(s))

#### Pattern: `|| 0` at line 65:32

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
              ...layer.transform.position,
              value: {
                ...layer.transform.position.value,
> z: config?.depth || 0,
              },
            },
          },
```

---

#### Pattern: `|| []` at line 105:52

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
      // Now TypeScript knows layer.data is ParticleLayerData
      const particleData: ParticleLayerData = layer.data;
> const existingEmitters = particleData.emitters || [];
  
      // Update first emitter with mesh shape, or create new one
      const updatedEmitters = existingEmitters.length > 0
```

---

### `composables/useCanvasSelection.ts` (1 pattern(s))

#### Pattern: `|| []` at line 200:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      selectedIds: string[],
      mode: SelectionMode,
    ): string[] {
> const current = currentSelection?.value || [];
  
      switch (mode) {
        case "replace":
```

---

### `composables/useCurveEditorCoords.ts` (2 pattern(s))

#### Pattern: `?? 0` at line 131:71

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
   */
  export function getNumericValue(value: any): number {
    if (typeof value === "number") return value;
> if (typeof value === "object") return value.x ?? value.y ?? value.z ?? 0;
    return 0;
  }
  
```

---

#### Pattern: `?? 0` at line 148:18

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    return typeof value === "number"
      ? value
      : typeof value === "object"
> ? (value.x ?? 0)
        : 0;
  }
  
```

---

### `composables/useCurveEditorDraw.ts` (4 pattern(s))

#### Pattern: `?? 0` at line 192:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        } else {
          // Bezier curve using absolute handle offsets
          const cp1x = frameToScreenX(
> kf1.frame + (kf1.outHandle?.frame ?? 0),
            viewState,
            canvasWidth,
            margin,
```

---

#### Pattern: `?? 0` at line 198:62

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            margin,
          );
          const cp1y = valueToScreenY(
> getNumericValue(kf1.value) + (kf1.outHandle?.value ?? 0),
            viewState,
            canvasHeight,
            margin,
```

---

#### Pattern: `?? 0` at line 204:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            margin,
          );
          const cp2x = frameToScreenX(
> kf2.frame + (kf2.inHandle?.frame ?? 0),
            viewState,
            canvasWidth,
            margin,
```

---

#### Pattern: `?? 0` at line 210:61

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            margin,
          );
          const cp2y = valueToScreenY(
> getNumericValue(kf2.value) + (kf2.inHandle?.value ?? 0),
            viewState,
            canvasHeight,
            margin,
```

---

### `composables/useCurveEditorInteraction.ts` (4 pattern(s))

#### Pattern: `?? 0` at line 159:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      if (!dragTarget.value) return;
  
      if (dragTarget.value.type === "pan") {
> const dx = x - (dragTarget.value.startX ?? 0);
        const dy = y - (dragTarget.value.startY ?? 0);
  
        const graphWidth = canvasWidth.value - margin.left - margin.right;
```

---

#### Pattern: `?? 0` at line 160:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
      if (dragTarget.value.type === "pan") {
        const dx = x - (dragTarget.value.startX ?? 0);
> const dy = y - (dragTarget.value.startY ?? 0);
  
        const graphWidth = canvasWidth.value - margin.left - margin.right;
        const graphHeight = canvasHeight.value - margin.top - margin.bottom;
```

---

#### Pattern: `?? 0` at line 179:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        dragTarget.value.startY = y;
        drawGraph();
      } else if (dragTarget.value.type === "select" && selectionBox.value) {
> const startX = dragTarget.value.startX ?? 0;
        const startY = dragTarget.value.startY ?? 0;
  
        selectionBox.value = {
```

---

#### Pattern: `?? 0` at line 180:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        drawGraph();
      } else if (dragTarget.value.type === "select" && selectionBox.value) {
        const startX = dragTarget.value.startX ?? 0;
> const startY = dragTarget.value.startY ?? 0;
  
        selectionBox.value = {
          x: Math.min(x, startX),
```

---

### `composables/useCurveEditorView.ts` (8 pattern(s))

#### Pattern: `Infinity literal` at line 59:18

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
  ): void {
    if (visibleProperties.length === 0) return;
  
> let minFrame = Infinity;
    let maxFrame = -Infinity;
    let minValue = Infinity;
    let maxValue = -Infinity;
```

---

#### Pattern: `Infinity literal` at line 60:19

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    if (visibleProperties.length === 0) return;
  
    let minFrame = Infinity;
> let maxFrame = -Infinity;
    let minValue = Infinity;
    let maxValue = -Infinity;
  
```

---

#### Pattern: `Infinity literal` at line 61:18

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
  
    let minFrame = Infinity;
    let maxFrame = -Infinity;
> let minValue = Infinity;
    let maxValue = -Infinity;
  
    for (const prop of visibleProperties) {
```

---

#### Pattern: `Infinity literal` at line 62:19

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    let minFrame = Infinity;
    let maxFrame = -Infinity;
    let minValue = Infinity;
> let maxValue = -Infinity;
  
    for (const prop of visibleProperties) {
      for (const kf of prop.keyframes) {
```

---

#### Pattern: `Infinity literal` at line 97:18

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
      return;
    }
  
> let minFrame = Infinity;
    let maxFrame = -Infinity;
    let minValue = Infinity;
    let maxValue = -Infinity;
```

---

#### Pattern: `Infinity literal` at line 98:19

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    }
  
    let minFrame = Infinity;
> let maxFrame = -Infinity;
    let minValue = Infinity;
    let maxValue = -Infinity;
  
```

---

#### Pattern: `Infinity literal` at line 99:18

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
  
    let minFrame = Infinity;
    let maxFrame = -Infinity;
> let minValue = Infinity;
    let maxValue = -Infinity;
  
    for (const sk of selectedKeyframes) {
```

---

#### Pattern: `Infinity literal` at line 100:19

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    let minFrame = Infinity;
    let maxFrame = -Infinity;
    let minValue = Infinity;
> let maxValue = -Infinity;
  
    for (const sk of selectedKeyframes) {
      minFrame = Math.min(minFrame, sk.keyframe.frame);
```

---

### `composables/useKeyboardShortcuts.ts` (12 pattern(s))

#### Pattern: `Infinity literal` at line 339:21

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
      const selectedIds = store.selectedLayerIds;
      if (selectedIds.length === 0) return;
  
> let nextFrame = Infinity;
      const currentFrame = animationStore.getCurrentFrame(store);
  
      for (const layerId of selectedIds) {
```

---

#### Pattern: `Infinity literal` at line 360:21

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
        }
      }
  
> if (nextFrame < Infinity) {
        animationStore.setFrame(store, nextFrame);
      }
    }
```

---

#### Pattern: `?? 0` at line 548:52

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      if (selectedIds.length === 0) return;
      const layer = layerStore.getLayerById(store, selectedIds[0]);
      if (layer) {
> animationStore.setFrame(store, layer.inPoint ?? 0);
      }
    }
  
```

---

#### Pattern: `?? 0` at line 583:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      for (const id of selectedIds) {
        const layer = layerStore.getLayerById(store, id);
        if (layer) {
> const currentIn = layer.inPoint ?? 0;
          const currentFrame = animationStore.getCurrentFrame(store);
          if (currentFrame > currentIn) {
            layerStore.updateLayer(store, id, { inPoint: currentFrame });
```

---

#### Pattern: `?? 0` at line 666:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        if (!layer) continue;
  
        const currentFrame = animationStore.getCurrentFrame(store);
> const inPoint = layer.inPoint ?? 0;
        const outPoint = layer.outPoint ?? projectStore.getFrameCount(store);
  
        if (currentFrame > inPoint && currentFrame < outPoint) {
```

---

#### Pattern: `|| 0` at line 945:50

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          transform.anchorPoint?.value ?? { x: 0, y: 0, z: 0 };
        const currentPos = transform.position?.value ?? { x: 0, y: 0, z: 0 };
  
> const offsetX = centerX - (currentAnchor.x || 0);
        const offsetY = centerY - (currentAnchor.y || 0);
  
        layerStore.updateLayerTransform(store, id, {
```

---

#### Pattern: `|| 0` at line 946:50

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        const currentPos = transform.position?.value ?? { x: 0, y: 0, z: 0 };
  
        const offsetX = centerX - (currentAnchor.x || 0);
> const offsetY = centerY - (currentAnchor.y || 0);
  
        layerStore.updateLayerTransform(store, id, {
          anchor: { x: centerX, y: centerY, z: currentAnchor.z || 0 },
```

---

#### Pattern: `|| 0` at line 949:62

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing
- **Type Info:** Object type detected

**Code:**
```typescript
        const offsetY = centerY - (currentAnchor.y || 0);
  
        layerStore.updateLayerTransform(store, id, {
> anchor: { x: centerX, y: centerY, z: currentAnchor.z || 0 },
          position: {
            x: (currentPos.x || 0) + offsetX,
            y: (currentPos.y || 0) + offsetY,
```

---

#### Pattern: `|| 0` at line 951:28

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        layerStore.updateLayerTransform(store, id, {
          anchor: { x: centerX, y: centerY, z: currentAnchor.z || 0 },
          position: {
> x: (currentPos.x || 0) + offsetX,
            y: (currentPos.y || 0) + offsetY,
            z: currentPos.z || 0,
          },
```

---

#### Pattern: `|| 0` at line 952:28

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          anchor: { x: centerX, y: centerY, z: currentAnchor.z || 0 },
          position: {
            x: (currentPos.x || 0) + offsetX,
> y: (currentPos.y || 0) + offsetY,
            z: currentPos.z || 0,
          },
        });
```

---

#### Pattern: `|| 0` at line 953:27

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          position: {
            x: (currentPos.x || 0) + offsetX,
            y: (currentPos.y || 0) + offsetY,
> z: currentPos.z || 0,
          },
        });
      }
```

---

#### Pattern: `|| 0` at line 979:61

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing
- **Type Info:** Object type detected

**Code:**
```typescript
        const currentPos = transform.position?.value ?? { x: 0, y: 0, z: 0 };
  
        layerStore.updateLayerTransform(store, id, {
> position: { x: centerX, y: centerY, z: currentPos.z || 0 },
        });
      }
  
```

---

### `composables/useShapeDrawing.ts` (1 pattern(s))

#### Pattern: `|| 0` at line 150:52

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
        case "star": {
          const numPoints = options.starPoints || 5;
> const innerRatio = options.starInnerRadius || 0.5;
          const cx = width / 2;
          const cy = height / 2;
          const outerR = Math.min(width, height) / 2;
```

---

### `composables/useSplineInteraction.ts` (4 pattern(s))

#### Pattern: `?? 0` at line 453:69

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
          const prevPointIndex = newPointIndex - 1;
  
          const layerPos = inverseTransformPoint(pos);
> const rawNewPointX = (newPoint as any)?.rawX ?? newPoint?.x ?? 0;
          const rawNewPointY = (newPoint as any)?.rawY ?? newPoint?.y ?? 0;
  
          if (newPoint && prevPointIndex >= 0) {
```

---

#### Pattern: `?? 0` at line 454:69

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
  
          const layerPos = inverseTransformPoint(pos);
          const rawNewPointX = (newPoint as any)?.rawX ?? newPoint?.x ?? 0;
> const rawNewPointY = (newPoint as any)?.rawY ?? newPoint?.y ?? 0;
  
          if (newPoint && prevPointIndex >= 0) {
            const prevPoint = points[prevPointIndex];
```

---

#### Pattern: `?? 0` at line 561:40

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          const depthScale = 2;
          const newDepth = Math.max(
            0,
> (dragTarget.value.startDepth ?? 0) - screenDy * depthScale,
          );
  
          options.layerStore.updateSplineControlPoint(options.store, layerId.value, point.id, {
```

---

#### Pattern: `?? 0` at line 834:40

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
        pointId,
        startX: event.clientX,
        startY: event.clientY,
> startDepth: (point as any).depth ?? 0,
        screenStartX: event.clientX,
        screenStartY: event.clientY,
      };
```

---

### `engine/MotionEngine.ts` (10 pattern(s))

#### Pattern: `?? 0` at line 312:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        layerStates: comp.layers.map((l) => ({
          id: l.id,
          visible: l.visible,
> startFrame: l.startFrame ?? l.inPoint ?? 0,
          endFrame: l.endFrame ?? l.outPoint ?? 80,
          kfCount: l.properties.reduce(
            (sum, p) => sum + (p.keyframes?.length || 0),
```

---

#### Pattern: `|| 0` at line 315:50

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          startFrame: l.startFrame ?? l.inPoint ?? 0,
          endFrame: l.endFrame ?? l.outPoint ?? 80,
          kfCount: l.properties.reduce(
> (sum, p) => sum + (p.keyframes?.length || 0),
            0,
          ),
        })),
```

---

#### Pattern: `?? 0` at line 654:53

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
     * Check if a layer is visible at a given frame
     */
    isLayerVisibleAtFrame(layer: Layer, frame: number): boolean {
> const start = layer.startFrame ?? layer.inPoint ?? 0;
      const end = layer.endFrame ?? layer.outPoint ?? 80;
      return layer.visible && frame >= start && frame <= end;
    }
```

---

#### Pattern: `?? 0` at line 673:55

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      const evaluated: EvaluatedLayer[] = [];
  
      for (const layer of layers) {
> const start = layer.startFrame ?? layer.inPoint ?? 0;
        const end = layer.endFrame ?? layer.outPoint ?? 80;
        const inRange = frame >= start && frame <= end;
        const visible = layer.visible && inRange;
```

---

#### Pattern: `?? 0` at line 1048:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          (l) =>
            l.type === "camera" &&
            l.visible &&
> frame >= (l.startFrame ?? l.inPoint ?? 0) &&
            frame <= (l.endFrame ?? l.outPoint ?? 80),
        );
      }
```

---

#### Pattern: `?? 0` at line 1086:49

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          fps,
          cameraLayer.id,
        );
> position = { x: pos.x, y: pos.y, z: pos.z ?? 0 };
      }
  
      if (cameraData.animatedTarget) {
```

---

#### Pattern: `?? 0` at line 1096:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          fps,
          cameraLayer.id,
        );
> target = { x: tgt.x, y: tgt.y, z: tgt.z ?? 0 };
      }
  
      if (cameraData.animatedFov) {
```

---

#### Pattern: `?? 0` at line 1362:55

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
      for (const layer of layers) {
        if (layer.type !== "particles" || !layer.visible) continue;
> const start = layer.startFrame ?? layer.inPoint ?? 0;
        const end = layer.endFrame ?? layer.outPoint ?? 80;
        if (frame < start || frame > end) continue;
  
```

---

#### Pattern: `?? []` at line 1404:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
        respectMaskBoundary: sys.respectMaskBoundary,
        boundaryBehavior: sys.boundaryBehavior,
        friction: sys.friction,
> turbulenceFields: sys.turbulenceFields ?? [],
        subEmitters: sys.subEmitters ?? [],
        collision: {
          enabled: false,
```

---

#### Pattern: `?? []` at line 1405:36

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
        boundaryBehavior: sys.boundaryBehavior,
        friction: sys.friction,
        turbulenceFields: sys.turbulenceFields ?? [],
> subEmitters: sys.subEmitters ?? [],
        collision: {
          enabled: false,
          particleCollision: false,
```

---

### `engine/TransformControlsManager.ts` (3 pattern(s))

#### Pattern: `?? 0` at line 144:67

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        // Get the layer to access anchor point
        const layer = this.deps.layers.getLayer(this.selectedLayerId);
        const layerData = layer?.getLayerData?.();
> const anchorX = layerData?.transform?.anchorPoint?.value?.x ?? 0;
        const anchorY = layerData?.transform?.anchorPoint?.value?.y ?? 0;
        const anchorZ = (layerData?.transform?.anchorPoint?.value as any)?.z ?? 0;
  
```

---

#### Pattern: `?? 0` at line 145:67

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const layer = this.deps.layers.getLayer(this.selectedLayerId);
        const layerData = layer?.getLayerData?.();
        const anchorX = layerData?.transform?.anchorPoint?.value?.x ?? 0;
> const anchorY = layerData?.transform?.anchorPoint?.value?.y ?? 0;
        const anchorZ = (layerData?.transform?.anchorPoint?.value as any)?.z ?? 0;
  
        // Convert 3D position back to layer position by adding anchor point back
```

---

#### Pattern: `?? 0` at line 146:76

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
        const layerData = layer?.getLayerData?.();
        const anchorX = layerData?.transform?.anchorPoint?.value?.x ?? 0;
        const anchorY = layerData?.transform?.anchorPoint?.value?.y ?? 0;
> const anchorZ = (layerData?.transform?.anchorPoint?.value as any)?.z ?? 0;
  
        // Convert 3D position back to layer position by adding anchor point back
        // The 3D object position is offset by anchor point in applyTransform()
```

---

### `engine/animation/KeyframeEvaluator.ts` (5 pattern(s))

#### Pattern: `?? 0` at line 332:26

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      };
  
      if ("z" in from || "z" in to) {
> result.z = (from.z ?? 0) + ((to.z ?? 0) - (from.z ?? 0)) * t;
      }
  
      return result;
```

---

#### Pattern: `?? 0` at line 332:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      };
  
      if ("z" in from || "z" in to) {
> result.z = (from.z ?? 0) + ((to.z ?? 0) - (from.z ?? 0)) * t;
      }
  
      return result;
```

---

#### Pattern: `?? 0` at line 332:57

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      };
  
      if ("z" in from || "z" in to) {
> result.z = (from.z ?? 0) + ((to.z ?? 0) - (from.z ?? 0)) * t;
      }
  
      return result;
```

---

#### Pattern: `?? 0` at line 360:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      const result: number[] = [];
  
      for (let i = 0; i < length; i++) {
> const fromVal = from[i] ?? 0;
        const toVal = to[i] ?? 0;
        result.push(fromVal + (toVal - fromVal) * t);
      }
```

---

#### Pattern: `?? 0` at line 361:27

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
      for (let i = 0; i < length; i++) {
        const fromVal = from[i] ?? 0;
> const toVal = to[i] ?? 0;
        result.push(fromVal + (toVal - fromVal) * t);
      }
  
```

---

### `engine/core/CameraController.ts` (1 pattern(s))

#### Pattern: `?? 0` at line 542:51

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
      if (this.targetProp) {
        const target = this.evaluator.evaluate(this.targetProp, frame);
> this.setTarget(target.x, target.y, target.z ?? 0);
      }
  
      if (this.fovProp) {
```

---

### `engine/core/LayerManager.ts` (1 pattern(s))

#### Pattern: `?? 0` at line 598:28

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      evaluatedLayers: readonly EvaluatedLayer[],
      frame?: number,
    ): void {
> const frameNum = frame ?? 0;
      // Store current frame for particle spline queries
      this.currentFrame = frameNum;
  
```

---

### `engine/core/SceneManager.ts` (4 pattern(s))

#### Pattern: `|| 0` at line 178:43

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        let hasChanges = false;
        for (const child of this.compositionGroup.children) {
          const cachedZ = this.zPositionCache.get(child);
> const currentZ = child.position.z || 0;
          if (cachedZ === undefined || cachedZ !== currentZ) {
            hasChanges = true;
            break;
```

---

#### Pattern: `|| 0` at line 191:28

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
      // Perform the sort
      this.compositionGroup.children.sort((a, b) => {
> return (a.position.z || 0) - (b.position.z || 0);
      });
  
      // Update the Z position cache
```

---

#### Pattern: `|| 0` at line 191:50

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
      // Perform the sort
      this.compositionGroup.children.sort((a, b) => {
> return (a.position.z || 0) - (b.position.z || 0);
      });
  
      // Update the Z position cache
```

---

#### Pattern: `|| 0` at line 196:55

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
      // Update the Z position cache
      for (const child of this.compositionGroup.children) {
> this.zPositionCache.set(child, child.position.z || 0);
      }
  
      // Clear the dirty flag
```

---

### `engine/layers/AudioLayer.ts` (3 pattern(s))

#### Pattern: `?? 0` at line 70:34

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        solo: data?.solo ?? false,
        pan: data?.pan ?? createAnimatableProperty("Pan", 0, "number"),
        loop: data?.loop ?? false,
> startTime: data?.startTime ?? 0,
        speed: data?.speed ?? 1,
        showWaveform: data?.showWaveform ?? true,
        waveformColor: data?.waveformColor ?? "#4a90d9",
```

---

#### Pattern: `?? 0` at line 264:49

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      };
  
      // Apply initial level
> this.updateGain(this.audioData.level?.value ?? 0);
      this.updatePan(this.audioData.pan?.value ?? 0);
    }
  
```

---

#### Pattern: `?? 0` at line 265:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
      // Apply initial level
      this.updateGain(this.audioData.level?.value ?? 0);
> this.updatePan(this.audioData.pan?.value ?? 0);
    }
  
    /**
```

---

### `engine/layers/BaseLayer.ts` (17 pattern(s))

#### Pattern: `?? 0` at line 211:62

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      // Copy properties
      this.visible = layerData.visible;
      this.locked = layerData.locked;
> this.inPoint = layerData.startFrame ?? layerData.inPoint ?? 0;
      this.outPoint = layerData.endFrame ?? layerData.outPoint ?? 80;
      this.opacity = layerData.opacity;
      this.transform = layerData.transform;
```

---

#### Pattern: `?? []` at line 219:38

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
      this.autoOrient = layerData.autoOrient ?? "off";
      this.blendMode = layerData.blendMode ?? "normal";
      this.parentId = layerData.parentId ?? null;
> this.effects = layerData.effects ?? [];
      this.effectsEnabled = layerData.effectsEnabled !== false; // Default true
      this.layerStyles = layerData.layerStyles;
      this.quality = layerData.quality ?? "best";
```

---

#### Pattern: `?? []` at line 230:34

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
      this.layerData = layerData;
  
      // Mask & matte properties (with backwards compatibility for old property names)
> this.masks = layerData.masks ?? [];
      this.matteType = layerData.matteType ?? layerData.trackMatteType ?? "none";
      this.matteLayerId =
        layerData.matteLayerId ?? layerData.trackMatteLayerId ?? null;
```

---

#### Pattern: `?? 0` at line 308:22

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      let posY = this.getDrivenOrBase("transform.position.y", basePosition.y);
      const posZ = this.getDrivenOrBase(
        "transform.position.z",
> basePosition.z ?? 0,
      );
  
      // Apply audio reactive modulation to position (additive)
```

---

#### Pattern: `?? 0` at line 342:66

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        ? this.evaluator.evaluate(originProp, frame)
        : { x: 0, y: 0, z: 0 };
      const origin = {
> x: this.getDrivenOrBase("transform.origin.x", baseOrigin.x ?? 0),
        y: this.getDrivenOrBase("transform.origin.y", baseOrigin.y ?? 0),
        z: this.getDrivenOrBase("transform.origin.z", baseOrigin.z ?? 0),
      };
```

---

#### Pattern: `?? 0` at line 343:66

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        : { x: 0, y: 0, z: 0 };
      const origin = {
        x: this.getDrivenOrBase("transform.origin.x", baseOrigin.x ?? 0),
> y: this.getDrivenOrBase("transform.origin.y", baseOrigin.y ?? 0),
        z: this.getDrivenOrBase("transform.origin.z", baseOrigin.z ?? 0),
      };
      // Keep anchorPoint alias for backwards compatibility
```

---

#### Pattern: `?? 0` at line 344:66

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      const origin = {
        x: this.getDrivenOrBase("transform.origin.x", baseOrigin.x ?? 0),
        y: this.getDrivenOrBase("transform.origin.y", baseOrigin.y ?? 0),
> z: this.getDrivenOrBase("transform.origin.z", baseOrigin.z ?? 0),
      };
      // Keep anchorPoint alias for backwards compatibility
      const _anchorPoint = origin;
```

---

#### Pattern: `|| {}` at line 589:43

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      this.applyOpacity(opacity);
  
      // Get audio modifiers (additive values from audio mappings)
> const audioMod = state.audioModifiers || {};
  
      // Store audio modifiers for color/blur adjustment processing
      this.currentAudioModifiers = audioMod;
```

---

#### Pattern: `?? 0` at line 612:28

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      );
      const posZ = this.getDrivenOrBase(
        "transform.position.z",
> transform.position.z ?? 0,
      );
      let scaleX =
        this.getDrivenOrBase("transform.scale.x", transform.scale.x ?? 100) / 100;
```

---

#### Pattern: `?? 0` at line 642:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        rotation: {
          x: this.getDrivenOrBase(
            "transform.rotationX",
> transform.rotationX ?? 0,
          ),
          y: this.getDrivenOrBase(
            "transform.rotationY",
```

---

#### Pattern: `?? 0` at line 646:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          ),
          y: this.getDrivenOrBase(
            "transform.rotationY",
> transform.rotationY ?? 0,
          ),
          z: rotZ,
        },
```

---

#### Pattern: `?? 0` at line 654:67

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        origin: {
          x: this.getDrivenOrBase("transform.origin.x", originVal.x),
          y: this.getDrivenOrBase("transform.origin.y", originVal.y),
> z: this.getDrivenOrBase("transform.origin.z", originVal.z ?? 0),
        },
      });
  
```

---

#### Pattern: `?? 0` at line 849:49

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
     * Returns 0 if no mapping exists (additive identity)
     */
    protected getAudioReactiveValue(target: TargetParameter): number {
> return this.audioReactiveValues.get(target) ?? 0;
    }
  
    /**
```

---

#### Pattern: `?? 0` at line 1842:48

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          markerGeometry.clone(),
          markerMaterial.clone(),
        );
> marker.position.set(pos.x, -pos.y, pos.z ?? 0);
        marker.userData.frame = kf.frame;
        this.motionPathMarkers.add(marker);
      }
```

---

#### Pattern: `?? 0` at line 1881:55

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
     * Check if layer has position animation
     */
    hasPositionAnimation(): boolean {
> return (this.transform.position.keyframes?.length ?? 0) > 0;
    }
  
    // ============================================================================
```

---

#### Pattern: `?? 0` at line 1955:74

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      // Position at origin (formerly anchor point)
      const originProp = this.transform.origin || this.transform.anchorPoint;
      const originVal = originProp?.value || { x: 0, y: 0, z: 0 };
> this.axisGizmo.position.set(-originVal.x, originVal.y, -(originVal.z ?? 0));
  
      this.axisGizmo.visible = this.showAxisGizmo;
      this.group.add(this.axisGizmo);
```

---

#### Pattern: `?? 0` at line 2027:74

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
      const originProp = this.transform.origin || this.transform.anchorPoint;
      const originVal = originProp?.value || { x: 0, y: 0, z: 0 };
> this.axisGizmo.position.set(-originVal.x, originVal.y, -(originVal.z ?? 0));
    }
  
    // ============================================================================
```

---

### `engine/layers/DepthLayer.ts` (1 pattern(s))

#### Pattern: `?? 0` at line 53:32

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        visualizationMode: data?.visualizationMode ?? "colormap",
        colorMap: data?.colorMap ?? "turbo",
        invert: data?.invert ?? false,
> minDepth: data?.minDepth ?? 0,
        maxDepth: data?.maxDepth ?? 1,
        autoNormalize: data?.autoNormalize ?? true,
        contourLevels: data?.contourLevels ?? 10,
```

---

### `engine/layers/DepthflowLayer.ts` (9 pattern(s))

#### Pattern: `?? 0` at line 182:40

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        config: {
          preset: data?.config?.preset ?? "static",
          zoom: data?.config?.zoom ?? 1,
> offsetX: data?.config?.offsetX ?? 0,
          offsetY: data?.config?.offsetY ?? 0,
          rotation: data?.config?.rotation ?? 0,
          depthScale: data?.config?.depthScale ?? 0.1,
```

---

#### Pattern: `?? 0` at line 183:40

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          preset: data?.config?.preset ?? "static",
          zoom: data?.config?.zoom ?? 1,
          offsetX: data?.config?.offsetX ?? 0,
> offsetY: data?.config?.offsetY ?? 0,
          rotation: data?.config?.rotation ?? 0,
          depthScale: data?.config?.depthScale ?? 0.1,
          focusDepth: data?.config?.focusDepth ?? 0.5,
```

---

#### Pattern: `?? 0` at line 184:42

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          zoom: data?.config?.zoom ?? 1,
          offsetX: data?.config?.offsetX ?? 0,
          offsetY: data?.config?.offsetY ?? 0,
> rotation: data?.config?.rotation ?? 0,
          depthScale: data?.config?.depthScale ?? 0.1,
          focusDepth: data?.config?.focusDepth ?? 0.5,
          dollyZoom: data?.config?.dollyZoom ?? 0,
```

---

#### Pattern: `?? 0` at line 185:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          offsetX: data?.config?.offsetX ?? 0,
          offsetY: data?.config?.offsetY ?? 0,
          rotation: data?.config?.rotation ?? 0,
> depthScale: data?.config?.depthScale ?? 0.1,
          focusDepth: data?.config?.focusDepth ?? 0.5,
          dollyZoom: data?.config?.dollyZoom ?? 0,
          orbitRadius: data?.config?.orbitRadius ?? 0.1,
```

---

#### Pattern: `?? 0` at line 186:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          offsetY: data?.config?.offsetY ?? 0,
          rotation: data?.config?.rotation ?? 0,
          depthScale: data?.config?.depthScale ?? 0.1,
> focusDepth: data?.config?.focusDepth ?? 0.5,
          dollyZoom: data?.config?.dollyZoom ?? 0,
          orbitRadius: data?.config?.orbitRadius ?? 0.1,
          orbitSpeed: data?.config?.orbitSpeed ?? 1,
```

---

#### Pattern: `?? 0` at line 187:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          rotation: data?.config?.rotation ?? 0,
          depthScale: data?.config?.depthScale ?? 0.1,
          focusDepth: data?.config?.focusDepth ?? 0.5,
> dollyZoom: data?.config?.dollyZoom ?? 0,
          orbitRadius: data?.config?.orbitRadius ?? 0.1,
          orbitSpeed: data?.config?.orbitSpeed ?? 1,
          swingAmplitude: data?.config?.swingAmplitude ?? 0.05,
```

---

#### Pattern: `?? 0` at line 188:48

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          depthScale: data?.config?.depthScale ?? 0.1,
          focusDepth: data?.config?.focusDepth ?? 0.5,
          dollyZoom: data?.config?.dollyZoom ?? 0,
> orbitRadius: data?.config?.orbitRadius ?? 0.1,
          orbitSpeed: data?.config?.orbitSpeed ?? 1,
          swingAmplitude: data?.config?.swingAmplitude ?? 0.05,
          swingFrequency: data?.config?.swingFrequency ?? 1,
```

---

#### Pattern: `?? 0` at line 190:54

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          dollyZoom: data?.config?.dollyZoom ?? 0,
          orbitRadius: data?.config?.orbitRadius ?? 0.1,
          orbitSpeed: data?.config?.orbitSpeed ?? 1,
> swingAmplitude: data?.config?.swingAmplitude ?? 0.05,
          swingFrequency: data?.config?.swingFrequency ?? 1,
          edgeDilation: data?.config?.edgeDilation ?? 0,
          inpaintEdges: data?.config?.inpaintEdges ?? false,
```

---

#### Pattern: `?? 0` at line 192:50

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          orbitSpeed: data?.config?.orbitSpeed ?? 1,
          swingAmplitude: data?.config?.swingAmplitude ?? 0.05,
          swingFrequency: data?.config?.swingFrequency ?? 1,
> edgeDilation: data?.config?.edgeDilation ?? 0,
          inpaintEdges: data?.config?.inpaintEdges ?? false,
        },
        animatedZoom: data?.animatedZoom,
```

---

### `engine/layers/GeneratedLayer.ts` (1 pattern(s))

#### Pattern: `?? {}` at line 42:36

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty object is valid default, or add proper validation

**Code:**
```typescript
        generationType: data?.generationType ?? "depth",
        sourceLayerId: data?.sourceLayerId ?? null,
        model: data?.model ?? "depth-anything-v2",
> parameters: data?.parameters ?? {},
        generatedAssetId: data?.generatedAssetId ?? null,
        status: data?.status ?? "pending",
        autoRegenerate: data?.autoRegenerate ?? false,
```

---

### `engine/layers/LightLayer.ts` (3 pattern(s))

#### Pattern: `?? 0` at line 307:53

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          },
          targetLayerId: data?.pointOfInterest?.targetLayerId,
          offset: data?.pointOfInterest?.offset ?? { x: 0, y: 0, z: 0 },
> smoothing: data?.pointOfInterest?.smoothing ?? 0,
        },
  
        pathFollowing: {
```

---

#### Pattern: `?? 0` at line 339:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          darkness: data?.shadow?.darkness ?? data?.shadowDarkness ?? 100,
          radius: data?.shadow?.radius ?? data?.shadowDiffusion ?? 1,
          bias: data?.shadow?.bias ?? -0.0001,
> normalBias: data?.shadow?.normalBias ?? 0,
          cameraNear: data?.shadow?.cameraNear ?? 1,
          cameraFar: data?.shadow?.cameraFar ?? 1000,
          cameraSize: data?.shadow?.cameraSize ?? 500,
```

---

#### Pattern: `?? []` at line 347:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
  
        lightLinking: {
          mode: data?.lightLinking?.mode ?? "include",
> layers: data?.lightLinking?.layers ?? [],
        },
  
        animatedIntensity: data?.animatedIntensity,
```

---

### `engine/layers/ModelLayer.ts` (4 pattern(s))

#### Pattern: `?? 0` at line 155:38

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        castShadow: data?.castShadow ?? true,
        receiveShadow: data?.receiveShadow ?? true,
        frustumCulled: data?.frustumCulled ?? true,
> renderOrder: data?.renderOrder ?? 0,
        showBoundingBox: data?.showBoundingBox ?? false,
        showSkeleton: data?.showSkeleton ?? false,
        envMapIntensity: data?.envMapIntensity ?? 1,
```

---

#### Pattern: `Infinity literal` at line 502:7

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
      this.currentAction = this.mixer.clipAction(clip);
      this.currentAction.setLoop(
        this.modelData.animation?.loop ? THREE.LoopRepeat : THREE.LoopOnce,
> Infinity,
      );
      this.currentAction.play();
  
```

---

#### Pattern: `?? []` at line 758:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
     * Get available animation clips
     */
    getAnimationClips(): ModelAnimationClip[] {
> return this.modelData.animation?.clips ?? [];
    }
  
    /**
```

---

#### Pattern: `?? {}` at line 885:48

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty object is valid default, or add proper validation

**Code:**
```typescript
  
        // Handle animation settings
        if (data.animation !== undefined) {
> Object.assign(this.modelData.animation ?? {}, data.animation);
          if (data.animation.activeClip) {
            this.playAnimation(data.animation.activeClip);
          }
```

---

### `engine/layers/NestedCompLayer.ts` (1 pattern(s))

#### Pattern: `?? 0` at line 242:55

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      const stretchFactor = timeStretch !== 0 ? 100 / Math.abs(timeStretch) : 0;
  
      // Calculate frame relative to layer start
> const layerStartFrame = this.layerData.startFrame ?? 0;
      const layerFrame = parentFrame - layerStartFrame;
  
      // Apply time stretch and frame rate conversion
```

---

### `engine/layers/NormalLayer.ts` (1 pattern(s))

#### Pattern: `?? 0` at line 47:48

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        arrowColor: data?.arrowColor ?? "#00ff00",
        lightDirection: data?.lightDirection ?? { x: 0.5, y: 0.5, z: 1.0 },
        lightIntensity: data?.lightIntensity ?? 1.0,
> ambientIntensity: data?.ambientIntensity ?? 0.2,
      };
    }
  
```

---

### `engine/layers/ParticleLayer.ts` (15 pattern(s))

#### Pattern: `?? 0` at line 196:35

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            boxSize: {
              x: emitter.shapeWidth ?? 100,
              y: emitter.shapeHeight ?? 100,
> z: emitter.shapeDepth ?? 0,
            },
          };
  
```

---

#### Pattern: `?? 0` at line 214:52

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          return {
            type: "circle",
            radius: emitter.shapeRadius ?? 50,
> radiusVariance: emitter.shapeInnerRadius ?? 0,
            emitFromEdge: true, // Ring always emits from edge
          };
  
```

---

#### Pattern: `?? 0` at line 224:56

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            return {
              type: "spline",
              splineId: emitter.splinePath.layerId,
> splineOffset: emitter.splinePath.parameter ?? 0,
            };
          }
          return { type: "point" }; // Fallback if no spline configured
```

---

#### Pattern: `?? 0` at line 234:65

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          // Image data must be set via setEmitterImageData() at runtime
          return {
            type: "depthEdge", // Use depth edge emission (emits from depth discontinuities)
> emissionThreshold: emitter.depthMapEmission?.depthMin ?? 0.1,
            // imageData and depthData will be provided at runtime
          };
  
```

---

#### Pattern: `?? 0` at line 243:62

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          // Image data must be set via setEmitterImageData() at runtime
          return {
            type: "image",
> emissionThreshold: emitter.maskEmission?.threshold ?? 0.5,
            // imageData will be provided at runtime
          };
  
```

---

#### Pattern: `?? 0` at line 294:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        // Add global wind as a force field
        if (data.systemConfig.windStrength !== 0) {
          const windAngle =
> ((data.systemConfig.windDirection ?? 0) * Math.PI) / 180;
          config.forceFields.push({
            id: "global_wind",
            name: "Wind",
```

---

#### Pattern: `?? 0` at line 362:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        for (const emitter of data.emitters) {
          if (!emitter.enabled) continue;
  
> const dirRad = ((emitter.direction ?? 0) * Math.PI) / 180;
  
          // Convert emitter shape from project format to GPU format
          const shapeConfig = this.convertEmitterShape(emitter);
```

---

#### Pattern: `?? 0` at line 560:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          enabled: true,
          particleCollision: data.collision.particleCollision ?? false,
          particleRadius: data.collision.particleRadius ?? 5,
> bounciness: data.collision.bounciness ?? 0.5,
          friction: data.collision.friction ?? 0.1,
          bounds: data.collision.boundaryEnabled
            ? {
```

---

#### Pattern: `?? 0` at line 561:43

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          particleCollision: data.collision.particleCollision ?? false,
          particleRadius: data.collision.particleRadius ?? 5,
          bounciness: data.collision.bounciness ?? 0.5,
> friction: data.collision.friction ?? 0.1,
          bounds: data.collision.boundaryEnabled
            ? {
                min: {
```

---

#### Pattern: `?? 0` at line 585:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        config.render.blendMode = data.renderOptions.blendMode ?? "normal";
        config.render.motionBlur = data.renderOptions.motionBlur ?? false;
        config.render.motionBlurStrength =
> data.renderOptions.motionBlurStrength ?? 0.5;
        config.render.motionBlurSamples =
          data.renderOptions.motionBlurSamples ?? 4;
  
```

---

#### Pattern: `?? 0` at line 594:55

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          config.render.mode = "trail";
          config.render.trailLength = data.renderOptions.trailLength;
          config.render.trailWidthEnd =
> 1 - (data.renderOptions.trailOpacityFalloff ?? 0.8);
        }
  
        // Particle shape affects procedural rendering
```

---

#### Pattern: `?? 0` at line 614:67

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            maxDistance: data.renderOptions.connections.maxDistance ?? 100,
            maxConnections: data.renderOptions.connections.maxConnections ?? 5,
            lineWidth: data.renderOptions.connections.lineWidth ?? 1,
> lineOpacity: data.renderOptions.connections.lineOpacity ?? 0.5,
            fadeByDistance: data.renderOptions.connections.fadeByDistance ?? true,
            color: data.renderOptions.connections.color,
          };
```

---

#### Pattern: `?? 0` at line 625:55

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          this.pendingGlowConfig = {
            enabled: true,
            radius: data.renderOptions.glowRadius ?? 10,
> intensity: data.renderOptions.glowIntensity ?? 0.5,
          };
        }
  
```

---

#### Pattern: `?? 0` at line 1197:55

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      const stretchFactor = timeStretch !== 0 ? 100 / Math.abs(timeStretch) : 0;
  
      // Calculate frame relative to layer start
> const layerStartFrame = this.layerData.startFrame ?? 0;
      const relativeFrame = compositionFrame - layerStartFrame;
  
      // Apply time stretch
```

---

#### Pattern: `?? 0` at line 1253:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    ): void {
      // ParticleLayer needs to step the simulation for the current frame
      // The evaluated state includes the frame number for deterministic simulation
> const frame = state.frame ?? 0;
  
      // Store per-emitter audio modifiers for targeted emission rate control
      this.currentEmitterAudioModifiers = state.emitterAudioModifiers as
```

---

### `engine/layers/PathLayer.ts` (6 pattern(s))

#### Pattern: `?? []` at line 82:42

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
      const data = layerData.data as PathLayerData | null;
  
      return {
> controlPoints: data?.controlPoints ?? [],
        closed: data?.closed ?? false,
        pathData: data?.pathData ?? "",
        showGuide: data?.showGuide ?? true,
```

---

#### Pattern: `?? 0` at line 111:27

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const p1 = points[i + 1];
  
        // Use depth for Z position (if available)
> const z0 = p0.depth ?? 0;
        const z1 = p1.depth ?? 0;
  
        // Create bezier curve segment
```

---

#### Pattern: `?? 0` at line 112:27

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
        // Use depth for Z position (if available)
        const z0 = p0.depth ?? 0;
> const z1 = p1.depth ?? 0;
  
        // Create bezier curve segment
        // Handles are stored as ABSOLUTE positions
```

---

#### Pattern: `?? 0` at line 139:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const lastPoint = points[points.length - 1];
        const firstPoint = points[0];
  
> const zLast = lastPoint.depth ?? 0;
        const zFirst = firstPoint.depth ?? 0;
  
        const closingBezier = new THREE.CubicBezierCurve3(
```

---

#### Pattern: `?? 0` at line 140:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const firstPoint = points[0];
  
        const zLast = lastPoint.depth ?? 0;
> const zFirst = firstPoint.depth ?? 0;
  
        const closingBezier = new THREE.CubicBezierCurve3(
          new THREE.Vector3(lastPoint.x, -lastPoint.y, zLast),
```

---

#### Pattern: `?? 0` at line 325:25

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          id: cp.id,
          x: cp.x,
          y: cp.y,
> depth: cp.depth ?? 0,
          handleIn: cp.handleIn,
          handleOut: cp.handleOut,
          type: cp.type,
```

---

### `engine/layers/PointCloudLayer.ts` (3 pattern(s))

#### Pattern: `?? 0` at line 126:36

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      return {
        assetId: data?.assetId ?? "",
        format: data?.format ?? "ply",
> pointCount: data?.pointCount ?? 0,
        pointSize: data?.pointSize ?? defaultPointSize,
        sizeAttenuation: data?.sizeAttenuation ?? true,
        minPointSize: data?.minPointSize ?? 1,
```

---

#### Pattern: `Infinity literal` at line 918:17

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
        const colors = new Float32Array(count * 3);
  
        // Find min/max intensity
> let min = Infinity,
          max = -Infinity;
        for (let i = 0; i < count; i++) {
          min = Math.min(min, intensities[i]);
```

---

#### Pattern: `Infinity literal` at line 919:16

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
  
        // Find min/max intensity
        let min = Infinity,
> max = -Infinity;
        for (let i = 0; i < count; i++) {
          min = Math.min(min, intensities[i]);
          max = Math.max(max, intensities[i]);
```

---

### `engine/layers/PoseLayer.ts` (1 pattern(s))

#### Pattern: `|| {}` at line 300:66

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
     * Get pose data with defaults
     */
    private getPoseData(): PoseLayerData {
> const data = (this.layerData.data as Partial<PoseLayerData>) || {};
      return {
        ...createDefaultPoseLayerData(),
        ...data,
```

---

### `engine/layers/SplineLayer.ts` (11 pattern(s))

#### Pattern: `?? []` at line 168:42

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
      const data = layerData.data as SplineData | null;
  
      return {
> controlPoints: data?.controlPoints ?? [],
        closed: data?.closed ?? false,
        stroke: data?.stroke ?? "#00ff00",
        strokeWidth: data?.strokeWidth ?? 2,
```

---

#### Pattern: `?? 0` at line 444:27

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const p1 = points[i + 1];
  
        // Use depth for Z position (depth map sampled value)
> const z0 = p0.depth ?? 0;
        const z1 = p1.depth ?? 0;
  
        // Create bezier curve segment
```

---

#### Pattern: `?? 0` at line 445:27

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
        // Use depth for Z position (depth map sampled value)
        const z0 = p0.depth ?? 0;
> const z1 = p1.depth ?? 0;
  
        // Create bezier curve segment
        // Handles are stored as ABSOLUTE positions, not relative offsets
```

---

#### Pattern: `?? 0` at line 472:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const lastPoint = points[points.length - 1];
        const firstPoint = points[0];
  
> const zLast = lastPoint.depth ?? 0;
        const zFirst = firstPoint.depth ?? 0;
  
        // Closing bezier also uses absolute handle positions
```

---

#### Pattern: `?? 0` at line 473:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const firstPoint = points[0];
  
        const zLast = lastPoint.depth ?? 0;
> const zFirst = firstPoint.depth ?? 0;
  
        // Closing bezier also uses absolute handle positions
        const closingBezier = new THREE.CubicBezierCurve3(
```

---

#### Pattern: `?? 0` at line 968:73

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          id: cp.id,
          x: this.getDrivenControlPointValue(index, "x", cp.x),
          y: this.getDrivenControlPointValue(index, "y", cp.y),
> depth: this.getDrivenControlPointValue(index, "depth", cp.depth ?? 0),
          handleIn: cp.handleIn,
          handleOut: cp.handleOut,
          type: cp.type,
```

---

#### Pattern: `?? 0` at line 1475:27

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            id: cp.id,
            x: cp.x,
            y: cp.y,
> depth: cp.depth ?? 0,
            handleIn: cp.handleIn,
            handleOut: cp.handleOut,
            type: cp.type,
```

---

#### Pattern: `?? 0` at line 1520:29

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
              y: cp.y,
              handleIn: cp.handleIn ?? { x: cp.x, y: cp.y },
              handleOut: cp.handleOut ?? { x: cp.x, y: cp.y },
> depth: cp.depth ?? 0,
              type: cp.type,
              group: cp.group,
            }));
```

---

#### Pattern: `?? 0` at line 1655:28

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        // Apply additive modifiers
        return {
          ...point,
> x: point.x + (xMod ?? 0),
          y: point.y + (yMod ?? 0),
          depth: point.depth + (depthMod ?? 0),
        };
```

---

#### Pattern: `?? 0` at line 1656:28

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        return {
          ...point,
          x: point.x + (xMod ?? 0),
> y: point.y + (yMod ?? 0),
          depth: point.depth + (depthMod ?? 0),
        };
      });
```

---

#### Pattern: `?? 0` at line 1657:40

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          ...point,
          x: point.x + (xMod ?? 0),
          y: point.y + (yMod ?? 0),
> depth: point.depth + (depthMod ?? 0),
        };
      });
    }
```

---

### `engine/layers/TextLayer.ts` (14 pattern(s))

#### Pattern: `?? []` at line 163:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
      this.textData = this.extractTextData(layerData);
  
      // Initialize animators from text data (for quick access during frame evaluation)
> this.animators = this.textData.animators ?? [];
  
      // Extract animatable properties
      this.extractAnimatableProperties(layerData);
```

---

#### Pattern: `?? 0` at line 250:38

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        fontStyle: data?.fontStyle ?? "normal",
        fill: data?.fill ?? "#ffffff",
        stroke: data?.stroke ?? "",
> strokeWidth: data?.strokeWidth ?? 0,
  
        // Character properties
        tracking: data?.tracking ?? 0,
```

---

#### Pattern: `?? 0` at line 253:32

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        strokeWidth: data?.strokeWidth ?? 0,
  
        // Character properties
> tracking: data?.tracking ?? 0,
        lineSpacing: data?.lineSpacing ?? 0,
        lineAnchor: data?.lineAnchor ?? 50,
        characterOffset: data?.characterOffset ?? 0,
```

---

#### Pattern: `?? 0` at line 254:38

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
        // Character properties
        tracking: data?.tracking ?? 0,
> lineSpacing: data?.lineSpacing ?? 0,
        lineAnchor: data?.lineAnchor ?? 50,
        characterOffset: data?.characterOffset ?? 0,
        characterValue: data?.characterValue ?? 0,
```

---

#### Pattern: `?? 0` at line 256:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        tracking: data?.tracking ?? 0,
        lineSpacing: data?.lineSpacing ?? 0,
        lineAnchor: data?.lineAnchor ?? 50,
> characterOffset: data?.characterOffset ?? 0,
        characterValue: data?.characterValue ?? 0,
        blur: data?.blur ?? { x: 0, y: 0 },
  
```

---

#### Pattern: `?? 0` at line 257:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        lineSpacing: data?.lineSpacing ?? 0,
        lineAnchor: data?.lineAnchor ?? 50,
        characterOffset: data?.characterOffset ?? 0,
> characterValue: data?.characterValue ?? 0,
        blur: data?.blur ?? { x: 0, y: 0 },
  
        // Paragraph (aliases)
```

---

#### Pattern: `?? 0` at line 261:60

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        blur: data?.blur ?? { x: 0, y: 0 },
  
        // Paragraph (aliases)
> letterSpacing: data?.letterSpacing ?? data?.tracking ?? 0,
        lineHeight: data?.lineHeight ?? data?.lineSpacing ?? 1.2,
        textAlign: data?.textAlign ?? "left",
  
```

---

#### Pattern: `?? 0` at line 270:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        pathReversed: data?.pathReversed ?? false,
        pathPerpendicularToPath: data?.pathPerpendicularToPath ?? true,
        pathForceAlignment: data?.pathForceAlignment ?? false,
> pathFirstMargin: data?.pathFirstMargin ?? 0,
        pathLastMargin: data?.pathLastMargin ?? 0,
        pathOffset: data?.pathOffset ?? 0,
        pathAlign: data?.pathAlign ?? "left",
```

---

#### Pattern: `?? 0` at line 271:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        pathPerpendicularToPath: data?.pathPerpendicularToPath ?? true,
        pathForceAlignment: data?.pathForceAlignment ?? false,
        pathFirstMargin: data?.pathFirstMargin ?? 0,
> pathLastMargin: data?.pathLastMargin ?? 0,
        pathOffset: data?.pathOffset ?? 0,
        pathAlign: data?.pathAlign ?? "left",
  
```

---

#### Pattern: `?? 0` at line 272:36

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        pathForceAlignment: data?.pathForceAlignment ?? false,
        pathFirstMargin: data?.pathFirstMargin ?? 0,
        pathLastMargin: data?.pathLastMargin ?? 0,
> pathOffset: data?.pathOffset ?? 0,
        pathAlign: data?.pathAlign ?? "left",
  
        // More Options
```

---

#### Pattern: `?? []` at line 285:34

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
        perCharacter3D: data?.perCharacter3D ?? false,
  
        // Text animators
> animators: data?.animators ?? [],
      };
    }
  
```

---

#### Pattern: `|| 0` at line 377:50

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      }
  
      // Spacing - Troika uses em units for letter spacing
> text.letterSpacing = (this.textData.tracking || 0) / 1000;
      text.lineHeight = this.textData.lineHeight || 1.2;
  
      // Alignment
```

---

#### Pattern: `?? 0` at line 593:49

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          fontSize,
          {
            kern: this.textData.kerning ?? true,
> letterSpacing: this.textData.tracking ?? 0,
          },
        );
        this.characterWidthsDirty = false;
```

---

#### Pattern: `?? 0` at line 1208:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        scaleY: mesh.scale.y,
        opacity: mesh.fillOpacity ?? 1,
        color: mesh.color,
> letterSpacing: mesh.letterSpacing ?? 0,
      }));
  
      // Track if any layout properties were modified (require Troika sync)
```

---

### `engine/layers/VideoLayer.ts` (3 pattern(s))

#### Pattern: `?? 0` at line 129:34

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        assetId: data?.assetId ?? null,
        loop: data?.loop ?? false,
        pingPong: data?.pingPong ?? false,
> startTime: data?.startTime ?? 0,
        endTime: data?.endTime,
        speed: data?.speed ?? 1,
        // Speed map (new naming)
```

---

#### Pattern: `?? 0` at line 142:38

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        frameBlending: data?.frameBlending ?? "none",
        audioEnabled: data?.audioEnabled ?? true,
        audioLevel: data?.audioLevel ?? 100,
> posterFrame: data?.posterFrame ?? 0,
      };
    }
  
```

---

#### Pattern: `?? 0` at line 537:55

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      const effectiveSpeed = stretchFactor * speed;
  
      // Calculate time relative to layer start
> const layerStartFrame = this.layerData.startFrame ?? 0;
      const layerFrame = compositionFrame - layerStartFrame;
      // Validate FPS (NaN would cause division issues)
      const compFps =
```

---

### `engine/particles/GPUParticleSystem.ts` (10 pattern(s))

#### Pattern: `?? 0` at line 724:55

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        trailLength: this.config.render.trailLength,
        trailSegments: this.config.render.trailSegments ?? 8,
        trailWidthStart: this.config.render.trailWidthStart ?? 1,
> trailWidthEnd: this.config.render.trailWidthEnd ?? 0.5,
        trailFadeMode: this.config.render.trailFadeMode ?? "alpha",
      };
  
```

---

#### Pattern: `?? 0` at line 924:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        this.textureSystem.setMotionBlur(
          {
            enabled: config.enabled,
> strength: config.strength ?? 0.1,
            minStretch: config.minStretch ?? 1.0,
            maxStretch: config.maxStretch ?? 4.0,
          },
```

---

#### Pattern: `Infinity literal` at line 1307:77

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
      // Validate mass: must be positive to avoid division by zero in force calculations
      const rawMass =
        emitter.initialMass + (this.rng() - 0.5) * 2 * emitter.massVariance;
> buffer[offset + 8] = Math.max(rawMass, 0.001); // Minimum mass prevents Infinity forces
  
      // Validate size: must be positive for rendering
      const rawSize =
```

---

#### Pattern: `?? 0` at line 1387:56

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const initialValues = this.particleInitialValues.get(i);
        const initialSize = initialValues?.size ?? buffer[offset + 9];
        const initialOpacity = initialValues?.opacity ?? buffer[offset + 15];
> const randomOffset = initialValues?.randomOffset ?? 0.5;
  
        // Evaluate all lifetime modulation curves before physics simulation
        const lifeRatio = age / lifetime;
```

---

#### Pattern: `?? 0` at line 1824:54

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        // Motion blur uniforms
        motionBlurEnabled: { value: this.config.render.motionBlur ? 1 : 0 },
        motionBlurStrength: {
> value: this.config.render.motionBlurStrength ?? 0.1,
        },
        minStretch: { value: this.config.render.minStretch ?? 1.0 },
        maxStretch: { value: this.config.render.maxStretch ?? 4.0 },
```

---

#### Pattern: `?? 0` at line 1836:55

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling
- **Type Info:** Object type detected

**Code:**
```typescript
        u_shadowMap: { value: null },
        u_shadowMatrix: { value: new THREE.Matrix4() },
        u_shadowSoftness: { value: shadowConfig?.shadowSoftness ?? 1.0 },
> u_shadowBias: { value: shadowConfig?.shadowBias ?? 0.001 },
        // Ambient occlusion uniforms
        u_aoEnabled: { value: shadowConfig?.aoEnabled ? 1 : 0 },
        u_aoTexture: { value: null },
```

---

#### Pattern: `?? 0` at line 1849:52

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        )},
        lodSizeMultipliers: { value: new THREE.Vector3(
          this.config.render.lodSizeMultipliers?.[0] ?? 1.0,
> this.config.render.lodSizeMultipliers?.[1] ?? 0.5,
          this.config.render.lodSizeMultipliers?.[2] ?? 0.25,
        )},
        // 3D mesh mode (0 = billboard, 1 = 3D mesh)
```

---

#### Pattern: `?? 0` at line 1850:52

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        lodSizeMultipliers: { value: new THREE.Vector3(
          this.config.render.lodSizeMultipliers?.[0] ?? 1.0,
          this.config.render.lodSizeMultipliers?.[1] ?? 0.5,
> this.config.render.lodSizeMultipliers?.[2] ?? 0.25,
        )},
        // 3D mesh mode (0 = billboard, 1 = 3D mesh)
        meshMode3D: { value: this.config.render.meshGeometry !== "billboard" ? 1 : 0 },
```

---

#### Pattern: `?? 0` at line 1858:58

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling
- **Type Info:** Object type detected

**Code:**
```typescript
        dofEnabled: { value: this.config.render.dofEnabled ? 1 : 0 },
        dofFocusDistance: { value: this.config.render.dofFocusDistance ?? 500 },
        dofFocusRange: { value: this.config.render.dofFocusRange ?? 200 },
> dofMaxBlur: { value: this.config.render.dofMaxBlur ?? 0.5 },
      };
    }
  
```

---

#### Pattern: `|| 0` at line 2076:53

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      // If starting from 0, reset first
      if (startFrame === 0) {
        this.reset();
> const warmupFrames = this.config.warmupFrames || 0;
        if (warmupFrames > 0) {
          for (let w = 0; w < warmupFrames; w++) {
            this.step(deltaTime);
```

---

### `engine/particles/GPUSPHSystem.ts` (2 pattern(s))

#### Pattern: `?? 0` at line 69:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        restDensity: config.restDensity ?? 1000,
        gasConstant: config.gasConstant ?? 2000,
        viscosity: config.viscosity ?? 200,
> surfaceTension: config.surfaceTension ?? 0.0728,
        enableSurfaceTension: config.enableSurfaceTension ?? false,
        gravity: config.gravity ?? { x: 0, y: -980, z: 0 },
        maxTimeStep: config.maxTimeStep ?? 0.004,
```

---

#### Pattern: `?? 0` at line 72:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        surfaceTension: config.surfaceTension ?? 0.0728,
        enableSurfaceTension: config.enableSurfaceTension ?? false,
        gravity: config.gravity ?? { x: 0, y: -980, z: 0 },
> maxTimeStep: config.maxTimeStep ?? 0.004,
      };
  
      // Create CPU fallback
```

---

### `engine/particles/GPUSpringSystem.ts` (1 pattern(s))

#### Pattern: `?? 0` at line 272:38

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        restLength: Math.max(0.001, restLength),
        stiffness: stiffness ?? this.config.globalStiffness,
        damping: damping ?? this.config.globalDamping,
> breakThreshold: breakThreshold ?? 0,
        active: true,
      });
  
```

---

### `engine/particles/ParticleAudioReactive.ts` (4 pattern(s))

#### Pattern: `?? 0` at line 55:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
     * Get audio feature value
     */
    getFeature(feature: AudioFeature): number {
> return this.audioFeatures.get(feature) ?? 0;
    }
  
    /**
```

---

#### Pattern: `?? 0` at line 101:68

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    ): void {
      for (let i = 0; i < this.audioBindings.length; i++) {
        const binding = this.audioBindings[i];
> const featureValue = this.audioFeatures.get(binding.feature) ?? 0;
  
        // Apply exponential moving average (EMA) smoothing
        // smoothing = 0 means no smoothing (instant response)
```

---

#### Pattern: `?? 0` at line 149:61

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          if (t < threshold) continue;
        } else if (triggerMode === "onBeat") {
          // Only apply when beat/onset is detected
> const onsetValue = this.audioFeatures.get("onsets") ?? 0;
          if (onsetValue < 0.5) continue;
        }
        // triggerMode === 'continuous' - always apply (default behavior)
```

---

#### Pattern: `?? 0` at line 185:70

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          binding.targetId === targetId &&
          binding.parameter === parameter
        ) {
> const featureValue = this.audioFeatures.get(binding.feature) ?? 0;
          // Validate min/max separately to handle NaN
          const safeMin = Number.isFinite(binding.min) ? binding.min : 0;
          const safeMax = Number.isFinite(binding.max) ? binding.max : 1;
```

---

### `engine/particles/ParticleCollisionSystem.ts` (6 pattern(s))

#### Pattern: `?? 0` at line 83:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        enabled: config.enabled ?? true,
        particleCollision: config.particleCollision ?? false,
        particleRadius: config.particleRadius ?? 5,
> bounciness: config.bounciness ?? 0.5,
        friction: config.friction ?? 0.1,
        collisionResponse: config.collisionResponse ?? 0.5,
        bounceDamping: config.bounceDamping ?? 0.8,
```

---

#### Pattern: `?? 0` at line 84:33

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        particleCollision: config.particleCollision ?? false,
        particleRadius: config.particleRadius ?? 5,
        bounciness: config.bounciness ?? 0.5,
> friction: config.friction ?? 0.1,
        collisionResponse: config.collisionResponse ?? 0.5,
        bounceDamping: config.bounceDamping ?? 0.8,
        bounds: config.bounds,
```

---

#### Pattern: `?? 0` at line 85:51

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        particleRadius: config.particleRadius ?? 5,
        bounciness: config.bounciness ?? 0.5,
        friction: config.friction ?? 0.1,
> collisionResponse: config.collisionResponse ?? 0.5,
        bounceDamping: config.bounceDamping ?? 0.8,
        bounds: config.bounds,
        boundsBehavior: config.boundsBehavior ?? "none",
```

---

#### Pattern: `?? 0` at line 86:43

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        bounciness: config.bounciness ?? 0.5,
        friction: config.friction ?? 0.1,
        collisionResponse: config.collisionResponse ?? 0.5,
> bounceDamping: config.bounceDamping ?? 0.8,
        bounds: config.bounds,
        boundsBehavior: config.boundsBehavior ?? "none",
        planes: config.planes ?? [],  // Must explicitly copy - collision planes wouldn't work otherwise
```

---

#### Pattern: `?? []` at line 89:29

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
        bounceDamping: config.bounceDamping ?? 0.8,
        bounds: config.bounds,
        boundsBehavior: config.boundsBehavior ?? "none",
> planes: config.planes ?? [],  // Must explicitly copy - collision planes wouldn't work otherwise
      };
    }
  
```

---

#### Pattern: `|| []` at line 629:36

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
     * Get all collision planes
     */
    getPlanes(): CollisionPlane[] {
> return [...(this.config.planes || [])];
    }
  }
  
```

---

### `engine/particles/ParticleConnectionSystem.ts` (7 pattern(s))

#### Pattern: `?? 0` at line 162:59

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      const processedPairs = new Set<string>();
  
      for (const p1 of activeParticles) {
> const p1Connections = connectionCount.get(p1.index) ?? 0;
        if (p1Connections >= this.config.maxConnections) continue;
  
        // Query 3x3x3 neighborhood of cells
```

---

#### Pattern: `?? 0` at line 184:67

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
                if (processedPairs.has(pairKey)) continue;
                processedPairs.add(pairKey);
  
> const p2Connections = connectionCount.get(p2.index) ?? 0;
                if (p2Connections >= this.config.maxConnections) continue;
  
                // Calculate distance
```

---

#### Pattern: `?? 0` at line 235:50

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
                  // Update connection counts
                  connectionCount.set(
                    p1.index,
> (connectionCount.get(p1.index) ?? 0) + 1,
                  );
                  connectionCount.set(p2.index, p2Connections + 1);
  
```

---

#### Pattern: `?? 0` at line 241:50

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
                  // Check if we've maxed out this particle's connections
                  if (
> (connectionCount.get(p1.index) ?? 0) >=
                    this.config.maxConnections
                  )
                    break;
```

---

#### Pattern: `?? 0` at line 248:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
                }
              }
              if (
> (connectionCount.get(p1.index) ?? 0) >= this.config.maxConnections
              )
                break;
            }
```

---

#### Pattern: `?? 0` at line 253:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
                break;
            }
            if (
> (connectionCount.get(p1.index) ?? 0) >= this.config.maxConnections
            )
              break;
          }
```

---

#### Pattern: `?? 0` at line 257:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            )
              break;
          }
> if ((connectionCount.get(p1.index) ?? 0) >= this.config.maxConnections)
            break;
        }
      }
```

---

### `engine/particles/ParticleEmitterLogic.ts` (3 pattern(s))

#### Pattern: `?? 0` at line 138:52

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
        const { width, height, data } = shape.imageData;
        // Validate threshold
> const rawThreshold = shape.emissionThreshold ?? 0.1;
        const threshold = Number.isFinite(rawThreshold) ? rawThreshold : 0.1;
  
        // Try up to 100 times to find a valid pixel
```

---

#### Pattern: `?? 0` at line 173:52

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
        const depthData = shape.depthData;
        // Validate threshold
> const rawThreshold = shape.emissionThreshold ?? 0.05;
        const threshold = Number.isFinite(rawThreshold) ? rawThreshold : 0.05;
  
        // Try up to 100 times to find an edge pixel
```

---

#### Pattern: `?? 0` at line 223:61

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
        const point = splineProvider(shape.splineId, t);
        if (point) {
> return new THREE.Vector3(point.x, -point.y, point.z ?? 0);
        }
        return base;
      }
```

---

### `engine/particles/ParticleForceCalculator.ts` (19 pattern(s))

#### Pattern: `?? 0` at line 80:29

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    switch (field.type) {
      case "gravity":
        force.set(
> (field.direction?.x ?? 0) * strength,
          (field.direction?.y ?? 1) * strength,
          (field.direction?.z ?? 0) * strength,
        );
```

---

#### Pattern: `?? 0` at line 82:29

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        force.set(
          (field.direction?.x ?? 0) * strength,
          (field.direction?.y ?? 1) * strength,
> (field.direction?.z ?? 0) * strength,
        );
        break;
  
```

---

#### Pattern: `?? 0` at line 98:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      case "vortex":
        if (dist > 0.001) {
          const axis = new THREE.Vector3(
> field.vortexAxis?.x ?? 0,
            field.vortexAxis?.y ?? 0,
            field.vortexAxis?.z ?? 1,
          ).normalize();
```

---

#### Pattern: `?? 0` at line 99:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        if (dist > 0.001) {
          const axis = new THREE.Vector3(
            field.vortexAxis?.x ?? 0,
> field.vortexAxis?.y ?? 0,
            field.vortexAxis?.z ?? 1,
          ).normalize();
          const toParticle = new THREE.Vector3(dx, dy, dz);
```

---

#### Pattern: `?? 0` at line 108:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            .normalize();
          const inward = toParticle
            .normalize()
> .multiplyScalar(-(field.inwardForce ?? 0));
          force.copy(tangent).multiplyScalar(strength).add(inward);
        }
        break;
```

---

#### Pattern: `?? 0` at line 114:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        break;
  
      case "turbulence": {
> const rawScale = field.noiseScale ?? 0.01;
        const scale = Number.isFinite(rawScale) ? rawScale : 0.01;
        const rawSpeed = field.noiseSpeed ?? 0.5;
        const speed = Number.isFinite(rawSpeed) ? rawSpeed : 0.5;
```

---

#### Pattern: `?? 0` at line 116:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      case "turbulence": {
        const rawScale = field.noiseScale ?? 0.01;
        const scale = Number.isFinite(rawScale) ? rawScale : 0.01;
> const rawSpeed = field.noiseSpeed ?? 0.5;
        const speed = Number.isFinite(rawSpeed) ? rawSpeed : 0.5;
        // Guard against Infinity time causing Math.sin(Infinity) = NaN
        const time = Number.isFinite(simulationTime * speed) ? simulationTime * speed : 0;
```

---

#### Pattern: `?? 0` at line 140:48

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const speed = Math.sqrt(vx * vx + vy * vy + vz * vz);
        if (speed > 0.001) {
          // Validate drag coefficients to prevent NaN
> const rawLinearDrag = field.linearDrag ?? 0.1;
          const linearDrag = Number.isFinite(rawLinearDrag) ? rawLinearDrag : 0.1;
          const rawQuadDrag = field.quadraticDrag ?? 0.01;
          const quadDrag = Number.isFinite(rawQuadDrag) ? rawQuadDrag : 0.01;
```

---

#### Pattern: `?? 0` at line 142:49

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          // Validate drag coefficients to prevent NaN
          const rawLinearDrag = field.linearDrag ?? 0.1;
          const linearDrag = Number.isFinite(rawLinearDrag) ? rawLinearDrag : 0.1;
> const rawQuadDrag = field.quadraticDrag ?? 0.01;
          const quadDrag = Number.isFinite(rawQuadDrag) ? rawQuadDrag : 0.01;
          const dragMag = linearDrag * speed + quadDrag * speed * speed;
          // Drag opposes velocity: F = -c * v_normalized * |v|^n
```

---

#### Pattern: `?? 0` at line 158:32

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      case "wind": {
        const windDir = new THREE.Vector3(
          field.windDirection?.x ?? 1,
> field.windDirection?.y ?? 0,
          field.windDirection?.z ?? 0,
        ).normalize();
        const gust =
```

---

#### Pattern: `?? 0` at line 159:32

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const windDir = new THREE.Vector3(
          field.windDirection?.x ?? 1,
          field.windDirection?.y ?? 0,
> field.windDirection?.z ?? 0,
        ).normalize();
        const gust =
          Math.sin(simulationTime * (field.gustFrequency ?? 0.5)) *
```

---

#### Pattern: `?? 0` at line 162:56

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          field.windDirection?.z ?? 0,
        ).normalize();
        const gust =
> Math.sin(simulationTime * (field.gustFrequency ?? 0.5)) *
          (field.gustStrength ?? 0);
        force.copy(windDir).multiplyScalar(strength + gust);
        break;
```

---

#### Pattern: `?? 0` at line 163:29

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        ).normalize();
        const gust =
          Math.sin(simulationTime * (field.gustFrequency ?? 0.5)) *
> (field.gustStrength ?? 0);
        force.copy(windDir).multiplyScalar(strength + gust);
        break;
      }
```

---

#### Pattern: `?? 0` at line 184:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
      case "curl": {
        // Curl noise - divergence-free flow field
> const rawScale = field.noiseScale ?? 0.01;
        const scale = Number.isFinite(rawScale) ? rawScale : 0.01;
        const rawSpeed = field.noiseSpeed ?? 0.5;
        const speed = Number.isFinite(rawSpeed) ? rawSpeed : 0.5;
```

---

#### Pattern: `?? 0` at line 186:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        // Curl noise - divergence-free flow field
        const rawScale = field.noiseScale ?? 0.01;
        const scale = Number.isFinite(rawScale) ? rawScale : 0.01;
> const rawSpeed = field.noiseSpeed ?? 0.5;
        const speed = Number.isFinite(rawSpeed) ? rawSpeed : 0.5;
        // Guard against Infinity time causing Math.sin(Infinity) = NaN
        const time = Number.isFinite(simulationTime * speed) ? simulationTime * speed : 0;
```

---

#### Pattern: `?? 0` at line 227:29

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        // Lorentz force: F = q(v Ã— B)
        // B field direction is the vortexAxis
        const B = new THREE.Vector3(
> field.vortexAxis?.x ?? 0,
          field.vortexAxis?.y ?? 1,
          field.vortexAxis?.z ?? 0,
        ).multiplyScalar(strength);
```

---

#### Pattern: `?? 0` at line 229:29

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const B = new THREE.Vector3(
          field.vortexAxis?.x ?? 0,
          field.vortexAxis?.y ?? 1,
> field.vortexAxis?.z ?? 0,
        ).multiplyScalar(strength);
        const v = new THREE.Vector3(vx, vy, vz);
        force.crossVectors(v, B);
```

---

#### Pattern: `?? 0` at line 247:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
          // Add tangential component for orbit
          const axis = new THREE.Vector3(
> field.vortexAxis?.x ?? 0,
            field.vortexAxis?.y ?? 1,
            field.vortexAxis?.z ?? 0,
          ).normalize();
```

---

#### Pattern: `?? 0` at line 249:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          const axis = new THREE.Vector3(
            field.vortexAxis?.x ?? 0,
            field.vortexAxis?.y ?? 1,
> field.vortexAxis?.z ?? 0,
          ).normalize();
          const tangent = new THREE.Vector3()
            .crossVectors(axis, centripetal)
```

---

### `engine/particles/ParticleFrameCache.ts` (1 pattern(s))

#### Pattern: `?? 0` at line 148:53

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      const emitterBurstTimers = new Map<string, number>();
      for (const [id, emitter] of emitters) {
        emitterAccumulators.set(id, emitter.accumulator);
> emitterBurstTimers.set(id, emitter.burstTimer ?? 0);
      }
  
      this.frameCache.set(frame, {
```

---

### `engine/particles/ParticleGPUPhysics.ts` (3 pattern(s))

#### Pattern: `?? 0` at line 111:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          min: [-10000, -10000, -10000],
          max: [10000, 10000, 10000],
        },
> damping: config.damping ?? 0.99,
        noiseScale: config.noiseScale ?? 0.005,
        noiseSpeed: config.noiseSpeed ?? 0.5,
      };
```

---

#### Pattern: `?? 0` at line 112:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          max: [10000, 10000, 10000],
        },
        damping: config.damping ?? 0.99,
> noiseScale: config.noiseScale ?? 0.005,
        noiseSpeed: config.noiseSpeed ?? 0.5,
      };
    }
```

---

#### Pattern: `?? 0` at line 113:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        },
        damping: config.damping ?? 0.99,
        noiseScale: config.noiseScale ?? 0.005,
> noiseSpeed: config.noiseSpeed ?? 0.5,
      };
    }
  
```

---

### `engine/particles/ParticleModulationCurves.ts` (2 pattern(s))

#### Pattern: `?? 0` at line 137:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          return (
            h1 * p0.value +
            h2 * p1.value +
> h3 * (p0.outTangent ?? 0) +
            h4 * (p1.inTangent ?? 0)
          );
        }
```

---

#### Pattern: `?? 0` at line 138:30

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            h1 * p0.value +
            h2 * p1.value +
            h3 * (p0.outTangent ?? 0) +
> h4 * (p1.inTangent ?? 0)
          );
        }
  
```

---

### `engine/particles/ParticleSPHSystem.ts` (2 pattern(s))

#### Pattern: `?? 0` at line 131:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        restDensity: config.restDensity ?? 1000,
        gasConstant: config.gasConstant ?? 2000,
        viscosity: config.viscosity ?? 200,
> surfaceTension: config.surfaceTension ?? 0.0728,
        enableSurfaceTension: config.enableSurfaceTension ?? false,
        gravity: config.gravity ?? { x: 0, y: -980, z: 0 },
        maxTimeStep: config.maxTimeStep ?? 0.004,
```

---

#### Pattern: `?? 0` at line 134:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        surfaceTension: config.surfaceTension ?? 0.0728,
        enableSurfaceTension: config.enableSurfaceTension ?? false,
        gravity: config.gravity ?? { x: 0, y: -980, z: 0 },
> maxTimeStep: config.maxTimeStep ?? 0.004,
      };
  
      // Initialize SPH data array
```

---

### `engine/particles/ParticleSubEmitter.ts` (4 pattern(s))

#### Pattern: `?? 0` at line 213:57

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
            const rawInitialSize = overrides.initialSize ?? 5;
            const safeInitialSize = (Number.isFinite(rawInitialSize) && rawInitialSize > 0) ? rawInitialSize : 5;
> const rawInheritSize = subEmitter.inheritSize ?? 0;
            const safeInheritSize = Number.isFinite(rawInheritSize) ? rawInheritSize : 0;
            const rawSize = safeInitialSize * (safeInheritSize > 0 ? parentSize * safeInheritSize : 1);
            particleBuffer[subOffset + 9] = Number.isFinite(rawSize) ? Math.max(rawSize, 0.001) : 5; // size
```

---

#### Pattern: `?? 0` at line 219:60

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            particleBuffer[subOffset + 9] = Number.isFinite(rawSize) ? Math.max(rawSize, 0.001) : 5; // size
  
            // Rotation (validate inheritRotation)
> const rawInheritRot = subEmitter.inheritRotation ?? 0;
            const inheritRot = Number.isFinite(rawInheritRot) ? rawInheritRot : 0;
            particleBuffer[subOffset + 10] =
              inheritRot > 0
```

---

#### Pattern: `?? 0` at line 225:62

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
              inheritRot > 0
                ? parentRotation * inheritRot
                : this.rng() * Math.PI * 2;
> const rawAngVel = overrides.initialAngularVelocity ?? 0;
            const angVel = Number.isFinite(rawAngVel) ? rawAngVel : 0;
            particleBuffer[subOffset + 11] = angVel;
  
```

---

#### Pattern: `?? 0` at line 237:57

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
              Number.isFinite(rawColorStart[2]) ? rawColorStart[2] : 1,
              Number.isFinite(rawColorStart[3]) ? rawColorStart[3] : 1,
            ];
> const rawInheritCol = subEmitter.inheritColor ?? 0;
            const inheritCol = Number.isFinite(rawInheritCol) ? rawInheritCol : 0;
            if (inheritCol > 0) {
              particleBuffer[subOffset + 12] =
```

---

### `engine/particles/SpatialHashGrid.ts` (1 pattern(s))

#### Pattern: `?? []` at line 103:32

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
     * Get all particle indices in a cell
     */
    getCell(key: string): number[] {
> return this.cells.get(key) ?? [];
    }
  
    /**
```

---

### `engine/utils/PerformanceMonitor.ts` (1 pattern(s))

#### Pattern: `?? 0` at line 83:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
      // Get memory usage (Chrome only)
      const memory = (performance as any).memory;
> const memoryUsed = memory?.usedJSHeapSize ?? 0;
  
      // Calculate average frame time
      const avgFrameTime =
```

---

### `schemas/exports/ati-schema.ts` (2 pattern(s))

#### Pattern: `NaN literal` at line 28:32

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isNaN() for comparisons

**Code:**
```typescript
  // Primitive Schemas
  // ============================================================================
  
> /** Finite number that rejects NaN and Infinity */
  const finiteNumber = z.number().finite();
  
  /** Positive integer for dimensions */
```

---

#### Pattern: `Infinity literal` at line 28:40

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
  // Primitive Schemas
  // ============================================================================
  
> /** Finite number that rejects NaN and Infinity */
  const finiteNumber = z.number().finite();
  
  /** Positive integer for dimensions */
```

---

### `schemas/exports/wanmove-schema.ts` (2 pattern(s))

#### Pattern: `NaN literal` at line 30:32

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isNaN() for comparisons

**Code:**
```typescript
  // Primitive Schemas
  // ============================================================================
  
> /** Finite number that rejects NaN and Infinity */
  const finiteNumber = z.number().finite();
  
  /** Positive finite number */
```

---

#### Pattern: `Infinity literal` at line 30:40

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
  // Primitive Schemas
  // ============================================================================
  
> /** Finite number that rejects NaN and Infinity */
  const finiteNumber = z.number().finite();
  
  /** Positive finite number */
```

---

### `schemas/imports/cameraTracking-schema.ts` (2 pattern(s))

#### Pattern: `NaN literal` at line 14:32

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isNaN() for comparisons

**Code:**
```typescript
  // Primitive Schemas with Validation
  // ============================================================================
  
> /** Finite number that rejects NaN and Infinity */
  const finiteNumber = z.number().finite();
  
  /** Positive finite number */
```

---

#### Pattern: `Infinity literal` at line 14:40

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
  // Primitive Schemas with Validation
  // ============================================================================
  
> /** Finite number that rejects NaN and Infinity */
  const finiteNumber = z.number().finite();
  
  /** Positive finite number */
```

---

### `schemas/layers/primitives-schema.ts` (2 pattern(s))

#### Pattern: `NaN literal` at line 14:32

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isNaN() for comparisons

**Code:**
```typescript
  // Finite Number Primitives
  // ============================================================================
  
> /** Finite number that rejects NaN and Infinity */
  export const finiteNumber = z.number().finite();
  
  /** Positive finite number */
```

---

#### Pattern: `Infinity literal` at line 14:40

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
  // Finite Number Primitives
  // ============================================================================
  
> /** Finite number that rejects NaN and Infinity */
  export const finiteNumber = z.number().finite();
  
  /** Positive finite number */
```

---

### `services/ai/actionExecutor.ts` (9 pattern(s))

#### Pattern: `|| {}` at line 320:30

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      layer.outPoint = outPoint;
    }
    if (properties) {
> Object.assign(layer.data || {}, properties);
    }
  
    return {
```

---

#### Pattern: `|| {}` at line 730:20

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      enabled: true,
      type: "preset" as const,
      name: expressionType,
> params: params || {},
    };
  
    // Record modification and save to undo history
```

---

#### Pattern: `|| 0` at line 895:61

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    // Update physics
    if (physics && particleData.systemConfig) {
      if (physics.gravity) {
> particleData.systemConfig.gravity = physics.gravity.y || 0;
      }
      if (physics.wind) {
        // Default to zero if wind components are undefined
```

---

#### Pattern: `?? 0` at line 899:36

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      }
      if (physics.wind) {
        // Default to zero if wind components are undefined
> const windX = physics.wind.x ?? 0;
        const windY = physics.wind.y ?? 0;
        particleData.systemConfig.windStrength = Math.sqrt(
          windX ** 2 + windY ** 2,
```

---

#### Pattern: `?? 0` at line 900:36

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      if (physics.wind) {
        // Default to zero if wind components are undefined
        const windX = physics.wind.x ?? 0;
> const windY = physics.wind.y ?? 0;
        particleData.systemConfig.windStrength = Math.sqrt(
          windX ** 2 + windY ** 2,
        );
```

---

#### Pattern: `|| 0` at line 1038:29

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    const totalKeyframes =
      keyframes.position.length +
      keyframes.pointOfInterest.length +
> (keyframes.zoom?.length || 0);
  
    return {
      success: true,
```

---

#### Pattern: `?? 0` at line 1091:38

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    cameraData.shake = {
      enabled: true,
      type: shakeType,
> intensity: shakeConfig.intensity ?? 0.3,
      frequency: shakeConfig.frequency ?? 1.0,
      rotationEnabled: shakeConfig.rotationEnabled ?? true,
      rotationScale: 0.5,
```

---

#### Pattern: `?? 0` at line 1096:30

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      rotationEnabled: shakeConfig.rotationEnabled ?? true,
      rotationScale: 0.5,
      seed: shakeConfig.seed!,
> decay: shakeConfig.decay ?? 0,
      startFrame,
      duration: duration ?? compDuration,
    };
```

---

#### Pattern: `|| []` at line 1450:28

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    if (layer.data) {
      const speedMapData = {
        enabled: enabled !== false,
> keyframes: keyframes || [],
      };
      // Use Object.assign for dynamic property assignment on existing data
      Object.assign(layer.data, { speedMap: speedMapData, timeRemap: speedMapData });
```

---

### `services/ai/cameraTrackingAI.ts` (4 pattern(s))

#### Pattern: `|| 0` at line 223:40

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing
- **Type Info:** Function type detected

**Code:**
```typescript
    const segments = (
      (data.segments as Array<Record<string, unknown>>) || []
    ).map((seg) => ({
> startFrame: Number(seg.startFrame) || 0,
      endFrame: Number(seg.endFrame) || 0,
      motion: (seg.motion as CameraMotionPrimitive) || "unknown",
      confidence: Number(seg.confidence) || 0.5,
```

---

#### Pattern: `|| 0` at line 224:36

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing
- **Type Info:** Function type detected

**Code:**
```typescript
      (data.segments as Array<Record<string, unknown>>) || []
    ).map((seg) => ({
      startFrame: Number(seg.startFrame) || 0,
> endFrame: Number(seg.endFrame) || 0,
      motion: (seg.motion as CameraMotionPrimitive) || "unknown",
      confidence: Number(seg.confidence) || 0.5,
      description: String(seg.description || ""),
```

---

#### Pattern: `|| 0` at line 226:40

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing
- **Type Info:** Function type detected

**Code:**
```typescript
      startFrame: Number(seg.startFrame) || 0,
      endFrame: Number(seg.endFrame) || 0,
      motion: (seg.motion as CameraMotionPrimitive) || "unknown",
> confidence: Number(seg.confidence) || 0.5,
      description: String(seg.description || ""),
    }));
  
```

---

#### Pattern: `?? []` at line 490:43

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
    });
  
    // Convert 3D track points to point cloud
> const trackPoints = solve.trackPoints3D ?? [];
    const point_cloud =
      trackPoints.length > 0
        ? {
```

---

### `services/ai/depthEstimation.ts` (3 pattern(s))

#### Pattern: `|| []` at line 312:32

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  
        return {
          sceneDescription: parsed.sceneDescription || "Scene analyzed",
> layers: (parsed.layers || []).map((layer: any) => ({
            index: layer.index ?? 0,
            depth: Math.max(0, Math.min(100, layer.depth ?? 50)),
            content: layer.content || "Unknown",
```

---

#### Pattern: `?? 0` at line 313:30

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        return {
          sceneDescription: parsed.sceneDescription || "Scene analyzed",
          layers: (parsed.layers || []).map((layer: any) => ({
> index: layer.index ?? 0,
            depth: Math.max(0, Math.min(100, layer.depth ?? 50)),
            content: layer.content || "Unknown",
            confidence: Math.max(0, Math.min(1, layer.confidence ?? 0.5)),
```

---

#### Pattern: `?? 0` at line 316:64

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            index: layer.index ?? 0,
            depth: Math.max(0, Math.min(100, layer.depth ?? 50)),
            content: layer.content || "Unknown",
> confidence: Math.max(0, Math.min(1, layer.confidence ?? 0.5)),
            reasoning: layer.reasoning || "",
          })),
        };
```

---

### `services/ai/secureActionExecutor.ts` (1 pattern(s))

#### Pattern: `|| {}` at line 115:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    const { name, arguments: args } = toolCall;
  
    // Log the tool call attempt
> await logToolCallAudit(name, args || {}, userAction);
  
    // 2. Check for prompt injection in string arguments
    if (args && typeof args === "object") {
```

---

### `services/ai/security/hardenedScopeManager.ts` (1 pattern(s))

#### Pattern: `|| {}` at line 894:66

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    toolName: string,
    args?: Record<string, unknown>,
  ): ToolPermission {
> return hardenedScopeManager.checkToolPermission(toolName, args || {});
  }
  
  export function getCurrentScope(): ScopeLevel {
```

---

### `services/ai/security/promptInjectionDetector.ts` (3 pattern(s))

#### Pattern: `|| []` at line 842:64

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    }
  
    // Check for combining characters abuse (can stack diacritics to obscure)
> const combiningCharsCount = (input.match(/[\u0300-\u036F]/g) || []).length;
    if (combiningCharsCount > 10) {
      return {
        detected: true,
```

---

#### Pattern: `|| 0` at line 1091:30

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
    const freq: Record<string, number> = {};
    for (const char of str) {
> freq[char] = (freq[char] || 0) + 1;
    }
  
    let entropy = 0;
```

---

#### Pattern: `|| 0` at line 1262:56

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    const nameGroups: Record<string, number> = {};
    for (const layer of allLayers) {
      if (layer.name) {
> nameGroups[layer.name] = (nameGroups[layer.name] || 0) + 1;
      }
    }
    for (const [name, count] of Object.entries(nameGroups)) {
```

---

### `services/ai/stateSerializer.ts` (12 pattern(s))

#### Pattern: `?? 0` at line 230:51

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      name: sanitizeForLLM(layer.name), // SECURITY: Sanitize
      type: layer.type,
      visible: layer.visible,
> startFrame: layer.startFrame ?? layer.inPoint ?? 0,
      endFrame: layer.endFrame ?? layer.outPoint ?? 80,
    }));
  
```

---

#### Pattern: `|| []` at line 351:38

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    if (layer.opacity.animated) animatedProperties.push("opacity");
  
    // Collect effect types only (not names or parameters)
> const effectTypes = (layer.effects || []).map((e) => e.effectKey);
  
    return {
      id: layer.id,
```

---

#### Pattern: `?? 0` at line 359:51

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      type: layer.type,
      visible: layer.visible,
      locked: layer.locked,
> startFrame: layer.startFrame ?? layer.inPoint ?? 0,
      endFrame: layer.endFrame ?? layer.outPoint ?? 80,
      parentId: layer.parentId,
      hasAnimation: animatedProperties.length > 0,
```

---

#### Pattern: `|| []` at line 364:33

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      parentId: layer.parentId,
      hasAnimation: animatedProperties.length > 0,
      animatedProperties,
> effectCount: (layer.effects || []).length,
      effectTypes,
    };
  }
```

---

#### Pattern: `?? 0` at line 444:51

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      type: layer.type,
      visible: layer.visible,
      locked: layer.locked,
> startFrame: layer.startFrame ?? layer.inPoint ?? 0,
      endFrame: layer.endFrame ?? layer.outPoint ?? 80,
      parentId: layer.parentId,
      transform: {
```

---

#### Pattern: `|| 0` at line 549:48

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
      case "spline":
        return {
> pointCount: data.controlPoints?.length || 0,
          closed: data.closed,
          stroke: data.stroke,
          strokeWidth: data.strokeWidth,
```

---

#### Pattern: `|| 0` at line 557:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
      case "particles":
        return {
> emitterCount: data.emitters?.length || 0,
          maxParticles: data.systemConfig?.maxParticles,
          gravity: data.systemConfig?.gravity,
          firstEmitter: data.emitters?.[0]
```

---

#### Pattern: `|| 0` at line 595:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
      case "shape":
        return {
> shapeCount: data.shapes?.length || 0,
          fill: data.fill,
          stroke: data.stroke,
          strokeWidth: data.strokeWidth,
```

---

#### Pattern: `|| 0` at line 717:72

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      }
  
      // Check keyframe counts
> const beforeKfCount = beforeLayer.transform.position.keyframeCount || 0;
      const afterKfCount = afterLayer.transform.position.keyframeCount || 0;
      if (beforeKfCount !== afterKfCount) {
        changes.push(
```

---

#### Pattern: `|| 0` at line 718:70

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
      // Check keyframe counts
      const beforeKfCount = beforeLayer.transform.position.keyframeCount || 0;
> const afterKfCount = afterLayer.transform.position.keyframeCount || 0;
      if (beforeKfCount !== afterKfCount) {
        changes.push(
          `Layer "${afterLayer.name}": position keyframes ${beforeKfCount} â†’ ${afterKfCount}`,
```

---

#### Pattern: `|| 0` at line 726:55

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      }
  
      // Check effects
> const beforeEffects = beforeLayer.effects?.length || 0;
      const afterLayerEffects = afterLayer.effects?.length || 0;
      if (beforeEffects !== afterLayerEffects) {
        changes.push(
```

---

#### Pattern: `|| 0` at line 727:58

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
      // Check effects
      const beforeEffects = beforeLayer.effects?.length || 0;
> const afterLayerEffects = afterLayer.effects?.length || 0;
      if (beforeEffects !== afterLayerEffects) {
        changes.push(
          `Layer "${afterLayer.name}": effects ${beforeEffects} â†’ ${afterLayerEffects}`,
```

---

### `services/aiGeneration.ts` (1 pattern(s))

#### Pattern: `|| []` at line 459:23

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
        // Convert mask data to ImageData
        const masks = await Promise.all(
> (result.masks || []).map((maskBase64: string) =>
            this.base64ToImageData(maskBase64),
          ),
        );
```

---

### `services/arcLength.ts` (14 pattern(s))

#### Pattern: `|| 0` at line 131:51

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing
- **Type Info:** Object type detected

**Code:**
```typescript
      const tangent = this.curve.getTangentAt(u) as THREE.Vector3;
  
      return {
> point: { x: point.x, y: point.y, z: point.z || 0 },
        tangent: { x: tangent.x, y: tangent.y, z: tangent.z || 0 },
        t: this.distanceToT(distance),
      };
```

---

#### Pattern: `|| 0` at line 132:59

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing
- **Type Info:** Object type detected

**Code:**
```typescript
  
      return {
        point: { x: point.x, y: point.y, z: point.z || 0 },
> tangent: { x: tangent.x, y: tangent.y, z: tangent.z || 0 },
        t: this.distanceToT(distance),
      };
    }
```

---

#### Pattern: `|| 0` at line 221:60

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      const p1 = controlPoints[i];
      const p2 = controlPoints[i + 1];
  
> const h1 = p1.handleOut || { x: p1.x, y: p1.y, z: p1.z || 0 };
      const h2 = p2.handleIn || { x: p2.x, y: p2.y, z: p2.z || 0 };
  
      beziers.push(
```

---

#### Pattern: `|| 0` at line 222:59

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      const p2 = controlPoints[i + 1];
  
      const h1 = p1.handleOut || { x: p1.x, y: p1.y, z: p1.z || 0 };
> const h2 = p2.handleIn || { x: p2.x, y: p2.y, z: p2.z || 0 };
  
      beziers.push(
        createBezierCurve(
```

---

#### Pattern: `|| 0` at line 226:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
      beziers.push(
        createBezierCurve(
> { x: p1.x, y: p1.y, z: p1.z || 0 },
          { x: h1.x, y: h1.y, z: h1.z || 0 },
          { x: h2.x, y: h2.y, z: h2.z || 0 },
          { x: p2.x, y: p2.y, z: p2.z || 0 },
```

---

#### Pattern: `|| 0` at line 227:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      beziers.push(
        createBezierCurve(
          { x: p1.x, y: p1.y, z: p1.z || 0 },
> { x: h1.x, y: h1.y, z: h1.z || 0 },
          { x: h2.x, y: h2.y, z: h2.z || 0 },
          { x: p2.x, y: p2.y, z: p2.z || 0 },
        ),
```

---

#### Pattern: `|| 0` at line 228:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        createBezierCurve(
          { x: p1.x, y: p1.y, z: p1.z || 0 },
          { x: h1.x, y: h1.y, z: h1.z || 0 },
> { x: h2.x, y: h2.y, z: h2.z || 0 },
          { x: p2.x, y: p2.y, z: p2.z || 0 },
        ),
      );
```

---

#### Pattern: `|| 0` at line 229:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          { x: p1.x, y: p1.y, z: p1.z || 0 },
          { x: h1.x, y: h1.y, z: h1.z || 0 },
          { x: h2.x, y: h2.y, z: h2.z || 0 },
> { x: p2.x, y: p2.y, z: p2.z || 0 },
        ),
      );
    }
```

---

#### Pattern: `|| 0` at line 342:63

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      const [command, ...coords] = cmd;
  
      if (command === "M") {
> startPoint = { x: coords[0], y: coords[1], z: coords[2] || 0 };
      } else if (command === "C" && startPoint) {
        // Cubic bezier: startPoint, control1, control2, endPoint
        return new THREE.CubicBezierCurve3(
```

---

#### Pattern: `|| 0` at line 347:59

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        // Cubic bezier: startPoint, control1, control2, endPoint
        return new THREE.CubicBezierCurve3(
          new THREE.Vector3(startPoint.x, startPoint.y, startPoint.z),
> new THREE.Vector3(coords[0], coords[1], coords[2] || 0),
          new THREE.Vector3(
            coords[3] || coords[2],
            coords[4] || coords[3],
```

---

#### Pattern: `|| 0` at line 351:21

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          new THREE.Vector3(
            coords[3] || coords[2],
            coords[4] || coords[3],
> coords[5] || 0,
          ),
          new THREE.Vector3(
            coords[6] || coords[4],
```

---

#### Pattern: `|| 0` at line 356:21

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          new THREE.Vector3(
            coords[6] || coords[4],
            coords[7] || coords[5],
> coords[8] || 0,
          ),
        );
      } else if (command === "Q" && startPoint) {
```

---

#### Pattern: `|| 0` at line 362:62

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      } else if (command === "Q" && startPoint) {
        // Quadratic bezier - convert to cubic for consistency
        // Q: start, control, end -> C: start, (start+2*control)/3, (2*control+end)/3, end
> const qcp = { x: coords[0], y: coords[1], z: coords[2] || 0 };
        const end = {
          x: coords[3] || coords[2],
          y: coords[4] || coords[3],
```

---

#### Pattern: `|| 0` at line 366:22

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        const end = {
          x: coords[3] || coords[2],
          y: coords[4] || coords[3],
> z: coords[5] || 0,
        };
  
        const cp1 = {
```

---

### `services/audio/enhancedBeatDetection.ts` (3 pattern(s))

#### Pattern: `|| 0` at line 316:62

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    );
  
    // Combine multiple features for strength estimation
> const amplitude = analysis.amplitudeEnvelope[clampedFrame] || 0;
    const bass = analysis.frequencyBands.bass[clampedFrame] || 0;
    const flux = analysis.spectralFlux?.[clampedFrame] || 0;
  
```

---

#### Pattern: `|| 0` at line 317:59

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
    // Combine multiple features for strength estimation
    const amplitude = analysis.amplitudeEnvelope[clampedFrame] || 0;
> const bass = analysis.frequencyBands.bass[clampedFrame] || 0;
    const flux = analysis.spectralFlux?.[clampedFrame] || 0;
  
    // Weight: bass and spectral flux are most important for beats
```

---

#### Pattern: `|| 0` at line 318:54

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    // Combine multiple features for strength estimation
    const amplitude = analysis.amplitudeEnvelope[clampedFrame] || 0;
    const bass = analysis.frequencyBands.bass[clampedFrame] || 0;
> const flux = analysis.spectralFlux?.[clampedFrame] || 0;
  
    // Weight: bass and spectral flux are most important for beats
    return amplitude * 0.3 + bass * 0.4 + flux * 0.3;
```

---

### `services/audioFeatures.ts` (32 pattern(s))

#### Pattern: `|| 0` at line 440:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    const windowed = new Float32Array(n);
    for (let i = 0; i < n; i++) {
      const windowValue = 0.5 * (1 - Math.cos((2 * Math.PI * i) / (n - 1)));
> windowed[i] = (samples[i] || 0) * windowValue;
    }
  
    // Simple DFT (not optimized, but works for our purposes)
```

---

#### Pattern: `?? 0` at line 1004:55

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
    switch (feature) {
      case "amplitude":
> return analysis.amplitudeEnvelope[clampedFrame] ?? 0;
  
      case "rms":
        return analysis.rmsEnergy[clampedFrame] ?? 0;
```

---

#### Pattern: `?? 0` at line 1007:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        return analysis.amplitudeEnvelope[clampedFrame] ?? 0;
  
      case "rms":
> return analysis.rmsEnergy[clampedFrame] ?? 0;
  
      case "spectralCentroid":
        return analysis.spectralCentroid[clampedFrame] ?? 0;
```

---

#### Pattern: `?? 0` at line 1010:54

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        return analysis.rmsEnergy[clampedFrame] ?? 0;
  
      case "spectralCentroid":
> return analysis.spectralCentroid[clampedFrame] ?? 0;
  
      case "sub":
        return analysis.frequencyBands.sub[clampedFrame] ?? 0;
```

---

#### Pattern: `?? 0` at line 1013:56

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        return analysis.spectralCentroid[clampedFrame] ?? 0;
  
      case "sub":
> return analysis.frequencyBands.sub[clampedFrame] ?? 0;
  
      case "bass":
        return analysis.frequencyBands.bass[clampedFrame] ?? 0;
```

---

#### Pattern: `?? 0` at line 1016:57

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        return analysis.frequencyBands.sub[clampedFrame] ?? 0;
  
      case "bass":
> return analysis.frequencyBands.bass[clampedFrame] ?? 0;
  
      case "lowMid":
        return analysis.frequencyBands.lowMid[clampedFrame] ?? 0;
```

---

#### Pattern: `?? 0` at line 1019:59

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        return analysis.frequencyBands.bass[clampedFrame] ?? 0;
  
      case "lowMid":
> return analysis.frequencyBands.lowMid[clampedFrame] ?? 0;
  
      case "mid":
        return analysis.frequencyBands.mid[clampedFrame] ?? 0;
```

---

#### Pattern: `?? 0` at line 1022:56

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        return analysis.frequencyBands.lowMid[clampedFrame] ?? 0;
  
      case "mid":
> return analysis.frequencyBands.mid[clampedFrame] ?? 0;
  
      case "highMid":
        return analysis.frequencyBands.highMid[clampedFrame] ?? 0;
```

---

#### Pattern: `?? 0` at line 1025:60

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        return analysis.frequencyBands.mid[clampedFrame] ?? 0;
  
      case "highMid":
> return analysis.frequencyBands.highMid[clampedFrame] ?? 0;
  
      case "high":
        return analysis.frequencyBands.high[clampedFrame] ?? 0;
```

---

#### Pattern: `?? 0` at line 1028:57

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        return analysis.frequencyBands.highMid[clampedFrame] ?? 0;
  
      case "high":
> return analysis.frequencyBands.high[clampedFrame] ?? 0;
  
      case "onsets":
        // Return 1 if this frame is an onset, 0 otherwise
```

---

#### Pattern: `?? 0` at line 1036:52

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
      // Enhanced features
      case "spectralFlux":
> return analysis.spectralFlux?.[clampedFrame] ?? 0;
  
      case "zeroCrossingRate":
      case "zcr":
```

---

#### Pattern: `?? 0` at line 1040:56

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
      case "zeroCrossingRate":
      case "zcr":
> return analysis.zeroCrossingRate?.[clampedFrame] ?? 0;
  
      case "spectralRolloff":
      case "rolloff":
```

---

#### Pattern: `?? 0` at line 1044:55

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
      case "spectralRolloff":
      case "rolloff":
> return analysis.spectralRolloff?.[clampedFrame] ?? 0;
  
      case "spectralFlatness":
      case "flatness":
```

---

#### Pattern: `?? 0` at line 1048:56

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
      case "spectralFlatness":
      case "flatness":
> return analysis.spectralFlatness?.[clampedFrame] ?? 0;
  
      case "chromaEnergy":
        return analysis.chromaFeatures?.chromaEnergy[clampedFrame] ?? 0;
```

---

#### Pattern: `?? 0` at line 1051:66

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        return analysis.spectralFlatness?.[clampedFrame] ?? 0;
  
      case "chromaEnergy":
> return analysis.chromaFeatures?.chromaEnergy[clampedFrame] ?? 0;
  
      // Individual chroma pitch classes (C, C#, D, etc.)
      case "chromaC":
```

---

#### Pattern: `?? 0` at line 1055:65

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
      // Individual chroma pitch classes (C, C#, D, etc.)
      case "chromaC":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[0] ?? 0;
      case "chromaCs":
      case "chromaDb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[1] ?? 0;
```

---

#### Pattern: `?? 0` at line 1058:65

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[0] ?? 0;
      case "chromaCs":
      case "chromaDb":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[1] ?? 0;
      case "chromaD":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[2] ?? 0;
      case "chromaDs":
```

---

#### Pattern: `?? 0` at line 1060:65

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      case "chromaDb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[1] ?? 0;
      case "chromaD":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[2] ?? 0;
      case "chromaDs":
      case "chromaEb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[3] ?? 0;
```

---

#### Pattern: `?? 0` at line 1063:65

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[2] ?? 0;
      case "chromaDs":
      case "chromaEb":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[3] ?? 0;
      case "chromaE":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[4] ?? 0;
      case "chromaF":
```

---

#### Pattern: `?? 0` at line 1065:65

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      case "chromaEb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[3] ?? 0;
      case "chromaE":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[4] ?? 0;
      case "chromaF":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[5] ?? 0;
      case "chromaFs":
```

---

#### Pattern: `?? 0` at line 1067:65

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      case "chromaE":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[4] ?? 0;
      case "chromaF":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[5] ?? 0;
      case "chromaFs":
      case "chromaGb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[6] ?? 0;
```

---

#### Pattern: `?? 0` at line 1070:65

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[5] ?? 0;
      case "chromaFs":
      case "chromaGb":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[6] ?? 0;
      case "chromaG":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[7] ?? 0;
      case "chromaGs":
```

---

#### Pattern: `?? 0` at line 1072:65

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      case "chromaGb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[6] ?? 0;
      case "chromaG":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[7] ?? 0;
      case "chromaGs":
      case "chromaAb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[8] ?? 0;
```

---

#### Pattern: `?? 0` at line 1075:65

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[7] ?? 0;
      case "chromaGs":
      case "chromaAb":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[8] ?? 0;
      case "chromaA":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[9] ?? 0;
      case "chromaAs":
```

---

#### Pattern: `?? 0` at line 1077:65

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      case "chromaAb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[8] ?? 0;
      case "chromaA":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[9] ?? 0;
      case "chromaAs":
      case "chromaBb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[10] ?? 0;
```

---

#### Pattern: `?? 0` at line 1080:66

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[9] ?? 0;
      case "chromaAs":
      case "chromaBb":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[10] ?? 0;
      case "chromaB":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[11] ?? 0;
  
```

---

#### Pattern: `?? 0` at line 1082:66

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      case "chromaBb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[10] ?? 0;
      case "chromaB":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[11] ?? 0;
  
      // Harmonic-Percussive Source Separation (HPSS) features
      case "harmonicEnergy":
```

---

#### Pattern: `?? 0` at line 1087:54

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      // Harmonic-Percussive Source Separation (HPSS) features
      case "harmonicEnergy":
      case "harmonic":
> return analysis.harmonicEnergy?.[clampedFrame] ?? 0;
  
      case "percussiveEnergy":
      case "percussive":
```

---

#### Pattern: `?? 0` at line 1091:56

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
      case "percussiveEnergy":
      case "percussive":
> return analysis.percussiveEnergy?.[clampedFrame] ?? 0;
  
      case "hpRatio":
      case "harmonicPercussiveRatio":
```

---

#### Pattern: `?? 0` at line 1095:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
      case "hpRatio":
      case "harmonicPercussiveRatio":
> return analysis.hpRatio?.[clampedFrame] ?? 0;
  
      // MFCC coefficients with per-coefficient normalization
      // MFCC0 (log energy) has different range than MFCC1-12 (spectral shape)
```

---

#### Pattern: `Infinity literal` at line 1609:36

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    // Compute per-coefficient min/max statistics for proper MFCC normalization.
    // MFCC0 (log energy) has different range than MFCC1-12 (spectral shape).
    const stats = {
> min: new Array(numCoeffs).fill(Infinity),
      max: new Array(numCoeffs).fill(-Infinity),
    };
  
```

---

#### Pattern: `Infinity literal` at line 1610:37

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    // MFCC0 (log energy) has different range than MFCC1-12 (spectral shape).
    const stats = {
      min: new Array(numCoeffs).fill(Infinity),
> max: new Array(numCoeffs).fill(-Infinity),
    };
  
    for (const frame of mfccFrames) {
```

---

### `services/audioPathAnimator.ts` (5 pattern(s))

#### Pattern: `|| {}` at line 87:53

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      // Handle overloaded constructor signatures
      if (typeof pathDataOrConfig === "string") {
        // Called as: new AudioPathAnimator(pathData, config)
> this.config = { ...DEFAULT_CONFIG, ...(config || {}) };
        this.setPath(pathDataOrConfig);
      } else {
        // Called as: new AudioPathAnimator(config) or new AudioPathAnimator()
```

---

#### Pattern: `|| {}` at line 91:63

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        this.setPath(pathDataOrConfig);
      } else {
        // Called as: new AudioPathAnimator(config) or new AudioPathAnimator()
> this.config = { ...DEFAULT_CONFIG, ...(pathDataOrConfig || {}) };
      }
  
      this.state = {
```

---

#### Pattern: `|| []` at line 120:59

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
     */
    private parsePath(pathData: string): PathSegment[] {
      const segments: PathSegment[] = [];
> const commands = pathData.match(/[MLCQZ][^MLCQZ]*/gi) || [];
  
      let currentX = 0;
      let currentY = 0;
```

---

#### Pattern: `|| 0` at line 136:30

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
        switch (type) {
          case "M":
> currentX = nums[0] || 0;
            currentY = nums[1] || 0;
            segments.push({
              type: "M",
```

---

#### Pattern: `|| 0` at line 137:30

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        switch (type) {
          case "M":
            currentX = nums[0] || 0;
> currentY = nums[1] || 0;
            segments.push({
              type: "M",
              points: [currentX, currentY],
```

---

### `services/audioReactiveMapping.ts` (4 pattern(s))

#### Pattern: `|| 0` at line 321:66

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
      // Apply release envelope (ATI style)
      // Value decays slowly after peak, creating smooth response
> const releaseEnvelope = this.releaseEnvelopes.get(mappingId) || 0;
      if (value > releaseEnvelope) {
        // Attack: follow input immediately
        this.releaseEnvelopes.set(mappingId, value);
```

---

#### Pattern: `|| 0` at line 342:68

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          this.getFeatureAtFrame(mapping.feature, frame) > mapping.beatThreshold;
  
        if (isBeat) {
> const currentToggle = this.beatToggleStates.get(mappingId) || 0;
  
          switch (mapping.beatResponse) {
            case "flip":
```

---

#### Pattern: `|| 0` at line 365:61

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
        // Apply flip effect if active
        if (mapping.beatResponse === "flip") {
> const toggle = this.beatToggleStates.get(mappingId) || 0;
          if (toggle === 1) {
            value = 1 - value;
          }
```

---

#### Pattern: `|| 0` at line 390:61

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      value = Math.max(mapping.min, Math.min(mapping.max, value));
  
      // Apply smoothing
> const prevSmoothed = this.smoothedValues.get(mappingId) || 0;
      const smoothed =
        prevSmoothed * mapping.smoothing + value * (1 - mapping.smoothing);
      this.smoothedValues.set(mappingId, smoothed);
```

---

### `services/cameraEnhancements.ts` (1 pattern(s))

#### Pattern: `|| {}` at line 358:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        }
      }
  
> if (!before) return after || {};
      if (!after) return before;
      if (before.frame === after.frame) return before;
  
```

---

### `services/cameraTrackingImport.ts` (6 pattern(s))

#### Pattern: `|| []` at line 320:9

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          y: pose.rotation[2],
          z: pose.rotation[3],
        },
> })) || [];
  
    // Convert 3D points
    const trackPoints3D: TrackPoint3D[] =
```

---

#### Pattern: `|| []` at line 335:9

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
            }
          : undefined,
        track2DIDs: [],
> })) || [];
  
    // Get frame count from tracks
    let maxFrame = 0;
```

---

#### Pattern: `?? 0` at line 403:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    try {
      const scale = options.scale ?? 1;
      const offset = options.offset ?? { x: 0, y: 0, z: 0 };
> const frameOffset = options.frameOffset ?? 0;
  
      // Apply coordinate transformations to camera path
      const transformedPath = solve.cameraPath.map((pose) => ({
```

---

#### Pattern: `?? 0` at line 705:12

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    }): { x: number; y: number; z: number } => ({
      x: v.x,
      y: v.y,
> z: v.z ?? 0,
    });
  
    // If no keyframes, just export default pose
```

---

#### Pattern: `?? 0` at line 831:30

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
    // Linear interpolation
    const t = (frame - prev.frame) / (next.frame - prev.frame);
> const prevZ = prev.value.z ?? 0;
    const nextZ = next.value.z ?? 0;
    return {
      x: prev.value.x + (next.value.x - prev.value.x) * t,
```

---

#### Pattern: `?? 0` at line 832:30

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    // Linear interpolation
    const t = (frame - prev.frame) / (next.frame - prev.frame);
    const prevZ = prev.value.z ?? 0;
> const nextZ = next.value.z ?? 0;
    return {
      x: prev.value.x + (next.value.x - prev.value.x) * t,
      y: prev.value.y + (next.value.y - prev.value.y) * t,
```

---

### `services/colorDepthReactivity.ts` (2 pattern(s))

#### Pattern: `Infinity literal` at line 287:19

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    radius: number,
    feature: ColorFeature = "brightness",
  ): ColorSample {
> let maxValue = -Infinity;
    let maxSample: ColorSample | null = null;
  
    const startX = Math.max(0, Math.floor(centerX - radius));
```

---

#### Pattern: `Infinity literal` at line 323:18

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    radius: number,
    feature: ColorFeature = "brightness",
  ): ColorSample {
> let minValue = Infinity;
    let minSample: ColorSample | null = null;
  
    const startX = Math.max(0, Math.floor(centerX - radius));
```

---

### `services/comfyui/workflowTemplates.ts` (11 pattern(s))

#### Pattern: `|| 0` at line 1079:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        seed: params.seed,
        steps: params.steps || 20,
        cfg: params.cfgScale || 7,
> denoise: params.denoise || 0.75,
      },
    );
  
```

---

#### Pattern: `|| []` at line 1355:35

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    const workflow: ComfyUIWorkflow = {};
  
    const ttmModel = params.ttmModel || "wan";
> const layers = params.ttmLayers || [];
  
    // TTM (Time-to-Move) currently only has official support for Wan models.
    // Other model backends may produce unexpected results.
```

---

#### Pattern: `?? 0` at line 1495:43

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          image: conn(resizeId),
          motion_mask: conn(combinedMaskId),
          layer_data: combinedLayerDataId ? conn(combinedLayerDataId) : null,
> tweak_index: params.ttmTweakIndex ?? 0,
          tstrong_index: params.ttmTstrongIndex ?? 0,
        },
        "Apply TTM Motion",
```

---

#### Pattern: `?? 0` at line 1496:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          motion_mask: conn(combinedMaskId),
          layer_data: combinedLayerDataId ? conn(combinedLayerDataId) : null,
          tweak_index: params.ttmTweakIndex ?? 0,
> tstrong_index: params.ttmTstrongIndex ?? 0,
        },
        "Apply TTM Motion",
      );
```

---

#### Pattern: `?? 0` at line 1595:43

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          image: conn(resizeId),
          motion_mask: conn(combinedMaskId),
          layer_data: combinedLayerDataId ? conn(combinedLayerDataId) : null,
> tweak_index: params.ttmTweakIndex ?? 0,
          tstrong_index: params.ttmTstrongIndex ?? 0,
        },
        "Apply TTM Motion",
```

---

#### Pattern: `?? 0` at line 1596:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          motion_mask: conn(combinedMaskId),
          layer_data: combinedLayerDataId ? conn(combinedLayerDataId) : null,
          tweak_index: params.ttmTweakIndex ?? 0,
> tstrong_index: params.ttmTstrongIndex ?? 0,
        },
        "Apply TTM Motion",
      );
```

---

#### Pattern: `?? 0` at line 1655:43

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          image: conn(resizeId),
          motion_mask: conn(combinedMaskId),
          layer_data: combinedLayerDataId ? conn(combinedLayerDataId) : null,
> tweak_index: params.ttmTweakIndex ?? 0,
          tstrong_index: params.ttmTstrongIndex ?? 0,
        },
        "Apply TTM Motion",
```

---

#### Pattern: `?? 0` at line 1656:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          motion_mask: conn(combinedMaskId),
          layer_data: combinedLayerDataId ? conn(combinedLayerDataId) : null,
          tweak_index: params.ttmTweakIndex ?? 0,
> tstrong_index: params.ttmTstrongIndex ?? 0,
        },
        "Apply TTM Motion",
      );
```

---

#### Pattern: `|| []` at line 2234:56

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      "WanVideoAddWanMoveTracks",
      {
        wan_model: conn(wanLoaderId),
> tracks: JSON.stringify(params.motionData?.tracks || []),
        num_frames: params.frameCount,
        width: params.width,
        height: params.height,
```

---

#### Pattern: `|| []` at line 2371:68

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      "WanVideoATITracks",
      {
        wan_model: conn(wanLoaderId),
> trajectories: JSON.stringify(params.motionData?.trajectories || []),
        num_frames: params.frameCount,
        width: params.width,
        height: params.height,
```

---

#### Pattern: `|| []` at line 2478:60

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    workflow[cameraMatricesId] = createNode(
      "CameraComfyUI_LoadMatrices",
      {
> matrices: JSON.stringify(params.cameraData?.matrices || []),
        num_frames: params.frameCount,
      },
      "Load Camera Matrices",
```

---

### `services/conditioningRenderer.ts` (8 pattern(s))

#### Pattern: `?? 0` at line 147:25

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        cameraPosition: config.cameraPosition ?? { x: 0, y: 0, z: 1000 },
        cameraTarget: config.cameraTarget ?? { x: 0, y: 0, z: 0 },
        fov: config.fov ?? 60,
> near: config.near ?? 0.1,
        far: config.far ?? 10000,
        depthNear: config.depthNear ?? 0,
        depthFar: config.depthFar ?? 1000,
```

---

#### Pattern: `?? 0` at line 149:35

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        fov: config.fov ?? 60,
        near: config.near ?? 0.1,
        far: config.far ?? 10000,
> depthNear: config.depthNear ?? 0,
        depthFar: config.depthFar ?? 1000,
        depthInvert: config.depthInvert ?? false,
        particleSize: config.particleSize ?? 2,
```

---

#### Pattern: `?? {}` at line 154:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty object is valid default, or add proper validation

**Code:**
```typescript
        depthInvert: config.depthInvert ?? false,
        particleSize: config.particleSize ?? 2,
        backgroundColor: config.backgroundColor ?? "#000000",
> categoryColors: config.categoryColors ?? {},
      };
  
      // Create canvas (prefer OffscreenCanvas for worker support)
```

---

#### Pattern: `?? 0` at line 503:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      const valueRange = maxValue - minValue || 1;
  
      for (const p of particles) {
> const dataValue = p.dataValue ?? 0;
  
        // Normalize value to 0-1
        const t = Math.max(0, Math.min(1, (dataValue - minValue) / valueRange));
```

---

#### Pattern: `|| 0` at line 721:49

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    } = options;
  
    return rows.map((row) => {
> const x = (parseFloat(row[mapping.xColumn]) || 0) * xScale + xOffset;
      const y = (parseFloat(row[mapping.yColumn]) || 0) * yScale + yOffset;
      const z =
        mapping.zColumn !== undefined
```

---

#### Pattern: `|| 0` at line 722:49

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
    return rows.map((row) => {
      const x = (parseFloat(row[mapping.xColumn]) || 0) * xScale + xOffset;
> const y = (parseFloat(row[mapping.yColumn]) || 0) * yScale + yOffset;
      const z =
        mapping.zColumn !== undefined
          ? (parseFloat(row[mapping.zColumn]) || 0) * zScale + zOffset
```

---

#### Pattern: `|| 0` at line 725:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      const y = (parseFloat(row[mapping.yColumn]) || 0) * yScale + yOffset;
      const z =
        mapping.zColumn !== undefined
> ? (parseFloat(row[mapping.zColumn]) || 0) * zScale + zOffset
          : 0;
  
      const particle: ParticleData = {
```

---

#### Pattern: `|| 0` at line 741:69

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      }
  
      if (mapping.dataValueColumn !== undefined) {
> particle.dataValue = parseFloat(row[mapping.dataValueColumn]) || 0;
      }
  
      return particle;
```

---

### `services/dataImport.ts` (4 pattern(s))

#### Pattern: `Infinity literal` at line 598:14

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
      return 0;
    }
  
> let max = -Infinity;
    for (const row of asset.rows) {
      const value = parseFloat(row[colIndex]);
      if (!Number.isNaN(value) && value > max) {
```

---

#### Pattern: `Infinity literal` at line 606:19

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
      }
    }
  
> return max === -Infinity ? 0 : max;
  }
  
  /**
```

---

#### Pattern: `Infinity literal` at line 623:13

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
      return 0;
    }
  
> let min = Infinity;
    for (const row of asset.rows) {
      const value = parseFloat(row[colIndex]);
      if (!Number.isNaN(value) && value < min) {
```

---

#### Pattern: `Infinity literal` at line 631:18

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
      }
    }
  
> return min === Infinity ? 0 : min;
  }
  
  // ============================================================================
```

---

### `services/depthflow.ts` (2 pattern(s))

#### Pattern: `?? 0` at line 280:34

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const amplitude =
          motion.amplitude ?? (motion.endValue - motion.startValue) / 2;
        const frequency = motion.frequency ?? 1;
> const phase = motion.phase ?? 0;
        const loops = motion.loops ?? 1;
        const baseValue = (motion.startValue + motion.endValue) / 2;
        return (
```

---

#### Pattern: `?? 0` at line 293:34

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const amplitude =
          motion.amplitude ?? (motion.endValue - motion.startValue) / 2;
        const frequency = motion.frequency ?? 1;
> const phase = motion.phase ?? 0;
        const loops = motion.loops ?? 1;
        const baseValue = (motion.startValue + motion.endValue) / 2;
        return (
```

---

### `services/effects/audioVisualizer.ts` (6 pattern(s))

#### Pattern: `|| 0` at line 277:28

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        let value = 0;
  
        if (t < 0.05) {
> value = sub[frame] || 0;
        } else if (t < 0.15) {
          value = bass[frame] || 0;
        } else if (t < 0.3) {
```

---

#### Pattern: `|| 0` at line 279:29

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        if (t < 0.05) {
          value = sub[frame] || 0;
        } else if (t < 0.15) {
> value = bass[frame] || 0;
        } else if (t < 0.3) {
          value = lowMid[frame] || 0;
        } else if (t < 0.5) {
```

---

#### Pattern: `|| 0` at line 281:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        } else if (t < 0.15) {
          value = bass[frame] || 0;
        } else if (t < 0.3) {
> value = lowMid[frame] || 0;
        } else if (t < 0.5) {
          value = mid[frame] || 0;
        } else if (t < 0.7) {
```

---

#### Pattern: `|| 0` at line 283:28

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        } else if (t < 0.3) {
          value = lowMid[frame] || 0;
        } else if (t < 0.5) {
> value = mid[frame] || 0;
        } else if (t < 0.7) {
          value = highMid[frame] || 0;
        } else {
```

---

#### Pattern: `|| 0` at line 285:32

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        } else if (t < 0.5) {
          value = mid[frame] || 0;
        } else if (t < 0.7) {
> value = highMid[frame] || 0;
        } else {
          value = high[frame] || 0;
        }
```

---

#### Pattern: `|| 0` at line 287:29

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        } else if (t < 0.7) {
          value = highMid[frame] || 0;
        } else {
> value = high[frame] || 0;
        }
  
        // Add some variation within bands
```

---

### `services/effects/blurRenderer.ts` (2 pattern(s))

#### Pattern: `?? 0` at line 1022:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    input: EffectStackResult,
    params: EvaluatedEffectParams,
  ): EffectStackResult {
> const directionRaw = params.direction ?? 0;
    const direction = Number.isFinite(directionRaw)
      ? (directionRaw * Math.PI) / 180
      : 0;
```

---

#### Pattern: `?? 0` at line 1364:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const radius = Number.isFinite(radiusRaw)
      ? Math.max(1, Math.min(100, radiusRaw))
      : 1;
> const thresholdRaw = params.threshold ?? 0;
    const threshold = Number.isFinite(thresholdRaw)
      ? Math.max(0, Math.min(255, thresholdRaw))
      : 0;
```

---

### `services/effects/cinematicBloom.ts` (4 pattern(s))

#### Pattern: `?? 0` at line 674:62

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  ): EffectStackResult {
    // Extract parameters with defaults
    const intensity = Math.max(0, Math.min(10, params.intensity ?? 1.0));
> const threshold = Math.max(0, Math.min(1, params.threshold ?? 0.8));
    const radius = Math.max(0, Math.min(200, params.radius ?? 50));
    const falloffMode = (params.falloff_mode ?? "inverse_square") as
      | "gaussian"
```

---

#### Pattern: `?? 0` at line 688:61

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const radiusG = Math.max(0, Math.min(2, params.radius_g ?? 1.0)) * radius;
    const radiusB = Math.max(0, Math.min(2, params.radius_b ?? 1.0)) * radius;
    const tonemap = (params.tonemap ?? "aces") as TonemapOperator;
> const exposure = Math.max(-5, Math.min(5, params.exposure ?? 0));
    const chromaticAberration = Math.max(
      0,
      Math.min(20, params.chromatic_aberration ?? 0),
```

---

#### Pattern: `?? 0` at line 691:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const exposure = Math.max(-5, Math.min(5, params.exposure ?? 0));
    const chromaticAberration = Math.max(
      0,
> Math.min(20, params.chromatic_aberration ?? 0),
    );
    const lensDirtEnabled = params.lens_dirt_enabled ?? false;
    const lensDirtIntensity = Math.max(
```

---

#### Pattern: `?? 0` at line 696:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const lensDirtEnabled = params.lens_dirt_enabled ?? false;
    const lensDirtIntensity = Math.max(
      0,
> Math.min(1, params.lens_dirt_intensity ?? 0.5),
    );
    const lensDirtScale = Math.max(0.5, Math.min(2, params.lens_dirt_scale ?? 1));
    const blendMode = (params.blend_mode ?? "add") as BloomBlendMode;
```

---

### `services/effects/colorGrading.ts` (8 pattern(s))

#### Pattern: `?? 0` at line 38:36

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    params: EvaluatedEffectParams,
  ): EffectStackResult {
    // Lift (shadow adjustment) - validate for NaN
> const liftRRaw = params.lift_red ?? 0;
    const liftGRaw = params.lift_green ?? 0;
    const liftBRaw = params.lift_blue ?? 0;
    const liftR = Number.isFinite(liftRRaw)
```

---

#### Pattern: `?? 0` at line 39:38

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  ): EffectStackResult {
    // Lift (shadow adjustment) - validate for NaN
    const liftRRaw = params.lift_red ?? 0;
> const liftGRaw = params.lift_green ?? 0;
    const liftBRaw = params.lift_blue ?? 0;
    const liftR = Number.isFinite(liftRRaw)
      ? Math.max(-1, Math.min(1, liftRRaw))
```

---

#### Pattern: `?? 0` at line 40:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    // Lift (shadow adjustment) - validate for NaN
    const liftRRaw = params.lift_red ?? 0;
    const liftGRaw = params.lift_green ?? 0;
> const liftBRaw = params.lift_blue ?? 0;
    const liftR = Number.isFinite(liftRRaw)
      ? Math.max(-1, Math.min(1, liftRRaw))
      : 0;
```

---

#### Pattern: `?? []` at line 386:71

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
    params: EvaluatedEffectParams,
  ): EffectStackResult {
    // Parse curve data (arrays of control points)
> const hueVsHue: Array<{ x: number; y: number }> = params.hue_vs_hue ?? [];
    const hueVsSat: Array<{ x: number; y: number }> = params.hue_vs_sat ?? [];
    const hueVsLum: Array<{ x: number; y: number }> = params.hue_vs_lum ?? [];
    const lumVsSat: Array<{ x: number; y: number }> = params.lum_vs_sat ?? [];
```

---

#### Pattern: `?? []` at line 387:71

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
  ): EffectStackResult {
    // Parse curve data (arrays of control points)
    const hueVsHue: Array<{ x: number; y: number }> = params.hue_vs_hue ?? [];
> const hueVsSat: Array<{ x: number; y: number }> = params.hue_vs_sat ?? [];
    const hueVsLum: Array<{ x: number; y: number }> = params.hue_vs_lum ?? [];
    const lumVsSat: Array<{ x: number; y: number }> = params.lum_vs_sat ?? [];
    const satVsSat: Array<{ x: number; y: number }> = params.sat_vs_sat ?? [];
```

---

#### Pattern: `?? []` at line 388:71

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
    // Parse curve data (arrays of control points)
    const hueVsHue: Array<{ x: number; y: number }> = params.hue_vs_hue ?? [];
    const hueVsSat: Array<{ x: number; y: number }> = params.hue_vs_sat ?? [];
> const hueVsLum: Array<{ x: number; y: number }> = params.hue_vs_lum ?? [];
    const lumVsSat: Array<{ x: number; y: number }> = params.lum_vs_sat ?? [];
    const satVsSat: Array<{ x: number; y: number }> = params.sat_vs_sat ?? [];
  
```

---

#### Pattern: `?? []` at line 389:71

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
    const hueVsHue: Array<{ x: number; y: number }> = params.hue_vs_hue ?? [];
    const hueVsSat: Array<{ x: number; y: number }> = params.hue_vs_sat ?? [];
    const hueVsLum: Array<{ x: number; y: number }> = params.hue_vs_lum ?? [];
> const lumVsSat: Array<{ x: number; y: number }> = params.lum_vs_sat ?? [];
    const satVsSat: Array<{ x: number; y: number }> = params.sat_vs_sat ?? [];
  
    // No curves defined = no change
```

---

#### Pattern: `?? []` at line 390:71

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
    const hueVsSat: Array<{ x: number; y: number }> = params.hue_vs_sat ?? [];
    const hueVsLum: Array<{ x: number; y: number }> = params.hue_vs_lum ?? [];
    const lumVsSat: Array<{ x: number; y: number }> = params.lum_vs_sat ?? [];
> const satVsSat: Array<{ x: number; y: number }> = params.sat_vs_sat ?? [];
  
    // No curves defined = no change
    if (
```

---

### `services/effects/colorRenderer.ts` (20 pattern(s))

#### Pattern: `?? 0` at line 63:43

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    params: EvaluatedEffectParams,
  ): EffectStackResult {
    // Validate numeric params (NaN causes black pixel corruption)
> const rawBrightness = params.brightness ?? 0;
    const brightness = Number.isFinite(rawBrightness) ? rawBrightness / 100 : 0;
    const rawContrast = params.contrast ?? 0;
    const contrast = Number.isFinite(rawContrast) ? rawContrast / 100 : 0;
```

---

#### Pattern: `?? 0` at line 65:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    // Validate numeric params (NaN causes black pixel corruption)
    const rawBrightness = params.brightness ?? 0;
    const brightness = Number.isFinite(rawBrightness) ? rawBrightness / 100 : 0;
> const rawContrast = params.contrast ?? 0;
    const contrast = Number.isFinite(rawContrast) ? rawContrast / 100 : 0;
    const useLegacy = params.use_legacy ?? false;
  
```

---

#### Pattern: `?? 0` at line 194:36

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    params: EvaluatedEffectParams,
  ): EffectStackResult {
    // Validate numeric params (NaN causes black pixel corruption)
> const rawHue = params.master_hue ?? 0;
    const hueShift = Number.isFinite(rawHue) ? rawHue / 360 : 0;
    const rawSat = params.master_saturation ?? 0;
    const saturationShift = Number.isFinite(rawSat) ? rawSat / 100 : 0;
```

---

#### Pattern: `?? 0` at line 196:43

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    // Validate numeric params (NaN causes black pixel corruption)
    const rawHue = params.master_hue ?? 0;
    const hueShift = Number.isFinite(rawHue) ? rawHue / 360 : 0;
> const rawSat = params.master_saturation ?? 0;
    const saturationShift = Number.isFinite(rawSat) ? rawSat / 100 : 0;
    const rawLight = params.master_lightness ?? 0;
    const lightnessShift = Number.isFinite(rawLight) ? rawLight / 100 : 0;
```

---

#### Pattern: `?? 0` at line 198:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const hueShift = Number.isFinite(rawHue) ? rawHue / 360 : 0;
    const rawSat = params.master_saturation ?? 0;
    const saturationShift = Number.isFinite(rawSat) ? rawSat / 100 : 0;
> const rawLight = params.master_lightness ?? 0;
    const lightnessShift = Number.isFinite(rawLight) ? rawLight / 100 : 0;
    const colorize = params.colorize ?? false;
  
```

---

#### Pattern: `?? 0` at line 278:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    params: EvaluatedEffectParams,
  ): EffectStackResult {
    // Validate numeric params (NaN causes black pixel corruption)
> const rawInputBlack = params.input_black ?? 0;
    const inputBlack = Number.isFinite(rawInputBlack) ? rawInputBlack : 0;
    const rawInputWhite = params.input_white ?? 255;
    const inputWhite = Number.isFinite(rawInputWhite) ? rawInputWhite : 255;
```

---

#### Pattern: `?? 0` at line 284:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const inputWhite = Number.isFinite(rawInputWhite) ? rawInputWhite : 255;
    const rawGamma = params.gamma ?? 1;
    const gamma = Number.isFinite(rawGamma) && rawGamma > 0 ? rawGamma : 1;
> const rawOutputBlack = params.output_black ?? 0;
    const outputBlack = Number.isFinite(rawOutputBlack) ? rawOutputBlack : 0;
    const rawOutputWhite = params.output_white ?? 255;
    const outputWhite = Number.isFinite(rawOutputWhite) ? rawOutputWhite : 255;
```

---

#### Pattern: `?? 0` at line 1099:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    params: EvaluatedEffectParams,
  ): EffectStackResult {
    // Validate numeric params (NaN causes black pixel corruption)
> const rawExposure = params.exposure ?? 0;
    const exposure = Number.isFinite(rawExposure) ? rawExposure : 0;
    const rawOffset = params.offset ?? 0;
    const offset = Number.isFinite(rawOffset) ? rawOffset : 0;
```

---

#### Pattern: `?? 0` at line 1101:35

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    // Validate numeric params (NaN causes black pixel corruption)
    const rawExposure = params.exposure ?? 0;
    const exposure = Number.isFinite(rawExposure) ? rawExposure : 0;
> const rawOffset = params.offset ?? 0;
    const offset = Number.isFinite(rawOffset) ? rawOffset : 0;
    const rawGamma = params.gamma ?? 1;
    const gamma = Number.isFinite(rawGamma) && rawGamma > 0 ? rawGamma : 1;
```

---

#### Pattern: `?? 0` at line 1170:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    params: EvaluatedEffectParams,
  ): EffectStackResult {
    // Validate numeric params (NaN causes black pixel corruption)
> const rawVibrance = params.vibrance ?? 0;
    const vibrance = Number.isFinite(rawVibrance) ? rawVibrance / 100 : 0;
    const rawSaturation = params.saturation ?? 0;
    const saturation = Number.isFinite(rawSaturation) ? rawSaturation / 100 : 0;
```

---

#### Pattern: `?? 0` at line 1172:43

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    // Validate numeric params (NaN causes black pixel corruption)
    const rawVibrance = params.vibrance ?? 0;
    const vibrance = Number.isFinite(rawVibrance) ? rawVibrance / 100 : 0;
> const rawSaturation = params.saturation ?? 0;
    const saturation = Number.isFinite(rawSaturation) ? rawSaturation / 100 : 0;
  
    // No change if all values are 0
```

---

#### Pattern: `?? 0` at line 1443:35

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    params: EvaluatedEffectParams,
  ): EffectStackResult {
    // Validate numeric params (NaN causes black pixel corruption)
> const rawAmount = params.amount ?? 0;
    const amount = Number.isFinite(rawAmount) ? rawAmount / 100 : 0;
    const rawMidpoint = params.midpoint ?? 50;
    const midpoint = Number.isFinite(rawMidpoint) ? rawMidpoint / 100 : 0.5;
```

---

#### Pattern: `?? 0` at line 1447:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const amount = Number.isFinite(rawAmount) ? rawAmount / 100 : 0;
    const rawMidpoint = params.midpoint ?? 50;
    const midpoint = Number.isFinite(rawMidpoint) ? rawMidpoint / 100 : 0.5;
> const rawRoundness = params.roundness ?? 0;
    const roundness = Number.isFinite(rawRoundness) ? rawRoundness / 100 : 0;
    const rawFeather = params.feather ?? 50;
    const feather = Number.isFinite(rawFeather) ? rawFeather / 100 : 0.5;
```

---

#### Pattern: `?? 0` at line 1551:29

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        size = parseInt(trimmed.split(/\s+/)[1], 10);
      } else if (trimmed.startsWith("DOMAIN_MIN")) {
        const parts = trimmed.split(/\s+/).slice(1).map(Number);
> domainMin = [parts[0] ?? 0, parts[1] ?? 0, parts[2] ?? 0];
      } else if (trimmed.startsWith("DOMAIN_MAX")) {
        const parts = trimmed.split(/\s+/).slice(1).map(Number);
        domainMax = [parts[0] ?? 1, parts[1] ?? 1, parts[2] ?? 1];
```

---

#### Pattern: `?? 0` at line 1551:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        size = parseInt(trimmed.split(/\s+/)[1], 10);
      } else if (trimmed.startsWith("DOMAIN_MIN")) {
        const parts = trimmed.split(/\s+/).slice(1).map(Number);
> domainMin = [parts[0] ?? 0, parts[1] ?? 0, parts[2] ?? 0];
      } else if (trimmed.startsWith("DOMAIN_MAX")) {
        const parts = trimmed.split(/\s+/).slice(1).map(Number);
        domainMax = [parts[0] ?? 1, parts[1] ?? 1, parts[2] ?? 1];
```

---

#### Pattern: `?? 0` at line 1551:59

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        size = parseInt(trimmed.split(/\s+/)[1], 10);
      } else if (trimmed.startsWith("DOMAIN_MIN")) {
        const parts = trimmed.split(/\s+/).slice(1).map(Number);
> domainMin = [parts[0] ?? 0, parts[1] ?? 0, parts[2] ?? 0];
      } else if (trimmed.startsWith("DOMAIN_MAX")) {
        const parts = trimmed.split(/\s+/).slice(1).map(Number);
        domainMax = [parts[0] ?? 1, parts[1] ?? 1, parts[2] ?? 1];
```

---

#### Pattern: `?? 0` at line 1567:28

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const data = new Float32Array(size * size * size * 3);
    for (let i = 0; i < dataLines.length && i < size * size * size; i++) {
      const parts = dataLines[i].split(/\s+/).map(Number);
> data[i * 3] = parts[0] ?? 0;
      data[i * 3 + 1] = parts[1] ?? 0;
      data[i * 3 + 2] = parts[2] ?? 0;
    }
```

---

#### Pattern: `?? 0` at line 1568:32

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    for (let i = 0; i < dataLines.length && i < size * size * size; i++) {
      const parts = dataLines[i].split(/\s+/).map(Number);
      data[i * 3] = parts[0] ?? 0;
> data[i * 3 + 1] = parts[1] ?? 0;
      data[i * 3 + 2] = parts[2] ?? 0;
    }
  
```

---

#### Pattern: `?? 0` at line 1569:32

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      const parts = dataLines[i].split(/\s+/).map(Number);
      data[i * 3] = parts[0] ?? 0;
      data[i * 3 + 1] = parts[1] ?? 0;
> data[i * 3 + 2] = parts[2] ?? 0;
    }
  
    return { title, size, domainMin, domainMax, data };
```

---

#### Pattern: `?? 0` at line 1612:26

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      channel: number,
    ): number => {
      const idx = ((bi * size + gi) * size + ri) * 3 + channel;
> return lut.data[idx] ?? 0;
    };
  
    // Trilinear interpolation for each channel
```

---

### `services/effects/generateRenderer.ts` (13 pattern(s))

#### Pattern: `?? 0` at line 183:21

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
    // Normalize color
    const r = color.r ?? 255;
> const g = color.g ?? 0;
    const b = color.b ?? 0;
    const a = (color.a ?? 1) * 255 * opacity;
  
```

---

#### Pattern: `?? 0` at line 184:21

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    // Normalize color
    const r = color.r ?? 255;
    const g = color.g ?? 0;
> const b = color.b ?? 0;
    const a = (color.a ?? 1) * 255 * opacity;
  
    for (let i = 0; i < src.length; i += 4) {
```

---

#### Pattern: `?? 0` at line 240:40

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const endPoint = params.end_of_ramp ?? { x: 1, y: 0.5 };
    const endColor = params.end_color ?? { r: 255, g: 255, b: 255, a: 1 };
    const rampShape = params.ramp_shape ?? "linear";
> const scatter = (params.ramp_scatter ?? 0) / 100;
    const blend = (params.blend_with_original ?? 0) / 100;
  
    const { width, height } = input.canvas;
```

---

#### Pattern: `?? 0` at line 241:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const endColor = params.end_color ?? { r: 255, g: 255, b: 255, a: 1 };
    const rampShape = params.ramp_shape ?? "linear";
    const scatter = (params.ramp_scatter ?? 0) / 100;
> const blend = (params.blend_with_original ?? 0) / 100;
  
    const { width, height } = input.canvas;
    const output = createMatchingCanvas(input.canvas);
```

---

#### Pattern: `?? 0` at line 281:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      const outputData = output.ctx.getImageData(0, 0, width, height);
      const dst = outputData.data;
      const scatterAmount = scatter * 25;
> const frame = (params._frame as number) ?? 0;
  
      // Mulberry32 seeded random for deterministic scatter
      const seededRandom = (seed: number) => {
```

---

#### Pattern: `?? 0` at line 418:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const fractalType = params.fractal_type ?? "basic";
    const invert = params.invert ?? false;
    const contrast = (params.contrast ?? 100) / 100;
> const brightness = (params.brightness ?? 0) / 100;
    const scale = params.scale ?? 100;
    const complexity = Math.max(1, Math.min(20, params.complexity ?? 6));
    const evolution = ((params.evolution ?? 0) * Math.PI) / 180;
```

---

#### Pattern: `?? 0` at line 421:40

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const brightness = (params.brightness ?? 0) / 100;
    const scale = params.scale ?? 100;
    const complexity = Math.max(1, Math.min(20, params.complexity ?? 6));
> const evolution = ((params.evolution ?? 0) * Math.PI) / 180;
  
    const { width, height } = input.canvas;
    const output = createMatchingCanvas(input.canvas);
```

---

#### Pattern: `?? 0` at line 506:38

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    params: EvaluatedEffectParams,
    frame?: number,
  ): EffectStackResult {
> const intensity = params.intensity ?? 0.5;
    const size = params.size ?? 1;
    const softness = params.softness ?? 0;
    const animate = params.animate ?? true;
```

---

#### Pattern: `?? 0` at line 508:36

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  ): EffectStackResult {
    const intensity = params.intensity ?? 0.5;
    const size = params.size ?? 1;
> const softness = params.softness ?? 0;
    const animate = params.animate ?? true;
    const colorGrain = params.color ?? false;
  
```

---

#### Pattern: `?? 0` at line 537:33

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const grain = grainData.data;
  
    // Seed for deterministic grain when not animating
> const seed = animate ? (frame ?? 0) * 12345 : 42;
    let rngState = seed;
  
    // Simple seeded random
```

---

#### Pattern: `?? 0` at line 629:40

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      b: 128,
      a: 1,
    };
> const fadeStart = (params.fade_start ?? 0) / 100;
    const fadeEnd = (params.fade_end ?? 100) / 100;
    const invert = params.invert ?? false;
  
```

---

#### Pattern: `?? 0` at line 731:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const center = params.center ?? { x: 0.5, y: 0.5 };
    const ellipseWidth = params.ellipse_width ?? 200;
    const ellipseHeight = params.ellipse_height ?? 200;
> const softness = (params.softness ?? 0) / 100;
    const strokeWidth = params.stroke_width ?? 0;
    const strokeColor = params.stroke_color ?? { r: 255, g: 255, b: 255, a: 1 };
    const backgroundColor = params.background_color ?? { r: 0, g: 0, b: 0, a: 1 };
```

---

#### Pattern: `?? 0` at line 732:43

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const ellipseWidth = params.ellipse_width ?? 200;
    const ellipseHeight = params.ellipse_height ?? 200;
    const softness = (params.softness ?? 0) / 100;
> const strokeWidth = params.stroke_width ?? 0;
    const strokeColor = params.stroke_color ?? { r: 255, g: 255, b: 255, a: 1 };
    const backgroundColor = params.background_color ?? { r: 0, g: 0, b: 0, a: 1 };
    const invertShape = params.invert ?? false;
```

---

### `services/effects/meshDeformRenderer.ts` (2 pattern(s))

#### Pattern: `?? 0` at line 772:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    params: EvaluatedEffectParams,
  ): EffectStackResult {
    const effectInstance = params._effectInstance;
> const frame = params._frame ?? 0;
    const showMesh = params.show_mesh ?? false;
    const showPins = params.show_pins ?? true;
  
```

---

#### Pattern: `?? []` at line 777:48

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation
- **Type Info:** Array type detected

**Code:**
```typescript
    const showPins = params.show_pins ?? true;
  
    // Get pins from effect instance (injected by render pipeline)
> const pins: WarpPin[] = effectInstance?.pins ?? [];
  
    // No pins = no deformation
    if (pins.length === 0) {
```

---

### `services/effects/stylizeRenderer.ts` (15 pattern(s))

#### Pattern: `?? 0` at line 48:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  ): EffectStackResult {
    const direction = params.direction ?? "horizontal";
    // Validate numeric params (NaN causes visual corruption)
> const rawThreshold = params.threshold ?? 0.25;
    const threshold = Number.isFinite(rawThreshold) ? rawThreshold : 0.25;
    const rawSmoothing = params.smoothing ?? 0.1;
    const smoothing = Number.isFinite(rawSmoothing) ? rawSmoothing : 0.1;
```

---

#### Pattern: `?? 0` at line 50:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    // Validate numeric params (NaN causes visual corruption)
    const rawThreshold = params.threshold ?? 0.25;
    const threshold = Number.isFinite(rawThreshold) ? rawThreshold : 0.25;
> const rawSmoothing = params.smoothing ?? 0.1;
    const smoothing = Number.isFinite(rawSmoothing) ? rawSmoothing : 0.1;
    const sortBy = params.sort_by ?? "saturation";
    const reverse = params.reverse ?? false;
```

---

#### Pattern: `?? 0` at line 207:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const imageData = output.ctx.getImageData(0, 0, width, height);
    const data = imageData.data;
  
> const rng = new SeededRandom(seed + (frame ?? 0));
  
    // Horizontal block shifts
    const numBlocks = Math.floor(glitchAmount * 3);
```

---

#### Pattern: `?? 0` at line 307:36

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    params: EvaluatedEffectParams,
    frame?: number,
  ): EffectStackResult {
> const tracking = params.tracking ?? 0.5;
    const noise = params.noise ?? 0.3;
    const colorBleed = params.color_bleed ?? 3;
    const jitter = params.jitter ?? 0.5;
```

---

#### Pattern: `?? 0` at line 308:30

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    frame?: number,
  ): EffectStackResult {
    const tracking = params.tracking ?? 0.5;
> const noise = params.noise ?? 0.3;
    const colorBleed = params.color_bleed ?? 3;
    const jitter = params.jitter ?? 0.5;
    const rollingBands = params.rolling_bands ?? true;
```

---

#### Pattern: `?? 0` at line 310:32

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const tracking = params.tracking ?? 0.5;
    const noise = params.noise ?? 0.3;
    const colorBleed = params.color_bleed ?? 3;
> const jitter = params.jitter ?? 0.5;
    const rollingBands = params.rolling_bands ?? true;
  
    const output = createMatchingCanvas(input.canvas);
```

---

#### Pattern: `?? 0` at line 321:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const imageData = output.ctx.getImageData(0, 0, width, height);
    const data = imageData.data;
  
> const rng = new SeededRandom(12345 + (frame ?? 0));
  
    // Color bleeding (smear horizontally)
    if (colorBleed > 0) {
```

---

#### Pattern: `?? 0` at line 436:42

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    params: EvaluatedEffectParams,
  ): EffectStackResult {
    const redOffsetX = params.red_offset_x ?? 5;
> const redOffsetY = params.red_offset_y ?? 0;
    const greenOffsetX = params.green_offset_x ?? 0;
    const greenOffsetY = params.green_offset_y ?? 0;
    const blueOffsetX = params.blue_offset_x ?? -5;
```

---

#### Pattern: `?? 0` at line 437:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  ): EffectStackResult {
    const redOffsetX = params.red_offset_x ?? 5;
    const redOffsetY = params.red_offset_y ?? 0;
> const greenOffsetX = params.green_offset_x ?? 0;
    const greenOffsetY = params.green_offset_y ?? 0;
    const blueOffsetX = params.blue_offset_x ?? -5;
    const blueOffsetY = params.blue_offset_y ?? 0;
```

---

#### Pattern: `?? 0` at line 438:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const redOffsetX = params.red_offset_x ?? 5;
    const redOffsetY = params.red_offset_y ?? 0;
    const greenOffsetX = params.green_offset_x ?? 0;
> const greenOffsetY = params.green_offset_y ?? 0;
    const blueOffsetX = params.blue_offset_x ?? -5;
    const blueOffsetY = params.blue_offset_y ?? 0;
    const blendMode = params.blend_mode ?? "screen";
```

---

#### Pattern: `?? 0` at line 440:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const greenOffsetX = params.green_offset_x ?? 0;
    const greenOffsetY = params.green_offset_y ?? 0;
    const blueOffsetX = params.blue_offset_x ?? -5;
> const blueOffsetY = params.blue_offset_y ?? 0;
    const blendMode = params.blend_mode ?? "screen";
  
    // No offset = no change
```

---

#### Pattern: `?? 0` at line 528:34

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  ): EffectStackResult {
    const lineWidth = params.line_width ?? 2;
    const lineSpacing = params.line_spacing ?? 2;
> const opacity = params.opacity ?? 0.3;
    const direction = params.direction ?? "horizontal";
    const animate = params.animate ?? false;
  
```

---

#### Pattern: `?? 0` at line 877:28

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  ): EffectStackResult {
    const amplitude = params.amplitude ?? 10;
    const wavelength = params.wavelength ?? 50;
> let phase = params.phase ?? 0;
    const centerX = (params.center_x ?? 50) / 100;
    const centerY = (params.center_y ?? 50) / 100;
    const decay = params.decay ?? 0.5;
```

---

#### Pattern: `?? 0` at line 880:30

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    let phase = params.phase ?? 0;
    const centerX = (params.center_x ?? 50) / 100;
    const centerY = (params.center_y ?? 50) / 100;
> const decay = params.decay ?? 0.5;
  
    // Animate phase if frame is provided
    if (frame !== undefined && params.animate !== false) {
```

---

#### Pattern: `?? 0` at line 1011:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    params: EvaluatedEffectParams,
  ): EffectStackResult {
    const invert = params.invert ?? false;
> const blend = (params.blend_with_original ?? 0) / 100;
  
    const output = createMatchingCanvas(input.canvas);
    const { width, height } = input.canvas;
```

---

### `services/effects/timeRenderer.ts` (9 pattern(s))

#### Pattern: `?? 0` at line 227:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    params: EvaluatedEffectParams,
  ): EffectStackResult {
    // Get frame info from extended params (needed for echoTime default calculation)
> const frame = params._frame ?? 0;
    // Validate fps (nullish coalescing doesn't catch NaN)
    const fps =
      Number.isFinite(params._fps) && params._fps > 0 ? params._fps : 16;
```

---

#### Pattern: `?? 0` at line 244:33

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const startingIntensity = Number.isFinite(rawIntensity)
      ? Math.max(0, Math.min(1, rawIntensity))
      : 1.0;
> const rawDecay = params.decay ?? 0.5;
    const decay = Number.isFinite(rawDecay)
      ? Math.max(0, Math.min(1, rawDecay))
      : 0.5;
```

---

#### Pattern: `?? 0` at line 287:59

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
    // Composite echoes based on operator
    for (const echoData of echoFrames) {
> const intensity = intensities[echoData.echoIndex - 1] ?? 0;
      if (intensity <= 0.001) continue;
  
      // Create temp canvas for this echo
```

---

#### Pattern: `?? 0` at line 376:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const targetFps = Number.isFinite(rawTargetFps)
      ? Math.max(1, Math.min(60, rawTargetFps))
      : 12;
> const frame = params._frame ?? 0;
    // Validate fps to prevent division by NaN
    const fps =
      Number.isFinite(params._fps) && params._fps > 0 ? params._fps : 16;
```

---

#### Pattern: `?? 0` at line 499:43

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const mapType = params.map_type ?? "gradient-h";
    const rawMapScale = params.map_scale ?? 1;
    const mapScale = Number.isFinite(rawMapScale) ? rawMapScale : 1;
> const rawBias = params.time_offset_bias ?? 0;
    const bias = Number.isFinite(rawBias) ? rawBias : 0;
    const frame = params._frame ?? 0;
    const layerId = params._layerId ?? "default";
```

---

#### Pattern: `?? 0` at line 501:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const mapScale = Number.isFinite(rawMapScale) ? rawMapScale : 1;
    const rawBias = params.time_offset_bias ?? 0;
    const bias = Number.isFinite(rawBias) ? rawBias : 0;
> const frame = params._frame ?? 0;
    const layerId = params._layerId ?? "default";
  
    // No effect if max displacement is 0
```

---

#### Pattern: `?? 0` at line 583:71

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    input: EffectStackResult,
    params: EvaluatedEffectParams,
  ): EffectStackResult {
> const freezeAtFrame = Math.max(0, Math.round(params.freeze_at_frame ?? 0));
    const frame = params._frame ?? 0;
    const layerId = params._layerId ?? "default";
    const cacheKey = `${layerId}_freeze`;
```

---

#### Pattern: `?? 0` at line 584:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    params: EvaluatedEffectParams,
  ): EffectStackResult {
    const freezeAtFrame = Math.max(0, Math.round(params.freeze_at_frame ?? 0));
> const frame = params._frame ?? 0;
    const layerId = params._layerId ?? "default";
    const cacheKey = `${layerId}_freeze`;
  
```

---

#### Pattern: `Infinity literal` at line 848:21

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
  
        let bestDx = 0;
        let bestDy = 0;
> let bestSAD = Infinity;
  
        // Search within radius for best match
        for (let dy = -searchRadius; dy <= searchRadius; dy++) {
```

---

### `services/export/atiExport.ts` (1 pattern(s))

#### Pattern: `?? 0` at line 297:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    fps: number = 16,
  ): WanMoveTrajectory {
    const numPoints = points.length;
> const numFrames = points[0]?.length ?? 0;
  
    // Convert to WanMove format
    const tracks: number[][][] = points.map((track) =>
```

---

### `services/export/cameraExportFormats.ts` (1 pattern(s))

#### Pattern: `?? 0` at line 105:33

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    }
  
    // Interpolate
> const prevFrame = prev?.frame ?? 0;
    const nextFrame = next?.frame ?? prevFrame;
    const t = nextFrame === prevFrame ? 0 : (frame - prevFrame) / (nextFrame - prevFrame);
  
```

---

### `services/export/depthRenderer.ts` (8 pattern(s))

#### Pattern: `Infinity literal` at line 60:18

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
  
    // Initialize min/max to opposite extremes so any real depth value updates them.
    // Handles empty scenes gracefully by keeping these values until validated below.
> let minDepth = Infinity;
    let maxDepth = -Infinity;
  
    // Sort layers by Z depth (front to back from camera's perspective)
```

---

#### Pattern: `Infinity literal` at line 61:19

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    // Initialize min/max to opposite extremes so any real depth value updates them.
    // Handles empty scenes gracefully by keeping these values until validated below.
    let minDepth = Infinity;
> let maxDepth = -Infinity;
  
    // Sort layers by Z depth (front to back from camera's perspective)
    const sortedLayers = [...layers]
```

---

#### Pattern: `|| 0` at line 163:59

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    // Check for animated position
    if (position.keyframes && position.keyframes.length > 0) {
      // Interpolate keyframes
> return interpolateValue(position.keyframes, frame, 2) || 0;
    }
  
    // Static position
```

---

#### Pattern: `?? 0` at line 170:42

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    if (position.value) {
      const value = position.value;
      if (typeof value === "object" && "z" in value) {
> return (value as { z?: number }).z ?? 0;
      }
    }
  
```

---

#### Pattern: `|| 0` at line 218:20

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    if (position && "value" in position) {
      const value = position.value;
      if (Array.isArray(value)) {
> x = value[0] || 0;
        y = value[1] || 0;
      }
    }
```

---

#### Pattern: `|| 0` at line 219:20

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      const value = position.value;
      if (Array.isArray(value)) {
        x = value[0] || 0;
> y = value[1] || 0;
      }
    }
  
```

---

#### Pattern: `|| 0` at line 250:27

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    if (anchorPoint && "value" in anchorPoint) {
      const value = anchorPoint.value;
      if (Array.isArray(value)) {
> anchorX = (value[0] || 0) / layerWidth + 0.5;
        anchorY = (value[1] || 0) / layerHeight + 0.5;
      }
    }
```

---

#### Pattern: `|| 0` at line 251:27

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      const value = anchorPoint.value;
      if (Array.isArray(value)) {
        anchorX = (value[0] || 0) / layerWidth + 0.5;
> anchorY = (value[1] || 0) / layerHeight + 0.5;
      }
    }
  
```

---

### `services/export/exportPipeline.ts` (3 pattern(s))

#### Pattern: `?? 0` at line 317:52

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      const sortedLayers = [...this.layers]
        .filter((layer) => layer.visible)
        .sort((a, b) => {
> const az = a.transform?.position?.value?.z ?? 0;
          const bz = b.transform?.position?.value?.z ?? 0;
          return az - bz;
        });
```

---

#### Pattern: `?? 0` at line 318:52

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        .filter((layer) => layer.visible)
        .sort((a, b) => {
          const az = a.transform?.position?.value?.z ?? 0;
> const bz = b.transform?.position?.value?.z ?? 0;
          return az - bz;
        });
  
```

---

#### Pattern: `?? 0` at line 348:53

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      const rotation =
        typeof evaluated.transform.rotation === "number"
          ? evaluated.transform.rotation
> : ((evaluated.transform.rotation as any)?.z ?? 0);
      const opacity = evaluated.opacity;
  
      ctx.save();
```

---

### `services/export/vaceControlExport.ts` (23 pattern(s))

#### Pattern: `|| 0` at line 181:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
        // Create cubic bezier curve from control points
        const curve = createBezierCurve(
> { x: p0.x, y: p0.y, z: p0.z || 0 },
          {
            x: p0.x + (p0.handleOut?.x || 0),
            y: p0.y + (p0.handleOut?.y || 0),
```

---

#### Pattern: `|| 0` at line 183:38

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        const curve = createBezierCurve(
          { x: p0.x, y: p0.y, z: p0.z || 0 },
          {
> x: p0.x + (p0.handleOut?.x || 0),
            y: p0.y + (p0.handleOut?.y || 0),
            z: (p0.z || 0) + (p0.handleOut?.z || 0),
          },
```

---

#### Pattern: `|| 0` at line 184:38

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          { x: p0.x, y: p0.y, z: p0.z || 0 },
          {
            x: p0.x + (p0.handleOut?.x || 0),
> y: p0.y + (p0.handleOut?.y || 0),
            z: (p0.z || 0) + (p0.handleOut?.z || 0),
          },
          {
```

---

#### Pattern: `|| 0` at line 185:20

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          {
            x: p0.x + (p0.handleOut?.x || 0),
            y: p0.y + (p0.handleOut?.y || 0),
> z: (p0.z || 0) + (p0.handleOut?.z || 0),
          },
          {
            x: p1.x + (p1.handleIn?.x || 0),
```

---

#### Pattern: `|| 0` at line 185:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          {
            x: p0.x + (p0.handleOut?.x || 0),
            y: p0.y + (p0.handleOut?.y || 0),
> z: (p0.z || 0) + (p0.handleOut?.z || 0),
          },
          {
            x: p1.x + (p1.handleIn?.x || 0),
```

---

#### Pattern: `|| 0` at line 188:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
            z: (p0.z || 0) + (p0.handleOut?.z || 0),
          },
          {
> x: p1.x + (p1.handleIn?.x || 0),
            y: p1.y + (p1.handleIn?.y || 0),
            z: (p1.z || 0) + (p1.handleIn?.z || 0),
          },
```

---

#### Pattern: `|| 0` at line 189:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          },
          {
            x: p1.x + (p1.handleIn?.x || 0),
> y: p1.y + (p1.handleIn?.y || 0),
            z: (p1.z || 0) + (p1.handleIn?.z || 0),
          },
          { x: p1.x, y: p1.y, z: p1.z || 0 },
```

---

#### Pattern: `|| 0` at line 190:20

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          {
            x: p1.x + (p1.handleIn?.x || 0),
            y: p1.y + (p1.handleIn?.y || 0),
> z: (p1.z || 0) + (p1.handleIn?.z || 0),
          },
          { x: p1.x, y: p1.y, z: p1.z || 0 },
        );
```

---

#### Pattern: `|| 0` at line 190:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          {
            x: p1.x + (p1.handleIn?.x || 0),
            y: p1.y + (p1.handleIn?.y || 0),
> z: (p1.z || 0) + (p1.handleIn?.z || 0),
          },
          { x: p1.x, y: p1.y, z: p1.z || 0 },
        );
```

---

#### Pattern: `|| 0` at line 192:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
            y: p1.y + (p1.handleIn?.y || 0),
            z: (p1.z || 0) + (p1.handleIn?.z || 0),
          },
> { x: p1.x, y: p1.y, z: p1.z || 0 },
        );
  
        curvePath.add(curve);
```

---

#### Pattern: `|| 0` at line 204:43

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        const first = controlPoints[0];
  
        const closingCurve = createBezierCurve(
> { x: last.x, y: last.y, z: last.z || 0 },
          {
            x: last.x + (last.handleOut?.x || 0),
            y: last.y + (last.handleOut?.y || 0),
```

---

#### Pattern: `|| 0` at line 206:42

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        const closingCurve = createBezierCurve(
          { x: last.x, y: last.y, z: last.z || 0 },
          {
> x: last.x + (last.handleOut?.x || 0),
            y: last.y + (last.handleOut?.y || 0),
            z: (last.z || 0) + (last.handleOut?.z || 0),
          },
```

---

#### Pattern: `|| 0` at line 207:42

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          { x: last.x, y: last.y, z: last.z || 0 },
          {
            x: last.x + (last.handleOut?.x || 0),
> y: last.y + (last.handleOut?.y || 0),
            z: (last.z || 0) + (last.handleOut?.z || 0),
          },
          {
```

---

#### Pattern: `|| 0` at line 208:22

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          {
            x: last.x + (last.handleOut?.x || 0),
            y: last.y + (last.handleOut?.y || 0),
> z: (last.z || 0) + (last.handleOut?.z || 0),
          },
          {
            x: first.x + (first.handleIn?.x || 0),
```

---

#### Pattern: `|| 0` at line 208:49

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          {
            x: last.x + (last.handleOut?.x || 0),
            y: last.y + (last.handleOut?.y || 0),
> z: (last.z || 0) + (last.handleOut?.z || 0),
          },
          {
            x: first.x + (first.handleIn?.x || 0),
```

---

#### Pattern: `|| 0` at line 211:43

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
            z: (last.z || 0) + (last.handleOut?.z || 0),
          },
          {
> x: first.x + (first.handleIn?.x || 0),
            y: first.y + (first.handleIn?.y || 0),
            z: (first.z || 0) + (first.handleIn?.z || 0),
          },
```

---

#### Pattern: `|| 0` at line 212:43

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          },
          {
            x: first.x + (first.handleIn?.x || 0),
> y: first.y + (first.handleIn?.y || 0),
            z: (first.z || 0) + (first.handleIn?.z || 0),
          },
          { x: first.x, y: first.y, z: first.z || 0 },
```

---

#### Pattern: `|| 0` at line 213:23

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          {
            x: first.x + (first.handleIn?.x || 0),
            y: first.y + (first.handleIn?.y || 0),
> z: (first.z || 0) + (first.handleIn?.z || 0),
          },
          { x: first.x, y: first.y, z: first.z || 0 },
        );
```

---

#### Pattern: `|| 0` at line 213:50

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          {
            x: first.x + (first.handleIn?.x || 0),
            y: first.y + (first.handleIn?.y || 0),
> z: (first.z || 0) + (first.handleIn?.z || 0),
          },
          { x: first.x, y: first.y, z: first.z || 0 },
        );
```

---

#### Pattern: `|| 0` at line 215:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
            y: first.y + (first.handleIn?.y || 0),
            z: (first.z || 0) + (first.handleIn?.z || 0),
          },
> { x: first.x, y: first.y, z: first.z || 0 },
        );
  
        curvePath.add(closingCurve);
```

---

#### Pattern: `?? 0` at line 556:36

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      fillColor: options.fillColor ?? "#FFFFFF",
      strokeColor: options.strokeColor,
      strokeWidth: options.strokeWidth,
> startFrame: options.startFrame ?? 0,
      duration: options.duration ?? 60,
      easing: options.easing ?? "ease-in-out",
      alignToPath: options.alignToPath ?? true,
```

---

#### Pattern: `?? 0` at line 560:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      duration: options.duration ?? 60,
      easing: options.easing ?? "ease-in-out",
      alignToPath: options.alignToPath ?? true,
> rotationOffset: options.rotationOffset ?? 0,
      loop: options.loop ?? false,
      loopMode: options.loopMode ?? "restart",
      scaleStart: options.scaleStart ?? 1,
```

---

#### Pattern: `?? 0` at line 580:36

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    return {
      width: options.width ?? 512,
      height: options.height ?? 512,
> startFrame: options.startFrame ?? 0,
      endFrame: options.endFrame ?? 80,
      frameRate: options.frameRate ?? 16,
      backgroundColor: options.backgroundColor ?? "#000000",
```

---

### `services/export/wanMoveExport.ts` (7 pattern(s))

#### Pattern: `?? 0` at line 203:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
    // Modify trajectories based on data mapping
    const modifiedTracks = baseFlow.tracks.map((track, i) => {
> const dataVal = normalizedData[i] ?? 0.5;
  
      return track.map((point, f) => {
        const [x, y] = point;
```

---

#### Pattern: `?? 0` at line 761:24

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    config: AttractorConfig,
  ): WanMoveTrajectory {
    const { numPoints, numFrames, width, height, seed = 42 } = config;
> const dt = config.dt ?? 0.005;
    const scale = config.scale ?? 8;
    const center = config.center ?? { x: width / 2, y: height / 2 };
  
```

---

#### Pattern: `?? 0` at line 836:24

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    config: AttractorConfig,
  ): WanMoveTrajectory {
    const { numPoints, numFrames, width, height, seed = 42 } = config;
> const dt = config.dt ?? 0.02;
    const scale = config.scale ?? 15;
    const center = config.center ?? { x: width / 2, y: height / 2 };
  
```

---

#### Pattern: `?? 0` at line 906:24

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    config: AttractorConfig,
  ): WanMoveTrajectory {
    const { numPoints, numFrames, width, height, seed = 42 } = config;
> const dt = config.dt ?? 0.01;
    const scale = config.scale ?? 80;
    const center = config.center ?? { x: width / 2, y: height / 2 };
  
```

---

#### Pattern: `?? 0` at line 1053:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      case "grid": {
        const cols = shape.columns ?? Math.ceil(Math.sqrt(numPoints));
        const rows = shape.rows ?? Math.ceil(numPoints / cols);
> const padding = shape.padding ?? 0.1;
        const points: Array<{ x: number; y: number }> = [];
  
        for (let i = 0; i < numPoints; i++) {
```

---

#### Pattern: `?? 0` at line 1188:40

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      target,
      seed = 42,
    } = config;
> const morphNoise = config.morphNoise ?? 0.1;
    const easing = config.easing ?? "ease-in-out";
  
    const rng = new SeededRandom(seed);
```

---

#### Pattern: `?? 0` at line 1316:34

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    config: ForceFieldConfig,
  ): WanMoveTrajectory {
    const { numPoints, numFrames, width, height, forces, seed = 42 } = config;
> const damping = config.damping ?? 0.98;
    const maxSpeed = config.maxSpeed ?? 15;
    const distribution = config.initialDistribution ?? "random";
  
```

---

### `services/export/wanMoveFlowGenerators.ts` (11 pattern(s))

#### Pattern: `?? 0` at line 106:38

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
    const turns = params.spiralTurns ?? 3;
    const expansion = params.spiralExpansion ?? 1.5;
> const noise = params.noiseStrength ?? 0.1;
  
    const centerX = width / 2;
    const centerY = height / 2;
```

---

#### Pattern: `?? 0` at line 168:34

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
    const amplitude = params.waveAmplitude ?? height * 0.15;
    const frequency = params.waveFrequency ?? 3;
> const speed = params.waveSpeed ?? 0.1;
    const layers = params.waveLayers ?? 5;
    const noise = params.noiseStrength ?? 0.05;
  
```

---

#### Pattern: `?? 0` at line 170:38

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const frequency = params.waveFrequency ?? 3;
    const speed = params.waveSpeed ?? 0.1;
    const layers = params.waveLayers ?? 5;
> const noise = params.noiseStrength ?? 0.05;
  
    const tracks: number[][][] = [];
    const visibility: boolean[][] = [];
```

---

#### Pattern: `?? 0` at line 235:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const rng = new SeededRandom(params.seed ?? 42);
  
    const explosionSpeed = params.explosionSpeed ?? 1.0;
> const decay = params.explosionDecay ?? 0.95;
    const center = params.explosionCenter ?? { x: width / 2, y: height / 2 };
    const noise = params.noiseStrength ?? 0.1;
  
```

---

#### Pattern: `?? 0` at line 237:38

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const explosionSpeed = params.explosionSpeed ?? 1.0;
    const decay = params.explosionDecay ?? 0.95;
    const center = params.explosionCenter ?? { x: width / 2, y: height / 2 };
> const noise = params.noiseStrength ?? 0.1;
  
    const tracks: number[][][] = [];
    const visibility: boolean[][] = [];
```

---

#### Pattern: `?? 0` at line 311:42

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const { numPoints, numFrames, width, height, params } = config;
    const rng = new SeededRandom(params.seed ?? 42);
  
> const strength = params.vortexStrength ?? 0.5;
    const maxRadius = params.vortexRadius ?? Math.min(width, height) * 0.4;
    const center = params.vortexCenter ?? { x: width / 2, y: height / 2 };
    const noise = params.noiseStrength ?? 0.05;
```

---

#### Pattern: `?? 0` at line 314:38

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const strength = params.vortexStrength ?? 0.5;
    const maxRadius = params.vortexRadius ?? Math.min(width, height) * 0.4;
    const center = params.vortexCenter ?? { x: width / 2, y: height / 2 };
> const noise = params.noiseStrength ?? 0.05;
  
    const tracks: number[][][] = [];
    const visibility: boolean[][] = [];
```

---

#### Pattern: `?? 0` at line 371:35

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const rng = new SeededRandom(params.seed ?? 42);
  
    const riverWidth = params.riverWidth ?? height * 0.3;
> const curve = params.riverCurve ?? 0.5;
    const turbulence = params.riverTurbulence ?? 0.1;
  
    const tracks: number[][][] = [];
```

---

#### Pattern: `?? 0` at line 372:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
    const riverWidth = params.riverWidth ?? height * 0.3;
    const curve = params.riverCurve ?? 0.5;
> const turbulence = params.riverTurbulence ?? 0.1;
  
    const tracks: number[][][] = [];
    const visibility: boolean[][] = [];
```

---

#### Pattern: `?? 0` at line 560:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const { numPoints, numFrames, width, height, params } = config;
    const rng = new SeededRandom(params.seed ?? 42);
  
> const cohesion = params.swarmCohesion ?? 0.01;
    const separation = params.swarmSeparation ?? 30;
    const alignment = params.swarmAlignment ?? 0.05;
    const maxSpeed = params.swarmSpeed ?? 5;
```

---

#### Pattern: `?? 0` at line 562:43

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
    const cohesion = params.swarmCohesion ?? 0.01;
    const separation = params.swarmSeparation ?? 30;
> const alignment = params.swarmAlignment ?? 0.05;
    const maxSpeed = params.swarmSpeed ?? 5;
  
    // Initialize particles
```

---

### `services/expressions/coordinateConversion.ts` (28 pattern(s))

#### Pattern: `?? 0` at line 39:26

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
   * @returns Rotation angles [rx, ry, rz] in degrees
   */
  export function lookAt(fromPoint: number[], toPoint: number[]): number[] {
> const dx = (toPoint[0] ?? 0) - (fromPoint[0] ?? 0);
    const dy = (toPoint[1] ?? 0) - (fromPoint[1] ?? 0);
    const dz = (toPoint[2] ?? 0) - (fromPoint[2] ?? 0);
  
```

---

#### Pattern: `?? 0` at line 39:48

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
   * @returns Rotation angles [rx, ry, rz] in degrees
   */
  export function lookAt(fromPoint: number[], toPoint: number[]): number[] {
> const dx = (toPoint[0] ?? 0) - (fromPoint[0] ?? 0);
    const dy = (toPoint[1] ?? 0) - (fromPoint[1] ?? 0);
    const dz = (toPoint[2] ?? 0) - (fromPoint[2] ?? 0);
  
```

---

#### Pattern: `?? 0` at line 40:26

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
   */
  export function lookAt(fromPoint: number[], toPoint: number[]): number[] {
    const dx = (toPoint[0] ?? 0) - (fromPoint[0] ?? 0);
> const dy = (toPoint[1] ?? 0) - (fromPoint[1] ?? 0);
    const dz = (toPoint[2] ?? 0) - (fromPoint[2] ?? 0);
  
    // Calculate yaw (Y rotation) and pitch (X rotation)
```

---

#### Pattern: `?? 0` at line 40:48

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
   */
  export function lookAt(fromPoint: number[], toPoint: number[]): number[] {
    const dx = (toPoint[0] ?? 0) - (fromPoint[0] ?? 0);
> const dy = (toPoint[1] ?? 0) - (fromPoint[1] ?? 0);
    const dz = (toPoint[2] ?? 0) - (fromPoint[2] ?? 0);
  
    // Calculate yaw (Y rotation) and pitch (X rotation)
```

---

#### Pattern: `?? 0` at line 41:26

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  export function lookAt(fromPoint: number[], toPoint: number[]): number[] {
    const dx = (toPoint[0] ?? 0) - (fromPoint[0] ?? 0);
    const dy = (toPoint[1] ?? 0) - (fromPoint[1] ?? 0);
> const dz = (toPoint[2] ?? 0) - (fromPoint[2] ?? 0);
  
    // Calculate yaw (Y rotation) and pitch (X rotation)
    const yaw = (Math.atan2(dx, dz) * 180) / Math.PI;
```

---

#### Pattern: `?? 0` at line 41:48

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  export function lookAt(fromPoint: number[], toPoint: number[]): number[] {
    const dx = (toPoint[0] ?? 0) - (fromPoint[0] ?? 0);
    const dy = (toPoint[1] ?? 0) - (fromPoint[1] ?? 0);
> const dz = (toPoint[2] ?? 0) - (fromPoint[2] ?? 0);
  
    // Calculate yaw (Y rotation) and pitch (X rotation)
    const yaw = (Math.atan2(dx, dz) * 180) / Math.PI;
```

---

#### Pattern: `?? 0` at line 63:22

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    // If tangent provided, use it directly
    if (tangentVector) {
      const [dx, dy, dz] = tangentVector;
> const dxVal = dx ?? 0;
      const dyVal = dy ?? 0;
      const dzVal = dz ?? 1;
      const yaw = (Math.atan2(dxVal, dzVal) * 180) / Math.PI;
```

---

#### Pattern: `?? 0` at line 64:22

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    if (tangentVector) {
      const [dx, dy, dz] = tangentVector;
      const dxVal = dx ?? 0;
> const dyVal = dy ?? 0;
      const dzVal = dz ?? 1;
      const yaw = (Math.atan2(dxVal, dzVal) * 180) / Math.PI;
      const dist = Math.sqrt(dxVal ** 2 + dzVal ** 2);
```

---

#### Pattern: `?? 0` at line 75:23

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    // Calculate tangent from velocity
    const vel = ctx.velocity;
    if (Array.isArray(vel) && vel.length >= 2) {
> const dx = vel[0] ?? 0;
      const dy = vel[1] ?? 0;
      const dz = vel[2] ?? 1;
      const yaw = (Math.atan2(dx, dz) * 180) / Math.PI;
```

---

#### Pattern: `?? 0` at line 76:23

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const vel = ctx.velocity;
    if (Array.isArray(vel) && vel.length >= 2) {
      const dx = vel[0] ?? 0;
> const dy = vel[1] ?? 0;
      const dz = vel[2] ?? 1;
      const yaw = (Math.atan2(dx, dz) * 180) / Math.PI;
      const dist = Math.sqrt(dx ** 2 + dz ** 2);
```

---

#### Pattern: `?? 0` at line 119:27

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const { position, scale, rotation, anchor } = layerTransform;
  
    // Apply anchor offset
> let x = px - (anchor[0] ?? 0);
    let y = py - (anchor[1] ?? 0);
    let z = pz - (anchor[2] ?? 0);
  
```

---

#### Pattern: `?? 0` at line 120:27

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
    // Apply anchor offset
    let x = px - (anchor[0] ?? 0);
> let y = py - (anchor[1] ?? 0);
    let z = pz - (anchor[2] ?? 0);
  
    // Apply scale (use ?? to preserve intentional 0)
```

---

#### Pattern: `?? 0` at line 121:27

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    // Apply anchor offset
    let x = px - (anchor[0] ?? 0);
    let y = py - (anchor[1] ?? 0);
> let z = pz - (anchor[2] ?? 0);
  
    // Apply scale (use ?? to preserve intentional 0)
    x *= (scale[0] ?? 100) / 100;
```

---

#### Pattern: `?? 0` at line 129:43

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    z *= (scale[2] ?? 100) / 100;
  
    // Apply rotation (Z, then Y, then X - matching AE order)
> const rz = ((rotation[2] ?? rotation[0] ?? 0) * Math.PI) / 180;
    const ry = ((rotation[1] ?? 0) * Math.PI) / 180;
    const rx = ((rotation[0] ?? 0) * Math.PI) / 180;
  
```

---

#### Pattern: `?? 0` at line 130:28

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
    // Apply rotation (Z, then Y, then X - matching AE order)
    const rz = ((rotation[2] ?? rotation[0] ?? 0) * Math.PI) / 180;
> const ry = ((rotation[1] ?? 0) * Math.PI) / 180;
    const rx = ((rotation[0] ?? 0) * Math.PI) / 180;
  
    // Rotate around Z
```

---

#### Pattern: `?? 0` at line 131:28

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    // Apply rotation (Z, then Y, then X - matching AE order)
    const rz = ((rotation[2] ?? rotation[0] ?? 0) * Math.PI) / 180;
    const ry = ((rotation[1] ?? 0) * Math.PI) / 180;
> const rx = ((rotation[0] ?? 0) * Math.PI) / 180;
  
    // Rotate around Z
    const x1 = x * Math.cos(rz) - y * Math.sin(rz);
```

---

#### Pattern: `?? 0` at line 149:21

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    let z3 = y2 * Math.sin(rx) + z2 * Math.cos(rx);
  
    // Apply position offset
> x3 += position[0] ?? 0;
    y3 += position[1] ?? 0;
    z3 += position[2] ?? 0;
  
```

---

#### Pattern: `?? 0` at line 150:21

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
    // Apply position offset
    x3 += position[0] ?? 0;
> y3 += position[1] ?? 0;
    z3 += position[2] ?? 0;
  
    // Recursively apply parent transforms
```

---

#### Pattern: `?? 0` at line 151:21

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    // Apply position offset
    x3 += position[0] ?? 0;
    y3 += position[1] ?? 0;
> z3 += position[2] ?? 0;
  
    // Recursively apply parent transforms
    if (layerTransform.parent) {
```

---

#### Pattern: `?? 0` at line 192:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const { position, scale, rotation, anchor } = layerTransform;
  
    // Subtract position
> const x = px - (position[0] ?? 0);
    const y = py - (position[1] ?? 0);
    const z = pz - (position[2] ?? 0);
  
```

---

#### Pattern: `?? 0` at line 193:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
    // Subtract position
    const x = px - (position[0] ?? 0);
> const y = py - (position[1] ?? 0);
    const z = pz - (position[2] ?? 0);
  
    // Inverse rotation (X, then Y, then Z - reverse order)
```

---

#### Pattern: `?? 0` at line 194:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    // Subtract position
    const x = px - (position[0] ?? 0);
    const y = py - (position[1] ?? 0);
> const z = pz - (position[2] ?? 0);
  
    // Inverse rotation (X, then Y, then Z - reverse order)
    const rz = (-(rotation[2] ?? rotation[0] ?? 0) * Math.PI) / 180;
```

---

#### Pattern: `?? 0` at line 197:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const z = pz - (position[2] ?? 0);
  
    // Inverse rotation (X, then Y, then Z - reverse order)
> const rz = (-(rotation[2] ?? rotation[0] ?? 0) * Math.PI) / 180;
    const ry = (-(rotation[1] ?? 0) * Math.PI) / 180;
    const rx = (-(rotation[0] ?? 0) * Math.PI) / 180;
  
```

---

#### Pattern: `?? 0` at line 198:29

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
    // Inverse rotation (X, then Y, then Z - reverse order)
    const rz = (-(rotation[2] ?? rotation[0] ?? 0) * Math.PI) / 180;
> const ry = (-(rotation[1] ?? 0) * Math.PI) / 180;
    const rx = (-(rotation[0] ?? 0) * Math.PI) / 180;
  
    // Rotate around X (inverse)
```

---

#### Pattern: `?? 0` at line 199:29

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    // Inverse rotation (X, then Y, then Z - reverse order)
    const rz = (-(rotation[2] ?? rotation[0] ?? 0) * Math.PI) / 180;
    const ry = (-(rotation[1] ?? 0) * Math.PI) / 180;
> const rx = (-(rotation[0] ?? 0) * Math.PI) / 180;
  
    // Rotate around X (inverse)
    const x1 = x;
```

---

#### Pattern: `?? 0` at line 230:19

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    z3 /= sz || 1;
  
    // Add anchor
> x3 += anchor[0] ?? 0;
    y3 += anchor[1] ?? 0;
    z3 += anchor[2] ?? 0;
  
```

---

#### Pattern: `?? 0` at line 231:19

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
    // Add anchor
    x3 += anchor[0] ?? 0;
> y3 += anchor[1] ?? 0;
    z3 += anchor[2] ?? 0;
  
    return point.length === 2 ? [x3, y3] : [x3, y3, z3];
```

---

#### Pattern: `?? 0` at line 232:19

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    // Add anchor
    x3 += anchor[0] ?? 0;
    y3 += anchor[1] ?? 0;
> z3 += anchor[2] ?? 0;
  
    return point.length === 2 ? [x3, y3] : [x3, y3, z3];
  }
```

---

### `services/expressions/expressionEvaluator.ts` (9 pattern(s))

#### Pattern: `?? 0` at line 479:38

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      frameDuration: 1 / fps,
      width: ctx.compWidth ?? 1920,
      height: ctx.compHeight ?? 1080,
> numLayers: ctx.allLayers?.length ?? 0,
      layer: (nameOrIndex: string | number) => {
        const getLayerProperty = ctx.getLayerProperty;
        const getLayerEffectParam = ctx.getLayerEffectParam;
```

---

#### Pattern: `?? 0` at line 513:72

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
        const createEffectAccessor = (effectName: string) => {
          const accessor = (paramName: string) => {
> return getLayerEffectParam?.(layerId, effectName, paramName) ?? 0;
          };
          accessor.param = accessor;
          // Slider Control
```

---

#### Pattern: `?? 0` at line 518:63

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          accessor.param = accessor;
          // Slider Control
          accessor.value =
> getLayerEffectParam?.(layerId, effectName, "value") ?? 0;
          accessor.slider =
            getLayerEffectParam?.(layerId, effectName, "slider") ??
            getLayerEffectParam?.(layerId, effectName, "Slider") ??
```

---

#### Pattern: `?? 0` at line 560:68

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
        return {
          name: ctx.allLayers?.find((l) => l.id === layerId)?.name ?? "",
> index: ctx.allLayers?.find((l) => l.id === layerId)?.index ?? 0,
          position: getLayerProperty?.(layerId, "transform.position") ?? [0, 0],
          scale: getLayerProperty?.(layerId, "transform.scale") ?? [100, 100],
          rotation: getLayerProperty?.(layerId, "transform.rotation") ?? 0,
```

---

#### Pattern: `?? 0` at line 563:69

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          index: ctx.allLayers?.find((l) => l.id === layerId)?.index ?? 0,
          position: getLayerProperty?.(layerId, "transform.position") ?? [0, 0],
          scale: getLayerProperty?.(layerId, "transform.scale") ?? [100, 100],
> rotation: getLayerProperty?.(layerId, "transform.rotation") ?? 0,
          opacity: getLayerProperty?.(layerId, "transform.opacity") ?? 100,
          anchorPoint: getLayerProperty?.(layerId, "transform.anchorPoint") ?? [
            0, 0,
```

---

#### Pattern: `?? 0` at line 622:42

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        );
        const accessor = (paramName: string) => {
          if (!eff) return 0;
> return eff.parameters[paramName] ?? 0;
        };
        accessor.param = accessor;
        // Slider Control
```

---

#### Pattern: `?? 0` at line 626:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        };
        accessor.param = accessor;
        // Slider Control
> accessor.value = eff?.parameters.value ?? 0;
        accessor.slider = eff?.parameters.slider ?? eff?.parameters.Slider ?? 0;
        // Angle Control
        accessor.angle = eff?.parameters.angle ?? eff?.parameters.Angle ?? 0;
```

---

#### Pattern: `?? 0` at line 627:74

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        accessor.param = accessor;
        // Slider Control
        accessor.value = eff?.parameters.value ?? 0;
> accessor.slider = eff?.parameters.slider ?? eff?.parameters.Slider ?? 0;
        // Angle Control
        accessor.angle = eff?.parameters.angle ?? eff?.parameters.Angle ?? 0;
        // Checkbox Control
```

---

#### Pattern: `?? 0` at line 629:71

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        accessor.value = eff?.parameters.value ?? 0;
        accessor.slider = eff?.parameters.slider ?? eff?.parameters.Slider ?? 0;
        // Angle Control
> accessor.angle = eff?.parameters.angle ?? eff?.parameters.Angle ?? 0;
        // Checkbox Control
        accessor.checkbox =
          eff?.parameters.checkbox ?? eff?.parameters.Checkbox ?? false;
```

---

### `services/expressions/layerContentExpressions.ts` (11 pattern(s))

#### Pattern: `Infinity literal` at line 104:14

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    data: ShapeLayerData,
    includeExtents: boolean,
  ): SourceRect {
> let minX = Infinity,
      minY = Infinity;
    let maxX = -Infinity,
      maxY = -Infinity;
```

---

#### Pattern: `Infinity literal` at line 105:12

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    includeExtents: boolean,
  ): SourceRect {
    let minX = Infinity,
> minY = Infinity;
    let maxX = -Infinity,
      maxY = -Infinity;
  
```

---

#### Pattern: `Infinity literal` at line 106:15

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
  ): SourceRect {
    let minX = Infinity,
      minY = Infinity;
> let maxX = -Infinity,
      maxY = -Infinity;
  
    // Extract paths from shape layer contents
```

---

#### Pattern: `Infinity literal` at line 107:13

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    let minX = Infinity,
      minY = Infinity;
    let maxX = -Infinity,
> maxY = -Infinity;
  
    // Extract paths from shape layer contents
    const paths: BezierPath[] = [];
```

---

#### Pattern: `?? []` at line 126:30

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
      }
    }
  
> extractPaths(data.contents ?? []);
  
    if (paths.length === 0) {
      return { top: 0, left: 0, width: 100, height: 100 };
```

---

#### Pattern: `?? []` at line 133:36

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
    }
  
    paths.forEach((path: BezierPath) => {
> const vertices = path.vertices ?? [];
      vertices.forEach((vertex: BezierVertex) => {
        const x = vertex.point?.x ?? 0;
        const y = vertex.point?.y ?? 0;
```

---

#### Pattern: `?? 0` at line 135:33

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    paths.forEach((path: BezierPath) => {
      const vertices = path.vertices ?? [];
      vertices.forEach((vertex: BezierVertex) => {
> const x = vertex.point?.x ?? 0;
        const y = vertex.point?.y ?? 0;
        minX = Math.min(minX, x);
        minY = Math.min(minY, y);
```

---

#### Pattern: `?? 0` at line 136:33

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      const vertices = path.vertices ?? [];
      vertices.forEach((vertex: BezierVertex) => {
        const x = vertex.point?.x ?? 0;
> const y = vertex.point?.y ?? 0;
        minX = Math.min(minX, x);
        minY = Math.min(minY, y);
        maxX = Math.max(maxX, x);
```

---

#### Pattern: `?? []` at line 164:35

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
          }
        }
      }
> findStrokeWidth(data.contents ?? []);
      
      if (maxStrokeWidth > 0) {
        const strokeExtent = maxStrokeWidth / 2;
```

---

#### Pattern: `?? 0` at line 232:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      fontStyle: layerData?.fontStyle ?? "normal",
      fillColor: layerData?.fill ?? "#FFFFFF",
      strokeColor: layerData?.stroke ?? "#000000",
> strokeWidth: layerData?.strokeWidth ?? 0,
      tracking: layerData?.letterSpacing ?? 0,
      leading: layerData?.lineHeight ?? 1.2,
    };
```

---

#### Pattern: `?? 0` at line 233:40

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      fillColor: layerData?.fill ?? "#FFFFFF",
      strokeColor: layerData?.stroke ?? "#000000",
      strokeWidth: layerData?.strokeWidth ?? 0,
> tracking: layerData?.letterSpacing ?? 0,
      leading: layerData?.lineHeight ?? 1.2,
    };
  }
```

---

### `services/expressions/loopExpressions.ts` (2 pattern(s))

#### Pattern: `?? 0` at line 95:53

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          return value + velocity * elapsed;
        }
        if (Array.isArray(velocity) && Array.isArray(value)) {
> return value.map((v, i) => v + (velocity[i] ?? 0) * elapsed);
        }
        // Type mismatch - return unchanged
        console.warn(
```

---

#### Pattern: `?? 0` at line 167:53

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          return value - velocity * elapsed;
        }
        if (Array.isArray(velocity) && Array.isArray(value)) {
> return value.map((v, i) => v - (velocity[i] ?? 0) * elapsed);
        }
        // Type mismatch - return unchanged
        console.warn(
```

---

### `services/expressions/motionExpressions.ts` (5 pattern(s))

#### Pattern: `?? 0` at line 60:19

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    originalValue: number | number[] | { x: number; y: number; z?: number }
  ): number | number[] | { x: number; y: number; z?: number } {
    if (typeof originalValue === 'number') {
> return arr[0] ?? 0;
    }
    if (Array.isArray(originalValue)) {
      return arr;
```

---

#### Pattern: `?? 0` at line 68:17

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    // Object format
    if (typeof originalValue === 'object' && originalValue !== null && 'x' in originalValue) {
      const result: { x: number; y: number; z?: number } = {
> x: arr[0] ?? 0,
        y: arr[1] ?? 0,
      };
      if ('z' in originalValue && originalValue.z !== undefined) {
```

---

#### Pattern: `?? 0` at line 69:17

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    if (typeof originalValue === 'object' && originalValue !== null && 'x' in originalValue) {
      const result: { x: number; y: number; z?: number } = {
        x: arr[0] ?? 0,
> y: arr[1] ?? 0,
      };
      if ('z' in originalValue && originalValue.z !== undefined) {
        result.z = arr[2] ?? 0;
```

---

#### Pattern: `?? 0` at line 72:25

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        y: arr[1] ?? 0,
      };
      if ('z' in originalValue && originalValue.z !== undefined) {
> result.z = arr[2] ?? 0;
      }
      return result;
    }
```

---

#### Pattern: `?? 0` at line 127:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
    // Apply oscillation to each component
    const resultArr = valueArr.map((v, i) => {
> const componentVel = velocityArr[i] ?? 0;
      const oscillation =
        (componentVel * safeAmplitude * Math.sin(safeFrequency * t * 2 * Math.PI)) /
        Math.exp(safeDecay * t);
```

---

### `services/expressions/sesEvaluator.ts` (15 pattern(s))

#### Pattern: `NaN literal` at line 171:5

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isNaN() for comparisons

**Code:**
```typescript
      EPSILON: Number.EPSILON,
      POSITIVE_INFINITY: Number.POSITIVE_INFINITY,
      NEGATIVE_INFINITY: Number.NEGATIVE_INFINITY,
> NaN: Number.NaN,
    });
  
    // Utility functions for expressions
```

---

#### Pattern: `NaN literal` at line 171:17

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isNaN() for comparisons

**Code:**
```typescript
      EPSILON: Number.EPSILON,
      POSITIVE_INFINITY: Number.POSITIVE_INFINITY,
      NEGATIVE_INFINITY: Number.NEGATIVE_INFINITY,
> NaN: Number.NaN,
    });
  
    // Utility functions for expressions
```

---

#### Pattern: `?? 0` at line 227:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const arrB = Array.isArray(b) ? b : [b];
        let sum = 0;
        for (let i = 0; i < Math.max(arrA.length, arrB.length); i++) {
> const diff = (arrA[i] ?? 0) - (arrB[i] ?? 0);
          sum += diff * diff;
        }
        return Math.sqrt(sum);
```

---

#### Pattern: `?? 0` at line 227:48

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const arrB = Array.isArray(b) ? b : [b];
        let sum = 0;
        for (let i = 0; i < Math.max(arrA.length, arrB.length); i++) {
> const diff = (arrA[i] ?? 0) - (arrB[i] ?? 0);
          sum += diff * diff;
        }
        return Math.sqrt(sum);
```

---

#### Pattern: `?? 0` at line 241:30

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const len = Math.max(arrA.length, arrB.length);
        const result = [];
        for (let i = 0; i < len; i++) {
> result.push((arrA[i] ?? 0) + (arrB[i] ?? 0));
        }
        return result;
      },
```

---

#### Pattern: `?? 0` at line 241:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const len = Math.max(arrA.length, arrB.length);
        const result = [];
        for (let i = 0; i < len; i++) {
> result.push((arrA[i] ?? 0) + (arrB[i] ?? 0));
        }
        return result;
      },
```

---

#### Pattern: `?? 0` at line 254:30

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const len = Math.max(arrA.length, arrB.length);
        const result = [];
        for (let i = 0; i < len; i++) {
> result.push((arrA[i] ?? 0) - (arrB[i] ?? 0));
        }
        return result;
      },
```

---

#### Pattern: `?? 0` at line 254:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const len = Math.max(arrA.length, arrB.length);
        const result = [];
        for (let i = 0; i < len; i++) {
> result.push((arrA[i] ?? 0) - (arrB[i] ?? 0));
        }
        return result;
      },
```

---

#### Pattern: `?? 0` at line 273:30

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const len = Math.max(arrA.length, arrB.length);
        const result = [];
        for (let i = 0; i < len; i++) {
> result.push((arrA[i] ?? 0) * (arrB[i] ?? 0));
        }
        return result;
      },
```

---

#### Pattern: `?? 0` at line 273:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const len = Math.max(arrA.length, arrB.length);
        const result = [];
        for (let i = 0; i < len; i++) {
> result.push((arrA[i] ?? 0) * (arrB[i] ?? 0));
        }
        return result;
      },
```

---

#### Pattern: `?? 0` at line 295:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const result = [];
        for (let i = 0; i < len; i++) {
          const divisor = arrB[i] ?? 1;
> result.push(divisor !== 0 ? (arrA[i] ?? 0) / divisor : 0);
        }
        return result;
      },
```

---

#### Pattern: `Infinity literal` at line 316:5

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
      parseFloat: Number.parseFloat,
  
      // Constants
> Infinity,
      NaN,
      undefined,
  
```

---

#### Pattern: `NaN literal` at line 317:5

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isNaN() for comparisons

**Code:**
```typescript
  
      // Constants
      Infinity,
> NaN,
      undefined,
  
      // Context values (frozen)
```

---

#### Pattern: `Infinity literal` at line 560:9

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
          Math: safeMath,
          isNaN: Number.isNaN,
          isFinite: Number.isFinite,
> Infinity,
          NaN,
          undefined,
          // Deterministic seeded random function
```

---

#### Pattern: `NaN literal` at line 561:9

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isNaN() for comparisons

**Code:**
```typescript
          isNaN: Number.isNaN,
          isFinite: Number.isFinite,
          Infinity,
> NaN,
          undefined,
          // Deterministic seeded random function
          random: seededRandom,
```

---

### `services/expressions/textAnimator.ts` (4 pattern(s))

#### Pattern: `?? 0` at line 97:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      const textTotal = ${ctx.textTotal};
      const selectorValue = ${ctx.selectorValue};
      const char = ${JSON.stringify(ctx.char)};
> const wordIndex = ${ctx.wordIndex ?? 0};
      const lineIndex = ${ctx.lineIndex ?? 0};
      const charInWord = ${ctx.charInWord ?? 0};
      const charInLine = ${ctx.charInLine ?? 0};
```

---

#### Pattern: `?? 0` at line 98:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      const selectorValue = ${ctx.selectorValue};
      const char = ${JSON.stringify(ctx.char)};
      const wordIndex = ${ctx.wordIndex ?? 0};
> const lineIndex = ${ctx.lineIndex ?? 0};
      const charInWord = ${ctx.charInWord ?? 0};
      const charInLine = ${ctx.charInLine ?? 0};
      ${code}
```

---

#### Pattern: `?? 0` at line 99:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      const char = ${JSON.stringify(ctx.char)};
      const wordIndex = ${ctx.wordIndex ?? 0};
      const lineIndex = ${ctx.lineIndex ?? 0};
> const charInWord = ${ctx.charInWord ?? 0};
      const charInLine = ${ctx.charInLine ?? 0};
      ${code}
    `;
```

---

#### Pattern: `?? 0` at line 100:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      const wordIndex = ${ctx.wordIndex ?? 0};
      const lineIndex = ${ctx.lineIndex ?? 0};
      const charInWord = ${ctx.charInWord ?? 0};
> const charInLine = ${ctx.charInLine ?? 0};
      ${code}
    `;
  
```

---

### `services/expressions/vectorMath.ts` (19 pattern(s))

#### Pattern: `?? 0` at line 20:23

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const maxLen = Math.max(a.length, b.length);
    const result: number[] = [];
    for (let i = 0; i < maxLen; i++) {
> const aVal = a[i] ?? 0;
      const bVal = b[i] ?? 0;
      result.push(aVal + bVal);
    }
```

---

#### Pattern: `?? 0` at line 21:23

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const result: number[] = [];
    for (let i = 0; i < maxLen; i++) {
      const aVal = a[i] ?? 0;
> const bVal = b[i] ?? 0;
      result.push(aVal + bVal);
    }
    return result;
```

---

#### Pattern: `?? 0` at line 35:23

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const maxLen = Math.max(a.length, b.length);
    const result: number[] = [];
    for (let i = 0; i < maxLen; i++) {
> const aVal = a[i] ?? 0;
      const bVal = b[i] ?? 0;
      result.push(aVal - bVal);
    }
```

---

#### Pattern: `?? 0` at line 36:23

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const result: number[] = [];
    for (let i = 0; i < maxLen; i++) {
      const aVal = a[i] ?? 0;
> const bVal = b[i] ?? 0;
      result.push(aVal - bVal);
    }
    return result;
```

---

#### Pattern: `?? 0` at line 60:25

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      const maxLen = Math.max(a.length, b.length);
      const result: number[] = [];
      for (let i = 0; i < maxLen; i++) {
> const aVal = a[i] ?? 0;
        const bVal = b[i] ?? 0;
        result.push(aVal * bVal);
      }
```

---

#### Pattern: `?? 0` at line 61:25

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      const result: number[] = [];
      for (let i = 0; i < maxLen; i++) {
        const aVal = a[i] ?? 0;
> const bVal = b[i] ?? 0;
        result.push(aVal * bVal);
      }
      return result;
```

---

#### Pattern: `?? 0` at line 87:25

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      const maxLen = Math.max(a.length, b.length);
      const result: number[] = [];
      for (let i = 0; i < maxLen; i++) {
> const aVal = a[i] ?? 0;
        const bVal = b[i] ?? 1;
        result.push(aVal / bVal);
      }
```

---

#### Pattern: `?? 0` at line 114:23

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    let sum = 0;
    const maxLen = Math.min(a.length, b.length);
    for (let i = 0; i < maxLen; i++) {
> const aVal = a[i] ?? 0;
      const bVal = b[i] ?? 0;
      sum += aVal * bVal;
    }
```

---

#### Pattern: `?? 0` at line 115:23

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const maxLen = Math.min(a.length, b.length);
    for (let i = 0; i < maxLen; i++) {
      const aVal = a[i] ?? 0;
> const bVal = b[i] ?? 0;
      sum += aVal * bVal;
    }
    return sum;
```

---

#### Pattern: `?? 0` at line 127:19

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
   */
  export function vectorCross(a: number[], b: number[]): number[] {
    // Ensure 3D vectors
> const ax = a[0] ?? 0;
    const ay = a[1] ?? 0;
    const az = a[2] ?? 0;
    const bx = b[0] ?? 0;
```

---

#### Pattern: `?? 0` at line 128:19

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  export function vectorCross(a: number[], b: number[]): number[] {
    // Ensure 3D vectors
    const ax = a[0] ?? 0;
> const ay = a[1] ?? 0;
    const az = a[2] ?? 0;
    const bx = b[0] ?? 0;
    const by = b[1] ?? 0;
```

---

#### Pattern: `?? 0` at line 129:19

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    // Ensure 3D vectors
    const ax = a[0] ?? 0;
    const ay = a[1] ?? 0;
> const az = a[2] ?? 0;
    const bx = b[0] ?? 0;
    const by = b[1] ?? 0;
    const bz = b[2] ?? 0;
```

---

#### Pattern: `?? 0` at line 130:19

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const ax = a[0] ?? 0;
    const ay = a[1] ?? 0;
    const az = a[2] ?? 0;
> const bx = b[0] ?? 0;
    const by = b[1] ?? 0;
    const bz = b[2] ?? 0;
  
```

---

#### Pattern: `?? 0` at line 131:19

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const ay = a[1] ?? 0;
    const az = a[2] ?? 0;
    const bx = b[0] ?? 0;
> const by = b[1] ?? 0;
    const bz = b[2] ?? 0;
  
    return [ay * bz - az * by, az * bx - ax * bz, ax * by - ay * bx];
```

---

#### Pattern: `?? 0` at line 132:19

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const az = a[2] ?? 0;
    const bx = b[0] ?? 0;
    const by = b[1] ?? 0;
> const bz = b[2] ?? 0;
  
    return [ay * bz - az * by, az * bx - ax * bz, ax * by - ay * bx];
  }
```

---

#### Pattern: `?? 0` at line 150:23

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    let sum = 0;
    const maxLen = Math.max(a.length, b.length);
    for (let i = 0; i < maxLen; i++) {
> const aVal = a[i] ?? 0;
      const bVal = b[i] ?? 0;
      const diff = aVal - bVal;
      sum += diff * diff;
```

---

#### Pattern: `?? 0` at line 151:23

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const maxLen = Math.max(a.length, b.length);
    for (let i = 0; i < maxLen; i++) {
      const aVal = a[i] ?? 0;
> const bVal = b[i] ?? 0;
      const diff = aVal - bVal;
      sum += diff * diff;
    }
```

---

#### Pattern: `Infinity literal` at line 169:53

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
  ): number[] {
    // Use Â±Infinity defaults for missing array elements (pass through unclamped)
    return vec.map((v, i) => {
> const minVal = Array.isArray(min) ? (min[i] ?? -Infinity) : min;
      const maxVal = Array.isArray(max) ? (max[i] ?? Infinity) : max;
      return Math.max(minVal, Math.min(maxVal, v));
    });
```

---

#### Pattern: `Infinity literal` at line 170:52

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    // Use Â±Infinity defaults for missing array elements (pass through unclamped)
    return vec.map((v, i) => {
      const minVal = Array.isArray(min) ? (min[i] ?? -Infinity) : min;
> const maxVal = Array.isArray(max) ? (max[i] ?? Infinity) : max;
      return Math.max(minVal, Math.min(maxVal, v));
    });
  }
```

---

### `services/expressions/workerEvaluator.ts` (1 pattern(s))

#### Pattern: `?? 0` at line 74:42

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        pending.delete(data.id);
  
        if (data.success) {
> req.resolve({ value: data.result ?? 0, timedOut: false });
        } else {
          req.resolve({ value: 0, timedOut: false, error: data.error });
        }
```

---

### `services/gpuEffectDispatcher.ts` (23 pattern(s))

#### Pattern: `?? 0` at line 655:35

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
        case "radial-blur":
          return {
> centerX: params.centerX ?? 0.5,
            centerY: params.centerY ?? 0.5,
            amount: params.amount ?? 50,
            samples: params.samples ?? 32,
```

---

#### Pattern: `?? 0` at line 656:35

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        case "radial-blur":
          return {
            centerX: params.centerX ?? 0.5,
> centerY: params.centerY ?? 0.5,
            amount: params.amount ?? 50,
            samples: params.samples ?? 32,
          };
```

---

#### Pattern: `?? 0` at line 663:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
        case "directional-blur":
          return {
> angle: params.angle ?? 0,
            length: params.length ?? 20,
            samples: params.samples ?? 32,
          };
```

---

#### Pattern: `?? 0` at line 670:42

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
        case "brightness-contrast":
          return {
> brightness: (params.brightness ?? 0) / 100, // Convert 0-100 to 0-1
            contrast: (params.contrast ?? 0) / 100,
            saturation: 0,
            hue: 0,
```

---

#### Pattern: `?? 0` at line 671:38

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        case "brightness-contrast":
          return {
            brightness: (params.brightness ?? 0) / 100, // Convert 0-100 to 0-1
> contrast: (params.contrast ?? 0) / 100,
            saturation: 0,
            hue: 0,
          };
```

---

#### Pattern: `?? 0` at line 680:42

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          return {
            brightness: 0,
            contrast: 0,
> saturation: (params.saturation ?? 0) / 100,
            hue: params.hue ?? 0,
          };
  
```

---

#### Pattern: `?? 0` at line 681:27

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            brightness: 0,
            contrast: 0,
            saturation: (params.saturation ?? 0) / 100,
> hue: params.hue ?? 0,
          };
  
        case "levels":
```

---

#### Pattern: `?? 0` at line 686:42

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
        case "levels":
          return {
> inputBlack: (params.inputBlack ?? 0) / 255,
            inputWhite: (params.inputWhite ?? 255) / 255,
            gamma: params.gamma ?? 1,
            outputBlack: (params.outputBlack ?? 0) / 255,
```

---

#### Pattern: `?? 0` at line 689:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            inputBlack: (params.inputBlack ?? 0) / 255,
            inputWhite: (params.inputWhite ?? 255) / 255,
            gamma: params.gamma ?? 1,
> outputBlack: (params.outputBlack ?? 0) / 255,
            outputWhite: (params.outputWhite ?? 255) / 255,
          };
  
```

---

#### Pattern: `?? 0` at line 697:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          return {
            radius: params.radius ?? 20,
            intensity: params.intensity ?? 1,
> threshold: params.threshold ?? 0.5,
            color: params.color,
          };
  
```

---

#### Pattern: `?? 0` at line 706:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        case "ripple-distort":
          return {
            style: params.style ?? "wave",
> bend: params.amount ?? params.bend ?? 0.5,
            hDistort: params.hDistort ?? 0,
            vDistort: params.vDistort ?? 0,
          };
```

---

#### Pattern: `?? 0` at line 707:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          return {
            style: params.style ?? "wave",
            bend: params.amount ?? params.bend ?? 0.5,
> hDistort: params.hDistort ?? 0,
            vDistort: params.vDistort ?? 0,
          };
  
```

---

#### Pattern: `?? 0` at line 708:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            style: params.style ?? "wave",
            bend: params.amount ?? params.bend ?? 0.5,
            hDistort: params.hDistort ?? 0,
> vDistort: params.vDistort ?? 0,
          };
  
        case "displacement-map":
```

---

#### Pattern: `?? 0` at line 733:29

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    ): Record<string, any> {
      // Base uniforms - frame time for animated effects
      const baseUniforms: Record<string, any> = {
> iTime: (params._frame ?? 0) / (params._fps ?? 30),
        iFrame: params._frame ?? 0,
      };
  
```

---

#### Pattern: `?? 0` at line 734:29

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      // Base uniforms - frame time for animated effects
      const baseUniforms: Record<string, any> = {
        iTime: (params._frame ?? 0) / (params._fps ?? 30),
> iFrame: params._frame ?? 0,
      };
  
      switch (effectKey) {
```

---

#### Pattern: `?? 0` at line 742:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          return {
            ...baseUniforms,
            amount: (params.amount ?? 10) / 1000, // Convert pixels to UV offset
> angle: params.angle ?? 0,
          };
  
        case "mosaic":
```

---

#### Pattern: `?? 0` at line 761:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        case "find-edges":
          return {
            ...baseUniforms,
> threshold: params.threshold ?? 0.1,
            invert: params.invert ? 1 : 0,
          };
  
```

---

#### Pattern: `?? 0` at line 769:67

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          return {
            ...baseUniforms,
            lineSpacing: params.spacing ?? params.lineSpacing ?? 2,
> lineIntensity: params.intensity ?? params.lineIntensity ?? 0.15,
          };
  
        case "halftone":
```

---

#### Pattern: `?? 0` at line 776:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          return {
            ...baseUniforms,
            dotSize: params.dotSize ?? params.size ?? 4,
> angle: params.angle ?? 0,
          };
  
        case "vhs":
```

---

#### Pattern: `?? 0` at line 783:63

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          return {
            ...baseUniforms,
            aberration: (params.chromaShift ?? params.aberration ?? 2) / 1000,
> noiseStrength: params.noise ?? params.noiseStrength ?? 0.08,
            scanlineStrength: params.scanlines ?? params.scanlineStrength ?? 0.04,
          };
  
```

---

#### Pattern: `?? 0` at line 784:73

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            ...baseUniforms,
            aberration: (params.chromaShift ?? params.aberration ?? 2) / 1000,
            noiseStrength: params.noise ?? params.noiseStrength ?? 0.08,
> scanlineStrength: params.scanlines ?? params.scanlineStrength ?? 0.04,
          };
  
        case "ripple":
```

---

#### Pattern: `?? 0` at line 793:35

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            amplitude: (params.amplitude ?? 3) / 100,
            frequency: params.frequency ?? 20,
            speed: params.speed ?? 2,
> centerX: params.centerX ?? 0.5,
            centerY: params.centerY ?? 0.5,
          };
  
```

---

#### Pattern: `?? 0` at line 794:35

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            frequency: params.frequency ?? 20,
            speed: params.speed ?? 2,
            centerX: params.centerX ?? 0.5,
> centerY: params.centerY ?? 0.5,
          };
  
        case "glitch":
```

---

### `services/gpuParticleRenderer.ts` (1 pattern(s))

#### Pattern: `?? 0` at line 218:53

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        softParticles: config.softParticles ?? false,
        softParticleDistance: config.softParticleDistance ?? 50,
        velocityMotionBlur: config.velocityMotionBlur ?? true,
> motionBlurStrength: config.motionBlurStrength ?? 0.5,
        emissive: config.emissive ?? false,
        emissiveIntensity: config.emissiveIntensity ?? 2.0,
      };
```

---

### `services/imageTrace.ts` (4 pattern(s))

#### Pattern: `|| 0` at line 404:28

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
      // Get marching squares pattern
      const idx = y * width + x;
> const tl = bitmap[idx] || 0;
      const tr = bitmap[idx + 1] || 0;
      const bl = bitmap[idx + width] || 0;
      const br = bitmap[idx + width + 1] || 0;
```

---

#### Pattern: `|| 0` at line 405:32

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      // Get marching squares pattern
      const idx = y * width + x;
      const tl = bitmap[idx] || 0;
> const tr = bitmap[idx + 1] || 0;
      const bl = bitmap[idx + width] || 0;
      const br = bitmap[idx + width + 1] || 0;
  
```

---

#### Pattern: `|| 0` at line 406:36

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      const idx = y * width + x;
      const tl = bitmap[idx] || 0;
      const tr = bitmap[idx + 1] || 0;
> const bl = bitmap[idx + width] || 0;
      const br = bitmap[idx + width + 1] || 0;
  
      const pattern = (tl << 3) | (tr << 2) | (br << 1) | bl;
```

---

#### Pattern: `|| 0` at line 407:40

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      const tl = bitmap[idx] || 0;
      const tr = bitmap[idx + 1] || 0;
      const bl = bitmap[idx + width] || 0;
> const br = bitmap[idx + width + 1] || 0;
  
      const pattern = (tl << 3) | (tr << 2) | (br << 1) | bl;
  
```

---

### `services/layerEvaluationCache.ts` (3 pattern(s))

#### Pattern: `?? 0` at line 49:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
   * Should be called whenever a layer property is modified
   */
  export function markLayerDirty(layerId: string): void {
> const current = layerVersions.get(layerId) ?? 0;
    layerVersions.set(layerId, current + 1);
    globalVersion++;
  }
```

---

#### Pattern: `?? 0` at line 66:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
   * Get current version for a layer
   */
  export function getLayerVersion(layerId: string): number {
> return layerVersions.get(layerId) ?? 0;
  }
  
  /**
```

---

#### Pattern: `?? 0` at line 390:51

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    }
  
    // Evaluate layer
> const start = layer.startFrame ?? layer.inPoint ?? 0;
    const end = layer.endFrame ?? layer.outPoint ?? 80;
    const inRange = frame >= start && frame <= end;
    const visible = layer.visible && inRange;
```

---

### `services/layerTime.ts` (2 pattern(s))

#### Pattern: `?? 0` at line 125:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    }
  
    // Calculate time relative to layer start
> const layerStartFrame = layer.startFrame ?? 0;
    const layerFrame = compFrame - layerStartFrame;
  
    // Apply time stretch to get source frame
```

---

#### Pattern: `?? 0` at line 263:34

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    layer: Layer,
    compFrame: number,
  ): boolean {
> const start = layer.startFrame ?? 0;
    const end = layer.endFrame ?? 80;
    return compFrame >= start && compFrame <= end;
  }
```

---

### `services/maskGenerator.ts` (1 pattern(s))

#### Pattern: `Infinity literal` at line 343:17

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
  
      // Precompute R0 for each pixel
      const R0 = new Float32Array(width * height);
> let minR0 = Infinity;
  
      for (let y = 0; y < height; y++) {
        for (let x = 0; x < width; x++) {
```

---

### `services/matteExporter.ts` (5 pattern(s))

#### Pattern: `?? 0` at line 174:55

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
      // Find text layers that are visible at this frame
      const textLayers = project.layers.filter((layer) => {
> const start = layer.startFrame ?? layer.inPoint ?? 0;
        const end = layer.endFrame ?? layer.outPoint ?? 80;
        return (
          layer.type === "text" && layer.visible && frame >= start && frame <= end
```

---

#### Pattern: `?? 0` at line 194:55

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
      // Find particle layers that are visible at this frame
      const particleLayers = project.layers.filter((layer) => {
> const start = layer.startFrame ?? layer.inPoint ?? 0;
        const end = layer.endFrame ?? layer.outPoint ?? 80;
        return (
          layer.type === "particles" &&
```

---

#### Pattern: `?? []` at line 517:42

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
        }
  
        // Add modulations (if defined)
> for (const mod of data.modulations ?? []) {
          system.addModulation(mod);
        }
  
```

---

#### Pattern: `|| 0` at line 522:59

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        }
  
        // Run warmup period
> const warmupFrames = data.systemConfig.warmupPeriod || 0;
        for (let i = 0; i < warmupFrames; i++) {
          system.step();
        }
```

---

#### Pattern: `?? 0` at line 550:55

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        if (!system) continue;
  
        // Only step if layer is visible at this frame
> const start = layer.startFrame ?? layer.inPoint ?? 0;
        const end = layer.endFrame ?? layer.outPoint ?? 80;
        if (layer.visible && frame >= start && frame <= end) {
          system.step();
```

---

### `services/meshDeformation3D.ts` (2 pattern(s))

#### Pattern: `?? []` at line 484:48

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
     * Add a pin to a layer
     */
    addPin(layerId: string, position: Vec3): Deformation3DPin {
> const pins = this.pinsByLayer.get(layerId) ?? [];
      const id = `pin_${layerId}_${Date.now()}_${Math.random().toString(36).slice(2, 6)}`;
      const pin = createDefault3DPin(id, position);
      pins.push(pin);
```

---

#### Pattern: `?? []` at line 496:42

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
     * Get pins for a layer
     */
    getPins(layerId: string): Deformation3DPin[] {
> return this.pinsByLayer.get(layerId) ?? [];
    }
  
    /**
```

---

### `services/meshParticleManager.ts` (9 pattern(s))

#### Pattern: `?? 0` at line 164:61

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        geometry,
        boundingBox: geometry.boundingBox?.clone() ?? new THREE.Box3(),
        boundingSphere: geometry.boundingSphere?.clone() ?? new THREE.Sphere(),
> vertexCount: geometry.getAttribute("position")?.count ?? 0,
        faceCount: geometry.index
          ? geometry.index.count / 3
          : (geometry.getAttribute("position")?.count ?? 0) / 3,
```

---

#### Pattern: `?? 0` at line 167:53

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        vertexCount: geometry.getAttribute("position")?.count ?? 0,
        faceCount: geometry.index
          ? geometry.index.count / 3
> : (geometry.getAttribute("position")?.count ?? 0) / 3,
        config,
      };
  
```

---

#### Pattern: `?? 0` at line 208:28

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        svgDocumentId,
        svgPathId,
        svgExtrusionDepth: options.extrusionDepth ?? 1,
> scale: options.scale ?? 0.01,
        centerOrigin: options.centerOrigin ?? true,
        simplify: options.simplify ?? true,
        simplifyTolerance: options.simplifyTolerance ?? 0.1,
```

---

#### Pattern: `?? 0` at line 211:52

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        scale: options.scale ?? 0.01,
        centerOrigin: options.centerOrigin ?? true,
        simplify: options.simplify ?? true,
> simplifyTolerance: options.simplifyTolerance ?? 0.1,
      });
    }
  
```

---

#### Pattern: `?? 0` at line 233:28

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        source: "svg",
        svgPathId: path.id,
        svgExtrusionDepth: options.extrusionDepth ?? 1,
> scale: options.scale ?? 0.01,
        centerOrigin: options.centerOrigin ?? true,
        simplify: options.simplify ?? true,
        simplifyTolerance: options.simplifyTolerance ?? 0.1,
```

---

#### Pattern: `?? 0` at line 236:52

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        scale: options.scale ?? 0.01,
        centerOrigin: options.centerOrigin ?? true,
        simplify: options.simplify ?? true,
> simplifyTolerance: options.simplifyTolerance ?? 0.1,
      });
    }
  
```

---

#### Pattern: `?? 0` at line 438:35

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
      return new THREE.MeshStandardMaterial({
        color: new THREE.Color(config.color ?? "#ffffff"),
> metalness: config.metalness ?? 0,
        roughness: config.roughness ?? 0.5,
        emissive: new THREE.Color(config.emissive ?? "#000000"),
        emissiveIntensity: config.emissiveIntensity ?? 0,
```

---

#### Pattern: `?? 0` at line 439:35

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      return new THREE.MeshStandardMaterial({
        color: new THREE.Color(config.color ?? "#ffffff"),
        metalness: config.metalness ?? 0,
> roughness: config.roughness ?? 0.5,
        emissive: new THREE.Color(config.emissive ?? "#000000"),
        emissiveIntensity: config.emissiveIntensity ?? 0,
        side: THREE.DoubleSide,
```

---

#### Pattern: `?? 0` at line 441:51

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        metalness: config.metalness ?? 0,
        roughness: config.roughness ?? 0.5,
        emissive: new THREE.Color(config.emissive ?? "#000000"),
> emissiveIntensity: config.emissiveIntensity ?? 0,
        side: THREE.DoubleSide,
      });
    }
```

---

### `services/meshWarpDeformation.ts` (1 pattern(s))

#### Pattern: `?? []` at line 658:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
     * Get all pins for a layer
     */
    getPins(layerId: string): WarpPin[] {
> return this.meshCache.get(layerId)?.pins ?? [];
    }
  
    /**
```

---

### `services/midi/MIDIService.ts` (1 pattern(s))

#### Pattern: `|| 0` at line 534:75

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
              ? (message.value / 16383) * 127 // Normalize pitch bend to 0-127
              : message.value;
        } else if (message.controller !== undefined) {
> inputValue = this.getCCValue(message.channel, message.controller) || 0;
        }
      } else {
        // Use stored CC value (for continuous display)
```

---

### `services/midiToKeyframes.ts` (2 pattern(s))

#### Pattern: `?? 0` at line 661:67

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        case "notePitch": {
          // Value based on note number
          const pitchRange =
> (config.noteRange?.max ?? 127) - (config.noteRange?.min ?? 0);
          const normalizedPitch =
            (note.noteNumber - (config.noteRange?.min ?? 0)) / pitchRange;
          value =
```

---

#### Pattern: `?? 0` at line 663:53

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          const pitchRange =
            (config.noteRange?.max ?? 127) - (config.noteRange?.min ?? 0);
          const normalizedPitch =
> (note.noteNumber - (config.noteRange?.min ?? 0)) / pitchRange;
          value =
            config.valueMin +
            normalizedPitch * (config.valueMax - config.valueMin);
```

---

### `services/modelExport.ts` (5 pattern(s))

#### Pattern: `?? 0` at line 141:52

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    height: number,
    fps: number,
  ): WanMoveTrajectory {
> const numFrames = trajectories[0]?.points.length ?? 0;
  
    return {
      tracks: trajectories.map((t) => t.points.map((p) => [p.x, p.y])),
```

---

#### Pattern: `?? 0` at line 251:58

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const scale: Array<{ frame: number; x: number; y: number }> = [];
  
    for (let frame = startFrame; frame <= endFrame; frame++) {
> const layerStart = layer.startFrame ?? layer.inPoint ?? 0;
      const layerEnd = layer.endFrame ?? layer.outPoint ?? 80;
      const inRange = frame >= layerStart && frame <= layerEnd;
      visibility.push(inRange && layer.visible);
```

---

#### Pattern: `?? 0` at line 443:56

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    ctx.fillRect(0, 0, compWidth, compHeight);
  
    // Draw white rectangle for layer bounds (motion region)
> const layerStart = layer.startFrame ?? layer.inPoint ?? 0;
    const bounds = getLayerBounds(layer, layerStart);
    ctx.fillStyle = "white";
    ctx.fillRect(bounds.x, bounds.y, bounds.width, bounds.height);
```

---

#### Pattern: `?? 0` at line 476:63

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    // Draw each layer's bounds in white
    ctx.fillStyle = "white";
    for (const layer of layers) {
> const layerStartFrame = layer.startFrame ?? layer.inPoint ?? 0;
      const bounds = getLayerBounds(layer, layerStartFrame);
      ctx.fillRect(bounds.x, bounds.y, bounds.width, bounds.height);
    }
```

---

#### Pattern: `|| 0` at line 1189:63

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      }
    }
  
> const shape = [trajectories.length, trajectories[0]?.length || 0, 2];
    const header = createNpyHeader(shape, "<f4");
  
    // Create float32 data
```

---

### `services/motionRecording.ts` (4 pattern(s))

#### Pattern: `Infinity literal` at line 560:14

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
      return { minX: 0, maxX: 0, minY: 0, maxY: 0, width: 0, height: 0 };
    }
  
> let minX = Infinity;
    let maxX = -Infinity;
    let minY = Infinity;
    let maxY = -Infinity;
```

---

#### Pattern: `Infinity literal` at line 561:15

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    }
  
    let minX = Infinity;
> let maxX = -Infinity;
    let minY = Infinity;
    let maxY = -Infinity;
  
```

---

#### Pattern: `Infinity literal` at line 562:14

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
  
    let minX = Infinity;
    let maxX = -Infinity;
> let minY = Infinity;
    let maxY = -Infinity;
  
    for (const sample of motion.samples) {
```

---

#### Pattern: `Infinity literal` at line 563:15

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    let minX = Infinity;
    let maxX = -Infinity;
    let minY = Infinity;
> let maxY = -Infinity;
  
    for (const sample of motion.samples) {
      if (sample.x < minX) minX = sample.x;
```

---

### `services/particleSystem.ts` (13 pattern(s))

#### Pattern: `|| 0` at line 447:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
        // Accumulate fractional particles
        let accumulated =
> (this.emissionAccumulators.get(id) || 0) + particlesToEmit;
  
        while (
          accumulated >= 1 &&
```

---

#### Pattern: `?? 0` at line 1143:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          // Emit from cone volume
          // Cone opens along Y axis from emitter position
          const coneAngle = ((emitter.coneAngle ?? 45) * Math.PI) / 180;
> const coneRadius = emitter.coneRadius ?? 0.1;
          const coneLength = emitter.coneLength ?? 0.2;
  
          // Random point in cone
```

---

#### Pattern: `?? 0` at line 1144:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          // Cone opens along Y axis from emitter position
          const coneAngle = ((emitter.coneAngle ?? 45) * Math.PI) / 180;
          const coneRadius = emitter.coneRadius ?? 0.1;
> const coneLength = emitter.coneLength ?? 0.2;
  
          // Random point in cone
          const t = this.rng.next(); // 0-1 along cone length
```

---

#### Pattern: `?? 0` at line 1233:63

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        case "sequential": {
          // Emit sequentially along path, advancing each emission
          // Uses parameter as speed (how much t advances per emission)
> const currentT = this.sequentialEmitT.get(emitter.id) ?? 0;
          t = currentT;
          // Advance for next emission
          const speed = Math.max(0.001, splinePath.parameter);
```

---

#### Pattern: `?? 0` at line 1557:49

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      y: number;
    } {
      const sourceLayerId = emitter.imageSourceLayerId;
> const threshold = emitter.emissionThreshold ?? 0.1;
  
      // Fall back to point emission if no source layer configured
      if (!sourceLayerId) {
```

---

#### Pattern: `?? 0` at line 1639:50

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      y: number;
    } {
      const sourceLayerId = emitter.depthSourceLayerId;
> const threshold = emitter.depthEdgeThreshold ?? 0.05;
  
      // Fall back to point emission if no source layer configured
      if (!sourceLayerId) {
```

---

#### Pattern: `|| []` at line 1855:53

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    // ============================================================================
  
    private applyTurbulence(p: Particle, deltaTime: number): void {
> const turbFields = this.config.turbulenceFields || [];
      for (const turb of turbFields) {
        if (!turb.enabled) continue;
        const nx = p.x * turb.scale * 1000; // Scale up for noise variation
```

---

#### Pattern: `|| []` at line 1887:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    }
  
    getTurbulenceFields(): TurbulenceConfig[] {
> return this.config.turbulenceFields || [];
    }
  
    // ============================================================================
```

---

#### Pattern: `|| []` at line 1899:49

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
     * DETERMINISM: Uses seeded RNG (this.rng) for all randomness
     */
    private triggerSubEmitters(deadParticle: Particle): void {
> const subEmitters = this.config.subEmitters || [];
      for (const sub of subEmitters) {
        if (!sub.enabled) continue;
        if (
```

---

#### Pattern: `|| []` at line 1974:36

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    }
  
    getSubEmitters(): SubEmitterConfig[] {
> return this.config.subEmitters || [];
    }
  
    // ============================================================================
```

---

#### Pattern: `?? 0` at line 2140:48

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          isSubParticle: state.isSubParticle ?? false,
          rotation: state.rotation,
          // Restore angular velocity for sprite rotation
> angularVelocity: state.angularVelocity ?? 0,
          // Restore sprite frame for animation continuity
          spriteIndex: state.spriteIndex ?? 0,
          // Restore collision count for physics interactions
```

---

#### Pattern: `?? 0` at line 2142:40

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          // Restore angular velocity for sprite rotation
          angularVelocity: state.angularVelocity ?? 0,
          // Restore sprite frame for animation continuity
> spriteIndex: state.spriteIndex ?? 0,
          // Restore collision count for physics interactions
          collisionCount: state.collisionCount ?? 0,
        };
```

---

#### Pattern: `?? 0` at line 2144:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          // Restore sprite frame for animation continuity
          spriteIndex: state.spriteIndex ?? 0,
          // Restore collision count for physics interactions
> collisionCount: state.collisionCount ?? 0,
        };
  
        this.particles.push(particle);
```

---

### `services/pathMorphing.ts` (1 pattern(s))

#### Pattern: `Infinity literal` at line 457:22

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    const n = source.vertices.length;
    let bestOffset = 0;
    let bestReversed = false;
> let bestDistance = Infinity;
  
    // Try all rotation offsets
    for (let offset = 0; offset < n; offset++) {
```

---

### `services/persistenceService.ts` (4 pattern(s))

#### Pattern: `|| []` at line 354:54

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      const index = store.index("projectId");
      const request = index.getAll(projectId);
  
> request.onsuccess = () => resolve(request.result || []);
      request.onerror = () => reject(request.error);
    });
  }
```

---

#### Pattern: `|| []` at line 444:54

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      const index = store.index("projectId");
      const request = index.getAll(projectId);
  
> request.onsuccess = () => resolve(request.result || []);
      request.onerror = () => reject(request.error);
    });
  }
```

---

#### Pattern: `|| 0` at line 588:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      try {
        const estimate = await navigator.storage.estimate();
        return {
> usage: estimate.usage || 0,
          quota: estimate.quota || 0,
        };
      } catch {
```

---

#### Pattern: `|| 0` at line 589:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        const estimate = await navigator.storage.estimate();
        return {
          usage: estimate.usage || 0,
> quota: estimate.quota || 0,
        };
      } catch {
        return null;
```

---

### `services/physics/JointSystem.ts` (1 pattern(s))

#### Pattern: `|| 0` at line 561:49

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        if (joint.frequency && joint.frequency > 0) {
          // Soft weld - spring-like behavior
          const omega = 2 * Math.PI * joint.frequency;
> const dampingRatio = joint.dampingRatio || 0.7;
          const c = 2 * dampingRatio * omega;
  
          const relAngVel = bodyB.angularVelocity - bodyA.angularVelocity;
```

---

### `services/physics/PhysicsEngine.ts` (1 pattern(s))

#### Pattern: `|| []` at line 918:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        };
      });
  
> const brokenConstraints = (constraintIds || [])
        .filter((id) => this.constraints.get(id)?.broken)
        .map((id) => id);
  
```

---

### `services/plugins/PluginManager.ts` (2 pattern(s))

#### Pattern: `?? 0` at line 384:57

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      return {
        // Read-only access
        getProject: () => this.getProjectFn?.() ?? null,
> getCurrentFrame: () => this.getCurrentFrameFn?.() ?? 0,
        getSelectedLayers: () => this.getSelectedLayersFn?.() ?? [],
        getLayer: (id) => this.getLayerFn?.(id) ?? null,
        getComposition: (id) => this.getCompositionFn?.(id) ?? null,
```

---

#### Pattern: `?? []` at line 385:61

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
        // Read-only access
        getProject: () => this.getProjectFn?.() ?? null,
        getCurrentFrame: () => this.getCurrentFrameFn?.() ?? 0,
> getSelectedLayers: () => this.getSelectedLayersFn?.() ?? [],
        getLayer: (id) => this.getLayerFn?.(id) ?? null,
        getComposition: (id) => this.getCompositionFn?.(id) ?? null,
        getAsset: (id) => this.getAssetFn?.(id) ?? null,
```

---

### `services/preprocessorService.ts` (1 pattern(s))

#### Pattern: `|| []` at line 645:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
      }
      const data = await response.json();
> return data.preprocessors || [];
    } catch (error) {
      console.warn(
        "[PreprocessorService] Failed to fetch from backend, using local registry:",
```

---

### `services/projectCollection.ts` (1 pattern(s))

#### Pattern: `|| 0` at line 160:56

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
            const sizeBytes =
              (assetData instanceof Blob
                ? assetData.size
> : (assetData as ArrayBuffer).byteLength) || 0;
            manifest.files.push({
              path: assetPath,
              originalName: asset.name || asset.filename || assetId,
```

---

### `services/projectStorage.ts` (1 pattern(s))

#### Pattern: `|| 0` at line 168:52

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      const result = await response.json();
  
      if (result.status === "success") {
> logger.info(`Found ${result.projects?.length || 0} projects`);
      } else {
        logger.error(`Failed to list projects: ${result.message}`);
      }
```

---

### `services/propertyDriver.ts` (12 pattern(s))

#### Pattern: `?? 0` at line 470:42

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          return value * (transform.factor ?? 1);
  
        case "offset":
> return value + (transform.amount ?? 0);
  
        case "clamp":
          return Math.max(
```

---

#### Pattern: `Infinity literal` at line 474:29

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
  
        case "clamp":
          return Math.max(
> transform.min ?? -Infinity,
            Math.min(transform.max ?? Infinity, value),
          );
  
```

---

#### Pattern: `Infinity literal` at line 475:37

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
        case "clamp":
          return Math.max(
            transform.min ?? -Infinity,
> Math.min(transform.max ?? Infinity, value),
          );
  
        case "smooth": {
```

---

#### Pattern: `?? 0` at line 480:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
        case "smooth": {
          const prevValue = this.smoothedValues.get(driverId) ?? value;
> const smoothing = transform.smoothing ?? 0.5;
          const smoothed = prevValue * smoothing + value * (1 - smoothing);
          this.smoothedValues.set(driverId, smoothed);
          return smoothed;
```

---

#### Pattern: `?? 0` at line 490:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          return 1 - value;
  
        case "remap": {
> const inMin = transform.inMin ?? 0;
          const inMax = transform.inMax ?? 1;
          const outMin = transform.outMin ?? 0;
          const outMax = transform.outMax ?? 1;
```

---

#### Pattern: `?? 0` at line 492:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        case "remap": {
          const inMin = transform.inMin ?? 0;
          const inMax = transform.inMax ?? 1;
> const outMin = transform.outMin ?? 0;
          const outMax = transform.outMax ?? 1;
          // Guard against zero-range input (would cause division by zero)
          const inRange = inMax - inMin;
```

---

#### Pattern: `?? 0` at line 505:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        }
  
        case "threshold":
> return value > (transform.threshold ?? 0.5) ? 1 : 0;
  
        case "oscillate": {
          const freq = transform.frequency ?? 1;
```

---

#### Pattern: `?? 0` at line 510:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        case "oscillate": {
          const freq = transform.frequency ?? 1;
          const amp = transform.amplitude ?? 1;
> const phase = transform.phase ?? 0;
          return Math.sin((value * freq + phase) * Math.PI * 2) * amp;
        }
  
```

---

#### Pattern: `?? 0` at line 563:63

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      for (const driver of drivers) {
        if (!driver.enabled) continue;
  
> const baseValue = baseValues.get(driver.targetProperty) ?? 0;
        const drivenValue = this.evaluateDriver(driver, frame, baseValue);
  
        // If multiple drivers target same property, combine them
```

---

#### Pattern: `?? 0` at line 652:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  ): PropertyDriver {
    const driver = createPropertyDriver(targetLayerId, targetProperty, "audio");
    driver.audioFeature = audioFeature;
> driver.audioThreshold = options.threshold ?? 0;
    driver.audioAboveThreshold = options.threshold !== undefined;
  
    // Add transforms based on options
```

---

#### Pattern: `?? 0` at line 747:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const driver = createPropertyDriver(lightLayerId, "light.intensity", "audio");
    driver.name = "Audio Light Pulse";
    driver.audioFeature = audioFeature;
> driver.audioThreshold = options.threshold ?? 0;
    driver.blendMode = "replace";
  
    // Remap 0-1 audio to intensity range
```

---

#### Pattern: `?? 0` at line 751:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    driver.blendMode = "replace";
  
    // Remap 0-1 audio to intensity range
> const minI = options.minIntensity ?? 0.2;
    const maxI = options.maxIntensity ?? 2.0;
    driver.transforms.push({
      type: "remap",
```

---

### `services/propertyEvaluator.ts` (11 pattern(s))

#### Pattern: `?? 0` at line 175:62

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    if (normalizedPath === "position" || normalizedPath === "position.x" || normalizedPath === "position.y" || normalizedPath === "position.z") {
      if (!t.position) return null;
      const p = interpolateProperty(t.position, frame, fps, layerId, duration);
> if (normalizedPath === "position") return [p.x, p.y, p.z ?? 0];
      if (normalizedPath === "position.x") return p.x;
      if (normalizedPath === "position.y") return p.y;
      if (normalizedPath === "position.z") return p.z ?? 0;
```

---

#### Pattern: `?? 0` at line 178:53

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      if (normalizedPath === "position") return [p.x, p.y, p.z ?? 0];
      if (normalizedPath === "position.x") return p.x;
      if (normalizedPath === "position.y") return p.y;
> if (normalizedPath === "position.z") return p.z ?? 0;
    }
  
    if (normalizedPath === "scale" || normalizedPath === "scale.x" || normalizedPath === "scale.y" || normalizedPath === "scale.z") {
```

---

#### Pattern: `?? 0` at line 211:29

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      if (!originProp) return null;
      const a = interpolateProperty(originProp, frame, fps, layerId, duration);
      if (normalizedPath === "anchorPoint" || normalizedPath === "origin") {
> return [a.x, a.y, a.z ?? 0];
      }
      if (normalizedPath.endsWith(".x")) return a.x;
      if (normalizedPath.endsWith(".y")) return a.y;
```

---

#### Pattern: `?? 0` at line 215:51

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      }
      if (normalizedPath.endsWith(".x")) return a.x;
      if (normalizedPath.endsWith(".y")) return a.y;
> if (normalizedPath.endsWith(".z")) return a.z ?? 0;
    }
  
    if (normalizedPath === "orientation" && t.orientation) {
```

---

#### Pattern: `?? 0` at line 220:27

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
    if (normalizedPath === "orientation" && t.orientation) {
      const o = interpolateProperty(t.orientation, frame, fps, layerId, duration);
> return [o.x, o.y, o.z ?? 0];
    }
  
    // Opacity
```

---

#### Pattern: `?? 0` at line 236:50

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      const value = interpolateProperty(customProp, frame, fps, layerId, duration);
      if (value && typeof value === "object" && "x" in value && "y" in value) {
        const posValue = value as { x: number; y: number; z?: number };
> return [posValue.x, posValue.y, posValue.z ?? 0];
      }
      return value as PropertyValueResult;
    }
```

---

#### Pattern: `?? 0` at line 281:66

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
    switch (mapping.feature) {
      case "amplitude":
> audioValue = audioAnalysis.amplitudeEnvelope?.[frameIndex] ?? 0;
        break;
      case "bass":
        audioValue = audioAnalysis.frequencyBands?.bass?.[frameIndex] ?? 0;
```

---

#### Pattern: `?? 0` at line 284:69

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        audioValue = audioAnalysis.amplitudeEnvelope?.[frameIndex] ?? 0;
        break;
      case "bass":
> audioValue = audioAnalysis.frequencyBands?.bass?.[frameIndex] ?? 0;
        break;
      case "mid":
        audioValue = audioAnalysis.frequencyBands?.mid?.[frameIndex] ?? 0;
```

---

#### Pattern: `?? 0` at line 287:68

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        audioValue = audioAnalysis.frequencyBands?.bass?.[frameIndex] ?? 0;
        break;
      case "mid":
> audioValue = audioAnalysis.frequencyBands?.mid?.[frameIndex] ?? 0;
        break;
      case "high":
        audioValue = audioAnalysis.frequencyBands?.high?.[frameIndex] ?? 0;
```

---

#### Pattern: `?? 0` at line 290:69

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        audioValue = audioAnalysis.frequencyBands?.mid?.[frameIndex] ?? 0;
        break;
      case "high":
> audioValue = audioAnalysis.frequencyBands?.high?.[frameIndex] ?? 0;
        break;
      case "spectralFlux":
      case "onsets":
```

---

#### Pattern: `?? 0` at line 298:66

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        audioValue = audioAnalysis.beats?.includes(frameIndex) ? 1 : 0;
        break;
      default:
> audioValue = audioAnalysis.amplitudeEnvelope?.[frameIndex] ?? 0;
    }
  
    // Apply threshold (noise gate)
```

---

### `services/renderQueue/RenderQueueManager.ts` (3 pattern(s))

#### Pattern: `|| []` at line 214:56

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        const store = transaction.objectStore(JOBS_STORE);
        const request = store.getAll();
  
> request.onsuccess = () => resolve(request.result || []);
        request.onerror = () => reject(request.error);
      });
    }
```

---

#### Pattern: `|| []` at line 275:56

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        const index = store.index("jobId");
        const request = index.getAll(IDBKeyRange.only(jobId));
  
> request.onsuccess = () => resolve(request.result || []);
        request.onerror = () => reject(request.error);
      });
    }
```

---

#### Pattern: `?? 0` at line 808:70

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          return sum + (j.progress.currentFrame - j.startFrame);
        }, 0),
        averageFps: this.activeJobId
> ? (this.jobs.get(this.activeJobId)?.progress.framesPerSecond ?? 0)
          : 0,
      };
    }
```

---

### `services/rovingKeyframes.ts` (6 pattern(s))

#### Pattern: `|| 0` at line 38:22

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  /** Extract x, y, z from either position format */
  function extractXYZ(value: PositionValue): [number, number, number] {
    if (Array.isArray(value)) {
> return [value[0] || 0, value[1] || 0, value[2] || 0];
    }
    return [value.x || 0, value.y || 0, value.z || 0];
  }
```

---

#### Pattern: `|| 0` at line 38:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  /** Extract x, y, z from either position format */
  function extractXYZ(value: PositionValue): [number, number, number] {
    if (Array.isArray(value)) {
> return [value[0] || 0, value[1] || 0, value[2] || 0];
    }
    return [value.x || 0, value.y || 0, value.z || 0];
  }
```

---

#### Pattern: `|| 0` at line 38:52

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  /** Extract x, y, z from either position format */
  function extractXYZ(value: PositionValue): [number, number, number] {
    if (Array.isArray(value)) {
> return [value[0] || 0, value[1] || 0, value[2] || 0];
    }
    return [value.x || 0, value.y || 0, value.z || 0];
  }
```

---

#### Pattern: `|| 0` at line 40:19

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    if (Array.isArray(value)) {
      return [value[0] || 0, value[1] || 0, value[2] || 0];
    }
> return [value.x || 0, value.y || 0, value.z || 0];
  }
  
  export interface RovingOptions {
```

---

#### Pattern: `|| 0` at line 40:33

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    if (Array.isArray(value)) {
      return [value[0] || 0, value[1] || 0, value[2] || 0];
    }
> return [value.x || 0, value.y || 0, value.z || 0];
  }
  
  export interface RovingOptions {
```

---

#### Pattern: `|| 0` at line 40:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    if (Array.isArray(value)) {
      return [value[0] || 0, value[1] || 0, value[2] || 0];
    }
> return [value.x || 0, value.y || 0, value.z || 0];
  }
  
  export interface RovingOptions {
```

---

### `services/security/auditLog.ts` (4 pattern(s))

#### Pattern: `?? 0` at line 356:35

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        }
  
        const limit = query.limit ?? 100;
> const offset = query.offset ?? 0;
        let skipped = 0;
  
        cursor.onsuccess = () => {
```

---

#### Pattern: `|| 0` at line 441:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
          // Track by category
          stats.byCategory[entry.category] =
> (stats.byCategory[entry.category] || 0) + 1;
  
          // Track by severity
          stats.bySeverity[entry.severity] =
```

---

#### Pattern: `|| 0` at line 445:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
          // Track by severity
          stats.bySeverity[entry.severity] =
> (stats.bySeverity[entry.severity] || 0) + 1;
  
          // Track by tool name
          if (entry.toolName) {
```

---

#### Pattern: `|| 0` at line 450:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          // Track by tool name
          if (entry.toolName) {
            stats.byToolName[entry.toolName] =
> (stats.byToolName[entry.toolName] || 0) + 1;
          }
  
          // Track oldest/newest
```

---

### `services/security/rateLimits.ts` (8 pattern(s))

#### Pattern: `Infinity literal` at line 230:18

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
      return {
        toolName,
        callsToday: 0,
> maxPerDay: Infinity,
        callsThisSession: sessionCounts[toolName] || 0,
        canCall: true,
        resetsAt: getTomorrowMidnightUTC(),
```

---

#### Pattern: `|| 0` at line 231:49

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        toolName,
        callsToday: 0,
        maxPerDay: Infinity,
> callsThisSession: sessionCounts[toolName] || 0,
        canCall: true,
        resetsAt: getTomorrowMidnightUTC(),
        resetsIn: getTimeUntilReset(),
```

---

#### Pattern: `|| 0` at line 239:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    }
  
    const stored = loadStoredLimits();
> const callsToday = stored.counts[toolName] || 0;
    const callsThisSession = sessionCounts[toolName] || 0;
  
    // Check daily limit
```

---

#### Pattern: `|| 0` at line 240:52

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
    const stored = loadStoredLimits();
    const callsToday = stored.counts[toolName] || 0;
> const callsThisSession = sessionCounts[toolName] || 0;
  
    // Check daily limit
    if (callsToday >= config.maxPerDay) {
```

---

#### Pattern: `|| 0` at line 291:54

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  export async function recordToolCall(toolName: string): Promise<void> {
    // Increment daily count
    const stored = loadStoredLimits();
> stored.counts[toolName] = (stored.counts[toolName] || 0) + 1;
    saveStoredLimits(stored);
  
    // Increment session count
```

---

#### Pattern: `|| 0` at line 295:54

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    saveStoredLimits(stored);
  
    // Increment session count
> sessionCounts[toolName] = (sessionCounts[toolName] || 0) + 1;
    saveSessionCounts();
  
    const config = customLimits[toolName] || DEFAULT_LIMITS[toolName];
```

---

#### Pattern: `|| 0` at line 318:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
   * Requires user action - logs the reset.
   */
  export async function resetSessionLimit(toolName: string): Promise<void> {
> const oldCount = sessionCounts[toolName] || 0;
    sessionCounts[toolName] = 0;
    saveSessionCounts();
  
```

---

#### Pattern: `Infinity literal` at line 392:9

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
      remainingToday: Math.max(0, status.maxPerDay - status.callsToday),
      remainingSession: status.maxPerSession
        ? Math.max(0, status.maxPerSession - status.callsThisSession)
> : Infinity,
    };
  }
  
```

---

### `services/security/urlValidator.ts` (1 pattern(s))

#### Pattern: `|| []` at line 306:42

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    // URL regex pattern
    const urlPattern =
      /https?:\/\/[^\s<>"{}|\\^`[\]]+|data:[^\s<>"{}|\\^`[\]]+/gi;
> const matches = text.match(urlPattern) || [];
  
    return matches.map((url) => validateURL(url));
  }
```

---

### `services/segmentToMask.ts` (1 pattern(s))

#### Pattern: `?? 0` at line 90:33

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      : imageDataToArray(mask, threshold);
  
    const height = data.length;
> const width = data[0]?.length ?? 0;
  
    if (height === 0 || width === 0) return [];
  
```

---

### `services/shape/pathModifiers.ts` (6 pattern(s))

#### Pattern: `Infinity literal` at line 264:14

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    width: number;
    height: number;
  } {
> let minX = Infinity,
      minY = Infinity;
    let maxX = -Infinity,
      maxY = -Infinity;
```

---

#### Pattern: `Infinity literal` at line 265:12

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    height: number;
  } {
    let minX = Infinity,
> minY = Infinity;
    let maxX = -Infinity,
      maxY = -Infinity;
  
```

---

#### Pattern: `Infinity literal` at line 266:15

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
  } {
    let minX = Infinity,
      minY = Infinity;
> let maxX = -Infinity,
      maxY = -Infinity;
  
    for (const v of path.vertices) {
```

---

#### Pattern: `Infinity literal` at line 267:13

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    let minX = Infinity,
      minY = Infinity;
    let maxX = -Infinity,
> maxY = -Infinity;
  
    for (const v of path.vertices) {
      minX = Math.min(minX, v.point.x);
```

---

#### Pattern: `Infinity literal` at line 703:14

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    }
  
    // Find the bounding box to determine twist falloff
> let minY = Infinity,
      maxY = -Infinity;
    for (const v of path.vertices) {
      minY = Math.min(minY, v.point.y);
```

---

#### Pattern: `Infinity literal` at line 704:13

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
  
    // Find the bounding box to determine twist falloff
    let minY = Infinity,
> maxY = -Infinity;
    for (const v of path.vertices) {
      minY = Math.min(minY, v.point.y);
      maxY = Math.max(maxY, v.point.y);
```

---

### `services/spriteSheet.ts` (2 pattern(s))

#### Pattern: `?? 0` at line 278:43

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        rows,
        frames,
        totalFrames: frames.length,
> frameWidth: frames[0]?.source.width ?? 0,
        frameHeight: frames[0]?.source.height ?? 0,
        imageWidth,
        imageHeight,
```

---

#### Pattern: `?? 0` at line 279:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        frames,
        totalFrames: frames.length,
        frameWidth: frames[0]?.source.width ?? 0,
> frameHeight: frames[0]?.source.height ?? 0,
        imageWidth,
        imageHeight,
        animations: new Map(),
```

---

### `services/svgExport.ts` (6 pattern(s))

#### Pattern: `|| 0` at line 267:42

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
      const pos = t.position?.value as { x?: number; y?: number } | undefined;
      if (pos && (pos.x || pos.y)) {
> transforms.push(`translate(${pos.x || 0},${pos.y || 0})`);
      }
  
      const rot = t.rotation?.value as number | undefined;
```

---

#### Pattern: `|| 0` at line 267:56

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
      const pos = t.position?.value as { x?: number; y?: number } | undefined;
      if (pos && (pos.x || pos.y)) {
> transforms.push(`translate(${pos.x || 0},${pos.y || 0})`);
      }
  
      const rot = t.rotation?.value as number | undefined;
```

---

#### Pattern: `Infinity literal` at line 287:16

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
  
    private calculateBounds(points: ControlPoint[]) {
      if (points.length === 0) return { minX: 0, minY: 0, maxX: 0, maxY: 0 };
> let minX = Infinity,
        minY = Infinity,
        maxX = -Infinity,
        maxY = -Infinity;
```

---

#### Pattern: `Infinity literal` at line 288:14

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    private calculateBounds(points: ControlPoint[]) {
      if (points.length === 0) return { minX: 0, minY: 0, maxX: 0, maxY: 0 };
      let minX = Infinity,
> minY = Infinity,
        maxX = -Infinity,
        maxY = -Infinity;
      for (const p of points) {
```

---

#### Pattern: `Infinity literal` at line 289:15

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
      if (points.length === 0) return { minX: 0, minY: 0, maxX: 0, maxY: 0 };
      let minX = Infinity,
        minY = Infinity,
> maxX = -Infinity,
        maxY = -Infinity;
      for (const p of points) {
        minX = Math.min(minX, p.x);
```

---

#### Pattern: `Infinity literal` at line 290:15

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
      let minX = Infinity,
        minY = Infinity,
        maxX = -Infinity,
> maxY = -Infinity;
      for (const p of points) {
        minX = Math.min(minX, p.x);
        minY = Math.min(minY, p.y);
```

---

### `services/svgExtrusion.ts` (19 pattern(s))

#### Pattern: `Infinity literal` at line 355:16

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
      const id = `svg_${Date.now()}_${Math.random().toString(36).slice(2, 11)}`;
      const paths: ParsedSVGPath[] = [];
  
> let minX = Infinity,
        minY = Infinity;
      let maxX = -Infinity,
        maxY = -Infinity;
```

---

#### Pattern: `Infinity literal` at line 356:14

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
      const paths: ParsedSVGPath[] = [];
  
      let minX = Infinity,
> minY = Infinity;
      let maxX = -Infinity,
        maxY = -Infinity;
  
```

---

#### Pattern: `Infinity literal` at line 357:17

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
  
      let minX = Infinity,
        minY = Infinity;
> let maxX = -Infinity,
        maxY = -Infinity;
  
      // Parse each path
```

---

#### Pattern: `Infinity literal` at line 358:15

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
      let minX = Infinity,
        minY = Infinity;
      let maxX = -Infinity,
> maxY = -Infinity;
  
      // Parse each path
      data.paths.forEach((shapePath, index) => {
```

---

#### Pattern: `?? 0` at line 377:66

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
        // Get stroke
        const strokeColor = shapePath.userData?.style?.stroke;
> const strokeWidth = shapePath.userData?.style?.strokeWidth ?? 0;
  
        // Calculate bounds for this path
        const pathBounds = this.calculatePathBounds(shapes);
```

---

#### Pattern: `Infinity literal` at line 439:16

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
     * Calculate bounds for a set of shapes
     */
    private calculatePathBounds(shapes: THREE.Shape[]): ParsedSVGPath["bounds"] {
> let minX = Infinity,
        minY = Infinity;
      let maxX = -Infinity,
        maxY = -Infinity;
```

---

#### Pattern: `Infinity literal` at line 440:14

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
     */
    private calculatePathBounds(shapes: THREE.Shape[]): ParsedSVGPath["bounds"] {
      let minX = Infinity,
> minY = Infinity;
      let maxX = -Infinity,
        maxY = -Infinity;
  
```

---

#### Pattern: `Infinity literal` at line 441:17

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    private calculatePathBounds(shapes: THREE.Shape[]): ParsedSVGPath["bounds"] {
      let minX = Infinity,
        minY = Infinity;
> let maxX = -Infinity,
        maxY = -Infinity;
  
      for (const shape of shapes) {
```

---

#### Pattern: `Infinity literal` at line 442:15

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
      let minX = Infinity,
        minY = Infinity;
      let maxX = -Infinity,
> maxY = -Infinity;
  
      for (const shape of shapes) {
        const points = shape.getPoints(50);
```

---

#### Pattern: `?? 0` at line 506:35

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        depth: config.depth ?? 10,
        bevelEnabled: config.bevelEnabled ?? false,
        bevelThickness: config.bevelThickness ?? 1,
> bevelSize: config.bevelSize ?? 0.5,
        bevelOffset: config.bevelOffset ?? 0,
        bevelSegments: config.bevelSegments ?? 3,
        curveSegments: config.curveSegments ?? 12,
```

---

#### Pattern: `?? 0` at line 507:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        bevelEnabled: config.bevelEnabled ?? false,
        bevelThickness: config.bevelThickness ?? 1,
        bevelSize: config.bevelSize ?? 0.5,
> bevelOffset: config.bevelOffset ?? 0,
        bevelSegments: config.bevelSegments ?? 3,
        curveSegments: config.curveSegments ?? 12,
        steps: config.steps ?? 1,
```

---

#### Pattern: `?? 0` at line 756:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
        const idx = geom.getIndex();
        if (idx) totalIndices += idx.count;
> else totalIndices += pos?.count ?? 0;
  
        if (!geom.getAttribute("normal")) hasNormals = false;
        if (!geom.getAttribute("uv")) hasUVs = false;
```

---

#### Pattern: `?? 0` at line 868:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        case "physical":
          return new THREE.MeshPhysicalMaterial({
            ...baseParams,
> metalness: config.metalness ?? 0,
            roughness: config.roughness ?? 0.5,
            emissive: new THREE.Color(config.emissive ?? "#000000"),
            emissiveIntensity: config.emissiveIntensity ?? 0,
```

---

#### Pattern: `?? 0` at line 869:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          return new THREE.MeshPhysicalMaterial({
            ...baseParams,
            metalness: config.metalness ?? 0,
> roughness: config.roughness ?? 0.5,
            emissive: new THREE.Color(config.emissive ?? "#000000"),
            emissiveIntensity: config.emissiveIntensity ?? 0,
          });
```

---

#### Pattern: `?? 0` at line 871:55

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            metalness: config.metalness ?? 0,
            roughness: config.roughness ?? 0.5,
            emissive: new THREE.Color(config.emissive ?? "#000000"),
> emissiveIntensity: config.emissiveIntensity ?? 0,
          });
        default:
          return new THREE.MeshStandardMaterial({
```

---

#### Pattern: `?? 0` at line 876:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        default:
          return new THREE.MeshStandardMaterial({
            ...baseParams,
> metalness: config.metalness ?? 0,
            roughness: config.roughness ?? 0.5,
            emissive: new THREE.Color(config.emissive ?? "#000000"),
            emissiveIntensity: config.emissiveIntensity ?? 0,
```

---

#### Pattern: `?? 0` at line 877:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          return new THREE.MeshStandardMaterial({
            ...baseParams,
            metalness: config.metalness ?? 0,
> roughness: config.roughness ?? 0.5,
            emissive: new THREE.Color(config.emissive ?? "#000000"),
            emissiveIntensity: config.emissiveIntensity ?? 0,
          });
```

---

#### Pattern: `?? 0` at line 879:55

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            metalness: config.metalness ?? 0,
            roughness: config.roughness ?? 0.5,
            emissive: new THREE.Color(config.emissive ?? "#000000"),
> emissiveIntensity: config.emissiveIntensity ?? 0,
          });
      }
    }
```

---

#### Pattern: `?? 0` at line 1003:34

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      if (config.simplify) {
        geometry = this.simplifyGeometry(
          geometry,
> config.simplifyTolerance ?? 0.1,
        );
      }
  
```

---

### `services/templateBuilder.ts` (1 pattern(s))

#### Pattern: `|| []` at line 778:35

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      ungrouped,
      groups: config.groups.map((group) => ({
        group,
> items: groups.get(group.id) || [],
      })),
    };
  }
```

---

### `services/textMeasurement.ts` (2 pattern(s))

#### Pattern: `?? 0` at line 84:58

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      actualBoundingBoxAscent: metrics.actualBoundingBoxAscent ?? fontSize * 0.8,
      actualBoundingBoxDescent:
        metrics.actualBoundingBoxDescent ?? fontSize * 0.2,
> actualBoundingBoxLeft: metrics.actualBoundingBoxLeft ?? 0,
      actualBoundingBoxRight: metrics.actualBoundingBoxRight ?? metrics.width,
      fontBoundingBoxAscent: metrics.fontBoundingBoxAscent ?? fontSize * 0.8,
      fontBoundingBoxDescent: metrics.fontBoundingBoxDescent ?? fontSize * 0.2,
```

---

#### Pattern: `|| 0` at line 168:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    const fontWeight = data.fontWeight || "normal";
    const fontStyle = data.fontStyle || "normal";
    const lineHeight = data.lineHeight || 1.2;
> const letterSpacing = data.letterSpacing || 0;
    const textAlign = data.textAlign || "left";
  
    const rect = measureMultilineText(
```

---

### `services/textOnPath.ts` (13 pattern(s))

#### Pattern: `?? 0` at line 205:27

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const p0 = controlPoints[i];
        const p1 = controlPoints[i + 1];
  
> const z0 = p0.depth ?? 0;
        const z1 = p1.depth ?? 0;
  
        const bezier = new THREE.CubicBezierCurve3(
```

---

#### Pattern: `?? 0` at line 206:27

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const p1 = controlPoints[i + 1];
  
        const z0 = p0.depth ?? 0;
> const z1 = p1.depth ?? 0;
  
        const bezier = new THREE.CubicBezierCurve3(
          new THREE.Vector3(p0.x, -p0.y, z0),
```

---

#### Pattern: `?? 0` at line 211:35

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const bezier = new THREE.CubicBezierCurve3(
          new THREE.Vector3(p0.x, -p0.y, z0),
          new THREE.Vector3(
> p0.x + (p0.handleOut?.x ?? 0),
            -(p0.y + (p0.handleOut?.y ?? 0)),
            z0,
          ),
```

---

#### Pattern: `?? 0` at line 212:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          new THREE.Vector3(p0.x, -p0.y, z0),
          new THREE.Vector3(
            p0.x + (p0.handleOut?.x ?? 0),
> -(p0.y + (p0.handleOut?.y ?? 0)),
            z0,
          ),
          new THREE.Vector3(
```

---

#### Pattern: `?? 0` at line 216:34

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            z0,
          ),
          new THREE.Vector3(
> p1.x + (p1.handleIn?.x ?? 0),
            -(p1.y + (p1.handleIn?.y ?? 0)),
            z1,
          ),
```

---

#### Pattern: `?? 0` at line 217:36

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          ),
          new THREE.Vector3(
            p1.x + (p1.handleIn?.x ?? 0),
> -(p1.y + (p1.handleIn?.y ?? 0)),
            z1,
          ),
          new THREE.Vector3(p1.x, -p1.y, z1),
```

---

#### Pattern: `?? 0` at line 231:37

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const lastPoint = controlPoints[controlPoints.length - 1];
        const firstPoint = controlPoints[0];
  
> const zLast = lastPoint.depth ?? 0;
        const zFirst = firstPoint.depth ?? 0;
  
        const closingBezier = new THREE.CubicBezierCurve3(
```

---

#### Pattern: `?? 0` at line 232:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const firstPoint = controlPoints[0];
  
        const zLast = lastPoint.depth ?? 0;
> const zFirst = firstPoint.depth ?? 0;
  
        const closingBezier = new THREE.CubicBezierCurve3(
          new THREE.Vector3(lastPoint.x, -lastPoint.y, zLast),
```

---

#### Pattern: `?? 0` at line 237:49

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const closingBezier = new THREE.CubicBezierCurve3(
          new THREE.Vector3(lastPoint.x, -lastPoint.y, zLast),
          new THREE.Vector3(
> lastPoint.x + (lastPoint.handleOut?.x ?? 0),
            -(lastPoint.y + (lastPoint.handleOut?.y ?? 0)),
            zLast,
          ),
```

---

#### Pattern: `?? 0` at line 238:51

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          new THREE.Vector3(lastPoint.x, -lastPoint.y, zLast),
          new THREE.Vector3(
            lastPoint.x + (lastPoint.handleOut?.x ?? 0),
> -(lastPoint.y + (lastPoint.handleOut?.y ?? 0)),
            zLast,
          ),
          new THREE.Vector3(
```

---

#### Pattern: `?? 0` at line 242:50

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            zLast,
          ),
          new THREE.Vector3(
> firstPoint.x + (firstPoint.handleIn?.x ?? 0),
            -(firstPoint.y + (firstPoint.handleIn?.y ?? 0)),
            zFirst,
          ),
```

---

#### Pattern: `?? 0` at line 243:52

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          ),
          new THREE.Vector3(
            firstPoint.x + (firstPoint.handleIn?.x ?? 0),
> -(firstPoint.y + (firstPoint.handleIn?.y ?? 0)),
            zFirst,
          ),
          new THREE.Vector3(firstPoint.x, -firstPoint.y, zFirst),
```

---

#### Pattern: `?? 0` at line 268:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
     * Get total path length
     */
    getTotalLength(): number {
> return this.arcLengthTable?.totalLength ?? 0;
    }
  
    /**
```

---

### `services/textShaper.ts` (5 pattern(s))

#### Pattern: `?? 0` at line 274:80

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        ascender: font.ascender,
        descender: font.descender,
        // Access internal OpenType tables - not fully typed in opentype.js definitions
> lineGap: (font.tables as { hhea?: { lineGap?: number } })?.hhea?.lineGap ?? 0,
        capHeight: (font.tables as { os2?: { sCapHeight?: number } })?.os2?.sCapHeight ?? font.ascender * 0.7,
        xHeight: (font.tables as { os2?: { sxHeight?: number } })?.os2?.sxHeight ?? font.ascender * 0.5,
        hasKerning:
```

---

#### Pattern: `?? 0` at line 342:48

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        }
  
        // Get glyph metrics
> const advanceWidth = (glyph.advanceWidth ?? 0) * scale;
        const bbox = glyph.getBoundingBox();
  
        // Apply word spacing
```

---

#### Pattern: `?? 0` at line 448:48

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          continue;
        }
  
> const advanceWidth = (glyph.advanceWidth ?? 0) * scale;
        const bbox = glyph.getBoundingBox();
  
        let finalAdvance = advanceWidth;
```

---

#### Pattern: `?? 0` at line 519:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const shaped = this.shapeSync(text, fontFamily, {
          fontSize,
          kern: options?.kern ?? true,
> letterSpacing: options?.letterSpacing ?? 0,
        });
        return shaped.glyphs.map((g) => g.xAdvance);
      } catch {
```

---

#### Pattern: `?? 0` at line 541:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const shaped = this.shapeSync(text, fontFamily, {
          fontSize,
          kern: options?.kern ?? true,
> letterSpacing: options?.letterSpacing ?? 0,
        });
        return shaped.glyphs.map((g) => g.x);
      } catch {
```

---

### `services/textToVector.ts` (7 pattern(s))

#### Pattern: `?? 0` at line 256:27

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
      // Calculate advance width
      const advanceWidth =
> (glyph.advanceWidth ?? 0) * (opts.fontSize / font.unitsPerEm);
  
      groups.push({
        character: char,
```

---

#### Pattern: `?? 0` at line 401:67

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    const layers: Partial<Layer>[] = [];
    const groupByCharacter = options?.groupByCharacter ?? true;
  
> const layerX = (textLayer.transform?.position?.value as any)?.x ?? 0;
    const layerY = (textLayer.transform?.position?.value as any)?.y ?? 0;
  
    if (groupByCharacter) {
```

---

#### Pattern: `?? 0` at line 402:67

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    const groupByCharacter = options?.groupByCharacter ?? true;
  
    const layerX = (textLayer.transform?.position?.value as any)?.x ?? 0;
> const layerY = (textLayer.transform?.position?.value as any)?.y ?? 0;
  
    if (groupByCharacter) {
      for (const charGroup of result.characters) {
```

---

#### Pattern: `?? 0` at line 575:19

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    options?: TextToVectorFromUrlOptions,
  ): Promise<TextToVectorResult> {
    const opts = {
> x: options?.x ?? 0,
      y: options?.y ?? 0,
      kerning: options?.kerning ?? true,
      letterSpacing: options?.letterSpacing ?? 0,
```

---

#### Pattern: `?? 0` at line 576:19

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  ): Promise<TextToVectorResult> {
    const opts = {
      x: options?.x ?? 0,
> y: options?.y ?? 0,
      kerning: options?.kerning ?? true,
      letterSpacing: options?.letterSpacing ?? 0,
    };
```

---

#### Pattern: `?? 0` at line 578:43

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      x: options?.x ?? 0,
      y: options?.y ?? 0,
      kerning: options?.kerning ?? true,
> letterSpacing: options?.letterSpacing ?? 0,
    };
  
    // Load font from URL
```

---

#### Pattern: `?? 0` at line 623:27

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
      // Calculate advance width
      const advanceWidth =
> (glyph.advanceWidth ?? 0) * (fontSize / font.unitsPerEm);
  
      characters.push({
        character: char,
```

---

### `services/timelineSnap.ts` (3 pattern(s))

#### Pattern: `?? 0` at line 143:60

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      for (const layer of context.layers) {
        if (layer.id === context.selectedLayerId) continue;
  
> const layerStart = layer.startFrame ?? layer.inPoint ?? 0;
        const layerEnd = layer.endFrame ?? layer.outPoint ?? 80;
        const inDistance = Math.abs(frame - layerStart);
        const outDistance = Math.abs(frame - layerEnd);
```

---

#### Pattern: `?? []` at line 250:32

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
   * Get all beat frames from audio analysis
   */
  export function getBeatFrames(audioAnalysis: AudioAnalysis | null): number[] {
> return audioAnalysis?.onsets ?? [];
  }
  
  /**
```

---

#### Pattern: `?? []` at line 257:28

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
   * Get all peak frames from peak data
   */
  export function getPeakFrames(peakData: PeakData | null): number[] {
> return peakData?.indices ?? [];
  }
  
  /**
```

---

### `services/trackPointService.ts` (2 pattern(s))

#### Pattern: `Infinity literal` at line 495:18

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
  } {
    let totalPoints = 0;
    let tracksWithPositions = 0;
> let minFrame = Infinity;
    let maxFrame = -Infinity;
  
    for (const track of state.tracks.values()) {
```

---

#### Pattern: `Infinity literal` at line 496:19

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    let totalPoints = 0;
    let tracksWithPositions = 0;
    let minFrame = Infinity;
> let maxFrame = -Infinity;
  
    for (const track of state.tracks.values()) {
      const pointCount = track.positions.size;
```

---

### `services/vectorLOD.ts` (2 pattern(s))

#### Pattern: `?? 0` at line 201:51

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
      // Find level closest to target quality
      let bestLevel = levels[0];
> let bestDiff = Math.abs((levels[0].complexity ?? 0) - targetQuality);
  
      for (const level of levels) {
        const diff = Math.abs((level.complexity ?? 0) - targetQuality);
```

---

#### Pattern: `?? 0` at line 204:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      let bestDiff = Math.abs((levels[0].complexity ?? 0) - targetQuality);
  
      for (const level of levels) {
> const diff = Math.abs((level.complexity ?? 0) - targetQuality);
        if (diff < bestDiff) {
          bestDiff = diff;
          bestLevel = level;
```

---

### `services/vectorize.ts` (4 pattern(s))

#### Pattern: `Infinity literal` at line 549:14

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    if (controlPoints.length === 0) return [];
  
    // Calculate bounds
> let minX = Infinity,
      minY = Infinity,
      maxX = -Infinity,
      maxY = -Infinity;
```

---

#### Pattern: `Infinity literal` at line 550:12

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
  
    // Calculate bounds
    let minX = Infinity,
> minY = Infinity,
      maxX = -Infinity,
      maxY = -Infinity;
    for (const cp of controlPoints) {
```

---

#### Pattern: `Infinity literal` at line 551:13

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    // Calculate bounds
    let minX = Infinity,
      minY = Infinity,
> maxX = -Infinity,
      maxY = -Infinity;
    for (const cp of controlPoints) {
      minX = Math.min(minX, cp.x);
```

---

#### Pattern: `Infinity literal` at line 552:13

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    let minX = Infinity,
      minY = Infinity,
      maxX = -Infinity,
> maxY = -Infinity;
    for (const cp of controlPoints) {
      minX = Math.min(minX, cp.x);
      minY = Math.min(minY, cp.y);
```

---

### `services/videoDecoder.ts` (2 pattern(s))

#### Pattern: `?? 0` at line 422:42

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            resolve({
              frameNumber,
              timestamp,
> width: this.videoInfo?.width ?? 0,
              height: this.videoInfo?.height ?? 0,
              bitmap,
            });
```

---

#### Pattern: `?? 0` at line 423:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
              frameNumber,
              timestamp,
              width: this.videoInfo?.width ?? 0,
> height: this.videoInfo?.height ?? 0,
              bitmap,
            });
          } catch (error) {
```

---

### `services/visionAuthoring/MotionIntentResolver.ts` (7 pattern(s))

#### Pattern: `?? 0` at line 89:40

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        apiEndpoint: config?.apiEndpoint,
        apiKey: config?.apiKey,
        maxTokens: config?.maxTokens ?? 2048,
> temperature: config?.temperature ?? 0.7,
      };
    }
  
```

---

#### Pattern: `?? 0` at line 339:42

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
        // Sample depth at this position
        const pixelIndex = Math.floor(y) * width + Math.floor(x);
> const depth = depthMap[pixelIndex] ?? 0.5;
  
        points.push(this.createControlPoint(`dp${i}`, x, y, depth));
      }
```

---

#### Pattern: `?? 0` at line 550:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          const parsed = JSON.parse(jsonMatch[0]);
          return {
            description: parsed.description ?? "AI-generated motion suggestion",
> confidence: parsed.confidence ?? 0.8,
            cameraIntents: parsed.cameraIntents ?? [],
            splineIntents: parsed.splineIntents ?? [],
            particleIntents: parsed.particleIntents ?? [],
```

---

#### Pattern: `?? []` at line 551:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
          return {
            description: parsed.description ?? "AI-generated motion suggestion",
            confidence: parsed.confidence ?? 0.8,
> cameraIntents: parsed.cameraIntents ?? [],
            splineIntents: parsed.splineIntents ?? [],
            particleIntents: parsed.particleIntents ?? [],
            layerIntents: parsed.layerIntents ?? [],
```

---

#### Pattern: `?? []` at line 552:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
            description: parsed.description ?? "AI-generated motion suggestion",
            confidence: parsed.confidence ?? 0.8,
            cameraIntents: parsed.cameraIntents ?? [],
> splineIntents: parsed.splineIntents ?? [],
            particleIntents: parsed.particleIntents ?? [],
            layerIntents: parsed.layerIntents ?? [],
            rawResponse: content,
```

---

#### Pattern: `?? []` at line 553:51

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
            confidence: parsed.confidence ?? 0.8,
            cameraIntents: parsed.cameraIntents ?? [],
            splineIntents: parsed.splineIntents ?? [],
> particleIntents: parsed.particleIntents ?? [],
            layerIntents: parsed.layerIntents ?? [],
            rawResponse: content,
          };
```

---

#### Pattern: `?? []` at line 554:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
            cameraIntents: parsed.cameraIntents ?? [],
            splineIntents: parsed.splineIntents ?? [],
            particleIntents: parsed.particleIntents ?? [],
> layerIntents: parsed.layerIntents ?? [],
            rawResponse: content,
          };
        }
```

---

### `services/visionAuthoring/MotionIntentTranslator.ts` (8 pattern(s))

#### Pattern: `?? 0` at line 253:32

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
              cameraLayerId,
              currentPosition,
              duration,
> intent.noiseAmount ?? 0.5,
            ),
          );
          break;
```

---

#### Pattern: `?? 0` at line 310:24

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          id: p.id ?? `sp_${i}`,
          x: p.x,
          y: p.y,
> depth: p.depth ?? 0,
          handleIn: this.generateHandle(
            intent.suggestedPoints,
            i,
```

---

#### Pattern: `?? 0` at line 444:26

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
              amplitude * 50,
              duration,
              frequency,
> intent.phase ?? 0,
            ),
          );
          break;
```

---

#### Pattern: `?? 0` at line 458:26

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
              amplitude * 30,
              duration,
              frequency,
> intent.phase ?? 0,
            ),
          );
          break;
```

---

#### Pattern: `?? 0` at line 472:26

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
              amplitude * 40,
              duration,
              frequency,
> intent.phase ?? 0,
            ),
          );
          break;
```

---

#### Pattern: `?? 0` at line 486:26

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
              100 + amplitude * 10,
              duration,
              frequency,
> intent.phase ?? 0,
            ),
            this.createOscillatingKeyframes(
              layer.id,
```

---

#### Pattern: `?? 0` at line 495:26

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
              100 + amplitude * 10,
              duration,
              frequency,
> intent.phase ?? 0,
            ),
          );
          break;
```

---

#### Pattern: `?? 0` at line 509:26

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
              100 - amplitude * 30,
              duration,
              frequency * 2,
> intent.phase ?? 0,
            ),
          );
          break;
```

---

### `services/webgpuRenderer.ts` (4 pattern(s))

#### Pattern: `?? 0` at line 1217:32

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        this.warpPipeline!,
        this.warpBindGroupLayout!,
        [
> styleMap[params.style] ?? 0,
          params.bend,
          params.hDistort ?? 0,
          params.vDistort ?? 0,
```

---

#### Pattern: `?? 0` at line 1219:25

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        [
          styleMap[params.style] ?? 0,
          params.bend,
> params.hDistort ?? 0,
          params.vDistort ?? 0,
        ],
      );
```

---

#### Pattern: `?? 0` at line 1220:25

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          styleMap[params.style] ?? 0,
          params.bend,
          params.hDistort ?? 0,
> params.vDistort ?? 0,
        ],
      );
    }
```

---

#### Pattern: `?? 0` at line 1252:24

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      const paramsData = new Float32Array([
        params.radius,
        params.intensity,
> params.threshold ?? 0.5,
        0, // padding
        params.color?.r ?? 1,
        params.color?.g ?? 1,
```

---

### `services/workerPool.ts` (1 pattern(s))

#### Pattern: `Infinity literal` at line 175:25

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    private getAvailableWorker(): WorkerState | null {
      // Find least busy worker
      let best: WorkerState | null = null;
> let bestTaskCount = Infinity;
  
      for (const state of this.workers) {
        if (!state.busy && state.taskCount < bestTaskCount) {
```

---

### `stores/animationStore/index.ts` (2 pattern(s))

#### Pattern: `?? 0` at line 82:57

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        state.workAreaStart !== null && state.workAreaEnd !== null,
  
      /** Get effective start frame (work area or 0) */
> effectiveStartFrame: (state) => state.workAreaStart ?? 0,
  
      /** Whether playback is currently active (delegated to playbackStore) */
      isPlaying(): boolean {
```

---

#### Pattern: `?? 0` at line 313:55

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
       */
      getFrameState(store: FrameEvaluationAccess, frame?: number): FrameState {
        const comp = store.getActiveComp();
> const targetFrame = frame ?? comp?.currentFrame ?? 0;
  
        // Get audio reactive data from audioStore
        const audioStore = useAudioStore();
```

---

### `stores/assetStore.ts` (1 pattern(s))

#### Pattern: `|| {}` at line 266:54

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          },
        };
  
> const presetConfig = presetConfigs[presetName] || {};
        const config: PBRMaterialConfig = this.createDefaultMaterialConfig(
          id,
          customName || presetName,
```

---

### `stores/audioKeyframeStore.ts` (1 pattern(s))

#### Pattern: `?? 0` at line 287:57

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const audioStore = useAudioStore();
        if (!audioStore.audioAnalysis) return;
  
> const frame = store.getActiveComp()?.currentFrame ?? 0;
        const amplitude = audioStore.getFeatureAtFrame(store, "amplitude", frame);
        const isBeat = audioStore.isBeatAtFrame(frame);
  
```

---

### `stores/audioStore.ts` (7 pattern(s))

#### Pattern: `?? 0` at line 106:54

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      isLoading: (state) =>
        state.loadingState === "decoding" || state.loadingState === "analyzing",
      hasError: (state) => state.loadingState === "error",
> duration: (state) => state.audioBuffer?.duration ?? 0,
      bpm: (state) => state.audioAnalysis?.bpm ?? 0,
      frameCount: (state) => state.audioAnalysis?.frameCount ?? 0,
  
```

---

#### Pattern: `?? 0` at line 107:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        state.loadingState === "decoding" || state.loadingState === "analyzing",
      hasError: (state) => state.loadingState === "error",
      duration: (state) => state.audioBuffer?.duration ?? 0,
> bpm: (state) => state.audioAnalysis?.bpm ?? 0,
      frameCount: (state) => state.audioAnalysis?.frameCount ?? 0,
  
      // Waveform integration helpers
```

---

#### Pattern: `?? 0` at line 108:60

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      hasError: (state) => state.loadingState === "error",
      duration: (state) => state.audioBuffer?.duration ?? 0,
      bpm: (state) => state.audioAnalysis?.bpm ?? 0,
> frameCount: (state) => state.audioAnalysis?.frameCount ?? 0,
  
      // Waveform integration helpers
      /** Check if audio buffer is loaded (for waveform rendering) */
```

---

#### Pattern: `?? 0` at line 279:55

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      ): number {
        if (!this.audioAnalysis) return 0;
        const targetFrame =
> frame ?? store?.getActiveComp()?.currentFrame ?? 0;
        return getFeatureAtFrameService(this.audioAnalysis, feature, targetFrame);
      },
  
```

---

#### Pattern: `|| []` at line 330:57

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
       * Apply audio reactivity mapping to particle layer (legacy)
       */
      addLegacyMapping(layerId: string, mapping: AudioParticleMapping): void {
> const existing = this.legacyMappings.get(layerId) || [];
        existing.push(mapping);
        this.legacyMappings.set(layerId, existing);
      },
```

---

#### Pattern: `|| []` at line 352:47

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
       * Get legacy mappings for a layer
       */
      getLegacyMappings(layerId: string): AudioParticleMapping[] {
> return this.legacyMappings.get(layerId) || [];
      },
  
      // ============================================================
```

---

#### Pattern: `?? 0` at line 484:42

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          const effectiveVolume = this.muted ? 0 : this.volume / 100;
          this.gainNode.gain.setValueAtTime(
            effectiveVolume,
> this.audioContext?.currentTime ?? 0,
          );
        }
      },
```

---

### `stores/cacheStore.ts` (1 pattern(s))

#### Pattern: `?? 0` at line 167:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
        // Create a simplified fingerprint of the composition state
        const fingerprint = {
> layerCount: comp.layers?.length ?? 0,
          layerIds: comp.layers?.map((l) => l.id).join(",") ?? "",
          modified: store.project.meta.modified,
          settings: comp.settings,
```

---

### `stores/cameraStore.ts` (1 pattern(s))

#### Pattern: `|| []` at line 250:50

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
       * Get all keyframes for a camera
       */
      getCameraKeyframes(store: CameraStoreAccess, cameraId: string): CameraKeyframe[] {
> return store.cameraKeyframes.get(cameraId) || [];
      },
  
      /**
```

---

### `stores/compositionStore.ts` (2 pattern(s))

#### Pattern: `?? 0` at line 343:64

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        }
  
        const earliestIn = Math.min(
> ...selectedLayers.map((l) => l.startFrame ?? l.inPoint ?? 0),
        );
  
        for (const layer of selectedLayers) {
```

---

#### Pattern: `?? 0` at line 347:62

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        );
  
        for (const layer of selectedLayers) {
> const layerStart = layer.startFrame ?? layer.inPoint ?? 0;
          const layerEnd = layer.endFrame ?? layer.outPoint ?? 80;
          layer.startFrame = layerStart - earliestIn;
          layer.endFrame = layerEnd - earliestIn;
```

---

### `stores/compositorStore.ts` (13 pattern(s))

#### Pattern: `|| 0` at line 312:33

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      // Current frame - per composition
      currentFrame(state): number {
        const comp = state.project.compositions[state.activeCompositionId];
> return comp?.currentFrame || 0;
      },
      currentTime(): number {
        const comp = this.activeComposition;
```

---

#### Pattern: `|| []` at line 323:27

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      // Layers - from active composition
      layers(state): Layer[] {
        const comp = state.project.compositions[state.activeCompositionId];
> return comp?.layers || [];
      },
      visibleLayers(state): Layer[] {
        const comp = state.project.compositions[state.activeCompositionId];
```

---

#### Pattern: `|| []` at line 327:35

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      },
      visibleLayers(state): Layer[] {
        const comp = state.project.compositions[state.activeCompositionId];
> const layers = comp?.layers || [];
        return layers.filter((l: Layer) => l.visible);
      },
      // Layers displayed in timeline (respects minimized filter)
```

---

#### Pattern: `|| []` at line 333:35

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      // Layers displayed in timeline (respects minimized filter)
      displayedLayers(state): Layer[] {
        const comp = state.project.compositions[state.activeCompositionId];
> const layers = comp?.layers || [];
        const uiStore = useUIStore();
        if (uiStore.hideMinimizedLayers) {
          return layers.filter((l: Layer) => !l.minimized);
```

---

#### Pattern: `|| []` at line 360:28

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      selectedLayers(state): Layer[] {
        const comp = state.project.compositions[state.activeCompositionId];
        const selectionStore = useSelectionStore();
> return (comp?.layers || []).filter((l: Layer) =>
          selectionStore.selectedLayerIds.includes(l.id),
        );
      },
```

---

#### Pattern: `|| []` at line 369:23

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        if (selectionStore.selectedLayerIds.length !== 1) return null;
        const comp = state.project.compositions[state.activeCompositionId];
        return (
> (comp?.layers || []).find(
            (l: Layer) => l.id === selectionStore.selectedLayerIds[0],
          ) || null
        );
```

---

#### Pattern: `|| []` at line 409:35

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
      allCameras: (state): Camera3D[] => Array.from(state.cameras.values()),
      cameraLayers(state): Layer[] {
        const comp = state.project.compositions[state.activeCompositionId];
> const layers = comp?.layers || [];
        return layers.filter((l: Layer) => l.type === "camera");
      },
  
```

---

#### Pattern: `|| []` at line 435:27

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
       */
      getActiveCompLayers(): Layer[] {
        const comp = this.project.compositions[this.activeCompositionId];
> return comp?.layers || [];
      },
  
      /**
```

---

#### Pattern: `?? 0` at line 954:42

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const comp = this.getActiveComp();
        const storeWithFrame = {
          ...this,
> currentFrame: comp?.currentFrame ?? 0,
          fps: comp?.settings.fps ?? 30,
          // Explicitly bind pushHistory to preserve 'this' context
          pushHistory: this.pushHistory.bind(this),
```

---

#### Pattern: `?? 0` at line 972:42

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const comp = this.getActiveComp();
        const storeWithFrame = {
          ...this,
> currentFrame: comp?.currentFrame ?? 0,
          fps: comp?.settings.fps ?? 30,
          // Explicitly bind pushHistory to preserve 'this' context
          pushHistory: this.pushHistory.bind(this),
```

---

#### Pattern: `?? 0` at line 2158:71

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        return useAudioStore().getMappedValueAtFrame(mappingId, frame);
      },
      getAllMappedValuesAtFrame(frame?: number): Map<TargetParameter, number> {
> const targetFrame = frame ?? this.getActiveComp()?.currentFrame ?? 0;
        return useAudioStore().getAllMappedValuesAtFrame(targetFrame);
      },
      getActiveMappingsForLayer(layerId: string): AudioMapping[] {
```

---

#### Pattern: `?? 0` at line 2171:56

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        return useAudioStore().getValuesForLayerAtFrame(layerId, frame);
      },
      isBeatAtCurrentFrame(): boolean {
> const frame = this.getActiveComp()?.currentFrame ?? 0;
        return useAudioStore().isBeatAtFrame(frame);
      },
      convertAudioToKeyframes(
```

---

#### Pattern: `?? 0` at line 2380:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        return useExpressionStore().getEvaluatedLayerProperties(
          this,
          layerId,
> this.getActiveComp()?.currentFrame ?? 0,
        );
      },
      addPropertyDriver(driver: PropertyDriver): boolean {
```

---

### `stores/decompositionStore.ts` (3 pattern(s))

#### Pattern: `|| 0` at line 255:40

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
            }))
            .sort(
              (a, b) =>
> (b.depth?.estimatedDepth || 0) - (a.depth?.estimatedDepth || 0),
            );
  
          for (let i = 0; i < sortedLayers.length; i++) {
```

---

#### Pattern: `|| 0` at line 255:73

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
            }))
            .sort(
              (a, b) =>
> (b.depth?.estimatedDepth || 0) - (a.depth?.estimatedDepth || 0),
            );
  
          for (let i = 0; i < sortedLayers.length; i++) {
```

---

#### Pattern: `|| 0` at line 271:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
              store,
              layer,
              depth?.contentDescription || layer.label,
> depth?.suggestedZPosition || 0,
            );
  
            if (createdLayer) {
```

---

### `stores/effectStore/index.ts` (1 pattern(s))

#### Pattern: `?? 0` at line 327:69

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        if (!effect || !effect.parameters[paramKey]) return null;
  
        const param = effect.parameters[paramKey];
> const rawFrame = frame ?? store.getActiveComp()?.currentFrame ?? 0;
        const targetFrame = Number.isFinite(rawFrame) ? rawFrame : 0;
  
        if (param.animated && param.keyframes.length > 0) {
```

---

### `stores/keyframeStore/clipboard.ts` (2 pattern(s))

#### Pattern: `Infinity literal` at line 62:23

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    }
  
    // Find the earliest frame among all selected keyframes (for relative timing)
> let earliestFrame = Infinity;
    const clipboardEntries: ClipboardKeyframe[] = [];
  
    for (const [, group] of groupedByProperty) {
```

---

#### Pattern: `Infinity literal` at line 84:25

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
      }
    }
  
> if (earliestFrame === Infinity) {
      storeLogger.debug("copyKeyframes: No valid keyframes found");
      return 0;
    }
```

---

### `stores/keyframeStore/evaluation.ts` (7 pattern(s))

#### Pattern: `?? 0` at line 67:69

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          layerId,
          duration,
        );
> return parts[2] === "x" ? p.x : parts[2] === "y" ? p.y : (p.z ?? 0);
      }
      if (parts[1] === "anchorPoint" || parts[1] === "origin") {
        // Use origin (new name) with fallback to anchorPoint
```

---

#### Pattern: `?? 0` at line 80:69

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          layerId,
          duration,
        );
> return parts[2] === "x" ? a.x : parts[2] === "y" ? a.y : (a.z ?? 0);
      }
      if (parts[1] === "scale") {
        const s = interpolateProperty(t.scale, frame, fps, layerId, duration);
```

---

#### Pattern: `?? 0` at line 161:27

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        layerId,
        duration,
      );
> return [p.x, p.y, p.z ?? 0];
    }
  
    if (
```

---

#### Pattern: `?? 0` at line 177:27

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        layerId,
        duration,
      );
> return [a.x, a.y, a.z ?? 0];
    }
  
    if (normalizedPath === "scale" && t.scale) {
```

---

#### Pattern: `?? 0` at line 209:27

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        layerId,
        duration,
      );
> return [o.x, o.y, o.z ?? 0];
    }
  
    if (propertyPath === "opacity" && layer.opacity) {
```

---

#### Pattern: `?? 0` at line 243:50

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      ) {
        // Type guard for position-like objects
        const posValue = value as { x: number; y: number; z?: number };
> return [posValue.x, posValue.y, posValue.z ?? 0];
      }
      return value;
    }
```

---

#### Pattern: `?? 0` at line 264:36

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    property: AnimatableProperty<T>,
  ): T {
    const comp = store.getActiveComp();
> const frame = comp?.currentFrame ?? 0;
    const fps = store.fps;
    const duration = comp
      ? comp.settings.frameCount / comp.settings.fps
```

---

### `stores/keyframeStore/expressions.ts` (2 pattern(s))

#### Pattern: `?? 0` at line 249:28

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      return 0;
    }
  
> const start = startFrame ?? 0;
    const end = endFrame ?? store.frameCount;
    // Validate sampleRate (Math.round(NaN) = NaN, Math.max(1, NaN) = NaN)
    const rate = Number.isFinite(sampleRate)
```

---

#### Pattern: `?? 0` at line 275:36

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          } else if (value.length >= 3) {
            keyframeValue = { x: value[0], y: value[1], z: value[2] };
          } else {
> keyframeValue = value[0] ?? 0;
          }
        } else {
          keyframeValue = value;
```

---

### `stores/keyframeStore/property.ts` (2 pattern(s))

#### Pattern: `?? 0` at line 35:62

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
    // If animated and at a keyframe, update that keyframe's value too
    if (property.animated && property.keyframes.length > 0) {
> const currentFrame = store.getActiveComp()?.currentFrame ?? 0;
      const existingKf = property.keyframes.find(
        (kf) => kf.frame === currentFrame,
      );
```

---

#### Pattern: `?? 0` at line 74:40

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      } else {
        // Direct implementation when no callback provided
        const comp = store.getActiveComp();
> const frame = comp?.currentFrame ?? 0;
  
        const keyframe: Keyframe<PropertyValue> = {
          id: `kf_${Date.now()}_${Math.random().toString(36).slice(2, 11)}`,
```

---

### `stores/keyframeStore/timing.ts` (3 pattern(s))

#### Pattern: `?? 0` at line 183:21

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const interpolatedValue = {
      x: beforeVal.x + (afterVal.x - beforeVal.x) * t,
      y: beforeVal.y + (afterVal.y - beforeVal.y) * t,
> z: (beforeVal.z ?? 0) + ((afterVal.z ?? 0) - (beforeVal.z ?? 0)) * t,
    };
  
    // Create the keyframe
```

---

#### Pattern: `?? 0` at line 183:42

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const interpolatedValue = {
      x: beforeVal.x + (afterVal.x - beforeVal.x) * t,
      y: beforeVal.y + (afterVal.y - beforeVal.y) * t,
> z: (beforeVal.z ?? 0) + ((afterVal.z ?? 0) - (beforeVal.z ?? 0)) * t,
    };
  
    // Create the keyframe
```

---

#### Pattern: `?? 0` at line 183:63

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    const interpolatedValue = {
      x: beforeVal.x + (afterVal.x - beforeVal.x) * t,
      y: beforeVal.y + (afterVal.y - beforeVal.y) * t,
> z: (beforeVal.z ?? 0) + ((afterVal.z ?? 0) - (beforeVal.z ?? 0)) * t,
    };
  
    // Create the keyframe
```

---

### `stores/keyframeStore/velocity.ts` (2 pattern(s))

#### Pattern: `?? 0` at line 126:59

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
    // Convert value offset back to velocity (validate fps)
    const fps = Number.isFinite(store.fps) && store.fps > 0 ? store.fps : 16;
> const inHandleFrame = Math.abs(keyframe.inHandle?.frame ?? 0);
    const inVelocity =
      keyframe.inHandle?.enabled && inHandleFrame > 0
        ? (-keyframe.inHandle.value / inHandleFrame) * fps
```

---

#### Pattern: `?? 0` at line 132:52

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        ? (-keyframe.inHandle.value / inHandleFrame) * fps
        : 0;
  
> const outHandleFrame = keyframe.outHandle?.frame ?? 0;
    const outVelocity =
      keyframe.outHandle?.enabled && outHandleFrame !== 0
        ? (keyframe.outHandle.value / outHandleFrame) * fps
```

---

### `stores/layerStore/crud.ts` (8 pattern(s))

#### Pattern: `NaN literal` at line 442:72

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isNaN() for comparisons

**Code:**
```typescript
      // Validate position values are finite
      const { x, y, z } = updates.position;
      if (!Number.isFinite(x) || !Number.isFinite(y) || (z !== undefined && !Number.isFinite(z))) {
> storeLogger.warn("updateLayerTransform: Invalid position values (NaN/Infinity)", { x, y, z });
        return;
      }
      layer.transform.position.value = updates.position;
```

---

#### Pattern: `Infinity literal` at line 442:76

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
      // Validate position values are finite
      const { x, y, z } = updates.position;
      if (!Number.isFinite(x) || !Number.isFinite(y) || (z !== undefined && !Number.isFinite(z))) {
> storeLogger.warn("updateLayerTransform: Invalid position values (NaN/Infinity)", { x, y, z });
        return;
      }
      layer.transform.position.value = updates.position;
```

---

#### Pattern: `NaN literal` at line 451:69

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isNaN() for comparisons

**Code:**
```typescript
      // Validate scale values are finite
      const { x, y, z } = updates.scale;
      if (!Number.isFinite(x) || !Number.isFinite(y) || (z !== undefined && !Number.isFinite(z))) {
> storeLogger.warn("updateLayerTransform: Invalid scale values (NaN/Infinity)", { x, y, z });
        return;
      }
      layer.transform.scale.value = updates.scale;
```

---

#### Pattern: `Infinity literal` at line 451:73

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
      // Validate scale values are finite
      const { x, y, z } = updates.scale;
      if (!Number.isFinite(x) || !Number.isFinite(y) || (z !== undefined && !Number.isFinite(z))) {
> storeLogger.warn("updateLayerTransform: Invalid scale values (NaN/Infinity)", { x, y, z });
        return;
      }
      layer.transform.scale.value = updates.scale;
```

---

#### Pattern: `NaN literal` at line 459:71

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isNaN() for comparisons

**Code:**
```typescript
    if (updates.rotation !== undefined && layer.transform.rotation) {
      // Validate rotation is finite
      if (!Number.isFinite(updates.rotation)) {
> storeLogger.warn("updateLayerTransform: Invalid rotation value (NaN/Infinity)", updates.rotation);
        return;
      }
      layer.transform.rotation.value = updates.rotation;
```

---

#### Pattern: `Infinity literal` at line 459:75

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
    if (updates.rotation !== undefined && layer.transform.rotation) {
      // Validate rotation is finite
      if (!Number.isFinite(updates.rotation)) {
> storeLogger.warn("updateLayerTransform: Invalid rotation value (NaN/Infinity)", updates.rotation);
        return;
      }
      layer.transform.rotation.value = updates.rotation;
```

---

#### Pattern: `NaN literal` at line 485:70

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isNaN() for comparisons

**Code:**
```typescript
      // Validate origin values are finite
      const { x, y, z } = originUpdate;
      if (!Number.isFinite(x) || !Number.isFinite(y) || (z !== undefined && !Number.isFinite(z))) {
> storeLogger.warn("updateLayerTransform: Invalid origin values (NaN/Infinity)", { x, y, z });
        return;
      }
      layer.transform.origin.value = originUpdate;
```

---

#### Pattern: `Infinity literal` at line 485:74

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
      // Validate origin values are finite
      const { x, y, z } = originUpdate;
      if (!Number.isFinite(x) || !Number.isFinite(y) || (z !== undefined && !Number.isFinite(z))) {
> storeLogger.warn("updateLayerTransform: Invalid origin values (NaN/Infinity)", { x, y, z });
        return;
      }
      layer.transform.origin.value = originUpdate;
```

---

### `stores/layerStore/hierarchy.ts` (9 pattern(s))

#### Pattern: `?? []` at line 188:58

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
   * @param compositorStore - The compositor store instance
   */
  export function selectAllLayers(compositorStore: CompositorStoreAccess): void {
> const layers = compositorStore.getActiveCompLayers?.() ?? [];
    const selection = useSelectionStore();
    selection.selectLayers(layers.map((l: Layer) => l.id));
  }
```

---

#### Pattern: `?? []` at line 251:58

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
    compositorStore: CompositorStoreAccess,
    layerId: string,
  ): Layer | null {
> const layers = compositorStore.getActiveCompLayers?.() ?? [];
    return layers.find((l: Layer) => l.id === layerId) ?? null;
  }
  
```

---

#### Pattern: `?? []` at line 265:58

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
    compositorStore: CompositorStoreAccess,
    layerId: string,
  ): Layer[] {
> const layers = compositorStore.getActiveCompLayers?.() ?? [];
    return layers.filter((l: Layer) => l.parentId === layerId);
  }
  
```

---

#### Pattern: `?? []` at line 298:58

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
  export function getVisibleLayers(
    compositorStore: CompositorStoreAccess,
  ): Layer[] {
> const layers = compositorStore.getActiveCompLayers?.() ?? [];
    return layers.filter((l: Layer) => l.visible);
  }
  
```

---

#### Pattern: `?? []` at line 312:58

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
    compositorStore: CompositorStoreAccess,
    hideMinimized = false,
  ): Layer[] {
> const layers = compositorStore.getActiveCompLayers?.() ?? [];
    if (hideMinimized) {
      return layers.filter((l: Layer) => !l.minimized);
    }
```

---

#### Pattern: `?? []` at line 327:58

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
  export function getRootLayers(
    compositorStore: CompositorStoreAccess,
  ): Layer[] {
> const layers = compositorStore.getActiveCompLayers?.() ?? [];
    return layers.filter((l: Layer) => !l.parentId);
  }
  
```

---

#### Pattern: `?? []` at line 339:58

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
  export function getCameraLayers(
    compositorStore: CompositorStoreAccess,
  ): Layer[] {
> const layers = compositorStore.getActiveCompLayers?.() ?? [];
    return layers.filter((l: Layer) => l.type === "camera");
  }
  
```

---

#### Pattern: `?? []` at line 351:58

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
  export function getSelectedLayers(
    compositorStore: CompositorStoreAccess,
  ): Layer[] {
> const layers = compositorStore.getActiveCompLayers?.() ?? [];
    const selectionStore = useSelectionStore();
    return layers.filter((l: Layer) =>
      selectionStore.selectedLayerIds.includes(l.id),
```

---

#### Pattern: `?? []` at line 368:58

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
  ): Layer | null {
    const selectionStore = useSelectionStore();
    if (selectionStore.selectedLayerIds.length !== 1) return null;
> const layers = compositorStore.getActiveCompLayers?.() ?? [];
    return (
      layers.find((l: Layer) => l.id === selectionStore.selectedLayerIds[0]) ||
      null
```

---

### `stores/layerStore/pathOperations.ts` (4 pattern(s))

#### Pattern: `|| []` at line 72:50

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    }
  
    const splineData = sourceLayer.data as SplineData;
> const controlPoints = splineData.controlPoints || [];
  
    if (controlPoints.length < 2) {
      storeLogger.error(
```

---

#### Pattern: `?? 0` at line 83:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
    // Configuration
    const useFullDuration = options.useFullDuration ?? true;
> const startFrame = options.startFrame ?? 0;
    const endFrame = options.endFrame ?? comp.settings.frameCount - 1;
    const interpolation = options.interpolation ?? "bezier";
    const useSpatialTangents = options.useSpatialTangents ?? true;
```

---

#### Pattern: `?? 0` at line 130:56

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      const point = sampledPoints[i];
  
      // Calculate frame distance to neighboring keyframes for handle influence
> const prevFrame = i > 0 ? (keyframes[i - 1]?.frame ?? 0) : 0;
      const nextFrame =
        i < sampledPoints.length - 1
          ? Math.round(
```

---

#### Pattern: `?? 0` at line 144:55

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling
- **Type Info:** Object type detected

**Code:**
```typescript
      const keyframe: (typeof keyframes)[0] = {
        id: `kf_${Date.now()}_${i}`,
        frame,
> value: { x: point.x, y: point.y, z: point.depth ?? 0 },
        interpolation,
        inHandle: { frame: -inInfluence, value: 0, enabled: true },
        outHandle: { frame: outInfluence, value: 0, enabled: true },
```

---

### `stores/layerStore/spline.ts` (3 pattern(s))

#### Pattern: `|| []` at line 151:49

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    }
  
    // Convert static control points to animatable
> const staticPoints = splineData.controlPoints || [];
    const animatedPoints: AnimatableControlPoint[] = staticPoints.map((cp) =>
      controlPointToAnimatable(cp),
    );
```

---

#### Pattern: `|| []` at line 353:38

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
  
    // If not animated, return static points as evaluated
    if (!splineData.animated || !splineData.animatedControlPoints) {
> return (splineData.controlPoints || []).map((cp) => ({
        id: cp.id,
        x: cp.x,
        y: cp.y,
```

---

#### Pattern: `?? 0` at line 357:23

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        id: cp.id,
        x: cp.x,
        y: cp.y,
> depth: cp.depth ?? 0,
        handleIn: cp.handleIn ? { ...cp.handleIn } : null,
        handleOut: cp.handleOut ? { ...cp.handleOut } : null,
        type: cp.type,
```

---

### `stores/layerStore/textConversion.ts` (2 pattern(s))

#### Pattern: `|| 0` at line 134:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
            controlPoints: allControlPoints,
            closed: charGroup.paths[0]?.closed ?? true,
            stroke: textData.stroke || "",
> strokeWidth: textData.strokeWidth || 0,
            fill: textData.fill || "#ffffff",
          };
  
```

---

#### Pattern: `|| 0` at line 187:43

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          controlPoints: allControlPoints,
          closed: result.allPaths[0]?.closed ?? true,
          stroke: textData.stroke || "",
> strokeWidth: textData.strokeWidth || 0,
          fill: textData.fill || "#ffffff",
        };
  
```

---

### `stores/layerStore/time.ts` (5 pattern(s))

#### Pattern: `?? 0` at line 149:53

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
    compositorStore.pushHistory();
  
> const currentFrame = compositorStore.currentFrame ?? 0;
    // Validate fps (nullish coalescing doesn't catch NaN)
    const fps =
      Number.isFinite(compositorStore.fps) && compositorStore.fps! > 0
```

---

#### Pattern: `?? 0` at line 226:53

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      return null;
    }
  
> const currentFrame = compositorStore.currentFrame ?? 0;
    const startFrame = layer.startFrame ?? 0;
    const endFrame =
      layer.endFrame ??
```

---

#### Pattern: `?? 0` at line 227:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    }
  
    const currentFrame = compositorStore.currentFrame ?? 0;
> const startFrame = layer.startFrame ?? 0;
    const endFrame =
      layer.endFrame ??
      compositorStore.getActiveComp()?.settings.frameCount ??
```

---

#### Pattern: `?? 0` at line 257:55

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        Number.isFinite(compositorStore.fps) && compositorStore.fps! > 0
          ? compositorStore.fps!
          : 16;
> const originalStartTime = newLayer.data.startTime ?? 0;
      const speed = newLayer.data.speed ?? 1;
      const frameOffset = currentFrame - startFrame;
      const timeOffset = (frameOffset / fps) * speed;
```

---

#### Pattern: `?? 0` at line 308:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    compositorStore.pushHistory();
  
    const compositionFps = fps ?? compositorStore.fps ?? 30;
> const layerStartFrame = layer.startFrame ?? 0;
    const layerEndFrame =
      layer.endFrame ??
      compositorStore.getActiveComp()?.settings.frameCount ??
```

---

### `stores/markerStore.ts` (1 pattern(s))

#### Pattern: `|| []` at line 307:28

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
       */
      getMarkers(store: MarkerStoreAccess): Marker[] {
        const comp = store.getActiveComp();
> return comp?.markers || [];
      },
  
      /**
```

---

### `stores/physicsStore.ts` (13 pattern(s))

#### Pattern: `?? 0` at line 178:48

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const engine = this.getPhysicsEngine(store);
  
        const position = {
> x: layer.transform?.position?.value?.x ?? 0,
          y: layer.transform?.position?.value?.y ?? 0,
        };
  
```

---

#### Pattern: `?? 0` at line 179:48

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
        const position = {
          x: layer.transform?.position?.value?.x ?? 0,
> y: layer.transform?.position?.value?.y ?? 0,
        };
  
        const bodyConfig =
```

---

#### Pattern: `|| []` at line 274:57

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        const engine = this.getPhysicsEngine(store);
        const compId = store.activeCompositionId;
  
> const fields = compositionForceFields.get(compId) || [];
        const existingIndex = fields.findIndex((f) => f.id === force.id);
  
        if (existingIndex >= 0) {
```

---

#### Pattern: `|| []` at line 295:57

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        const engine = this.getPhysicsEngine(store);
        const compId = store.activeCompositionId;
  
> const fields = compositionForceFields.get(compId) || [];
        const newFields = fields.filter((f) => f.id !== forceId);
  
        compositionForceFields.set(compId, newFields);
```

---

#### Pattern: `|| []` at line 317:57

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        const engine = this.getPhysicsEngine(store);
        const compId = store.activeCompositionId;
  
> const fields = compositionForceFields.get(compId) || [];
        const newFields = fields.filter((f) => f.id !== "global-gravity");
  
        const gravityForce = createGravityForce("global-gravity", {
```

---

#### Pattern: `?? 0` at line 378:32

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            const initialPos = physicsData.rigidBody.position;
            if (layer.transform?.position) {
              layer.transform.position.value = {
> x: initialPos?.x ?? 0,
                y: initialPos?.y ?? 0,
                z: layer.transform.position.value?.z ?? 0,
              };
```

---

#### Pattern: `?? 0` at line 379:32

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            if (layer.transform?.position) {
              layer.transform.position.value = {
                x: initialPos?.x ?? 0,
> y: initialPos?.y ?? 0,
                z: layer.transform.position.value?.z ?? 0,
              };
            }
```

---

#### Pattern: `?? 0` at line 380:52

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
              layer.transform.position.value = {
                x: initialPos?.x ?? 0,
                y: initialPos?.y ?? 0,
> z: layer.transform.position.value?.z ?? 0,
              };
            }
          }
```

---

#### Pattern: `?? 0` at line 412:50

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            layer.transform.position.value = {
              x: bodyState.position.x,
              y: bodyState.position.y,
> z: layer.transform.position.value?.z ?? 0,
            };
          }
  
```

---

#### Pattern: `?? 0` at line 444:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          throw new Error("No active composition");
        }
  
> const startFrame = options.startFrame ?? 0;
        const endFrame = options.endFrame ?? comp.settings.frameCount - 1;
        const sampleInterval: number =
          Number.isFinite(options.sampleInterval) && options.sampleInterval! > 0
```

---

#### Pattern: `?? 0` at line 467:54

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
              value: {
                x: bodyState.position.x,
                y: bodyState.position.y,
> z: layer.transform?.position?.value?.z ?? 0,
              },
              interpolation: "linear",
            });
```

---

#### Pattern: `?? 0` at line 551:48

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        const engine = this.getPhysicsEngine(store);
  
        const origin = {
> x: layer.transform?.position?.value?.x ?? 0,
          y: layer.transform?.position?.value?.y ?? 0,
        };
  
```

---

#### Pattern: `?? 0` at line 552:48

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
  
        const origin = {
          x: layer.transform?.position?.value?.x ?? 0,
> y: layer.transform?.position?.value?.y ?? 0,
        };
  
        const clothConfig = createClothConfig(layerId, layerId, {
```

---

### `stores/playbackStore.ts` (2 pattern(s))

#### Pattern: `?? 0` at line 37:57

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
      playing: (state) => state.isPlaying,
      hasWorkArea: (state) =>
        state.workAreaStart !== null && state.workAreaEnd !== null,
> effectiveStartFrame: (state) => state.workAreaStart ?? 0,
      effectiveEndFrame: (state) => (frameCount: number) =>
        state.workAreaEnd ?? frameCount - 1,
    },
```

---

#### Pattern: `?? 0` at line 84:45

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        this.playbackStartFrame = currentFrame;
  
        // Determine effective playback range (work area or full comp)
> const rangeStart = this.workAreaStart ?? 0;
        const rangeEnd = this.workAreaEnd ?? frameCount - 1;
        const rangeLength = rangeEnd - rangeStart + 1;
  
```

---

### `stores/presetStore.ts` (1 pattern(s))

#### Pattern: `|| []` at line 159:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          const stored = localStorage.getItem(STORAGE_KEY);
          if (stored) {
            const data = JSON.parse(stored) as PresetCollection;
> this.presets = data.presets || [];
          }
        } catch (error) {
          console.warn("Failed to load presets from localStorage:", error);
```

---

### `stores/projectStore.ts` (1 pattern(s))

#### Pattern: `|| []` at line 220:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    if (!engine) return;
  
    try {
> const layers = engine.getLayers?.() || [];
      for (const layer of layers) {
        if (layer && typeof layer.clearCache === "function") {
          layer.clearCache();
```

---

### `stores/textAnimatorStore.ts` (10 pattern(s))

#### Pattern: `?? []` at line 245:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
      getTextAnimators(store: TextAnimatorStoreAccess, layerId: string): TextAnimator[] {
        const layer = getTextLayer(store, layerId);
        if (!layer) return [];
> return getTextData(layer)?.animators ?? [];
      },
  
      // ========================================================================
```

---

#### Pattern: `|| []` at line 377:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
        const totalChars = text.length;
        if (totalChars === 0) return [];
  
> const animators = textData.animators || [];
        const fps = store.getActiveComp()?.settings?.fps || 16;
  
        const transforms: CharacterTransform[] = [];
```

---

#### Pattern: `?? 0` at line 434:68

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
            }
            if (props.strokeWidth !== undefined) {
              const v = getAnimatableValue(props.strokeWidth, frame) as number;
> transforms[i].strokeWidth = (transforms[i].strokeWidth ?? 0) + v * influence;
            }
          }
        }
```

---

#### Pattern: `?? 0` at line 582:41

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          reversed: config.reversed ?? false,
          perpendicularToPath: config.perpendicularToPath ?? true,
          forceAlignment: config.forceAlignment ?? false,
> firstMargin: config.firstMargin ?? 0,
          lastMargin: config.lastMargin ?? 0,
          offset: config.offset ?? 0,
          align: config.align ?? "left",
```

---

#### Pattern: `?? 0` at line 583:39

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          perpendicularToPath: config.perpendicularToPath ?? true,
          forceAlignment: config.forceAlignment ?? false,
          firstMargin: config.firstMargin ?? 0,
> lastMargin: config.lastMargin ?? 0,
          offset: config.offset ?? 0,
          align: config.align ?? "left",
        };
```

---

#### Pattern: `?? 0` at line 584:31

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          forceAlignment: config.forceAlignment ?? false,
          firstMargin: config.firstMargin ?? 0,
          lastMargin: config.lastMargin ?? 0,
> offset: config.offset ?? 0,
          align: config.align ?? "left",
        };
  
```

---

#### Pattern: `?? 0` at line 641:54

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          reversed: textData.pathConfig.reversed ?? false,
          perpendicularToPath: textData.pathConfig.perpendicularToPath ?? true,
          forceAlignment: textData.pathConfig.forceAlignment ?? false,
> firstMargin: textData.pathConfig.firstMargin ?? 0,
          lastMargin: textData.pathConfig.lastMargin ?? 0,
          offset: textData.pathConfig.offset ?? 0,
          align: textData.pathConfig.align ?? "left",
```

---

#### Pattern: `?? 0` at line 642:52

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          perpendicularToPath: textData.pathConfig.perpendicularToPath ?? true,
          forceAlignment: textData.pathConfig.forceAlignment ?? false,
          firstMargin: textData.pathConfig.firstMargin ?? 0,
> lastMargin: textData.pathConfig.lastMargin ?? 0,
          offset: textData.pathConfig.offset ?? 0,
          align: textData.pathConfig.align ?? "left",
        };
```

---

#### Pattern: `?? 0` at line 643:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
          forceAlignment: textData.pathConfig.forceAlignment ?? false,
          firstMargin: textData.pathConfig.firstMargin ?? 0,
          lastMargin: textData.pathConfig.lastMargin ?? 0,
> offset: textData.pathConfig.offset ?? 0,
          align: textData.pathConfig.align ?? "left",
        };
  
```

---

#### Pattern: `|| 0` at line 647:85

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
          align: textData.pathConfig.align ?? "left",
        };
  
> return service.calculatePlacements(characterWidths, config, textData.tracking || 0, fontSize);
      },
  
      getPathLength(store: TextAnimatorStoreAccess, layerId: string): number {
```

---

### `types/transform.ts` (5 pattern(s))

#### Pattern: `?? 0` at line 273:20

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    );
    transform.positionZ = createAnimatableProperty(
      "Position Z",
> currentValue.z ?? 0,
      "number",
    );
  
```

---

#### Pattern: `?? 0` at line 304:22

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
        transform.positionZ?.keyframes.push({
          ...kf,
          id: `${kf.id}_z`,
> value: val.z ?? 0,
        });
      });
    }
```

---

#### Pattern: `?? 0` at line 331:20

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if 0 is valid default, or add proper validation/error handling

**Code:**
```typescript
    transform.position.value = {
      x: posX.value,
      y: posY.value,
> z: posZ?.value ?? 0,
    };
  
    // Merge keyframes - collect all unique frames
```

---

#### Pattern: `?? []` at line 359:44

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
        yKf?.value ?? getInterpolatedValue(posY.keyframes, frame) ?? posY.value;
      const zVal =
        zKf?.value ??
> getInterpolatedValue(posZ?.keyframes ?? [], frame) ??
        posZ?.value ??
        0;
  
```

---

#### Pattern: `?? []` at line 490:46

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Verify if empty array is valid default, or add proper validation

**Code:**
```typescript
        scaleY.value;
      const zVal =
        zKf?.value ??
> getInterpolatedValue(scaleZ?.keyframes ?? [], frame) ??
        scaleZ?.value ??
        100;
  
```

---

### `utils/arrayUtils.ts` (1 pattern(s))

#### Pattern: `|| 0` at line 18:28

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    values: number[],
    maxValue: number = Math.max(...values),
  ): number[] {
> const safeMax = maxValue || 0.0001; // Prevent division by zero
    return values.map((v) => v / safeMax);
  }
  
```

---

### `utils/numericSafety.ts` (1 pattern(s))

#### Pattern: `NaN literal` at line 31:46

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isNaN() for comparisons

**Code:**
```typescript
      throw new TypeError(`${name} must be a number, got ${typeof value}`);
    }
    if (Number.isNaN(value)) {
> throw new TypeError(`${name} must not be NaN`);
    }
    if (!Number.isFinite(value)) {
      throw new TypeError(`${name} must be finite, got ${value}`);
```

---

### `utils/validation.ts` (1 pattern(s))

#### Pattern: `NaN literal` at line 68:54

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isNaN() for comparisons

**Code:**
```typescript
  
    if (Number.isNaN(num)) {
      if (options.allowNaN) return ok(num);
> return fail(`${name} must be a valid number, got NaN`);
    }
  
    if (!Number.isFinite(num)) {
```

---

### `workers/audioWorker.ts` (2 pattern(s))

#### Pattern: `|| 0` at line 175:27

- **Category:** Defensive Guard
- **Severity:** MEDIUM
- **Suggestion:** Consider using ?? instead of || for nullish coalescing

**Code:**
```typescript
    // Apply Hanning window and copy samples
    for (let i = 0; i < n; i++) {
      const windowValue = 0.5 * (1 - Math.cos((2 * Math.PI * i) / (n - 1)));
> real[i] = (samples[i] || 0) * windowValue;
      imag[i] = 0;
    }
  
```

---

#### Pattern: `Infinity literal` at line 783:26

- **Category:** Numeric Issue
- **Severity:** MEDIUM
- **Suggestion:** Add proper validation or use Number.isFinite() for checks

**Code:**
```typescript
  
    // Correlate with all 24 key profiles (12 major + 12 minor)
    let bestKey = "C major";
> let bestCorrelation = -Infinity;
  
    for (let root = 0; root < 12; root++) {
      // Rotate profile to start at this root
```

---

## ğŸŸ¢ LOW Priority (4113 patterns)

### `composables/useAssetHandlers.ts` (11 pattern(s))

#### Pattern: `: void` at line 44:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create layers from imported SVG paths
     */
> function onCreateLayersFromSvg(svgId: string): void {
      const storedSvg = assetStore.svgDocuments.get(svgId);
      if (!storedSvg) return;
  
```

---

#### Pattern: `Optional Chaining` at line 65:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              ...layer.transform.position,
              value: {
                ...layer.transform.position.value,
> z: config?.depth || 0,
              },
            },
          },
```

---

#### Pattern: `: void` at line 81:46

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Configure a particle emitter to use a mesh shape.
     * Works with 'particles' type layers (new particle system).
     */
> function onUseMeshAsEmitter(meshId: string): void {
      const emitterConfig = assetStore.getMeshEmitterConfig(meshId);
      if (!emitterConfig) return;
  
```

---

#### Pattern: `: void` at line 137:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update environment settings in the engine
     */
> function onEnvironmentUpdate(settings: unknown): void {
      const engine = canvasRef.value?.getEngine?.();
      if (!engine) return;
      engine.setEnvironmentConfig(settings);
```

---

#### Pattern: `Optional Chaining` at line 138:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Update environment settings in the engine
     */
    function onEnvironmentUpdate(settings: unknown): void {
> const engine = canvasRef.value?.getEngine?.();
      if (!engine) return;
      engine.setEnvironmentConfig(settings);
    }
```

---

#### Pattern: `Optional Chaining` at line 138:46

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Update environment settings in the engine
     */
    function onEnvironmentUpdate(settings: unknown): void {
> const engine = canvasRef.value?.getEngine?.();
      if (!engine) return;
      engine.setEnvironmentConfig(settings);
    }
```

---

#### Pattern: `Optional Chaining` at line 147:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Load environment map into the engine
     */
    async function onEnvironmentLoad(settings: EnvironmentMapOptions & { url?: string }): Promise<void> {
> const engine = canvasRef.value?.getEngine?.();
      if (!engine || !settings.url) return;
  
      try {
```

---

#### Pattern: `Optional Chaining` at line 147:46

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Load environment map into the engine
     */
    async function onEnvironmentLoad(settings: EnvironmentMapOptions & { url?: string }): Promise<void> {
> const engine = canvasRef.value?.getEngine?.();
      if (!engine || !settings.url) return;
  
      try {
```

---

#### Pattern: `: void` at line 166:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear environment map from the engine
     */
> function onEnvironmentClear(): void {
      const engine = canvasRef.value?.getEngine?.();
      if (!engine) return;
      engine.setEnvironmentEnabled(false);
```

---

#### Pattern: `Optional Chaining` at line 167:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Clear environment map from the engine
     */
    function onEnvironmentClear(): void {
> const engine = canvasRef.value?.getEngine?.();
      if (!engine) return;
      engine.setEnvironmentEnabled(false);
    }
```

---

#### Pattern: `Optional Chaining` at line 167:46

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Clear environment map from the engine
     */
    function onEnvironmentClear(): void {
> const engine = canvasRef.value?.getEngine?.();
      if (!engine) return;
      engine.setEnvironmentEnabled(false);
    }
```

---

### `composables/useCanvasSegmentation.ts` (3 pattern(s))

#### Pattern: `: void` at line 26:63

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Object type detected

**Code:**
```typescript
    /**
     * Start segment box drawing
     */
> function startSegmentBox(scenePos: { x: number; y: number }): void {
      store.setSegmentBoxStart({ x: scenePos.x, y: scenePos.y });
      segmentBoxEnd.value = { x: scenePos.x, y: scenePos.y };
      isDrawingSegmentBox.value = true;
```

---

#### Pattern: `: void` at line 35:64

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Object type detected

**Code:**
```typescript
    /**
     * Update segment box end position
     */
> function updateSegmentBox(scenePos: { x: number; y: number }): void {
      if (isDrawingSegmentBox.value && store.segmentBoxStart) {
        segmentBoxEnd.value = { x: scenePos.x, y: scenePos.y };
      }
```

---

#### Pattern: `: void` at line 44:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Cancel segment box drawing
     */
> function cancelSegmentBox(): void {
      isDrawingSegmentBox.value = false;
      store.setSegmentBoxStart(null);
      segmentBoxEnd.value = null;
```

---

### `composables/useCanvasSelection.ts` (1 pattern(s))

#### Pattern: `Optional Chaining` at line 200:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      selectedIds: string[],
      mode: SelectionMode,
    ): string[] {
> const current = currentSelection?.value || [];
  
      switch (mode) {
        case "replace":
```

---

### `composables/useCurveEditorCoords.ts` (4 pattern(s))

#### Pattern: `Optional Chaining` at line 167:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    margin?: CurveMargin,
  ): number {
    const kf = prop.keyframes[kfIndex];
> if (!kf || !kf.outHandle?.enabled) {
      return frameToScreenX(kf.frame, viewState, canvasWidth, margin);
    }
    const handleFrame = kf.frame + kf.outHandle.frame;
```

---

#### Pattern: `Optional Chaining` at line 185:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    margin?: CurveMargin,
  ): number {
    const kf = prop.keyframes[kfIndex];
> if (!kf || !kf.outHandle?.enabled) {
      return valueToScreenY(
        getNumericValue(kf.value),
        viewState,
```

---

#### Pattern: `Optional Chaining` at line 208:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    margin?: CurveMargin,
  ): number {
    const kf = prop.keyframes[kfIndex];
> if (!kf || !kf.inHandle?.enabled) {
      return frameToScreenX(kf.frame, viewState, canvasWidth, margin);
    }
    const handleFrame = kf.frame + kf.inHandle.frame;
```

---

#### Pattern: `Optional Chaining` at line 226:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    margin?: CurveMargin,
  ): number {
    const kf = prop.keyframes[kfIndex];
> if (!kf || !kf.inHandle?.enabled) {
      return valueToScreenY(
        getNumericValue(kf.value),
        viewState,
```

---

### `composables/useCurveEditorDraw.ts` (11 pattern(s))

#### Pattern: `: void` at line 57:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    canvasWidth: number,
    canvasHeight: number,
    margin: CurveMargin = DEFAULT_CURVE_MARGIN,
> ): void {
    const graphWidth = canvasWidth - margin.left - margin.right;
    const graphHeight = canvasHeight - margin.top - margin.bottom;
  
```

---

#### Pattern: `: void` at line 133:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    canvasWidth: number,
    canvasHeight: number,
    margin: CurveMargin = DEFAULT_CURVE_MARGIN,
> ): void {
    if (prop.keyframes.length < 2) return;
  
    const color = getPropertyColor(prop.name);
```

---

#### Pattern: `Optional Chaining` at line 185:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          ctx.lineTo(x2, y2);
        } else if (
          kf1.interpolation === "linear" ||
> (!kf1.outHandle?.enabled && !kf2.inHandle?.enabled)
        ) {
          // Straight line
          ctx.lineTo(x2, y2);
```

---

#### Pattern: `Optional Chaining` at line 185:50

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          ctx.lineTo(x2, y2);
        } else if (
          kf1.interpolation === "linear" ||
> (!kf1.outHandle?.enabled && !kf2.inHandle?.enabled)
        ) {
          // Straight line
          ctx.lineTo(x2, y2);
```

---

#### Pattern: `Optional Chaining` at line 192:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        } else {
          // Bezier curve using absolute handle offsets
          const cp1x = frameToScreenX(
> kf1.frame + (kf1.outHandle?.frame ?? 0),
            viewState,
            canvasWidth,
            margin,
```

---

#### Pattern: `Optional Chaining` at line 198:54

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            margin,
          );
          const cp1y = valueToScreenY(
> getNumericValue(kf1.value) + (kf1.outHandle?.value ?? 0),
            viewState,
            canvasHeight,
            margin,
```

---

#### Pattern: `Optional Chaining` at line 204:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            margin,
          );
          const cp2x = frameToScreenX(
> kf2.frame + (kf2.inHandle?.frame ?? 0),
            viewState,
            canvasWidth,
            margin,
```

---

#### Pattern: `Optional Chaining` at line 210:53

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            margin,
          );
          const cp2y = valueToScreenY(
> getNumericValue(kf2.value) + (kf2.inHandle?.value ?? 0),
            viewState,
            canvasHeight,
            margin,
```

---

#### Pattern: `: void` at line 236:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    viewState: CurveViewState,
    canvasWidth: number,
    currentFrame: number,
> ): void {
    const canvasHeight = 24;
  
    ctx.fillStyle = "#252525";
```

---

#### Pattern: `: void` at line 287:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    ctx: CanvasRenderingContext2D,
    viewState: CurveViewState,
    canvasHeight: number,
> ): void {
    const canvasWidth = 40;
  
    ctx.fillStyle = "#252525";
```

---

#### Pattern: `: void` at line 325:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    canvasWidth: number,
    canvasHeight: number,
    margin: CurveMargin = DEFAULT_CURVE_MARGIN,
> ): void {
    // Clear
    ctx.fillStyle = "#1a1a1a";
    ctx.fillRect(0, 0, canvasWidth, canvasHeight);
```

---

### `composables/useCurveEditorInteraction.ts` (26 pattern(s))

#### Pattern: `: void` at line 107:55

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      );
    }
  
> function updateHoveredKeyframe(x: number, y: number): void {
      hoveredKeyframe.value = null;
  
      for (const prop of visibleProperties.value) {
```

---

#### Pattern: `: void` at line 126:46

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  
    // Mouse handlers
> function handleMouseDown(event: MouseEvent): void {
      const rect = canvasRef.value?.getBoundingClientRect();
      if (!rect) return;
  
```

---

#### Pattern: `Optional Chaining` at line 127:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    // Mouse handlers
    function handleMouseDown(event: MouseEvent): void {
> const rect = canvasRef.value?.getBoundingClientRect();
      if (!rect) return;
  
      const x = event.clientX - rect.left;
```

---

#### Pattern: `: void` at line 146:46

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> function handleMouseMove(event: MouseEvent): void {
      const rect = canvasRef.value?.getBoundingClientRect();
      if (!rect) return;
  
```

---

#### Pattern: `Optional Chaining` at line 147:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    function handleMouseMove(event: MouseEvent): void {
> const rect = canvasRef.value?.getBoundingClientRect();
      if (!rect) return;
  
      const x = event.clientX - rect.left;
```

---

#### Pattern: `: void` at line 198:27

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> function handleMouseUp(): void {
      if (dragTarget.value?.type === "select" && selectionBox.value) {
        selectKeyframesInBox();
      }
```

---

#### Pattern: `Optional Chaining` at line 199:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    function handleMouseUp(): void {
> if (dragTarget.value?.type === "select" && selectionBox.value) {
        selectKeyframesInBox();
      }
  
```

---

#### Pattern: `: void` at line 207:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      selectionBox.value = null;
    }
  
> function handleWheel(event: WheelEvent): void {
      event.preventDefault();
  
      const rect = canvasRef.value?.getBoundingClientRect();
```

---

#### Pattern: `Optional Chaining` at line 210:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    function handleWheel(event: WheelEvent): void {
      event.preventDefault();
  
> const rect = canvasRef.value?.getBoundingClientRect();
      if (!rect) return;
  
      const x = event.clientX - rect.left;
```

---

#### Pattern: `: void` at line 249:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      propId: string,
      index: number,
      event: MouseEvent,
> ): void {
      const prop = animatableProperties.value.find((p) => p.id === propId);
      if (!prop) return;
  
```

---

#### Pattern: `: void` at line 266:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      dragTarget.value = { type: "keyframe", propId, index };
    }
  
> function selectKeyframesInBox(): void {
      if (!selectionBox.value) return;
  
      const box = selectionBox.value;
```

---

#### Pattern: `: void` at line 295:67

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> function moveSelectedKeyframes(screenX: number, screenY: number): void {
      const newFrame = Math.round(screenXToFrame(screenX));
      const newValue = screenYToValue(screenY);
  
```

---

#### Pattern: `: void` at line 337:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      propId: string,
      index: number,
      _event: MouseEvent,
> ): void {
      dragTarget.value = { type, propId, index };
    }
  
```

---

#### Pattern: `: void` at line 341:56

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      dragTarget.value = { type, propId, index };
    }
  
> function moveHandle(screenX: number, screenY: number): void {
      if (!dragTarget.value || !dragTarget.value.propId) return;
  
      const layer = store.selectedLayer;
```

---

#### Pattern: `Optional Chaining` at line 348:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      if (!layer) return;
  
      const prop = animatableProperties.value.find(
> (p) => p.id === dragTarget.value?.propId,
      );
      if (!prop) return;
  
```

---

#### Pattern: `: void` at line 426:46

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  
    // Context menu actions
> function showContextMenu(event: MouseEvent): void {
      contextMenu.value = { x: event.offsetX, y: event.offsetY };
    }
  
```

---

#### Pattern: `: void` at line 430:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      contextMenu.value = { x: event.offsetX, y: event.offsetY };
    }
  
> function hideContextMenu(): void {
      contextMenu.value = null;
    }
  
```

---

#### Pattern: `: void` at line 434:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      contextMenu.value = null;
    }
  
> function addKeyframeAtPosition(): void {
      if (!contextMenu.value) return;
  
      const layer = store.selectedLayer;
```

---

#### Pattern: `: void` at line 454:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      drawGraph();
    }
  
> function deleteSelectedKeyframes(): void {
      const layer = store.selectedLayer;
      if (!layer) return;
  
```

---

#### Pattern: `: void` at line 471:27

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      drawGraph();
    }
  
> function copyKeyframes(): void {
      clipboard.value = selectedKeyframes.value.map((sk) => ({ ...sk.keyframe }));
      contextMenu.value = null;
    }
```

---

#### Pattern: `: void` at line 476:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      contextMenu.value = null;
    }
  
> function pasteKeyframes(): void {
      if (!clipboard.value) return;
  
      const layer = store.selectedLayer;
```

---

#### Pattern: `Optional Chaining` at line 512:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
                kf.interpolation,
              );
            }
> if (kf.inHandle?.enabled) {
              keyframeStore.setKeyframeHandle(
                store,
                layer.id,
```

---

#### Pattern: `Optional Chaining` at line 522:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
                kf.inHandle,
              );
            }
> if (kf.outHandle?.enabled) {
              keyframeStore.setKeyframeHandle(
                store,
                layer.id,
```

---

#### Pattern: `: void` at line 540:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      drawGraph();
    }
  
> function selectAllKeyframes(): void {
      selectedKeyframes.value = [];
      for (const prop of visibleProperties.value) {
        for (let i = 0; i < prop.keyframes.length; i++) {
```

---

#### Pattern: `: void` at line 553:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> function invertSelection(): void {
      const newSelection: SelectedKeyframe[] = [];
  
      for (const prop of visibleProperties.value) {
```

---

#### Pattern: `: void` at line 572:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  
    // Keyboard handler
> function handleKeyDown(event: KeyboardEvent): void {
      if (event.key === "Delete" || event.key === "Backspace") {
        deleteSelectedKeyframes();
      } else if (event.key === "a" && (event.ctrlKey || event.metaKey)) {
```

---

### `composables/useCurveEditorKeyboard.ts` (4 pattern(s))

#### Pattern: `: void` at line 30:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    currentFrame: number,
    visibleProperties: AnimatableProperty<any>[],
    setFrame: (frame: number) => void,
> ): void {
    const allKeyframes: number[] = [];
  
    for (const prop of visibleProperties) {
```

---

#### Pattern: `: void` at line 55:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    currentFrame: number,
    visibleProperties: AnimatableProperty<any>[],
    setFrame: (frame: number) => void,
> ): void {
    const allKeyframes: number[] = [];
  
    for (const prop of visibleProperties) {
```

---

#### Pattern: `: void` at line 86:54

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Apply easy ease to selected keyframes
   */
> export function applyEasyEase(params: EasyEaseParams): void {
    const { selectedKeyframes, animatableProperties, direction } = params;
  
    for (const sk of selectedKeyframes) {
```

---

#### Pattern: `: void` at line 161:54

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      drawGraph,
    } = options;
  
> return function handleKeyDown(event: KeyboardEvent): void {
      // F9 Easy Ease
      if (event.key === "F9") {
        event.preventDefault();
```

---

### `composables/useCurveEditorView.ts` (6 pattern(s))

#### Pattern: `: void` at line 56:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function fitToView(
    viewState: CurveViewState,
    visibleProperties: AnimatableProperty<any>[],
> ): void {
    if (visibleProperties.length === 0) return;
  
    let minFrame = Infinity;
```

---

#### Pattern: `: void` at line 91:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    viewState: CurveViewState,
    selectedKeyframes: SelectedKeyframe[],
    visibleProperties: AnimatableProperty<any>[],
> ): void {
    if (selectedKeyframes.length === 0) {
      fitToView(viewState, visibleProperties);
      return;
```

---

#### Pattern: `: void` at line 126:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Zoom in (decrease frame/value range)
   */
> export function zoomIn(viewState: CurveViewState): void {
    const centerFrame = (viewState.frameStart + viewState.frameEnd) / 2;
    const frameRange = viewState.frameEnd - viewState.frameStart;
    viewState.frameStart = centerFrame - frameRange * 0.4;
```

---

#### Pattern: `: void` at line 136:51

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Zoom out (increase frame/value range)
   */
> export function zoomOut(viewState: CurveViewState): void {
    const centerFrame = (viewState.frameStart + viewState.frameEnd) / 2;
    const frameRange = viewState.frameEnd - viewState.frameStart;
    viewState.frameStart = centerFrame - frameRange * 0.6;
```

---

#### Pattern: `: void` at line 153:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    canvasHeight: number,
    canvasRect: DOMRect,
    margin: CurveMargin = DEFAULT_CURVE_MARGIN,
> ): void {
    event.preventDefault();
  
    const x = event.clientX - canvasRect.left;
```

---

#### Pattern: `: void` at line 199:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    canvasWidth: number,
    canvasHeight: number,
    margin: CurveMargin = DEFAULT_CURVE_MARGIN,
> ): void {
    const graphWidth = canvasWidth - margin.left - margin.right;
    const graphHeight = canvasHeight - margin.top - margin.bottom;
  
```

---

### `composables/useExpressionEditor.ts` (1 pattern(s))

#### Pattern: `Optional Chaining` at line 53:58

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // SECURITY: Validate custom expressions before applying
> if (expression.type === "custom" && expression.params?.code) {
        const code = expression.params.code as string;
        const safe = await isExpressionSafe(code);
        if (!safe) {
```

---

### `composables/useKeyboardShortcuts.ts` (47 pattern(s))

#### Pattern: `Optional Chaining` at line 163:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      for (const layerId of selectedIds) {
        const layer = layerStore.getLayerById(store, layerId);
> if (!layer?.transform) continue;
  
        const transform = layer.transform;
        const easingKeys: EasingTransformKey[] = ["position", "scale", "rotation", "anchor"];
```

---

#### Pattern: `Optional Chaining` at line 169:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const easingKeys: EasingTransformKey[] = ["position", "scale", "rotation", "anchor"];
        for (const propKey of easingKeys) {
          const prop = getTransformProperty(transform, propKey);
> if (prop?.animated && prop?.keyframes) {
            for (const kf of prop.keyframes) {
              keyframeStore.setKeyframeInterpolation(
                store,
```

---

#### Pattern: `Optional Chaining` at line 169:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const easingKeys: EasingTransformKey[] = ["position", "scale", "rotation", "anchor"];
        for (const propKey of easingKeys) {
          const prop = getTransformProperty(transform, propKey);
> if (prop?.animated && prop?.keyframes) {
            for (const kf of prop.keyframes) {
              keyframeStore.setKeyframeInterpolation(
                store,
```

---

#### Pattern: `Optional Chaining` at line 183:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          }
        }
  
> if (layer.opacity?.animated && layer.opacity?.keyframes) {
          for (const kf of layer.opacity.keyframes) {
            keyframeStore.setKeyframeInterpolation(store, layerId, "opacity", kf.id, "bezier");
            keyframesUpdated++;
```

---

#### Pattern: `Optional Chaining` at line 183:51

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          }
        }
  
> if (layer.opacity?.animated && layer.opacity?.keyframes) {
          for (const kf of layer.opacity.keyframes) {
            keyframeStore.setKeyframeInterpolation(store, layerId, "opacity", kf.id, "bezier");
            keyframesUpdated++;
```

---

#### Pattern: `Optional Chaining` at line 206:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      for (const layerId of selectedIds) {
        const layer = layerStore.getLayerById(store, layerId);
> if (!layer?.transform) continue;
  
        const transform = layer.transform;
        const easingKeys: EasingTransformKey[] = ["position", "scale", "rotation", "anchor"];
```

---

#### Pattern: `Optional Chaining` at line 212:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const easingKeys: EasingTransformKey[] = ["position", "scale", "rotation", "anchor"];
        for (const propKey of easingKeys) {
          const prop = getTransformProperty(transform, propKey);
> if (prop?.animated && prop?.keyframes) {
            for (const kf of prop.keyframes) {
              keyframeStore.setKeyframeInterpolation(
                store,
```

---

#### Pattern: `Optional Chaining` at line 212:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const easingKeys: EasingTransformKey[] = ["position", "scale", "rotation", "anchor"];
        for (const propKey of easingKeys) {
          const prop = getTransformProperty(transform, propKey);
> if (prop?.animated && prop?.keyframes) {
            for (const kf of prop.keyframes) {
              keyframeStore.setKeyframeInterpolation(
                store,
```

---

#### Pattern: `Optional Chaining` at line 258:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      for (const layerId of selectedIds) {
        const layer = layerStore.getLayerById(store, layerId);
> if (!layer?.transform) continue;
  
        const transform = layer.transform;
        const easingKeys: EasingTransformKey[] = ["position", "scale", "rotation", "anchor"];
```

---

#### Pattern: `Optional Chaining` at line 264:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const easingKeys: EasingTransformKey[] = ["position", "scale", "rotation", "anchor"];
        for (const propKey of easingKeys) {
          const prop = getTransformProperty(transform, propKey);
> if (prop?.animated && prop?.keyframes) {
            for (const kf of prop.keyframes) {
              keyframeStore.setKeyframeInterpolation(
                store,
```

---

#### Pattern: `Optional Chaining` at line 264:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const easingKeys: EasingTransformKey[] = ["position", "scale", "rotation", "anchor"];
        for (const propKey of easingKeys) {
          const prop = getTransformProperty(transform, propKey);
> if (prop?.animated && prop?.keyframes) {
            for (const kf of prop.keyframes) {
              keyframeStore.setKeyframeInterpolation(
                store,
```

---

#### Pattern: `Optional Chaining` at line 314:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      for (const layerId of selectedIds) {
        const layer = layerStore.getLayerById(store, layerId);
> if (!layer?.transform) continue;
  
        const transform = layer.transform;
        const easingKeys: EasingTransformKey[] = ["position", "scale", "rotation", "anchor"];
```

---

#### Pattern: `Optional Chaining` at line 320:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const easingKeys: EasingTransformKey[] = ["position", "scale", "rotation", "anchor"];
        for (const propKey of easingKeys) {
          const prop = getTransformProperty(transform, propKey);
> if (prop?.animated && prop?.keyframes) {
            for (const kf of prop.keyframes) {
              if (kf.frame < currentFrame && kf.frame > prevFrame) {
                prevFrame = kf.frame;
```

---

#### Pattern: `Optional Chaining` at line 320:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const easingKeys: EasingTransformKey[] = ["position", "scale", "rotation", "anchor"];
        for (const propKey of easingKeys) {
          const prop = getTransformProperty(transform, propKey);
> if (prop?.animated && prop?.keyframes) {
            for (const kf of prop.keyframes) {
              if (kf.frame < currentFrame && kf.frame > prevFrame) {
                prevFrame = kf.frame;
```

---

#### Pattern: `Optional Chaining` at line 344:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      for (const layerId of selectedIds) {
        const layer = layerStore.getLayerById(store, layerId);
> if (!layer?.transform) continue;
  
        const transform = layer.transform;
        const easingKeys: EasingTransformKey[] = ["position", "scale", "rotation", "anchor"];
```

---

#### Pattern: `Optional Chaining` at line 350:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const easingKeys: EasingTransformKey[] = ["position", "scale", "rotation", "anchor"];
        for (const propKey of easingKeys) {
          const prop = getTransformProperty(transform, propKey);
> if (prop?.animated && prop?.keyframes) {
            for (const kf of prop.keyframes) {
              if (kf.frame > currentFrame && kf.frame < nextFrame) {
                nextFrame = kf.frame;
```

---

#### Pattern: `Optional Chaining` at line 350:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const easingKeys: EasingTransformKey[] = ["position", "scale", "rotation", "anchor"];
        for (const propKey of easingKeys) {
          const prop = getTransformProperty(transform, propKey);
> if (prop?.animated && prop?.keyframes) {
            for (const kf of prop.keyframes) {
              if (kf.frame > currentFrame && kf.frame < nextFrame) {
                nextFrame = kf.frame;
```

---

#### Pattern: `Optional Chaining` at line 718:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    function zoomTimelineIn() {
      timelineZoom.value = Math.min(timelineZoom.value * 1.5, 10);
> store.setTimelineZoom?.(timelineZoom.value);
    }
  
    function zoomTimelineOut() {
```

---

#### Pattern: `Optional Chaining` at line 723:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    function zoomTimelineOut() {
      timelineZoom.value = Math.max(timelineZoom.value / 1.5, 0.1);
> store.setTimelineZoom?.(timelineZoom.value);
    }
  
    function zoomTimelineToFit() {
```

---

#### Pattern: `Optional Chaining` at line 728:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    function zoomTimelineToFit() {
      timelineZoom.value = 1;
> store.setTimelineZoom?.(1);
    }
  
    // ========================================================================
```

---

#### Pattern: `Optional Chaining` at line 739:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    function zoomViewerIn() {
      viewerZoom.value = Math.min(viewerZoom.value * 1.25, 8);
      if (threeCanvasRef.value) {
> threeCanvasRef.value.setZoom?.(viewerZoom.value);
      }
      const percent = Math.round(viewerZoom.value * 100);
      viewZoom.value = String(percent);
```

---

#### Pattern: `Optional Chaining` at line 748:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    function zoomViewerOut() {
      viewerZoom.value = Math.max(viewerZoom.value / 1.25, 0.1);
      if (threeCanvasRef.value) {
> threeCanvasRef.value.setZoom?.(viewerZoom.value);
      }
      const percent = Math.round(viewerZoom.value * 100);
      viewZoom.value = String(percent);
```

---

#### Pattern: `Optional Chaining` at line 758:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      viewerZoom.value = 1;
      viewZoom.value = "fit";
      if (threeCanvasRef.value) {
> threeCanvasRef.value.fitToView?.();
      }
    }
  
```

---

#### Pattern: `Optional Chaining` at line 766:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      viewerZoom.value = 1;
      viewZoom.value = "100";
      if (threeCanvasRef.value) {
> threeCanvasRef.value.setZoom?.(1);
      }
    }
  
```

---

#### Pattern: `Optional Chaining` at line 781:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      for (const layerId of selectedIds) {
        const layer = layerStore.getLayerById(store, layerId);
> if (!layer?.transform) continue;
  
        const transform = layer.transform;
        const easingKeys: EasingTransformKey[] = ["position", "scale", "rotation", "anchor"];
```

---

#### Pattern: `Optional Chaining` at line 787:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const easingKeys: EasingTransformKey[] = ["position", "scale", "rotation", "anchor"];
        for (const propKey of easingKeys) {
          const prop = getTransformProperty(transform, propKey);
> if (prop?.animated && prop?.keyframes) {
            for (const kf of prop.keyframes) {
              keyframeStore.setKeyframeInterpolation(
                store,
```

---

#### Pattern: `Optional Chaining` at line 787:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const easingKeys: EasingTransformKey[] = ["position", "scale", "rotation", "anchor"];
        for (const propKey of easingKeys) {
          const prop = getTransformProperty(transform, propKey);
> if (prop?.animated && prop?.keyframes) {
            for (const kf of prop.keyframes) {
              keyframeStore.setKeyframeInterpolation(
                store,
```

---

#### Pattern: `Optional Chaining` at line 840:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!layer) continue;
  
        const data = layer.data as unknown as LayerDataWithDimensions;
> const layerW = data?.width || compW;
        const layerH = data?.height || compH;
  
        const scaleX = compW / layerW;
```

---

#### Pattern: `Optional Chaining` at line 841:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        const data = layer.data as unknown as LayerDataWithDimensions;
        const layerW = data?.width || compW;
> const layerH = data?.height || compH;
  
        const scaleX = compW / layerW;
        const scaleY = compH / layerH;
```

---

#### Pattern: `Optional Chaining` at line 871:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!layer) continue;
  
        const data = layer.data as unknown as LayerDataWithDimensions;
> const layerW = data?.width || compW;
  
        const scale = compW / layerW;
  
```

---

#### Pattern: `Optional Chaining` at line 894:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!layer) continue;
  
        const data = layer.data as unknown as LayerDataWithDimensions;
> const layerH = data?.height || compH;
  
        const scale = compH / layerH;
  
```

---

#### Pattern: `Optional Chaining` at line 933:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!layer) continue;
  
        const data = layer.data as unknown as LayerDataWithDimensions;
> const layerW = data?.width || compWidth.value;
        const layerH = data?.height || compHeight.value;
  
        const centerX = layerW / 2;
```

---

#### Pattern: `Optional Chaining` at line 934:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        const data = layer.data as unknown as LayerDataWithDimensions;
        const layerW = data?.width || compWidth.value;
> const layerH = data?.height || compHeight.value;
  
        const centerX = layerW / 2;
        const centerY = layerH / 2;
```

---

#### Pattern: `Optional Chaining` at line 941:45

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        const transform = layer.transform;
        // Use 'origin' (new name) or fall back to 'anchorPoint' (deprecated)
> const currentAnchor = transform.origin?.value ??
          transform.anchorPoint?.value ?? { x: 0, y: 0, z: 0 };
        const currentPos = transform.position?.value ?? { x: 0, y: 0, z: 0 };
  
```

---

#### Pattern: `Optional Chaining` at line 942:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const transform = layer.transform;
        // Use 'origin' (new name) or fall back to 'anchorPoint' (deprecated)
        const currentAnchor = transform.origin?.value ??
> transform.anchorPoint?.value ?? { x: 0, y: 0, z: 0 };
        const currentPos = transform.position?.value ?? { x: 0, y: 0, z: 0 };
  
        const offsetX = centerX - (currentAnchor.x || 0);
```

---

#### Pattern: `Optional Chaining` at line 943:44

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Use 'origin' (new name) or fall back to 'anchorPoint' (deprecated)
        const currentAnchor = transform.origin?.value ??
          transform.anchorPoint?.value ?? { x: 0, y: 0, z: 0 };
> const currentPos = transform.position?.value ?? { x: 0, y: 0, z: 0 };
  
        const offsetX = centerX - (currentAnchor.x || 0);
        const offsetY = centerY - (currentAnchor.y || 0);
```

---

#### Pattern: `Optional Chaining` at line 976:44

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!layer) continue;
  
        const transform = layer.transform;
> const currentPos = transform.position?.value ?? { x: 0, y: 0, z: 0 };
  
        layerStore.updateLayerTransform(store, id, {
          position: { x: centerX, y: centerY, z: currentPos.z || 0 },
```

---

#### Pattern: `Optional Chaining` at line 1018:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const data = layer.data as unknown as LayerDataWithDimensions;
      let assetId: string | null = null;
  
> if (data?.assetId) {
        assetId = data.assetId;
      } else if (layer.type === "nestedComp") {
        if (data?.compositionId) {
```

---

#### Pattern: `Optional Chaining` at line 1021:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      if (data?.assetId) {
        assetId = data.assetId;
      } else if (layer.type === "nestedComp") {
> if (data?.compositionId) {
          leftTab.value = "comps";
          console.log(
            `[Lattice] Revealed nested comp source: ${data.compositionId}`,
```

---

#### Pattern: `Optional Chaining` at line 1059:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          const easingKeys: EasingTransformKey[] = ["position", "rotation", "scale", "anchor"];
          for (const propName of easingKeys) {
            const prop = getTransformProperty(transform, propName);
> if (prop?.keyframes && Array.isArray(prop.keyframes)) {
              for (const kf of prop.keyframes) {
                if (kf.id) keyframeIds.push(kf.id);
              }
```

---

#### Pattern: `: void` at line 1069:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  
        const data = layer.data as unknown as LayerDataWithDimensions;
        if (data) {
> const checkForKeyframes = (obj: unknown): void => {
            if (!obj || typeof obj !== "object" || obj === null) return;
            if (Array.isArray((obj as Record<string, unknown>).keyframes)) {
              const keyframes = (obj as Record<string, unknown>).keyframes as Array<{ id?: string }>;
```

---

#### Pattern: `Optional Chaining` at line 1142:47

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        // Use Array.from() for explicit iteration (FileList is array-like)
        for (const file of Array.from(files)) {
> const ext = file.name.split(".").pop()?.toLowerCase();
          if (ext === "svg") {
            await assetStore.importSvgFromFile(file);
          } else if (["hdr", "exr"].includes(ext || "")) {
```

---

#### Pattern: `Optional Chaining` at line 1154:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            img.onload = () => {
              const layerName = file.name.replace(/\.[^/.]+$/, "");
              const layer = layerStore.createLayer(store, "image", layerName);
> if (layer?.data) {
                const data = layer.data as unknown as Record<string, unknown>;
                data.src = url;
                data.width = img.width;
```

---

#### Pattern: `Optional Chaining` at line 1168:60

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            const url = URL.createObjectURL(file);
            const layerName = file.name.replace(/\.[^/.]+$/, "");
            layerStore.createVideoLayer(store, file).then((result) => {
> if (result.status === "success" && result.layer?.data) {
                const data = result.layer.data as unknown as Record<string, unknown>;
                data.originalFilename = file.name;
              }
```

---

#### Pattern: `Optional Chaining` at line 1178:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            const url = URL.createObjectURL(file);
            const layerName = file.name.replace(/\.[^/.]+$/, "");
            const layer = layerStore.createLayer(store, "model", layerName);
> if (layer?.data) {
              const data = layer.data as unknown as Record<string, unknown>;
              data.src = url;
              data.format = ext;
```

---

#### Pattern: `Optional Chaining` at line 1213:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    function handleKeydown(e: KeyboardEvent) {
      // Don't handle if input is focused
      if (
> document.activeElement?.tagName === "INPUT" ||
        document.activeElement?.tagName === "TEXTAREA"
      ) {
        return;
```

---

#### Pattern: `Optional Chaining` at line 1214:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Don't handle if input is focused
      if (
        document.activeElement?.tagName === "INPUT" ||
> document.activeElement?.tagName === "TEXTAREA"
      ) {
        return;
      }
```

---

### `composables/useShapeDrawing.ts` (1 pattern(s))

#### Pattern: `Optional Chaining` at line 349:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        transform: {
          ...newLayer.transform,
          position: {
> ...newLayer.transform?.position,
            value: { x: centerX, y: centerY, z: 0 },
          },
        },
```

---

### `composables/useSplineInteraction.ts` (11 pattern(s))

#### Pattern: `Optional Chaining` at line 445:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Generate curve preview when dragging new point
> if (dragTarget.value?.type === "newPoint") {
        const points = visibleControlPoints.value;
        if (points.length >= 1) {
          const newPoint = points.find((p) => p.id === dragTarget.value?.pointId);
```

---

#### Pattern: `Optional Chaining` at line 448:70

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      if (dragTarget.value?.type === "newPoint") {
        const points = visibleControlPoints.value;
        if (points.length >= 1) {
> const newPoint = points.find((p) => p.id === dragTarget.value?.pointId);
          const newPointIndex = points.indexOf(newPoint!);
          const prevPointIndex = newPointIndex - 1;
  
```

---

#### Pattern: `Optional Chaining` at line 453:47

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
          const prevPointIndex = newPointIndex - 1;
  
          const layerPos = inverseTransformPoint(pos);
> const rawNewPointX = (newPoint as any)?.rawX ?? newPoint?.x ?? 0;
          const rawNewPointY = (newPoint as any)?.rawY ?? newPoint?.y ?? 0;
  
          if (newPoint && prevPointIndex >= 0) {
```

---

#### Pattern: `Optional Chaining` at line 453:65

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
          const prevPointIndex = newPointIndex - 1;
  
          const layerPos = inverseTransformPoint(pos);
> const rawNewPointX = (newPoint as any)?.rawX ?? newPoint?.x ?? 0;
          const rawNewPointY = (newPoint as any)?.rawY ?? newPoint?.y ?? 0;
  
          if (newPoint && prevPointIndex >= 0) {
```

---

#### Pattern: `Optional Chaining` at line 454:47

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
  
          const layerPos = inverseTransformPoint(pos);
          const rawNewPointX = (newPoint as any)?.rawX ?? newPoint?.x ?? 0;
> const rawNewPointY = (newPoint as any)?.rawY ?? newPoint?.y ?? 0;
  
          if (newPoint && prevPointIndex >= 0) {
            const prevPoint = points[prevPointIndex];
```

---

#### Pattern: `Optional Chaining` at line 454:65

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
  
          const layerPos = inverseTransformPoint(pos);
          const rawNewPointX = (newPoint as any)?.rawX ?? newPoint?.x ?? 0;
> const rawNewPointY = (newPoint as any)?.rawY ?? newPoint?.y ?? 0;
  
          if (newPoint && prevPointIndex >= 0) {
            const prevPoint = points[prevPointIndex];
```

---

#### Pattern: `Optional Chaining` at line 506:44

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!layer || !isSplineOrPathType(layer.type)) return;
  
        const layerData = layer.data as SplineData | PathLayerData;
> const point = layerData.controlPoints?.find(
          (p) => p.id === dragTarget.value?.pointId,
        );
        if (!point) return;
```

---

#### Pattern: `Optional Chaining` at line 507:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        const layerData = layer.data as SplineData | PathLayerData;
        const point = layerData.controlPoints?.find(
> (p) => p.id === dragTarget.value?.pointId,
        );
        if (!point) return;
  
```

---

#### Pattern: `Optional Chaining` at line 633:46

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const layer = store.layers.find((l: any) => l.id === layerId.value);
        if (layer && isSplineOrPathType(layer.type)) {
          const layerData = layer.data as SplineData | PathLayerData;
> const point = layerData.controlPoints?.find(
            (p) => p.id === dragTarget.value?.pointId,
          );
          if (point?.handleOut && dragTarget.value.type === "handleOut") {
```

---

#### Pattern: `Optional Chaining` at line 634:43

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (layer && isSplineOrPathType(layer.type)) {
          const layerData = layer.data as SplineData | PathLayerData;
          const point = layerData.controlPoints?.find(
> (p) => p.id === dragTarget.value?.pointId,
          );
          if (point?.handleOut && dragTarget.value.type === "handleOut") {
            const dx = point.handleOut.x - point.x;
```

---

#### Pattern: `Optional Chaining` at line 636:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          const point = layerData.controlPoints?.find(
            (p) => p.id === dragTarget.value?.pointId,
          );
> if (point?.handleOut && dragTarget.value.type === "handleOut") {
            const dx = point.handleOut.x - point.x;
            const dy = point.handleOut.y - point.y;
            const dist = Math.sqrt(dx * dx + dy * dy);
```

---

### `composables/useViewportControls.ts` (6 pattern(s))

#### Pattern: `isFinite()` at line 97:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    function setZoom(newZoom: number) {
      // Reject invalid input to prevent viewport state corruption
> if (!Number.isFinite(newZoom) || newZoom <= 0) {
        console.warn(
          `[ViewportControls] Invalid zoom value: ${newZoom}. Must be a positive finite number.`,
        );
```

---

#### Pattern: `isNaN()` at line 173:19

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isNaN() for more accurate type checking

**Code:**
```typescript
        fitToView();
      } else {
        const newZoom = parseFloat(zoomLevel.value);
> if (!Number.isNaN(newZoom)) {
          setZoom(newZoom);
          if (engine.value) {
            engine.value.getCameraController().setZoom(newZoom);
```

---

#### Pattern: `isFinite()` at line 208:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const scaleX = vpt[0];
      const scaleY = vpt[3];
  
> if (!Number.isFinite(scaleX) || scaleX === 0) {
        console.warn(
          `[ViewportControls] Invalid scaleX in viewportTransform: ${scaleX}`,
        );
```

---

#### Pattern: `isFinite()` at line 214:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        );
        return { x: 0, y: 0 };
      }
> if (!Number.isFinite(scaleY) || scaleY === 0) {
        console.warn(
          `[ViewportControls] Invalid scaleY in viewportTransform: ${scaleY}`,
        );
```

---

#### Pattern: `isFinite()` at line 222:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      }
  
      // Safely extract pan offsets with NaN guards
> const panX = Number.isFinite(vpt[4]) ? vpt[4] : 0;
      const panY = Number.isFinite(vpt[5]) ? vpt[5] : 0;
  
      return {
```

---

#### Pattern: `isFinite()` at line 223:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      // Safely extract pan offsets with NaN guards
      const panX = Number.isFinite(vpt[4]) ? vpt[4] : 0;
> const panY = Number.isFinite(vpt[5]) ? vpt[5] : 0;
  
      return {
        x: (screenX - panX) / scaleX,
```

---

### `engine/BackgroundManager.ts` (6 pattern(s))

#### Pattern: `: void` at line 44:46

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set a background image for the composition
     * @param image - HTMLImageElement to use as background
     */
> setBackgroundImage(image: HTMLImageElement): void {
      // Remove existing background
      if (this.backgroundImage) {
        this.scene.removeFromComposition(this.backgroundImage);
```

---

#### Pattern: `: void` at line 80:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    setDepthMap(
      image: HTMLImageElement,
      options: { colormap?: ColormapType; opacity?: number; visible?: boolean },
> ): void {
      this.depthMapSettings = {
        colormap: options.colormap ?? this.depthMapSettings.colormap,
        opacity: options.opacity ?? this.depthMapSettings.opacity,
```

---

#### Pattern: `: void` at line 113:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set depth overlay visibility
     */
> setDepthOverlayVisible(visible: boolean): void {
      this.depthMapSettings.visible = visible;
      if (this.depthMapMesh) {
        this.depthMapMesh.visible = visible;
```

---

#### Pattern: `: void` at line 123:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set depth colormap
     */
> setDepthColormap(colormap: ColormapType): void {
      this.depthMapSettings.colormap = colormap;
      if (this.depthMapMesh) {
        const material = this.depthMapMesh.material as THREE.ShaderMaterial;
```

---

#### Pattern: `: void` at line 134:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set depth overlay opacity
     */
> setDepthOpacity(opacity: number): void {
      this.depthMapSettings.opacity = opacity;
      if (this.depthMapMesh) {
        const material = this.depthMapMesh.material as THREE.ShaderMaterial;
```

---

#### Pattern: `: void` at line 166:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose all resources
     */
> dispose(): void {
      if (this.backgroundImage) {
        this.scene.removeFromComposition(this.backgroundImage);
        this.backgroundImage.geometry.dispose();
```

---

### `engine/LatticeEngine.ts` (123 pattern(s))

#### Pattern: `: void` at line 192:54

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // CONFIGURATION VALIDATION
    // ============================================================================
  
> private validateConfig(config: LatticeEngineConfig): void {
      if (!(config.canvas instanceof HTMLCanvasElement)) {
        throw new Error("LatticeEngine requires a valid HTMLCanvasElement");
      }
```

---

#### Pattern: `isFinite()` at line 199:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      // NaN bypasses <= 0 check, so validate with Number.isFinite first
      if (
> !Number.isFinite(config.width) ||
        !Number.isFinite(config.height) ||
        config.width <= 0 ||
        config.height <= 0
```

---

#### Pattern: `isFinite()` at line 200:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // NaN bypasses <= 0 check, so validate with Number.isFinite first
      if (
        !Number.isFinite(config.width) ||
> !Number.isFinite(config.height) ||
        config.width <= 0 ||
        config.height <= 0
      ) {
```

---

#### Pattern: `: void` at line 222:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Add a layer to the composition
     * @param layerData - The layer data from the project schema
     */
> addLayer(layerData: Layer): void {
      this.assertNotDisposed();
  
      this.layers.create(layerData);
```

---

#### Pattern: `: void` at line 238:59

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * @param layerId - The layer ID to update
     * @param properties - Partial layer properties to update
     */
> updateLayer(layerId: string, properties: Partial<Layer>): void {
      this.assertNotDisposed();
  
      this.layers.update(layerId, properties);
```

---

#### Pattern: `: void` at line 249:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Remove a layer from the composition
     * @param layerId - The layer ID to remove
     */
> removeLayer(layerId: string): void {
      this.assertNotDisposed();
  
      this.layers.remove(layerId);
```

---

#### Pattern: `: void` at line 287:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
     * Sync all layers from store data
     * @param layers - Array of layer data from store
     */
> syncLayers(layers: Layer[]): void {
      this.assertNotDisposed();
  
      const existingIds = new Set(this.layers.getLayerIds());
```

---

#### Pattern: `: void` at line 323:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      getter: (
        assetId: string,
      ) => import("@/types/project").AssetReference | undefined,
> ): void {
      this.resources.setAssetGetter(getter);
    }
  
```

---

#### Pattern: `: void` at line 337:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        layerId: string,
        metadata: import("./layers/VideoLayer").VideoMetadata,
      ) => void,
> ): void {
      this.layers.setVideoMetadataCallback(callback);
    }
  
```

---

#### Pattern: `: void` at line 348:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     */
    setNestedCompRenderContext(
      context: import("./layers/NestedCompLayer").NestedCompRenderContext,
> ): void {
      this.layers.setNestedCompRenderContext(context);
    }
  
```

---

#### Pattern: `: void` at line 363:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      getter: import("./layers/CameraLayer").CameraGetter,
      updater: import("./layers/CameraLayer").CameraUpdater,
      atFrameGetter?: import("./layers/CameraLayer").CameraAtFrameGetter,
> ): void {
      this.layers.setCameraCallbacks(getter, updater, atFrameGetter);
      // Store getter for active camera sync
      this.activeCameraGetter = getter;
```

---

#### Pattern: `: void` at line 377:53

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set the active camera layer that drives the render view
     * @param cameraLayerId - The camera layer ID, or null to use default camera
     */
> setActiveCameraLayer(cameraLayerId: string | null): void {
      this.activeCameraId = cameraLayerId;
    }
  
```

---

#### Pattern: `: void` at line 385:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Sync render camera from active CameraLayer
     * Called during frame evaluation to update the actual render camera
     */
> private syncActiveCamera(): void {
      if (!this.activeCameraId || !this.activeCameraGetter) {
        return;
      }
```

---

#### Pattern: `Optional Chaining` at line 427:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Sync DOF settings from camera
      const camera3d = typedLayer.getCameraAtCurrentFrame();
> if (camera3d?.depthOfField) {
        this.setDOFFromCamera(camera3d.depthOfField);
      }
    }
```

---

#### Pattern: `: void` at line 436:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set composition FPS for particle timing
     * @param fps - Frames per second
     */
> setCompositionFPS(fps: number): void {
      // Validate fps (NaN/0/negative would corrupt time-based calculations)
      const validFps = Number.isFinite(fps) && fps > 0 ? fps : 30;
      this.layers.setCompositionFPS(validFps);
```

---

#### Pattern: `isFinite()` at line 438:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    setCompositionFPS(fps: number): void {
      // Validate fps (NaN/0/negative would corrupt time-based calculations)
> const validFps = Number.isFinite(fps) && fps > 0 ? fps : 30;
      this.layers.setCompositionFPS(validFps);
    }
  
```

---

#### Pattern: `: void` at line 446:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Initialize particle systems with WebGL renderer
     * Must be called after engine initialization to enable GPU particles
     */
> initializeParticleSystems(): void {
      this.layers.setRenderer(this.renderer.getWebGLRenderer());
      this.layers.setCamera(this.camera.camera);
    }
```

---

#### Pattern: `: void` at line 458:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * - Environment map support in SceneManager
     * Call this after engine construction for full 3D pipeline support
     */
> initialize3DServices(): void {
      const renderer = this.renderer.getWebGLRenderer();
  
      // Initialize material system for PMREM
```

---

#### Pattern: `: void` at line 538:69

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set driven values for a layer
     * Used by the expression/driver system to override animated properties
     */
> setLayerDrivenValues(layerId: string, values: Map<string, number>): void {
      this.layers.setLayerDrivenValues(layerId, values);
    }
  
```

---

#### Pattern: `: void` at line 545:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear driven values for a layer
     */
> clearLayerDrivenValues(layerId: string): void {
      this.layers.clearLayerDrivenValues(layerId);
    }
  
```

---

#### Pattern: `: void` at line 552:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear all driven values for all layers
     */
> clearAllDrivenValues(): void {
      this.layers.clearAllDrivenValues();
    }
  
```

---

#### Pattern: `: void` at line 580:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     *
     * @param frameState - Pre-evaluated state from MotionEngine.evaluate()
     */
> applyFrameState(frameState: FrameState): void {
      this.assertNotDisposed();
  
      // Update internal frame reference (for events and backwards compat)
```

---

#### Pattern: `: void` at line 608:62

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Apply evaluated camera state directly
     */
> private applyCameraState(cameraState: FrameState["camera"]): void {
      if (!cameraState) return;
  
      // Update camera controller with evaluated values
```

---

#### Pattern: `: void` at line 634:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     *
     * @param frame - The frame number (0-indexed)
     */
> setFrame(frame: number): void {
      this.assertNotDisposed();
  
      this.state.currentFrame = frame;
```

---

#### Pattern: `: void` at line 656:68

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set the audio reactive getter callback
     * This callback will be called during frame evaluation to get audio-modulated values
     */
> setAudioReactiveCallback(getter: LayerAudioReactiveGetter | null): void {
      this.audioReactiveGetter = getter;
      this.layers.setAudioReactiveCallback(getter);
    }
```

---

#### Pattern: `: void` at line 676:11

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Render the current frame
     */
> render(): void {
      this.assertNotDisposed();
  
      this.performance.beginFrame();
```

---

#### Pattern: `: void` at line 694:20

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Start continuous rendering loop
     */
> startRenderLoop(): void {
      this.assertNotDisposed();
  
      if (this.animationFrameId !== null) {
```

---

#### Pattern: `: void` at line 719:19

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Stop continuous rendering loop
     */
> stopRenderLoop(): void {
      this.state.isRendering = false;
  
      if (this.animationFrameId !== null) {
```

---

#### Pattern: `: void` at line 751:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      height: number,
      compositionWidth?: number,
      compositionHeight?: number,
> ): void {
      this.assertNotDisposed();
  
      // NaN bypasses <= 0 check, so validate with Number.isFinite first
```

---

#### Pattern: `isFinite()` at line 756:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      // NaN bypasses <= 0 check, so validate with Number.isFinite first
      if (
> !Number.isFinite(width) ||
        !Number.isFinite(height) ||
        width <= 0 ||
        height <= 0
```

---

#### Pattern: `isFinite()` at line 757:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // NaN bypasses <= 0 check, so validate with Number.isFinite first
      if (
        !Number.isFinite(width) ||
> !Number.isFinite(height) ||
        width <= 0 ||
        height <= 0
      ) {
```

---

#### Pattern: `isFinite()` at line 777:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      if (
        compositionWidth !== undefined &&
        compositionHeight !== undefined &&
> Number.isFinite(compositionWidth) &&
        Number.isFinite(compositionHeight) &&
        compositionWidth > 0 &&
        compositionHeight > 0
```

---

#### Pattern: `isFinite()` at line 778:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        compositionWidth !== undefined &&
        compositionHeight !== undefined &&
        Number.isFinite(compositionWidth) &&
> Number.isFinite(compositionHeight) &&
        compositionWidth > 0 &&
        compositionHeight > 0
      ) {
```

---

#### Pattern: `: void` at line 797:65

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update all SplineLayer resolutions for Line2 materials
     */
> private updateSplineResolutions(width: number, height: number): void {
      const layers = this.layers.getAllLayers();
      for (const layer of layers) {
        if (
```

---

#### Pattern: `: void` at line 826:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * @param width - Render width in pixels
     * @param height - Render height in pixels
     */
> setResolution(width: number, height: number): void {
      this.assertNotDisposed();
  
      // NaN bypasses <= 0 check, so validate with Number.isFinite first
```

---

#### Pattern: `isFinite()` at line 831:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      // NaN bypasses <= 0 check, so validate with Number.isFinite first
      if (
> !Number.isFinite(width) ||
        !Number.isFinite(height) ||
        width <= 0 ||
        height <= 0
```

---

#### Pattern: `isFinite()` at line 832:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // NaN bypasses <= 0 check, so validate with Number.isFinite first
      if (
        !Number.isFinite(width) ||
> !Number.isFinite(height) ||
        width <= 0 ||
        height <= 0
      ) {
```

---

#### Pattern: `: void` at line 866:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Enable 3D orbit controls for camera navigation
     * Right-click = orbit, middle-click = pan, scroll = dolly
     */
> enableOrbitControls(): void {
      const domElement = this.renderer.getDomElement();
      this.camera.enableOrbitControls(domElement);
    }
```

---

#### Pattern: `: void` at line 874:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Disable 3D orbit controls
     */
> disableOrbitControls(): void {
      this.camera.disableOrbitControls();
    }
  
```

---

#### Pattern: `: void` at line 881:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Reset camera to default viewing position
     */
> resetCameraToDefault(): void {
      this.camera.resetToDefault();
    }
  
```

---

#### Pattern: `: void` at line 890:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * This is the canonical method for centering the view on initial load
     * @param padding - Padding in pixels around the composition (default 40)
     */
> fitCompositionToViewport(padding: number = 40): void {
      // Validate padding (NaN/negative would corrupt viewport calculations)
      const validPadding =
        Number.isFinite(padding) && padding >= 0 ? padding : 40;
```

---

#### Pattern: `isFinite()` at line 893:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    fitCompositionToViewport(padding: number = 40): void {
      // Validate padding (NaN/negative would corrupt viewport calculations)
      const validPadding =
> Number.isFinite(padding) && padding >= 0 ? padding : 40;
      const { width, height } = this.state.viewport;
      this.camera.fitToViewport(width, height, validPadding);
    }
```

---

#### Pattern: `: void` at line 908:53

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set camera position
     */
> setCameraPosition(x: number, y: number, z: number): void {
      this.camera.setPosition(x, y, z);
    }
  
```

---

#### Pattern: `: void` at line 915:51

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set camera target (look-at point)
     */
> setCameraTarget(x: number, y: number, z: number): void {
      this.camera.setTarget(x, y, z);
    }
  
```

---

#### Pattern: `: void` at line 922:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set camera field of view
     */
> setCameraFOV(fov: number): void {
      this.camera.setFOV(fov);
    }
  
```

---

#### Pattern: `: void` at line 932:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * @param y - Y position in screen coordinates
     * @param z - Z position
     */
> setOrbitTarget(x: number, y: number, z: number): void {
      this.camera.setOrbitTarget(x, y, z);
    }
  
```

---

#### Pattern: `: void` at line 939:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Reset orbit target to composition center
     */
> resetOrbitTargetToCenter(): void {
      this.camera.resetOrbitTargetToCenter();
    }
  
```

---

#### Pattern: `: void` at line 956:5

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      focusDistance: number;
      aperture: number;
      blurLevel: number;
> }): void {
      this.renderer.setDOF({
        enabled: dof.enabled,
        focusDistance: dof.focusDistance,
```

---

#### Pattern: `: void` at line 969:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Enable or disable DOF
     */
> setDOFEnabled(enabled: boolean): void {
      this.renderer.setDOFEnabled(enabled);
    }
  
```

---

#### Pattern: `: void` at line 977:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set DOF focus distance
     * @param distance - Focus distance in world units
     */
> setDOFFocusDistance(distance: number): void {
      this.renderer.setFocusDistance(distance);
    }
  
```

---

#### Pattern: `: void` at line 985:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set DOF aperture
     * @param aperture - Aperture value (higher = more blur)
     */
> setDOFAperture(aperture: number): void {
      this.renderer.setAperture(aperture * 0.0001);
    }
  
```

---

#### Pattern: `: void` at line 1004:71

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Configure SSAO effect
     * @param config - SSAO configuration options
     */
> setSSAO(config: Partial<import("./core/RenderPipeline").SSAOConfig>): void {
      this.renderer.setSSAO(config);
    }
  
```

---

#### Pattern: `: void` at line 1011:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Enable or disable SSAO
     */
> setSSAOEnabled(enabled: boolean): void {
      this.renderer.setSSAOEnabled(enabled);
    }
  
```

---

#### Pattern: `: void` at line 1019:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set SSAO intensity
     * @param intensity - Occlusion intensity multiplier
     */
> setSSAOIntensity(intensity: number): void {
      this.renderer.setSSAOIntensity(intensity);
    }
  
```

---

#### Pattern: `: void` at line 1027:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set SSAO sampling radius
     * @param radius - Kernel radius for occlusion sampling
     */
> setSSAORadius(radius: number): void {
      this.renderer.setSSAORadius(radius);
    }
  
```

---

#### Pattern: `: void` at line 1047:73

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Makes emissive objects (lights, bright particles) glow
     * @param config - Bloom configuration options
     */
> setBloom(config: Partial<import("./core/RenderPipeline").BloomConfig>): void {
      this.renderer.setBloom(config);
    }
  
```

---

#### Pattern: `: void` at line 1054:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Enable or disable bloom
     */
> setBloomEnabled(enabled: boolean): void {
      this.renderer.setBloomEnabled(enabled);
    }
  
```

---

#### Pattern: `: void` at line 1062:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set bloom intensity
     * @param strength - Bloom strength multiplier
     */
> setBloomStrength(strength: number): void {
      this.renderer.setBloomStrength(strength);
    }
  
```

---

#### Pattern: `: void` at line 1070:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set bloom threshold
     * @param threshold - Brightness threshold for bloom (0-1)
     */
> setBloomThreshold(threshold: number): void {
      this.renderer.setBloomThreshold(threshold);
    }
  
```

---

#### Pattern: `: void` at line 1089:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
     * Set the viewport transform for pan/zoom operations
     * @param transform - [scaleX, skewX, skewY, scaleY, translateX, translateY]
     */
> setViewportTransform(transform: number[]): void {
      // Validate transform array (must be 6 numbers, all finite)
      if (!Array.isArray(transform) || transform.length < 6) {
        engineLogger.warn("Invalid viewport transform: expected 6-element array");
```

---

#### Pattern: `isFinite()` at line 1097:26

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      }
  
      // Validate all values are finite numbers, use defaults if not
> const scale = Number.isFinite(transform[0]) ? transform[0] : 1;
      const skewX = Number.isFinite(transform[1]) ? transform[1] : 0;
      const skewY = Number.isFinite(transform[2]) ? transform[2] : 0;
      const scaleY = Number.isFinite(transform[3]) ? transform[3] : 1;
```

---

#### Pattern: `isFinite()` at line 1098:26

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      // Validate all values are finite numbers, use defaults if not
      const scale = Number.isFinite(transform[0]) ? transform[0] : 1;
> const skewX = Number.isFinite(transform[1]) ? transform[1] : 0;
      const skewY = Number.isFinite(transform[2]) ? transform[2] : 0;
      const scaleY = Number.isFinite(transform[3]) ? transform[3] : 1;
      const tx = Number.isFinite(transform[4]) ? transform[4] : 0;
```

---

#### Pattern: `isFinite()` at line 1099:26

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // Validate all values are finite numbers, use defaults if not
      const scale = Number.isFinite(transform[0]) ? transform[0] : 1;
      const skewX = Number.isFinite(transform[1]) ? transform[1] : 0;
> const skewY = Number.isFinite(transform[2]) ? transform[2] : 0;
      const scaleY = Number.isFinite(transform[3]) ? transform[3] : 1;
      const tx = Number.isFinite(transform[4]) ? transform[4] : 0;
      const ty = Number.isFinite(transform[5]) ? transform[5] : 0;
```

---

#### Pattern: `isFinite()` at line 1100:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const scale = Number.isFinite(transform[0]) ? transform[0] : 1;
      const skewX = Number.isFinite(transform[1]) ? transform[1] : 0;
      const skewY = Number.isFinite(transform[2]) ? transform[2] : 0;
> const scaleY = Number.isFinite(transform[3]) ? transform[3] : 1;
      const tx = Number.isFinite(transform[4]) ? transform[4] : 0;
      const ty = Number.isFinite(transform[5]) ? transform[5] : 0;
  
```

---

#### Pattern: `isFinite()` at line 1101:23

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const skewX = Number.isFinite(transform[1]) ? transform[1] : 0;
      const skewY = Number.isFinite(transform[2]) ? transform[2] : 0;
      const scaleY = Number.isFinite(transform[3]) ? transform[3] : 1;
> const tx = Number.isFinite(transform[4]) ? transform[4] : 0;
      const ty = Number.isFinite(transform[5]) ? transform[5] : 0;
  
      this.viewportTransform = [scale, skewX, skewY, scaleY, tx, ty];
```

---

#### Pattern: `isFinite()` at line 1102:23

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const skewY = Number.isFinite(transform[2]) ? transform[2] : 0;
      const scaleY = Number.isFinite(transform[3]) ? transform[3] : 1;
      const tx = Number.isFinite(transform[4]) ? transform[4] : 0;
> const ty = Number.isFinite(transform[5]) ? transform[5] : 0;
  
      this.viewportTransform = [scale, skewX, skewY, scaleY, tx, ty];
  
```

---

#### Pattern: `: void` at line 1135:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set the scene background color
     * @param color - Hex color string (e.g., '#050505') or null for transparent
     */
> setBackground(color: string | null): void {
      this.assertNotDisposed();
      this.scene.setBackground(color);
    }
```

---

#### Pattern: `: void` at line 1151:46

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set a background image for the composition
     * @param image - HTMLImageElement to use as background
     */
> setBackgroundImage(image: HTMLImageElement): void {
      this.assertNotDisposed();
      this.ensureBackgroundManager();
      this.backgroundManager?.setBackgroundImage(image);
```

---

#### Pattern: `Optional Chaining` at line 1154:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    setBackgroundImage(image: HTMLImageElement): void {
      this.assertNotDisposed();
      this.ensureBackgroundManager();
> this.backgroundManager?.setBackgroundImage(image);
    }
  
    /**
```

---

#### Pattern: `: void` at line 1169:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        opacity?: number;
        visible?: boolean;
      },
> ): void {
      this.assertNotDisposed();
      this.ensureBackgroundManager();
      this.backgroundManager?.setDepthMap(image, options);
```

---

#### Pattern: `Optional Chaining` at line 1172:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    ): void {
      this.assertNotDisposed();
      this.ensureBackgroundManager();
> this.backgroundManager?.setDepthMap(image, options);
    }
  
    /**
```

---

#### Pattern: `: void` at line 1178:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set depth overlay visibility
     */
> setDepthOverlayVisible(visible: boolean): void {
      this.ensureBackgroundManager();
      this.backgroundManager?.setDepthOverlayVisible(visible);
    }
```

---

#### Pattern: `Optional Chaining` at line 1180:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     */
    setDepthOverlayVisible(visible: boolean): void {
      this.ensureBackgroundManager();
> this.backgroundManager?.setDepthOverlayVisible(visible);
    }
  
    /**
```

---

#### Pattern: `: void` at line 1186:65

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set depth colormap
     */
> setDepthColormap(colormap: "viridis" | "plasma" | "grayscale"): void {
      this.ensureBackgroundManager();
      this.backgroundManager?.setDepthColormap(colormap);
    }
```

---

#### Pattern: `Optional Chaining` at line 1188:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     */
    setDepthColormap(colormap: "viridis" | "plasma" | "grayscale"): void {
      this.ensureBackgroundManager();
> this.backgroundManager?.setDepthColormap(colormap);
    }
  
    /**
```

---

#### Pattern: `: void` at line 1194:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set depth overlay opacity
     */
> setDepthOpacity(opacity: number): void {
      this.ensureBackgroundManager();
      this.backgroundManager?.setDepthOpacity(opacity);
    }
```

---

#### Pattern: `Optional Chaining` at line 1196:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     */
    setDepthOpacity(opacity: number): void {
      this.ensureBackgroundManager();
> this.backgroundManager?.setDepthOpacity(opacity);
    }
  
    /**
```

---

#### Pattern: `Optional Chaining` at line 1208:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      visible: boolean;
    } {
      this.ensureBackgroundManager();
> return this.backgroundManager?.getDepthMapSettings() ?? {
        colormap: "grayscale",
        opacity: 1,
        visible: true,
```

---

#### Pattern: `: void` at line 1218:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Ensure BackgroundManager is initialized
     */
> private ensureBackgroundManager(): void {
      if (!this.backgroundManager) {
        this.backgroundManager = new BackgroundManager(this.scene);
      }
```

---

#### Pattern: `: void` at line 1231:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set the render mode (color, depth, normal)
     */
> setRenderMode(mode: "color" | "depth" | "normal"): void {
      this.renderMode = mode;
      this.renderer.setRenderMode(mode);
    }
```

---

#### Pattern: `: void` at line 1251:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Initialize environment map support
     * Must be called before loading environment maps
     */
> initializeEnvironmentSupport(): void {
      this.scene.initializeEnvironmentSupport(this.renderer.getWebGLRenderer());
    }
  
```

---

#### Pattern: `: void` at line 1276:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     */
    setEnvironmentConfig(
      config: Partial<import("./core/SceneManager").EnvironmentMapConfig>,
> ): void {
      this.scene.setEnvironmentConfig(config);
    }
  
```

---

#### Pattern: `: void` at line 1290:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Enable or disable environment map
     */
> setEnvironmentEnabled(enabled: boolean): void {
      this.scene.setEnvironmentEnabled(enabled);
    }
  
```

---

#### Pattern: `: void` at line 1298:45

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set environment map intensity
     * @param intensity - Intensity multiplier (0-2 typical range)
     */
> setEnvironmentIntensity(intensity: number): void {
      this.scene.setEnvironmentIntensity(intensity);
    }
  
```

---

#### Pattern: `: void` at line 1306:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set environment map rotation
     * @param degrees - Y-axis rotation in degrees
     */
> setEnvironmentRotation(degrees: number): void {
      this.scene.setEnvironmentRotation(degrees);
    }
  
```

---

#### Pattern: `: void` at line 1314:45

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set background blur amount for HDRI background
     * @param blur - Blur amount (0-1)
     */
> setEnvironmentBackgroundBlur(blur: number): void {
      this.scene.setBackgroundBlur(blur);
    }
  
```

---

#### Pattern: `: void` at line 1321:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Toggle whether to use HDRI as scene background
     */
> setEnvironmentAsBackground(use: boolean): void {
      this.scene.setUseAsBackground(use);
    }
  
```

---

#### Pattern: `: void` at line 1339:46

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Show/hide composition grid
     */
> setCompositionGridVisible(visible: boolean): void {
      this.scene.setCompositionGridVisible(visible);
    }
  
```

---

#### Pattern: `: void` at line 1346:45

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Show/hide dark overlay outside composition
     */
> setOutsideOverlayVisible(visible: boolean): void {
      this.scene.setOutsideOverlayVisible(visible);
    }
  
```

---

#### Pattern: `: void` at line 1353:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Show/hide composition bounds frame
     */
> setCompositionBoundsVisible(visible: boolean): void {
      this.scene.setCompositionBoundsVisible(visible);
    }
  
```

---

#### Pattern: `: void` at line 1402:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Ensure TransformControlsManager is initialized
     */
> private ensureTransformControlsManager(): void {
      if (!this.transformControlsManager) {
        this.transformControlsManager = new TransformControlsManager({
          scene: this.scene,
```

---

#### Pattern: `: void` at line 1420:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Initialize transform controls for layer manipulation
     */
> initializeTransformControls(): void {
      this.assertNotDisposed();
      this.ensureTransformControlsManager();
      this.transformControlsManager?.initialize();
```

---

#### Pattern: `Optional Chaining` at line 1423:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    initializeTransformControls(): void {
      this.assertNotDisposed();
      this.ensureTransformControlsManager();
> this.transformControlsManager?.initialize();
    }
  
    /**
```

---

#### Pattern: `: void` at line 1434:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      callback:
        | ((layerId: string, transform: LayerTransformUpdate) => void)
        | null,
> ): void {
      this.ensureTransformControlsManager();
      this.transformControlsManager?.setTransformChangeCallback(callback);
    }
```

---

#### Pattern: `Optional Chaining` at line 1436:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        | null,
    ): void {
      this.ensureTransformControlsManager();
> this.transformControlsManager?.setTransformChangeCallback(callback);
    }
  
    /**
```

---

#### Pattern: `: void` at line 1443:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Select a layer and attach transform controls
     * @param layerId - Layer ID to select, or null to deselect
     */
> selectLayer(layerId: string | null): void {
      this.assertNotDisposed();
      this.ensureTransformControlsManager();
      this.transformControlsManager?.selectLayer(layerId);
```

---

#### Pattern: `Optional Chaining` at line 1446:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    selectLayer(layerId: string | null): void {
      this.assertNotDisposed();
      this.ensureTransformControlsManager();
> this.transformControlsManager?.selectLayer(layerId);
    }
  
    /**
```

---

#### Pattern: `: void` at line 1452:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Focus the camera on a layer's position
     */
> focusOnLayer(layerId: string): void {
      this.ensureTransformControlsManager();
      this.transformControlsManager?.focusOnLayer(layerId);
    }
```

---

#### Pattern: `Optional Chaining` at line 1454:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     */
    focusOnLayer(layerId: string): void {
      this.ensureTransformControlsManager();
> this.transformControlsManager?.focusOnLayer(layerId);
    }
  
    /**
```

---

#### Pattern: `Optional Chaining` at line 1461:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Get the currently selected layer ID
     */
    getSelectedLayerId(): string | null {
> return this.transformControlsManager?.getSelectedLayerId() ?? null;
    }
  
    /**
```

---

#### Pattern: `: void` at line 1468:59

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set the transform mode
     * @param mode - 'translate' | 'rotate' | 'scale'
     */
> setTransformMode(mode: "translate" | "rotate" | "scale"): void {
      this.ensureTransformControlsManager();
      this.transformControlsManager?.setMode(mode);
    }
```

---

#### Pattern: `Optional Chaining` at line 1470:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     */
    setTransformMode(mode: "translate" | "rotate" | "scale"): void {
      this.ensureTransformControlsManager();
> this.transformControlsManager?.setMode(mode);
    }
  
    /**
```

---

#### Pattern: `Optional Chaining` at line 1477:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Get the current transform mode
     */
    getTransformMode(): "translate" | "rotate" | "scale" {
> return this.transformControlsManager?.getMode() ?? "translate";
    }
  
    /**
```

---

#### Pattern: `: void` at line 1483:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set transform controls visibility
     */
> setTransformControlsVisible(visible: boolean): void {
      this.transformControlsManager?.setVisible(visible);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 1484:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Set transform controls visibility
     */
    setTransformControlsVisible(visible: boolean): void {
> this.transformControlsManager?.setVisible(visible);
    }
  
    /**
```

---

#### Pattern: `Optional Chaining` at line 1491:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Check if transform controls are dragging
     */
    isTransformDragging(): boolean {
> return this.transformControlsManager?.isDragging() ?? false;
    }
  
    // ============================================================================
```

---

#### Pattern: `: void` at line 1501:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Alias for startRenderLoop
     */
> start(): void {
      this.startRenderLoop();
    }
  
```

---

#### Pattern: `: void` at line 1508:9

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Alias for stopRenderLoop
     */
> stop(): void {
      this.stopRenderLoop();
    }
  
```

---

#### Pattern: `isFinite()` at line 1545:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      // Validate quality (NaN or out of range would cause issues)
      const validQuality =
> Number.isFinite(quality) && quality >= 0 && quality <= 1 ? quality : 0.95;
  
      const { imageData, width, height } = this.captureFrame();
  
```

---

#### Pattern: `: void` at line 1591:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Reset performance statistics
     */
> resetPerformanceStats(): void {
      this.performance.reset();
    }
  
```

---

#### Pattern: `: void` at line 1604:57

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * @param type - Event type to listen for
     * @param handler - Event handler function
     */
> on(type: EngineEventType, handler: EngineEventHandler): void {
      if (!this.eventHandlers.has(type)) {
        this.eventHandlers.set(type, new Set());
      }
```

---

#### Pattern: `Optional Chaining` at line 1608:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      if (!this.eventHandlers.has(type)) {
        this.eventHandlers.set(type, new Set());
      }
> this.eventHandlers.get(type)?.add(handler);
    }
  
    /**
```

---

#### Pattern: `: void` at line 1616:58

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * @param type - Event type
     * @param handler - Event handler to remove
     */
> off(type: EngineEventType, handler: EngineEventHandler): void {
      this.eventHandlers.get(type)?.delete(handler);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 1617:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * @param handler - Event handler to remove
     */
    off(type: EngineEventType, handler: EngineEventHandler): void {
> this.eventHandlers.get(type)?.delete(handler);
    }
  
    private emit(type: EngineEventType, data?: unknown): void {
```

---

#### Pattern: `: void` at line 1620:54

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.eventHandlers.get(type)?.delete(handler);
    }
  
> private emit(type: EngineEventType, data?: unknown): void {
      const event: EngineEvent = {
        type,
        timestamp: performance.now(),
```

---

#### Pattern: `Optional Chaining` at line 1627:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        data,
      };
  
> this.eventHandlers.get(type)?.forEach((handler) => {
        try {
          handler(event);
        } catch (error) {
```

---

#### Pattern: `: void` at line 1640:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // CONTEXT LOSS HANDLING
    // ============================================================================
  
> private setupContextLossHandling(): void {
      const canvas = this.config.canvas;
  
      // Store handlers for cleanup in dispose()
```

---

#### Pattern: `: void` at line 1681:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return this.state.isDisposed;
    }
  
> private assertNotDisposed(): void {
      if (this.state.isDisposed) {
        throw new Error("LatticeEngine has been disposed");
      }
```

---

#### Pattern: `: void` at line 1736:46

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Clear nested composition cache for a specific composition
     * Call when a composition is deleted or significantly changed
     */
> clearNestedCompCache(compositionId: string): void {
      this.nestedCompRenderer?.clearCache(compositionId);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 1737:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Call when a composition is deleted or significantly changed
     */
    clearNestedCompCache(compositionId: string): void {
> this.nestedCompRenderer?.clearCache(compositionId);
    }
  
    /**
```

---

#### Pattern: `: void` at line 1743:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear all nested composition caches
     */
> clearAllNestedCompCaches(): void {
      this.nestedCompRenderer?.clearAllCaches();
    }
  
```

---

#### Pattern: `Optional Chaining` at line 1744:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Clear all nested composition caches
     */
    clearAllNestedCompCaches(): void {
> this.nestedCompRenderer?.clearAllCaches();
    }
  
    // ============================================================================
```

---

#### Pattern: `: void` at line 1755:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Dispose all engine resources
     * After calling dispose(), the engine cannot be used again.
     */
> dispose(): void {
      if (this.state.isDisposed) {
        return;
      }
```

---

### `engine/MotionEngine.ts` (25 pattern(s))

#### Pattern: `Optional Chaining` at line 307:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const str = JSON.stringify({
        layerCount: comp.layers.length,
        layerIds: comp.layers.map((l) => l.id),
> modified: project.meta?.modified || "",
        // Include layer visibility and animation state in hash
        layerStates: comp.layers.map((l) => ({
          id: l.id,
```

---

#### Pattern: `Optional Chaining` at line 315:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          startFrame: l.startFrame ?? l.inPoint ?? 0,
          endFrame: l.endFrame ?? l.outPoint ?? 80,
          kfCount: l.properties.reduce(
> (sum, p) => sum + (p.keyframes?.length || 0),
            0,
          ),
        })),
```

---

#### Pattern: `: void` at line 367:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      compositionId: string,
      projectHash: string,
      frameState: FrameState,
> ): void {
      const key = this.makeKey(frame, compositionId);
  
      // Evict oldest entries if at capacity
```

---

#### Pattern: `: void` at line 387:15

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Invalidate all cached entries
     * Call when project structure changes (layer add/remove, etc.)
     */
> invalidate(): void {
      this.cache.clear();
    }
  
```

---

#### Pattern: `: void` at line 394:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Invalidate entries for a specific composition
     */
> invalidateComposition(compositionId: string): void {
      for (const key of this.cache.keys()) {
        if (key.startsWith(`${compositionId}:`)) {
          this.cache.delete(key);
```

---

#### Pattern: `: void` at line 471:20

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Invalidate the frame cache
     * Call this when project structure changes
     */
> invalidateCache(): void {
      this.frameCache.invalidate();
      this.lastProjectHash = "";
      // Reset audio reactive temporal state on cache invalidation (smoothing, envelopes)
```

---

#### Pattern: `Optional Chaining` at line 541:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Persist AudioReactiveMapper for temporal features (smoothing, envelopes, beat toggles).
      // State persists across sequential frames but resets on non-sequential access (scrubbing).
      let audioMapper: AudioReactiveMapper | null = null;
> if (audioReactive?.analysis && audioReactive.mappings.length > 0) {
        // Create mapper if needed
        if (!this.audioMapper) {
          this.audioMapper = new AudioReactiveMapper(audioReactive.analysis);
```

---

#### Pattern: `Optional Chaining` at line 589:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Get composition fps
> const fps = composition.settings?.fps ?? 30;
  
      // Evaluate all layers (pass audio analysis for audio path animation)
      const audioAnalysisForLayers = audioReactive?.analysis ?? null;
```

---

#### Pattern: `Optional Chaining` at line 592:49

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const fps = composition.settings?.fps ?? 30;
  
      // Evaluate all layers (pass audio analysis for audio path animation)
> const audioAnalysisForLayers = audioReactive?.analysis ?? null;
      const evaluatedLayers = this.evaluateLayers(
        frame,
        composition.layers,
```

---

#### Pattern: `Optional Chaining` at line 688:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        // Apply audio path animation if enabled (layer position follows SVG path based on audio)
        if (
> layer.audioPathAnimation?.enabled &&
          layer.audioPathAnimation.pathData
        ) {
          const pathAnim = layer.audioPathAnimation;
```

---

#### Pattern: `Optional Chaining` at line 856:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Evaluate position - check for separate dimensions first
      let position: { x: number; y: number; z?: number };
      if (
> transform.separateDimensions?.position &&
        transform.positionX &&
        transform.positionY
      ) {
```

---

#### Pattern: `Optional Chaining` at line 880:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Evaluate scale - check for separate dimensions first
      let scale: { x: number; y: number; z?: number };
      if (
> transform.separateDimensions?.scale &&
        transform.scaleX &&
        transform.scaleY
      ) {
```

---

#### Pattern: `Optional Chaining` at line 1068:42

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      );
  
      // Default camera values - use composition center as default target
> const compWidth = compositionSettings?.width ?? 1024;
      const compHeight = compositionSettings?.height ?? 1024;
      const centerX = compWidth / 2;
      const centerY = compHeight / 2;
```

---

#### Pattern: `Optional Chaining` at line 1069:43

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Default camera values - use composition center as default target
      const compWidth = compositionSettings?.width ?? 1024;
> const compHeight = compositionSettings?.height ?? 1024;
      const centerX = compWidth / 2;
      const centerY = compHeight / 2;
  
```

---

#### Pattern: `Optional Chaining` at line 1124:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const legacyCamera = cameraData.camera;
  
      // Determine if DOF is enabled - check structured format first, then legacy
> const dofEnabled = dofConfig?.enabled ?? legacyCamera?.depthOfField ?? false;
  
      // Get initial values - prefer structured format, fall back to legacy
      let focusDistance = dofConfig?.focusDistance ?? legacyCamera?.focusDistance ?? 1000;
```

---

#### Pattern: `Optional Chaining` at line 1124:58

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const legacyCamera = cameraData.camera;
  
      // Determine if DOF is enabled - check structured format first, then legacy
> const dofEnabled = dofConfig?.enabled ?? legacyCamera?.depthOfField ?? false;
  
      // Get initial values - prefer structured format, fall back to legacy
      let focusDistance = dofConfig?.focusDistance ?? legacyCamera?.focusDistance ?? 1000;
```

---

#### Pattern: `Optional Chaining` at line 1127:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const dofEnabled = dofConfig?.enabled ?? legacyCamera?.depthOfField ?? false;
  
      // Get initial values - prefer structured format, fall back to legacy
> let focusDistance = dofConfig?.focusDistance ?? legacyCamera?.focusDistance ?? 1000;
      let aperture = dofConfig?.aperture ?? legacyCamera?.aperture ?? 2.8;
      let blurLevel = dofConfig?.blurLevel ?? legacyCamera?.blurLevel ?? 50;
  
```

---

#### Pattern: `Optional Chaining` at line 1127:65

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const dofEnabled = dofConfig?.enabled ?? legacyCamera?.depthOfField ?? false;
  
      // Get initial values - prefer structured format, fall back to legacy
> let focusDistance = dofConfig?.focusDistance ?? legacyCamera?.focusDistance ?? 1000;
      let aperture = dofConfig?.aperture ?? legacyCamera?.aperture ?? 2.8;
      let blurLevel = dofConfig?.blurLevel ?? legacyCamera?.blurLevel ?? 50;
  
```

---

#### Pattern: `Optional Chaining` at line 1128:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Get initial values - prefer structured format, fall back to legacy
      let focusDistance = dofConfig?.focusDistance ?? legacyCamera?.focusDistance ?? 1000;
> let aperture = dofConfig?.aperture ?? legacyCamera?.aperture ?? 2.8;
      let blurLevel = dofConfig?.blurLevel ?? legacyCamera?.blurLevel ?? 50;
  
      if (cameraData.animatedFocusDistance) {
```

---

#### Pattern: `Optional Chaining` at line 1128:55

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Get initial values - prefer structured format, fall back to legacy
      let focusDistance = dofConfig?.focusDistance ?? legacyCamera?.focusDistance ?? 1000;
> let aperture = dofConfig?.aperture ?? legacyCamera?.aperture ?? 2.8;
      let blurLevel = dofConfig?.blurLevel ?? legacyCamera?.blurLevel ?? 50;
  
      if (cameraData.animatedFocusDistance) {
```

---

#### Pattern: `Optional Chaining` at line 1129:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Get initial values - prefer structured format, fall back to legacy
      let focusDistance = dofConfig?.focusDistance ?? legacyCamera?.focusDistance ?? 1000;
      let aperture = dofConfig?.aperture ?? legacyCamera?.aperture ?? 2.8;
> let blurLevel = dofConfig?.blurLevel ?? legacyCamera?.blurLevel ?? 50;
  
      if (cameraData.animatedFocusDistance) {
        focusDistance = interpolateProperty(
```

---

#### Pattern: `Optional Chaining` at line 1129:57

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Get initial values - prefer structured format, fall back to legacy
      let focusDistance = dofConfig?.focusDistance ?? legacyCamera?.focusDistance ?? 1000;
      let aperture = dofConfig?.aperture ?? legacyCamera?.aperture ?? 2.8;
> let blurLevel = dofConfig?.blurLevel ?? legacyCamera?.blurLevel ?? 50;
  
      if (cameraData.animatedFocusDistance) {
        focusDistance = interpolateProperty(
```

---

#### Pattern: `Optional Chaining` at line 1249:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Apply camera shake if enabled (deterministic via seed)
      // Audio modifier modulates shake intensity (applied ONCE, not twice)
> if (cameraData.shake?.enabled) {
        const shakeData = cameraData.shake;
  
        // Calculate effective intensity with audio modifier
```

---

#### Pattern: `Optional Chaining` at line 1285:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Apply rack focus if enabled (overrides focus distance)
> if (cameraData.rackFocus?.enabled) {
        const rf = cameraData.rackFocus;
        focusDistance = getRackFocusDistance(
          {
```

---

#### Pattern: `Optional Chaining` at line 1367:16

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (frame < start || frame > end) continue;
  
        const data = layer.data as ParticleLayerData | null;
> if (!data?.systemConfig) continue;
  
        // Convert ParticleLayerData to ParticleSystemConfig
        const config = this.convertToParticleSystemConfig(data);
```

---

### `engine/NestedCompRenderer.ts` (3 pattern(s))

#### Pattern: `: void` at line 154:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Clear cache for a specific composition
     * Call when a composition is deleted or significantly changed
     */
> clearCache(compositionId: string): void {
      const layerManager = this.layerManagers.get(compositionId);
      if (layerManager) {
        layerManager.dispose();
```

---

#### Pattern: `: void` at line 174:19

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear all cached compositions
     */
> clearAllCaches(): void {
      for (const [id] of this.layerManagers) {
        this.clearCache(id);
      }
```

---

#### Pattern: `: void` at line 184:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose all resources
     */
> dispose(): void {
      this.clearAllCaches();
    }
  }
```

---

### `engine/ParticleSimulationController.ts` (10 pattern(s))

#### Pattern: `: void` at line 109:22

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  
    /** Reset to initial seed */
> reset(seed: number): void {
      this.state = seed;
    }
  
```

---

#### Pattern: `: void` at line 132:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  
    /** Restore state from checkpoint */
> setState(state: number): void {
      this.state = state;
    }
  }
```

---

#### Pattern: `isFinite()` at line 175:38

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      this.seed = seed;
      this.rng = new SeededRNG(seed);
      // Validate checkpointInterval to prevent modulo by zero
> this.checkpointInterval = Number.isFinite(checkpointInterval) && checkpointInterval > 0
        ? Math.floor(checkpointInterval)
        : 30;
      this.checkpoints = new Map();
```

---

#### Pattern: `: void` at line 247:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Reset controller and clear all checkpoints
     */
> reset(): void {
      this.system.reset();
      this.rng.reset(this.seed);
      this.checkpoints.clear();
```

---

#### Pattern: `: void` at line 259:55

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update configuration (clears all checkpoints)
     */
> updateConfig(updates: Partial<ParticleSystemConfig>): void {
      Object.assign(this.config, updates);
      this.system.setConfig(updates);
      this.reset(); // Must reset - config change invalidates all checkpoints
```

---

#### Pattern: `: void` at line 293:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Create a checkpoint at the current state
     * DETERMINISM: Captures RNG state for exact restoration
     */
> private createCheckpoint(frame: number): void {
      const particles = this.system
        .getParticles()
        .map((p) => this.serializeParticle(p));
```

---

#### Pattern: `: void` at line 318:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Restore state from a checkpoint
     * DETERMINISM: Restores exact RNG state for reproducible continuation
     */
> private restoreCheckpoint(frame: number): void {
      const checkpoint = this.checkpoints.get(frame);
      if (!checkpoint) {
        throw new Error(`No checkpoint at frame ${frame}`);
```

---

#### Pattern: `: void` at line 340:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Perform one deterministic simulation step
     * DETERMINISM: ParticleSystem now uses seeded RNG (mulberry32) for all randomness
     */
> private deterministicStep(): void {
      // ParticleSystem.step() is now fully deterministic:
      // - All Math.random() calls replaced with seeded RNG (this.rng.next())
      // - Same seed + same frame = identical particle positions
```

---

#### Pattern: `: void` at line 452:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Reset a specific layer's controller
     */
> resetLayer(layerId: string): void {
      const controller = this.controllers.get(layerId);
      if (controller) {
        controller.reset();
```

---

#### Pattern: `: void` at line 462:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear all controllers
     */
> clear(): void {
      this.controllers.clear();
    }
  
```

---

### `engine/TransformControlsManager.ts` (23 pattern(s))

#### Pattern: `: void` at line 59:63

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * This is needed to prevent crashes when TransformControls or other objects
     * from different Three.js instances are added to the scene.
     */
> private ensureObjectChildren(obj: THREE.Object3D, depth = 0): void {
      if (!obj || depth > 50) return;
  
      // Ensure children is an array
```

---

#### Pattern: `: void` at line 88:15

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Initialize transform controls for layer manipulation
     * Wrapped in try-catch for multi-Three.js instance compatibility
     */
> initialize(): void {
      if (this.transformControls) {
        return; // Already initialized
      }
```

---

#### Pattern: `Optional Chaining` at line 143:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        // Get the layer to access anchor point
        const layer = this.deps.layers.getLayer(this.selectedLayerId);
> const layerData = layer?.getLayerData?.();
        const anchorX = layerData?.transform?.anchorPoint?.value?.x ?? 0;
        const anchorY = layerData?.transform?.anchorPoint?.value?.y ?? 0;
        const anchorZ = (layerData?.transform?.anchorPoint?.value as any)?.z ?? 0;
```

---

#### Pattern: `Optional Chaining` at line 143:44

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        // Get the layer to access anchor point
        const layer = this.deps.layers.getLayer(this.selectedLayerId);
> const layerData = layer?.getLayerData?.();
        const anchorX = layerData?.transform?.anchorPoint?.value?.x ?? 0;
        const anchorY = layerData?.transform?.anchorPoint?.value?.y ?? 0;
        const anchorZ = (layerData?.transform?.anchorPoint?.value as any)?.z ?? 0;
```

---

#### Pattern: `Optional Chaining` at line 144:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Get the layer to access anchor point
        const layer = this.deps.layers.getLayer(this.selectedLayerId);
        const layerData = layer?.getLayerData?.();
> const anchorX = layerData?.transform?.anchorPoint?.value?.x ?? 0;
        const anchorY = layerData?.transform?.anchorPoint?.value?.y ?? 0;
        const anchorZ = (layerData?.transform?.anchorPoint?.value as any)?.z ?? 0;
  
```

---

#### Pattern: `Optional Chaining` at line 144:43

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Get the layer to access anchor point
        const layer = this.deps.layers.getLayer(this.selectedLayerId);
        const layerData = layer?.getLayerData?.();
> const anchorX = layerData?.transform?.anchorPoint?.value?.x ?? 0;
        const anchorY = layerData?.transform?.anchorPoint?.value?.y ?? 0;
        const anchorZ = (layerData?.transform?.anchorPoint?.value as any)?.z ?? 0;
  
```

---

#### Pattern: `Optional Chaining` at line 144:56

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Get the layer to access anchor point
        const layer = this.deps.layers.getLayer(this.selectedLayerId);
        const layerData = layer?.getLayerData?.();
> const anchorX = layerData?.transform?.anchorPoint?.value?.x ?? 0;
        const anchorY = layerData?.transform?.anchorPoint?.value?.y ?? 0;
        const anchorZ = (layerData?.transform?.anchorPoint?.value as any)?.z ?? 0;
  
```

---

#### Pattern: `Optional Chaining` at line 144:63

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Get the layer to access anchor point
        const layer = this.deps.layers.getLayer(this.selectedLayerId);
        const layerData = layer?.getLayerData?.();
> const anchorX = layerData?.transform?.anchorPoint?.value?.x ?? 0;
        const anchorY = layerData?.transform?.anchorPoint?.value?.y ?? 0;
        const anchorZ = (layerData?.transform?.anchorPoint?.value as any)?.z ?? 0;
  
```

---

#### Pattern: `Optional Chaining` at line 145:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const layer = this.deps.layers.getLayer(this.selectedLayerId);
        const layerData = layer?.getLayerData?.();
        const anchorX = layerData?.transform?.anchorPoint?.value?.x ?? 0;
> const anchorY = layerData?.transform?.anchorPoint?.value?.y ?? 0;
        const anchorZ = (layerData?.transform?.anchorPoint?.value as any)?.z ?? 0;
  
        // Convert 3D position back to layer position by adding anchor point back
```

---

#### Pattern: `Optional Chaining` at line 145:43

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const layer = this.deps.layers.getLayer(this.selectedLayerId);
        const layerData = layer?.getLayerData?.();
        const anchorX = layerData?.transform?.anchorPoint?.value?.x ?? 0;
> const anchorY = layerData?.transform?.anchorPoint?.value?.y ?? 0;
        const anchorZ = (layerData?.transform?.anchorPoint?.value as any)?.z ?? 0;
  
        // Convert 3D position back to layer position by adding anchor point back
```

---

#### Pattern: `Optional Chaining` at line 145:56

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const layer = this.deps.layers.getLayer(this.selectedLayerId);
        const layerData = layer?.getLayerData?.();
        const anchorX = layerData?.transform?.anchorPoint?.value?.x ?? 0;
> const anchorY = layerData?.transform?.anchorPoint?.value?.y ?? 0;
        const anchorZ = (layerData?.transform?.anchorPoint?.value as any)?.z ?? 0;
  
        // Convert 3D position back to layer position by adding anchor point back
```

---

#### Pattern: `Optional Chaining` at line 145:63

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const layer = this.deps.layers.getLayer(this.selectedLayerId);
        const layerData = layer?.getLayerData?.();
        const anchorX = layerData?.transform?.anchorPoint?.value?.x ?? 0;
> const anchorY = layerData?.transform?.anchorPoint?.value?.y ?? 0;
        const anchorZ = (layerData?.transform?.anchorPoint?.value as any)?.z ?? 0;
  
        // Convert 3D position back to layer position by adding anchor point back
```

---

#### Pattern: `Optional Chaining` at line 146:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
        const layerData = layer?.getLayerData?.();
        const anchorX = layerData?.transform?.anchorPoint?.value?.x ?? 0;
        const anchorY = layerData?.transform?.anchorPoint?.value?.y ?? 0;
> const anchorZ = (layerData?.transform?.anchorPoint?.value as any)?.z ?? 0;
  
        // Convert 3D position back to layer position by adding anchor point back
        // The 3D object position is offset by anchor point in applyTransform()
```

---

#### Pattern: `Optional Chaining` at line 146:44

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
        const layerData = layer?.getLayerData?.();
        const anchorX = layerData?.transform?.anchorPoint?.value?.x ?? 0;
        const anchorY = layerData?.transform?.anchorPoint?.value?.y ?? 0;
> const anchorZ = (layerData?.transform?.anchorPoint?.value as any)?.z ?? 0;
  
        // Convert 3D position back to layer position by adding anchor point back
        // The 3D object position is offset by anchor point in applyTransform()
```

---

#### Pattern: `Optional Chaining` at line 146:57

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
        const layerData = layer?.getLayerData?.();
        const anchorX = layerData?.transform?.anchorPoint?.value?.x ?? 0;
        const anchorY = layerData?.transform?.anchorPoint?.value?.y ?? 0;
> const anchorZ = (layerData?.transform?.anchorPoint?.value as any)?.z ?? 0;
  
        // Convert 3D position back to layer position by adding anchor point back
        // The 3D object position is offset by anchor point in applyTransform()
```

---

#### Pattern: `Optional Chaining` at line 146:72

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
        const layerData = layer?.getLayerData?.();
        const anchorX = layerData?.transform?.anchorPoint?.value?.x ?? 0;
        const anchorY = layerData?.transform?.anchorPoint?.value?.y ?? 0;
> const anchorZ = (layerData?.transform?.anchorPoint?.value as any)?.z ?? 0;
  
        // Convert 3D position back to layer position by adding anchor point back
        // The 3D object position is offset by anchor point in applyTransform()
```

---

#### Pattern: `: void` at line 188:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      callback:
        | ((layerId: string, transform: LayerTransformUpdate) => void)
        | null,
> ): void {
      this.onTransformChange = callback;
    }
  
```

---

#### Pattern: `: void` at line 196:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Select a layer and attach transform controls
     * @param layerId - Layer ID to select, or null to deselect
     */
> selectLayer(layerId: string | null): void {
      // Initialize transform controls if not already done
      if (!this.transformControls) {
        this.initialize();
```

---

#### Pattern: `: void` at line 234:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Focus the camera on a layer's position
     * This moves the orbit target to the layer without changing camera rotation
     */
> focusOnLayer(layerId: string): void {
      const layerObject = this.deps.getLayerObject(layerId);
      if (layerObject) {
        const worldPos = new THREE.Vector3();
```

---

#### Pattern: `: void` at line 255:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set the transform mode
     * @param mode - 'translate' | 'rotate' | 'scale'
     */
> setMode(mode: TransformMode): void {
      this.transformMode = mode;
      if (this.transformControls) {
        this.transformControls.setMode(mode);
```

---

#### Pattern: `: void` at line 272:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set transform controls visibility
     */
> setVisible(visible: boolean): void {
      if (this.transformControls) {
        (this.transformControls as any).visible = visible;
        this.transformControls.enabled = visible;
```

---

#### Pattern: `Optional Chaining` at line 283:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Check if transform controls are dragging
     */
    isDragging(): boolean {
> return this.transformControls?.dragging ?? false;
    }
  
    /**
```

---

#### Pattern: `: void` at line 289:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose all resources
     */
> dispose(): void {
      if (this.transformControls) {
        this.transformControls.dispose();
        this.transformControls = null;
```

---

### `engine/animation/KeyframeEvaluator.ts` (7 pattern(s))

#### Pattern: `Optional Chaining` at line 149:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const outHandle = prevKeyframe.outHandle;
      const inHandle = nextKeyframe.inHandle;
  
> if (!outHandle?.enabled && !inHandle?.enabled) {
        return t; // No handles, use linear
      }
  
```

---

#### Pattern: `Optional Chaining` at line 149:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const outHandle = prevKeyframe.outHandle;
      const inHandle = nextKeyframe.inHandle;
  
> if (!outHandle?.enabled && !inHandle?.enabled) {
        return t; // No handles, use linear
      }
  
```

---

#### Pattern: `Optional Chaining` at line 159:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Control points for cubic bezier
      const p0 = { x: 0, y: 0 };
      const p1 = {
> x: outHandle?.enabled
          ? Math.min(1, Math.max(0, outHandle.frame / frameDiff))
          : 0.33,
        y: outHandle?.enabled ? outHandle.value : 0,
```

---

#### Pattern: `Optional Chaining` at line 162:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        x: outHandle?.enabled
          ? Math.min(1, Math.max(0, outHandle.frame / frameDiff))
          : 0.33,
> y: outHandle?.enabled ? outHandle.value : 0,
      };
      const p2 = {
        x: inHandle?.enabled
```

---

#### Pattern: `Optional Chaining` at line 165:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        y: outHandle?.enabled ? outHandle.value : 0,
      };
      const p2 = {
> x: inHandle?.enabled
          ? Math.min(1, Math.max(0, 1 + inHandle.frame / frameDiff))
          : 0.67,
        y: inHandle?.enabled ? 1 + inHandle.value : 1,
```

---

#### Pattern: `Optional Chaining` at line 168:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        x: inHandle?.enabled
          ? Math.min(1, Math.max(0, 1 + inHandle.frame / frameDiff))
          : 0.67,
> y: inHandle?.enabled ? 1 + inHandle.value : 1,
      };
      const p3 = { x: 1, y: 1 };
  
```

---

#### Pattern: `: void` at line 397:15

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear the evaluation cache
     */
> clearCache(): void {
      this.cache.clear();
    }
  }
```

---

### `engine/core/CameraController.ts` (36 pattern(s))

#### Pattern: `: void` at line 99:53

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Uses camera-controls library for smooth transitions
     * @param domElement The canvas element to attach controls to
     */
> enableOrbitControls(domElement: HTMLCanvasElement): void {
      if (this.cameraControls) {
        this.cameraControls.dispose();
      }
```

---

#### Pattern: `: void` at line 154:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Disable camera controls
     */
> disableOrbitControls(): void {
      if (this.cameraControls) {
        this.cameraControls.dispose();
        this.cameraControls = null;
```

---

#### Pattern: `: void` at line 182:19

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Camera looks straight at composition center, no rotation/tilt
     * This is the "Sync to Home" state - as if there's no 3D at all
     */
> resetToDefault(): void {
      // Calculate the exact distance needed to see full composition height
      const fovRad = THREE.MathUtils.degToRad(this.defaultFov);
      const distance = this.height / 2 / Math.tan(fovRad / 2);
```

---

#### Pattern: `: void` at line 243:67

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * @param z - Z position
     * @param animate - Whether to animate the transition (default: false)
     */
> setOrbitTarget(x: number, y: number, z: number, animate = false): void {
      this.target.set(x, -y, z);
      if (this.cameraControls) {
        this.cameraControls.setTarget(
```

---

#### Pattern: `: void` at line 258:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Reset orbit target to composition center
     */
> resetOrbitTargetToCenter(): void {
      const centerX = this.width / 2;
      const centerY = this.height / 2;
      this.setOrbitTarget(centerX, centerY, 0);
```

---

#### Pattern: `: void` at line 272:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set camera position
     * Note: Y is negated for screen coordinates (Y down)
     */
> setPosition(x: number, y: number, z: number): void {
      this.camera.position.set(x, -y, z);
      this.camera.lookAt(this.target);
      this.camera.updateProjectionMatrix();
```

---

#### Pattern: `: void` at line 293:45

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set camera target (look-at point)
     * Note: Y is negated for screen coordinates
     */
> setTarget(x: number, y: number, z: number): void {
      this.target.set(x, -y, z);
      this.camera.lookAt(this.target);
      this.camera.updateProjectionMatrix();
```

---

#### Pattern: `: void` at line 303:53

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set camera position directly (no coordinate transformation)
     * Used by MotionEngine when applying pre-evaluated camera state.
     */
> setPositionDirect(x: number, y: number, z: number): void {
      this.camera.position.set(x, -y, z);
      this.camera.lookAt(this.target);
      this.camera.updateProjectionMatrix();
```

---

#### Pattern: `: void` at line 313:51

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set camera target directly (no coordinate transformation)
     * Used by MotionEngine when applying pre-evaluated camera state.
     */
> setTargetDirect(x: number, y: number, z: number): void {
      this.target.set(x, -y, z);
      this.camera.lookAt(this.target);
      this.camera.updateProjectionMatrix();
```

---

#### Pattern: `: void` at line 333:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set camera rotation directly (Euler angles in degrees)
     */
> setRotation(x: number, y: number, z: number): void {
      this.camera.rotation.set(
        THREE.MathUtils.degToRad(x),
        THREE.MathUtils.degToRad(y),
```

---

#### Pattern: `: void` at line 349:22

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set field of view (in degrees)
     */
> setFOV(fov: number): void {
      this.camera.fov = THREE.MathUtils.clamp(fov, 1, 179);
      this.camera.updateProjectionMatrix();
    }
```

---

#### Pattern: `: void` at line 364:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set near and far planes
     */
> setClipPlanes(near: number, far: number): void {
      this.camera.near = Math.max(0.001, near);
      this.camera.far = Math.max(this.camera.near + 1, far);
      this.camera.updateProjectionMatrix();
```

---

#### Pattern: `: void` at line 382:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set zoom level for viewport navigation
     * This adjusts the camera's effective view without changing FOV
     */
> setZoom(zoom: number): void {
      this.zoomLevel = Math.max(0.1, Math.min(10, zoom));
      this.updateCameraForViewport();
    }
```

---

#### Pattern: `: void` at line 398:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set pan offset for viewport navigation (in WORLD units, not screen pixels)
     * Positive X pans right (camera moves left), positive Y pans down (camera moves up)
     */
> setPan(x: number, y: number): void {
      this.panOffset.set(x, y);
      this.updateCameraForViewport();
    }
```

---

#### Pattern: `: void` at line 415:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * When camera controls are active and user has rotated, preserve the rotation.
     * Otherwise, use straight-on 2D view.
     */
> private updateCameraForViewport(): void {
      // If camera controls are active and user has rotated the view, preserve it
      if (this.cameraControls && this.orbitEnabled) {
        // Just update the spherical radius for zoom
```

---

#### Pattern: `: void` at line 485:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      viewportWidth: number,
      viewportHeight: number,
      padding: number = 40,
> ): void {
      // Calculate available space
      const availableWidth = viewportWidth - padding * 2;
      const availableHeight = viewportHeight - padding * 2;
```

---

#### Pattern: `: void` at line 516:54

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set animated properties for keyframe evaluation
     */
> setAnimationProperties(props: CameraAnimationProps): void {
      this.positionProp = props.position;
      this.targetProp = props.target;
      this.fovProp = props.fov;
```

---

#### Pattern: `: void` at line 525:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear animation properties
     */
> clearAnimationProperties(): void {
      this.positionProp = undefined;
      this.targetProp = undefined;
      this.fovProp = undefined;
```

---

#### Pattern: `: void` at line 534:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Evaluate animated properties at a given frame
     */
> evaluateFrame(frame: number): void {
      if (this.positionProp) {
        const pos = this.evaluator.evaluate(this.positionProp, frame);
        this.setPosition(pos.x, pos.y, pos.z ?? this.camera.position.z);
```

---

#### Pattern: `: void` at line 559:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Resize camera for new COMPOSITION dimensions
     * Note: The aspect ratio should be set separately using setViewportAspect()
     */
> resize(width: number, height: number): void {
      console.log(
        `[CameraController] resize: NEW comp=${width}x${height} (was ${this.width}x${this.height})`,
      );
```

---

#### Pattern: `: void` at line 577:67

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set camera aspect ratio to match viewport dimensions
     * This should be called with VIEWPORT dimensions, not composition
     */
> setViewportAspect(viewportWidth: number, viewportHeight: number): void {
      this.camera.aspect = viewportWidth / viewportHeight;
      this.camera.updateProjectionMatrix();
    }
```

---

#### Pattern: `: void` at line 658:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set complete camera state
     */
> setState(state: Partial<CameraState>): void {
      if (state.position) {
        this.setPosition(state.position.x, state.position.y, state.position.z);
      }
```

---

#### Pattern: `: void` at line 679:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Reset camera to default position for current composition size
     */
> reset(): void {
      const fovRad = THREE.MathUtils.degToRad(50);
      const distance = this.height / 2 / Math.tan(fovRad / 2);
  
```

---

#### Pattern: `: void` at line 727:20

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Enable orbit mode for 3D navigation
     * In orbit mode, the camera orbits around the target point
     */
> enableOrbitMode(): void {
      this.orbitEnabled = true;
      // Calculate current spherical coordinates from camera position
      const offset = new THREE.Vector3().subVectors(
```

---

#### Pattern: `: void` at line 744:21

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Disable orbit mode (return to pan/zoom mode)
     */
> disableOrbitMode(): void {
      this.orbitEnabled = false;
    }
  
```

---

#### Pattern: `: void` at line 760:46

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * @param deltaTheta - Horizontal rotation in radians (around Y axis)
     * @param deltaPhi - Vertical rotation in radians (around X axis)
     */
> orbit(deltaTheta: number, deltaPhi: number): void {
      if (!this.orbitEnabled) return;
  
      // Update spherical coordinates
```

---

#### Pattern: `: void` at line 778:23

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Dolly (zoom in/out) in orbit mode
     * @param delta - Positive to zoom in, negative to zoom out
     */
> dolly(delta: number): void {
      if (!this.orbitEnabled) {
        // In non-orbit mode, use regular zoom
        this.setZoom(this.zoomLevel * (1 + delta * 0.1));
```

---

#### Pattern: `: void` at line 800:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * @param deltaX - Horizontal pan in screen pixels
     * @param deltaY - Vertical pan in screen pixels
     */
> orbitPan(deltaX: number, deltaY: number): void {
      if (!this.orbitEnabled) {
        // Use regular pan
        this.setPan(this.panOffset.x + deltaX, this.panOffset.y + deltaY);
```

---

#### Pattern: `: void` at line 828:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update camera position from spherical coordinates
     */
> private updateCameraFromSpherical(): void {
      // Convert spherical to Cartesian
      const x =
        this.spherical.radius *
```

---

#### Pattern: `: void` at line 874:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    setViewPreset(
      preset: keyof typeof CameraController.VIEW_PRESETS,
      animate = false,
> ): void {
      const view = CameraController.VIEW_PRESETS[preset];
      if (!view) return;
  
```

---

#### Pattern: `: void` at line 920:18

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Reset camera to default 2D view (centered on composition)
     */
> resetTo2DView(): void {
      this.disableOrbitMode();
      this.panOffset.set(0, 0);
      this.zoomLevel = 1;
```

---

#### Pattern: `: void` at line 930:15

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Reset orbit to center on composition
     */
> resetOrbit(): void {
      // Set target to composition center
      this.target.set(this.width / 2, -this.height / 2, 0);
  
```

---

#### Pattern: `: void` at line 958:5

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    focusOnBounds(bounds: {
      min: { x: number; y: number; z: number };
      max: { x: number; y: number; z: number };
> }): void {
      // Calculate center of bounds
      const center = new THREE.Vector3(
        (bounds.min.x + bounds.max.x) / 2,
```

---

#### Pattern: `: void` at line 1005:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      width: number,
      height: number,
      z = 0,
> ): void {
      this.focusOnBounds({
        min: { x, y, z: z - 10 },
        max: { x: x + width, y: y + height, z: z + 10 },
```

---

#### Pattern: `: void` at line 1032:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Save current camera state as a bookmark
     * @param name - Name for the bookmark
     */
> saveBookmark(name: string): void {
      this.bookmarks.set(name, {
        position: this.camera.position.clone(),
        target: this.target.clone(),
```

---

#### Pattern: `: void` at line 1143:45

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Import bookmarks from JSON data
     */
> importBookmarks(data: Record<string, any>): void {
      Object.entries(data).forEach(([name, value]) => {
        this.bookmarks.set(name, {
          position: new THREE.Vector3(
```

---

### `engine/core/LayerManager.ts` (46 pattern(s))

#### Pattern: `: void` at line 138:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     */
    setVideoMetadataCallback(
      callback: (layerId: string, metadata: VideoMetadata) => void,
> ): void {
      this.onVideoMetadataLoaded = callback;
    }
  
```

---

#### Pattern: `: void` at line 146:63

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set the nested comp render context
     * This allows nested comp layers to render nested compositions
     */
> setNestedCompRenderContext(context: NestedCompRenderContext): void {
      this.nestedCompRenderContext = context;
  
      // Update existing nested comp layers
```

---

#### Pattern: `: void` at line 161:65

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set the effect layer render context
     * This allows effect layers to render layers below them
     */
> setEffectLayerRenderContext(context: EffectLayerRenderContext): void {
      this.effectLayerRenderContext = context;
  
      // Update existing effect layers
```

---

#### Pattern: `Optional Chaining` at line 169:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const layerData = (layer as any).layerData;
        if (
          layer.type === "solid" &&
> (layerData?.effectLayer || layerData?.adjustmentLayer)
        ) {
          // Check if method exists before calling (SolidLayer doesn't have setRenderContext)
          if ("setRenderContext" in layer) {
```

---

#### Pattern: `Optional Chaining` at line 169:45

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const layerData = (layer as any).layerData;
        if (
          layer.type === "solid" &&
> (layerData?.effectLayer || layerData?.adjustmentLayer)
        ) {
          // Check if method exists before calling (SolidLayer doesn't have setRenderContext)
          if ("setRenderContext" in layer) {
```

---

#### Pattern: `: void` at line 180:63

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  
    /** @deprecated Use setEffectLayerRenderContext instead */
> setAdjustmentRenderContext(context: AdjustmentRenderContext): void {
      this.setEffectLayerRenderContext(context);
    }
  
```

---

#### Pattern: `: void` at line 191:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      getter: CameraGetter,
      updater: CameraUpdater,
      atFrameGetter?: import("../layers/CameraLayer").CameraAtFrameGetter,
> ): void {
      this.cameraGetter = getter;
      this.cameraUpdater = updater;
      this.cameraAtFrameGetter = atFrameGetter;
```

---

#### Pattern: `: void` at line 212:45

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set renderer for particle layers
     * Must be called to enable GPU particle rendering
     */
> setRenderer(renderer: THREE.WebGLRenderer): void {
      this.rendererRef = renderer;
  
      // Update existing particle layers
```

---

#### Pattern: `: void` at line 226:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set composition FPS for timing calculations
     */
> setCompositionFPS(fps: number): void {
      this.compositionFPS = fps;
  
      // Update existing layers that need FPS
```

---

#### Pattern: `: void` at line 251:45

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set camera reference for particle systems
     * Used for camera-relative effects (soft particles, depth culling)
     */
> setCamera(camera: THREE.PerspectiveCamera): void {
      this.cameraRef = camera;
    }
  
```

---

#### Pattern: `: void` at line 318:66

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set up type-specific callbacks after layer creation
     */
> private setupLayerCallbacks(layer: BaseLayer, layerData: Layer): void {
      // Set composition FPS on all layers for time-based effects (Echo, Posterize Time, etc.)
      layer.setCompositionFps(this.compositionFPS);
  
```

---

#### Pattern: `Optional Chaining` at line 326:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      if (layer.type === "video" && this.onVideoMetadataLoaded) {
        const videoLayer = layer as VideoLayer;
        videoLayer.setMetadataCallback((metadata) => {
> this.onVideoMetadataLoaded?.(layerData.id, metadata);
        });
      }
  
```

---

#### Pattern: `: void` at line 507:54

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update a layer's properties
     */
> update(layerId: string, properties: Partial<Layer>): void {
      const layer = this.layers.get(layerId);
  
      if (!layer) {
```

---

#### Pattern: `: void` at line 523:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     */
    batchUpdate(
      updates: Array<{ id: string; properties: Partial<Layer> }>,
> ): void {
      for (const { id, properties } of updates) {
        this.update(id, properties);
      }
```

---

#### Pattern: `: void` at line 536:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Remove a layer by ID
     */
> remove(layerId: string): void {
      const layer = this.layers.get(layerId);
  
      if (!layer) {
```

---

#### Pattern: `: void` at line 557:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
    /**
     * Remove multiple layers
     */
> removeMultiple(layerIds: string[]): void {
      for (const id of layerIds) {
        this.remove(id);
      }
```

---

#### Pattern: `: void` at line 566:14

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Remove all layers
     */
> removeAll(): void {
      for (const [_id, layer] of this.layers) {
        this.scene.removeFromComposition(layer.getObject());
        layer.dispose();
```

---

#### Pattern: `: void` at line 597:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    applyEvaluatedState(
      evaluatedLayers: readonly EvaluatedLayer[],
      frame?: number,
> ): void {
      const frameNum = frame ?? 0;
      // Store current frame for particle spline queries
      this.currentFrame = frameNum;
```

---

#### Pattern: `: void` at line 637:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Update shadow information for all particle layers from scene lights
     * This should be called after lights have been updated
     */
> private updateParticleShadows(): void {
      // Find all light layers that cast shadows
      const shadowLights: THREE.Light[] = [];
      for (const layer of this.layers.values()) {
```

---

#### Pattern: `Optional Chaining` at line 643:42

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      for (const layer of this.layers.values()) {
        if (layer.type === "light") {
          const lightLayer = layer as LightLayer;
> const light = lightLayer.getLight?.();
          if (light && light.castShadow && light.shadow?.map?.texture) {
            shadowLights.push(light);
          }
```

---

#### Pattern: `Optional Chaining` at line 644:54

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (layer.type === "light") {
          const lightLayer = layer as LightLayer;
          const light = lightLayer.getLight?.();
> if (light && light.castShadow && light.shadow?.map?.texture) {
            shadowLights.push(light);
          }
        }
```

---

#### Pattern: `Optional Chaining` at line 644:59

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (layer.type === "light") {
          const lightLayer = layer as LightLayer;
          const light = lightLayer.getLight?.();
> if (light && light.castShadow && light.shadow?.map?.texture) {
            shadowLights.push(light);
          }
        }
```

---

#### Pattern: `: void` at line 676:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    evaluateFrame(
      frame: number,
      audioReactiveGetter?: LayerAudioReactiveGetter | null,
> ): void {
      // Store current frame for particle spline queries
      this.currentFrame = frame;
  
```

---

#### Pattern: `: void` at line 708:68

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set the audio reactive getter callback
     */
> setAudioReactiveCallback(getter: LayerAudioReactiveGetter | null): void {
      this.audioReactiveGetter = getter;
    }
  
```

---

#### Pattern: `: void` at line 716:69

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set driven values for a specific layer
     * Used by the expression/driver system to override animated properties
     */
> setLayerDrivenValues(layerId: string, values: Map<string, number>): void {
      const layer = this.layers.get(layerId);
      if (layer) {
        layer.setDrivenValues(values);
```

---

#### Pattern: `: void` at line 726:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear driven values for a layer
     */
> clearLayerDrivenValues(layerId: string): void {
      const layer = this.layers.get(layerId);
      if (layer) {
        layer.clearDrivenValues();
```

---

#### Pattern: `: void` at line 736:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear all driven values for all layers
     */
> clearAllDrivenValues(): void {
      for (const layer of this.layers.values()) {
        layer.clearDrivenValues();
      }
```

---

#### Pattern: `: void` at line 753:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     *
     * @param frame - Optional frame number for animated spline/path evaluation
     */
> private updateTextPathConnections(frame?: number): void {
      for (const layer of this.layers.values()) {
        if (layer.type === "text") {
          const textLayer = layer as TextLayer;
```

---

#### Pattern: `: void` at line 943:69

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Connect a text layer to a spline or path layer
     * Supports both 'spline' and 'path' layer types.
     */
> connectTextToPath(textLayerId: string, pathLayerId: string | null): void {
      const textLayer = this.layers.get(textLayerId) as TextLayer | undefined;
  
      if (!textLayer || textLayer.type !== "text") {
```

---

#### Pattern: `Optional Chaining` at line 984:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Get a layer's Three.js object
     */
    getObject(layerId: string): THREE.Object3D | null {
> return this.layers.get(layerId)?.getObject() ?? null;
    }
  
    /**
```

---

#### Pattern: `: void` at line 1038:18

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Reorder layers in the scene based on their Z positions
     */
> reorderLayers(): void {
      this.scene.sortByZ();
    }
  
```

---

#### Pattern: `: void` at line 1050:27

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Rebuild the parenting hierarchy for all layers
     * Call this after batch-adding layers to ensure proper parent-child relationships
     */
> rebuildParentHierarchy(): void {
      // First pass: clear all parent relationships
      for (const layer of this.layers.values()) {
        if (layer.hasParent()) {
```

---

#### Pattern: `: void` at line 1081:59

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set parent for a layer
     */
> setLayerParent(layerId: string, parentId: string | null): void {
      const layer = this.layers.get(layerId);
      if (!layer) return;
  
```

---

#### Pattern: `: void` at line 1113:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Move a layer to a specific Z position
     */
> setLayerZ(layerId: string, z: number): void {
      const layer = this.layers.get(layerId);
      if (layer) {
        layer.getObject().position.z = z;
```

---

#### Pattern: `: void` at line 1128:53

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set layer visibility
     */
> setLayerVisible(layerId: string, visible: boolean): void {
      const layer = this.layers.get(layerId);
      if (layer) {
        layer.setVisible(visible);
```

---

#### Pattern: `: void` at line 1151:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Isolate a layer (hide all others)
     */
> isolateLayer(layerId: string): void {
      for (const [id, layer] of this.layers) {
        layer.setVisible(id === layerId);
      }
```

---

#### Pattern: `: void` at line 1158:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  
    /** @deprecated Use isolateLayer instead */
> soloLayer(layerId: string): void {
      this.isolateLayer(layerId);
    }
  
```

---

#### Pattern: `: void` at line 1165:17

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Unisolate all layers (show all)
     */
> unisolateAll(): void {
      for (const layer of this.layers.values()) {
        layer.setVisible(true);
      }
```

---

#### Pattern: `: void` at line 1172:14

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  
    /** @deprecated Use unisolateAll instead */
> unsoloAll(): void {
      this.unisolateAll();
    }
  
```

---

#### Pattern: `: void` at line 1194:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
            frame: number,
          ) => HTMLCanvasElement | null)
        | null,
> ): void {
      this.crossCompMatteGetter = getter;
    }
  
```

---

#### Pattern: `: void` at line 1211:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     *
     * @param frame - Current frame number for animated evaluation
     */
> processTrackMattes(frame: number): void {
      // Clear previous frame's matte canvases
      this.matteCanvases.clear();
  
```

---

#### Pattern: `Optional Chaining` at line 1292:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // In production, BaseLayer would expose a public getRenderedCanvas() method
      const sourceCanvas = (
        layer as unknown as { getSourceCanvas(): HTMLCanvasElement | null }
> ).getSourceCanvas?.();
  
      if (sourceCanvas) {
        // Clone the canvas to avoid mutation issues
```

---

#### Pattern: `: void` at line 1312:53

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
    /**
     * Update masks for a specific layer
     */
> setLayerMasks(layerId: string, masks: LayerMask[]): void {
      const layer = this.layers.get(layerId);
      if (layer) {
        layer.setMasks(masks);
```

---

#### Pattern: `: void` at line 1322:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear track matte assignment for a layer
     */
> clearTrackMatte(layerId: string): void {
      const layer = this.layers.get(layerId);
      if (layer) {
        layer.setTrackMatteCanvas(null);
```

---

#### Pattern: `: void` at line 1340:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      const visited = new Set<string>();
      const visiting = new Set<string>(); // For cycle detection
  
> const visit = (layerId: string): void => {
        if (visited.has(layerId)) return;
        if (visiting.has(layerId)) {
          layerLogger.warn(
```

---

#### Pattern: `: void` at line 1426:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose all layers and resources
     */
> dispose(): void {
      for (const layer of this.layers.values()) {
        this.scene.removeFromComposition(layer.getObject());
        layer.dispose();
```

---

### `engine/core/RenderPipeline.ts` (34 pattern(s))

#### Pattern: `: void` at line 323:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // POST-PROCESSING
    // ============================================================================
  
> private setupDefaultPasses(): void {
      // Main render pass
      const renderPass = new RenderPass(this.scene.scene, this.camera.camera);
      this.composer.addPass(renderPass);
```

---

#### Pattern: `: void` at line 336:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Add a post-processing pass
     */
> addPass(pass: PostPass): void {
      // Insert before output pass
      const outputIndex = this.composer.passes.findIndex(
        (p) => p.constructor.name === "OutputPass",
```

---

#### Pattern: `: void` at line 352:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Remove a post-processing pass
     */
> removePass(pass: PostPass): void {
      this.composer.removePass(pass);
    }
  
```

---

#### Pattern: `: void` at line 363:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Configure depth of field effect
     */
> setDOF(config: Partial<DOFConfig>): void {
      // Update config
      this.dofConfig = { ...this.dofConfig, ...config };
  
```

---

#### Pattern: `: void` at line 392:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create the bokeh (DOF) pass
     */
> private createBokehPass(): void {
      const _scaledWidth = Math.floor(this.width * this.pixelRatio);
      const _scaledHeight = Math.floor(this.height * this.pixelRatio);
  
```

---

#### Pattern: `: void` at line 414:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update bokeh pass parameters
     */
> private updateBokehPass(): void {
      if (!this.bokehPass) return;
  
      const uniforms = (this.bokehPass as any).uniforms;
```

---

#### Pattern: `: void` at line 428:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set focus distance (convenience method)
     */
> setFocusDistance(distance: number): void {
      this.setDOF({ focusDistance: distance });
    }
  
```

---

#### Pattern: `: void` at line 435:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set aperture size (convenience method)
     */
> setAperture(aperture: number): void {
      this.setDOF({ aperture });
    }
  
```

---

#### Pattern: `: void` at line 442:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Enable/disable DOF (convenience method)
     */
> setDOFEnabled(enabled: boolean): void {
      this.setDOF({ enabled });
    }
  
```

---

#### Pattern: `: void` at line 453:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Configure SSAO effect
     */
> setSSAO(config: Partial<SSAOConfig>): void {
      this.ssaoConfig = { ...this.ssaoConfig, ...config };
  
      if (this.ssaoConfig.enabled) {
```

---

#### Pattern: `: void` at line 479:27

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create the SSAO pass
     */
> private createSSAOPass(): void {
      const scaledWidth = Math.floor(this.width * this.pixelRatio);
      const scaledHeight = Math.floor(this.height * this.pixelRatio);
  
```

---

#### Pattern: `: void` at line 506:27

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update SSAO pass parameters
     */
> private updateSSAOPass(): void {
      if (!this.ssaoPass) return;
  
      this.ssaoPass.kernelRadius = this.ssaoConfig.kernelRadius;
```

---

#### Pattern: `: void` at line 527:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Enable/disable SSAO (convenience method)
     */
> setSSAOEnabled(enabled: boolean): void {
      this.setSSAO({ enabled });
    }
  
```

---

#### Pattern: `: void` at line 534:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set SSAO intensity (convenience method)
     */
> setSSAOIntensity(intensity: number): void {
      this.setSSAO({ intensity });
    }
  
```

---

#### Pattern: `: void` at line 541:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set SSAO kernel radius (convenience method)
     */
> setSSAORadius(radius: number): void {
      this.setSSAO({ kernelRadius: radius });
    }
  
```

---

#### Pattern: `: void` at line 553:41

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Configure bloom effect
     * Makes emissive objects (lights, particles) glow
     */
> setBloom(config: Partial<BloomConfig>): void {
      this.bloomConfig = { ...this.bloomConfig, ...config };
  
      if (this.bloomConfig.enabled) {
```

---

#### Pattern: `: void` at line 579:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create the bloom pass
     */
> private createBloomPass(): void {
      const scaledWidth = Math.floor(this.width * this.pixelRatio);
      const scaledHeight = Math.floor(this.height * this.pixelRatio);
  
```

---

#### Pattern: `: void` at line 614:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update bloom pass parameters
     */
> private updateBloomPass(): void {
      if (!this.bloomPass) return;
  
      this.bloomPass.strength = this.bloomConfig.strength;
```

---

#### Pattern: `: void` at line 625:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Enable/disable bloom (convenience method)
     */
> setBloomEnabled(enabled: boolean): void {
      this.setBloom({ enabled });
    }
  
```

---

#### Pattern: `: void` at line 632:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set bloom intensity (convenience method)
     */
> setBloomStrength(strength: number): void {
      this.setBloom({ strength });
    }
  
```

---

#### Pattern: `: void` at line 639:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set bloom threshold (convenience method)
     */
> setBloomThreshold(threshold: number): void {
      this.setBloom({ threshold });
    }
  
```

---

#### Pattern: `: void` at line 650:51

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Configure motion blur
     */
> setMotionBlur(config: Partial<MotionBlurConfig>): void {
      this.motionBlurConfig = { ...this.motionBlurConfig, ...config };
  
      // Update processor settings
```

---

#### Pattern: `: void` at line 666:41

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Enable/disable motion blur
     */
> setMotionBlurEnabled(enabled: boolean): void {
      this.setMotionBlur({ enabled });
    }
  
```

---

#### Pattern: `: void` at line 673:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set motion blur type
     */
> setMotionBlurType(type: MotionBlurType): void {
      this.setMotionBlur({ type });
    }
  
```

---

#### Pattern: `: void` at line 680:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set shutter angle (0-720, 180 = standard film)
     */
> setMotionBlurShutterAngle(shutterAngle: number): void {
      this.setMotionBlur({ shutterAngle });
    }
  
```

---

#### Pattern: `: void` at line 687:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Apply a motion blur preset by name
     */
> setMotionBlurPreset(presetName: string): void {
      const preset = MOTION_BLUR_PRESETS[presetName];
      if (preset) {
        this.setMotionBlur({
```

---

#### Pattern: `: void` at line 722:11

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Render the current frame
     */
> render(): void {
      try {
        // Ensure layers are sorted by Z
        this.scene.sortByZ();
```

---

#### Pattern: `Optional Chaining` at line 733:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        this.scene.prepareForRender();
  
        // Ensure camera has layers (cross-Three.js compatibility)
> if (this.camera?.camera && !this.camera.camera.layers) {
          this.camera.camera.layers = new THREE.Layers();
        }
  
```

---

#### Pattern: `: void` at line 748:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Render directly to a render target
     */
> renderToTarget(target: THREE.WebGLRenderTarget): void {
      const prevTarget = this.renderer.getRenderTarget();
      this.renderer.setRenderTarget(target);
      this.renderer.render(this.scene.scene, this.camera.camera);
```

---

#### Pattern: `: void` at line 770:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Uses post-processing to visualize depth/normals from the depth buffer
     * This works with ALL geometry including text since it reads from the depth buffer
     */
> setRenderMode(mode: "color" | "depth" | "normal"): void {
      this.renderMode = mode;
  
      // Remove existing visualization passes
```

---

#### Pattern: `: void` at line 1029:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Resize the renderer and targets
     */
> resize(width: number, height: number): void {
      this.width = width;
      this.height = height;
  
```

---

#### Pattern: `: void` at line 1169:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose a nested composition render target
     */
> disposeNestedCompTarget(compositionId: string): void {
      // Find and dispose all targets for this composition
      for (const [key, target] of this.nestedCompTargets.entries()) {
        if (key.startsWith(`${compositionId}_`)) {
```

---

#### Pattern: `: void` at line 1182:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose all nested composition render targets
     */
> disposeAllNestedCompTargets(): void {
      for (const target of this.nestedCompTargets.values()) {
        target.dispose();
      }
```

---

#### Pattern: `: void` at line 1204:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose all resources
     */
> dispose(): void {
      // Dispose DOF pass if enabled
      if (this.bokehPass) {
        this.composer.removePass(this.bokehPass);
```

---

### `engine/core/ResourceManager.ts` (9 pattern(s))

#### Pattern: `: void` at line 70:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set the asset getter callback
     * Called by LatticeEngine to provide access to project assets
     */
> setAssetGetter(getter: AssetGetter): void {
      this.assetGetter = getter;
    }
  
```

---

#### Pattern: `Optional Chaining` at line 79:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Returns undefined if asset not found or getter not set
     */
    getAsset(assetId: string): AssetReference | undefined {
> return this.assetGetter?.(assetId);
    }
  
    // ============================================================================
```

---

#### Pattern: `: void` at line 89:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Pre-create commonly used geometries
     */
> private initializeCommonGeometries(): void {
      // Unit plane (1x1, can be scaled)
      const plane = new THREE.PlaneGeometry(1, 1, 1, 1);
      this.geometries.set("plane:1:1", plane);
```

---

#### Pattern: `: void` at line 241:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    private applyTextureOptions(
      texture: THREE.Texture,
      options?: TextureOptions,
> ): void {
      if (!options) {
        // Default options for crisp 2D graphics
        texture.minFilter = THREE.LinearFilter;
```

---

#### Pattern: `: void` at line 273:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Release a texture
     */
> releaseTexture(key: string): void {
      const texture = this.textures.get(key);
      if (texture) {
        texture.dispose();
```

---

#### Pattern: `: void` at line 301:59

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Cache a texture for a layer
     */
> setLayerTexture(layerId: string, texture: THREE.Texture): void {
      const key = `layer:${layerId}`;
      this.textures.set(key, texture);
    }
```

---

#### Pattern: `: void` at line 466:15

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Reset statistics
     */
> resetStats(): void {
      this.stats = {
        texturesLoaded: 0,
        texturesFromCache: 0,
```

---

#### Pattern: `: void` at line 482:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose all cached resources
     */
> dispose(): void {
      // Dispose textures
      for (const texture of this.textures.values()) {
        texture.dispose();
```

---

#### Pattern: `: void` at line 505:16

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear unused resources (call periodically)
     */
> clearUnused(): void {
      // This is a simplified implementation
      // A full implementation would track reference counts
  
```

---

### `engine/core/SceneManager.ts` (56 pattern(s))

#### Pattern: `: void` at line 112:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set up default ambient and directional lighting
     */
> private setupDefaultLighting(): void {
      // Ambient light for base illumination
      const ambient = new THREE.AmbientLight(0xffffff, 0.6);
      ambient.name = "ambientLight";
```

---

#### Pattern: `: void` at line 141:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Add object to composition group
     */
> addToComposition(object: THREE.Object3D): void {
      this.compositionGroup.add(object);
      this.markNeedsZSort(); // Mark for sorting instead of immediate sort
  
```

---

#### Pattern: `Optional Chaining` at line 146:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.markNeedsZSort(); // Mark for sorting instead of immediate sort
  
      // Update lookup map for O(1) access
> const layerId = object.userData?.layerId;
      if (layerId) {
        this.layerLookupMap.set(layerId, object);
      }
```

---

#### Pattern: `: void` at line 155:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Remove object from composition group
     */
> removeFromComposition(object: THREE.Object3D): void {
      this.compositionGroup.remove(object);
  
      // Remove from lookup map
```

---

#### Pattern: `Optional Chaining` at line 159:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.compositionGroup.remove(object);
  
      // Remove from lookup map
> const layerId = object.userData?.layerId;
      if (layerId) {
        this.layerLookupMap.delete(layerId);
      }
```

---

#### Pattern: `: void` at line 172:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Sort composition layers by Z position for proper depth ordering
     * Optimized to only sort when Z positions have actually changed
     */
> sortByZ(): void {
      // Check if any Z positions have changed since last sort
      if (!this.needsZSort) {
        let hasChanges = false;
```

---

#### Pattern: `: void` at line 206:19

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Mark that Z sorting is needed (call when Z positions may have changed)
     */
> markNeedsZSort(): void {
      this.needsZSort = true;
    }
  
```

---

#### Pattern: `: void` at line 224:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Add object to overlay group
     */
> addToOverlay(object: THREE.Object3D): void {
      this.overlayGroup.add(object);
    }
  
```

---

#### Pattern: `: void` at line 231:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Remove object from overlay group
     */
> removeFromOverlay(object: THREE.Object3D): void {
      this.overlayGroup.remove(object);
    }
  
```

---

#### Pattern: `: void` at line 238:17

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear all overlay objects
     */
> clearOverlay(): void {
      while (this.overlayGroup.children.length > 0) {
        const child = this.overlayGroup.children[0];
        this.overlayGroup.remove(child);
```

---

#### Pattern: `: void` at line 254:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * the instanceof check in scene.add() can fail. We handle this by directly manipulating
     * the children array as a fallback.
     */
> addUIElement(object: THREE.Object3D): void {
      if (!object) return;
  
      // Check if the object passes instanceof (same Three.js instance)
```

---

#### Pattern: `Optional Chaining` at line 303:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      try {
        // Manually add since scene.add() will reject it
        if (obj.parent !== null && obj.parent !== undefined) {
> obj.parent.remove?.(obj);
        }
        obj.parent = this.scene;
        this.scene.children.push(obj);
```

---

#### Pattern: `Optional Chaining` at line 307:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        }
        obj.parent = this.scene;
        this.scene.children.push(obj);
> obj.dispatchEvent?.({ type: "added" });
        console.log(
          "[SceneManager] Successfully added UI element with compatibility shim",
        );
```

---

#### Pattern: `: void` at line 319:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Remove a UI element from the scene
     */
> removeUIElement(object: THREE.Object3D): void {
      if (!object) return;
  
      // Try normal remove first
```

---

#### Pattern: `Optional Chaining` at line 332:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (index !== -1) {
          this.scene.children.splice(index, 1);
          (object as any).parent = null;
> object.dispatchEvent?.({ type: "removed" });
        }
      }
    }
```

---

#### Pattern: `: void` at line 346:21

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * may load their own Three.js, causing instanceof checks to fail and
     * internal structures (like children arrays) to be incompatible.
     */
> prepareForRender(): void {
      const ensureMethods = (obj: any, depth = 0) => {
        // Safety check
        if (!obj || depth > 50) return;
```

---

#### Pattern: `Optional Chaining` at line 381:57

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (typeof obj.updateMatrixWorld !== "function") {
          obj.updateMatrixWorld = function (force?: boolean) {
            try {
> if (this.matrixAutoUpdate) this.updateMatrix?.();
              if (this.matrixWorldNeedsUpdate || force) {
                if (this.matrixWorldAutoUpdate !== false) {
                  if (this.parent === null) {
```

---

#### Pattern: `Optional Chaining` at line 385:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              if (this.matrixWorldNeedsUpdate || force) {
                if (this.matrixWorldAutoUpdate !== false) {
                  if (this.parent === null) {
> this.matrixWorld?.copy?.(this.matrix);
                  } else if (this.parent?.matrixWorld) {
                    this.matrixWorld?.multiplyMatrices?.(
                      this.parent.matrixWorld,
```

---

#### Pattern: `Optional Chaining` at line 385:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              if (this.matrixWorldNeedsUpdate || force) {
                if (this.matrixWorldAutoUpdate !== false) {
                  if (this.parent === null) {
> this.matrixWorld?.copy?.(this.matrix);
                  } else if (this.parent?.matrixWorld) {
                    this.matrixWorld?.multiplyMatrices?.(
                      this.parent.matrixWorld,
```

---

#### Pattern: `Optional Chaining` at line 386:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
                if (this.matrixWorldAutoUpdate !== false) {
                  if (this.parent === null) {
                    this.matrixWorld?.copy?.(this.matrix);
> } else if (this.parent?.matrixWorld) {
                    this.matrixWorld?.multiplyMatrices?.(
                      this.parent.matrixWorld,
                      this.matrix,
```

---

#### Pattern: `Optional Chaining` at line 387:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
                  if (this.parent === null) {
                    this.matrixWorld?.copy?.(this.matrix);
                  } else if (this.parent?.matrixWorld) {
> this.matrixWorld?.multiplyMatrices?.(
                      this.parent.matrixWorld,
                      this.matrix,
                    );
```

---

#### Pattern: `Optional Chaining` at line 387:53

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
                  if (this.parent === null) {
                    this.matrixWorld?.copy?.(this.matrix);
                  } else if (this.parent?.matrixWorld) {
> this.matrixWorld?.multiplyMatrices?.(
                      this.parent.matrixWorld,
                      this.matrix,
                    );
```

---

#### Pattern: `Optional Chaining` at line 405:42

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
                    child &&
                    (child.matrixWorldAutoUpdate === true || force === true)
                  ) {
> child.updateMatrixWorld?.(force);
                  }
                }
              }
```

---

#### Pattern: `: void` at line 442:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Toggle debug helpers visibility
     */
> setDebugVisible(visible: boolean): void {
      this.debugGroup.visible = visible;
    }
  
```

---

#### Pattern: `: void` at line 449:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Add axis helper to debug group
     */
> addAxisHelper(size: number = 500): void {
      const existing = this.debugGroup.getObjectByName("axisHelper");
      if (existing) {
        this.debugGroup.remove(existing);
```

---

#### Pattern: `: void` at line 463:61

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Add grid helper to debug group
     */
> addGridHelper(size: number = 2000, divisions: number = 40): void {
      const existing = this.debugGroup.getObjectByName("gridHelper");
      if (existing) {
        this.debugGroup.remove(existing);
```

---

#### Pattern: `: void` at line 482:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set scene background color
     */
> setBackground(color: string | null): void {
      if (color) {
        this.scene.background = new THREE.Color(color);
      } else {
```

---

#### Pattern: `: void` at line 508:62

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Initialize PMREM generator (requires WebGL renderer)
     * Must be called before loading environment maps
     */
> initializeEnvironmentSupport(renderer: THREE.WebGLRenderer): void {
      if (this.pmremGenerator) {
        this.pmremGenerator.dispose();
      }
```

---

#### Pattern: `: void` at line 585:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    private processEnvironmentTexture(
      texture: THREE.Texture,
      resolve: (tex: THREE.Texture) => void,
> ): void {
      // Generate PMREM from equirectangular texture
      const envMap = this.pmremGenerator?.fromEquirectangular(texture).texture;
      texture.dispose();
```

---

#### Pattern: `Optional Chaining` at line 587:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      resolve: (tex: THREE.Texture) => void,
    ): void {
      // Generate PMREM from equirectangular texture
> const envMap = this.pmremGenerator?.fromEquirectangular(texture).texture;
      texture.dispose();
  
      // Store and apply
```

---

#### Pattern: `: void` at line 605:58

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set environment map from pre-loaded texture
     */
> setEnvironmentMapTexture(texture: THREE.Texture | null): void {
      // Dispose old environment map
      if (this.environmentMap && this.environmentMap !== texture) {
        this.environmentMap.dispose();
```

---

#### Pattern: `: void` at line 641:62

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update environment map configuration
     */
> setEnvironmentConfig(config: Partial<EnvironmentMapConfig>): void {
      Object.assign(this.envConfig, config);
  
      // Apply changes
```

---

#### Pattern: `: void` at line 685:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Enable or disable environment map
     */
> setEnvironmentEnabled(enabled: boolean): void {
      this.setEnvironmentConfig({ enabled });
    }
  
```

---

#### Pattern: `: void` at line 692:45

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set environment intensity
     */
> setEnvironmentIntensity(intensity: number): void {
      this.setEnvironmentConfig({ intensity });
    }
  
```

---

#### Pattern: `: void` at line 699:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set environment rotation (degrees)
     */
> setEnvironmentRotation(rotation: number): void {
      this.setEnvironmentConfig({ rotation });
    }
  
```

---

#### Pattern: `: void` at line 706:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set background blur amount (0-1)
     */
> setBackgroundBlur(blur: number): void {
      this.setEnvironmentConfig({ backgroundBlur: blur });
    }
  
```

---

#### Pattern: `: void` at line 713:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Toggle using HDRI as background
     */
> setUseAsBackground(use: boolean): void {
      this.setEnvironmentConfig({ useAsBackground: use });
    }
  
```

---

#### Pattern: `: void` at line 724:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set composition dimensions and create/update bounds frame
     */
> setCompositionSize(width: number, height: number): void {
      this.compositionWidth = width;
      this.compositionHeight = height;
      this.updateCompositionBounds();
```

---

#### Pattern: `: void` at line 742:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create or update composition bounds frame
     */
> private updateCompositionBounds(): void {
      // Remove existing bounds
      if (this.compositionBounds) {
        this.overlayGroup.remove(this.compositionBounds);
```

---

#### Pattern: `: void` at line 777:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Show/hide composition bounds
     */
> setCompositionBoundsVisible(visible: boolean): void {
      if (this.compositionBounds) {
        this.compositionBounds.visible = visible;
      }
```

---

#### Pattern: `: void` at line 787:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Create or update composition grid
     * Shows a grid inside the composition area for spatial reference
     */
> updateCompositionGrid(divisions: number = 20): void {
      try {
        // Remove existing grid
        if (this.compositionGrid) {
```

---

#### Pattern: `: void` at line 962:46

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Show/hide composition grid
     */
> setCompositionGridVisible(visible: boolean): void {
      if (this.compositionGrid) {
        this.compositionGrid.visible = visible;
      }
```

---

#### Pattern: `: void` at line 972:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Create dark overlay outside composition bounds
     * Creates a large plane with a rectangular hole for the composition area
     */
> updateOutsideOverlay(): void {
      try {
        // Remove existing overlay
        if (this.outsideOverlay) {
```

---

#### Pattern: `: void` at line 1028:45

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Show/hide outside overlay
     */
> setOutsideOverlayVisible(visible: boolean): void {
      if (this.outsideOverlay) {
        this.outsideOverlay.visible = visible;
      }
```

---

#### Pattern: `: void` at line 1061:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose object and its resources
     */
> private disposeObject(object: THREE.Object3D): void {
      if (object instanceof THREE.Mesh) {
        object.geometry?.dispose();
  
```

---

#### Pattern: `Optional Chaining` at line 1063:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     */
    private disposeObject(object: THREE.Object3D): void {
      if (object instanceof THREE.Mesh) {
> object.geometry?.dispose();
  
        if (Array.isArray(object.material)) {
          object.material.forEach((m) => {
```

---

#### Pattern: `: void` at line 1085:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose material and its textures
     */
> private disposeMaterial(material: THREE.Material): void {
      // Dispose textures
      const mat = material as THREE.MeshStandardMaterial;
      mat.map?.dispose();
```

---

#### Pattern: `Optional Chaining` at line 1088:12

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    private disposeMaterial(material: THREE.Material): void {
      // Dispose textures
      const mat = material as THREE.MeshStandardMaterial;
> mat.map?.dispose();
      mat.normalMap?.dispose();
      mat.roughnessMap?.dispose();
      mat.metalnessMap?.dispose();
```

---

#### Pattern: `Optional Chaining` at line 1089:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Dispose textures
      const mat = material as THREE.MeshStandardMaterial;
      mat.map?.dispose();
> mat.normalMap?.dispose();
      mat.roughnessMap?.dispose();
      mat.metalnessMap?.dispose();
      mat.aoMap?.dispose();
```

---

#### Pattern: `Optional Chaining` at line 1090:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const mat = material as THREE.MeshStandardMaterial;
      mat.map?.dispose();
      mat.normalMap?.dispose();
> mat.roughnessMap?.dispose();
      mat.metalnessMap?.dispose();
      mat.aoMap?.dispose();
      mat.emissiveMap?.dispose();
```

---

#### Pattern: `Optional Chaining` at line 1091:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      mat.map?.dispose();
      mat.normalMap?.dispose();
      mat.roughnessMap?.dispose();
> mat.metalnessMap?.dispose();
      mat.aoMap?.dispose();
      mat.emissiveMap?.dispose();
      mat.alphaMap?.dispose();
```

---

#### Pattern: `Optional Chaining` at line 1092:14

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      mat.normalMap?.dispose();
      mat.roughnessMap?.dispose();
      mat.metalnessMap?.dispose();
> mat.aoMap?.dispose();
      mat.emissiveMap?.dispose();
      mat.alphaMap?.dispose();
      mat.envMap?.dispose();
```

---

#### Pattern: `Optional Chaining` at line 1093:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      mat.roughnessMap?.dispose();
      mat.metalnessMap?.dispose();
      mat.aoMap?.dispose();
> mat.emissiveMap?.dispose();
      mat.alphaMap?.dispose();
      mat.envMap?.dispose();
  
```

---

#### Pattern: `Optional Chaining` at line 1094:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      mat.metalnessMap?.dispose();
      mat.aoMap?.dispose();
      mat.emissiveMap?.dispose();
> mat.alphaMap?.dispose();
      mat.envMap?.dispose();
  
      material.dispose();
```

---

#### Pattern: `Optional Chaining` at line 1095:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      mat.aoMap?.dispose();
      mat.emissiveMap?.dispose();
      mat.alphaMap?.dispose();
> mat.envMap?.dispose();
  
      material.dispose();
    }
```

---

#### Pattern: `: void` at line 1103:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose all scene resources
     */
> dispose(): void {
      // Dispose composition
      while (this.compositionGroup.children.length > 0) {
        const child = this.compositionGroup.children[0];
```

---

### `engine/layers/AudioLayer.ts` (33 pattern(s))

#### Pattern: `Optional Chaining` at line 64:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    private extractAudioData(layerData: Layer): AudioLayerData {
      const data = layerData.data as Partial<AudioLayerData> | undefined;
      return {
> assetId: data?.assetId ?? null,
        level: data?.level ?? createAnimatableProperty("Level", 0, "number"),
        muted: data?.muted ?? false,
        solo: data?.solo ?? false,
```

---

#### Pattern: `Optional Chaining` at line 65:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const data = layerData.data as Partial<AudioLayerData> | undefined;
      return {
        assetId: data?.assetId ?? null,
> level: data?.level ?? createAnimatableProperty("Level", 0, "number"),
        muted: data?.muted ?? false,
        solo: data?.solo ?? false,
        pan: data?.pan ?? createAnimatableProperty("Pan", 0, "number"),
```

---

#### Pattern: `Optional Chaining` at line 66:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      return {
        assetId: data?.assetId ?? null,
        level: data?.level ?? createAnimatableProperty("Level", 0, "number"),
> muted: data?.muted ?? false,
        solo: data?.solo ?? false,
        pan: data?.pan ?? createAnimatableProperty("Pan", 0, "number"),
        loop: data?.loop ?? false,
```

---

#### Pattern: `Optional Chaining` at line 67:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        assetId: data?.assetId ?? null,
        level: data?.level ?? createAnimatableProperty("Level", 0, "number"),
        muted: data?.muted ?? false,
> solo: data?.solo ?? false,
        pan: data?.pan ?? createAnimatableProperty("Pan", 0, "number"),
        loop: data?.loop ?? false,
        startTime: data?.startTime ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 68:16

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        level: data?.level ?? createAnimatableProperty("Level", 0, "number"),
        muted: data?.muted ?? false,
        solo: data?.solo ?? false,
> pan: data?.pan ?? createAnimatableProperty("Pan", 0, "number"),
        loop: data?.loop ?? false,
        startTime: data?.startTime ?? 0,
        speed: data?.speed ?? 1,
```

---

#### Pattern: `Optional Chaining` at line 69:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        muted: data?.muted ?? false,
        solo: data?.solo ?? false,
        pan: data?.pan ?? createAnimatableProperty("Pan", 0, "number"),
> loop: data?.loop ?? false,
        startTime: data?.startTime ?? 0,
        speed: data?.speed ?? 1,
        showWaveform: data?.showWaveform ?? true,
```

---

#### Pattern: `Optional Chaining` at line 70:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        solo: data?.solo ?? false,
        pan: data?.pan ?? createAnimatableProperty("Pan", 0, "number"),
        loop: data?.loop ?? false,
> startTime: data?.startTime ?? 0,
        speed: data?.speed ?? 1,
        showWaveform: data?.showWaveform ?? true,
        waveformColor: data?.waveformColor ?? "#4a90d9",
```

---

#### Pattern: `Optional Chaining` at line 71:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        pan: data?.pan ?? createAnimatableProperty("Pan", 0, "number"),
        loop: data?.loop ?? false,
        startTime: data?.startTime ?? 0,
> speed: data?.speed ?? 1,
        showWaveform: data?.showWaveform ?? true,
        waveformColor: data?.waveformColor ?? "#4a90d9",
        exposeFeatures: data?.exposeFeatures ?? false,
```

---

#### Pattern: `Optional Chaining` at line 72:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        loop: data?.loop ?? false,
        startTime: data?.startTime ?? 0,
        speed: data?.speed ?? 1,
> showWaveform: data?.showWaveform ?? true,
        waveformColor: data?.waveformColor ?? "#4a90d9",
        exposeFeatures: data?.exposeFeatures ?? false,
      };
```

---

#### Pattern: `Optional Chaining` at line 73:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        startTime: data?.startTime ?? 0,
        speed: data?.speed ?? 1,
        showWaveform: data?.showWaveform ?? true,
> waveformColor: data?.waveformColor ?? "#4a90d9",
        exposeFeatures: data?.exposeFeatures ?? false,
      };
    }
```

---

#### Pattern: `Optional Chaining` at line 74:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        speed: data?.speed ?? 1,
        showWaveform: data?.showWaveform ?? true,
        waveformColor: data?.waveformColor ?? "#4a90d9",
> exposeFeatures: data?.exposeFeatures ?? false,
      };
    }
  
```

---

#### Pattern: `: void` at line 82:27

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Create a visual indicator for the audio layer in the viewport
     * (speaker icon or waveform representation)
     */
> private createIconMesh(): void {
      // Create a simple speaker icon geometry
      this.iconGroup = new THREE.Group();
  
```

---

#### Pattern: `: void` at line 130:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // ABSTRACT IMPLEMENTATIONS
    // ============================================================================
  
> protected onEvaluateFrame(frame: number): void {
      // Evaluate animated audio properties
      if (this.audioData.level) {
        const _level = interpolateProperty(
```

---

#### Pattern: `: void` at line 154:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      // but visible in editor for selection/manipulation
    }
  
> protected onUpdate(properties: Partial<Layer>): void {
      const data = properties.data as Partial<AudioLayerData> | undefined;
  
      if (data) {
```

---

#### Pattern: `: void` at line 162:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> protected onDispose(): void {
      // Stop and clean up audio playback
      if (this.playbackNodes) {
        this.stopPlayback();
```

---

#### Pattern: `isFinite()` at line 200:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    getAudioTimeForFrame(frame: number, fps: number): number {
      // Validate fps (0/NaN would cause division by zero or NaN propagation)
> const validFps = Number.isFinite(fps) && fps > 0 ? fps : 30;
      const validFrame = Number.isFinite(frame) ? frame : 0;
      const layerTime = validFrame / validFps;
      // Validate speed (NaN would corrupt audio time calculation)
```

---

#### Pattern: `isFinite()` at line 201:31

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    getAudioTimeForFrame(frame: number, fps: number): number {
      // Validate fps (0/NaN would cause division by zero or NaN propagation)
      const validFps = Number.isFinite(fps) && fps > 0 ? fps : 30;
> const validFrame = Number.isFinite(frame) ? frame : 0;
      const layerTime = validFrame / validFps;
      // Validate speed (NaN would corrupt audio time calculation)
      const validSpeed = Number.isFinite(this.audioData.speed)
```

---

#### Pattern: `isFinite()` at line 204:31

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const validFrame = Number.isFinite(frame) ? frame : 0;
      const layerTime = validFrame / validFps;
      // Validate speed (NaN would corrupt audio time calculation)
> const validSpeed = Number.isFinite(this.audioData.speed)
        ? this.audioData.speed
        : 1;
      const validStartTime = Number.isFinite(this.audioData.startTime)
```

---

#### Pattern: `isFinite()` at line 207:35

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const validSpeed = Number.isFinite(this.audioData.speed)
        ? this.audioData.speed
        : 1;
> const validStartTime = Number.isFinite(this.audioData.startTime)
        ? this.audioData.startTime
        : 0;
      const audioTime = (layerTime - validStartTime) * validSpeed;
```

---

#### Pattern: `Optional Chaining` at line 227:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      if (this.audioData.loop) return true;
  
      // Check against audio duration if we have a buffer
> if (this.playbackNodes?.buffer) {
        return audioTime < this.playbackNodes.buffer.duration;
      }
  
```

---

#### Pattern: `: void` at line 241:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Initialize playback nodes with an AudioBuffer
     */
> initializePlayback(buffer: AudioBuffer): void {
      const context = AudioLayer.getAudioContext();
  
      // Create gain and pan nodes
```

---

#### Pattern: `Optional Chaining` at line 264:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      };
  
      // Apply initial level
> this.updateGain(this.audioData.level?.value ?? 0);
      this.updatePan(this.audioData.pan?.value ?? 0);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 265:38

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Apply initial level
      this.updateGain(this.audioData.level?.value ?? 0);
> this.updatePan(this.audioData.pan?.value ?? 0);
    }
  
    /**
```

---

#### Pattern: `: void` at line 271:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Start playback from a specific frame
     */
> startPlayback(frame: number, fps: number): void {
      if (!this.playbackNodes || !this.playbackNodes.buffer) return;
      if (this.audioData.muted) return;
  
```

---

#### Pattern: `: void` at line 327:17

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Stop playback
     */
> stopPlayback(): void {
      if (!this.playbackNodes || !this.playbackNodes.source) return;
  
      try {
```

---

#### Pattern: `Optional Chaining` at line 345:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Check if currently playing
     */
    get isPlaying(): boolean {
> return this.playbackNodes?.isPlaying ?? false;
    }
  
    /**
```

---

#### Pattern: `: void` at line 352:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Update gain (level) - dB to linear conversion
     * Level is in dB: 0 = unity gain, -Infinity = silence, +6 = ~2x louder
     */
> updateGain(levelDb: number): void {
      if (!this.playbackNodes) return;
  
      // Validate levelDb (NaN bypasses Math.max/min and corrupts Web Audio)
```

---

#### Pattern: `isFinite()` at line 356:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      if (!this.playbackNodes) return;
  
      // Validate levelDb (NaN bypasses Math.max/min and corrupts Web Audio)
> const validDb = Number.isFinite(levelDb) ? levelDb : 0;
  
      // Convert dB to linear: linear = 10^(dB/20)
      // Clamp to reasonable range: -60dB to +12dB
```

---

#### Pattern: `: void` at line 373:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update stereo pan (-1 = left, 0 = center, +1 = right)
     */
> updatePan(pan: number): void {
      if (!this.playbackNodes) return;
  
      // Validate pan (NaN bypasses Math.max/min and corrupts Web Audio)
```

---

#### Pattern: `isFinite()` at line 377:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      if (!this.playbackNodes) return;
  
      // Validate pan (NaN bypasses Math.max/min and corrupts Web Audio)
> const validPan = Number.isFinite(pan) ? pan : 0;
  
      // Clamp pan to valid range
      const clampedPan = Math.max(-1, Math.min(1, validPan));
```

---

#### Pattern: `: void` at line 391:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Scrub audio at a specific frame (play short snippet)
     */
> scrubAtFrame(frame: number, fps: number): void {
      if (!this.playbackNodes || !this.playbackNodes.buffer) return;
      if (this.audioData.muted) return;
  
```

---

#### Pattern: `: void` at line 430:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update playback parameters during playback (called each frame)
     */
> updatePlaybackForFrame(frame: number): void {
      if (!this.playbackNodes) return;
  
      // Interpolate and apply level
```

---

#### Pattern: `Optional Chaining` at line 458:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Get the AudioBuffer (if loaded)
     */
    getAudioBuffer(): AudioBuffer | null {
> return this.playbackNodes?.buffer ?? null;
    }
  
    /**
```

---

### `engine/layers/BaseLayer.ts` (87 pattern(s))

#### Pattern: `: void` at line 243:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Initialize blend mode after subclass creates mesh
     * Subclasses should call this at the end of their constructor
     */
> protected initializeBlendMode(): void {
      if (this.blendMode !== "normal") {
        this.applyBlendMode(this.blendMode);
      }
```

---

#### Pattern: `: void` at line 267:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Evaluate all animated properties at the given frame
     */
> evaluateFrame(frame: number): void {
      // Check if layer is visible at this frame
      const inRange = frame >= this.inPoint && frame <= this.outPoint;
      this.group.visible = this.visible && inRange;
```

---

#### Pattern: `: void` at line 298:45

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Evaluate and apply transform at the given frame
     */
> protected evaluateTransform(frame: number): void {
      // Position (apply driven values if present, then audio reactive)
      const basePosition = this.evaluator.evaluate(
        this.transform.position,
```

---

#### Pattern: `: void` at line 418:5

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      rotation: { x: number; y: number; z: number };
      scale: { x: number; y: number; z: number };
      origin: { x: number; y: number; z: number };
> }): void {
      const { position, rotation, scale, origin } = transform;
  
      // Validate all transform values (NaN causes Three.js rendering issues)
```

---

#### Pattern: `isFinite()` at line 422:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const { position, rotation, scale, origin } = transform;
  
      // Validate all transform values (NaN causes Three.js rendering issues)
> const posX = Number.isFinite(position.x) ? position.x : 0;
      const posY = Number.isFinite(position.y) ? position.y : 0;
      const posZ = Number.isFinite(position.z) ? position.z : 0;
      const originX = Number.isFinite(origin.x) ? origin.x : 0;
```

---

#### Pattern: `isFinite()` at line 423:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      // Validate all transform values (NaN causes Three.js rendering issues)
      const posX = Number.isFinite(position.x) ? position.x : 0;
> const posY = Number.isFinite(position.y) ? position.y : 0;
      const posZ = Number.isFinite(position.z) ? position.z : 0;
      const originX = Number.isFinite(origin.x) ? origin.x : 0;
      const originY = Number.isFinite(origin.y) ? origin.y : 0;
```

---

#### Pattern: `isFinite()` at line 424:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // Validate all transform values (NaN causes Three.js rendering issues)
      const posX = Number.isFinite(position.x) ? position.x : 0;
      const posY = Number.isFinite(position.y) ? position.y : 0;
> const posZ = Number.isFinite(position.z) ? position.z : 0;
      const originX = Number.isFinite(origin.x) ? origin.x : 0;
      const originY = Number.isFinite(origin.y) ? origin.y : 0;
      const originZ = Number.isFinite(origin.z) ? origin.z : 0;
```

---

#### Pattern: `isFinite()` at line 425:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const posX = Number.isFinite(position.x) ? position.x : 0;
      const posY = Number.isFinite(position.y) ? position.y : 0;
      const posZ = Number.isFinite(position.z) ? position.z : 0;
> const originX = Number.isFinite(origin.x) ? origin.x : 0;
      const originY = Number.isFinite(origin.y) ? origin.y : 0;
      const originZ = Number.isFinite(origin.z) ? origin.z : 0;
      const rotX = Number.isFinite(rotation.x) ? rotation.x : 0;
```

---

#### Pattern: `isFinite()` at line 426:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const posY = Number.isFinite(position.y) ? position.y : 0;
      const posZ = Number.isFinite(position.z) ? position.z : 0;
      const originX = Number.isFinite(origin.x) ? origin.x : 0;
> const originY = Number.isFinite(origin.y) ? origin.y : 0;
      const originZ = Number.isFinite(origin.z) ? origin.z : 0;
      const rotX = Number.isFinite(rotation.x) ? rotation.x : 0;
      const rotY = Number.isFinite(rotation.y) ? rotation.y : 0;
```

---

#### Pattern: `isFinite()` at line 427:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const posZ = Number.isFinite(position.z) ? position.z : 0;
      const originX = Number.isFinite(origin.x) ? origin.x : 0;
      const originY = Number.isFinite(origin.y) ? origin.y : 0;
> const originZ = Number.isFinite(origin.z) ? origin.z : 0;
      const rotX = Number.isFinite(rotation.x) ? rotation.x : 0;
      const rotY = Number.isFinite(rotation.y) ? rotation.y : 0;
      const rotZ = Number.isFinite(rotation.z) ? rotation.z : 0;
```

---

#### Pattern: `isFinite()` at line 428:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const originX = Number.isFinite(origin.x) ? origin.x : 0;
      const originY = Number.isFinite(origin.y) ? origin.y : 0;
      const originZ = Number.isFinite(origin.z) ? origin.z : 0;
> const rotX = Number.isFinite(rotation.x) ? rotation.x : 0;
      const rotY = Number.isFinite(rotation.y) ? rotation.y : 0;
      const rotZ = Number.isFinite(rotation.z) ? rotation.z : 0;
      // Scale defaults to 1 (not 0) to prevent invisible layers
```

---

#### Pattern: `isFinite()` at line 429:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const originY = Number.isFinite(origin.y) ? origin.y : 0;
      const originZ = Number.isFinite(origin.z) ? origin.z : 0;
      const rotX = Number.isFinite(rotation.x) ? rotation.x : 0;
> const rotY = Number.isFinite(rotation.y) ? rotation.y : 0;
      const rotZ = Number.isFinite(rotation.z) ? rotation.z : 0;
      // Scale defaults to 1 (not 0) to prevent invisible layers
      const scaleX = Number.isFinite(scale.x) ? scale.x : 1;
```

---

#### Pattern: `isFinite()` at line 430:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const originZ = Number.isFinite(origin.z) ? origin.z : 0;
      const rotX = Number.isFinite(rotation.x) ? rotation.x : 0;
      const rotY = Number.isFinite(rotation.y) ? rotation.y : 0;
> const rotZ = Number.isFinite(rotation.z) ? rotation.z : 0;
      // Scale defaults to 1 (not 0) to prevent invisible layers
      const scaleX = Number.isFinite(scale.x) ? scale.x : 1;
      const scaleY = Number.isFinite(scale.y) ? scale.y : 1;
```

---

#### Pattern: `isFinite()` at line 432:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const rotY = Number.isFinite(rotation.y) ? rotation.y : 0;
      const rotZ = Number.isFinite(rotation.z) ? rotation.z : 0;
      // Scale defaults to 1 (not 0) to prevent invisible layers
> const scaleX = Number.isFinite(scale.x) ? scale.x : 1;
      const scaleY = Number.isFinite(scale.y) ? scale.y : 1;
      const scaleZ = Number.isFinite(scale.z) ? scale.z : 1;
  
```

---

#### Pattern: `isFinite()` at line 433:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const rotZ = Number.isFinite(rotation.z) ? rotation.z : 0;
      // Scale defaults to 1 (not 0) to prevent invisible layers
      const scaleX = Number.isFinite(scale.x) ? scale.x : 1;
> const scaleY = Number.isFinite(scale.y) ? scale.y : 1;
      const scaleZ = Number.isFinite(scale.z) ? scale.z : 1;
  
      // Position (with origin offset, formerly anchorPoint)
```

---

#### Pattern: `isFinite()` at line 434:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // Scale defaults to 1 (not 0) to prevent invisible layers
      const scaleX = Number.isFinite(scale.x) ? scale.x : 1;
      const scaleY = Number.isFinite(scale.y) ? scale.y : 1;
> const scaleZ = Number.isFinite(scale.z) ? scale.z : 1;
  
      // Position (with origin offset, formerly anchorPoint)
      // In screen coordinates: Y is down, so negate Y
```

---

#### Pattern: `: void` at line 468:70

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * @param camera - The camera to orient toward (for 'toCamera' mode)
     * @param pathTangent - Optional path tangent vector (for 'alongPath' mode)
     */
> applyAutoOrient(camera?: THREE.Camera, pathTangent?: THREE.Vector3): void {
      if (this.autoOrient === "off") {
        return;
      }
```

---

#### Pattern: `: void` at line 530:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set the auto-orient mode
     */
> setAutoOrient(mode: AutoOrientMode): void {
      this.autoOrient = mode;
    }
  
```

---

#### Pattern: `: void` at line 537:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Apply opacity to layer materials
     */
> protected applyOpacity(opacity: number): void {
      // Validate opacity (NaN bypasses Math.max/min clamp)
      const validOpacity = Number.isFinite(opacity) ? opacity : 100;
      const normalizedOpacity = Math.max(0, Math.min(100, validOpacity)) / 100;
```

---

#### Pattern: `isFinite()` at line 539:33

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    protected applyOpacity(opacity: number): void {
      // Validate opacity (NaN bypasses Math.max/min clamp)
> const validOpacity = Number.isFinite(opacity) ? opacity : 100;
      const normalizedOpacity = Math.max(0, Math.min(100, validOpacity)) / 100;
  
      this.group.traverse((child) => {
```

---

#### Pattern: `: void` at line 575:71

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Function type detected

**Code:**
```typescript
     *
     * @param state - Pre-evaluated layer state from MotionEngine
     */
> applyEvaluatedState(state: import("../MotionEngine").EvaluatedLayer): void {
      // Set visibility
      this.group.visible = state.visible;
  
```

---

#### Pattern: `: void` at line 668:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     */
    protected onApplyEvaluatedState(
      _state: import("../MotionEngine").EvaluatedLayer,
> ): void {
      // Default: fall back to legacy evaluation for backwards compatibility
      // Subclasses should override this to use evaluated state directly
      // NOTE: This is a transitional measure - eventually all layers should
```

---

#### Pattern: `: void` at line 682:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update layer properties
     */
> update(properties: Partial<Layer>): void {
      if (properties.visible !== undefined) {
        this.visible = properties.visible;
        this.group.visible = this.visible;
```

---

#### Pattern: `: void` at line 771:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set layer visibility
     */
> setVisible(visible: boolean): void {
      this.visible = visible;
      this.group.visible = visible;
    }
```

---

#### Pattern: `: void` at line 800:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * These override the base animated values during transform evaluation
     * @param values Map of property path to driven value
     */
> setDrivenValues(values: Map<string, number>): void {
      this.drivenValues = values;
    }
  
```

---

#### Pattern: `: void` at line 807:22

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear driven values
     */
> clearDrivenValues(): void {
      this.drivenValues.clear();
    }
  
```

---

#### Pattern: `isFinite()` at line 817:45

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    protected getDrivenOrBase(propertyPath: string, baseValue: number): number {
      const drivenValue = this.drivenValues.get(propertyPath);
      // Validate driven value (NaN from expressions would corrupt transform pipeline)
> if (drivenValue !== undefined && Number.isFinite(drivenValue)) {
        return drivenValue;
      }
      // Validate base value as final fallback
```

---

#### Pattern: `isFinite()` at line 821:19

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        return drivenValue;
      }
      // Validate base value as final fallback
> return Number.isFinite(baseValue) ? baseValue : 0;
    }
  
    // ============================================================================
```

---

#### Pattern: `: void` at line 833:63

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * These are applied additively/multiplicatively to animated properties
     * @param values Map of target parameter to audio-derived value (0-1 range typically)
     */
> setAudioReactiveValues(values: Map<TargetParameter, number>): void {
      this.audioReactiveValues = values;
    }
  
```

---

#### Pattern: `: void` at line 840:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear audio reactive values
     */
> clearAudioReactiveValues(): void {
      this.audioReactiveValues.clear();
    }
  
```

---

#### Pattern: `isFinite()` at line 863:30

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      range: { min?: number; max?: number } = {},
    ): number {
      // Validate baseValue (NaN propagates through all calculations)
> const validBase = Number.isFinite(baseValue) ? baseValue : 0;
  
      const audioValue = this.getAudioReactiveValue(target);
      // Validate audioValue (could be NaN from audio analysis)
```

---

#### Pattern: `isFinite()` at line 867:31

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      const audioValue = this.getAudioReactiveValue(target);
      // Validate audioValue (could be NaN from audio analysis)
> const validAudio = Number.isFinite(audioValue) ? audioValue : 0;
      if (validAudio === 0) return validBase;
  
      let result: number;
```

---

#### Pattern: `isFinite()` at line 887:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      }
  
      // Final NaN check (defensive, shouldn't happen after validation)
> if (!Number.isFinite(result)) result = validBase;
  
      // Clamp to range if specified (using validated range values)
      const validMin = Number.isFinite(range.min) ? range.min : undefined;
```

---

#### Pattern: `isFinite()` at line 890:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      if (!Number.isFinite(result)) result = validBase;
  
      // Clamp to range if specified (using validated range values)
> const validMin = Number.isFinite(range.min) ? range.min : undefined;
      const validMax = Number.isFinite(range.max) ? range.max : undefined;
      if (validMin !== undefined) result = Math.max(validMin, result);
      if (validMax !== undefined) result = Math.min(validMax, result);
```

---

#### Pattern: `isFinite()` at line 891:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      // Clamp to range if specified (using validated range values)
      const validMin = Number.isFinite(range.min) ? range.min : undefined;
> const validMax = Number.isFinite(range.max) ? range.max : undefined;
      if (validMin !== undefined) result = Math.max(validMin, result);
      if (validMax !== undefined) result = Math.min(validMax, result);
  
```

---

#### Pattern: `: void` at line 906:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
     * Update the effects stack for this layer
     * @param effects - Array of effect instances
     */
> setEffects(effects: EffectInstance[]): void {
      this.effects = effects;
      this.effectsDirty = true;
    }
```

---

#### Pattern: `: void` at line 933:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set layer-level effects enabled state (fx switch)
     */
> setEffectsEnabled(enabled: boolean): void {
      this.effectsEnabled = enabled;
    }
  
```

---

#### Pattern: `Optional Chaining` at line 949:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Returns true if the layer has layer styles with at least one style type enabled
     */
    hasEnabledLayerStyles(): boolean {
> if (!this.layerStyles?.enabled) {
        return false;
      }
      // Check if any individual style is enabled
```

---

#### Pattern: `Optional Chaining` at line 954:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
      // Check if any individual style is enabled
      return !!(
> this.layerStyles.dropShadow?.enabled ||
        this.layerStyles.innerShadow?.enabled ||
        this.layerStyles.outerGlow?.enabled ||
        this.layerStyles.innerGlow?.enabled ||
```

---

#### Pattern: `Optional Chaining` at line 955:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Check if any individual style is enabled
      return !!(
        this.layerStyles.dropShadow?.enabled ||
> this.layerStyles.innerShadow?.enabled ||
        this.layerStyles.outerGlow?.enabled ||
        this.layerStyles.innerGlow?.enabled ||
        this.layerStyles.bevelEmboss?.enabled ||
```

---

#### Pattern: `Optional Chaining` at line 956:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      return !!(
        this.layerStyles.dropShadow?.enabled ||
        this.layerStyles.innerShadow?.enabled ||
> this.layerStyles.outerGlow?.enabled ||
        this.layerStyles.innerGlow?.enabled ||
        this.layerStyles.bevelEmboss?.enabled ||
        this.layerStyles.satin?.enabled ||
```

---

#### Pattern: `Optional Chaining` at line 957:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        this.layerStyles.dropShadow?.enabled ||
        this.layerStyles.innerShadow?.enabled ||
        this.layerStyles.outerGlow?.enabled ||
> this.layerStyles.innerGlow?.enabled ||
        this.layerStyles.bevelEmboss?.enabled ||
        this.layerStyles.satin?.enabled ||
        this.layerStyles.colorOverlay?.enabled ||
```

---

#### Pattern: `Optional Chaining` at line 958:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        this.layerStyles.innerShadow?.enabled ||
        this.layerStyles.outerGlow?.enabled ||
        this.layerStyles.innerGlow?.enabled ||
> this.layerStyles.bevelEmboss?.enabled ||
        this.layerStyles.satin?.enabled ||
        this.layerStyles.colorOverlay?.enabled ||
        this.layerStyles.gradientOverlay?.enabled ||
```

---

#### Pattern: `Optional Chaining` at line 959:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        this.layerStyles.outerGlow?.enabled ||
        this.layerStyles.innerGlow?.enabled ||
        this.layerStyles.bevelEmboss?.enabled ||
> this.layerStyles.satin?.enabled ||
        this.layerStyles.colorOverlay?.enabled ||
        this.layerStyles.gradientOverlay?.enabled ||
        this.layerStyles.stroke?.enabled
```

---

#### Pattern: `Optional Chaining` at line 960:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        this.layerStyles.innerGlow?.enabled ||
        this.layerStyles.bevelEmboss?.enabled ||
        this.layerStyles.satin?.enabled ||
> this.layerStyles.colorOverlay?.enabled ||
        this.layerStyles.gradientOverlay?.enabled ||
        this.layerStyles.stroke?.enabled
      );
```

---

#### Pattern: `Optional Chaining` at line 961:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        this.layerStyles.bevelEmboss?.enabled ||
        this.layerStyles.satin?.enabled ||
        this.layerStyles.colorOverlay?.enabled ||
> this.layerStyles.gradientOverlay?.enabled ||
        this.layerStyles.stroke?.enabled
      );
    }
```

---

#### Pattern: `Optional Chaining` at line 962:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        this.layerStyles.satin?.enabled ||
        this.layerStyles.colorOverlay?.enabled ||
        this.layerStyles.gradientOverlay?.enabled ||
> this.layerStyles.stroke?.enabled
      );
    }
  
```

---

#### Pattern: `: void` at line 1084:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set layer styles
     */
> setLayerStyles(styles: LayerStyles | undefined): void {
      this.layerStyles = styles;
      this.effectsDirty = true;
    }
```

---

#### Pattern: `: void` at line 1092:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set layer quality mode (draft = faster preview, best = full quality)
     */
> setQuality(quality: "draft" | "best"): void {
      this.quality = quality;
    }
  
```

---

#### Pattern: `Optional Chaining` at line 1118:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * @returns Processed canvas or null if no processing needed
     */
    protected processEffects(frame: number): HTMLCanvasElement | null {
> const hasStyles = this.layerStyles?.enabled && this.hasEnabledLayerStyles();
      const hasEffects = this.hasEnabledEffects();
      const hasColorMods = this.hasColorModifiers(); // Check for audio-reactive color/blur
  
```

---

#### Pattern: `: void` at line 1235:71

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Override in subclasses to update their texture from the processed canvas
     * @param processedCanvas - Canvas with effects applied
     */
> protected applyProcessedEffects(_processedCanvas: HTMLCanvasElement): void {
      // Default: no-op
      // Subclasses should override to update their material/texture
    }
```

---

#### Pattern: `: void` at line 1254:73

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Initialize motion blur processor with layer dimensions
     */
> protected initializeMotionBlurProcessor(width: number, height: number): void {
      if (!this.motionBlurProcessor) {
        const settings = this.motionBlurSettings
          ? {
```

---

#### Pattern: `Optional Chaining` at line 1275:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        );
      } else if (
        this.motionBlurProcessor.getSettings().shutterAngle !==
> (this.motionBlurSettings?.shutterAngle ?? 180)
      ) {
        // Update settings if changed
        this.motionBlurProcessor.setSettings({
```

---

#### Pattern: `Optional Chaining` at line 1279:46

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      ) {
        // Update settings if changed
        this.motionBlurProcessor.setSettings({
> shutterAngle: this.motionBlurSettings?.shutterAngle ?? 180,
          shutterPhase: this.motionBlurSettings?.shutterPhase ?? -90,
          samplesPerFrame: this.motionBlurSettings?.samplesPerFrame ?? 16,
        });
```

---

#### Pattern: `Optional Chaining` at line 1280:46

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Update settings if changed
        this.motionBlurProcessor.setSettings({
          shutterAngle: this.motionBlurSettings?.shutterAngle ?? 180,
> shutterPhase: this.motionBlurSettings?.shutterPhase ?? -90,
          samplesPerFrame: this.motionBlurSettings?.samplesPerFrame ?? 16,
        });
      }
```

---

#### Pattern: `Optional Chaining` at line 1281:49

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        this.motionBlurProcessor.setSettings({
          shutterAngle: this.motionBlurSettings?.shutterAngle ?? 180,
          shutterPhase: this.motionBlurSettings?.shutterPhase ?? -90,
> samplesPerFrame: this.motionBlurSettings?.samplesPerFrame ?? 16,
        });
      }
    }
```

---

#### Pattern: `: void` at line 1398:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set motion blur enabled state
     */
> setMotionBlur(enabled: boolean): void {
      this.motionBlur = enabled;
      this.layerData.motionBlur = enabled;
      if (!enabled) {
```

---

#### Pattern: `Optional Chaining` at line 1402:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.motionBlur = enabled;
      this.layerData.motionBlur = enabled;
      if (!enabled) {
> this.motionBlurProcessor?.clearBuffer();
        this.prevTransform = null;
      }
    }
```

---

#### Pattern: `: void` at line 1410:68

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update motion blur settings
     */
> setMotionBlurSettings(settings: Partial<LayerMotionBlurSettings>): void {
      if (!this.motionBlurSettings) {
        this.motionBlurSettings = {
          type: "standard",
```

---

#### Pattern: `: void` at line 1460:51

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set the matte canvas (called by LayerManager when compositing)
     * @param canvas - The rendered canvas of the matte layer
     */
> setMatteCanvas(canvas: HTMLCanvasElement | null): void {
      this.matteCanvas = canvas;
    }
  
```

---

#### Pattern: `: void` at line 1465:56

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  
    /** @deprecated Use setMatteCanvas() instead */
> setTrackMatteCanvas(canvas: HTMLCanvasElement | null): void {
      this.setMatteCanvas(canvas);
    }
  
```

---

#### Pattern: `: void` at line 1516:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
    /**
     * Update masks
     */
> setMasks(masks: LayerMask[]): void {
      this.masks = masks;
    }
  
```

---

#### Pattern: `: void` at line 1554:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Called after frame evaluation to apply effects AND masks
     * This should be called by subclasses after their content is rendered
     */
> protected evaluateEffects(frame: number): void {
      const hasEffects = this.hasEnabledEffects();
      const hasMasks = this.hasMasks();
      const hasTrackMatte = this.hasTrackMatte();
```

---

#### Pattern: `: void` at line 1598:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     */
    protected applyEvaluatedEffects(
      evaluatedEffects: readonly import("../MotionEngine").EvaluatedEffect[],
> ): void {
      if (evaluatedEffects.length === 0 || !this.hasEnabledEffects()) {
        return;
      }
```

---

#### Pattern: `: void` at line 1666:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set parent layer reference
     */
> setParent(parent: BaseLayer | null): void {
      // Remove from old parent's Three.js hierarchy
      if (this.parentLayer) {
        this.parentLayer.getObject().remove(this.group);
```

---

#### Pattern: `: void` at line 1705:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set composition FPS for time-based effects (Echo, Posterize Time, etc.)
     * Called by LayerManager when composition settings change.
     */
> setCompositionFps(fps: number): void {
      // Validate fps (NaN/0 causes division errors in time-based effects)
      this.compositionFps = Number.isFinite(fps) && fps > 0 ? fps : 16;
    }
```

---

#### Pattern: `isFinite()` at line 1707:34

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    setCompositionFps(fps: number): void {
      // Validate fps (NaN/0 causes division errors in time-based effects)
> this.compositionFps = Number.isFinite(fps) && fps > 0 ? fps : 16;
    }
  
    // ============================================================================
```

---

#### Pattern: `: void` at line 1718:41

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Apply blend mode to layer materials
     * Delegates to blendModeUtils for actual blend configuration
     */
> protected applyBlendMode(mode: string): void {
      applyBlendModeToGroup(this.group, mode);
    }
  
```

---

#### Pattern: `: void` at line 1730:60

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Compute motion path from position keyframes
     * Samples position at each frame from inPoint to outPoint
     */
> computeMotionPath(startFrame?: number, endFrame?: number): void {
      // Validate frame bounds (NaN/Infinity would cause infinite loop or no iterations)
      const rawStart = startFrame ?? this.inPoint;
      const rawEnd = endFrame ?? this.outPoint;
```

---

#### Pattern: `isFinite()` at line 1734:26

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // Validate frame bounds (NaN/Infinity would cause infinite loop or no iterations)
      const rawStart = startFrame ?? this.inPoint;
      const rawEnd = endFrame ?? this.outPoint;
> const start = Number.isFinite(rawStart)
        ? Math.max(0, Math.floor(rawStart))
        : 0;
      const end = Number.isFinite(rawEnd) ? Math.floor(rawEnd) : start;
```

---

#### Pattern: `isFinite()` at line 1737:24

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const start = Number.isFinite(rawStart)
        ? Math.max(0, Math.floor(rawStart))
        : 0;
> const end = Number.isFinite(rawEnd) ? Math.floor(rawEnd) : start;
  
      // Cap motion path length to prevent memory exhaustion (max 10,000 points)
      const MAX_PATH_POINTS = 10000;
```

---

#### Pattern: `isFinite()` at line 1750:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const pos = this.evaluator.evaluate(this.transform.position, frame);
        // Convert to Three.js coordinates (Y is flipped)
        // Validate position values to prevent NaN in Three.js
> const validX = Number.isFinite(pos.x) ? pos.x : 0;
        const validY = Number.isFinite(pos.y) ? pos.y : 0;
        const validZ = Number.isFinite(pos.z) ? pos.z : 0;
        this.motionPathPoints.push(new THREE.Vector3(validX, -validY, validZ));
```

---

#### Pattern: `isFinite()` at line 1751:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        // Convert to Three.js coordinates (Y is flipped)
        // Validate position values to prevent NaN in Three.js
        const validX = Number.isFinite(pos.x) ? pos.x : 0;
> const validY = Number.isFinite(pos.y) ? pos.y : 0;
        const validZ = Number.isFinite(pos.z) ? pos.z : 0;
        this.motionPathPoints.push(new THREE.Vector3(validX, -validY, validZ));
      }
```

---

#### Pattern: `isFinite()` at line 1752:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        // Validate position values to prevent NaN in Three.js
        const validX = Number.isFinite(pos.x) ? pos.x : 0;
        const validY = Number.isFinite(pos.y) ? pos.y : 0;
> const validZ = Number.isFinite(pos.z) ? pos.z : 0;
        this.motionPathPoints.push(new THREE.Vector3(validX, -validY, validZ));
      }
  
```

---

#### Pattern: `: void` at line 1763:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Rebuild the motion path line from computed points
     */
> private rebuildMotionPath(): void {
      // Dispose existing path
      if (this.motionPath) {
        this.group.remove(this.motionPath);
```

---

#### Pattern: `: void` at line 1819:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create markers at keyframe positions on the motion path
     */
> private createMotionPathMarkers(): void {
      this.motionPathMarkers = new THREE.Group();
      this.motionPathMarkers.name = `motion_path_markers_${this.id}`;
      this.motionPathMarkers.renderOrder = 999;
```

---

#### Pattern: `: void` at line 1854:41

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set motion path visibility
     */
> setMotionPathVisible(visible: boolean): void {
      this.showMotionPath = visible;
  
      if (visible && this.motionPathPoints.length === 0) {
```

---

#### Pattern: `Optional Chaining` at line 1881:46

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Check if layer has position animation
     */
    hasPositionAnimation(): boolean {
> return (this.transform.position.keyframes?.length ?? 0) > 0;
    }
  
    // ============================================================================
```

---

#### Pattern: `: void` at line 1891:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create 3D axis gizmo at anchor point
     */
> createAxisGizmo(size: number = 50): void {
      // Dispose existing gizmo
      if (this.axisGizmo) {
        this.group.remove(this.axisGizmo);
```

---

#### Pattern: `Optional Chaining` at line 1954:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Position at origin (formerly anchor point)
      const originProp = this.transform.origin || this.transform.anchorPoint;
> const originVal = originProp?.value || { x: 0, y: 0, z: 0 };
      this.axisGizmo.position.set(-originVal.x, originVal.y, -(originVal.z ?? 0));
  
      this.axisGizmo.visible = this.showAxisGizmo;
```

---

#### Pattern: `: void` at line 1964:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Add axis labels (X, Y, Z)
     */
> private addAxisLabels(size: number): void {
      if (!this.axisGizmo) return;
  
      // Create small spheres at axis ends as labels
```

---

#### Pattern: `: void` at line 2000:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set axis gizmo visibility
     */
> setAxisGizmoVisible(visible: boolean): void {
      this.showAxisGizmo = visible;
  
      if (visible && !this.axisGizmo) {
```

---

#### Pattern: `: void` at line 2022:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update axis gizmo position to match origin
     */
> updateAxisGizmoPosition(): void {
      if (!this.axisGizmo) return;
  
      const originProp = this.transform.origin || this.transform.anchorPoint;
```

---

#### Pattern: `Optional Chaining` at line 2026:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      if (!this.axisGizmo) return;
  
      const originProp = this.transform.origin || this.transform.anchorPoint;
> const originVal = originProp?.value || { x: 0, y: 0, z: 0 };
      this.axisGizmo.position.set(-originVal.x, originVal.y, -(originVal.z ?? 0));
    }
  
```

---

#### Pattern: `: void` at line 2060:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose layer resources
     */
> dispose(): void {
      // Dispose motion path
      if (this.motionPath) {
        this.motionPath.geometry.dispose();
```

---

#### Pattern: `Optional Chaining` at line 2097:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Dispose all meshes in the group
      this.group.traverse((child) => {
        if (child instanceof THREE.Mesh) {
> child.geometry?.dispose();
  
          if (Array.isArray(child.material)) {
            child.material.forEach((m) => m.dispose());
```

---

#### Pattern: `: void` at line 2117:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Override in subclasses for type-specific cleanup
     */
> protected onDispose(): void {
      // Default: no additional cleanup
    }
  }
```

---

### `engine/layers/CameraLayer.ts` (36 pattern(s))

#### Pattern: `Optional Chaining` at line 120:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const data = layerData.data as CameraLayerData | null;
  
      return {
> cameraId: data?.cameraId ?? "",
        isActiveCamera: data?.isActiveCamera ?? false,
        pathFollowing: data?.pathFollowing,
      };
```

---

#### Pattern: `Optional Chaining` at line 121:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      return {
        cameraId: data?.cameraId ?? "",
> isActiveCamera: data?.isActiveCamera ?? false,
        pathFollowing: data?.pathFollowing,
      };
    }
```

---

#### Pattern: `Optional Chaining` at line 122:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      return {
        cameraId: data?.cameraId ?? "",
        isActiveCamera: data?.isActiveCamera ?? false,
> pathFollowing: data?.pathFollowing,
      };
    }
  
```

---

#### Pattern: `: void` at line 133:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      getter: CameraGetter,
      updater: CameraUpdater,
      atFrameGetter?: CameraAtFrameGetter,
> ): void {
      this.cameraGetter = getter;
      this.cameraUpdater = updater;
      this.cameraAtFrameGetter = atFrameGetter;
```

---

#### Pattern: `: void` at line 142:59

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set the spline provider for path following
     */
> setSplineProvider(provider: CameraSplineProvider | null): void {
      this.splineProvider = provider;
    }
  
```

---

#### Pattern: `: void` at line 149:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set composition aspect ratio for frustum visualization
     */
> setCompositionAspect(aspect: number): void {
      // Validate aspect ratio (NaN/0 would corrupt frustum calculations)
      this.compositionAspect =
        Number.isFinite(aspect) && aspect > 0 ? aspect : 16 / 9;
```

---

#### Pattern: `isFinite()` at line 152:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    setCompositionAspect(aspect: number): void {
      // Validate aspect ratio (NaN/0 would corrupt frustum calculations)
      this.compositionAspect =
> Number.isFinite(aspect) && aspect > 0 ? aspect : 16 / 9;
    }
  
    /**
```

---

#### Pattern: `Optional Chaining` at line 166:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Check if path following is active
     */
    isFollowingPath(): boolean {
> return this.cameraData.pathFollowing?.enabled ?? false;
    }
  
    /**
```

---

#### Pattern: `: void` at line 172:21

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Reset auto-advance parameter (for deterministic scrubbing)
     */
> resetAutoAdvance(): void {
      this.autoAdvanceT = 0;
    }
  
```

---

#### Pattern: `: void` at line 183:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create camera wireframe indicator
     */
> private createWireframe(): void {
      this.wireframe = new THREE.Group();
      this.wireframe.name = `camera_wireframe_${this.id}`;
  
```

---

#### Pattern: `: void` at line 266:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create frustum visualization
     */
> private createFrustum(): void {
      const camera = this.getCamera();
      if (!camera) return;
  
```

---

#### Pattern: `isFinite()` at line 278:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // Calculate frustum dimensions based on camera properties
      // Validate all camera values (NaN would corrupt geometry calculations)
      const near =
> Number.isFinite(camera.nearClip) && camera.nearClip > 0
          ? camera.nearClip
          : 0.1;
      const rawFar = Number.isFinite(camera.farClip) ? camera.farClip : 1000;
```

---

#### Pattern: `isFinite()` at line 281:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        Number.isFinite(camera.nearClip) && camera.nearClip > 0
          ? camera.nearClip
          : 0.1;
> const rawFar = Number.isFinite(camera.farClip) ? camera.farClip : 1000;
      const far = Math.min(rawFar, 2000); // Cap for visualization
      const rawAngle = Number.isFinite(camera.angleOfView)
        ? camera.angleOfView
```

---

#### Pattern: `isFinite()` at line 283:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          : 0.1;
      const rawFar = Number.isFinite(camera.farClip) ? camera.farClip : 1000;
      const far = Math.min(rawFar, 2000); // Cap for visualization
> const rawAngle = Number.isFinite(camera.angleOfView)
        ? camera.angleOfView
        : 50;
      const fov = rawAngle * (Math.PI / 180);
```

---

#### Pattern: `: void` at line 355:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update wireframe color based on active state
     */
> private updateWireframeColor(): void {
      if (!this.wireframe) return;
  
      const color = this.cameraData.isActiveCamera ? 0x00aaff : 0xffaa00;
```

---

#### Pattern: `: void` at line 419:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set as active camera
     */
> setActiveCamera(active: boolean): void {
      this.cameraData.isActiveCamera = active;
      this.updateWireframeColor();
  
```

---

#### Pattern: `: void` at line 438:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set wireframe visibility
     */
> setWireframeVisible(visible: boolean): void {
      this.wireframeVisible = visible;
      if (this.wireframe) {
        this.wireframe.visible = visible;
```

---

#### Pattern: `: void` at line 448:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set frustum visibility
     */
> setFrustumVisible(visible: boolean): void {
      this.showFrustum = visible;
      if (this.frustumHelper) {
        this.frustumHelper.visible = visible;
```

---

#### Pattern: `: void` at line 459:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // FRAME EVALUATION
    // ============================================================================
  
> protected onEvaluateFrame(frame: number): void {
      // Track current frame for interpolation
      this.currentFrame = frame;
  
```

---

#### Pattern: `Optional Chaining` at line 472:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Check for path following
      const pathFollowing = this.cameraData.pathFollowing;
      const usePathFollowing =
> pathFollowing?.enabled &&
        pathFollowing.pathLayerId &&
        this.splineProvider;
  
```

---

#### Pattern: `: void` at line 536:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  
    protected override onApplyEvaluatedState(
      state: import("../MotionEngine").EvaluatedLayer,
> ): void {
      const props = state.properties;
  
      // Apply evaluated path parameter if using path following
```

---

#### Pattern: `Optional Chaining` at line 542:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Apply evaluated path parameter if using path following
      if (
        props.pathParameter !== undefined &&
> this.cameraData.pathFollowing?.enabled
      ) {
        // Update the parameter value directly for the next evaluation
        this.cameraData.pathFollowing.parameter.value =
```

---

#### Pattern: `: void` at line 560:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      frame: number,
      pathFollowing: CameraPathFollowing,
      camera: Camera3D,
> ): void {
      if (!this.splineProvider) return;
  
      // Get the path parameter (0-1)
```

---

#### Pattern: `isFinite()` at line 570:33

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        // Auto-advance mode: calculate t from frame
        // DETERMINISM: t is calculated from frame, not accumulated state
        // Validate autoAdvanceSpeed (NaN would propagate through modulo)
> const validSpeed = Number.isFinite(pathFollowing.autoAdvanceSpeed)
          ? pathFollowing.autoAdvanceSpeed
          : 0.01;
        const validFrame = Number.isFinite(frame) ? frame : 0;
```

---

#### Pattern: `isFinite()` at line 573:33

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const validSpeed = Number.isFinite(pathFollowing.autoAdvanceSpeed)
          ? pathFollowing.autoAdvanceSpeed
          : 0.01;
> const validFrame = Number.isFinite(frame) ? frame : 0;
        t = (validFrame * validSpeed) % 1;
      } else {
        // Manual/keyframed mode: interpolate from animated property
```

---

#### Pattern: `isFinite()` at line 586:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      }
  
      // Validate t after interpolation (could return NaN from expression)
> if (!Number.isFinite(t)) t = 0;
  
      // Apply pathPosition audio modifier to t
      // pathPosition is 0-1, additive to the path parameter
```

---

#### Pattern: `isFinite()` at line 593:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const audioMod = this.currentAudioModifiers;
      if (
        audioMod.pathPosition !== undefined &&
> Number.isFinite(audioMod.pathPosition) &&
        audioMod.pathPosition !== 0
      ) {
        t += audioMod.pathPosition;
```

---

#### Pattern: `isFinite()` at line 618:35

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // Calculate look-ahead position for orientation
      let lookTarget: SplineQueryResult | null = null;
      // Validate lookAhead (NaN would produce NaN lookAheadT)
> const validLookAhead = Number.isFinite(pathFollowing.lookAhead)
        ? pathFollowing.lookAhead
        : 0;
      if (pathFollowing.alignToPath && validLookAhead > 0) {
```

---

#### Pattern: `isFinite()` at line 632:33

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      // Set camera position
      // Validate offsetY (NaN would corrupt position)
> const validOffsetY = Number.isFinite(pathFollowing.offsetY)
        ? pathFollowing.offsetY
        : 0;
      const position = new THREE.Vector3(
```

---

#### Pattern: `isFinite()` at line 669:43

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
        // Apply banking on turns
        // Validate bankingStrength (NaN would corrupt rotation)
> const validBankingStrength = Number.isFinite(
          pathFollowing.bankingStrength,
        )
          ? pathFollowing.bankingStrength
```

---

#### Pattern: `isFinite()` at line 707:22

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
            const cross = tangent1.x * tangent2.y - tangent1.y * tangent2.x;
  
            // Apply banking rotation (validate cross in case of zero-length tangents)
> if (Number.isFinite(cross)) {
              const bankAngle = (cross * validBankingStrength * Math.PI) / 4;
              this.group.rotateZ(bankAngle);
            }
```

---

#### Pattern: `: void` at line 720:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // LAYER UPDATE
    // ============================================================================
  
> protected onUpdate(properties: Partial<Layer>): void {
      const data = properties.data as Partial<CameraLayerData> | undefined;
  
      if (data) {
```

---

#### Pattern: `Optional Chaining` at line 741:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (data.pathFollowing !== undefined) {
          this.cameraData.pathFollowing = data.pathFollowing;
          // Reset auto-advance when path changes
> if (data.pathFollowing?.autoAdvance) {
            this.autoAdvanceT = 0;
          }
        }
```

---

#### Pattern: `: void` at line 786:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // DISPOSAL
    // ============================================================================
  
> private disposeWireframe(): void {
      if (!this.wireframe) return;
  
      this.wireframe.traverse((child) => {
```

---

#### Pattern: `: void` at line 800:27

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.wireframe = null;
    }
  
> private disposeFrustum(): void {
      if (!this.frustumHelper) return;
  
      this.frustumHelper.traverse((child) => {
```

---

#### Pattern: `: void` at line 814:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.frustumHelper = null;
    }
  
> protected onDispose(): void {
      this.disposeWireframe();
      this.disposeFrustum();
    }
```

---

### `engine/layers/ControlLayer.ts` (9 pattern(s))

#### Pattern: `: void` at line 40:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create visual indicator (crosshair) for the control layer
     */
> private createIndicator(): void {
      this.indicator = new THREE.Group();
      this.indicator.name = `control_indicator_${this.id}`;
  
```

---

#### Pattern: `: void` at line 106:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set indicator visibility
     */
> setIndicatorVisible(visible: boolean): void {
      if (this.indicator) {
        this.indicator.visible = visible;
      }
```

---

#### Pattern: `: void` at line 115:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set indicator size
     */
> setIndicatorSize(size: number): void {
      // Validate size (NaN/0/negative/Infinity would corrupt indicator geometry)
      const validSize = Number.isFinite(size) && size > 0 ? size : 50;
      if (validSize === this.indicatorSize) return;
```

---

#### Pattern: `isFinite()` at line 117:30

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    setIndicatorSize(size: number): void {
      // Validate size (NaN/0/negative/Infinity would corrupt indicator geometry)
> const validSize = Number.isFinite(size) && size > 0 ? size : 50;
      if (validSize === this.indicatorSize) return;
  
      this.indicatorSize = validSize;
```

---

#### Pattern: `: void` at line 133:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose indicator resources
     */
> private disposeIndicator(): void {
      if (!this.indicator) return;
  
      this.indicator.traverse((child) => {
```

---

#### Pattern: `: void` at line 155:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // ABSTRACT IMPLEMENTATIONS
    // ============================================================================
  
> protected onEvaluateFrame(_frame: number): void {
      // Control layers have no frame-specific content
      // Transform is handled by BaseLayer
    }
```

---

#### Pattern: `: void` at line 162:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  
    protected override onApplyEvaluatedState(
      _state: import("../MotionEngine").EvaluatedLayer,
> ): void {
      // Control layers have no type-specific properties
      // All transforms are handled by BaseLayer
    }
```

---

#### Pattern: `: void` at line 167:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      // All transforms are handled by BaseLayer
    }
  
> protected onUpdate(properties: Partial<Layer>): void {
      // Update 3D state if changed
      if (properties.threeD !== undefined && properties.threeD !== this.threeD) {
        this.threeD = properties.threeD;
```

---

#### Pattern: `: void` at line 181:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> protected onDispose(): void {
      this.disposeIndicator();
    }
  }
```

---

### `engine/layers/DepthLayer.ts` (23 pattern(s))

#### Pattern: `Optional Chaining` at line 49:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    private extractDepthData(layerData: Layer): DepthLayerData {
      const data = layerData.data as Partial<DepthLayerData> | undefined;
      return {
> assetId: data?.assetId ?? null,
        visualizationMode: data?.visualizationMode ?? "colormap",
        colorMap: data?.colorMap ?? "turbo",
        invert: data?.invert ?? false,
```

---

#### Pattern: `Optional Chaining` at line 50:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const data = layerData.data as Partial<DepthLayerData> | undefined;
      return {
        assetId: data?.assetId ?? null,
> visualizationMode: data?.visualizationMode ?? "colormap",
        colorMap: data?.colorMap ?? "turbo",
        invert: data?.invert ?? false,
        minDepth: data?.minDepth ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 51:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      return {
        assetId: data?.assetId ?? null,
        visualizationMode: data?.visualizationMode ?? "colormap",
> colorMap: data?.colorMap ?? "turbo",
        invert: data?.invert ?? false,
        minDepth: data?.minDepth ?? 0,
        maxDepth: data?.maxDepth ?? 1,
```

---

#### Pattern: `Optional Chaining` at line 52:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        assetId: data?.assetId ?? null,
        visualizationMode: data?.visualizationMode ?? "colormap",
        colorMap: data?.colorMap ?? "turbo",
> invert: data?.invert ?? false,
        minDepth: data?.minDepth ?? 0,
        maxDepth: data?.maxDepth ?? 1,
        autoNormalize: data?.autoNormalize ?? true,
```

---

#### Pattern: `Optional Chaining` at line 53:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        visualizationMode: data?.visualizationMode ?? "colormap",
        colorMap: data?.colorMap ?? "turbo",
        invert: data?.invert ?? false,
> minDepth: data?.minDepth ?? 0,
        maxDepth: data?.maxDepth ?? 1,
        autoNormalize: data?.autoNormalize ?? true,
        contourLevels: data?.contourLevels ?? 10,
```

---

#### Pattern: `Optional Chaining` at line 54:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        colorMap: data?.colorMap ?? "turbo",
        invert: data?.invert ?? false,
        minDepth: data?.minDepth ?? 0,
> maxDepth: data?.maxDepth ?? 1,
        autoNormalize: data?.autoNormalize ?? true,
        contourLevels: data?.contourLevels ?? 10,
        contourColor: data?.contourColor ?? "#ffffff",
```

---

#### Pattern: `Optional Chaining` at line 55:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        invert: data?.invert ?? false,
        minDepth: data?.minDepth ?? 0,
        maxDepth: data?.maxDepth ?? 1,
> autoNormalize: data?.autoNormalize ?? true,
        contourLevels: data?.contourLevels ?? 10,
        contourColor: data?.contourColor ?? "#ffffff",
        contourWidth: data?.contourWidth ?? 1.0,
```

---

#### Pattern: `Optional Chaining` at line 56:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        minDepth: data?.minDepth ?? 0,
        maxDepth: data?.maxDepth ?? 1,
        autoNormalize: data?.autoNormalize ?? true,
> contourLevels: data?.contourLevels ?? 10,
        contourColor: data?.contourColor ?? "#ffffff",
        contourWidth: data?.contourWidth ?? 1.0,
        meshDisplacement:
```

---

#### Pattern: `Optional Chaining` at line 57:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        maxDepth: data?.maxDepth ?? 1,
        autoNormalize: data?.autoNormalize ?? true,
        contourLevels: data?.contourLevels ?? 10,
> contourColor: data?.contourColor ?? "#ffffff",
        contourWidth: data?.contourWidth ?? 1.0,
        meshDisplacement:
          data?.meshDisplacement ??
```

---

#### Pattern: `Optional Chaining` at line 58:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        autoNormalize: data?.autoNormalize ?? true,
        contourLevels: data?.contourLevels ?? 10,
        contourColor: data?.contourColor ?? "#ffffff",
> contourWidth: data?.contourWidth ?? 1.0,
        meshDisplacement:
          data?.meshDisplacement ??
          createAnimatableProperty("Mesh Displacement", 50, "number"),
```

---

#### Pattern: `Optional Chaining` at line 60:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        contourColor: data?.contourColor ?? "#ffffff",
        contourWidth: data?.contourWidth ?? 1.0,
        meshDisplacement:
> data?.meshDisplacement ??
          createAnimatableProperty("Mesh Displacement", 50, "number"),
        meshResolution: data?.meshResolution ?? 64,
        wireframe: data?.wireframe ?? false,
```

---

#### Pattern: `Optional Chaining` at line 62:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        meshDisplacement:
          data?.meshDisplacement ??
          createAnimatableProperty("Mesh Displacement", 50, "number"),
> meshResolution: data?.meshResolution ?? 64,
        wireframe: data?.wireframe ?? false,
      };
    }
```

---

#### Pattern: `Optional Chaining` at line 63:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          data?.meshDisplacement ??
          createAnimatableProperty("Mesh Displacement", 50, "number"),
        meshResolution: data?.meshResolution ?? 64,
> wireframe: data?.wireframe ?? false,
      };
    }
  
```

---

#### Pattern: `: void` at line 67:23

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      };
    }
  
> private createMesh(): void {
      const geometry = new THREE.PlaneGeometry(1, 1, 1, 1);
  
      // Custom shader for depth visualization
```

---

#### Pattern: `: void` at line 168:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> private updateColormapTexture(): void {
      const colors = COLORMAPS[this.depthData.colorMap] || COLORMAPS.grayscale;
      const data = new Uint8Array(256 * 4);
  
```

---

#### Pattern: `: void` at line 197:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> setTexture(texture: THREE.Texture): void {
      this.texture = texture;
      if (this.material) {
        this.material.uniforms.depthMap.value = texture;
```

---

#### Pattern: `: void` at line 208:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // ABSTRACT IMPLEMENTATIONS
    // ============================================================================
  
> protected onEvaluateFrame(frame: number): void {
      if (!this.material) return;
  
      // Use composition fps for correct animation timing (not hardcoded 30fps)
```

---

#### Pattern: `isFinite()` at line 231:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      // Update uniforms (validate depth values to prevent NaN propagation to shader)
      this.material.uniforms.invert.value = this.depthData.invert ? 1.0 : 0.0;
> const minDepth = Number.isFinite(this.depthData.minDepth)
        ? this.depthData.minDepth
        : 0;
      const maxDepth = Number.isFinite(this.depthData.maxDepth)
```

---

#### Pattern: `isFinite()` at line 234:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const minDepth = Number.isFinite(this.depthData.minDepth)
        ? this.depthData.minDepth
        : 0;
> const maxDepth = Number.isFinite(this.depthData.maxDepth)
        ? this.depthData.maxDepth
        : 1;
      this.material.uniforms.minDepth.value = minDepth;
```

---

#### Pattern: `: void` at line 243:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        this.getVisualizationModeIndex();
    }
  
> protected onUpdate(properties: Partial<Layer>): void {
      const data = properties.data as Partial<DepthLayerData> | undefined;
  
      if (data) {
```

---

#### Pattern: `isFinite()` at line 262:20

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          if (data.contourLevels !== undefined) {
            // Validate contourLevels (NaN/0/negative would corrupt contour rendering)
            const validLevels =
> Number.isFinite(data.contourLevels) && data.contourLevels > 0
                ? data.contourLevels
                : 10;
            this.material.uniforms.contourLevels.value = validLevels;
```

---

#### Pattern: `isFinite()` at line 269:37

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          }
          if (data.contourWidth !== undefined) {
            // Validate contourWidth (NaN would corrupt contour line rendering)
> const validWidth = Number.isFinite(data.contourWidth)
              ? Math.max(0, data.contourWidth)
              : 1.0;
            this.material.uniforms.contourWidth.value = validWidth;
```

---

#### Pattern: `: void` at line 278:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> protected onDispose(): void {
      if (this.texture) {
        this.texture.dispose();
      }
```

---

### `engine/layers/DepthflowLayer.ts` (52 pattern(s))

#### Pattern: `Optional Chaining` at line 177:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const data = layerData.data as DepthflowLayerData | null;
  
      return {
> sourceLayerId: data?.sourceLayerId ?? "",
        depthLayerId: data?.depthLayerId ?? "",
        config: {
          preset: data?.config?.preset ?? "static",
```

---

#### Pattern: `Optional Chaining` at line 178:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      return {
        sourceLayerId: data?.sourceLayerId ?? "",
> depthLayerId: data?.depthLayerId ?? "",
        config: {
          preset: data?.config?.preset ?? "static",
          zoom: data?.config?.zoom ?? 1,
```

---

#### Pattern: `Optional Chaining` at line 180:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        sourceLayerId: data?.sourceLayerId ?? "",
        depthLayerId: data?.depthLayerId ?? "",
        config: {
> preset: data?.config?.preset ?? "static",
          zoom: data?.config?.zoom ?? 1,
          offsetX: data?.config?.offsetX ?? 0,
          offsetY: data?.config?.offsetY ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 180:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        sourceLayerId: data?.sourceLayerId ?? "",
        depthLayerId: data?.depthLayerId ?? "",
        config: {
> preset: data?.config?.preset ?? "static",
          zoom: data?.config?.zoom ?? 1,
          offsetX: data?.config?.offsetX ?? 0,
          offsetY: data?.config?.offsetY ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 181:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        depthLayerId: data?.depthLayerId ?? "",
        config: {
          preset: data?.config?.preset ?? "static",
> zoom: data?.config?.zoom ?? 1,
          offsetX: data?.config?.offsetX ?? 0,
          offsetY: data?.config?.offsetY ?? 0,
          rotation: data?.config?.rotation ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 181:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        depthLayerId: data?.depthLayerId ?? "",
        config: {
          preset: data?.config?.preset ?? "static",
> zoom: data?.config?.zoom ?? 1,
          offsetX: data?.config?.offsetX ?? 0,
          offsetY: data?.config?.offsetY ?? 0,
          rotation: data?.config?.rotation ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 182:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        config: {
          preset: data?.config?.preset ?? "static",
          zoom: data?.config?.zoom ?? 1,
> offsetX: data?.config?.offsetX ?? 0,
          offsetY: data?.config?.offsetY ?? 0,
          rotation: data?.config?.rotation ?? 0,
          depthScale: data?.config?.depthScale ?? 0.1,
```

---

#### Pattern: `Optional Chaining` at line 182:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        config: {
          preset: data?.config?.preset ?? "static",
          zoom: data?.config?.zoom ?? 1,
> offsetX: data?.config?.offsetX ?? 0,
          offsetY: data?.config?.offsetY ?? 0,
          rotation: data?.config?.rotation ?? 0,
          depthScale: data?.config?.depthScale ?? 0.1,
```

---

#### Pattern: `Optional Chaining` at line 183:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          preset: data?.config?.preset ?? "static",
          zoom: data?.config?.zoom ?? 1,
          offsetX: data?.config?.offsetX ?? 0,
> offsetY: data?.config?.offsetY ?? 0,
          rotation: data?.config?.rotation ?? 0,
          depthScale: data?.config?.depthScale ?? 0.1,
          focusDepth: data?.config?.focusDepth ?? 0.5,
```

---

#### Pattern: `Optional Chaining` at line 183:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          preset: data?.config?.preset ?? "static",
          zoom: data?.config?.zoom ?? 1,
          offsetX: data?.config?.offsetX ?? 0,
> offsetY: data?.config?.offsetY ?? 0,
          rotation: data?.config?.rotation ?? 0,
          depthScale: data?.config?.depthScale ?? 0.1,
          focusDepth: data?.config?.focusDepth ?? 0.5,
```

---

#### Pattern: `Optional Chaining` at line 184:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          zoom: data?.config?.zoom ?? 1,
          offsetX: data?.config?.offsetX ?? 0,
          offsetY: data?.config?.offsetY ?? 0,
> rotation: data?.config?.rotation ?? 0,
          depthScale: data?.config?.depthScale ?? 0.1,
          focusDepth: data?.config?.focusDepth ?? 0.5,
          dollyZoom: data?.config?.dollyZoom ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 184:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          zoom: data?.config?.zoom ?? 1,
          offsetX: data?.config?.offsetX ?? 0,
          offsetY: data?.config?.offsetY ?? 0,
> rotation: data?.config?.rotation ?? 0,
          depthScale: data?.config?.depthScale ?? 0.1,
          focusDepth: data?.config?.focusDepth ?? 0.5,
          dollyZoom: data?.config?.dollyZoom ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 185:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          offsetX: data?.config?.offsetX ?? 0,
          offsetY: data?.config?.offsetY ?? 0,
          rotation: data?.config?.rotation ?? 0,
> depthScale: data?.config?.depthScale ?? 0.1,
          focusDepth: data?.config?.focusDepth ?? 0.5,
          dollyZoom: data?.config?.dollyZoom ?? 0,
          orbitRadius: data?.config?.orbitRadius ?? 0.1,
```

---

#### Pattern: `Optional Chaining` at line 185:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          offsetX: data?.config?.offsetX ?? 0,
          offsetY: data?.config?.offsetY ?? 0,
          rotation: data?.config?.rotation ?? 0,
> depthScale: data?.config?.depthScale ?? 0.1,
          focusDepth: data?.config?.focusDepth ?? 0.5,
          dollyZoom: data?.config?.dollyZoom ?? 0,
          orbitRadius: data?.config?.orbitRadius ?? 0.1,
```

---

#### Pattern: `Optional Chaining` at line 186:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          offsetY: data?.config?.offsetY ?? 0,
          rotation: data?.config?.rotation ?? 0,
          depthScale: data?.config?.depthScale ?? 0.1,
> focusDepth: data?.config?.focusDepth ?? 0.5,
          dollyZoom: data?.config?.dollyZoom ?? 0,
          orbitRadius: data?.config?.orbitRadius ?? 0.1,
          orbitSpeed: data?.config?.orbitSpeed ?? 1,
```

---

#### Pattern: `Optional Chaining` at line 186:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          offsetY: data?.config?.offsetY ?? 0,
          rotation: data?.config?.rotation ?? 0,
          depthScale: data?.config?.depthScale ?? 0.1,
> focusDepth: data?.config?.focusDepth ?? 0.5,
          dollyZoom: data?.config?.dollyZoom ?? 0,
          orbitRadius: data?.config?.orbitRadius ?? 0.1,
          orbitSpeed: data?.config?.orbitSpeed ?? 1,
```

---

#### Pattern: `Optional Chaining` at line 187:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          rotation: data?.config?.rotation ?? 0,
          depthScale: data?.config?.depthScale ?? 0.1,
          focusDepth: data?.config?.focusDepth ?? 0.5,
> dollyZoom: data?.config?.dollyZoom ?? 0,
          orbitRadius: data?.config?.orbitRadius ?? 0.1,
          orbitSpeed: data?.config?.orbitSpeed ?? 1,
          swingAmplitude: data?.config?.swingAmplitude ?? 0.05,
```

---

#### Pattern: `Optional Chaining` at line 187:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          rotation: data?.config?.rotation ?? 0,
          depthScale: data?.config?.depthScale ?? 0.1,
          focusDepth: data?.config?.focusDepth ?? 0.5,
> dollyZoom: data?.config?.dollyZoom ?? 0,
          orbitRadius: data?.config?.orbitRadius ?? 0.1,
          orbitSpeed: data?.config?.orbitSpeed ?? 1,
          swingAmplitude: data?.config?.swingAmplitude ?? 0.05,
```

---

#### Pattern: `Optional Chaining` at line 188:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          depthScale: data?.config?.depthScale ?? 0.1,
          focusDepth: data?.config?.focusDepth ?? 0.5,
          dollyZoom: data?.config?.dollyZoom ?? 0,
> orbitRadius: data?.config?.orbitRadius ?? 0.1,
          orbitSpeed: data?.config?.orbitSpeed ?? 1,
          swingAmplitude: data?.config?.swingAmplitude ?? 0.05,
          swingFrequency: data?.config?.swingFrequency ?? 1,
```

---

#### Pattern: `Optional Chaining` at line 188:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          depthScale: data?.config?.depthScale ?? 0.1,
          focusDepth: data?.config?.focusDepth ?? 0.5,
          dollyZoom: data?.config?.dollyZoom ?? 0,
> orbitRadius: data?.config?.orbitRadius ?? 0.1,
          orbitSpeed: data?.config?.orbitSpeed ?? 1,
          swingAmplitude: data?.config?.swingAmplitude ?? 0.05,
          swingFrequency: data?.config?.swingFrequency ?? 1,
```

---

#### Pattern: `Optional Chaining` at line 189:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          focusDepth: data?.config?.focusDepth ?? 0.5,
          dollyZoom: data?.config?.dollyZoom ?? 0,
          orbitRadius: data?.config?.orbitRadius ?? 0.1,
> orbitSpeed: data?.config?.orbitSpeed ?? 1,
          swingAmplitude: data?.config?.swingAmplitude ?? 0.05,
          swingFrequency: data?.config?.swingFrequency ?? 1,
          edgeDilation: data?.config?.edgeDilation ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 189:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          focusDepth: data?.config?.focusDepth ?? 0.5,
          dollyZoom: data?.config?.dollyZoom ?? 0,
          orbitRadius: data?.config?.orbitRadius ?? 0.1,
> orbitSpeed: data?.config?.orbitSpeed ?? 1,
          swingAmplitude: data?.config?.swingAmplitude ?? 0.05,
          swingFrequency: data?.config?.swingFrequency ?? 1,
          edgeDilation: data?.config?.edgeDilation ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 190:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          dollyZoom: data?.config?.dollyZoom ?? 0,
          orbitRadius: data?.config?.orbitRadius ?? 0.1,
          orbitSpeed: data?.config?.orbitSpeed ?? 1,
> swingAmplitude: data?.config?.swingAmplitude ?? 0.05,
          swingFrequency: data?.config?.swingFrequency ?? 1,
          edgeDilation: data?.config?.edgeDilation ?? 0,
          inpaintEdges: data?.config?.inpaintEdges ?? false,
```

---

#### Pattern: `Optional Chaining` at line 190:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          dollyZoom: data?.config?.dollyZoom ?? 0,
          orbitRadius: data?.config?.orbitRadius ?? 0.1,
          orbitSpeed: data?.config?.orbitSpeed ?? 1,
> swingAmplitude: data?.config?.swingAmplitude ?? 0.05,
          swingFrequency: data?.config?.swingFrequency ?? 1,
          edgeDilation: data?.config?.edgeDilation ?? 0,
          inpaintEdges: data?.config?.inpaintEdges ?? false,
```

---

#### Pattern: `Optional Chaining` at line 191:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          orbitRadius: data?.config?.orbitRadius ?? 0.1,
          orbitSpeed: data?.config?.orbitSpeed ?? 1,
          swingAmplitude: data?.config?.swingAmplitude ?? 0.05,
> swingFrequency: data?.config?.swingFrequency ?? 1,
          edgeDilation: data?.config?.edgeDilation ?? 0,
          inpaintEdges: data?.config?.inpaintEdges ?? false,
        },
```

---

#### Pattern: `Optional Chaining` at line 191:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          orbitRadius: data?.config?.orbitRadius ?? 0.1,
          orbitSpeed: data?.config?.orbitSpeed ?? 1,
          swingAmplitude: data?.config?.swingAmplitude ?? 0.05,
> swingFrequency: data?.config?.swingFrequency ?? 1,
          edgeDilation: data?.config?.edgeDilation ?? 0,
          inpaintEdges: data?.config?.inpaintEdges ?? false,
        },
```

---

#### Pattern: `Optional Chaining` at line 192:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          orbitSpeed: data?.config?.orbitSpeed ?? 1,
          swingAmplitude: data?.config?.swingAmplitude ?? 0.05,
          swingFrequency: data?.config?.swingFrequency ?? 1,
> edgeDilation: data?.config?.edgeDilation ?? 0,
          inpaintEdges: data?.config?.inpaintEdges ?? false,
        },
        animatedZoom: data?.animatedZoom,
```

---

#### Pattern: `Optional Chaining` at line 192:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          orbitSpeed: data?.config?.orbitSpeed ?? 1,
          swingAmplitude: data?.config?.swingAmplitude ?? 0.05,
          swingFrequency: data?.config?.swingFrequency ?? 1,
> edgeDilation: data?.config?.edgeDilation ?? 0,
          inpaintEdges: data?.config?.inpaintEdges ?? false,
        },
        animatedZoom: data?.animatedZoom,
```

---

#### Pattern: `Optional Chaining` at line 193:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          swingAmplitude: data?.config?.swingAmplitude ?? 0.05,
          swingFrequency: data?.config?.swingFrequency ?? 1,
          edgeDilation: data?.config?.edgeDilation ?? 0,
> inpaintEdges: data?.config?.inpaintEdges ?? false,
        },
        animatedZoom: data?.animatedZoom,
        animatedOffsetX: data?.animatedOffsetX,
```

---

#### Pattern: `Optional Chaining` at line 193:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          swingAmplitude: data?.config?.swingAmplitude ?? 0.05,
          swingFrequency: data?.config?.swingFrequency ?? 1,
          edgeDilation: data?.config?.edgeDilation ?? 0,
> inpaintEdges: data?.config?.inpaintEdges ?? false,
        },
        animatedZoom: data?.animatedZoom,
        animatedOffsetX: data?.animatedOffsetX,
```

---

#### Pattern: `Optional Chaining` at line 195:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          edgeDilation: data?.config?.edgeDilation ?? 0,
          inpaintEdges: data?.config?.inpaintEdges ?? false,
        },
> animatedZoom: data?.animatedZoom,
        animatedOffsetX: data?.animatedOffsetX,
        animatedOffsetY: data?.animatedOffsetY,
        animatedRotation: data?.animatedRotation,
```

---

#### Pattern: `Optional Chaining` at line 196:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          inpaintEdges: data?.config?.inpaintEdges ?? false,
        },
        animatedZoom: data?.animatedZoom,
> animatedOffsetX: data?.animatedOffsetX,
        animatedOffsetY: data?.animatedOffsetY,
        animatedRotation: data?.animatedRotation,
        animatedDepthScale: data?.animatedDepthScale,
```

---

#### Pattern: `Optional Chaining` at line 197:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        },
        animatedZoom: data?.animatedZoom,
        animatedOffsetX: data?.animatedOffsetX,
> animatedOffsetY: data?.animatedOffsetY,
        animatedRotation: data?.animatedRotation,
        animatedDepthScale: data?.animatedDepthScale,
      };
```

---

#### Pattern: `Optional Chaining` at line 198:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        animatedZoom: data?.animatedZoom,
        animatedOffsetX: data?.animatedOffsetX,
        animatedOffsetY: data?.animatedOffsetY,
> animatedRotation: data?.animatedRotation,
        animatedDepthScale: data?.animatedDepthScale,
      };
    }
```

---

#### Pattern: `Optional Chaining` at line 199:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        animatedOffsetX: data?.animatedOffsetX,
        animatedOffsetY: data?.animatedOffsetY,
        animatedRotation: data?.animatedRotation,
> animatedDepthScale: data?.animatedDepthScale,
      };
    }
  
```

---

#### Pattern: `: void` at line 258:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set mesh dimensions
     */
> setDimensions(width: number, height: number): void {
      // Validate dimensions (NaN/0 would create invalid geometry)
      const validWidth = Number.isFinite(width) && width > 0 ? width : 1920;
      const validHeight = Number.isFinite(height) && height > 0 ? height : 1080;
```

---

#### Pattern: `isFinite()` at line 260:31

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    setDimensions(width: number, height: number): void {
      // Validate dimensions (NaN/0 would create invalid geometry)
> const validWidth = Number.isFinite(width) && width > 0 ? width : 1920;
      const validHeight = Number.isFinite(height) && height > 0 ? height : 1080;
  
      if (validWidth === this.width && validHeight === this.height) return;
```

---

#### Pattern: `isFinite()` at line 261:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    setDimensions(width: number, height: number): void {
      // Validate dimensions (NaN/0 would create invalid geometry)
      const validWidth = Number.isFinite(width) && width > 0 ? width : 1920;
> const validHeight = Number.isFinite(height) && height > 0 ? height : 1080;
  
      if (validWidth === this.width && validHeight === this.height) return;
  
```

---

#### Pattern: `Optional Chaining` at line 281:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.depthflowData.sourceLayerId = layerId;
      const texture = await this.loadTextureFromLayer(layerId);
      if (texture) {
> this.sourceTexture?.dispose();
        this.sourceTexture = texture;
        this.material.uniforms.sourceTexture.value = texture;
      }
```

---

#### Pattern: `Optional Chaining` at line 294:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.depthflowData.depthLayerId = layerId;
      const texture = await this.loadTextureFromLayer(layerId);
      if (texture) {
> this.depthTexture?.dispose();
        this.depthTexture = texture;
        this.material.uniforms.depthTexture.value = texture;
      }
```

---

#### Pattern: `: void` at line 303:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update config values
     */
> updateConfig(config: Partial<DepthflowConfig>): void {
      Object.assign(this.depthflowData.config, config);
  
      // Update uniforms
```

---

#### Pattern: `: void` at line 425:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // ABSTRACT IMPLEMENTATIONS
    // ============================================================================
  
> protected onEvaluateFrame(frame: number): void {
      const _config = this.depthflowData.config;
  
      // Use composition fps for correct animation timing
```

---

#### Pattern: `: void` at line 486:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  
    protected override onApplyEvaluatedState(
      state: import("../MotionEngine").EvaluatedLayer,
> ): void {
      const props = state.properties;
  
      // Apply evaluated depthflow properties
```

---

#### Pattern: `isFinite()` at line 518:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      if (
        audioMod.depthflowZoom !== undefined &&
> Number.isFinite(audioMod.depthflowZoom) &&
        audioMod.depthflowZoom !== 0
      ) {
        this.material.uniforms.zoom.value += audioMod.depthflowZoom;
```

---

#### Pattern: `isFinite()` at line 526:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      if (
        audioMod.depthflowOffsetX !== undefined &&
> Number.isFinite(audioMod.depthflowOffsetX) &&
        audioMod.depthflowOffsetX !== 0
      ) {
        this.material.uniforms.offset.value.x += audioMod.depthflowOffsetX;
```

---

#### Pattern: `isFinite()` at line 534:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      if (
        audioMod.depthflowOffsetY !== undefined &&
> Number.isFinite(audioMod.depthflowOffsetY) &&
        audioMod.depthflowOffsetY !== 0
      ) {
        this.material.uniforms.offset.value.y += audioMod.depthflowOffsetY;
```

---

#### Pattern: `isFinite()` at line 542:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      if (
        audioMod.depthflowRotation !== undefined &&
> Number.isFinite(audioMod.depthflowRotation) &&
        audioMod.depthflowRotation !== 0
      ) {
        // Add rotation in radians (convert from degrees)
```

---

#### Pattern: `isFinite()` at line 553:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      if (
        audioMod.depthflowDepthScale !== undefined &&
> Number.isFinite(audioMod.depthflowDepthScale) &&
        audioMod.depthflowDepthScale !== 0
      ) {
        this.material.uniforms.depthScale.value += audioMod.depthflowDepthScale;
```

---

#### Pattern: `: void` at line 562:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.material.needsUpdate = true;
    }
  
> protected onUpdate(properties: Partial<Layer>): void {
      const data = properties.data as Partial<DepthflowLayerData> | undefined;
  
      if (!data) return;
```

---

#### Pattern: `: void` at line 613:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> protected onDispose(): void {
      // Dispose textures
      this.sourceTexture?.dispose();
      this.depthTexture?.dispose();
```

---

#### Pattern: `Optional Chaining` at line 615:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    protected onDispose(): void {
      // Dispose textures
> this.sourceTexture?.dispose();
      this.depthTexture?.dispose();
  
      // Dispose geometry and material
```

---

#### Pattern: `Optional Chaining` at line 616:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    protected onDispose(): void {
      // Dispose textures
      this.sourceTexture?.dispose();
> this.depthTexture?.dispose();
  
      // Dispose geometry and material
      this.geometry.dispose();
```

---

### `engine/layers/EffectLayer.ts` (14 pattern(s))

#### Pattern: `: void` at line 91:23

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create display mesh (full-screen quad for effect result)
     */
> private createMesh(): void {
      // Start with 1x1, will be resized to match composition
      const geometry = new THREE.PlaneGeometry(1, 1);
      this.material = new THREE.MeshBasicMaterial({
```

---

#### Pattern: `: void` at line 109:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Resize mesh to match composition dimensions
     */
> private resizeMesh(width: number, height: number): void {
      if (!this.mesh) return;
  
      // Validate dimensions (NaN/0 would create invalid geometry and canvas)
```

---

#### Pattern: `isFinite()` at line 113:31

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      if (!this.mesh) return;
  
      // Validate dimensions (NaN/0 would create invalid geometry and canvas)
> const validWidth = Number.isFinite(width) && width > 0 ? width : 1920;
      const validHeight = Number.isFinite(height) && height > 0 ? height : 1080;
  
      this.compWidth = validWidth;
```

---

#### Pattern: `isFinite()` at line 114:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      // Validate dimensions (NaN/0 would create invalid geometry and canvas)
      const validWidth = Number.isFinite(width) && width > 0 ? width : 1920;
> const validHeight = Number.isFinite(height) && height > 0 ? height : 1080;
  
      this.compWidth = validWidth;
      this.compHeight = validHeight;
```

---

#### Pattern: `: void` at line 137:54

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set the render context (required for effect layer rendering)
     * Called by LayerManager after creation
     */
> setRenderContext(context: EffectLayerRenderContext): void {
      this.renderContext = context;
  
      // Get and apply composition dimensions
```

---

#### Pattern: `: void` at line 148:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
    /**
     * Set the IDs of layers affected by this effect layer
     */
> setAffectedLayers(layerIds: string[]): void {
      this.affectedLayerIds = layerIds;
    }
  
```

---

#### Pattern: `: void` at line 163:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // FRAME EVALUATION
    // ============================================================================
  
> protected onEvaluateFrame(frame: number): void {
      if (!this.renderContext || !this.mesh || !this.material) {
        return;
      }
```

---

#### Pattern: `: void` at line 221:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  
    protected override onApplyEvaluatedState(
      state: import("../MotionEngine").EvaluatedLayer,
> ): void {
      // Apply opacity to material (opacity is on EvaluatedLayer, not transform)
      if (state.opacity !== undefined && this.material) {
        // Validate opacity (NaN would corrupt material rendering)
```

---

#### Pattern: `isFinite()` at line 225:35

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // Apply opacity to material (opacity is on EvaluatedLayer, not transform)
      if (state.opacity !== undefined && this.material) {
        // Validate opacity (NaN would corrupt material rendering)
> const validOpacity = Number.isFinite(state.opacity) ? state.opacity : 100;
        this.material.opacity = Math.max(0, Math.min(100, validOpacity)) / 100;
        this.material.needsUpdate = true;
      }
```

---

#### Pattern: `: void` at line 239:57

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update the result texture with the adjusted canvas
     */
> private updateResultTexture(canvas: HTMLCanvasElement): void {
      if (!this.material) return;
  
      // Dispose old texture
```

---

#### Pattern: `: void` at line 274:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set effect layer mode
     */
> setEffectLayerMode(enabled: boolean): void {
      this.layerData.effectLayer = enabled;
      // Also set legacy property for backwards compatibility
      this.layerData.adjustmentLayer = enabled;
```

---

#### Pattern: `: void` at line 290:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return this.isEffectLayerMode();
    }
  
> setAdjustmentMode(enabled: boolean): void {
      this.setEffectLayerMode(enabled);
    }
  
```

---

#### Pattern: `: void` at line 298:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // LAYER UPDATE
    // ============================================================================
  
> protected onUpdate(properties: Partial<Layer>): void {
      if (properties.effectLayer !== undefined) {
        this.setEffectLayerMode(properties.effectLayer);
      }
```

---

#### Pattern: `: void` at line 312:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // DISPOSAL
    // ============================================================================
  
> protected onDispose(): void {
      if (this.resultTexture) {
        this.resultTexture.dispose();
        this.resultTexture = null;
```

---

### `engine/layers/GeneratedLayer.ts` (15 pattern(s))

#### Pattern: `Optional Chaining` at line 39:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    private extractGeneratedData(layerData: Layer): GeneratedLayerData {
      const data = layerData.data as Partial<GeneratedLayerData> | undefined;
      return {
> generationType: data?.generationType ?? "depth",
        sourceLayerId: data?.sourceLayerId ?? null,
        model: data?.model ?? "depth-anything-v2",
        parameters: data?.parameters ?? {},
```

---

#### Pattern: `Optional Chaining` at line 40:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const data = layerData.data as Partial<GeneratedLayerData> | undefined;
      return {
        generationType: data?.generationType ?? "depth",
> sourceLayerId: data?.sourceLayerId ?? null,
        model: data?.model ?? "depth-anything-v2",
        parameters: data?.parameters ?? {},
        generatedAssetId: data?.generatedAssetId ?? null,
```

---

#### Pattern: `Optional Chaining` at line 41:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      return {
        generationType: data?.generationType ?? "depth",
        sourceLayerId: data?.sourceLayerId ?? null,
> model: data?.model ?? "depth-anything-v2",
        parameters: data?.parameters ?? {},
        generatedAssetId: data?.generatedAssetId ?? null,
        status: data?.status ?? "pending",
```

---

#### Pattern: `Optional Chaining` at line 42:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        generationType: data?.generationType ?? "depth",
        sourceLayerId: data?.sourceLayerId ?? null,
        model: data?.model ?? "depth-anything-v2",
> parameters: data?.parameters ?? {},
        generatedAssetId: data?.generatedAssetId ?? null,
        status: data?.status ?? "pending",
        autoRegenerate: data?.autoRegenerate ?? false,
```

---

#### Pattern: `Optional Chaining` at line 43:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        sourceLayerId: data?.sourceLayerId ?? null,
        model: data?.model ?? "depth-anything-v2",
        parameters: data?.parameters ?? {},
> generatedAssetId: data?.generatedAssetId ?? null,
        status: data?.status ?? "pending",
        autoRegenerate: data?.autoRegenerate ?? false,
        lastGenerated: data?.lastGenerated,
```

---

#### Pattern: `Optional Chaining` at line 44:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        model: data?.model ?? "depth-anything-v2",
        parameters: data?.parameters ?? {},
        generatedAssetId: data?.generatedAssetId ?? null,
> status: data?.status ?? "pending",
        autoRegenerate: data?.autoRegenerate ?? false,
        lastGenerated: data?.lastGenerated,
        errorMessage: data?.errorMessage,
```

---

#### Pattern: `Optional Chaining` at line 45:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        parameters: data?.parameters ?? {},
        generatedAssetId: data?.generatedAssetId ?? null,
        status: data?.status ?? "pending",
> autoRegenerate: data?.autoRegenerate ?? false,
        lastGenerated: data?.lastGenerated,
        errorMessage: data?.errorMessage,
      };
```

---

#### Pattern: `Optional Chaining` at line 46:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        generatedAssetId: data?.generatedAssetId ?? null,
        status: data?.status ?? "pending",
        autoRegenerate: data?.autoRegenerate ?? false,
> lastGenerated: data?.lastGenerated,
        errorMessage: data?.errorMessage,
      };
    }
```

---

#### Pattern: `Optional Chaining` at line 47:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        status: data?.status ?? "pending",
        autoRegenerate: data?.autoRegenerate ?? false,
        lastGenerated: data?.lastGenerated,
> errorMessage: data?.errorMessage,
      };
    }
  
```

---

#### Pattern: `: void` at line 51:23

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      };
    }
  
> private createMesh(): void {
      const geometry = new THREE.PlaneGeometry(1, 1, 1, 1);
  
      this.material = new THREE.MeshBasicMaterial({
```

---

#### Pattern: `: void` at line 69:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.createStatusIndicator();
    }
  
> private createStatusIndicator(): void {
      // Small indicator showing generation status
      const geometry = new THREE.CircleGeometry(10, 16);
      const material = new THREE.MeshBasicMaterial({
```

---

#### Pattern: `: void` at line 99:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> setTexture(texture: THREE.Texture): void {
      this.texture = texture;
      if (this.material) {
        this.material.map = texture;
```

---

#### Pattern: `: void` at line 111:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // ABSTRACT IMPLEMENTATIONS
    // ============================================================================
  
> protected onEvaluateFrame(_frame: number): void {
      // Update status indicator color
      if (this.statusIndicator) {
        (this.statusIndicator.material as THREE.MeshBasicMaterial).color.setHex(
```

---

#### Pattern: `: void` at line 123:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      // The actual generation is handled by the AI service
    }
  
> protected onUpdate(properties: Partial<Layer>): void {
      const data = properties.data as Partial<GeneratedLayerData> | undefined;
  
      if (data) {
```

---

#### Pattern: `: void` at line 141:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> protected onDispose(): void {
      if (this.texture) {
        this.texture.dispose();
      }
```

---

### `engine/layers/GroupLayer.ts` (12 pattern(s))

#### Pattern: `Optional Chaining` at line 37:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    private extractGroupData(layerData: Layer): GroupLayerData {
      const data = layerData.data as Partial<GroupLayerData> | undefined;
      return {
> collapsed: data?.collapsed ?? false,
        color: data?.color ?? "#888888",
        passThrough: data?.passThrough ?? true,
        isolate: data?.isolate ?? false,
```

---

#### Pattern: `Optional Chaining` at line 38:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const data = layerData.data as Partial<GroupLayerData> | undefined;
      return {
        collapsed: data?.collapsed ?? false,
> color: data?.color ?? "#888888",
        passThrough: data?.passThrough ?? true,
        isolate: data?.isolate ?? false,
      };
```

---

#### Pattern: `Optional Chaining` at line 39:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      return {
        collapsed: data?.collapsed ?? false,
        color: data?.color ?? "#888888",
> passThrough: data?.passThrough ?? true,
        isolate: data?.isolate ?? false,
      };
    }
```

---

#### Pattern: `Optional Chaining` at line 40:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        collapsed: data?.collapsed ?? false,
        color: data?.color ?? "#888888",
        passThrough: data?.passThrough ?? true,
> isolate: data?.isolate ?? false,
      };
    }
  
```

---

#### Pattern: `: void` at line 44:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      };
    }
  
> private createVisuals(): void {
      // Create group indicator (visible only in editor, not render)
      this.createBoundingBox();
      this.createLabel();
```

---

#### Pattern: `: void` at line 50:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.createLabel();
    }
  
> private createBoundingBox(): void {
      // Dashed bounding box to show group bounds
      const geometry = new THREE.BufferGeometry();
      const positions = new Float32Array([
```

---

#### Pattern: `: void` at line 73:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.group.add(this.boundingBox);
    }
  
> private createLabel(): void {
      // Simple label indicator at top-left of group
      const geometry = new THREE.PlaneGeometry(20, 20);
      const material = new THREE.MeshBasicMaterial({
```

---

#### Pattern: `: void` at line 99:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // ABSTRACT IMPLEMENTATIONS
    // ============================================================================
  
> protected onEvaluateFrame(_frame: number): void {
      // Group layer's transform is applied to the container,
      // which affects all child layers that reference this as parent
  
```

---

#### Pattern: `: void` at line 115:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> protected onUpdate(properties: Partial<Layer>): void {
      const data = properties.data as Partial<GroupLayerData> | undefined;
  
      if (data) {
```

---

#### Pattern: `: void` at line 123:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> protected onDispose(): void {
      if (this.boundingBox) {
        this.boundingBox.geometry.dispose();
        (this.boundingBox.material as THREE.Material).dispose();
```

---

#### Pattern: `: void` at line 142:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update the group's bounding box based on child layer bounds
     */
> updateBoundsFromChildren(childBounds: THREE.Box3): void {
      if (!this.boundingBox) return;
  
      const size = childBounds.getSize(new THREE.Vector3());
```

---

#### Pattern: `: void` at line 213:20

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Toggle collapsed state
     */
> toggleCollapsed(): void {
      this.groupData.collapsed = !this.groupData.collapsed;
    }
  }
```

---

### `engine/layers/ImageLayer.ts` (31 pattern(s))

#### Pattern: `Optional Chaining` at line 96:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const data = layerData.data as any;
  
      return {
> source: data?.source ?? data?.url ?? data?.assetId ?? null,
        targetWidth: data?.width ?? null,
        targetHeight: data?.height ?? null,
        fit: data?.fit ?? "none",
```

---

#### Pattern: `Optional Chaining` at line 96:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const data = layerData.data as any;
  
      return {
> source: data?.source ?? data?.url ?? data?.assetId ?? null,
        targetWidth: data?.width ?? null,
        targetHeight: data?.height ?? null,
        fit: data?.fit ?? "none",
```

---

#### Pattern: `Optional Chaining` at line 96:48

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const data = layerData.data as any;
  
      return {
> source: data?.source ?? data?.url ?? data?.assetId ?? null,
        targetWidth: data?.width ?? null,
        targetHeight: data?.height ?? null,
        fit: data?.fit ?? "none",
```

---

#### Pattern: `Optional Chaining` at line 97:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      return {
        source: data?.source ?? data?.url ?? data?.assetId ?? null,
> targetWidth: data?.width ?? null,
        targetHeight: data?.height ?? null,
        fit: data?.fit ?? "none",
      };
```

---

#### Pattern: `Optional Chaining` at line 98:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      return {
        source: data?.source ?? data?.url ?? data?.assetId ?? null,
        targetWidth: data?.width ?? null,
> targetHeight: data?.height ?? null,
        fit: data?.fit ?? "none",
      };
    }
```

---

#### Pattern: `Optional Chaining` at line 99:16

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        source: data?.source ?? data?.url ?? data?.assetId ?? null,
        targetWidth: data?.width ?? null,
        targetHeight: data?.height ?? null,
> fit: data?.fit ?? "none",
      };
    }
  
```

---

#### Pattern: `: void` at line 130:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set texture directly
     */
> setTexture(texture: THREE.Texture): void {
      // Store as both current and original (for effects processing)
      this.texture = texture;
      this.originalTexture = texture;
```

---

#### Pattern: `: void` at line 154:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set texture from ImageData
     */
> setTextureFromImageData(imageData: ImageData): void {
      const texture = this.resources.createTextureFromImageData(
        imageData,
        `layer_${this.id}_imagedata`,
```

---

#### Pattern: `: void` at line 172:68

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set texture from canvas
     */
> setTextureFromCanvas(canvas: HTMLCanvasElement | OffscreenCanvas): void {
      const texture = this.resources.createTextureFromCanvas(
        canvas,
        `layer_${this.id}_canvas`,
```

---

#### Pattern: `: void` at line 190:27

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update mesh size based on image dimensions and fit mode
     */
> private updateMeshSize(): void {
      // Dispose old geometry
      this.geometry.dispose();
  
```

---

#### Pattern: `isFinite()` at line 197:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // Calculate final dimensions based on fit mode
      // Validate dimensions (guard against 0/NaN from upstream)
      let finalWidth =
> Number.isFinite(this.imageWidth) && this.imageWidth > 0
          ? this.imageWidth
          : 100;
      let finalHeight =
```

---

#### Pattern: `isFinite()` at line 201:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          ? this.imageWidth
          : 100;
      let finalHeight =
> Number.isFinite(this.imageHeight) && this.imageHeight > 0
          ? this.imageHeight
          : 100;
  
```

---

#### Pattern: `isFinite()` at line 208:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // Only apply fit if we have valid target dimensions and fit is not 'none'
      const validTargetWidth =
        this.targetWidth &&
> Number.isFinite(this.targetWidth) &&
        this.targetWidth > 0;
      const validTargetHeight =
        this.targetHeight &&
```

---

#### Pattern: `isFinite()` at line 212:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        this.targetWidth > 0;
      const validTargetHeight =
        this.targetHeight &&
> Number.isFinite(this.targetHeight) &&
        this.targetHeight > 0;
      if (validTargetWidth && validTargetHeight && this.fit !== "none") {
        const targetAspect = this.targetWidth! / this.targetHeight!;
```

---

#### Pattern: `: void` at line 275:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set dimensions (stretches the image)
     */
> setDimensions(width: number, height: number): void {
      // Validate dimensions (NaN/0 would corrupt geometry and cause division by zero)
      this.imageWidth = Number.isFinite(width) && width > 0 ? width : 100;
      this.imageHeight = Number.isFinite(height) && height > 0 ? height : 100;
```

---

#### Pattern: `isFinite()` at line 277:30

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    setDimensions(width: number, height: number): void {
      // Validate dimensions (NaN/0 would corrupt geometry and cause division by zero)
> this.imageWidth = Number.isFinite(width) && width > 0 ? width : 100;
      this.imageHeight = Number.isFinite(height) && height > 0 ? height : 100;
      this.updateMeshSize();
    }
```

---

#### Pattern: `isFinite()` at line 278:31

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    setDimensions(width: number, height: number): void {
      // Validate dimensions (NaN/0 would corrupt geometry and cause division by zero)
      this.imageWidth = Number.isFinite(width) && width > 0 ? width : 100;
> this.imageHeight = Number.isFinite(height) && height > 0 ? height : 100;
      this.updateMeshSize();
    }
  
```

---

#### Pattern: `: void` at line 292:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set tint color
     */
> setTint(color: string | number): void {
      this.material.color.set(color);
      this.material.needsUpdate = true;
    }
```

---

#### Pattern: `: void` at line 300:14

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear tint (reset to white)
     */
> clearTint(): void {
      this.material.color.set(0xffffff);
      this.material.needsUpdate = true;
    }
```

---

#### Pattern: `Optional Chaining` at line 314:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Renders the original texture to a 2D canvas
     */
    protected override getSourceCanvas(): HTMLCanvasElement | null {
> if (!this.originalTexture?.image) {
        return null;
      }
  
```

---

#### Pattern: `: void` at line 357:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     */
    protected override applyProcessedEffects(
      processedCanvas: HTMLCanvasElement,
> ): void {
      // Create a new texture from the processed canvas
      const processedTexture = this.resources.createTextureFromCanvas(
        processedCanvas,
```

---

#### Pattern: `: void` at line 380:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // ABSTRACT IMPLEMENTATIONS
    // ============================================================================
  
> protected onEvaluateFrame(frame: number): void {
      // Process effects if any are enabled
      this.evaluateEffects(frame);
    }
```

---

#### Pattern: `: void` at line 387:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  
    protected override onApplyEvaluatedState(
      state: import("../MotionEngine").EvaluatedLayer,
> ): void {
      // Apply tint if present in evaluated properties
      if (state.properties.tint !== undefined) {
        this.setTint(state.properties.tint as string | number);
```

---

#### Pattern: `: void` at line 399:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> protected onUpdate(properties: Partial<Layer>): void {
      const data = properties.data as any;
      let needsResize = false;
  
```

---

#### Pattern: `Optional Chaining` at line 404:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      let needsResize = false;
  
      // Handle source change
> if (data?.source || data?.url || data?.assetId) {
        const newSource = data.source ?? data.url ?? data.assetId;
        if (newSource !== this.sourceUrl) {
          this.loadImage(newSource);
```

---

#### Pattern: `Optional Chaining` at line 404:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      let needsResize = false;
  
      // Handle source change
> if (data?.source || data?.url || data?.assetId) {
        const newSource = data.source ?? data.url ?? data.assetId;
        if (newSource !== this.sourceUrl) {
          this.loadImage(newSource);
```

---

#### Pattern: `Optional Chaining` at line 404:42

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      let needsResize = false;
  
      // Handle source change
> if (data?.source || data?.url || data?.assetId) {
        const newSource = data.source ?? data.url ?? data.assetId;
        if (newSource !== this.sourceUrl) {
          this.loadImage(newSource);
```

---

#### Pattern: `Optional Chaining` at line 412:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Handle fit mode change
> if (data?.fit !== undefined && data.fit !== this.fit) {
        this.fit = data.fit;
        needsResize = true;
      }
```

---

#### Pattern: `Optional Chaining` at line 418:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Handle target dimension change (for fit calculations)
> if (data?.width !== undefined || data?.height !== undefined) {
        this.targetWidth = data.width ?? this.targetWidth;
        this.targetHeight = data.height ?? this.targetHeight;
        needsResize = true;
```

---

#### Pattern: `Optional Chaining` at line 418:42

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Handle target dimension change (for fit calculations)
> if (data?.width !== undefined || data?.height !== undefined) {
        this.targetWidth = data.width ?? this.targetWidth;
        this.targetHeight = data.height ?? this.targetHeight;
        needsResize = true;
```

---

#### Pattern: `: void` at line 430:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> protected onDispose(): void {
      this.geometry.dispose();
      this.material.dispose();
  
```

---

### `engine/layers/LightLayer.ts` (104 pattern(s))

#### Pattern: `isFinite()` at line 181:30

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
   */
  function kelvinToRGB(kelvin: number): { r: number; g: number; b: number } {
    // Validate kelvin (NaN would produce NaN RGB values)
> const validKelvin = Number.isFinite(kelvin) ? kelvin : 6500;
    const temp = validKelvin / 100;
    let r: number, g: number, b: number;
  
```

---

#### Pattern: `Optional Chaining` at line 279:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const data = layerData.data as any;
  
      return {
> lightType: data?.lightType ?? "point",
        color: data?.color ?? "#ffffff",
        colorTemperature: data?.colorTemperature,
        useColorTemperature: data?.useColorTemperature ?? false,
```

---

#### Pattern: `Optional Chaining` at line 280:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      return {
        lightType: data?.lightType ?? "point",
> color: data?.color ?? "#ffffff",
        colorTemperature: data?.colorTemperature,
        useColorTemperature: data?.useColorTemperature ?? false,
        intensity: data?.intensity ?? 100,
```

---

#### Pattern: `Optional Chaining` at line 281:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      return {
        lightType: data?.lightType ?? "point",
        color: data?.color ?? "#ffffff",
> colorTemperature: data?.colorTemperature,
        useColorTemperature: data?.useColorTemperature ?? false,
        intensity: data?.intensity ?? 100,
        physicalIntensity: data?.physicalIntensity,
```

---

#### Pattern: `Optional Chaining` at line 282:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        lightType: data?.lightType ?? "point",
        color: data?.color ?? "#ffffff",
        colorTemperature: data?.colorTemperature,
> useColorTemperature: data?.useColorTemperature ?? false,
        intensity: data?.intensity ?? 100,
        physicalIntensity: data?.physicalIntensity,
        usePhysicalIntensity: data?.usePhysicalIntensity ?? false,
```

---

#### Pattern: `Optional Chaining` at line 283:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        color: data?.color ?? "#ffffff",
        colorTemperature: data?.colorTemperature,
        useColorTemperature: data?.useColorTemperature ?? false,
> intensity: data?.intensity ?? 100,
        physicalIntensity: data?.physicalIntensity,
        usePhysicalIntensity: data?.usePhysicalIntensity ?? false,
        radius: data?.radius ?? 500,
```

---

#### Pattern: `Optional Chaining` at line 284:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        colorTemperature: data?.colorTemperature,
        useColorTemperature: data?.useColorTemperature ?? false,
        intensity: data?.intensity ?? 100,
> physicalIntensity: data?.physicalIntensity,
        usePhysicalIntensity: data?.usePhysicalIntensity ?? false,
        radius: data?.radius ?? 500,
        falloff: data?.falloff ?? "none",
```

---

#### Pattern: `Optional Chaining` at line 285:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        useColorTemperature: data?.useColorTemperature ?? false,
        intensity: data?.intensity ?? 100,
        physicalIntensity: data?.physicalIntensity,
> usePhysicalIntensity: data?.usePhysicalIntensity ?? false,
        radius: data?.radius ?? 500,
        falloff: data?.falloff ?? "none",
        falloffDistance: data?.falloffDistance ?? 500,
```

---

#### Pattern: `Optional Chaining` at line 286:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        intensity: data?.intensity ?? 100,
        physicalIntensity: data?.physicalIntensity,
        usePhysicalIntensity: data?.usePhysicalIntensity ?? false,
> radius: data?.radius ?? 500,
        falloff: data?.falloff ?? "none",
        falloffDistance: data?.falloffDistance ?? 500,
        coneAngle: data?.coneAngle ?? 90,
```

---

#### Pattern: `Optional Chaining` at line 287:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        physicalIntensity: data?.physicalIntensity,
        usePhysicalIntensity: data?.usePhysicalIntensity ?? false,
        radius: data?.radius ?? 500,
> falloff: data?.falloff ?? "none",
        falloffDistance: data?.falloffDistance ?? 500,
        coneAngle: data?.coneAngle ?? 90,
        coneFeather: data?.coneFeather ?? 50,
```

---

#### Pattern: `Optional Chaining` at line 288:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        usePhysicalIntensity: data?.usePhysicalIntensity ?? false,
        radius: data?.radius ?? 500,
        falloff: data?.falloff ?? "none",
> falloffDistance: data?.falloffDistance ?? 500,
        coneAngle: data?.coneAngle ?? 90,
        coneFeather: data?.coneFeather ?? 50,
        areaWidth: data?.areaWidth ?? 100,
```

---

#### Pattern: `Optional Chaining` at line 289:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        radius: data?.radius ?? 500,
        falloff: data?.falloff ?? "none",
        falloffDistance: data?.falloffDistance ?? 500,
> coneAngle: data?.coneAngle ?? 90,
        coneFeather: data?.coneFeather ?? 50,
        areaWidth: data?.areaWidth ?? 100,
        areaHeight: data?.areaHeight ?? 100,
```

---

#### Pattern: `Optional Chaining` at line 290:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        falloff: data?.falloff ?? "none",
        falloffDistance: data?.falloffDistance ?? 500,
        coneAngle: data?.coneAngle ?? 90,
> coneFeather: data?.coneFeather ?? 50,
        areaWidth: data?.areaWidth ?? 100,
        areaHeight: data?.areaHeight ?? 100,
  
```

---

#### Pattern: `Optional Chaining` at line 291:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        falloffDistance: data?.falloffDistance ?? 500,
        coneAngle: data?.coneAngle ?? 90,
        coneFeather: data?.coneFeather ?? 50,
> areaWidth: data?.areaWidth ?? 100,
        areaHeight: data?.areaHeight ?? 100,
  
        pointOfInterest: {
```

---

#### Pattern: `Optional Chaining` at line 292:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        coneAngle: data?.coneAngle ?? 90,
        coneFeather: data?.coneFeather ?? 50,
        areaWidth: data?.areaWidth ?? 100,
> areaHeight: data?.areaHeight ?? 100,
  
        pointOfInterest: {
          enabled: data?.pointOfInterest?.enabled ?? false,
```

---

#### Pattern: `Optional Chaining` at line 295:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        areaHeight: data?.areaHeight ?? 100,
  
        pointOfInterest: {
> enabled: data?.pointOfInterest?.enabled ?? false,
          targetType: data?.pointOfInterest?.targetType ?? "position",
          position: data?.pointOfInterest?.position ?? {
            id: "poi_pos",
```

---

#### Pattern: `Optional Chaining` at line 295:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        areaHeight: data?.areaHeight ?? 100,
  
        pointOfInterest: {
> enabled: data?.pointOfInterest?.enabled ?? false,
          targetType: data?.pointOfInterest?.targetType ?? "position",
          position: data?.pointOfInterest?.position ?? {
            id: "poi_pos",
```

---

#### Pattern: `Optional Chaining` at line 296:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        pointOfInterest: {
          enabled: data?.pointOfInterest?.enabled ?? false,
> targetType: data?.pointOfInterest?.targetType ?? "position",
          position: data?.pointOfInterest?.position ?? {
            id: "poi_pos",
            name: "POI Position",
```

---

#### Pattern: `Optional Chaining` at line 296:42

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        pointOfInterest: {
          enabled: data?.pointOfInterest?.enabled ?? false,
> targetType: data?.pointOfInterest?.targetType ?? "position",
          position: data?.pointOfInterest?.position ?? {
            id: "poi_pos",
            name: "POI Position",
```

---

#### Pattern: `Optional Chaining` at line 297:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        pointOfInterest: {
          enabled: data?.pointOfInterest?.enabled ?? false,
          targetType: data?.pointOfInterest?.targetType ?? "position",
> position: data?.pointOfInterest?.position ?? {
            id: "poi_pos",
            name: "POI Position",
            type: "vector3",
```

---

#### Pattern: `Optional Chaining` at line 297:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        pointOfInterest: {
          enabled: data?.pointOfInterest?.enabled ?? false,
          targetType: data?.pointOfInterest?.targetType ?? "position",
> position: data?.pointOfInterest?.position ?? {
            id: "poi_pos",
            name: "POI Position",
            type: "vector3",
```

---

#### Pattern: `Optional Chaining` at line 305:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            animated: false,
            keyframes: [],
          },
> targetLayerId: data?.pointOfInterest?.targetLayerId,
          offset: data?.pointOfInterest?.offset ?? { x: 0, y: 0, z: 0 },
          smoothing: data?.pointOfInterest?.smoothing ?? 0,
        },
```

---

#### Pattern: `Optional Chaining` at line 305:45

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            animated: false,
            keyframes: [],
          },
> targetLayerId: data?.pointOfInterest?.targetLayerId,
          offset: data?.pointOfInterest?.offset ?? { x: 0, y: 0, z: 0 },
          smoothing: data?.pointOfInterest?.smoothing ?? 0,
        },
```

---

#### Pattern: `Optional Chaining` at line 306:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            keyframes: [],
          },
          targetLayerId: data?.pointOfInterest?.targetLayerId,
> offset: data?.pointOfInterest?.offset ?? { x: 0, y: 0, z: 0 },
          smoothing: data?.pointOfInterest?.smoothing ?? 0,
        },
  
```

---

#### Pattern: `Optional Chaining` at line 306:38

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            keyframes: [],
          },
          targetLayerId: data?.pointOfInterest?.targetLayerId,
> offset: data?.pointOfInterest?.offset ?? { x: 0, y: 0, z: 0 },
          smoothing: data?.pointOfInterest?.smoothing ?? 0,
        },
  
```

---

#### Pattern: `Optional Chaining` at line 307:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          },
          targetLayerId: data?.pointOfInterest?.targetLayerId,
          offset: data?.pointOfInterest?.offset ?? { x: 0, y: 0, z: 0 },
> smoothing: data?.pointOfInterest?.smoothing ?? 0,
        },
  
        pathFollowing: {
```

---

#### Pattern: `Optional Chaining` at line 307:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          },
          targetLayerId: data?.pointOfInterest?.targetLayerId,
          offset: data?.pointOfInterest?.offset ?? { x: 0, y: 0, z: 0 },
> smoothing: data?.pointOfInterest?.smoothing ?? 0,
        },
  
        pathFollowing: {
```

---

#### Pattern: `Optional Chaining` at line 311:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        },
  
        pathFollowing: {
> enabled: data?.pathFollowing?.enabled ?? false,
          splineLayerId: data?.pathFollowing?.splineLayerId,
          progress: data?.pathFollowing?.progress ?? {
            id: "path_progress",
```

---

#### Pattern: `Optional Chaining` at line 311:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        },
  
        pathFollowing: {
> enabled: data?.pathFollowing?.enabled ?? false,
          splineLayerId: data?.pathFollowing?.splineLayerId,
          progress: data?.pathFollowing?.progress ?? {
            id: "path_progress",
```

---

#### Pattern: `Optional Chaining` at line 312:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        pathFollowing: {
          enabled: data?.pathFollowing?.enabled ?? false,
> splineLayerId: data?.pathFollowing?.splineLayerId,
          progress: data?.pathFollowing?.progress ?? {
            id: "path_progress",
            name: "Path Progress",
```

---

#### Pattern: `Optional Chaining` at line 312:43

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        pathFollowing: {
          enabled: data?.pathFollowing?.enabled ?? false,
> splineLayerId: data?.pathFollowing?.splineLayerId,
          progress: data?.pathFollowing?.progress ?? {
            id: "path_progress",
            name: "Path Progress",
```

---

#### Pattern: `Optional Chaining` at line 313:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        pathFollowing: {
          enabled: data?.pathFollowing?.enabled ?? false,
          splineLayerId: data?.pathFollowing?.splineLayerId,
> progress: data?.pathFollowing?.progress ?? {
            id: "path_progress",
            name: "Path Progress",
            type: "number",
```

---

#### Pattern: `Optional Chaining` at line 313:38

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        pathFollowing: {
          enabled: data?.pathFollowing?.enabled ?? false,
          splineLayerId: data?.pathFollowing?.splineLayerId,
> progress: data?.pathFollowing?.progress ?? {
            id: "path_progress",
            name: "Path Progress",
            type: "number",
```

---

#### Pattern: `Optional Chaining` at line 321:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            animated: false,
            keyframes: [],
          },
> autoOrient: data?.pathFollowing?.autoOrient ?? true,
          bankAngle: data?.pathFollowing?.bankAngle ?? {
            id: "bank_angle",
            name: "Bank Angle",
```

---

#### Pattern: `Optional Chaining` at line 321:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            animated: false,
            keyframes: [],
          },
> autoOrient: data?.pathFollowing?.autoOrient ?? true,
          bankAngle: data?.pathFollowing?.bankAngle ?? {
            id: "bank_angle",
            name: "Bank Angle",
```

---

#### Pattern: `Optional Chaining` at line 322:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            keyframes: [],
          },
          autoOrient: data?.pathFollowing?.autoOrient ?? true,
> bankAngle: data?.pathFollowing?.bankAngle ?? {
            id: "bank_angle",
            name: "Bank Angle",
            type: "number",
```

---

#### Pattern: `Optional Chaining` at line 322:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            keyframes: [],
          },
          autoOrient: data?.pathFollowing?.autoOrient ?? true,
> bankAngle: data?.pathFollowing?.bankAngle ?? {
            id: "bank_angle",
            name: "Bank Angle",
            type: "number",
```

---

#### Pattern: `Optional Chaining` at line 333:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        },
  
        shadow: {
> enabled: data?.shadow?.enabled ?? data?.castShadows ?? false,
          type: data?.shadow?.type ?? "pcf",
          mapSize: data?.shadow?.mapSize ?? 1024,
          darkness: data?.shadow?.darkness ?? data?.shadowDarkness ?? 100,
```

---

#### Pattern: `Optional Chaining` at line 333:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        },
  
        shadow: {
> enabled: data?.shadow?.enabled ?? data?.castShadows ?? false,
          type: data?.shadow?.type ?? "pcf",
          mapSize: data?.shadow?.mapSize ?? 1024,
          darkness: data?.shadow?.darkness ?? data?.shadowDarkness ?? 100,
```

---

#### Pattern: `Optional Chaining` at line 333:47

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        },
  
        shadow: {
> enabled: data?.shadow?.enabled ?? data?.castShadows ?? false,
          type: data?.shadow?.type ?? "pcf",
          mapSize: data?.shadow?.mapSize ?? 1024,
          darkness: data?.shadow?.darkness ?? data?.shadowDarkness ?? 100,
```

---

#### Pattern: `Optional Chaining` at line 334:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        shadow: {
          enabled: data?.shadow?.enabled ?? data?.castShadows ?? false,
> type: data?.shadow?.type ?? "pcf",
          mapSize: data?.shadow?.mapSize ?? 1024,
          darkness: data?.shadow?.darkness ?? data?.shadowDarkness ?? 100,
          radius: data?.shadow?.radius ?? data?.shadowDiffusion ?? 1,
```

---

#### Pattern: `Optional Chaining` at line 334:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        shadow: {
          enabled: data?.shadow?.enabled ?? data?.castShadows ?? false,
> type: data?.shadow?.type ?? "pcf",
          mapSize: data?.shadow?.mapSize ?? 1024,
          darkness: data?.shadow?.darkness ?? data?.shadowDarkness ?? 100,
          radius: data?.shadow?.radius ?? data?.shadowDiffusion ?? 1,
```

---

#### Pattern: `Optional Chaining` at line 335:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        shadow: {
          enabled: data?.shadow?.enabled ?? data?.castShadows ?? false,
          type: data?.shadow?.type ?? "pcf",
> mapSize: data?.shadow?.mapSize ?? 1024,
          darkness: data?.shadow?.darkness ?? data?.shadowDarkness ?? 100,
          radius: data?.shadow?.radius ?? data?.shadowDiffusion ?? 1,
          bias: data?.shadow?.bias ?? -0.0001,
```

---

#### Pattern: `Optional Chaining` at line 335:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        shadow: {
          enabled: data?.shadow?.enabled ?? data?.castShadows ?? false,
          type: data?.shadow?.type ?? "pcf",
> mapSize: data?.shadow?.mapSize ?? 1024,
          darkness: data?.shadow?.darkness ?? data?.shadowDarkness ?? 100,
          radius: data?.shadow?.radius ?? data?.shadowDiffusion ?? 1,
          bias: data?.shadow?.bias ?? -0.0001,
```

---

#### Pattern: `Optional Chaining` at line 336:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          enabled: data?.shadow?.enabled ?? data?.castShadows ?? false,
          type: data?.shadow?.type ?? "pcf",
          mapSize: data?.shadow?.mapSize ?? 1024,
> darkness: data?.shadow?.darkness ?? data?.shadowDarkness ?? 100,
          radius: data?.shadow?.radius ?? data?.shadowDiffusion ?? 1,
          bias: data?.shadow?.bias ?? -0.0001,
          normalBias: data?.shadow?.normalBias ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 336:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          enabled: data?.shadow?.enabled ?? data?.castShadows ?? false,
          type: data?.shadow?.type ?? "pcf",
          mapSize: data?.shadow?.mapSize ?? 1024,
> darkness: data?.shadow?.darkness ?? data?.shadowDarkness ?? 100,
          radius: data?.shadow?.radius ?? data?.shadowDiffusion ?? 1,
          bias: data?.shadow?.bias ?? -0.0001,
          normalBias: data?.shadow?.normalBias ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 336:49

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          enabled: data?.shadow?.enabled ?? data?.castShadows ?? false,
          type: data?.shadow?.type ?? "pcf",
          mapSize: data?.shadow?.mapSize ?? 1024,
> darkness: data?.shadow?.darkness ?? data?.shadowDarkness ?? 100,
          radius: data?.shadow?.radius ?? data?.shadowDiffusion ?? 1,
          bias: data?.shadow?.bias ?? -0.0001,
          normalBias: data?.shadow?.normalBias ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 337:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          type: data?.shadow?.type ?? "pcf",
          mapSize: data?.shadow?.mapSize ?? 1024,
          darkness: data?.shadow?.darkness ?? data?.shadowDarkness ?? 100,
> radius: data?.shadow?.radius ?? data?.shadowDiffusion ?? 1,
          bias: data?.shadow?.bias ?? -0.0001,
          normalBias: data?.shadow?.normalBias ?? 0,
          cameraNear: data?.shadow?.cameraNear ?? 1,
```

---

#### Pattern: `Optional Chaining` at line 337:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          type: data?.shadow?.type ?? "pcf",
          mapSize: data?.shadow?.mapSize ?? 1024,
          darkness: data?.shadow?.darkness ?? data?.shadowDarkness ?? 100,
> radius: data?.shadow?.radius ?? data?.shadowDiffusion ?? 1,
          bias: data?.shadow?.bias ?? -0.0001,
          normalBias: data?.shadow?.normalBias ?? 0,
          cameraNear: data?.shadow?.cameraNear ?? 1,
```

---

#### Pattern: `Optional Chaining` at line 337:45

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          type: data?.shadow?.type ?? "pcf",
          mapSize: data?.shadow?.mapSize ?? 1024,
          darkness: data?.shadow?.darkness ?? data?.shadowDarkness ?? 100,
> radius: data?.shadow?.radius ?? data?.shadowDiffusion ?? 1,
          bias: data?.shadow?.bias ?? -0.0001,
          normalBias: data?.shadow?.normalBias ?? 0,
          cameraNear: data?.shadow?.cameraNear ?? 1,
```

---

#### Pattern: `Optional Chaining` at line 338:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          mapSize: data?.shadow?.mapSize ?? 1024,
          darkness: data?.shadow?.darkness ?? data?.shadowDarkness ?? 100,
          radius: data?.shadow?.radius ?? data?.shadowDiffusion ?? 1,
> bias: data?.shadow?.bias ?? -0.0001,
          normalBias: data?.shadow?.normalBias ?? 0,
          cameraNear: data?.shadow?.cameraNear ?? 1,
          cameraFar: data?.shadow?.cameraFar ?? 1000,
```

---

#### Pattern: `Optional Chaining` at line 338:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          mapSize: data?.shadow?.mapSize ?? 1024,
          darkness: data?.shadow?.darkness ?? data?.shadowDarkness ?? 100,
          radius: data?.shadow?.radius ?? data?.shadowDiffusion ?? 1,
> bias: data?.shadow?.bias ?? -0.0001,
          normalBias: data?.shadow?.normalBias ?? 0,
          cameraNear: data?.shadow?.cameraNear ?? 1,
          cameraFar: data?.shadow?.cameraFar ?? 1000,
```

---

#### Pattern: `Optional Chaining` at line 339:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          darkness: data?.shadow?.darkness ?? data?.shadowDarkness ?? 100,
          radius: data?.shadow?.radius ?? data?.shadowDiffusion ?? 1,
          bias: data?.shadow?.bias ?? -0.0001,
> normalBias: data?.shadow?.normalBias ?? 0,
          cameraNear: data?.shadow?.cameraNear ?? 1,
          cameraFar: data?.shadow?.cameraFar ?? 1000,
          cameraSize: data?.shadow?.cameraSize ?? 500,
```

---

#### Pattern: `Optional Chaining` at line 339:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          darkness: data?.shadow?.darkness ?? data?.shadowDarkness ?? 100,
          radius: data?.shadow?.radius ?? data?.shadowDiffusion ?? 1,
          bias: data?.shadow?.bias ?? -0.0001,
> normalBias: data?.shadow?.normalBias ?? 0,
          cameraNear: data?.shadow?.cameraNear ?? 1,
          cameraFar: data?.shadow?.cameraFar ?? 1000,
          cameraSize: data?.shadow?.cameraSize ?? 500,
```

---

#### Pattern: `Optional Chaining` at line 340:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          radius: data?.shadow?.radius ?? data?.shadowDiffusion ?? 1,
          bias: data?.shadow?.bias ?? -0.0001,
          normalBias: data?.shadow?.normalBias ?? 0,
> cameraNear: data?.shadow?.cameraNear ?? 1,
          cameraFar: data?.shadow?.cameraFar ?? 1000,
          cameraSize: data?.shadow?.cameraSize ?? 500,
        },
```

---

#### Pattern: `Optional Chaining` at line 340:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          radius: data?.shadow?.radius ?? data?.shadowDiffusion ?? 1,
          bias: data?.shadow?.bias ?? -0.0001,
          normalBias: data?.shadow?.normalBias ?? 0,
> cameraNear: data?.shadow?.cameraNear ?? 1,
          cameraFar: data?.shadow?.cameraFar ?? 1000,
          cameraSize: data?.shadow?.cameraSize ?? 500,
        },
```

---

#### Pattern: `Optional Chaining` at line 341:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          bias: data?.shadow?.bias ?? -0.0001,
          normalBias: data?.shadow?.normalBias ?? 0,
          cameraNear: data?.shadow?.cameraNear ?? 1,
> cameraFar: data?.shadow?.cameraFar ?? 1000,
          cameraSize: data?.shadow?.cameraSize ?? 500,
        },
  
```

---

#### Pattern: `Optional Chaining` at line 341:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          bias: data?.shadow?.bias ?? -0.0001,
          normalBias: data?.shadow?.normalBias ?? 0,
          cameraNear: data?.shadow?.cameraNear ?? 1,
> cameraFar: data?.shadow?.cameraFar ?? 1000,
          cameraSize: data?.shadow?.cameraSize ?? 500,
        },
  
```

---

#### Pattern: `Optional Chaining` at line 342:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          normalBias: data?.shadow?.normalBias ?? 0,
          cameraNear: data?.shadow?.cameraNear ?? 1,
          cameraFar: data?.shadow?.cameraFar ?? 1000,
> cameraSize: data?.shadow?.cameraSize ?? 500,
        },
  
        lightLinking: {
```

---

#### Pattern: `Optional Chaining` at line 342:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          normalBias: data?.shadow?.normalBias ?? 0,
          cameraNear: data?.shadow?.cameraNear ?? 1,
          cameraFar: data?.shadow?.cameraFar ?? 1000,
> cameraSize: data?.shadow?.cameraSize ?? 500,
        },
  
        lightLinking: {
```

---

#### Pattern: `Optional Chaining` at line 346:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        },
  
        lightLinking: {
> mode: data?.lightLinking?.mode ?? "include",
          layers: data?.lightLinking?.layers ?? [],
        },
  
```

---

#### Pattern: `Optional Chaining` at line 346:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        },
  
        lightLinking: {
> mode: data?.lightLinking?.mode ?? "include",
          layers: data?.lightLinking?.layers ?? [],
        },
  
```

---

#### Pattern: `Optional Chaining` at line 347:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        lightLinking: {
          mode: data?.lightLinking?.mode ?? "include",
> layers: data?.lightLinking?.layers ?? [],
        },
  
        animatedIntensity: data?.animatedIntensity,
```

---

#### Pattern: `Optional Chaining` at line 347:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        lightLinking: {
          mode: data?.lightLinking?.mode ?? "include",
> layers: data?.lightLinking?.layers ?? [],
        },
  
        animatedIntensity: data?.animatedIntensity,
```

---

#### Pattern: `Optional Chaining` at line 350:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          layers: data?.lightLinking?.layers ?? [],
        },
  
> animatedIntensity: data?.animatedIntensity,
        animatedConeAngle: data?.animatedConeAngle,
        animatedColor: data?.animatedColor,
        animatedColorTemperature: data?.animatedColorTemperature,
```

---

#### Pattern: `Optional Chaining` at line 351:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        },
  
        animatedIntensity: data?.animatedIntensity,
> animatedConeAngle: data?.animatedConeAngle,
        animatedColor: data?.animatedColor,
        animatedColorTemperature: data?.animatedColorTemperature,
      };
```

---

#### Pattern: `Optional Chaining` at line 352:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        animatedIntensity: data?.animatedIntensity,
        animatedConeAngle: data?.animatedConeAngle,
> animatedColor: data?.animatedColor,
        animatedColorTemperature: data?.animatedColorTemperature,
      };
    }
```

---

#### Pattern: `Optional Chaining` at line 353:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        animatedIntensity: data?.animatedIntensity,
        animatedConeAngle: data?.animatedConeAngle,
        animatedColor: data?.animatedColor,
> animatedColorTemperature: data?.animatedColorTemperature,
      };
    }
  
```

---

#### Pattern: `: void` at line 447:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  
    private configureShadows(
      light: THREE.PointLight | THREE.SpotLight | THREE.DirectionalLight,
> ): void {
      const shadowConfig = this.lightData.shadow;
      light.castShadow = shadowConfig.enabled;
  
```

---

#### Pattern: `: void` at line 499:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // HELPER VISUALIZATION
    // ============================================================================
  
> private createHelper(): void {
      if (this.helper) {
        this.group.remove(this.helper);
        if ((this.helper as any).dispose) {
```

---

#### Pattern: `: void` at line 559:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     */
    setLayerPositionGetter(
      getter: ((layerId: string) => THREE.Vector3 | null) | null,
> ): void {
      this.layerPositionGetter = getter;
    }
  
```

---

#### Pattern: `: void` at line 566:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update point of interest target
     */
> private updatePointOfInterest(frame: number): void {
      const poi = this.lightData.pointOfInterest;
      if (!poi.enabled) return;
  
```

---

#### Pattern: `: void` at line 636:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
            tangent: { x: number; y: number };
          } | null)
        | null,
> ): void {
      this.pathProvider = provider;
    }
  
```

---

#### Pattern: `: void` at line 643:45

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update position and orientation from path
     */
> private updatePathFollowing(frame: number): void {
      const path = this.lightData.pathFollowing;
      if (!path.enabled || !path.splineLayerId || !this.pathProvider) return;
  
```

---

#### Pattern: `: void` at line 677:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // PUBLIC SETTERS
    // ============================================================================
  
> setLightType(type: LightType): void {
      if (type === this.lightData.lightType) return;
  
      this.lightData.lightType = type;
```

---

#### Pattern: `: void` at line 692:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.createHelper();
    }
  
> setColor(color: string): void {
      this.lightData.color = color;
      this.lightData.useColorTemperature = false;
      this.light.color.set(color);
```

---

#### Pattern: `: void` at line 698:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.light.color.set(color);
    }
  
> setColorTemperature(kelvin: number): void {
      this.lightData.colorTemperature = kelvin;
      this.lightData.useColorTemperature = true;
      const rgb = kelvinToRGB(kelvin);
```

---

#### Pattern: `: void` at line 705:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.light.color.setRGB(rgb.r, rgb.g, rgb.b);
    }
  
> setIntensity(intensity: number): void {
      // Validate intensity (NaN would corrupt light rendering)
      const validIntensity = Number.isFinite(intensity) ? intensity : 100;
      this.lightData.intensity = validIntensity;
```

---

#### Pattern: `isFinite()` at line 707:35

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    setIntensity(intensity: number): void {
      // Validate intensity (NaN would corrupt light rendering)
> const validIntensity = Number.isFinite(intensity) ? intensity : 100;
      this.lightData.intensity = validIntensity;
      this.lightData.usePhysicalIntensity = false;
      this.light.intensity = validIntensity / 100;
```

---

#### Pattern: `: void` at line 713:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.light.intensity = validIntensity / 100;
    }
  
> setFalloffDistance(distance: number): void {
      // Validate distance (NaN would corrupt light falloff)
      const validDistance = Number.isFinite(distance) ? distance : 500;
      this.lightData.falloffDistance = validDistance;
```

---

#### Pattern: `isFinite()` at line 715:34

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    setFalloffDistance(distance: number): void {
      // Validate distance (NaN would corrupt light falloff)
> const validDistance = Number.isFinite(distance) ? distance : 500;
      this.lightData.falloffDistance = validDistance;
      if (
        this.light instanceof THREE.PointLight ||
```

---

#### Pattern: `: void` at line 726:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> setConeAngle(angle: number): void {
      if (this.light instanceof THREE.SpotLight) {
        // Validate angle (NaN would corrupt light cone)
        const validAngle = Number.isFinite(angle) ? angle : 90;
```

---

#### Pattern: `isFinite()` at line 729:33

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    setConeAngle(angle: number): void {
      if (this.light instanceof THREE.SpotLight) {
        // Validate angle (NaN would corrupt light cone)
> const validAngle = Number.isFinite(angle) ? angle : 90;
        this.lightData.coneAngle = validAngle;
        this.light.angle = THREE.MathUtils.degToRad(validAngle / 2);
        if (this.helper instanceof THREE.SpotLightHelper) {
```

---

#### Pattern: `: void` at line 738:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> setConeFeather(feather: number): void {
      if (this.light instanceof THREE.SpotLight) {
        // Validate feather (NaN would corrupt penumbra)
        const validFeather = Number.isFinite(feather) ? feather : 50;
```

---

#### Pattern: `isFinite()` at line 741:35

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    setConeFeather(feather: number): void {
      if (this.light instanceof THREE.SpotLight) {
        // Validate feather (NaN would corrupt penumbra)
> const validFeather = Number.isFinite(feather) ? feather : 50;
        this.lightData.coneFeather = validFeather;
        this.light.penumbra = validFeather / 100;
      }
```

---

#### Pattern: `: void` at line 747:45

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> setAreaSize(width: number, height: number): void {
      if (this.light instanceof THREE.RectAreaLight) {
        // Validate dimensions (NaN/0 would corrupt area light)
        const validWidth = Number.isFinite(width) && width > 0 ? width : 100;
```

---

#### Pattern: `isFinite()` at line 750:33

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    setAreaSize(width: number, height: number): void {
      if (this.light instanceof THREE.RectAreaLight) {
        // Validate dimensions (NaN/0 would corrupt area light)
> const validWidth = Number.isFinite(width) && width > 0 ? width : 100;
        const validHeight = Number.isFinite(height) && height > 0 ? height : 100;
        this.lightData.areaWidth = validWidth;
        this.lightData.areaHeight = validHeight;
```

---

#### Pattern: `isFinite()` at line 751:34

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      if (this.light instanceof THREE.RectAreaLight) {
        // Validate dimensions (NaN/0 would corrupt area light)
        const validWidth = Number.isFinite(width) && width > 0 ? width : 100;
> const validHeight = Number.isFinite(height) && height > 0 ? height : 100;
        this.lightData.areaWidth = validWidth;
        this.lightData.areaHeight = validHeight;
        this.light.width = validWidth;
```

---

#### Pattern: `: void` at line 759:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> setShadowEnabled(enabled: boolean): void {
      this.lightData.shadow.enabled = enabled;
      if (
        this.light instanceof THREE.PointLight ||
```

---

#### Pattern: `: void` at line 770:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> setShadowType(type: ShadowType): void {
      this.lightData.shadow.type = type;
      if (
        this.light instanceof THREE.PointLight ||
```

---

#### Pattern: `: void` at line 781:46

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> setPointOfInterestEnabled(enabled: boolean): void {
      this.lightData.pointOfInterest.enabled = enabled;
    }
  
```

---

#### Pattern: `: void` at line 785:51

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.lightData.pointOfInterest.enabled = enabled;
    }
  
> setPointOfInterestTarget(layerId: string | null): void {
      if (layerId) {
        this.lightData.pointOfInterest.targetType = "layer";
        this.lightData.pointOfInterest.targetLayerId = layerId;
```

---

#### Pattern: `: void` at line 795:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> setPathFollowingEnabled(enabled: boolean): void {
      this.lightData.pathFollowing.enabled = enabled;
    }
  
```

---

#### Pattern: `: void` at line 799:46

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.lightData.pathFollowing.enabled = enabled;
    }
  
> setPathSpline(splineLayerId: string | null): void {
      this.lightData.pathFollowing.splineLayerId = splineLayerId ?? undefined;
    }
  
```

---

#### Pattern: `: void` at line 858:54

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set a light property value by driver property path
     * Used by PropertyDriverSystem for driven values
     */
> setDriverPropertyValue(path: string, value: number): void {
      switch (path) {
        case "light.intensity":
          this.light.intensity = value / 100;
```

---

#### Pattern: `: void` at line 971:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> setHelperVisible(visible: boolean): void {
      if (this.helper) {
        this.helper.visible = visible;
      }
```

---

#### Pattern: `: void` at line 981:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // FRAME EVALUATION
    // ============================================================================
  
> protected onEvaluateFrame(frame: number): void {
      // Path following (overrides transform)
      if (this.lightData.pathFollowing.enabled) {
        this.updatePathFollowing(frame);
```

---

#### Pattern: `Optional Chaining` at line 993:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Animated intensity
> if (this.lightData.animatedIntensity?.animated) {
        const intensity = this.evaluator.evaluate(
          this.lightData.animatedIntensity,
          frame,
```

---

#### Pattern: `Optional Chaining` at line 1003:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Animated cone angle
      if (
> this.lightData.animatedConeAngle?.animated &&
        this.light instanceof THREE.SpotLight
      ) {
        const angle = this.evaluator.evaluate(
```

---

#### Pattern: `Optional Chaining` at line 1017:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Animated color
> if (this.lightData.animatedColor?.animated) {
        const color = this.evaluator.evaluate(
          this.lightData.animatedColor,
          frame,
```

---

#### Pattern: `Optional Chaining` at line 1027:46

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Animated color temperature
      if (
> this.lightData.animatedColorTemperature?.animated &&
        this.lightData.useColorTemperature
      ) {
        const kelvin = this.evaluator.evaluate(
```

---

#### Pattern: `: void` at line 1052:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  
    protected override onApplyEvaluatedState(
      state: import("../MotionEngine").EvaluatedLayer,
> ): void {
      const props = state.properties;
  
      // Apply evaluated intensity
```

---

#### Pattern: `: void` at line 1115:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> protected onUpdate(properties: Partial<Layer>): void {
      const data = properties.data as Partial<LightData> | undefined;
      if (!data) return;
  
```

---

#### Pattern: `: void` at line 1200:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> protected onDispose(): void {
      if ((this.light as any).dispose) {
        (this.light as any).dispose();
      }
```

---

### `engine/layers/ModelLayer.ts` (57 pattern(s))

#### Pattern: `: void` at line 102:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Initialize shared loaders
     */
> private initializeLoaders(): void {
      if (!ModelLayer.gltfLoader) {
        ModelLayer.gltfLoader = new GLTFLoader();
  
```

---

#### Pattern: `Optional Chaining` at line 145:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      };
  
      return {
> assetId: data?.assetId ?? "",
        format: data?.format ?? "gltf",
        scale: data?.scale ?? defaultScale,
        uniformScale: data?.uniformScale ?? true,
```

---

#### Pattern: `Optional Chaining` at line 146:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      return {
        assetId: data?.assetId ?? "",
> format: data?.format ?? "gltf",
        scale: data?.scale ?? defaultScale,
        uniformScale: data?.uniformScale ?? true,
        materialOverride: data?.materialOverride,
```

---

#### Pattern: `Optional Chaining` at line 147:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      return {
        assetId: data?.assetId ?? "",
        format: data?.format ?? "gltf",
> scale: data?.scale ?? defaultScale,
        uniformScale: data?.uniformScale ?? true,
        materialOverride: data?.materialOverride,
        animation: data?.animation,
```

---

#### Pattern: `Optional Chaining` at line 148:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        assetId: data?.assetId ?? "",
        format: data?.format ?? "gltf",
        scale: data?.scale ?? defaultScale,
> uniformScale: data?.uniformScale ?? true,
        materialOverride: data?.materialOverride,
        animation: data?.animation,
        boundingBox: data?.boundingBox,
```

---

#### Pattern: `Optional Chaining` at line 149:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        format: data?.format ?? "gltf",
        scale: data?.scale ?? defaultScale,
        uniformScale: data?.uniformScale ?? true,
> materialOverride: data?.materialOverride,
        animation: data?.animation,
        boundingBox: data?.boundingBox,
        castShadow: data?.castShadow ?? true,
```

---

#### Pattern: `Optional Chaining` at line 150:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        scale: data?.scale ?? defaultScale,
        uniformScale: data?.uniformScale ?? true,
        materialOverride: data?.materialOverride,
> animation: data?.animation,
        boundingBox: data?.boundingBox,
        castShadow: data?.castShadow ?? true,
        receiveShadow: data?.receiveShadow ?? true,
```

---

#### Pattern: `Optional Chaining` at line 151:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        uniformScale: data?.uniformScale ?? true,
        materialOverride: data?.materialOverride,
        animation: data?.animation,
> boundingBox: data?.boundingBox,
        castShadow: data?.castShadow ?? true,
        receiveShadow: data?.receiveShadow ?? true,
        frustumCulled: data?.frustumCulled ?? true,
```

---

#### Pattern: `Optional Chaining` at line 152:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        materialOverride: data?.materialOverride,
        animation: data?.animation,
        boundingBox: data?.boundingBox,
> castShadow: data?.castShadow ?? true,
        receiveShadow: data?.receiveShadow ?? true,
        frustumCulled: data?.frustumCulled ?? true,
        renderOrder: data?.renderOrder ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 153:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        animation: data?.animation,
        boundingBox: data?.boundingBox,
        castShadow: data?.castShadow ?? true,
> receiveShadow: data?.receiveShadow ?? true,
        frustumCulled: data?.frustumCulled ?? true,
        renderOrder: data?.renderOrder ?? 0,
        showBoundingBox: data?.showBoundingBox ?? false,
```

---

#### Pattern: `Optional Chaining` at line 154:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        boundingBox: data?.boundingBox,
        castShadow: data?.castShadow ?? true,
        receiveShadow: data?.receiveShadow ?? true,
> frustumCulled: data?.frustumCulled ?? true,
        renderOrder: data?.renderOrder ?? 0,
        showBoundingBox: data?.showBoundingBox ?? false,
        showSkeleton: data?.showSkeleton ?? false,
```

---

#### Pattern: `Optional Chaining` at line 155:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        castShadow: data?.castShadow ?? true,
        receiveShadow: data?.receiveShadow ?? true,
        frustumCulled: data?.frustumCulled ?? true,
> renderOrder: data?.renderOrder ?? 0,
        showBoundingBox: data?.showBoundingBox ?? false,
        showSkeleton: data?.showSkeleton ?? false,
        envMapIntensity: data?.envMapIntensity ?? 1,
```

---

#### Pattern: `Optional Chaining` at line 156:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        receiveShadow: data?.receiveShadow ?? true,
        frustumCulled: data?.frustumCulled ?? true,
        renderOrder: data?.renderOrder ?? 0,
> showBoundingBox: data?.showBoundingBox ?? false,
        showSkeleton: data?.showSkeleton ?? false,
        envMapIntensity: data?.envMapIntensity ?? 1,
        lod: data?.lod,
```

---

#### Pattern: `Optional Chaining` at line 157:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        frustumCulled: data?.frustumCulled ?? true,
        renderOrder: data?.renderOrder ?? 0,
        showBoundingBox: data?.showBoundingBox ?? false,
> showSkeleton: data?.showSkeleton ?? false,
        envMapIntensity: data?.envMapIntensity ?? 1,
        lod: data?.lod,
      };
```

---

#### Pattern: `Optional Chaining` at line 158:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        renderOrder: data?.renderOrder ?? 0,
        showBoundingBox: data?.showBoundingBox ?? false,
        showSkeleton: data?.showSkeleton ?? false,
> envMapIntensity: data?.envMapIntensity ?? 1,
        lod: data?.lod,
      };
    }
```

---

#### Pattern: `Optional Chaining` at line 159:16

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        showBoundingBox: data?.showBoundingBox ?? false,
        showSkeleton: data?.showSkeleton ?? false,
        envMapIntensity: data?.envMapIntensity ?? 1,
> lod: data?.lod,
      };
    }
  
```

---

#### Pattern: `Optional Chaining` at line 229:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     */
    private loadGLTF(url: string): Promise<THREE.Object3D> {
      return new Promise((resolve, reject) => {
> ModelLayer.gltfLoader?.load(
          url,
          (gltf: GLTF) => {
            // Extract animations
```

---

#### Pattern: `Optional Chaining` at line 250:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     */
    private loadOBJ(url: string): Promise<THREE.Object3D> {
      return new Promise((resolve, reject) => {
> ModelLayer.objLoader?.load(url, resolve, undefined, reject);
      });
    }
  
```

---

#### Pattern: `Optional Chaining` at line 259:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     */
    private loadFBX(url: string): Promise<THREE.Object3D> {
      return new Promise((resolve, reject) => {
> ModelLayer.fbxLoader?.load(
          url,
          (object: THREE.Group) => {
            // FBX files often contain animations
```

---

#### Pattern: `Optional Chaining` at line 280:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     */
    private loadCollada(url: string): Promise<THREE.Object3D> {
      return new Promise((resolve, reject) => {
> ModelLayer.colladaLoader?.load(
          url,
          (collada: Collada) => {
            // Collada may have animations
```

---

#### Pattern: `: void` at line 342:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create placeholder model when loading fails or no asset
     */
> private createPlaceholder(): void {
      const group = new THREE.Group();
      group.name = `model_placeholder_${this.id}`;
  
```

---

#### Pattern: `: void` at line 367:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set the loaded model
     */
> private setModel(object: THREE.Object3D): void {
      // Remove existing model
      if (this.model) {
        this.group.remove(this.model);
```

---

#### Pattern: `: void` at line 402:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Store original materials for later restoration
     */
> private storeOriginalMaterials(): void {
      this.originalMaterials.clear();
  
      this.model?.traverse((child) => {
```

---

#### Pattern: `Optional Chaining` at line 405:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    private storeOriginalMaterials(): void {
      this.originalMaterials.clear();
  
> this.model?.traverse((child) => {
        if (child instanceof THREE.Mesh) {
          this.originalMaterials.set(child, child.material);
        }
```

---

#### Pattern: `: void` at line 415:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Apply shadow settings to model
     */
> private applyShadowSettings(): void {
      this.model?.traverse((child) => {
        if (child instanceof THREE.Mesh) {
          child.castShadow = this.modelData.castShadow;
```

---

#### Pattern: `Optional Chaining` at line 416:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Apply shadow settings to model
     */
    private applyShadowSettings(): void {
> this.model?.traverse((child) => {
        if (child instanceof THREE.Mesh) {
          child.castShadow = this.modelData.castShadow;
          child.receiveShadow = this.modelData.receiveShadow;
```

---

#### Pattern: `: void` at line 429:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Calculate and store bounding box
     */
> private calculateBoundingBox(): void {
      if (!this.model) return;
  
      const box = new THREE.Box3().setFromObject(this.model);
```

---

#### Pattern: `: void` at line 451:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Setup animation mixer and actions
     */
> private setupAnimations(object: THREE.Object3D): void {
      this.mixer = new THREE.AnimationMixer(object);
  
      // Update model data with clip info - ensure animation object exists
```

---

#### Pattern: `: void` at line 487:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Play an animation clip by name
     */
> playAnimation(clipName: string): void {
      if (!this.mixer) return;
  
      const clip = this.animationClips.find((c) => c.name === clipName);
```

---

#### Pattern: `Optional Chaining` at line 501:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Create and play new action
      this.currentAction = this.mixer.clipAction(clip);
      this.currentAction.setLoop(
> this.modelData.animation?.loop ? THREE.LoopRepeat : THREE.LoopOnce,
        Infinity,
      );
      this.currentAction.play();
```

---

#### Pattern: `: void` at line 514:18

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Stop current animation
     */
> stopAnimation(): void {
      if (this.currentAction) {
        this.currentAction.stop();
        this.currentAction = null;
```

---

#### Pattern: `: void` at line 527:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set animation time directly (for scrubbing)
     */
> setAnimationTime(time: number): void {
      if (!this.mixer || !this.currentAction) return;
      // Validate time (NaN would corrupt animation state)
      const validTime = Number.isFinite(time) ? Math.max(0, time) : 0;
```

---

#### Pattern: `isFinite()` at line 530:30

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    setAnimationTime(time: number): void {
      if (!this.mixer || !this.currentAction) return;
      // Validate time (NaN would corrupt animation state)
> const validTime = Number.isFinite(time) ? Math.max(0, time) : 0;
      this.currentAction.time = validTime;
      this.mixer.update(0);
    }
```

---

#### Pattern: `: void` at line 538:45

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update animation mixer
     */
> private updateAnimation(deltaTime: number): void {
      if (!this.mixer) return;
  
      const speed = this.modelData.animation?.speed ?? 1;
```

---

#### Pattern: `Optional Chaining` at line 541:43

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    private updateAnimation(deltaTime: number): void {
      if (!this.mixer) return;
  
> const speed = this.modelData.animation?.speed ?? 1;
      this.mixer.update(deltaTime * speed);
    }
  
```

---

#### Pattern: `: void` at line 552:57

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Apply material override to all meshes
     */
> applyMaterialOverride(override: ModelMaterialOverride): void {
      if (!this.model) return;
  
      this.model.traverse((child) => {
```

---

#### Pattern: `: void` at line 568:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    private applyMaterialOverrideToMesh(
      mesh: THREE.Mesh,
      override: ModelMaterialOverride,
> ): void {
      // Use depth material for depth map export
      if (override.useDepthMaterial) {
        mesh.material = new THREE.MeshDepthMaterial({
```

---

#### Pattern: `: void` at line 634:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Restore original materials
     */
> restoreOriginalMaterials(): void {
      this.originalMaterials.forEach((material, mesh) => {
        mesh.material = material;
      });
```

---

#### Pattern: `: void` at line 647:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update bounding box helper visibility
     */
> private updateBoundingBoxHelper(): void {
      // Remove existing helper
      if (this.boundingBoxHelper) {
        this.group.remove(this.boundingBoxHelper);
```

---

#### Pattern: `: void` at line 665:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update skeleton helper visibility
     */
> private updateSkeletonHelper(): void {
      // Remove existing helper
      if (this.skeletonHelper) {
        this.group.remove(this.skeletonHelper);
```

---

#### Pattern: `: void` at line 698:64

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set model scale
     */
> setScale(scale: number | { x: number; y: number; z: number }): void {
      if (!this.model) return;
  
      if (typeof scale === "number") {
```

---

#### Pattern: `isFinite()` at line 703:33

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      if (typeof scale === "number") {
        // Validate scale (NaN would corrupt model transform)
> const validScale = Number.isFinite(scale) ? scale : 1;
        this.model.scale.setScalar(validScale);
      } else {
        // Validate all components (NaN would corrupt model transform)
```

---

#### Pattern: `isFinite()` at line 707:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        this.model.scale.setScalar(validScale);
      } else {
        // Validate all components (NaN would corrupt model transform)
> const validX = Number.isFinite(scale.x) ? scale.x : 1;
        const validY = Number.isFinite(scale.y) ? scale.y : 1;
        const validZ = Number.isFinite(scale.z) ? scale.z : 1;
        this.model.scale.set(validX, validY, validZ);
```

---

#### Pattern: `isFinite()` at line 708:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      } else {
        // Validate all components (NaN would corrupt model transform)
        const validX = Number.isFinite(scale.x) ? scale.x : 1;
> const validY = Number.isFinite(scale.y) ? scale.y : 1;
        const validZ = Number.isFinite(scale.z) ? scale.z : 1;
        this.model.scale.set(validX, validY, validZ);
      }
```

---

#### Pattern: `isFinite()` at line 709:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        // Validate all components (NaN would corrupt model transform)
        const validX = Number.isFinite(scale.x) ? scale.x : 1;
        const validY = Number.isFinite(scale.y) ? scale.y : 1;
> const validZ = Number.isFinite(scale.z) ? scale.z : 1;
        this.model.scale.set(validX, validY, validZ);
      }
  
```

---

#### Pattern: `: void` at line 722:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set bounding box visibility
     */
> setShowBoundingBox(show: boolean): void {
      this.modelData.showBoundingBox = show;
      this.updateBoundingBoxHelper();
    }
```

---

#### Pattern: `: void` at line 730:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set skeleton visibility
     */
> setShowSkeleton(show: boolean): void {
      this.modelData.showSkeleton = show;
      this.updateSkeletonHelper();
    }
```

---

#### Pattern: `: void` at line 739:22

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set FPS for animation sync
     * @deprecated Use setCompositionFps from BaseLayer instead
     */
> setFPS(fps: number): void {
      this.setCompositionFps(fps);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 758:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Get available animation clips
     */
    getAnimationClips(): ModelAnimationClip[] {
> return this.modelData.animation?.clips ?? [];
    }
  
    /**
```

---

#### Pattern: `: void` at line 786:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // ABSTRACT IMPLEMENTATIONS
    // ============================================================================
  
> protected onEvaluateFrame(frame: number): void {
      // Use composition fps for correct animation timing (not hardcoded 30fps)
      const fps = this.compositionFps;
      const layerId = this.id;
```

---

#### Pattern: `Optional Chaining` at line 802:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Evaluate animation time if keyframed
> if (this.modelData.animation?.time) {
        const time = interpolateProperty(
          this.modelData.animation.time,
          frame,
```

---

#### Pattern: `Optional Chaining` at line 813:47

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Update animation mixer (for auto-playing animations)
> if (this.mixer && this.modelData.animation?.autoPlay) {
        const deltaTime = 1 / this.compositionFps;
        this.updateAnimation(deltaTime);
      }
```

---

#### Pattern: `: void` at line 826:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  
    protected override onApplyEvaluatedState(
      state: import("../MotionEngine").EvaluatedLayer,
> ): void {
      const props = state.properties;
  
      if (props.scale !== undefined) {
```

---

#### Pattern: `: void` at line 838:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> protected onUpdate(properties: Partial<Layer>): void {
      const data = properties.data as Partial<ModelLayerData> | undefined;
  
      if (data) {
```

---

#### Pattern: `: void` at line 893:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> protected onDispose(): void {
      this.disposeModel();
    }
  
```

---

#### Pattern: `: void` at line 900:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose model resources
     */
> private disposeModel(): void {
      // Stop animations
      if (this.mixer) {
        this.mixer.stopAllAction();
```

---

#### Pattern: `Optional Chaining` at line 918:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Dispose model geometries and materials
> this.model?.traverse((child) => {
        if (child instanceof THREE.Mesh) {
          child.geometry.dispose();
          if (Array.isArray(child.material)) {
```

---

### `engine/layers/NestedCompLayer.ts` (37 pattern(s))

#### Pattern: `Optional Chaining` at line 110:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const data = layerData.data as NestedCompData | null;
  
      return {
> compositionId: data?.compositionId ?? "",
        // Speed map (new naming)
        speedMapEnabled: data?.speedMapEnabled ?? data?.timeRemapEnabled ?? false,
        speedMap: data?.speedMap ?? data?.timeRemap,
```

---

#### Pattern: `Optional Chaining` at line 112:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      return {
        compositionId: data?.compositionId ?? "",
        // Speed map (new naming)
> speedMapEnabled: data?.speedMapEnabled ?? data?.timeRemapEnabled ?? false,
        speedMap: data?.speedMap ?? data?.timeRemap,
        // Backwards compatibility aliases
        timeRemapEnabled:
```

---

#### Pattern: `Optional Chaining` at line 112:53

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      return {
        compositionId: data?.compositionId ?? "",
        // Speed map (new naming)
> speedMapEnabled: data?.speedMapEnabled ?? data?.timeRemapEnabled ?? false,
        speedMap: data?.speedMap ?? data?.timeRemap,
        // Backwards compatibility aliases
        timeRemapEnabled:
```

---

#### Pattern: `Optional Chaining` at line 113:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        compositionId: data?.compositionId ?? "",
        // Speed map (new naming)
        speedMapEnabled: data?.speedMapEnabled ?? data?.timeRemapEnabled ?? false,
> speedMap: data?.speedMap ?? data?.timeRemap,
        // Backwards compatibility aliases
        timeRemapEnabled:
          data?.timeRemapEnabled ?? data?.speedMapEnabled ?? false,
```

---

#### Pattern: `Optional Chaining` at line 113:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        compositionId: data?.compositionId ?? "",
        // Speed map (new naming)
        speedMapEnabled: data?.speedMapEnabled ?? data?.timeRemapEnabled ?? false,
> speedMap: data?.speedMap ?? data?.timeRemap,
        // Backwards compatibility aliases
        timeRemapEnabled:
          data?.timeRemapEnabled ?? data?.speedMapEnabled ?? false,
```

---

#### Pattern: `Optional Chaining` at line 116:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        speedMap: data?.speedMap ?? data?.timeRemap,
        // Backwards compatibility aliases
        timeRemapEnabled:
> data?.timeRemapEnabled ?? data?.speedMapEnabled ?? false,
        timeRemap: data?.timeRemap ?? data?.speedMap,
        flattenTransform: data?.flattenTransform ?? false,
        overrideFrameRate: data?.overrideFrameRate ?? false,
```

---

#### Pattern: `Optional Chaining` at line 116:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        speedMap: data?.speedMap ?? data?.timeRemap,
        // Backwards compatibility aliases
        timeRemapEnabled:
> data?.timeRemapEnabled ?? data?.speedMapEnabled ?? false,
        timeRemap: data?.timeRemap ?? data?.speedMap,
        flattenTransform: data?.flattenTransform ?? false,
        overrideFrameRate: data?.overrideFrameRate ?? false,
```

---

#### Pattern: `Optional Chaining` at line 117:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Backwards compatibility aliases
        timeRemapEnabled:
          data?.timeRemapEnabled ?? data?.speedMapEnabled ?? false,
> timeRemap: data?.timeRemap ?? data?.speedMap,
        flattenTransform: data?.flattenTransform ?? false,
        overrideFrameRate: data?.overrideFrameRate ?? false,
        frameRate: data?.frameRate,
```

---

#### Pattern: `Optional Chaining` at line 117:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Backwards compatibility aliases
        timeRemapEnabled:
          data?.timeRemapEnabled ?? data?.speedMapEnabled ?? false,
> timeRemap: data?.timeRemap ?? data?.speedMap,
        flattenTransform: data?.flattenTransform ?? false,
        overrideFrameRate: data?.overrideFrameRate ?? false,
        frameRate: data?.frameRate,
```

---

#### Pattern: `Optional Chaining` at line 118:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        timeRemapEnabled:
          data?.timeRemapEnabled ?? data?.speedMapEnabled ?? false,
        timeRemap: data?.timeRemap ?? data?.speedMap,
> flattenTransform: data?.flattenTransform ?? false,
        overrideFrameRate: data?.overrideFrameRate ?? false,
        frameRate: data?.frameRate,
      };
```

---

#### Pattern: `Optional Chaining` at line 119:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          data?.timeRemapEnabled ?? data?.speedMapEnabled ?? false,
        timeRemap: data?.timeRemap ?? data?.speedMap,
        flattenTransform: data?.flattenTransform ?? false,
> overrideFrameRate: data?.overrideFrameRate ?? false,
        frameRate: data?.frameRate,
      };
    }
```

---

#### Pattern: `Optional Chaining` at line 120:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        timeRemap: data?.timeRemap ?? data?.speedMap,
        flattenTransform: data?.flattenTransform ?? false,
        overrideFrameRate: data?.overrideFrameRate ?? false,
> frameRate: data?.frameRate,
      };
    }
  
```

---

#### Pattern: `: void` at line 127:23

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create display mesh
     */
> private createMesh(): void {
      // Start with 1x1, will be resized when composition is set
      const geometry = new THREE.PlaneGeometry(1, 1);
      this.material = new THREE.MeshBasicMaterial({
```

---

#### Pattern: `: void` at line 149:53

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set the render context (required for nested comp rendering)
     * Called by LayerManager after creation
     */
> setRenderContext(context: NestedCompRenderContext): void {
      this.renderContext = context;
  
      // Try to load composition
```

---

#### Pattern: `: void` at line 159:22

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set parent composition FPS for frame rate conversion
     */
> setFPS(fps: number): void {
      // Validate FPS (NaN or <= 0 would break frame calculations)
      this.parentFPS = Number.isFinite(fps) && fps > 0 ? fps : 16;
    }
```

---

#### Pattern: `isFinite()` at line 161:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    setFPS(fps: number): void {
      // Validate FPS (NaN or <= 0 would break frame calculations)
> this.parentFPS = Number.isFinite(fps) && fps > 0 ? fps : 16;
    }
  
    /**
```

---

#### Pattern: `: void` at line 167:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Load and cache the referenced composition
     */
> private loadComposition(): void {
      if (!this.renderContext || !this.nestedCompData.compositionId) {
        return;
      }
```

---

#### Pattern: `: void` at line 188:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Resize mesh to match composition dimensions
     */
> private resizeMesh(width: number, height: number): void {
      if (!this.mesh) return;
  
      this.mesh.geometry.dispose();
```

---

#### Pattern: `isFinite()` at line 215:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          ? this.nestedCompData.frameRate
          : this.cachedComposition.settings.fps;
      const nestedFps =
> Number.isFinite(rawNestedFps) && rawNestedFps > 0 ? rawNestedFps : 16;
  
      // If speed map is enabled, use that (overrides timeStretch)
      const speedMapEnabled =
```

---

#### Pattern: `isFinite()` at line 229:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          : speedMapProp.value;
  
        // Validate remapped time (NaN would break rendering)
> const validTime = Number.isFinite(remappedTime) ? remappedTime : 0;
        return Math.floor(validTime * nestedFps);
      }
  
```

---

#### Pattern: `isFinite()` at line 235:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      // Get layer's timeStretch (100 = normal, 200 = half speed, -100 = reversed)
      const rawTimeStretch = this.layerData.timeStretch ?? 100;
> const timeStretch = Number.isFinite(rawTimeStretch) ? rawTimeStretch : 100;
      const isReversed = timeStretch < 0;
  
      // Calculate effective speed: 100% stretch = 1x, 200% = 0.5x, 50% = 2x
```

---

#### Pattern: `isFinite()` at line 253:16

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      ) {
        // Validate parent FPS to prevent division by zero
        const parentFps =
> Number.isFinite(this.parentFPS) && this.parentFPS > 0
            ? this.parentFPS
            : 16;
        const childFps =
```

---

#### Pattern: `isFinite()` at line 257:16

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
            ? this.parentFPS
            : 16;
        const childFps =
> Number.isFinite(this.nestedCompData.frameRate) &&
          this.nestedCompData.frameRate > 0
            ? this.nestedCompData.frameRate
            : 16;
```

---

#### Pattern: `isFinite()` at line 273:19

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      }
  
      // Final validation - NaN frame would break rendering
> return Number.isFinite(nestedFrame) ? Math.floor(nestedFrame) : 0;
    }
  
    // ============================================================================
```

---

#### Pattern: `: void` at line 280:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // FRAME EVALUATION
    // ============================================================================
  
> protected onEvaluateFrame(frame: number): void {
      if (
        !this.renderContext ||
        !this.cachedComposition ||
```

---

#### Pattern: `: void` at line 319:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  
    protected override onApplyEvaluatedState(
      state: import("../MotionEngine").EvaluatedLayer,
> ): void {
      const props = state.properties;
  
      // Apply opacity to material (opacity is on EvaluatedLayer, not transform)
```

---

#### Pattern: `isFinite()` at line 325:35

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // Apply opacity to material (opacity is on EvaluatedLayer, not transform)
      // Validate opacity (NaN would corrupt material)
      if (state.opacity !== undefined && this.material) {
> const validOpacity = Number.isFinite(state.opacity) ? state.opacity : 100;
        this.material.opacity = Math.max(0, Math.min(100, validOpacity)) / 100;
        this.material.needsUpdate = true;
      }
```

---

#### Pattern: `: void` at line 351:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set the source composition
     */
> setComposition(compositionId: string): void {
      this.nestedCompData.compositionId = compositionId;
      this.loadComposition();
    }
```

---

#### Pattern: `: void` at line 359:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Enable/disable speed map (time remapping)
     */
> setSpeedMapEnabled(enabled: boolean): void {
      this.nestedCompData.speedMapEnabled = enabled;
      this.nestedCompData.timeRemapEnabled = enabled; // Backwards compatibility
    }
```

---

#### Pattern: `: void` at line 365:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  
    /** @deprecated Use setSpeedMapEnabled instead */
> setTimeRemapEnabled(enabled: boolean): void {
      this.setSpeedMapEnabled(enabled);
    }
  
```

---

#### Pattern: `: void` at line 372:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set speed map property
     */
> setSpeedMap(speedMap: AnimatableProperty<number>): void {
      this.nestedCompData.speedMap = speedMap;
      this.nestedCompData.timeRemap = speedMap; // Backwards compatibility
    }
```

---

#### Pattern: `: void` at line 378:54

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  
    /** @deprecated Use setSpeedMap instead */
> setTimeRemap(timeRemap: AnimatableProperty<number>): void {
      this.setSpeedMap(timeRemap);
    }
  
```

---

#### Pattern: `: void` at line 385:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Enable/disable flatten transform
     */
> setFlattenTransform(flatten: boolean): void {
      this.nestedCompData.flattenTransform = flatten;
      this.isCollapsed = flatten;
  
```

---

#### Pattern: `: void` at line 396:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  
    /** @deprecated Use setFlattenTransform instead */
> setCollapseTransformations(collapse: boolean): void {
      this.setFlattenTransform(collapse);
    }
  
```

---

#### Pattern: `: void` at line 519:56

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Override frame rate
     */
> setFrameRateOverride(override: boolean, fps?: number): void {
      this.nestedCompData.overrideFrameRate = override;
      this.nestedCompData.frameRate = fps;
    }
```

---

#### Pattern: `: void` at line 528:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // LAYER UPDATE
    // ============================================================================
  
> protected onUpdate(properties: Partial<Layer>): void {
      const data = properties.data as Partial<NestedCompData> | undefined;
  
      if (data) {
```

---

#### Pattern: `: void` at line 593:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // DISPOSAL
    // ============================================================================
  
> protected onDispose(): void {
      if (this.material) {
        this.material.dispose();
      }
```

---

### `engine/layers/NormalLayer.ts` (28 pattern(s))

#### Pattern: `Optional Chaining` at line 36:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    private extractNormalData(layerData: Layer): NormalLayerData {
      const data = layerData.data as Partial<NormalLayerData> | undefined;
      return {
> assetId: data?.assetId ?? null,
        visualizationMode: data?.visualizationMode ?? "rgb",
        format: data?.format ?? "opengl",
        flipX: data?.flipX ?? false,
```

---

#### Pattern: `Optional Chaining` at line 37:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const data = layerData.data as Partial<NormalLayerData> | undefined;
      return {
        assetId: data?.assetId ?? null,
> visualizationMode: data?.visualizationMode ?? "rgb",
        format: data?.format ?? "opengl",
        flipX: data?.flipX ?? false,
        flipY: data?.flipY ?? false,
```

---

#### Pattern: `Optional Chaining` at line 38:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      return {
        assetId: data?.assetId ?? null,
        visualizationMode: data?.visualizationMode ?? "rgb",
> format: data?.format ?? "opengl",
        flipX: data?.flipX ?? false,
        flipY: data?.flipY ?? false,
        flipZ: data?.flipZ ?? false,
```

---

#### Pattern: `Optional Chaining` at line 39:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        assetId: data?.assetId ?? null,
        visualizationMode: data?.visualizationMode ?? "rgb",
        format: data?.format ?? "opengl",
> flipX: data?.flipX ?? false,
        flipY: data?.flipY ?? false,
        flipZ: data?.flipZ ?? false,
        arrowDensity: data?.arrowDensity ?? 16,
```

---

#### Pattern: `Optional Chaining` at line 40:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        visualizationMode: data?.visualizationMode ?? "rgb",
        format: data?.format ?? "opengl",
        flipX: data?.flipX ?? false,
> flipY: data?.flipY ?? false,
        flipZ: data?.flipZ ?? false,
        arrowDensity: data?.arrowDensity ?? 16,
        arrowScale: data?.arrowScale ?? 1,
```

---

#### Pattern: `Optional Chaining` at line 41:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        format: data?.format ?? "opengl",
        flipX: data?.flipX ?? false,
        flipY: data?.flipY ?? false,
> flipZ: data?.flipZ ?? false,
        arrowDensity: data?.arrowDensity ?? 16,
        arrowScale: data?.arrowScale ?? 1,
        arrowColor: data?.arrowColor ?? "#00ff00",
```

---

#### Pattern: `Optional Chaining` at line 42:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        flipX: data?.flipX ?? false,
        flipY: data?.flipY ?? false,
        flipZ: data?.flipZ ?? false,
> arrowDensity: data?.arrowDensity ?? 16,
        arrowScale: data?.arrowScale ?? 1,
        arrowColor: data?.arrowColor ?? "#00ff00",
        lightDirection: data?.lightDirection ?? { x: 0.5, y: 0.5, z: 1.0 },
```

---

#### Pattern: `Optional Chaining` at line 43:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        flipY: data?.flipY ?? false,
        flipZ: data?.flipZ ?? false,
        arrowDensity: data?.arrowDensity ?? 16,
> arrowScale: data?.arrowScale ?? 1,
        arrowColor: data?.arrowColor ?? "#00ff00",
        lightDirection: data?.lightDirection ?? { x: 0.5, y: 0.5, z: 1.0 },
        lightIntensity: data?.lightIntensity ?? 1.0,
```

---

#### Pattern: `Optional Chaining` at line 44:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        flipZ: data?.flipZ ?? false,
        arrowDensity: data?.arrowDensity ?? 16,
        arrowScale: data?.arrowScale ?? 1,
> arrowColor: data?.arrowColor ?? "#00ff00",
        lightDirection: data?.lightDirection ?? { x: 0.5, y: 0.5, z: 1.0 },
        lightIntensity: data?.lightIntensity ?? 1.0,
        ambientIntensity: data?.ambientIntensity ?? 0.2,
```

---

#### Pattern: `Optional Chaining` at line 45:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        arrowDensity: data?.arrowDensity ?? 16,
        arrowScale: data?.arrowScale ?? 1,
        arrowColor: data?.arrowColor ?? "#00ff00",
> lightDirection: data?.lightDirection ?? { x: 0.5, y: 0.5, z: 1.0 },
        lightIntensity: data?.lightIntensity ?? 1.0,
        ambientIntensity: data?.ambientIntensity ?? 0.2,
      };
```

---

#### Pattern: `Optional Chaining` at line 46:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        arrowScale: data?.arrowScale ?? 1,
        arrowColor: data?.arrowColor ?? "#00ff00",
        lightDirection: data?.lightDirection ?? { x: 0.5, y: 0.5, z: 1.0 },
> lightIntensity: data?.lightIntensity ?? 1.0,
        ambientIntensity: data?.ambientIntensity ?? 0.2,
      };
    }
```

---

#### Pattern: `Optional Chaining` at line 47:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        arrowColor: data?.arrowColor ?? "#00ff00",
        lightDirection: data?.lightDirection ?? { x: 0.5, y: 0.5, z: 1.0 },
        lightIntensity: data?.lightIntensity ?? 1.0,
> ambientIntensity: data?.ambientIntensity ?? 0.2,
      };
    }
  
```

---

#### Pattern: `: void` at line 51:23

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      };
    }
  
> private createMesh(): void {
      const geometry = new THREE.PlaneGeometry(1, 1, 1, 1);
  
      this.material = new THREE.ShaderMaterial({
```

---

#### Pattern: `Optional Chaining` at line 63:59

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          lightDirection: {
            value: new THREE.Vector3(
              // Validate light direction (NaN would corrupt lighting calculations after normalize())
> Number.isFinite(this.normalData.lightDirection?.x)
                ? this.normalData.lightDirection.x
                : 0.5,
              Number.isFinite(this.normalData.lightDirection?.y)
```

---

#### Pattern: `isFinite()` at line 63:20

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          lightDirection: {
            value: new THREE.Vector3(
              // Validate light direction (NaN would corrupt lighting calculations after normalize())
> Number.isFinite(this.normalData.lightDirection?.x)
                ? this.normalData.lightDirection.x
                : 0.5,
              Number.isFinite(this.normalData.lightDirection?.y)
```

---

#### Pattern: `Optional Chaining` at line 66:59

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              Number.isFinite(this.normalData.lightDirection?.x)
                ? this.normalData.lightDirection.x
                : 0.5,
> Number.isFinite(this.normalData.lightDirection?.y)
                ? this.normalData.lightDirection.y
                : 0.5,
              Number.isFinite(this.normalData.lightDirection?.z)
```

---

#### Pattern: `isFinite()` at line 66:20

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
              Number.isFinite(this.normalData.lightDirection?.x)
                ? this.normalData.lightDirection.x
                : 0.5,
> Number.isFinite(this.normalData.lightDirection?.y)
                ? this.normalData.lightDirection.y
                : 0.5,
              Number.isFinite(this.normalData.lightDirection?.z)
```

---

#### Pattern: `Optional Chaining` at line 69:59

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              Number.isFinite(this.normalData.lightDirection?.y)
                ? this.normalData.lightDirection.y
                : 0.5,
> Number.isFinite(this.normalData.lightDirection?.z)
                ? this.normalData.lightDirection.z
                : 1.0,
            ).normalize(),
```

---

#### Pattern: `isFinite()` at line 69:20

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
              Number.isFinite(this.normalData.lightDirection?.y)
                ? this.normalData.lightDirection.y
                : 0.5,
> Number.isFinite(this.normalData.lightDirection?.z)
                ? this.normalData.lightDirection.z
                : 1.0,
            ).normalize(),
```

---

#### Pattern: `isFinite()` at line 75:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
            ).normalize(),
          },
          lightIntensity: {
> value: Number.isFinite(this.normalData.lightIntensity)
              ? this.normalData.lightIntensity
              : 1.0,
          },
```

---

#### Pattern: `isFinite()` at line 80:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
              : 1.0,
          },
          ambientIntensity: {
> value: Number.isFinite(this.normalData.ambientIntensity)
              ? this.normalData.ambientIntensity
              : 0.2,
          },
```

---

#### Pattern: `: void` at line 169:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> setTexture(texture: THREE.Texture): void {
      this.texture = texture;
      if (this.material) {
        this.material.uniforms.normalMap.value = texture;
```

---

#### Pattern: `: void` at line 180:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // ABSTRACT IMPLEMENTATIONS
    // ============================================================================
  
> protected onEvaluateFrame(_frame: number): void {
      if (!this.material) return;
  
      // Update uniforms from data
```

---

#### Pattern: `isFinite()` at line 194:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      if (this.normalData.lightDirection) {
        // Validate light direction values (NaN would corrupt normalize() result)
> const lx = Number.isFinite(this.normalData.lightDirection.x)
          ? this.normalData.lightDirection.x
          : 0.5;
        const ly = Number.isFinite(this.normalData.lightDirection.y)
```

---

#### Pattern: `isFinite()` at line 197:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const lx = Number.isFinite(this.normalData.lightDirection.x)
          ? this.normalData.lightDirection.x
          : 0.5;
> const ly = Number.isFinite(this.normalData.lightDirection.y)
          ? this.normalData.lightDirection.y
          : 0.5;
        const lz = Number.isFinite(this.normalData.lightDirection.z)
```

---

#### Pattern: `isFinite()` at line 200:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const ly = Number.isFinite(this.normalData.lightDirection.y)
          ? this.normalData.lightDirection.y
          : 0.5;
> const lz = Number.isFinite(this.normalData.lightDirection.z)
          ? this.normalData.lightDirection.z
          : 1.0;
        this.material.uniforms.lightDirection.value.set(lx, ly, lz).normalize();
```

---

#### Pattern: `: void` at line 207:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> protected onUpdate(properties: Partial<Layer>): void {
      const data = properties.data as Partial<NormalLayerData> | undefined;
  
      if (data) {
```

---

#### Pattern: `: void` at line 215:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> protected onDispose(): void {
      if (this.texture) {
        this.texture.dispose();
      }
```

---

### `engine/layers/ParticleLayer.ts` (73 pattern(s))

#### Pattern: `Optional Chaining` at line 234:54

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          // Image data must be set via setEmitterImageData() at runtime
          return {
            type: "depthEdge", // Use depth edge emission (emits from depth discontinuities)
> emissionThreshold: emitter.depthMapEmission?.depthMin ?? 0.1,
            // imageData and depthData will be provided at runtime
          };
  
```

---

#### Pattern: `Optional Chaining` at line 243:50

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          // Image data must be set via setEmitterImageData() at runtime
          return {
            type: "image",
> emissionThreshold: emitter.maskEmission?.threshold ?? 0.5,
            // imageData will be provided at runtime
          };
  
```

---

#### Pattern: `isFinite()` at line 270:36

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        // Cap maxParticles to prevent GPU memory exhaustion (1M max)
        const MAX_PARTICLES = 1000000;
        const rawMaxParticles = data.systemConfig.maxParticles ?? 100000;
> config.maxParticles = Number.isFinite(rawMaxParticles)
          ? Math.max(1, Math.min(MAX_PARTICLES, rawMaxParticles))
          : 100000;
        config.timeScale = 1;
```

---

#### Pattern: `Optional Chaining` at line 535:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Convert flocking configuration
> if (data.flocking?.enabled) {
        // Helper to validate numeric params (NaN would corrupt flocking behavior)
        const safeNum = (val: number | undefined, def: number) =>
          Number.isFinite(val) ? val! : def;
```

---

#### Pattern: `isFinite()` at line 538:16

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      if (data.flocking?.enabled) {
        // Helper to validate numeric params (NaN would corrupt flocking behavior)
        const safeNum = (val: number | undefined, def: number) =>
> Number.isFinite(val) ? val! : def;
  
        config.flocking = {
          enabled: true,
```

---

#### Pattern: `Optional Chaining` at line 555:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Store collision configuration for initialization after GPU setup
> if (data.collision?.enabled) {
        this.pendingCollisionConfig = {
          enabled: true,
          particleCollision: data.collision.particleCollision ?? false,
```

---

#### Pattern: `Optional Chaining` at line 606:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              : "circle";
  
        // Connections - wire UI settings to GPU config
> if (data.renderOptions.connections?.enabled) {
          // Store connection config for initialization after GPU setup
          // Note: ConnectionRenderConfig.color is already in 0-1 RGB range (per type definition)
          this.pendingConnectionConfig = {
```

---

#### Pattern: `: void` at line 739:56

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Initialize the particle system with a WebGL renderer
     */
> initializeWithRenderer(renderer: THREE.WebGLRenderer): void {
      if (this.initialized) return;
  
      this.rendererRef = renderer;
```

---

#### Pattern: `Optional Chaining` at line 785:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Initialize glow effect and add glow mesh
> if (this.pendingGlowConfig?.enabled) {
        this.particleSystem.initializeGlow(this.pendingGlowConfig);
        const glowMesh = this.particleSystem.getGlowMesh();
        if (glowMesh) {
```

---

#### Pattern: `Optional Chaining` at line 796:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Initialize collision detection
> if (this.pendingCollisionConfig?.enabled) {
        this.particleSystem.initializeCollisions(this.pendingCollisionConfig);
        this.pendingCollisionConfig = null;
      }
```

---

#### Pattern: `Optional Chaining` at line 802:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Initialize shadow settings
> if (this.pendingShadowConfig?.enabled) {
        this.particleSystem.updateShadowConfig({
          castShadows: this.pendingShadowConfig.castShadows,
          receiveShadows: this.pendingShadowConfig.receiveShadows,
```

---

#### Pattern: `: void` at line 827:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Store base emitter and force field values for audio reactivity
     * This prevents compounding when audio values are applied each frame
     */
> private storeBaseValues(): void {
      const config = this.particleSystem.getConfig();
  
      // Store emitter base values
```

---

#### Pattern: `: void` at line 874:5

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      enabled?: boolean;
      radius?: number;
      intensity?: number;
> }): void {
      this.particleSystem.setGlow(config);
      if (this.glowConfig) {
        Object.assign(this.glowConfig, config);
```

---

#### Pattern: `: void` at line 884:45

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set renderer for lazy initialization
     */
> setRenderer(renderer: THREE.WebGLRenderer): void {
      this.rendererRef = renderer;
      if (!this.initialized) {
        this.initializeWithRenderer(renderer);
```

---

#### Pattern: `: void` at line 896:97

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Function type detected

**Code:**
```typescript
     * This allows emitters with shape='spline' to emit particles along spline paths
     * @param provider - Function that queries spline positions
     */
> setSplineProvider(provider: import("../particles/ParticleEmitterLogic").SplineProvider | null): void {
      this.splineProvider = provider;
      this.particleSystem.setSplineProvider(provider);
    }
```

---

#### Pattern: `: void` at line 905:45

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Update shadow maps from scene lights
     * Call this when the layer is added to a scene with shadow-casting lights
     */
> updateShadowsFromScene(scene: THREE.Scene): void {
      // Find first shadow-casting light in scene
      scene.traverse((obj) => {
        if (obj instanceof THREE.DirectionalLight ||
```

---

#### Pattern: `Optional Chaining` at line 911:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (obj instanceof THREE.DirectionalLight ||
            obj instanceof THREE.SpotLight ||
            obj instanceof THREE.PointLight) {
> if (obj.castShadow && obj.shadow?.map?.texture) {
            this.particleSystem.updateShadowFromLight(obj);
          }
        }
```

---

#### Pattern: `Optional Chaining` at line 911:46

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (obj instanceof THREE.DirectionalLight ||
            obj instanceof THREE.SpotLight ||
            obj instanceof THREE.PointLight) {
> if (obj.castShadow && obj.shadow?.map?.texture) {
            this.particleSystem.updateShadowFromLight(obj);
          }
        }
```

---

#### Pattern: `: void` at line 921:22

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set composition FPS for accurate time calculation
     */
> setFPS(fps: number): void {
      // Validate fps (NaN would break time calculations and cache simulation)
      this.fps = Number.isFinite(fps) && fps > 0 ? fps : 16;
    }
```

---

#### Pattern: `isFinite()` at line 923:23

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    setFPS(fps: number): void {
      // Validate fps (NaN would break time calculations and cache simulation)
> this.fps = Number.isFinite(fps) && fps > 0 ? fps : 16;
    }
  
    // ============================================================================
```

---

#### Pattern: `: void` at line 945:61

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update an emitter
     */
> updateEmitter(id: string, updates: Partial<EmitterConfig>): void {
      this.particleSystem.updateEmitter(id, updates);
    }
  
```

---

#### Pattern: `: void` at line 952:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Remove an emitter
     */
> removeEmitter(id: string): void {
      this.particleSystem.removeEmitter(id);
    }
  
```

---

#### Pattern: `: void` at line 978:67

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update a force field
     */
> updateForceField(id: string, updates: Partial<ForceFieldConfig>): void {
      this.particleSystem.updateForceField(id, updates);
    }
  
```

---

#### Pattern: `: void` at line 985:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Remove a force field
     */
> removeForceField(id: string): void {
      this.particleSystem.removeForceField(id);
    }
  
```

---

#### Pattern: `: void` at line 996:56

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set audio feature value for reactivity
     */
> setAudioFeature(feature: AudioFeature, value: number): void {
      this.particleSystem.setAudioFeature(feature, value);
    }
  
```

---

#### Pattern: `: void` at line 1003:16

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Trigger a beat event (causes burst on beat-enabled emitters)
     */
> triggerBeat(): void {
      this.particleSystem.triggerBeat();
    }
  
```

---

#### Pattern: `: void` at line 1010:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Trigger a burst emission
     */
> triggerBurst(emitterId?: string): void {
      this.particleSystem.triggerBurst(emitterId);
    }
  
```

---

#### Pattern: `: void` at line 1026:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      emitterId: string,
      imageData: ImageData,
      depthData?: Float32Array,
> ): void {
      const emitter = this.particleSystem.getEmitter(emitterId);
      if (emitter) {
        // Update the shape config with the new image data
```

---

#### Pattern: `: void` at line 1044:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Step the particle simulation
     */
> step(deltaTime: number): void {
      if (!this.initialized) return;
  
      this.particleSystem.step(deltaTime);
```

---

#### Pattern: `: void` at line 1067:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Reset the particle system
     * DETERMINISM: Resets to initial state with original seed
     */
> reset(): void {
      this.particleSystem.reset();
      this.lastEvaluatedFrame = -1;
    }
```

---

#### Pattern: `: void` at line 1075:15

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear the particle cache (used when user wants to free memory)
     */
> clearCache(): void {
      this.particleSystem.clearCache();
    }
  
```

---

#### Pattern: `isFinite()` at line 1097:31

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      onProgress?: (current: number, total: number) => void,
    ): Promise<void> {
      // Validate frame bounds (NaN/Infinity would cause infinite loop or no-op)
> const validStart = Number.isFinite(startFrame)
        ? Math.max(0, Math.floor(startFrame))
        : 0;
      const validEnd = Number.isFinite(endFrame)
```

---

#### Pattern: `isFinite()` at line 1100:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const validStart = Number.isFinite(startFrame)
        ? Math.max(0, Math.floor(startFrame))
        : 0;
> const validEnd = Number.isFinite(endFrame)
        ? Math.floor(endFrame)
        : validStart;
  
```

---

#### Pattern: `: void` at line 1130:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set the cache interval (frames between cached snapshots)
     */
> setCacheInterval(interval: number): void {
      this.particleSystem.setCacheInterval(interval);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 1177:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     */
    private calculateRemappedFrame(compositionFrame: number): number {
      // If speed map is enabled, use that
> if (this.particleData?.speedMapEnabled && this.particleData.speedMap?.animated) {
        const remappedTime = this.particleEvaluator.evaluate(
          this.particleData.speedMap,
          compositionFrame,
```

---

#### Pattern: `Optional Chaining` at line 1177:73

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     */
    private calculateRemappedFrame(compositionFrame: number): number {
      // If speed map is enabled, use that
> if (this.particleData?.speedMapEnabled && this.particleData.speedMap?.animated) {
        const remappedTime = this.particleEvaluator.evaluate(
          this.particleData.speedMap,
          compositionFrame,
```

---

#### Pattern: `isFinite()` at line 1183:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          compositionFrame,
        );
        // Validate remapped time (NaN would break simulation)
> const validTime = Number.isFinite(remappedTime) ? remappedTime : 0;
        // Convert time to frame (speed map is in seconds)
        return Math.floor(validTime * this.fps);
      }
```

---

#### Pattern: `isFinite()` at line 1190:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      // Get layer's timeStretch if available (100 = normal, 200 = half speed, -100 = reversed)
      const rawTimeStretch = this.layerData.timeStretch ?? 100;
> const timeStretch = Number.isFinite(rawTimeStretch) ? rawTimeStretch : 100;
      const isReversed = timeStretch < 0;
  
      // Calculate effective speed: 100% stretch = 1x, 200% = 0.5x, 50% = 2x
```

---

#### Pattern: `Optional Chaining` at line 1204:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      let simulationFrame = Math.floor(relativeFrame * stretchFactor);
  
      // Handle reversed playback
> if (isReversed && this.particleData?.systemConfig) {
        // For reversed particles, simulate to max then play backwards
        // This requires a different approach - simulate fully then index backwards
        const maxFrames = this.particleData.systemConfig.maxParticles > 0 ? 300 : 0; // Reasonable max
```

---

#### Pattern: `isFinite()` at line 1212:19

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      }
  
      // Final validation - NaN frame would break simulation
> return Number.isFinite(simulationFrame) && simulationFrame >= 0 ? simulationFrame : 0;
    }
  
    protected onEvaluateFrame(frame: number): void {
```

---

#### Pattern: `: void` at line 1215:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return Number.isFinite(simulationFrame) && simulationFrame >= 0 ? simulationFrame : 0;
    }
  
> protected onEvaluateFrame(frame: number): void {
      // Calculate remapped frame for time remapping support
      const simulationFrame = this.calculateRemappedFrame(frame);
  
```

---

#### Pattern: `: void` at line 1250:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  
    protected override onApplyEvaluatedState(
      state: import("../MotionEngine").EvaluatedLayer,
> ): void {
      // ParticleLayer needs to step the simulation for the current frame
      // The evaluated state includes the frame number for deterministic simulation
      const frame = state.frame ?? 0;
```

---

#### Pattern: `: void` at line 1276:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * DETERMINISM: Returns identical results regardless of evaluation order
     * Uses frame caching for performance
     */
> evaluateAtFrame(frame: number): void {
      // Use the caching system for efficient frame evaluation
      this.particleSystem.simulateToFrame(frame, this.fps);
      this.lastEvaluatedFrame = frame;
```

---

#### Pattern: `: void` at line 1286:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Apply emission rate modifiers BEFORE simulation step.
     * Emission rate must be set before step() because emitParticles() uses it during step.
     */
> private applyEmissionRateModifiers(): void {
      const layerEmissionRate = this.getAudioReactiveValue(
        "particle.emissionRate",
      );
```

---

#### Pattern: `Optional Chaining` at line 1297:60

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!baseValues) continue;
  
        // Get emitter-specific audio modifiers (may have different emission rate multiplier)
> const emitterMods = this.currentEmitterAudioModifiers?.get(emitter.id);
        const emissionRateMod = emitterMods?.emissionRate ?? layerEmissionRate;
  
        if (emissionRateMod !== 0) {
```

---

#### Pattern: `Optional Chaining` at line 1298:42

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        // Get emitter-specific audio modifiers (may have different emission rate multiplier)
        const emitterMods = this.currentEmitterAudioModifiers?.get(emitter.id);
> const emissionRateMod = emitterMods?.emissionRate ?? layerEmissionRate;
  
        if (emissionRateMod !== 0) {
          // Modulate emission rate: base * (0.5 + mod) for range 0.5x to 1.5x
```

---

#### Pattern: `: void` at line 1319:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Uses per-emitter audio modifiers when targetEmitterId is specified.
     * NOTE: Emission rate is handled separately in applyEmissionRateModifiers() BEFORE simulation
     */
> private applyAudioReactivity(): void {
      // Layer-level audio values (for emitters without specific targeting)
      const layerSpeed = this.getAudioReactiveValue("particle.speed");
      const layerSize = this.getAudioReactiveValue("particle.size");
```

---

#### Pattern: `Optional Chaining` at line 1336:60

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!baseValues) continue;
  
        // Get emitter-specific modifiers (allows different audio response per emitter)
> const emitterMods = this.currentEmitterAudioModifiers?.get(emitter.id);
  
        // Use emitter-specific values if available, otherwise fall back to layer-level
        const speed = emitterMods?.speed ?? layerSpeed;
```

---

#### Pattern: `Optional Chaining` at line 1339:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const emitterMods = this.currentEmitterAudioModifiers?.get(emitter.id);
  
        // Use emitter-specific values if available, otherwise fall back to layer-level
> const speed = emitterMods?.speed ?? layerSpeed;
        const size = emitterMods?.size ?? layerSize;
  
        // Speed modulation (0.5 base + audio value for range 0.5x to 1.5x)
```

---

#### Pattern: `Optional Chaining` at line 1340:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        // Use emitter-specific values if available, otherwise fall back to layer-level
        const speed = emitterMods?.speed ?? layerSpeed;
> const size = emitterMods?.size ?? layerSize;
  
        // Speed modulation (0.5 base + audio value for range 0.5x to 1.5x)
        if (speed !== 0) {
```

---

#### Pattern: `: void` at line 1383:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      // This is handled by the audio system calling triggerBeat() externally
    }
  
> protected onUpdate(properties: Partial<Layer>): void {
      const data = properties.data as ParticleLayerData | undefined;
  
      if (data) {
```

---

#### Pattern: `: void` at line 1423:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> protected onDispose(): void {
      this.particleSystem.dispose();
      this.disposeGizmos();
    }
```

---

#### Pattern: `: void` at line 1435:17

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create visual gizmos for all emitters and force fields
     */
> createGizmos(): void {
      this.disposeGizmos();
  
      const config = this.particleSystem.getConfig();
```

---

#### Pattern: `: void` at line 1454:53

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create a visual gizmo for an emitter
     */
> private createEmitterGizmo(emitter: EmitterConfig): void {
      const gizmo = new THREE.Group();
      gizmo.name = `emitter_gizmo_${emitter.id}`;
  
```

---

#### Pattern: `Optional Chaining` at line 1530:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        case "box": {
          // Box emitter: wireframe box
          const boxGeom = new THREE.BoxGeometry(
> emitter.shape.boxSize?.x ?? 100,
            emitter.shape.boxSize?.y ?? 100,
            emitter.shape.boxSize?.z ?? 100,
          );
```

---

#### Pattern: `Optional Chaining` at line 1531:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          // Box emitter: wireframe box
          const boxGeom = new THREE.BoxGeometry(
            emitter.shape.boxSize?.x ?? 100,
> emitter.shape.boxSize?.y ?? 100,
            emitter.shape.boxSize?.z ?? 100,
          );
          const boxMat = new THREE.MeshBasicMaterial({
```

---

#### Pattern: `Optional Chaining` at line 1532:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          const boxGeom = new THREE.BoxGeometry(
            emitter.shape.boxSize?.x ?? 100,
            emitter.shape.boxSize?.y ?? 100,
> emitter.shape.boxSize?.z ?? 100,
          );
          const boxMat = new THREE.MeshBasicMaterial({
            color: 0x00ff88,
```

---

#### Pattern: `: void` at line 1630:57

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create a visual gizmo for a force field
     */
> private createForceFieldGizmo(field: ForceFieldConfig): void {
      const gizmo = new THREE.Group();
      gizmo.name = `forcefield_gizmo_${field.id}`;
  
```

---

#### Pattern: `: void` at line 1785:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update gizmo positions from current config
     */
> updateGizmoPositions(): void {
      const config = this.particleSystem.getConfig();
  
      for (const emitter of config.emitters) {
```

---

#### Pattern: `: void` at line 1814:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set emitter gizmo visibility
     */
> setEmitterGizmosVisible(visible: boolean): void {
      this.showEmitterGizmos = visible;
      for (const gizmo of this.emitterGizmos.values()) {
        gizmo.visible = visible;
```

---

#### Pattern: `: void` at line 1824:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set force field gizmo visibility
     */
> setForceFieldGizmosVisible(visible: boolean): void {
      this.showForceFieldGizmos = visible;
      for (const gizmo of this.forceFieldGizmos.values()) {
        gizmo.visible = visible;
```

---

#### Pattern: `: void` at line 1834:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose all gizmos
     */
> private disposeGizmos(): void {
      // Dispose emitter gizmos
      for (const gizmo of this.emitterGizmos.values()) {
        this.group.remove(gizmo);
```

---

#### Pattern: `: void` at line 1911:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      floorY: number = 1.0,
      compWidth: number = 1920,
      compHeight: number = 1080,
> ): void {
      // Dispose existing
      if (this.horizonLine) {
        this.group.remove(this.horizonLine);
```

---

#### Pattern: `: void` at line 1955:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      compHeight: number = 1080,
      gridSize: number = 100,
      depth: number = 500,
> ): void {
      // Validate gridSize to prevent infinite loop
      const safeGridSize = Number.isFinite(gridSize) && gridSize > 0 ? gridSize : 100;
      const safeDepth = Number.isFinite(depth) && depth > 0 ? depth : 500;
```

---

#### Pattern: `isFinite()` at line 1957:33

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      depth: number = 500,
    ): void {
      // Validate gridSize to prevent infinite loop
> const safeGridSize = Number.isFinite(gridSize) && gridSize > 0 ? gridSize : 100;
      const safeDepth = Number.isFinite(depth) && depth > 0 ? depth : 500;
      const safeCompWidth = Number.isFinite(compWidth) && compWidth > 0 ? compWidth : 1920;
      const safeCompHeight = Number.isFinite(compHeight) && compHeight > 0 ? compHeight : 1080;
```

---

#### Pattern: `isFinite()` at line 1958:30

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    ): void {
      // Validate gridSize to prevent infinite loop
      const safeGridSize = Number.isFinite(gridSize) && gridSize > 0 ? gridSize : 100;
> const safeDepth = Number.isFinite(depth) && depth > 0 ? depth : 500;
      const safeCompWidth = Number.isFinite(compWidth) && compWidth > 0 ? compWidth : 1920;
      const safeCompHeight = Number.isFinite(compHeight) && compHeight > 0 ? compHeight : 1080;
      
```

---

#### Pattern: `isFinite()` at line 1959:34

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // Validate gridSize to prevent infinite loop
      const safeGridSize = Number.isFinite(gridSize) && gridSize > 0 ? gridSize : 100;
      const safeDepth = Number.isFinite(depth) && depth > 0 ? depth : 500;
> const safeCompWidth = Number.isFinite(compWidth) && compWidth > 0 ? compWidth : 1920;
      const safeCompHeight = Number.isFinite(compHeight) && compHeight > 0 ? compHeight : 1080;
      
      // Dispose existing
```

---

#### Pattern: `isFinite()` at line 1960:35

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const safeGridSize = Number.isFinite(gridSize) && gridSize > 0 ? gridSize : 100;
      const safeDepth = Number.isFinite(depth) && depth > 0 ? depth : 500;
      const safeCompWidth = Number.isFinite(compWidth) && compWidth > 0 ? compWidth : 1920;
> const safeCompHeight = Number.isFinite(compHeight) && compHeight > 0 ? compHeight : 1080;
      
      // Dispose existing
      if (this.particleGrid) {
```

---

#### Pattern: `: void` at line 2030:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create particle space axis (CC Particle World style)
     */
> createParticleAxis(length: number = 200): void {
      // Dispose existing
      if (this.particleAxis) {
        this.group.remove(this.particleAxis);
```

---

#### Pattern: `: void` at line 2122:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Toggle horizon line visibility
     */
> setHorizonLineVisible(visible: boolean): void {
      this.showHorizonLine = visible;
      if (this.horizonLine) {
        this.horizonLine.visible = visible;
```

---

#### Pattern: `: void` at line 2132:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Toggle particle grid visibility
     */
> setParticleGridVisible(visible: boolean): void {
      this.showParticleGrid = visible;
      if (this.particleGrid) {
        this.particleGrid.visible = visible;
```

---

#### Pattern: `: void` at line 2142:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Toggle particle axis visibility
     */
> setParticleAxisVisible(visible: boolean): void {
      this.showParticleAxis = visible;
      if (this.particleAxis) {
        this.particleAxis.visible = visible;
```

---

#### Pattern: `: void` at line 2152:63

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update horizon line position when floor Y changes
     */
> updateHorizonLine(floorY: number, compHeight: number = 1080): void {
      if (this.horizonLine) {
        const y = -(floorY * compHeight - compHeight / 2);
        const positions = this.horizonLine.geometry.attributes.position;
```

---

### `engine/layers/PathLayer.ts` (43 pattern(s))

#### Pattern: `Optional Chaining` at line 82:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const data = layerData.data as PathLayerData | null;
  
      return {
> controlPoints: data?.controlPoints ?? [],
        closed: data?.closed ?? false,
        pathData: data?.pathData ?? "",
        showGuide: data?.showGuide ?? true,
```

---

#### Pattern: `Optional Chaining` at line 83:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      return {
        controlPoints: data?.controlPoints ?? [],
> closed: data?.closed ?? false,
        pathData: data?.pathData ?? "",
        showGuide: data?.showGuide ?? true,
        guideColor: data?.guideColor ?? "#00FFFF",
```

---

#### Pattern: `Optional Chaining` at line 84:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      return {
        controlPoints: data?.controlPoints ?? [],
        closed: data?.closed ?? false,
> pathData: data?.pathData ?? "",
        showGuide: data?.showGuide ?? true,
        guideColor: data?.guideColor ?? "#00FFFF",
        guideDashPattern: data?.guideDashPattern ?? [10, 5],
```

---

#### Pattern: `Optional Chaining` at line 85:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        controlPoints: data?.controlPoints ?? [],
        closed: data?.closed ?? false,
        pathData: data?.pathData ?? "",
> showGuide: data?.showGuide ?? true,
        guideColor: data?.guideColor ?? "#00FFFF",
        guideDashPattern: data?.guideDashPattern ?? [10, 5],
        animatedControlPoints: data?.animatedControlPoints,
```

---

#### Pattern: `Optional Chaining` at line 86:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        closed: data?.closed ?? false,
        pathData: data?.pathData ?? "",
        showGuide: data?.showGuide ?? true,
> guideColor: data?.guideColor ?? "#00FFFF",
        guideDashPattern: data?.guideDashPattern ?? [10, 5],
        animatedControlPoints: data?.animatedControlPoints,
        animated: data?.animated,
```

---

#### Pattern: `Optional Chaining` at line 87:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        pathData: data?.pathData ?? "",
        showGuide: data?.showGuide ?? true,
        guideColor: data?.guideColor ?? "#00FFFF",
> guideDashPattern: data?.guideDashPattern ?? [10, 5],
        animatedControlPoints: data?.animatedControlPoints,
        animated: data?.animated,
      };
```

---

#### Pattern: `Optional Chaining` at line 88:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        showGuide: data?.showGuide ?? true,
        guideColor: data?.guideColor ?? "#00FFFF",
        guideDashPattern: data?.guideDashPattern ?? [10, 5],
> animatedControlPoints: data?.animatedControlPoints,
        animated: data?.animated,
      };
    }
```

---

#### Pattern: `Optional Chaining` at line 89:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        guideColor: data?.guideColor ?? "#00FFFF",
        guideDashPattern: data?.guideDashPattern ?? [10, 5],
        animatedControlPoints: data?.animatedControlPoints,
> animated: data?.animated,
      };
    }
  
```

---

#### Pattern: `: void` at line 96:22

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Build the Three.js path from control points
     */
> private buildPath(): void {
      // Clear existing guide line
      this.clearGuideLine();
  
```

---

#### Pattern: `Optional Chaining` at line 119:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const bezier = new THREE.CubicBezierCurve3(
          new THREE.Vector3(p0.x, -p0.y, z0),
          new THREE.Vector3(
> p0.handleOut?.x ?? p0.x,
            -(p0.handleOut?.y ?? p0.y),
            z0,
          ),
```

---

#### Pattern: `Optional Chaining` at line 120:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          new THREE.Vector3(p0.x, -p0.y, z0),
          new THREE.Vector3(
            p0.handleOut?.x ?? p0.x,
> -(p0.handleOut?.y ?? p0.y),
            z0,
          ),
          new THREE.Vector3(
```

---

#### Pattern: `Optional Chaining` at line 124:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            z0,
          ),
          new THREE.Vector3(
> p1.handleIn?.x ?? p1.x,
            -(p1.handleIn?.y ?? p1.y),
            z1,
          ),
```

---

#### Pattern: `Optional Chaining` at line 125:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          ),
          new THREE.Vector3(
            p1.handleIn?.x ?? p1.x,
> -(p1.handleIn?.y ?? p1.y),
            z1,
          ),
          new THREE.Vector3(p1.x, -p1.y, z1),
```

---

#### Pattern: `Optional Chaining` at line 145:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const closingBezier = new THREE.CubicBezierCurve3(
          new THREE.Vector3(lastPoint.x, -lastPoint.y, zLast),
          new THREE.Vector3(
> lastPoint.handleOut?.x ?? lastPoint.x,
            -(lastPoint.handleOut?.y ?? lastPoint.y),
            zLast,
          ),
```

---

#### Pattern: `Optional Chaining` at line 146:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          new THREE.Vector3(lastPoint.x, -lastPoint.y, zLast),
          new THREE.Vector3(
            lastPoint.handleOut?.x ?? lastPoint.x,
> -(lastPoint.handleOut?.y ?? lastPoint.y),
            zLast,
          ),
          new THREE.Vector3(
```

---

#### Pattern: `Optional Chaining` at line 150:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            zLast,
          ),
          new THREE.Vector3(
> firstPoint.handleIn?.x ?? firstPoint.x,
            -(firstPoint.handleIn?.y ?? firstPoint.y),
            zFirst,
          ),
```

---

#### Pattern: `Optional Chaining` at line 151:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          ),
          new THREE.Vector3(
            firstPoint.handleIn?.x ?? firstPoint.x,
> -(firstPoint.handleIn?.y ?? firstPoint.y),
            zFirst,
          ),
          new THREE.Vector3(firstPoint.x, -firstPoint.y, zFirst),
```

---

#### Pattern: `: void` at line 169:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create the dashed guide line visualization
     */
> private createGuideLine(): void {
      if (!this.curve) return;
  
      // Get points along the curve
```

---

#### Pattern: `: void` at line 216:27

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear existing guide line
     */
> private clearGuideLine(): void {
      if (this.guideLine) {
        this.group.remove(this.guideLine);
        this.guideLine.geometry.dispose();
```

---

#### Pattern: `isFinite()` at line 236:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    getPointAt(t: number): THREE.Vector3 | null {
      if (!this.curve) return null;
      // Validate t (NaN bypasses Math.max/min clamp)
> const validT = Number.isFinite(t) ? Math.max(0, Math.min(1, t)) : 0;
      return this.curve.getPointAt(validT);
    }
  
```

---

#### Pattern: `isFinite()` at line 246:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    getTangentAt(t: number): THREE.Vector3 | null {
      if (!this.curve) return null;
      // Validate t (NaN bypasses Math.max/min clamp)
> const validT = Number.isFinite(t) ? Math.max(0, Math.min(1, t)) : 0;
      return this.curve.getTangentAt(validT);
    }
  
```

---

#### Pattern: `: void` at line 391:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set guide visibility
     */
> setShowGuide(show: boolean): void {
      if (this.pathData.showGuide === show) return;
  
      this.pathData.showGuide = show;
```

---

#### Pattern: `: void` at line 409:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set guide color
     */
> setGuideColor(color: string): void {
      this.pathData.guideColor = color;
      if (this.guideLine) {
        (this.guideLine.material as LineMaterial).color.set(color);
```

---

#### Pattern: `: void` at line 419:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set guide dash pattern [dash, gap]
     */
> setGuideDashPattern(pattern: [number, number]): void {
      this.pathData.guideDashPattern = pattern;
      if (this.guideLine) {
        const mat = this.guideLine.material as LineMaterial;
```

---

#### Pattern: `: void` at line 433:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set resolution for line material (call when canvas resizes)
     */
> setResolution(width: number, height: number): void {
      // Validate dimensions (NaN would corrupt LineMaterial resolution)
      const validWidth = Number.isFinite(width) && width > 0 ? width : 1920;
      const validHeight = Number.isFinite(height) && height > 0 ? height : 1080;
```

---

#### Pattern: `isFinite()` at line 435:31

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    setResolution(width: number, height: number): void {
      // Validate dimensions (NaN would corrupt LineMaterial resolution)
> const validWidth = Number.isFinite(width) && width > 0 ? width : 1920;
      const validHeight = Number.isFinite(height) && height > 0 ? height : 1080;
      this.resolution.set(validWidth, validHeight);
      if (this.guideLine) {
```

---

#### Pattern: `isFinite()` at line 436:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    setResolution(width: number, height: number): void {
      // Validate dimensions (NaN would corrupt LineMaterial resolution)
      const validWidth = Number.isFinite(width) && width > 0 ? width : 1920;
> const validHeight = Number.isFinite(height) && height > 0 ? height : 1080;
      this.resolution.set(validWidth, validHeight);
      if (this.guideLine) {
        (this.guideLine.material as LineMaterial).resolution.set(
```

---

#### Pattern: `: void` at line 449:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
    /**
     * Update control points (static)
     */
> setControlPoints(points: ControlPoint[]): void {
      this.pathData.controlPoints = points;
      this.animatedPoints = null;
      this.pathData.animated = false;
```

---

#### Pattern: `: void` at line 461:61

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
    /**
     * Set animated control points
     */
> setAnimatedControlPoints(points: AnimatableControlPoint[]): void {
      this.animatedPoints = points;
      this.pathData.animatedControlPoints = points;
      this.pathData.animated = true;
```

---

#### Pattern: `: void` at line 473:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set closed state
     */
> setClosed(closed: boolean): void {
      if (this.pathData.closed === closed) return;
      this.pathData.closed = closed;
      this.buildPath();
```

---

#### Pattern: `: void` at line 483:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // ABSTRACT IMPLEMENTATIONS
    // ============================================================================
  
> protected onEvaluateFrame(frame: number): void {
      // Skip if not animated
      if (!this.isAnimated()) return;
  
```

---

#### Pattern: `: void` at line 501:72

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
    /**
     * Build path geometry from evaluated control points
     */
> private buildPathFromEvaluatedPoints(points: EvaluatedControlPoint[]): void {
      this.clearGuideLine();
  
      if (points.length < 2) return;
```

---

#### Pattern: `Optional Chaining` at line 519:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const bezier = new THREE.CubicBezierCurve3(
          new THREE.Vector3(p0.x, -p0.y, z0),
          new THREE.Vector3(
> p0.handleOut?.x ?? p0.x,
            -(p0.handleOut?.y ?? p0.y),
            z0,
          ),
```

---

#### Pattern: `Optional Chaining` at line 520:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          new THREE.Vector3(p0.x, -p0.y, z0),
          new THREE.Vector3(
            p0.handleOut?.x ?? p0.x,
> -(p0.handleOut?.y ?? p0.y),
            z0,
          ),
          new THREE.Vector3(
```

---

#### Pattern: `Optional Chaining` at line 524:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            z0,
          ),
          new THREE.Vector3(
> p1.handleIn?.x ?? p1.x,
            -(p1.handleIn?.y ?? p1.y),
            z1,
          ),
```

---

#### Pattern: `Optional Chaining` at line 525:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          ),
          new THREE.Vector3(
            p1.handleIn?.x ?? p1.x,
> -(p1.handleIn?.y ?? p1.y),
            z1,
          ),
          new THREE.Vector3(p1.x, -p1.y, z1),
```

---

#### Pattern: `Optional Chaining` at line 542:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const closingBezier = new THREE.CubicBezierCurve3(
          new THREE.Vector3(lastPoint.x, -lastPoint.y, lastPoint.depth),
          new THREE.Vector3(
> lastPoint.handleOut?.x ?? lastPoint.x,
            -(lastPoint.handleOut?.y ?? lastPoint.y),
            lastPoint.depth,
          ),
```

---

#### Pattern: `Optional Chaining` at line 543:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          new THREE.Vector3(lastPoint.x, -lastPoint.y, lastPoint.depth),
          new THREE.Vector3(
            lastPoint.handleOut?.x ?? lastPoint.x,
> -(lastPoint.handleOut?.y ?? lastPoint.y),
            lastPoint.depth,
          ),
          new THREE.Vector3(
```

---

#### Pattern: `Optional Chaining` at line 547:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            lastPoint.depth,
          ),
          new THREE.Vector3(
> firstPoint.handleIn?.x ?? firstPoint.x,
            -(firstPoint.handleIn?.y ?? firstPoint.y),
            firstPoint.depth,
          ),
```

---

#### Pattern: `Optional Chaining` at line 548:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          ),
          new THREE.Vector3(
            firstPoint.handleIn?.x ?? firstPoint.x,
> -(firstPoint.handleIn?.y ?? firstPoint.y),
            firstPoint.depth,
          ),
          new THREE.Vector3(firstPoint.x, -firstPoint.y, firstPoint.depth),
```

---

#### Pattern: `: void` at line 565:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  
    protected override onApplyEvaluatedState(
      state: import("../MotionEngine").EvaluatedLayer,
> ): void {
      const props = state.properties;
  
      // Apply evaluated control points if present
```

---

#### Pattern: `: void` at line 579:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> protected onUpdate(properties: Partial<Layer>): void {
      const data = properties.data as Partial<PathLayerData> | undefined;
  
      if (data) {
```

---

#### Pattern: `: void` at line 620:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> protected onDispose(): void {
      this.clearGuideLine();
    }
  }
```

---

### `engine/layers/PointCloudLayer.ts` (51 pattern(s))

#### Pattern: `: void` at line 89:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Initialize shared loaders
     */
> private initializeLoaders(): void {
      if (!PointCloudLayer.plyLoader) {
        PointCloudLayer.plyLoader = new PLYLoader();
      }
```

---

#### Pattern: `Optional Chaining` at line 124:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      };
  
      return {
> assetId: data?.assetId ?? "",
        format: data?.format ?? "ply",
        pointCount: data?.pointCount ?? 0,
        pointSize: data?.pointSize ?? defaultPointSize,
```

---

#### Pattern: `Optional Chaining` at line 125:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      return {
        assetId: data?.assetId ?? "",
> format: data?.format ?? "ply",
        pointCount: data?.pointCount ?? 0,
        pointSize: data?.pointSize ?? defaultPointSize,
        sizeAttenuation: data?.sizeAttenuation ?? true,
```

---

#### Pattern: `Optional Chaining` at line 126:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      return {
        assetId: data?.assetId ?? "",
        format: data?.format ?? "ply",
> pointCount: data?.pointCount ?? 0,
        pointSize: data?.pointSize ?? defaultPointSize,
        sizeAttenuation: data?.sizeAttenuation ?? true,
        minPointSize: data?.minPointSize ?? 1,
```

---

#### Pattern: `Optional Chaining` at line 127:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        assetId: data?.assetId ?? "",
        format: data?.format ?? "ply",
        pointCount: data?.pointCount ?? 0,
> pointSize: data?.pointSize ?? defaultPointSize,
        sizeAttenuation: data?.sizeAttenuation ?? true,
        minPointSize: data?.minPointSize ?? 1,
        maxPointSize: data?.maxPointSize ?? 64,
```

---

#### Pattern: `Optional Chaining` at line 128:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        format: data?.format ?? "ply",
        pointCount: data?.pointCount ?? 0,
        pointSize: data?.pointSize ?? defaultPointSize,
> sizeAttenuation: data?.sizeAttenuation ?? true,
        minPointSize: data?.minPointSize ?? 1,
        maxPointSize: data?.maxPointSize ?? 64,
        colorMode: data?.colorMode ?? "rgb",
```

---

#### Pattern: `Optional Chaining` at line 129:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        pointCount: data?.pointCount ?? 0,
        pointSize: data?.pointSize ?? defaultPointSize,
        sizeAttenuation: data?.sizeAttenuation ?? true,
> minPointSize: data?.minPointSize ?? 1,
        maxPointSize: data?.maxPointSize ?? 64,
        colorMode: data?.colorMode ?? "rgb",
        uniformColor: data?.uniformColor ?? "#ffffff",
```

---

#### Pattern: `Optional Chaining` at line 130:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        pointSize: data?.pointSize ?? defaultPointSize,
        sizeAttenuation: data?.sizeAttenuation ?? true,
        minPointSize: data?.minPointSize ?? 1,
> maxPointSize: data?.maxPointSize ?? 64,
        colorMode: data?.colorMode ?? "rgb",
        uniformColor: data?.uniformColor ?? "#ffffff",
        colorGradient: data?.colorGradient,
```

---

#### Pattern: `Optional Chaining` at line 131:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        sizeAttenuation: data?.sizeAttenuation ?? true,
        minPointSize: data?.minPointSize ?? 1,
        maxPointSize: data?.maxPointSize ?? 64,
> colorMode: data?.colorMode ?? "rgb",
        uniformColor: data?.uniformColor ?? "#ffffff",
        colorGradient: data?.colorGradient,
        renderMode: data?.renderMode ?? "circles",
```

---

#### Pattern: `Optional Chaining` at line 132:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        minPointSize: data?.minPointSize ?? 1,
        maxPointSize: data?.maxPointSize ?? 64,
        colorMode: data?.colorMode ?? "rgb",
> uniformColor: data?.uniformColor ?? "#ffffff",
        colorGradient: data?.colorGradient,
        renderMode: data?.renderMode ?? "circles",
        opacity: data?.opacity ?? defaultOpacity,
```

---

#### Pattern: `Optional Chaining` at line 133:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        maxPointSize: data?.maxPointSize ?? 64,
        colorMode: data?.colorMode ?? "rgb",
        uniformColor: data?.uniformColor ?? "#ffffff",
> colorGradient: data?.colorGradient,
        renderMode: data?.renderMode ?? "circles",
        opacity: data?.opacity ?? defaultOpacity,
        depthTest: data?.depthTest ?? true,
```

---

#### Pattern: `Optional Chaining` at line 134:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        colorMode: data?.colorMode ?? "rgb",
        uniformColor: data?.uniformColor ?? "#ffffff",
        colorGradient: data?.colorGradient,
> renderMode: data?.renderMode ?? "circles",
        opacity: data?.opacity ?? defaultOpacity,
        depthTest: data?.depthTest ?? true,
        depthWrite: data?.depthWrite ?? true,
```

---

#### Pattern: `Optional Chaining` at line 135:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        uniformColor: data?.uniformColor ?? "#ffffff",
        colorGradient: data?.colorGradient,
        renderMode: data?.renderMode ?? "circles",
> opacity: data?.opacity ?? defaultOpacity,
        depthTest: data?.depthTest ?? true,
        depthWrite: data?.depthWrite ?? true,
        boundingBox: data?.boundingBox,
```

---

#### Pattern: `Optional Chaining` at line 136:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        colorGradient: data?.colorGradient,
        renderMode: data?.renderMode ?? "circles",
        opacity: data?.opacity ?? defaultOpacity,
> depthTest: data?.depthTest ?? true,
        depthWrite: data?.depthWrite ?? true,
        boundingBox: data?.boundingBox,
        showBoundingBox: data?.showBoundingBox ?? false,
```

---

#### Pattern: `Optional Chaining` at line 137:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        renderMode: data?.renderMode ?? "circles",
        opacity: data?.opacity ?? defaultOpacity,
        depthTest: data?.depthTest ?? true,
> depthWrite: data?.depthWrite ?? true,
        boundingBox: data?.boundingBox,
        showBoundingBox: data?.showBoundingBox ?? false,
        lod: data?.lod,
```

---

#### Pattern: `Optional Chaining` at line 138:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        opacity: data?.opacity ?? defaultOpacity,
        depthTest: data?.depthTest ?? true,
        depthWrite: data?.depthWrite ?? true,
> boundingBox: data?.boundingBox,
        showBoundingBox: data?.showBoundingBox ?? false,
        lod: data?.lod,
        octree: data?.octree,
```

---

#### Pattern: `Optional Chaining` at line 139:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        depthTest: data?.depthTest ?? true,
        depthWrite: data?.depthWrite ?? true,
        boundingBox: data?.boundingBox,
> showBoundingBox: data?.showBoundingBox ?? false,
        lod: data?.lod,
        octree: data?.octree,
        pointBudget: data?.pointBudget ?? 1000000,
```

---

#### Pattern: `Optional Chaining` at line 140:16

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        depthWrite: data?.depthWrite ?? true,
        boundingBox: data?.boundingBox,
        showBoundingBox: data?.showBoundingBox ?? false,
> lod: data?.lod,
        octree: data?.octree,
        pointBudget: data?.pointBudget ?? 1000000,
        edl: data?.edl,
```

---

#### Pattern: `Optional Chaining` at line 141:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        boundingBox: data?.boundingBox,
        showBoundingBox: data?.showBoundingBox ?? false,
        lod: data?.lod,
> octree: data?.octree,
        pointBudget: data?.pointBudget ?? 1000000,
        edl: data?.edl,
        clipPlanes: data?.clipPlanes,
```

---

#### Pattern: `Optional Chaining` at line 142:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        showBoundingBox: data?.showBoundingBox ?? false,
        lod: data?.lod,
        octree: data?.octree,
> pointBudget: data?.pointBudget ?? 1000000,
        edl: data?.edl,
        clipPlanes: data?.clipPlanes,
        classificationFilter: data?.classificationFilter,
```

---

#### Pattern: `Optional Chaining` at line 143:16

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        lod: data?.lod,
        octree: data?.octree,
        pointBudget: data?.pointBudget ?? 1000000,
> edl: data?.edl,
        clipPlanes: data?.clipPlanes,
        classificationFilter: data?.classificationFilter,
        intensityRange: data?.intensityRange,
```

---

#### Pattern: `Optional Chaining` at line 144:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        octree: data?.octree,
        pointBudget: data?.pointBudget ?? 1000000,
        edl: data?.edl,
> clipPlanes: data?.clipPlanes,
        classificationFilter: data?.classificationFilter,
        intensityRange: data?.intensityRange,
      };
```

---

#### Pattern: `Optional Chaining` at line 145:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        pointBudget: data?.pointBudget ?? 1000000,
        edl: data?.edl,
        clipPlanes: data?.clipPlanes,
> classificationFilter: data?.classificationFilter,
        intensityRange: data?.intensityRange,
      };
    }
```

---

#### Pattern: `Optional Chaining` at line 146:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        edl: data?.edl,
        clipPlanes: data?.clipPlanes,
        classificationFilter: data?.classificationFilter,
> intensityRange: data?.intensityRange,
      };
    }
  
```

---

#### Pattern: `Optional Chaining` at line 212:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     */
    private loadPLY(url: string): Promise<THREE.BufferGeometry> {
      return new Promise((resolve, reject) => {
> PointCloudLayer.plyLoader?.load(url, resolve, undefined, reject);
      });
    }
  
```

---

#### Pattern: `Optional Chaining` at line 221:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     */
    private loadPCD(url: string): Promise<THREE.BufferGeometry> {
      return new Promise((resolve, reject) => {
> PointCloudLayer.pcdLoader?.load(
          url,
          (points: THREE.Points) => {
            resolve(points.geometry);
```

---

#### Pattern: `: void` at line 478:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create placeholder point cloud
     */
> private createPlaceholder(): void {
      const geometry = this.createPlaceholderGeometry();
      this.setGeometry(geometry);
    }
```

---

#### Pattern: `: void` at line 486:54

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set the point cloud geometry
     */
> private setGeometry(geometry: THREE.BufferGeometry): void {
      // Remove existing point cloud
      if (this.pointCloud) {
        this.group.remove(this.pointCloud);
```

---

#### Pattern: `: void` at line 525:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Store original point attributes
     */
> private storeOriginalAttributes(): void {
      if (!this.geometry) return;
  
      const position = this.geometry.getAttribute("position");
```

---

#### Pattern: `: void` at line 544:27

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create point cloud material
     */
> private createMaterial(): void {
      // Custom shader for advanced point rendering
      this.material = new THREE.ShaderMaterial({
        uniforms: {
```

---

#### Pattern: `Optional Chaining` at line 666:47

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const size = 256;
      const data = new Uint8Array(size * 4);
  
> const stops = this.cloudData.colorGradient?.stops ?? [
        { position: 0, color: "#0000ff" },
        { position: 0.5, color: "#00ff00" },
        { position: 1, color: "#ff0000" },
```

---

#### Pattern: `: void` at line 707:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Calculate and store bounding box
     */
> private calculateBoundingBox(): void {
      if (!this.geometry) return;
  
      this.geometry.computeBoundingBox();
```

---

#### Pattern: `: void` at line 738:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Apply color mode to point cloud
     */
> applyColorMode(mode: PointCloudColorMode): void {
      if (!this.geometry || !this.material || !this.originalAttributes) return;
  
      this.cloudData.colorMode = mode;
```

---

#### Pattern: `: void` at line 791:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Apply height-based coloring
     */
> private applyHeightColoring(): void {
      if (
        !this.geometry ||
        !this.originalAttributes ||
```

---

#### Pattern: `: void` at line 832:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Apply depth-based coloring (distance from camera)
     */
> private applyDepthColoring(): void {
      if (
        !this.geometry ||
        !this.originalAttributes ||
```

---

#### Pattern: `: void` at line 871:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Apply normal-based coloring
     */
> private applyNormalColoring(): void {
      if (!this.geometry || !this.originalAttributes) return;
  
      if (this.originalAttributes.normals) {
```

---

#### Pattern: `: void` at line 909:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Apply intensity-based coloring
     */
> private applyIntensityColoring(): void {
      if (!this.geometry || !this.originalAttributes) return;
  
      if (this.originalAttributes.intensities) {
```

---

#### Pattern: `: void` at line 959:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Apply classification-based coloring (for LAS files)
     */
> private applyClassificationColoring(): void {
      if (!this.geometry || !this.originalAttributes) return;
  
      if (this.originalAttributes.classifications) {
```

---

#### Pattern: `: void` at line 1020:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update bounding box helper
     */
> private updateBoundingBoxHelper(): void {
      if (this.boundingBoxHelper) {
        this.group.remove(this.boundingBoxHelper);
        this.boundingBoxHelper.dispose();
```

---

#### Pattern: `: void` at line 1041:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set point size
     */
> setPointSize(size: number): void {
      if (this.material) {
        // Validate size (NaN would corrupt shader uniform)
        const validSize = Number.isFinite(size) && size > 0 ? size : 2;
```

---

#### Pattern: `isFinite()` at line 1044:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    setPointSize(size: number): void {
      if (this.material) {
        // Validate size (NaN would corrupt shader uniform)
> const validSize = Number.isFinite(size) && size > 0 ? size : 2;
        this.material.uniforms.pointSize.value = validSize;
      }
    }
```

---

#### Pattern: `: void` at line 1052:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set opacity
     */
> setOpacity(opacity: number): void {
      if (this.material) {
        // Validate opacity (NaN would corrupt shader uniform)
        const validOpacity = Number.isFinite(opacity)
```

---

#### Pattern: `isFinite()` at line 1055:35

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    setOpacity(opacity: number): void {
      if (this.material) {
        // Validate opacity (NaN would corrupt shader uniform)
> const validOpacity = Number.isFinite(opacity)
          ? Math.max(0, Math.min(1, opacity))
          : 1;
        this.material.uniforms.opacity.value = validOpacity;
```

---

#### Pattern: `: void` at line 1065:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set uniform color
     */
> setUniformColor(color: string): void {
      this.cloudData.uniformColor = color;
      if (this.material) {
        this.material.uniforms.uniformColor.value.set(color);
```

---

#### Pattern: `: void` at line 1075:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set render mode
     */
> setRenderMode(mode: PointCloudRenderMode): void {
      this.cloudData.renderMode = mode;
      if (this.material) {
        this.material.uniforms.renderMode.value = this.getRenderModeValue();
```

---

#### Pattern: `: void` at line 1085:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set bounding box visibility
     */
> setShowBoundingBox(show: boolean): void {
      this.cloudData.showBoundingBox = show;
      this.updateBoundingBoxHelper();
    }
```

---

#### Pattern: `: void` at line 1126:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // ABSTRACT IMPLEMENTATIONS
    // ============================================================================
  
> protected onEvaluateFrame(frame: number): void {
      // Use composition fps for correct animation timing (not hardcoded 30fps)
      const fps = this.compositionFps;
      const layerId = this.id;
```

---

#### Pattern: `: void` at line 1157:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  
    protected override onApplyEvaluatedState(
      state: import("../MotionEngine").EvaluatedLayer,
> ): void {
      const props = state.properties;
  
      if (props.pointSize !== undefined) {
```

---

#### Pattern: `: void` at line 1169:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> protected onUpdate(properties: Partial<Layer>): void {
      const data = properties.data as Partial<PointCloudLayerData> | undefined;
  
      if (data) {
```

---

#### Pattern: `: void` at line 1221:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> protected onDispose(): void {
      this.disposePointCloud();
    }
  
```

---

#### Pattern: `: void` at line 1228:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose point cloud resources
     */
> private disposePointCloud(): void {
      if (this.boundingBoxHelper) {
        this.boundingBoxHelper.dispose();
        this.boundingBoxHelper = null;
```

---

### `engine/layers/PoseLayer.ts` (13 pattern(s))

#### Pattern: `: void` at line 310:53

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Render poses to canvas
     */
> private renderPoses(width: number, height: number): void {
      const data = this.getPoseData();
      const { ctx, canvas } = this;
  
```

---

#### Pattern: `: void` at line 341:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      width: number,
      height: number,
      data: PoseLayerData,
> ): void {
      const { ctx } = this;
      const { keypoints } = pose;
  
```

---

#### Pattern: `: void` at line 455:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set composition dimensions for proper rendering
     * Called by LayerManager when layer is added or composition changes
     */
> setCompositionSize(width: number, height: number): void {
      // Validate dimensions (NaN/0 would create invalid canvas)
      this.compWidth = Number.isFinite(width) && width > 0 ? width : 512;
      this.compHeight = Number.isFinite(height) && height > 0 ? height : 512;
```

---

#### Pattern: `isFinite()` at line 457:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    setCompositionSize(width: number, height: number): void {
      // Validate dimensions (NaN/0 would create invalid canvas)
> this.compWidth = Number.isFinite(width) && width > 0 ? width : 512;
      this.compHeight = Number.isFinite(height) && height > 0 ? height : 512;
    }
  
```

---

#### Pattern: `isFinite()` at line 458:30

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    setCompositionSize(width: number, height: number): void {
      // Validate dimensions (NaN/0 would create invalid canvas)
      this.compWidth = Number.isFinite(width) && width > 0 ? width : 512;
> this.compHeight = Number.isFinite(height) && height > 0 ? height : 512;
    }
  
    /**
```

---

#### Pattern: `: void` at line 464:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Evaluate layer at frame
     */
> protected onEvaluateFrame(frame: number): void {
      // Use composition dimensions
      const width = this.compWidth;
      const height = this.compHeight;
```

---

#### Pattern: `: void` at line 480:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Handle property updates
     */
> protected onUpdate(properties: Partial<Layer>): void {
      // Update pose data if it changed
      if (properties.data) {
        // Re-render on next evaluate
```

---

#### Pattern: `: void` at line 527:5

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     */
    importOpenPoseJSON(json: {
      people?: Array<{ pose_keypoints_2d?: number[] }>;
> }): void {
      const data = this.getPoseData();
      const newPoses: Pose[] = [];
  
```

---

#### Pattern: `: void` at line 563:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Mirror/flip pose horizontally
     */
> flipPoseHorizontal(poseId: string): void {
      const data = this.getPoseData();
      const pose = data.poses.find((p) => p.id === poseId);
      if (!pose) return;
```

---

#### Pattern: `: void` at line 628:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return exportCanvas;
    }
  
> dispose(): void {
      this.texture.dispose();
      (this.mesh.material as THREE.Material).dispose();
      this.mesh.geometry.dispose();
```

---

#### Pattern: `: void` at line 643:53

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Scale a pose around its center
   */
> export function scalePose(pose: Pose, scale: number): void {
    // Find center
    let sumX = 0,
      sumY = 0,
```

---

#### Pattern: `: void` at line 670:61

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Rotate a pose around its center
   */
> export function rotatePose(pose: Pose, angleDegrees: number): void {
    const angle = (angleDegrees * Math.PI) / 180;
    const cos = Math.cos(angle);
    const sin = Math.sin(angle);
```

---

#### Pattern: `: void` at line 703:66

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Translate a pose
   */
> export function translatePose(pose: Pose, dx: number, dy: number): void {
    for (const kp of pose.keypoints) {
      kp.x += dx;
      kp.y += dy;
```

---

### `engine/layers/ProceduralMatteLayer.ts` (29 pattern(s))

#### Pattern: `: void` at line 168:23

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create display mesh
     */
> private createMesh(): void {
      const geometry = new THREE.PlaneGeometry(this.width, this.height);
  
      this.texture = new THREE.CanvasTexture(this.renderCanvas);
```

---

#### Pattern: `: void` at line 189:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set dimensions
     */
> setDimensions(width: number, height: number): void {
      // Validate dimensions (NaN/0 would create invalid canvas and geometry)
      const validWidth = Number.isFinite(width) && width > 0 ? width : 512;
      const validHeight = Number.isFinite(height) && height > 0 ? height : 512;
```

---

#### Pattern: `isFinite()` at line 191:31

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    setDimensions(width: number, height: number): void {
      // Validate dimensions (NaN/0 would create invalid canvas and geometry)
> const validWidth = Number.isFinite(width) && width > 0 ? width : 512;
      const validHeight = Number.isFinite(height) && height > 0 ? height : 512;
  
      this.width = validWidth;
```

---

#### Pattern: `isFinite()` at line 192:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    setDimensions(width: number, height: number): void {
      // Validate dimensions (NaN/0 would create invalid canvas and geometry)
      const validWidth = Number.isFinite(width) && width > 0 ? width : 512;
> const validHeight = Number.isFinite(height) && height > 0 ? height : 512;
  
      this.width = validWidth;
      this.height = validHeight;
```

---

#### Pattern: `: void` at line 211:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // FRAME EVALUATION
    // ============================================================================
  
> protected onEvaluateFrame(frame: number): void {
      // Render the pattern for this frame
      this.renderPattern(frame);
  
```

---

#### Pattern: `: void` at line 221:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> protected onUpdate(properties: Partial<Layer>): void {
      if (properties.data) {
        this.matteData = this.extractMatteData({
          ...properties,
```

---

#### Pattern: `: void` at line 237:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Render the pattern to the canvas
     */
> private renderPattern(frame: number): void {
      const ctx = this.renderCtx;
      const w = this.width;
      const h = this.height;
```

---

#### Pattern: `: void` at line 326:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      h: number,
      frame: number,
      time: number,
> ): void {
      const params = this.matteData.parameters;
      const angle: number =
        this.matteEvaluator.evaluate(params.angle!, frame) + time * 360;
```

---

#### Pattern: `: void` at line 361:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      h: number,
      frame: number,
      time: number,
> ): void {
      const params = this.matteData.parameters;
      const centerX: number = this.matteEvaluator.evaluate(
        params.centerX!,
```

---

#### Pattern: `: void` at line 395:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      h: number,
      frame: number,
      time: number,
> ): void {
      const params = this.matteData.parameters;
      const centerX: number = params.centerX
        ? this.matteEvaluator.evaluate(params.centerX, frame)
```

---

#### Pattern: `: void` at line 434:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      h: number,
      frame: number,
      time: number,
> ): void {
      const params = this.matteData.parameters;
      const progress: number = this.matteEvaluator.evaluate(
        params.progress!,
```

---

#### Pattern: `: void` at line 479:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      h: number,
      frame: number,
      time: number,
> ): void {
      const params = this.matteData.parameters;
      const scale: number = params.scale
        ? this.matteEvaluator.evaluate(params.scale, frame)
```

---

#### Pattern: `: void` at line 519:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      h: number,
      frame: number,
      time: number,
> ): void {
      const params = this.matteData.parameters;
      const tilesX: number = params.tilesX
        ? this.matteEvaluator.evaluate(params.tilesX, frame)
```

---

#### Pattern: `: void` at line 557:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      h: number,
      frame: number,
      time: number,
> ): void {
      const params = this.matteData.parameters;
      const centerX: number = params.centerX
        ? this.matteEvaluator.evaluate(params.centerX, frame)
```

---

#### Pattern: `: void` at line 603:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      h: number,
      frame: number,
      time: number,
> ): void {
      const params = this.matteData.parameters;
      const centerX: number = params.centerX
        ? this.matteEvaluator.evaluate(params.centerX, frame)
```

---

#### Pattern: `: void` at line 639:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      h: number,
      frame: number,
      time: number,
> ): void {
      const params = this.matteData.parameters;
      const progress: number = params.progress
        ? this.matteEvaluator.evaluate(params.progress, frame)
```

---

#### Pattern: `: void` at line 683:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      h: number,
      frame: number,
      time: number,
> ): void {
      const params = this.matteData.parameters;
      const progress: number = params.progress
        ? this.matteEvaluator.evaluate(params.progress, frame)
```

---

#### Pattern: `: void` at line 741:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      h: number,
      frame: number,
      time: number,
> ): void {
      const params = this.matteData.parameters;
      const progress = params.progress
        ? this.matteEvaluator.evaluate(params.progress, frame)
```

---

#### Pattern: `: void` at line 778:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      h: number,
      frame: number,
      time: number,
> ): void {
      const params = this.matteData.parameters;
      const progress = params.progress
        ? this.matteEvaluator.evaluate(params.progress, frame)
```

---

#### Pattern: `: void` at line 827:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      h: number,
      frame: number,
      time: number,
> ): void {
      const params = this.matteData.parameters;
      const frequency = params.frequency
        ? this.matteEvaluator.evaluate(params.frequency, frame)
```

---

#### Pattern: `: void` at line 884:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Apply levels adjustment
     */
> private applyLevels(frame: number): void {
      const levels = this.matteData.levels;
      const inputBlack = this.matteEvaluator.evaluate(levels.inputBlack, frame);
      const inputWhite = this.matteEvaluator.evaluate(levels.inputWhite, frame);
```

---

#### Pattern: `isFinite()` at line 893:36

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const outputWhite = this.matteEvaluator.evaluate(levels.outputWhite, frame);
  
      // Validate values (NaN would corrupt image processing)
> const validInputBlack = Number.isFinite(inputBlack) ? inputBlack : 0;
      const validInputWhite = Number.isFinite(inputWhite) ? inputWhite : 255;
      const validGamma = Number.isFinite(gamma) && gamma > 0 ? gamma : 1;
      const validOutputBlack = Number.isFinite(outputBlack) ? outputBlack : 0;
```

---

#### Pattern: `isFinite()` at line 894:36

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      // Validate values (NaN would corrupt image processing)
      const validInputBlack = Number.isFinite(inputBlack) ? inputBlack : 0;
> const validInputWhite = Number.isFinite(inputWhite) ? inputWhite : 255;
      const validGamma = Number.isFinite(gamma) && gamma > 0 ? gamma : 1;
      const validOutputBlack = Number.isFinite(outputBlack) ? outputBlack : 0;
      const validOutputWhite = Number.isFinite(outputWhite) ? outputWhite : 255;
```

---

#### Pattern: `isFinite()` at line 895:31

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // Validate values (NaN would corrupt image processing)
      const validInputBlack = Number.isFinite(inputBlack) ? inputBlack : 0;
      const validInputWhite = Number.isFinite(inputWhite) ? inputWhite : 255;
> const validGamma = Number.isFinite(gamma) && gamma > 0 ? gamma : 1;
      const validOutputBlack = Number.isFinite(outputBlack) ? outputBlack : 0;
      const validOutputWhite = Number.isFinite(outputWhite) ? outputWhite : 255;
  
```

---

#### Pattern: `isFinite()` at line 896:37

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const validInputBlack = Number.isFinite(inputBlack) ? inputBlack : 0;
      const validInputWhite = Number.isFinite(inputWhite) ? inputWhite : 255;
      const validGamma = Number.isFinite(gamma) && gamma > 0 ? gamma : 1;
> const validOutputBlack = Number.isFinite(outputBlack) ? outputBlack : 0;
      const validOutputWhite = Number.isFinite(outputWhite) ? outputWhite : 255;
  
      // Skip if default values
```

---

#### Pattern: `isFinite()` at line 897:37

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const validInputWhite = Number.isFinite(inputWhite) ? inputWhite : 255;
      const validGamma = Number.isFinite(gamma) && gamma > 0 ? gamma : 1;
      const validOutputBlack = Number.isFinite(outputBlack) ? outputBlack : 0;
> const validOutputWhite = Number.isFinite(outputWhite) ? outputWhite : 255;
  
      // Skip if default values
      if (
```

---

#### Pattern: `: void` at line 945:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Invert the canvas
     */
> private invertCanvas(): void {
      const imageData = this.renderCtx.getImageData(
        0,
        0,
```

---

#### Pattern: `: void` at line 1020:70

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return this.renderCanvas;
    }
  
> protected applyProcessedEffects(processedCanvas: HTMLCanvasElement): void {
      // Copy processed canvas back to render canvas
      this.renderCtx.clearRect(0, 0, this.width, this.height);
      this.renderCtx.drawImage(processedCanvas, 0, 0);
```

---

#### Pattern: `: void` at line 1035:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // DISPOSAL
    // ============================================================================
  
> protected onDispose(): void {
      if (this.texture) {
        this.texture.dispose();
        this.texture = null;
```

---

### `engine/layers/ShapeLayer.ts` (20 pattern(s))

#### Pattern: `: void` at line 195:41

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set canvas size (should match composition)
     */
> setSize(width: number, height: number): void {
      // Validate dimensions (NaN/0 would create invalid canvas)
      const validWidth = Number.isFinite(width) && width > 0 ? width : 1920;
      const validHeight = Number.isFinite(height) && height > 0 ? height : 1080;
```

---

#### Pattern: `isFinite()` at line 197:31

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    setSize(width: number, height: number): void {
      // Validate dimensions (NaN/0 would create invalid canvas)
> const validWidth = Number.isFinite(width) && width > 0 ? width : 1920;
      const validHeight = Number.isFinite(height) && height > 0 ? height : 1080;
  
      if (validWidth === this.canvasWidth && validHeight === this.canvasHeight)
```

---

#### Pattern: `isFinite()` at line 198:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    setSize(width: number, height: number): void {
      // Validate dimensions (NaN/0 would create invalid canvas)
      const validWidth = Number.isFinite(width) && width > 0 ? width : 1920;
> const validHeight = Number.isFinite(height) && height > 0 ? height : 1080;
  
      if (validWidth === this.canvasWidth && validHeight === this.canvasHeight)
        return;
```

---

#### Pattern: `: void` at line 230:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return this.shapeData;
    }
  
> setShapeData(data: ShapeLayerData): void {
      this.shapeData = data;
      this.renderShape();
    }
```

---

#### Pattern: `: void` at line 235:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.renderShape();
    }
  
> addContent(content: ShapeContent): void {
      this.shapeData.contents.push(content);
      this.renderShape();
    }
```

---

#### Pattern: `: void` at line 240:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.renderShape();
    }
  
> removeContent(index: number): void {
      this.shapeData.contents.splice(index, 1);
      this.renderShape();
    }
```

---

#### Pattern: `: void` at line 245:54

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.renderShape();
    }
  
> updateContent(index: number, content: ShapeContent): void {
      if (index >= 0 && index < this.shapeData.contents.length) {
        this.shapeData.contents[index] = content;
        this.renderShape();
```

---

#### Pattern: `: void` at line 256:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // FRAME EVALUATION
    // ============================================================================
  
> evaluateFrame(frame: number): void {
      this.currentFrame = frame;
      super.evaluateFrame(frame);
      this.renderShape();
```

---

#### Pattern: `: void` at line 265:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Called during frame evaluation to update shape-specific properties
     */
> protected onEvaluateFrame(frame: number): void {
      // Shape layers re-render on every frame to handle animated shape properties
      // The actual rendering is done in renderShape() called from evaluateFrame()
      this.currentFrame = frame;
```

---

#### Pattern: `: void` at line 274:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Called when layer properties are updated
     */
> protected onUpdate(properties: Partial<Layer>): void {
      // Check for shape data updates
      if (properties.data) {
        this.shapeData = properties.data as ShapeLayerData;
```

---

#### Pattern: `: void` at line 282:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
      }
    }
  
> onApplyEvaluatedState(state: any): void {
      // Shape-specific state could include animated shape properties
      if (state.shapeData) {
        this.shapeData = state.shapeData;
```

---

#### Pattern: `: void` at line 297:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Main render function
     */
> private renderShape(): void {
      // Clear canvas
      this.ctx.clearRect(0, 0, this.canvasWidth, this.canvasHeight);
  
```

---

#### Pattern: `isFinite()` at line 546:35

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          const offset = this.getAnimatedValue(trim.offset);
  
          // Validate animated values (NaN would corrupt trim calculations)
> const validStart = Number.isFinite(start) ? start : 0;
          const validEnd = Number.isFinite(end) ? end : 100;
          const validOffset = Number.isFinite(offset) ? offset : 0;
  
```

---

#### Pattern: `isFinite()` at line 547:33

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
          // Validate animated values (NaN would corrupt trim calculations)
          const validStart = Number.isFinite(start) ? start : 0;
> const validEnd = Number.isFinite(end) ? end : 100;
          const validOffset = Number.isFinite(offset) ? offset : 0;
  
          if (trim.mode === "simultaneously") {
```

---

#### Pattern: `isFinite()` at line 548:36

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          // Validate animated values (NaN would corrupt trim calculations)
          const validStart = Number.isFinite(start) ? start : 0;
          const validEnd = Number.isFinite(end) ? end : 100;
> const validOffset = Number.isFinite(offset) ? offset : 0;
  
          if (trim.mode === "simultaneously") {
            return paths.map((p) =>
```

---

#### Pattern: `isFinite()` at line 710:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    ): BezierPath[] {
      const rawCopies = this.getAnimatedValue(repeater.copies);
      // Validate copies (NaN would bypass the <= 1 check and cause issues downstream)
> const copies = Number.isFinite(rawCopies) ? Math.floor(rawCopies) : 1;
      if (copies <= 1) return paths;
  
      const offset = this.getAnimatedValue(repeater.offset);
```

---

#### Pattern: `: void` at line 758:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    private applyModifier(
      evalPath: EvaluatedPath,
      modifier: ShapeModifier,
> ): void {
      switch (modifier.type) {
        case "fill": {
          const fill = modifier as FillShape;
```

---

#### Pattern: `: void` at line 834:46

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Render a single evaluated path to canvas
     */
> private renderPath(evalPath: EvaluatedPath): void {
      const { path, fill, stroke, gradientFill, gradientStroke, groupBlendMode } = evalPath;
  
      if (path.vertices.length < 2) return;
```

---

#### Pattern: `: void` at line 1010:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    private createExtrudedGeometry(
      paths: BezierPath[],
      extrude: ExtrudeOperator,
> ): void {
      // Clear existing extrusions
      for (const mesh of this.extrudedMeshes) {
        this.extrudeGroup.remove(mesh);
```

---

#### Pattern: `: void` at line 1074:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // CLEANUP
    // ============================================================================
  
> dispose(): void {
      // Dispose texture
      this.texture.dispose();
  
```

---

### `engine/layers/SolidLayer.ts` (35 pattern(s))

#### Pattern: `Optional Chaining` at line 72:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        color: this.color,
        width: this.width,
        height: this.height,
> position: layerData.transform?.position?.value,
        visible: layerData.visible,
      });
  
```

---

#### Pattern: `Optional Chaining` at line 72:46

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        color: this.color,
        width: this.width,
        height: this.height,
> position: layerData.transform?.position?.value,
        visible: layerData.visible,
      });
  
```

---

#### Pattern: `Optional Chaining` at line 144:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const data = layerData.data as Partial<SolidData> | undefined;
  
      return {
> color: data?.color ?? "#808080",
        width: data?.width ?? 1920,
        height: data?.height ?? 1080,
        animatedColor: data?.animatedColor,
```

---

#### Pattern: `Optional Chaining` at line 145:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      return {
        color: data?.color ?? "#808080",
> width: data?.width ?? 1920,
        height: data?.height ?? 1080,
        animatedColor: data?.animatedColor,
        shadowCatcher: data?.shadowCatcher ?? false,
```

---

#### Pattern: `Optional Chaining` at line 146:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      return {
        color: data?.color ?? "#808080",
        width: data?.width ?? 1920,
> height: data?.height ?? 1080,
        animatedColor: data?.animatedColor,
        shadowCatcher: data?.shadowCatcher ?? false,
        shadowOpacity: data?.shadowOpacity ?? 50,
```

---

#### Pattern: `Optional Chaining` at line 147:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        color: data?.color ?? "#808080",
        width: data?.width ?? 1920,
        height: data?.height ?? 1080,
> animatedColor: data?.animatedColor,
        shadowCatcher: data?.shadowCatcher ?? false,
        shadowOpacity: data?.shadowOpacity ?? 50,
        shadowColor: data?.shadowColor ?? "#000000",
```

---

#### Pattern: `Optional Chaining` at line 148:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        width: data?.width ?? 1920,
        height: data?.height ?? 1080,
        animatedColor: data?.animatedColor,
> shadowCatcher: data?.shadowCatcher ?? false,
        shadowOpacity: data?.shadowOpacity ?? 50,
        shadowColor: data?.shadowColor ?? "#000000",
        receiveShadow: data?.receiveShadow ?? false,
```

---

#### Pattern: `Optional Chaining` at line 149:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        height: data?.height ?? 1080,
        animatedColor: data?.animatedColor,
        shadowCatcher: data?.shadowCatcher ?? false,
> shadowOpacity: data?.shadowOpacity ?? 50,
        shadowColor: data?.shadowColor ?? "#000000",
        receiveShadow: data?.receiveShadow ?? false,
      };
```

---

#### Pattern: `Optional Chaining` at line 150:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        animatedColor: data?.animatedColor,
        shadowCatcher: data?.shadowCatcher ?? false,
        shadowOpacity: data?.shadowOpacity ?? 50,
> shadowColor: data?.shadowColor ?? "#000000",
        receiveShadow: data?.receiveShadow ?? false,
      };
    }
```

---

#### Pattern: `Optional Chaining` at line 151:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        shadowCatcher: data?.shadowCatcher ?? false,
        shadowOpacity: data?.shadowOpacity ?? 50,
        shadowColor: data?.shadowColor ?? "#000000",
> receiveShadow: data?.receiveShadow ?? false,
      };
    }
  
```

---

#### Pattern: `: void` at line 158:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set solid color
     */
> setColor(color: string): void {
      this.color = color;
      // Only set color on non-shadow materials
      if (!this.shadowCatcher && "color" in this.material) {
```

---

#### Pattern: `: void` at line 179:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set solid dimensions
     */
> setDimensions(width: number, height: number): void {
      // Validate dimensions (NaN/0 would create invalid geometry)
      const validWidth = Number.isFinite(width) && width > 0 ? width : 1920;
      const validHeight = Number.isFinite(height) && height > 0 ? height : 1080;
```

---

#### Pattern: `isFinite()` at line 181:31

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    setDimensions(width: number, height: number): void {
      // Validate dimensions (NaN/0 would create invalid geometry)
> const validWidth = Number.isFinite(width) && width > 0 ? width : 1920;
      const validHeight = Number.isFinite(height) && height > 0 ? height : 1080;
  
      if (validWidth === this.width && validHeight === this.height) {
```

---

#### Pattern: `isFinite()` at line 182:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    setDimensions(width: number, height: number): void {
      // Validate dimensions (NaN/0 would create invalid geometry)
      const validWidth = Number.isFinite(width) && width > 0 ? width : 1920;
> const validHeight = Number.isFinite(height) && height > 0 ? height : 1080;
  
      if (validWidth === this.width && validHeight === this.height) {
        return;
```

---

#### Pattern: `: void` at line 207:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Enable/disable shadow catcher mode
     */
> setShadowCatcher(enabled: boolean): void {
      if (enabled === this.shadowCatcher) return;
  
      this.shadowCatcher = enabled;
```

---

#### Pattern: `: void` at line 217:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set shadow opacity (0-100)
     */
> setShadowOpacity(opacity: number): void {
      // Validate opacity (NaN bypasses Math.max/min clamp)
      const validOpacity = Number.isFinite(opacity) ? opacity : 50;
      this.shadowOpacity = Math.max(0, Math.min(100, validOpacity));
```

---

#### Pattern: `isFinite()` at line 219:33

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    setShadowOpacity(opacity: number): void {
      // Validate opacity (NaN bypasses Math.max/min clamp)
> const validOpacity = Number.isFinite(opacity) ? opacity : 50;
      this.shadowOpacity = Math.max(0, Math.min(100, validOpacity));
      if (this.shadowCatcher && this.material instanceof THREE.ShadowMaterial) {
        this.material.opacity = this.shadowOpacity / 100;
```

---

#### Pattern: `: void` at line 230:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set shadow color
     */
> setShadowColor(color: string): void {
      this.shadowColor = color;
      if (this.shadowCatcher && this.material instanceof THREE.ShadowMaterial) {
        this.material.color.set(color);
```

---

#### Pattern: `: void` at line 241:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Enable/disable shadow receiving
     */
> setReceiveShadow(enabled: boolean): void {
      if (enabled === this.receiveShadow) return;
  
      this.receiveShadow = enabled;
```

---

#### Pattern: `: void` at line 256:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Rebuild the material (when mode changes)
     */
> private rebuildMaterial(): void {
      // Dispose old material
      this.material.dispose();
  
```

---

#### Pattern: `: void` at line 277:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // ABSTRACT IMPLEMENTATIONS
    // ============================================================================
  
> protected onEvaluateFrame(frame: number): void {
      // Evaluate animated color if present (only for non-shadow catcher)
      if (this.animatedColor?.animated && !this.shadowCatcher) {
        const color = this.evaluator.evaluate(this.animatedColor, frame);
```

---

#### Pattern: `Optional Chaining` at line 279:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    protected onEvaluateFrame(frame: number): void {
      // Evaluate animated color if present (only for non-shadow catcher)
> if (this.animatedColor?.animated && !this.shadowCatcher) {
        const color = this.evaluator.evaluate(this.animatedColor, frame);
        if ("color" in this.material) {
          (
```

---

#### Pattern: `: void` at line 292:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  
    protected override onApplyEvaluatedState(
      state: import("../MotionEngine").EvaluatedLayer,
> ): void {
      // Apply evaluated color if present in properties (only for non-shadow catcher)
      if (state.properties.color !== undefined && !this.shadowCatcher) {
        if ("color" in this.material) {
```

---

#### Pattern: `: void` at line 313:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> protected onUpdate(properties: Partial<Layer>): void {
      const data = properties.data as Partial<SolidData> | undefined;
  
      // Handle shadow catcher mode change (must be first - triggers material rebuild)
```

---

#### Pattern: `Optional Chaining` at line 317:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const data = properties.data as Partial<SolidData> | undefined;
  
      // Handle shadow catcher mode change (must be first - triggers material rebuild)
> if (data?.shadowCatcher !== undefined) {
        this.setShadowCatcher(data.shadowCatcher);
      }
  
```

---

#### Pattern: `Optional Chaining` at line 322:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Handle receive shadow change
> if (data?.receiveShadow !== undefined) {
        this.setReceiveShadow(data.receiveShadow);
      }
  
```

---

#### Pattern: `Optional Chaining` at line 326:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        this.setReceiveShadow(data.receiveShadow);
      }
  
> if (data?.color !== undefined) {
        this.setColor(data.color);
      }
  
```

---

#### Pattern: `Optional Chaining` at line 330:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        this.setColor(data.color);
      }
  
> if (data?.width !== undefined || data?.height !== undefined) {
        this.setDimensions(
          data?.width ?? this.width,
          data?.height ?? this.height,
```

---

#### Pattern: `Optional Chaining` at line 330:42

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        this.setColor(data.color);
      }
  
> if (data?.width !== undefined || data?.height !== undefined) {
        this.setDimensions(
          data?.width ?? this.width,
          data?.height ?? this.height,
```

---

#### Pattern: `Optional Chaining` at line 332:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      if (data?.width !== undefined || data?.height !== undefined) {
        this.setDimensions(
> data?.width ?? this.width,
          data?.height ?? this.height,
        );
      }
```

---

#### Pattern: `Optional Chaining` at line 333:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      if (data?.width !== undefined || data?.height !== undefined) {
        this.setDimensions(
          data?.width ?? this.width,
> data?.height ?? this.height,
        );
      }
  
```

---

#### Pattern: `Optional Chaining` at line 338:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Shadow catcher specific properties
> if (data?.shadowOpacity !== undefined) {
        this.setShadowOpacity(data.shadowOpacity);
      }
  
```

---

#### Pattern: `Optional Chaining` at line 342:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        this.setShadowOpacity(data.shadowOpacity);
      }
  
> if (data?.shadowColor !== undefined) {
        this.setShadowColor(data.shadowColor);
      }
  
```

---

#### Pattern: `Optional Chaining` at line 347:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Update animated color property
> if (data?.animatedColor !== undefined) {
        this.animatedColor = data.animatedColor;
      }
      // Note: labelColor is for timeline organization only, not visual fill color
```

---

#### Pattern: `: void` at line 353:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      // Note: labelColor is for timeline organization only, not visual fill color
    }
  
> protected onDispose(): void {
      this.geometry.dispose();
      this.material.dispose();
    }
```

---

### `engine/layers/SplineLayer.ts` (75 pattern(s))

#### Pattern: `Optional Chaining` at line 143:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Extract trim properties
      const data = layerData.data as SplineData | null;
> this.trimStartProp = data?.trimStart;
      this.trimEndProp = data?.trimEnd;
      this.trimOffsetProp = data?.trimOffset;
      this.pathEffects = data?.pathEffects;
```

---

#### Pattern: `Optional Chaining` at line 144:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Extract trim properties
      const data = layerData.data as SplineData | null;
      this.trimStartProp = data?.trimStart;
> this.trimEndProp = data?.trimEnd;
      this.trimOffsetProp = data?.trimOffset;
      this.pathEffects = data?.pathEffects;
  
```

---

#### Pattern: `Optional Chaining` at line 145:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const data = layerData.data as SplineData | null;
      this.trimStartProp = data?.trimStart;
      this.trimEndProp = data?.trimEnd;
> this.trimOffsetProp = data?.trimOffset;
      this.pathEffects = data?.pathEffects;
  
      // Initialize LOD if enabled and path is complex enough
```

---

#### Pattern: `Optional Chaining` at line 146:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.trimStartProp = data?.trimStart;
      this.trimEndProp = data?.trimEnd;
      this.trimOffsetProp = data?.trimOffset;
> this.pathEffects = data?.pathEffects;
  
      // Initialize LOD if enabled and path is complex enough
      this.initializeLOD(data);
```

---

#### Pattern: `Optional Chaining` at line 168:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const data = layerData.data as SplineData | null;
  
      return {
> controlPoints: data?.controlPoints ?? [],
        closed: data?.closed ?? false,
        stroke: data?.stroke ?? "#00ff00",
        strokeWidth: data?.strokeWidth ?? 2,
```

---

#### Pattern: `Optional Chaining` at line 169:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      return {
        controlPoints: data?.controlPoints ?? [],
> closed: data?.closed ?? false,
        stroke: data?.stroke ?? "#00ff00",
        strokeWidth: data?.strokeWidth ?? 2,
        fill: data?.fill ?? "",
```

---

#### Pattern: `Optional Chaining` at line 170:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      return {
        controlPoints: data?.controlPoints ?? [],
        closed: data?.closed ?? false,
> stroke: data?.stroke ?? "#00ff00",
        strokeWidth: data?.strokeWidth ?? 2,
        fill: data?.fill ?? "",
        pathData: data?.pathData ?? "",
```

---

#### Pattern: `Optional Chaining` at line 171:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        controlPoints: data?.controlPoints ?? [],
        closed: data?.closed ?? false,
        stroke: data?.stroke ?? "#00ff00",
> strokeWidth: data?.strokeWidth ?? 2,
        fill: data?.fill ?? "",
        pathData: data?.pathData ?? "",
      };
```

---

#### Pattern: `Optional Chaining` at line 172:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        closed: data?.closed ?? false,
        stroke: data?.stroke ?? "#00ff00",
        strokeWidth: data?.strokeWidth ?? 2,
> fill: data?.fill ?? "",
        pathData: data?.pathData ?? "",
      };
    }
```

---

#### Pattern: `Optional Chaining` at line 173:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        stroke: data?.stroke ?? "#00ff00",
        strokeWidth: data?.strokeWidth ?? 2,
        fill: data?.fill ?? "",
> pathData: data?.pathData ?? "",
      };
    }
  
```

---

#### Pattern: `: void` at line 180:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Initialize LOD levels for complex paths
     */
> private initializeLOD(data: SplineData | null): void {
      if (!data) return;
  
      // Check if LOD settings exist in the data
```

---

#### Pattern: `Optional Chaining` at line 190:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Auto-enable LOD for complex paths (>100 points)
      const shouldAutoEnable = points.length > 100;
  
> if (lodSettings?.enabled || shouldAutoEnable) {
        this.lodEnabled = true;
  
        // Use pre-generated levels if available, otherwise generate them
```

---

#### Pattern: `Optional Chaining` at line 194:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        this.lodEnabled = true;
  
        // Use pre-generated levels if available, otherwise generate them
> if (lodSettings?.levels && lodSettings.levels.length > 0) {
          this.lodLevels = lodSettings.levels.map((level) => ({
            tolerance: level.tolerance,
            controlPoints: level.controlPoints,
```

---

#### Pattern: `Optional Chaining` at line 207:38

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          });
        } else {
          // Generate LOD levels on-the-fly
> const tolerance = lodSettings?.simplificationTolerance ?? 2.0;
          this.lodLevels = vectorLOD.generateLODLevels(
            this.layerData.id,
            points,
```

---

#### Pattern: `: void` at line 221:56

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update LOD context (call this when playback state changes)
     */
> public updateLODContext(context: Partial<LODContext>): void {
      this.lodContext = { ...this.lodContext, ...context };
    }
  
```

---

#### Pattern: `: void` at line 228:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Initialize mesh warp deformation from layer data
     */
> private initializeWarp(data: SplineData | null): void {
      // Support both new 'warpPins' and deprecated 'puppetPins' property names
      const pins = data?.warpPins ?? data?.puppetPins;
      if (!data || !pins || pins.length === 0) {
```

---

#### Pattern: `Optional Chaining` at line 230:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     */
    private initializeWarp(data: SplineData | null): void {
      // Support both new 'warpPins' and deprecated 'puppetPins' property names
> const pins = data?.warpPins ?? data?.puppetPins;
      if (!data || !pins || pins.length === 0) {
        return;
      }
```

---

#### Pattern: `Optional Chaining` at line 230:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     */
    private initializeWarp(data: SplineData | null): void {
      // Support both new 'warpPins' and deprecated 'puppetPins' property names
> const pins = data?.warpPins ?? data?.puppetPins;
      if (!data || !pins || pins.length === 0) {
        return;
      }
```

---

#### Pattern: `: void` at line 246:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Enable mesh warp deformation mode
     * Creates a deformation mesh from current control points
     */
> public enableWarpMode(): void {
      if (this.warpEnabled) return;
  
      this.warpEnabled = true;
```

---

#### Pattern: `: void` at line 262:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  
    /** @deprecated Use enableWarpMode instead */
> public enablePuppetMode(): void {
      return this.enableWarpMode();
    }
  
```

---

#### Pattern: `: void` at line 269:27

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Disable mesh warp deformation mode
     */
> public disableWarpMode(): void {
      if (!this.warpEnabled) return;
  
      this.warpEnabled = false;
```

---

#### Pattern: `: void` at line 280:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  
    /** @deprecated Use disableWarpMode instead */
> public disablePuppetMode(): void {
      return this.disableWarpMode();
    }
  
```

---

#### Pattern: `: void` at line 340:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Remove a warp pin by ID
     * @param pinId - The ID of the pin to remove
     */
> public removeWarpPin(pinId: string): void {
      const index = this.warpPins.findIndex((p) => p.id === pinId);
      if (index === -1) return;
  
```

---

#### Pattern: `: void` at line 356:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  
    /** @deprecated Use removeWarpPin instead */
> public removePuppetPin(pinId: string): void {
      return this.removeWarpPin(pinId);
    }
  
```

---

#### Pattern: `: void` at line 378:68

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * @param x - New X position
     * @param y - New Y position
     */
> public updateWarpPinPosition(pinId: string, x: number, y: number): void {
      const pin = this.warpPins.find((p) => p.id === pinId);
      if (!pin) return;
  
```

---

#### Pattern: `isFinite()` at line 383:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      if (!pin) return;
  
      // Validate coordinates (NaN would corrupt warp mesh calculations)
> const validX = Number.isFinite(x) ? x : 0;
      const validY = Number.isFinite(y) ? y : 0;
  
      pin.position.value = { x: validX, y: validY };
```

---

#### Pattern: `isFinite()` at line 384:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      // Validate coordinates (NaN would corrupt warp mesh calculations)
      const validX = Number.isFinite(x) ? x : 0;
> const validY = Number.isFinite(y) ? y : 0;
  
      pin.position.value = { x: validX, y: validY };
      meshWarpDeformation.updatePinPosition(
```

---

#### Pattern: `: void` at line 398:70

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  
    /** @deprecated Use updateWarpPinPosition instead */
> public updatePuppetPinPosition(pinId: string, x: number, y: number): void {
      return this.updateWarpPinPosition(pinId, x, y);
    }
  
```

---

#### Pattern: `: void` at line 406:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
     * Set warp pins (replacing all existing pins)
     * @param pins - Array of warp pins
     */
> public setWarpPins(pins: WarpPin[]): void {
      this.warpPins = pins;
  
      if (pins.length > 0) {
```

---

#### Pattern: `: void` at line 422:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
    }
  
    /** @deprecated Use setWarpPins instead */
> public setPuppetPins(pins: WarpPin[]): void {
      return this.setWarpPins(pins);
    }
  
```

---

#### Pattern: `: void` at line 429:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Build the Three.js spline from control points
     */
> private buildSpline(): void {
      // Clear existing meshes
      this.clearMeshes();
  
```

---

#### Pattern: `Optional Chaining` at line 452:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const bezier = new THREE.CubicBezierCurve3(
          new THREE.Vector3(p0.x, -p0.y, z0),
          new THREE.Vector3(
> p0.handleOut?.x ?? p0.x,
            -(p0.handleOut?.y ?? p0.y),
            z0,
          ),
```

---

#### Pattern: `Optional Chaining` at line 453:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          new THREE.Vector3(p0.x, -p0.y, z0),
          new THREE.Vector3(
            p0.handleOut?.x ?? p0.x,
> -(p0.handleOut?.y ?? p0.y),
            z0,
          ),
          new THREE.Vector3(
```

---

#### Pattern: `Optional Chaining` at line 457:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            z0,
          ),
          new THREE.Vector3(
> p1.handleIn?.x ?? p1.x,
            -(p1.handleIn?.y ?? p1.y),
            z1,
          ),
```

---

#### Pattern: `Optional Chaining` at line 458:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          ),
          new THREE.Vector3(
            p1.handleIn?.x ?? p1.x,
> -(p1.handleIn?.y ?? p1.y),
            z1,
          ),
          new THREE.Vector3(p1.x, -p1.y, z1),
```

---

#### Pattern: `Optional Chaining` at line 479:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const closingBezier = new THREE.CubicBezierCurve3(
          new THREE.Vector3(lastPoint.x, -lastPoint.y, zLast),
          new THREE.Vector3(
> lastPoint.handleOut?.x ?? lastPoint.x,
            -(lastPoint.handleOut?.y ?? lastPoint.y),
            zLast,
          ),
```

---

#### Pattern: `Optional Chaining` at line 480:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          new THREE.Vector3(lastPoint.x, -lastPoint.y, zLast),
          new THREE.Vector3(
            lastPoint.handleOut?.x ?? lastPoint.x,
> -(lastPoint.handleOut?.y ?? lastPoint.y),
            zLast,
          ),
          new THREE.Vector3(
```

---

#### Pattern: `Optional Chaining` at line 484:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            zLast,
          ),
          new THREE.Vector3(
> firstPoint.handleIn?.x ?? firstPoint.x,
            -(firstPoint.handleIn?.y ?? firstPoint.y),
            zFirst,
          ),
```

---

#### Pattern: `Optional Chaining` at line 485:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          ),
          new THREE.Vector3(
            firstPoint.handleIn?.x ?? firstPoint.x,
> -(firstPoint.handleIn?.y ?? firstPoint.y),
            zFirst,
          ),
          new THREE.Vector3(firstPoint.x, -firstPoint.y, zFirst),
```

---

#### Pattern: `: void` at line 532:51

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create fill mesh for closed paths
     */
> private createFill(curvePoints: THREE.Vector3[]): void {
      if (curvePoints.length < 3) return;
  
      // Create shape from points (project to XY plane)
```

---

#### Pattern: `: void` at line 562:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear existing meshes
     */
> private clearMeshes(): void {
      if (this.lineMesh) {
        this.group.remove(this.lineMesh);
        this.lineMesh.geometry.dispose();
```

---

#### Pattern: `isFinite()` at line 590:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    getPointAt(t: number): THREE.Vector3 | null {
      if (!this.curve) return null;
      // Validate t (NaN bypasses Math.max/min clamp)
> const validT = Number.isFinite(t) ? Math.max(0, Math.min(1, t)) : 0;
      return this.curve.getPointAt(validT);
    }
  
```

---

#### Pattern: `isFinite()` at line 600:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    getTangentAt(t: number): THREE.Vector3 | null {
      if (!this.curve) return null;
      // Validate t (NaN bypasses Math.max/min clamp)
> const validT = Number.isFinite(t) ? Math.max(0, Math.min(1, t)) : 0;
      return this.curve.getTangentAt(validT);
    }
  
```

---

#### Pattern: `: void` at line 643:27

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set stroke color
     */
> setStroke(color: string): void {
      this.splineData.stroke = color;
      if (this.lineMesh) {
        (this.lineMesh.material as LineMaterial).color.set(color);
```

---

#### Pattern: `: void` at line 653:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set stroke width
     */
> setStrokeWidth(width: number): void {
      // Validate width (NaN/0 would corrupt LineMaterial rendering)
      const validWidth = Number.isFinite(width) && width > 0 ? width : 2;
      this.splineData.strokeWidth = validWidth;
```

---

#### Pattern: `isFinite()` at line 655:31

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    setStrokeWidth(width: number): void {
      // Validate width (NaN/0 would corrupt LineMaterial rendering)
> const validWidth = Number.isFinite(width) && width > 0 ? width : 2;
      this.splineData.strokeWidth = validWidth;
      if (this.lineMesh) {
        (this.lineMesh.material as LineMaterial).linewidth = validWidth;
```

---

#### Pattern: `: void` at line 666:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set fill color
     */
> setFill(color: string): void {
      this.splineData.fill = color;
      if (this.fillMesh) {
        (this.fillMesh.material as THREE.MeshBasicMaterial).color.set(color);
```

---

#### Pattern: `: void` at line 682:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set resolution for line material (call when canvas resizes)
     */
> setResolution(width: number, height: number): void {
      // Validate dimensions (NaN would corrupt LineMaterial resolution)
      const validWidth = Number.isFinite(width) && width > 0 ? width : 1920;
      const validHeight = Number.isFinite(height) && height > 0 ? height : 1080;
```

---

#### Pattern: `isFinite()` at line 684:31

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    setResolution(width: number, height: number): void {
      // Validate dimensions (NaN would corrupt LineMaterial resolution)
> const validWidth = Number.isFinite(width) && width > 0 ? width : 1920;
      const validHeight = Number.isFinite(height) && height > 0 ? height : 1080;
      this.resolution.set(validWidth, validHeight);
      if (this.lineMesh) {
```

---

#### Pattern: `isFinite()` at line 685:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    setResolution(width: number, height: number): void {
      // Validate dimensions (NaN would corrupt LineMaterial resolution)
      const validWidth = Number.isFinite(width) && width > 0 ? width : 1920;
> const validHeight = Number.isFinite(height) && height > 0 ? height : 1080;
      this.resolution.set(validWidth, validHeight);
      if (this.lineMesh) {
        (this.lineMesh.material as LineMaterial).resolution.set(
```

---

#### Pattern: `: void` at line 698:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
    /**
     * Update control points (static)
     */
> setControlPoints(points: ControlPoint[]): void {
      this.splineData.controlPoints = points;
      // Clear animated points when setting static points
      this.animatedPoints = null;
```

---

#### Pattern: `: void` at line 710:61

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
     * Set animated control points
     * Enables animation mode for this spline
     */
> setAnimatedControlPoints(points: AnimatableControlPoint[]): void {
      this.animatedPoints = points;
      this.splineData.animatedControlPoints = points;
      this.splineData.animated = true;
```

---

#### Pattern: `: void` at line 744:21

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Disable animation and convert back to static control points
     */
> disableAnimation(): void {
      if (!this.animatedPoints) return;
  
      const { animatableToControlPoint } = require("@/types/project");
```

---

#### Pattern: `: void` at line 767:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set closed state
     */
> setClosed(closed: boolean): void {
      if (this.splineData.closed === closed) return;
      this.splineData.closed = closed;
      this.buildSpline();
```

---

#### Pattern: `: void` at line 788:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set trim start (static value)
     * @param value - Trim start percentage (0-100)
     */
> setTrimStart(value: number): void {
      this.trimStartProp = value;
      this.lastPointsHash = ""; // Force rebuild
    }
```

---

#### Pattern: `: void` at line 797:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set trim end (static value)
     * @param value - Trim end percentage (0-100)
     */
> setTrimEnd(value: number): void {
      this.trimEndProp = value;
      this.lastPointsHash = ""; // Force rebuild
    }
```

---

#### Pattern: `: void` at line 806:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set trim offset (static value)
     * @param value - Trim offset in degrees
     */
> setTrimOffset(value: number): void {
      this.trimOffsetProp = value;
      this.lastPointsHash = ""; // Force rebuild
    }
```

---

#### Pattern: `: void` at line 815:57

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set animated trim start property
     * @param prop - AnimatableProperty for trim start
     */
> setAnimatedTrimStart(prop: AnimatableProperty<number>): void {
      this.trimStartProp = prop;
      this.lastPointsHash = "";
    }
```

---

#### Pattern: `: void` at line 824:55

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set animated trim end property
     * @param prop - AnimatableProperty for trim end
     */
> setAnimatedTrimEnd(prop: AnimatableProperty<number>): void {
      this.trimEndProp = prop;
      this.lastPointsHash = "";
    }
```

---

#### Pattern: `: void` at line 833:58

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set animated trim offset property
     * @param prop - AnimatableProperty for trim offset
     */
> setAnimatedTrimOffset(prop: AnimatableProperty<number>): void {
      this.trimOffsetProp = prop;
      this.lastPointsHash = "";
    }
```

---

#### Pattern: `: void` at line 866:46

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
     * Set path effects
     * @param effects - Array of path effects to apply
     */
> setPathEffects(effects: SplinePathEffect[]): void {
      this.pathEffects = effects;
      this.lastPointsHash = ""; // Force rebuild
    }
```

---

#### Pattern: `Optional Chaining` at line 1062:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Check if any path effects are enabled
     */
    private hasActivePathEffects(): boolean {
> return this.pathEffects?.some((e) => e.enabled) ?? false;
    }
  
    /**
```

---

#### Pattern: `: void` at line 1298:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     */
    private buildSplineFromEvaluatedPoints(
      points: EvaluatedControlPoint[],
> ): void {
      // Clear existing meshes
      this.clearMeshes();
  
```

---

#### Pattern: `Optional Chaining` at line 1320:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const bezier = new THREE.CubicBezierCurve3(
          new THREE.Vector3(p0.x, -p0.y, z0),
          new THREE.Vector3(
> p0.handleOut?.x ?? p0.x,
            -(p0.handleOut?.y ?? p0.y),
            z0,
          ),
```

---

#### Pattern: `Optional Chaining` at line 1321:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          new THREE.Vector3(p0.x, -p0.y, z0),
          new THREE.Vector3(
            p0.handleOut?.x ?? p0.x,
> -(p0.handleOut?.y ?? p0.y),
            z0,
          ),
          new THREE.Vector3(
```

---

#### Pattern: `Optional Chaining` at line 1325:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            z0,
          ),
          new THREE.Vector3(
> p1.handleIn?.x ?? p1.x,
            -(p1.handleIn?.y ?? p1.y),
            z1,
          ),
```

---

#### Pattern: `Optional Chaining` at line 1326:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          ),
          new THREE.Vector3(
            p1.handleIn?.x ?? p1.x,
> -(p1.handleIn?.y ?? p1.y),
            z1,
          ),
          new THREE.Vector3(p1.x, -p1.y, z1),
```

---

#### Pattern: `Optional Chaining` at line 1347:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const closingBezier = new THREE.CubicBezierCurve3(
          new THREE.Vector3(lastPoint.x, -lastPoint.y, zLast),
          new THREE.Vector3(
> lastPoint.handleOut?.x ?? lastPoint.x,
            -(lastPoint.handleOut?.y ?? lastPoint.y),
            zLast,
          ),
```

---

#### Pattern: `Optional Chaining` at line 1348:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          new THREE.Vector3(lastPoint.x, -lastPoint.y, zLast),
          new THREE.Vector3(
            lastPoint.handleOut?.x ?? lastPoint.x,
> -(lastPoint.handleOut?.y ?? lastPoint.y),
            zLast,
          ),
          new THREE.Vector3(
```

---

#### Pattern: `Optional Chaining` at line 1352:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            zLast,
          ),
          new THREE.Vector3(
> firstPoint.handleIn?.x ?? firstPoint.x,
            -(firstPoint.handleIn?.y ?? firstPoint.y),
            zFirst,
          ),
```

---

#### Pattern: `Optional Chaining` at line 1353:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          ),
          new THREE.Vector3(
            firstPoint.handleIn?.x ?? firstPoint.x,
> -(firstPoint.handleIn?.y ?? firstPoint.y),
            zFirst,
          ),
          new THREE.Vector3(firstPoint.x, -firstPoint.y, zFirst),
```

---

#### Pattern: `: void` at line 1400:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // ABSTRACT IMPLEMENTATIONS
    // ============================================================================
  
> protected onEvaluateFrame(frame: number): void {
      // Evaluate trim properties (these may be animated even if control points aren't)
      const trimStart = this.evaluateStaticOrAnimated(
        this.trimStartProp,
```

---

#### Pattern: `: void` at line 1563:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  
    protected override onApplyEvaluatedState(
      state: import("../MotionEngine").EvaluatedLayer,
> ): void {
      const props = state.properties;
  
      // Apply evaluated control points if present
```

---

#### Pattern: `: void` at line 1662:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      });
    }
  
> protected onUpdate(properties: Partial<Layer>): void {
      const data = properties.data as SplineData | undefined;
  
      if (data) {
```

---

#### Pattern: `: void` at line 1742:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> protected onDispose(): void {
      this.clearMeshes();
  
      // Clean up mesh warp deformation mesh
```

---

### `engine/layers/TextLayer.ts` (85 pattern(s))

#### Pattern: `Optional Chaining` at line 243:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const data = layerData.data as TextData | null;
  
      return {
> text: data?.text ?? "Text",
        fontFamily: data?.fontFamily ?? "Impact",
        fontSize: data?.fontSize ?? 72,
        fontWeight: data?.fontWeight ?? "400",
```

---

#### Pattern: `Optional Chaining` at line 244:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      return {
        text: data?.text ?? "Text",
> fontFamily: data?.fontFamily ?? "Impact",
        fontSize: data?.fontSize ?? 72,
        fontWeight: data?.fontWeight ?? "400",
        fontStyle: data?.fontStyle ?? "normal",
```

---

#### Pattern: `Optional Chaining` at line 245:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      return {
        text: data?.text ?? "Text",
        fontFamily: data?.fontFamily ?? "Impact",
> fontSize: data?.fontSize ?? 72,
        fontWeight: data?.fontWeight ?? "400",
        fontStyle: data?.fontStyle ?? "normal",
        fill: data?.fill ?? "#ffffff",
```

---

#### Pattern: `Optional Chaining` at line 246:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        text: data?.text ?? "Text",
        fontFamily: data?.fontFamily ?? "Impact",
        fontSize: data?.fontSize ?? 72,
> fontWeight: data?.fontWeight ?? "400",
        fontStyle: data?.fontStyle ?? "normal",
        fill: data?.fill ?? "#ffffff",
        stroke: data?.stroke ?? "",
```

---

#### Pattern: `Optional Chaining` at line 247:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        fontFamily: data?.fontFamily ?? "Impact",
        fontSize: data?.fontSize ?? 72,
        fontWeight: data?.fontWeight ?? "400",
> fontStyle: data?.fontStyle ?? "normal",
        fill: data?.fill ?? "#ffffff",
        stroke: data?.stroke ?? "",
        strokeWidth: data?.strokeWidth ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 248:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        fontSize: data?.fontSize ?? 72,
        fontWeight: data?.fontWeight ?? "400",
        fontStyle: data?.fontStyle ?? "normal",
> fill: data?.fill ?? "#ffffff",
        stroke: data?.stroke ?? "",
        strokeWidth: data?.strokeWidth ?? 0,
  
```

---

#### Pattern: `Optional Chaining` at line 249:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        fontWeight: data?.fontWeight ?? "400",
        fontStyle: data?.fontStyle ?? "normal",
        fill: data?.fill ?? "#ffffff",
> stroke: data?.stroke ?? "",
        strokeWidth: data?.strokeWidth ?? 0,
  
        // Character properties
```

---

#### Pattern: `Optional Chaining` at line 250:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        fontStyle: data?.fontStyle ?? "normal",
        fill: data?.fill ?? "#ffffff",
        stroke: data?.stroke ?? "",
> strokeWidth: data?.strokeWidth ?? 0,
  
        // Character properties
        tracking: data?.tracking ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 253:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        strokeWidth: data?.strokeWidth ?? 0,
  
        // Character properties
> tracking: data?.tracking ?? 0,
        lineSpacing: data?.lineSpacing ?? 0,
        lineAnchor: data?.lineAnchor ?? 50,
        characterOffset: data?.characterOffset ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 254:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        // Character properties
        tracking: data?.tracking ?? 0,
> lineSpacing: data?.lineSpacing ?? 0,
        lineAnchor: data?.lineAnchor ?? 50,
        characterOffset: data?.characterOffset ?? 0,
        characterValue: data?.characterValue ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 255:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Character properties
        tracking: data?.tracking ?? 0,
        lineSpacing: data?.lineSpacing ?? 0,
> lineAnchor: data?.lineAnchor ?? 50,
        characterOffset: data?.characterOffset ?? 0,
        characterValue: data?.characterValue ?? 0,
        blur: data?.blur ?? { x: 0, y: 0 },
```

---

#### Pattern: `Optional Chaining` at line 256:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        tracking: data?.tracking ?? 0,
        lineSpacing: data?.lineSpacing ?? 0,
        lineAnchor: data?.lineAnchor ?? 50,
> characterOffset: data?.characterOffset ?? 0,
        characterValue: data?.characterValue ?? 0,
        blur: data?.blur ?? { x: 0, y: 0 },
  
```

---

#### Pattern: `Optional Chaining` at line 257:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        lineSpacing: data?.lineSpacing ?? 0,
        lineAnchor: data?.lineAnchor ?? 50,
        characterOffset: data?.characterOffset ?? 0,
> characterValue: data?.characterValue ?? 0,
        blur: data?.blur ?? { x: 0, y: 0 },
  
        // Paragraph (aliases)
```

---

#### Pattern: `Optional Chaining` at line 258:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        lineAnchor: data?.lineAnchor ?? 50,
        characterOffset: data?.characterOffset ?? 0,
        characterValue: data?.characterValue ?? 0,
> blur: data?.blur ?? { x: 0, y: 0 },
  
        // Paragraph (aliases)
        letterSpacing: data?.letterSpacing ?? data?.tracking ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 261:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        blur: data?.blur ?? { x: 0, y: 0 },
  
        // Paragraph (aliases)
> letterSpacing: data?.letterSpacing ?? data?.tracking ?? 0,
        lineHeight: data?.lineHeight ?? data?.lineSpacing ?? 1.2,
        textAlign: data?.textAlign ?? "left",
  
```

---

#### Pattern: `Optional Chaining` at line 261:49

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        blur: data?.blur ?? { x: 0, y: 0 },
  
        // Paragraph (aliases)
> letterSpacing: data?.letterSpacing ?? data?.tracking ?? 0,
        lineHeight: data?.lineHeight ?? data?.lineSpacing ?? 1.2,
        textAlign: data?.textAlign ?? "left",
  
```

---

#### Pattern: `Optional Chaining` at line 262:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        // Paragraph (aliases)
        letterSpacing: data?.letterSpacing ?? data?.tracking ?? 0,
> lineHeight: data?.lineHeight ?? data?.lineSpacing ?? 1.2,
        textAlign: data?.textAlign ?? "left",
  
        // Path options (full AE parity)
```

---

#### Pattern: `Optional Chaining` at line 262:43

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        // Paragraph (aliases)
        letterSpacing: data?.letterSpacing ?? data?.tracking ?? 0,
> lineHeight: data?.lineHeight ?? data?.lineSpacing ?? 1.2,
        textAlign: data?.textAlign ?? "left",
  
        // Path options (full AE parity)
```

---

#### Pattern: `Optional Chaining` at line 263:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Paragraph (aliases)
        letterSpacing: data?.letterSpacing ?? data?.tracking ?? 0,
        lineHeight: data?.lineHeight ?? data?.lineSpacing ?? 1.2,
> textAlign: data?.textAlign ?? "left",
  
        // Path options (full AE parity)
        pathLayerId: data?.pathLayerId ?? null,
```

---

#### Pattern: `Optional Chaining` at line 266:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        textAlign: data?.textAlign ?? "left",
  
        // Path options (full AE parity)
> pathLayerId: data?.pathLayerId ?? null,
        pathReversed: data?.pathReversed ?? false,
        pathPerpendicularToPath: data?.pathPerpendicularToPath ?? true,
        pathForceAlignment: data?.pathForceAlignment ?? false,
```

---

#### Pattern: `Optional Chaining` at line 267:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        // Path options (full AE parity)
        pathLayerId: data?.pathLayerId ?? null,
> pathReversed: data?.pathReversed ?? false,
        pathPerpendicularToPath: data?.pathPerpendicularToPath ?? true,
        pathForceAlignment: data?.pathForceAlignment ?? false,
        pathFirstMargin: data?.pathFirstMargin ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 268:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Path options (full AE parity)
        pathLayerId: data?.pathLayerId ?? null,
        pathReversed: data?.pathReversed ?? false,
> pathPerpendicularToPath: data?.pathPerpendicularToPath ?? true,
        pathForceAlignment: data?.pathForceAlignment ?? false,
        pathFirstMargin: data?.pathFirstMargin ?? 0,
        pathLastMargin: data?.pathLastMargin ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 269:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        pathLayerId: data?.pathLayerId ?? null,
        pathReversed: data?.pathReversed ?? false,
        pathPerpendicularToPath: data?.pathPerpendicularToPath ?? true,
> pathForceAlignment: data?.pathForceAlignment ?? false,
        pathFirstMargin: data?.pathFirstMargin ?? 0,
        pathLastMargin: data?.pathLastMargin ?? 0,
        pathOffset: data?.pathOffset ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 270:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        pathReversed: data?.pathReversed ?? false,
        pathPerpendicularToPath: data?.pathPerpendicularToPath ?? true,
        pathForceAlignment: data?.pathForceAlignment ?? false,
> pathFirstMargin: data?.pathFirstMargin ?? 0,
        pathLastMargin: data?.pathLastMargin ?? 0,
        pathOffset: data?.pathOffset ?? 0,
        pathAlign: data?.pathAlign ?? "left",
```

---

#### Pattern: `Optional Chaining` at line 271:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        pathPerpendicularToPath: data?.pathPerpendicularToPath ?? true,
        pathForceAlignment: data?.pathForceAlignment ?? false,
        pathFirstMargin: data?.pathFirstMargin ?? 0,
> pathLastMargin: data?.pathLastMargin ?? 0,
        pathOffset: data?.pathOffset ?? 0,
        pathAlign: data?.pathAlign ?? "left",
  
```

---

#### Pattern: `Optional Chaining` at line 272:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        pathForceAlignment: data?.pathForceAlignment ?? false,
        pathFirstMargin: data?.pathFirstMargin ?? 0,
        pathLastMargin: data?.pathLastMargin ?? 0,
> pathOffset: data?.pathOffset ?? 0,
        pathAlign: data?.pathAlign ?? "left",
  
        // More Options
```

---

#### Pattern: `Optional Chaining` at line 273:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        pathFirstMargin: data?.pathFirstMargin ?? 0,
        pathLastMargin: data?.pathLastMargin ?? 0,
        pathOffset: data?.pathOffset ?? 0,
> pathAlign: data?.pathAlign ?? "left",
  
        // More Options
        anchorPointGrouping: data?.anchorPointGrouping ?? "character",
```

---

#### Pattern: `Optional Chaining` at line 276:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        pathAlign: data?.pathAlign ?? "left",
  
        // More Options
> anchorPointGrouping: data?.anchorPointGrouping ?? "character",
        groupingAlignment: data?.groupingAlignment ?? { x: 0, y: 0 },
        fillAndStroke: data?.fillAndStroke ?? "fill-over-stroke",
        interCharacterBlending: data?.interCharacterBlending ?? "normal",
```

---

#### Pattern: `Optional Chaining` at line 277:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        // More Options
        anchorPointGrouping: data?.anchorPointGrouping ?? "character",
> groupingAlignment: data?.groupingAlignment ?? { x: 0, y: 0 },
        fillAndStroke: data?.fillAndStroke ?? "fill-over-stroke",
        interCharacterBlending: data?.interCharacterBlending ?? "normal",
  
```

---

#### Pattern: `Optional Chaining` at line 278:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // More Options
        anchorPointGrouping: data?.anchorPointGrouping ?? "character",
        groupingAlignment: data?.groupingAlignment ?? { x: 0, y: 0 },
> fillAndStroke: data?.fillAndStroke ?? "fill-over-stroke",
        interCharacterBlending: data?.interCharacterBlending ?? "normal",
  
        // 3D
```

---

#### Pattern: `Optional Chaining` at line 279:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        anchorPointGrouping: data?.anchorPointGrouping ?? "character",
        groupingAlignment: data?.groupingAlignment ?? { x: 0, y: 0 },
        fillAndStroke: data?.fillAndStroke ?? "fill-over-stroke",
> interCharacterBlending: data?.interCharacterBlending ?? "normal",
  
        // 3D
        perCharacter3D: data?.perCharacter3D ?? false,
```

---

#### Pattern: `Optional Chaining` at line 282:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        interCharacterBlending: data?.interCharacterBlending ?? "normal",
  
        // 3D
> perCharacter3D: data?.perCharacter3D ?? false,
  
        // Text animators
        animators: data?.animators ?? [],
```

---

#### Pattern: `Optional Chaining` at line 285:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        perCharacter3D: data?.perCharacter3D ?? false,
  
        // Text animators
> animators: data?.animators ?? [],
      };
    }
  
```

---

#### Pattern: `: void` at line 292:56

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Extract animatable properties from layer.properties array
     */
> private extractAnimatableProperties(layerData: Layer): void {
      if (!layerData.properties) return;
  
      for (const prop of layerData.properties) {
```

---

#### Pattern: `: void` at line 337:27

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Sync path configuration from text data
     */
> private syncPathConfig(): void {
      this.pathConfig.pathLayerId = this.textData.pathLayerId;
      this.pathConfig.reversed = this.textData.pathReversed;
      this.pathConfig.perpendicularToPath = this.textData.pathPerpendicularToPath;
```

---

#### Pattern: `: void` at line 473:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    setPathFromControlPoints(
      controlPoints: ControlPoint[],
      closed: boolean = false,
> ): void {
      this.pathControlPoints = controlPoints;
      this.pathClosed = closed;
  
```

---

#### Pattern: `: void` at line 496:58

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set the path from a THREE.js CurvePath directly
     */
> setPathFromCurve(curve: THREE.CurvePath<THREE.Vector3>): void {
      this.textOnPath.setCurve(curve);
  
      if (!this.perCharacterGroup) {
```

---

#### Pattern: `: void` at line 509:14

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear the path reference
     */
> clearPath(): void {
      this.textData.pathLayerId = null;
      this.pathConfig.pathLayerId = null;
      this.textOnPath.dispose();
```

---

#### Pattern: `: void` at line 519:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update character positions along the path
     */
> private updatePathLayout(): void {
      if (!this.textOnPath.hasPath() || !this.perCharacterGroup) {
        return;
      }
```

---

#### Pattern: `: void` at line 542:60

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
    /**
     * Apply character placements to meshes
     */
> private applyPlacements(placements: CharacterPlacement[]): void {
      for (
        let i = 0;
        i < this.characterMeshes.length && i < placements.length;
```

---

#### Pattern: `: void` at line 561:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Reset to horizontal layout (no path)
     */
> private resetPathLayout(): void {
      if (this.textData.perCharacter3D) {
        this.createCharacterMeshes();
      } else {
```

---

#### Pattern: `: void` at line 576:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * with automatic kerning support. Falls back to heuristic widths if
     * the font isn't loaded yet or loading failed.
     */
> private ensureCharacterWidths(): void {
      if (!this.characterWidthsDirty) return;
  
      this.characterWidths = [];
```

---

#### Pattern: `: void` at line 634:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Enable per-character mode (for 3D and path following)
     */
> private enablePerCharacter3D(): void {
      if (this.perCharacterGroup) return;
  
      // Hide main text mesh
```

---

#### Pattern: `: void` at line 652:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Disable per-character mode
     */
> private disablePerCharacter3D(): void {
      if (!this.perCharacterGroup) return;
  
      // Show main text mesh
```

---

#### Pattern: `: void` at line 669:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create individual character meshes
     */
> private createCharacterMeshes(): void {
      if (!this.perCharacterGroup) return;
  
      this.disposeCharacterMeshes();
```

---

#### Pattern: `: void` at line 747:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose character meshes
     */
> private disposeCharacterMeshes(): void {
      for (const mesh of this.characterMeshes) {
        mesh.dispose();
        this.perCharacterGroup?.remove(mesh);
```

---

#### Pattern: `Optional Chaining` at line 750:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    private disposeCharacterMeshes(): void {
      for (const mesh of this.characterMeshes) {
        mesh.dispose();
> this.perCharacterGroup?.remove(mesh);
      }
      this.characterMeshes = [];
    }
```

---

#### Pattern: `: void` at line 759:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // PROPERTY UPDATES
    // ============================================================================
  
> setText(text: string): void {
      // Cap text length to prevent performance issues (10,000 chars max)
      const MAX_TEXT_LENGTH = 10000;
      const validText = (text ?? "").slice(0, MAX_TEXT_LENGTH);
```

---

#### Pattern: `: void` at line 773:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> setFontFamily(family: string): void {
      this.textData.fontFamily = family;
      const fontUrl = this.getFontUrl(family) ?? null;
      this.textMesh.font = fontUrl;
```

---

#### Pattern: `: void` at line 796:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> setFontSize(size: number): void {
      // Validate size (NaN/0 would cause division errors in stroke width calculations)
      const validSize = Number.isFinite(size) && size > 0 ? size : 72;
      this.textData.fontSize = validSize;
```

---

#### Pattern: `isFinite()` at line 798:30

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    setFontSize(size: number): void {
      // Validate size (NaN/0 would cause division errors in stroke width calculations)
> const validSize = Number.isFinite(size) && size > 0 ? size : 72;
      this.textData.fontSize = validSize;
      this.textMesh.fontSize = validSize;
      this.textMesh.sync();
```

---

#### Pattern: `: void` at line 818:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> setFontWeight(weight: string): void {
      this.textData.fontWeight = weight;
      (this.textMesh as any).fontWeight = weight;
      this.textMesh.sync();
```

---

#### Pattern: `: void` at line 829:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> setFontStyle(style: string): void {
      this.textData.fontStyle = style as "normal" | "italic";
      (this.textMesh as any).fontStyle = style;
      this.textMesh.sync();
```

---

#### Pattern: `: void` at line 840:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> setFillColor(color: string): void {
      this.textData.fill = color;
      this.textMesh.color = color;
      // Force material update for color changes
```

---

#### Pattern: `: void` at line 856:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> setStroke(color: string, width: number): void {
      this.textData.stroke = color;
      this.textData.strokeWidth = width;
  
```

---

#### Pattern: `: void` at line 877:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> setTracking(tracking: number): void {
      // Validate tracking (NaN would corrupt letter spacing)
      const validTracking = Number.isFinite(tracking) ? tracking : 0;
      this.textData.tracking = validTracking;
```

---

#### Pattern: `isFinite()` at line 879:34

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    setTracking(tracking: number): void {
      // Validate tracking (NaN would corrupt letter spacing)
> const validTracking = Number.isFinite(tracking) ? tracking : 0;
      this.textData.tracking = validTracking;
      this.textMesh.letterSpacing = validTracking / 1000;
      this.textMesh.sync();
```

---

#### Pattern: `: void` at line 893:51

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> setTextAlign(align: "left" | "center" | "right"): void {
      this.textData.textAlign = align;
      this.textMesh.textAlign = align;
      this.textMesh.anchorX = this.getAnchorX();
```

---

#### Pattern: `: void` at line 913:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set path offset (0-100%)
     * This is the primary animatable property for text-on-path animation
     */
> setPathOffset(offset: number): void {
      this.textData.pathOffset = offset;
      this.pathConfig.offset = offset;
  
```

---

#### Pattern: `: void` at line 925:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set first margin (pixels)
     */
> setFirstMargin(margin: number): void {
      this.textData.pathFirstMargin = margin;
      this.pathConfig.firstMargin = margin;
  
```

---

#### Pattern: `: void` at line 937:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set last margin (pixels)
     */
> setLastMargin(margin: number): void {
      this.textData.pathLastMargin = margin;
      this.pathConfig.lastMargin = margin;
  
```

---

#### Pattern: `: void` at line 949:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set path reversed
     */
> setPathReversed(reversed: boolean): void {
      this.textData.pathReversed = reversed;
      this.pathConfig.reversed = reversed;
  
```

---

#### Pattern: `: void` at line 961:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set perpendicular to path
     */
> setPerpendicularToPath(perpendicular: boolean): void {
      this.textData.pathPerpendicularToPath = perpendicular;
      this.pathConfig.perpendicularToPath = perpendicular;
  
```

---

#### Pattern: `: void` at line 973:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set force alignment
     */
> setForceAlignment(force: boolean): void {
      this.textData.pathForceAlignment = force;
      this.pathConfig.forceAlignment = force;
  
```

---

#### Pattern: `: void` at line 982:56

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> setAnchorPointGrouping(grouping: AnchorPointGrouping): void {
      this.textData.anchorPointGrouping = grouping;
    }
  
```

---

#### Pattern: `: void` at line 986:67

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.textData.anchorPointGrouping = grouping;
    }
  
> setFillAndStroke(order: "fill-over-stroke" | "stroke-over-fill"): void {
      this.textData.fillAndStroke = order;
    }
  
```

---

#### Pattern: `: void` at line 994:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // FRAME EVALUATION
    // ============================================================================
  
> protected onEvaluateFrame(frame: number): void {
      // Evaluate animatable text properties
      if (this.fontSizeProp?.animated) {
        const size = this.textEvaluator.evaluate(this.fontSizeProp, frame);
```

---

#### Pattern: `Optional Chaining` at line 996:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    protected onEvaluateFrame(frame: number): void {
      // Evaluate animatable text properties
> if (this.fontSizeProp?.animated) {
        const size = this.textEvaluator.evaluate(this.fontSizeProp, frame);
        this.setFontSize(size);
      }
```

---

#### Pattern: `Optional Chaining` at line 1001:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        this.setFontSize(size);
      }
  
> if (this.trackingProp?.animated) {
        const tracking = this.textEvaluator.evaluate(this.trackingProp, frame);
        this.setTracking(tracking);
      }
```

---

#### Pattern: `Optional Chaining` at line 1006:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        this.setTracking(tracking);
      }
  
> if (this.fillColorProp?.animated) {
        const color = this.textEvaluator.evaluate(this.fillColorProp, frame);
        this.setFillColor(color);
      }
```

---

#### Pattern: `Optional Chaining` at line 1011:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        this.setFillColor(color);
      }
  
> if (this.strokeColorProp?.animated && this.strokeWidthProp) {
        const color = this.textEvaluator.evaluate(this.strokeColorProp, frame);
        const width = this.strokeWidthProp.animated
          ? this.textEvaluator.evaluate(this.strokeWidthProp, frame)
```

---

#### Pattern: `Optional Chaining` at line 1028:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // First/Last margin animation
> if (this.firstMarginProp?.animated) {
        const margin = this.textEvaluator.evaluate(this.firstMarginProp, frame);
        this.setFirstMargin(margin);
      }
```

---

#### Pattern: `Optional Chaining` at line 1033:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        this.setFirstMargin(margin);
      }
  
> if (this.lastMarginProp?.animated) {
        const margin = this.textEvaluator.evaluate(this.lastMarginProp, frame);
        this.setLastMargin(margin);
      }
```

---

#### Pattern: `Optional Chaining` at line 1039:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Per-character transforms (from characterTransforms property)
> if (this.characterTransforms?.animated && this.perCharacterGroup) {
        this.applyCharacterTransforms(frame);
      }
  
```

---

#### Pattern: `: void` at line 1058:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set composition fps for accurate time-based calculations
     * Called by LayerManager when layer is added or composition changes
     */
> override setCompositionFps(fps: number): void {
      super.setCompositionFps(fps);
    }
  
```

---

#### Pattern: `: void` at line 1064:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  
    protected override onApplyEvaluatedState(
      state: import("../MotionEngine").EvaluatedLayer,
> ): void {
      const props = state.properties;
      const frame = state.frame;
  
```

---

#### Pattern: `Optional Chaining` at line 1130:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Per-character transforms (from characterTransforms property, if animated)
> if (this.characterTransforms?.animated && this.perCharacterGroup) {
        this.applyCharacterTransforms(frame);
      }
    }
```

---

#### Pattern: `: void` at line 1138:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Apply per-character animated transforms (additional offsets)
     */
> private applyCharacterTransforms(frame: number): void {
      if (!this.characterTransforms) return;
  
      const transforms = this.textEvaluator.evaluate(
```

---

#### Pattern: `: void` at line 1185:70

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * @param frame Current frame number
     * @param fps Frames per second (default 16)
     */
> private applyAnimatorsToCharacters(frame: number, fps: number = 16): void {
      if (!this.perCharacterGroup || this.characterMeshes.length === 0) {
        return;
      }
```

---

#### Pattern: `Optional Chaining` at line 1313:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          }
  
          // Apply Wiggly position offset (if wiggly selector is enabled)
> if (animator.wigglySelector?.enabled) {
            const wiggleOffset = calculateWigglyOffset(
              i,
              animator.wigglySelector,
```

---

#### Pattern: `: void` at line 1365:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // LAYER UPDATE
    // ============================================================================
  
> protected onUpdate(properties: Partial<Layer>): void {
      const data = properties.data as Partial<TextData> | undefined;
  
      if (data) {
```

---

#### Pattern: `: void` at line 1463:51

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Override base class opacity to use Troika's fillOpacity
     */
> protected override applyOpacity(opacity: number): void {
      // Validate opacity (NaN bypasses Math.max/min clamps)
      const validOpacity = Number.isFinite(opacity) ? opacity : 100;
      const normalizedOpacity = Math.max(0, Math.min(100, validOpacity)) / 100;
```

---

#### Pattern: `isFinite()` at line 1465:33

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    protected override applyOpacity(opacity: number): void {
      // Validate opacity (NaN bypasses Math.max/min clamps)
> const validOpacity = Number.isFinite(opacity) ? opacity : 100;
      const normalizedOpacity = Math.max(0, Math.min(100, validOpacity)) / 100;
  
      // Apply to main text mesh using Troika's fillOpacity
```

---

#### Pattern: `Optional Chaining` at line 1488:48

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    getTextBounds(): { width: number; height: number } {
> const bounds = this.textMesh.textRenderInfo?.blockBounds;
      if (bounds) {
        return {
          width: bounds[2] - bounds[0],
```

---

#### Pattern: `: void` at line 1514:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // DISPOSAL
    // ============================================================================
  
> protected onDispose(): void {
      this.textMesh.dispose();
      this.disposeCharacterMeshes();
      this.textOnPath.dispose();
```

---

### `engine/layers/VideoLayer.ts` (54 pattern(s))

#### Pattern: `Optional Chaining` at line 126:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const data = layerData.data as VideoData | null;
  
      return {
> assetId: data?.assetId ?? null,
        loop: data?.loop ?? false,
        pingPong: data?.pingPong ?? false,
        startTime: data?.startTime ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 127:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      return {
        assetId: data?.assetId ?? null,
> loop: data?.loop ?? false,
        pingPong: data?.pingPong ?? false,
        startTime: data?.startTime ?? 0,
        endTime: data?.endTime,
```

---

#### Pattern: `Optional Chaining` at line 128:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      return {
        assetId: data?.assetId ?? null,
        loop: data?.loop ?? false,
> pingPong: data?.pingPong ?? false,
        startTime: data?.startTime ?? 0,
        endTime: data?.endTime,
        speed: data?.speed ?? 1,
```

---

#### Pattern: `Optional Chaining` at line 129:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        assetId: data?.assetId ?? null,
        loop: data?.loop ?? false,
        pingPong: data?.pingPong ?? false,
> startTime: data?.startTime ?? 0,
        endTime: data?.endTime,
        speed: data?.speed ?? 1,
        // Speed map (new naming)
```

---

#### Pattern: `Optional Chaining` at line 130:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        loop: data?.loop ?? false,
        pingPong: data?.pingPong ?? false,
        startTime: data?.startTime ?? 0,
> endTime: data?.endTime,
        speed: data?.speed ?? 1,
        // Speed map (new naming)
        speedMapEnabled: data?.speedMapEnabled ?? data?.timeRemapEnabled ?? false,
```

---

#### Pattern: `Optional Chaining` at line 131:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        pingPong: data?.pingPong ?? false,
        startTime: data?.startTime ?? 0,
        endTime: data?.endTime,
> speed: data?.speed ?? 1,
        // Speed map (new naming)
        speedMapEnabled: data?.speedMapEnabled ?? data?.timeRemapEnabled ?? false,
        speedMap: data?.speedMap ?? data?.timeRemap,
```

---

#### Pattern: `Optional Chaining` at line 133:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        endTime: data?.endTime,
        speed: data?.speed ?? 1,
        // Speed map (new naming)
> speedMapEnabled: data?.speedMapEnabled ?? data?.timeRemapEnabled ?? false,
        speedMap: data?.speedMap ?? data?.timeRemap,
        // Backwards compatibility aliases
        timeRemapEnabled:
```

---

#### Pattern: `Optional Chaining` at line 133:53

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        endTime: data?.endTime,
        speed: data?.speed ?? 1,
        // Speed map (new naming)
> speedMapEnabled: data?.speedMapEnabled ?? data?.timeRemapEnabled ?? false,
        speedMap: data?.speedMap ?? data?.timeRemap,
        // Backwards compatibility aliases
        timeRemapEnabled:
```

---

#### Pattern: `Optional Chaining` at line 134:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        speed: data?.speed ?? 1,
        // Speed map (new naming)
        speedMapEnabled: data?.speedMapEnabled ?? data?.timeRemapEnabled ?? false,
> speedMap: data?.speedMap ?? data?.timeRemap,
        // Backwards compatibility aliases
        timeRemapEnabled:
          data?.timeRemapEnabled ?? data?.speedMapEnabled ?? false,
```

---

#### Pattern: `Optional Chaining` at line 134:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        speed: data?.speed ?? 1,
        // Speed map (new naming)
        speedMapEnabled: data?.speedMapEnabled ?? data?.timeRemapEnabled ?? false,
> speedMap: data?.speedMap ?? data?.timeRemap,
        // Backwards compatibility aliases
        timeRemapEnabled:
          data?.timeRemapEnabled ?? data?.speedMapEnabled ?? false,
```

---

#### Pattern: `Optional Chaining` at line 137:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        speedMap: data?.speedMap ?? data?.timeRemap,
        // Backwards compatibility aliases
        timeRemapEnabled:
> data?.timeRemapEnabled ?? data?.speedMapEnabled ?? false,
        timeRemap: data?.timeRemap ?? data?.speedMap,
        frameBlending: data?.frameBlending ?? "none",
        audioEnabled: data?.audioEnabled ?? true,
```

---

#### Pattern: `Optional Chaining` at line 137:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        speedMap: data?.speedMap ?? data?.timeRemap,
        // Backwards compatibility aliases
        timeRemapEnabled:
> data?.timeRemapEnabled ?? data?.speedMapEnabled ?? false,
        timeRemap: data?.timeRemap ?? data?.speedMap,
        frameBlending: data?.frameBlending ?? "none",
        audioEnabled: data?.audioEnabled ?? true,
```

---

#### Pattern: `Optional Chaining` at line 138:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Backwards compatibility aliases
        timeRemapEnabled:
          data?.timeRemapEnabled ?? data?.speedMapEnabled ?? false,
> timeRemap: data?.timeRemap ?? data?.speedMap,
        frameBlending: data?.frameBlending ?? "none",
        audioEnabled: data?.audioEnabled ?? true,
        audioLevel: data?.audioLevel ?? 100,
```

---

#### Pattern: `Optional Chaining` at line 138:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Backwards compatibility aliases
        timeRemapEnabled:
          data?.timeRemapEnabled ?? data?.speedMapEnabled ?? false,
> timeRemap: data?.timeRemap ?? data?.speedMap,
        frameBlending: data?.frameBlending ?? "none",
        audioEnabled: data?.audioEnabled ?? true,
        audioLevel: data?.audioLevel ?? 100,
```

---

#### Pattern: `Optional Chaining` at line 139:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        timeRemapEnabled:
          data?.timeRemapEnabled ?? data?.speedMapEnabled ?? false,
        timeRemap: data?.timeRemap ?? data?.speedMap,
> frameBlending: data?.frameBlending ?? "none",
        audioEnabled: data?.audioEnabled ?? true,
        audioLevel: data?.audioLevel ?? 100,
        posterFrame: data?.posterFrame ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 140:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          data?.timeRemapEnabled ?? data?.speedMapEnabled ?? false,
        timeRemap: data?.timeRemap ?? data?.speedMap,
        frameBlending: data?.frameBlending ?? "none",
> audioEnabled: data?.audioEnabled ?? true,
        audioLevel: data?.audioLevel ?? 100,
        posterFrame: data?.posterFrame ?? 0,
      };
```

---

#### Pattern: `Optional Chaining` at line 141:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        timeRemap: data?.timeRemap ?? data?.speedMap,
        frameBlending: data?.frameBlending ?? "none",
        audioEnabled: data?.audioEnabled ?? true,
> audioLevel: data?.audioLevel ?? 100,
        posterFrame: data?.posterFrame ?? 0,
      };
    }
```

---

#### Pattern: `Optional Chaining` at line 142:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        frameBlending: data?.frameBlending ?? "none",
        audioEnabled: data?.audioEnabled ?? true,
        audioLevel: data?.audioLevel ?? 100,
> posterFrame: data?.posterFrame ?? 0,
      };
    }
  
```

---

#### Pattern: `: void` at line 149:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create placeholder mesh before video loads
     */
> private createPlaceholderMesh(): void {
      // Default size (will be updated when video loads)
      const geometry = new THREE.PlaneGeometry(1, 1);
      this.material = new THREE.MeshBasicMaterial({
```

---

#### Pattern: `Optional Chaining` at line 281:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        };
  
        const cleanup = () => {
> this.videoElement?.removeEventListener(
            "loadedmetadata",
            onLoadedMetadata,
          );
```

---

#### Pattern: `Optional Chaining` at line 285:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            "loadedmetadata",
            onLoadedMetadata,
          );
> this.videoElement?.removeEventListener("error", onError);
        };
  
        this.videoElement.addEventListener("loadedmetadata", onLoadedMetadata);
```

---

#### Pattern: `: void` at line 299:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Extract metadata from loaded video
     */
> private extractMetadata(): void {
      if (!this.videoElement) return;
  
      const duration = this.videoElement.duration;
```

---

#### Pattern: `Optional Chaining` at line 308:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Estimate FPS (browser doesn't expose this directly)
      // Default to common values, or use asset metadata if available
> const fps = this.assetRef?.fps ?? 30;
      const frameCount = Math.ceil(duration * fps);
  
      this.metadata = {
```

---

#### Pattern: `Optional Chaining` at line 329:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Notify listeners (for composition auto-resize)
> this.onMetadataLoaded?.(this.metadata);
  
      layerLogger.debug(
        `VideoLayer: Loaded: ${width}x${height}, ${frameCount} frames @ ${fps}fps, ${duration.toFixed(2)}s`,
```

---

#### Pattern: `: void` at line 355:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create Three.js texture from video element
     */
> private createVideoTexture(): void {
      if (!this.videoElement || !this.metadata) return;
  
      // Create texture
```

---

#### Pattern: `: void` at line 379:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Resize mesh to match video dimensions
     */
> private resizeMesh(width: number, height: number): void {
      if (!this.mesh) return;
  
      // Dispose old geometry
```

---

#### Pattern: `: void` at line 397:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Seek to a specific composition frame
     * Uses WebCodecs for frame-accurate seeking when available
     */
> seekToFrame(compositionFrame: number): void {
      if (!this.metadata) return;
  
      // Calculate video time from composition frame
```

---

#### Pattern: `: void` at line 477:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update Three.js texture from decoded frame canvas
     */
> private updateTextureFromDecodedFrame(): void {
      if (!this.decodedFrameCanvas || !this.material) return;
  
      // Create or update texture from canvas
```

---

#### Pattern: `Optional Chaining` at line 511:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const speedMapEnabled =
        this.videoData.speedMapEnabled ?? this.videoData.timeRemapEnabled;
      const speedMapProp = this.videoData.speedMap ?? this.videoData.timeRemap;
> if (speedMapEnabled && speedMapProp?.animated) {
        const remappedTime = this.videoEvaluator.evaluate(
          speedMapProp,
          compositionFrame,
```

---

#### Pattern: `isFinite()` at line 517:21

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          compositionFrame,
        );
        // Validate speed map result (NaN would break video playback)
> return Number.isFinite(remappedTime) ? remappedTime : 0;
      }
  
      // Get layer's timeStretch (100 = normal, 200 = half speed, -100 = reversed)
```

---

#### Pattern: `isFinite()` at line 522:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      // Get layer's timeStretch (100 = normal, 200 = half speed, -100 = reversed)
      const rawTimeStretch = this.layerData.timeStretch ?? 100;
> const timeStretch = Number.isFinite(rawTimeStretch) ? rawTimeStretch : 100;
      const isReversed = timeStretch < 0;
  
      // Calculate effective speed:
```

---

#### Pattern: `isFinite()` at line 531:26

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // Combined: effectiveSpeed = (100 / |timeStretch|) * speed
      const stretchFactor = timeStretch !== 0 ? 100 / Math.abs(timeStretch) : 0;
      // Validate speed (NaN would cause video time calculation to fail)
> const speed = Number.isFinite(this.videoData.speed)
        ? this.videoData.speed
        : 1;
      const effectiveSpeed = stretchFactor * speed;
```

---

#### Pattern: `isFinite()` at line 541:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const layerFrame = compositionFrame - layerStartFrame;
      // Validate FPS (NaN would cause division issues)
      const compFps =
> Number.isFinite(this.compositionFPS) && this.compositionFPS > 0
          ? this.compositionFPS
          : 16;
  
```

---

#### Pattern: `: void` at line 596:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set audio volume
     */
> setAudioLevel(level: number): void {
      this.videoData.audioLevel = level;
      if (this.videoElement) {
        this.videoElement.volume = Math.max(0, Math.min(1, level / 100));
```

---

#### Pattern: `: void` at line 606:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Enable/disable audio
     */
> setAudioEnabled(enabled: boolean): void {
      this.videoData.audioEnabled = enabled;
      if (this.videoElement) {
        this.videoElement.muted = !enabled;
```

---

#### Pattern: `: void` at line 620:22

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set composition FPS for accurate time calculation
     */
> setFPS(fps: number): void {
      // Validate fps (NaN would break time calculations)
      this.compositionFPS = Number.isFinite(fps) && fps > 0 ? fps : 16;
    }
```

---

#### Pattern: `isFinite()` at line 622:34

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    setFPS(fps: number): void {
      // Validate fps (NaN would break time calculations)
> this.compositionFPS = Number.isFinite(fps) && fps > 0 ? fps : 16;
    }
  
    /**
```

---

#### Pattern: `: void` at line 629:67

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Register callback for when video metadata is loaded
     * Used by LayerManager to auto-resize composition
     */
> setMetadataCallback(callback: (metadata: VideoMetadata) => void): void {
      this.onMetadataLoaded = callback;
  
      // If metadata already loaded, call immediately
```

---

#### Pattern: `: void` at line 656:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // PROPERTY UPDATES
    // ============================================================================
  
> setLoop(loop: boolean): void {
      this.videoData.loop = loop;
    }
  
```

---

#### Pattern: `: void` at line 660:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.videoData.loop = loop;
    }
  
> setPingPong(pingPong: boolean): void {
      this.videoData.pingPong = pingPong;
    }
  
```

---

#### Pattern: `: void` at line 664:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.videoData.pingPong = pingPong;
    }
  
> setSpeed(speed: number): void {
      // Validate speed (NaN would break playback)
      const validSpeed = Number.isFinite(speed) ? speed : 1;
      this.videoData.speed = validSpeed;
```

---

#### Pattern: `isFinite()` at line 666:31

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    setSpeed(speed: number): void {
      // Validate speed (NaN would break playback)
> const validSpeed = Number.isFinite(speed) ? speed : 1;
      this.videoData.speed = validSpeed;
      if (this.videoElement) {
        this.videoElement.playbackRate = validSpeed;
```

---

#### Pattern: `: void` at line 673:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> setStartTime(time: number): void {
      this.videoData.startTime = time;
    }
  
```

---

#### Pattern: `: void` at line 677:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.videoData.startTime = time;
    }
  
> setEndTime(time: number | undefined): void {
      this.videoData.endTime = time;
    }
  
```

---

#### Pattern: `: void` at line 681:64

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.videoData.endTime = time;
    }
  
> setFrameBlending(mode: "none" | "frame-mix" | "pixel-motion"): void {
      this.videoData.frameBlending = mode;
      // Frame blending would be implemented via shader in a full implementation
    }
```

---

#### Pattern: `: void` at line 730:56

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Ensure all canvases are created and sized correctly
     */
> private ensureCanvases(width: number, height: number): void {
      // Main effect canvas
      if (
        !this.effectCanvas ||
```

---

#### Pattern: `Optional Chaining` at line 818:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.lastVideoTime = currentVideoTime;
  
      // Draw current frame
> this.effectCanvasCtx?.clearRect(0, 0, width, height);
      this.effectCanvasCtx?.drawImage(this.videoElement, 0, 0, width, height);
  
      // If blend factor is very close to 0 or 1, skip blending
```

---

#### Pattern: `Optional Chaining` at line 819:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Draw current frame
      this.effectCanvasCtx?.clearRect(0, 0, width, height);
> this.effectCanvasCtx?.drawImage(this.videoElement, 0, 0, width, height);
  
      // If blend factor is very close to 0 or 1, skip blending
      if (blendFactor < 0.01 || blendFactor > 0.99) {
```

---

#### Pattern: `: void` at line 848:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     */
    protected override applyProcessedEffects(
      processedCanvas: HTMLCanvasElement,
> ): void {
      if (!this.material || !this.metadata) return;
  
      // Create a new texture from the processed canvas
```

---

#### Pattern: `: void` at line 872:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // FRAME EVALUATION
    // ============================================================================
  
> protected onEvaluateFrame(frame: number): void {
      // Skip if frame hasn't changed
      if (frame === this.lastEvaluatedFrame) return;
      this.lastEvaluatedFrame = frame;
```

---

#### Pattern: `: void` at line 897:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  
    protected override onApplyEvaluatedState(
      state: import("../MotionEngine").EvaluatedLayer,
> ): void {
      const props = state.properties;
  
      // Apply speed map if evaluated (direct video time in seconds)
```

---

#### Pattern: `: void` at line 932:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // LAYER UPDATE
    // ============================================================================
  
> protected onUpdate(properties: Partial<Layer>): void {
      const data = properties.data as Partial<VideoData> | undefined;
  
      if (data) {
```

---

#### Pattern: `: void` at line 963:23

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear current video
     */
> private clearVideo(): void {
      if (this.videoElement) {
        this.videoElement.pause();
        this.videoElement.src = "";
```

---

#### Pattern: `: void` at line 1007:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // DISPOSAL
    // ============================================================================
  
> protected onDispose(): void {
      this.clearVideo();
  
      // Clean up frame blending canvases
```

---

### `engine/layers/blendModeUtils.ts` (2 pattern(s))

#### Pattern: `: void` at line 21:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function setMaterialBlendMode(
    material: THREE.Material,
    mode: string,
> ): void {
    // Reset to defaults first
    material.blending = THREE.NormalBlending;
    material.blendEquation = THREE.AddEquation;
```

---

#### Pattern: `: void` at line 128:72

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * @param group - Three.js group containing meshes
   * @param mode - Blend mode name
   */
> export function applyBlendModeToGroup(group: THREE.Group, mode: string): void {
    group.traverse((child) => {
      if (child instanceof THREE.Mesh && child.material) {
        const material = child.material as THREE.Material;
```

---

### `engine/particles/GPUParticleSystem.ts` (131 pattern(s))

#### Pattern: `isFinite()` at line 415:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // Validate and cap maxParticles to prevent memory exhaustion (max 1M particles = ~64MB per buffer)
      const MAX_SAFE_PARTICLES = 1000000;
      if (
> !Number.isFinite(this.config.maxParticles) ||
        this.config.maxParticles <= 0
      ) {
        this.config.maxParticles = 100000; // Default
```

---

#### Pattern: `: void` at line 477:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Initialize GPU resources. Must be called before simulation.
     */
> initialize(renderer: THREE.WebGLRenderer): void {
      this.renderer = renderer;
      this.gl = renderer.getContext() as WebGL2RenderingContext;
  
```

---

#### Pattern: `: void` at line 515:41

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Enable or disable GPU physics
     * Delegates to ParticleGPUPhysics
     */
> setGPUPhysicsEnabled(enabled: boolean): void {
      this.gpuPhysics?.setEnabled(enabled);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 516:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Delegates to ParticleGPUPhysics
     */
    setGPUPhysicsEnabled(enabled: boolean): void {
> this.gpuPhysics?.setEnabled(enabled);
    }
  
    /**
```

---

#### Pattern: `Optional Chaining` at line 523:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Check if GPU physics is currently enabled
     */
    isGPUPhysicsEnabled(): boolean {
> return this.gpuPhysics?.isEnabled() ?? false;
    }
  
    /**
```

---

#### Pattern: `: void` at line 530:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Create textures for lifetime modulation curves
     * Delegates to ParticleModulationCurves
     */
> private createModulationTextures(): void {
      if (!this.modulationSystem) return;
  
      const textures = this.modulationSystem.createTextures(
```

---

#### Pattern: `Optional Chaining` at line 563:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      t: number,
      randomOffset?: number,
    ): number {
> return this.modulationSystem?.evaluateCurve(curve, t, randomOffset) ?? 1;
    }
  
    /**
```

---

#### Pattern: `: void` at line 642:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create the Three.js mesh for particle rendering
     */
> private createParticleMesh(): void {
      // Create base geometry (billboard or 3D mesh)
      const { positions, uvs, is3D } = this.createBaseGeometry();
  
```

---

#### Pattern: `Optional Chaining` at line 712:48

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Configure shadow casting/receiving based on config
      const shadowConfig = this.config.render.shadow;
> this.particleMesh.castShadow = shadowConfig?.castShadows ?? false;
      this.particleMesh.receiveShadow = shadowConfig?.receiveShadows ?? false;
    }
  
```

---

#### Pattern: `Optional Chaining` at line 713:51

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Configure shadow casting/receiving based on config
      const shadowConfig = this.config.render.shadow;
      this.particleMesh.castShadow = shadowConfig?.castShadows ?? false;
> this.particleMesh.receiveShadow = shadowConfig?.receiveShadows ?? false;
    }
  
    /**
```

---

#### Pattern: `: void` at line 719:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Initialize trail system - delegates to ParticleTrailSystem
     */
> private initializeTrails(): void {
      const trailConfig: TrailConfig = {
        trailLength: this.config.render.trailLength,
        trailSegments: this.config.render.trailSegments ?? 8,
```

---

#### Pattern: `: void` at line 743:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update trail positions for all particles - delegates to ParticleTrailSystem
     */
> private updateTrails(): void {
      if (!this.trailSystem) return;
      const buffer =
        this.currentBuffer === "A" ? this.particleBufferA : this.particleBufferB;
```

---

#### Pattern: `Optional Chaining` at line 754:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Get the trail mesh for adding to scene
     */
    getTrailMesh(): THREE.LineSegments | null {
> return this.trailSystem?.getMesh() ?? null;
    }
  
    /**
```

---

#### Pattern: `: void` at line 760:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Initialize particle connection system
     */
> initializeConnections(config: ConnectionConfig): void {
      this.connectionSystem = new ParticleConnectionSystem(
        this.config.maxParticles,
        config,
```

---

#### Pattern: `: void` at line 772:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Update particle connections
     * Uses spatial hash for efficient neighbor queries
     */
> private updateConnections(): void {
      if (!this.connectionSystem) return;
      const buffer =
        this.currentBuffer === "A" ? this.particleBufferA : this.particleBufferB;
```

---

#### Pattern: `Optional Chaining` at line 783:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Get the connection mesh for adding to scene
     */
    getConnectionMesh(): THREE.LineSegments | null {
> return this.connectionSystem?.getMesh() ?? null;
    }
  
    /**
```

---

#### Pattern: `: void` at line 789:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Enable or disable particle connections
     */
> setConnectionsEnabled(enabled: boolean): void {
      this.connectionSystem?.setEnabled(enabled);
    }
    /**
```

---

#### Pattern: `Optional Chaining` at line 790:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Enable or disable particle connections
     */
    setConnectionsEnabled(enabled: boolean): void {
> this.connectionSystem?.setEnabled(enabled);
    }
    /**
     * Initialize collision system
```

---

#### Pattern: `: void` at line 795:57

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Initialize collision system
     */
> initializeCollisions(config: Partial<CollisionConfig>): void {
      this.collisionSystem = new ParticleCollisionSystem(
        this.config.maxParticles,
        config,
```

---

#### Pattern: `: void` at line 809:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Apply collision detection and response
     */
> private applyCollisions(): void {
      if (!this.collisionSystem) return;
      const buffer =
        this.currentBuffer === "A" ? this.particleBufferA : this.particleBufferB;
```

---

#### Pattern: `: void` at line 819:45

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Initialize flocking system
     */
> initializeFlocking(config: FlockingConfig): void {
      this.flockingSystem = new ParticleFlockingSystem(
        this.config.maxParticles,
        config,
```

---

#### Pattern: `: void` at line 833:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update flocking configuration
     */
> updateFlocking(config: Partial<FlockingConfig>): void {
      this.flockingSystem?.updateConfig(config);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 834:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Update flocking configuration
     */
    updateFlocking(config: Partial<FlockingConfig>): void {
> this.flockingSystem?.updateConfig(config);
    }
  
    /**
```

---

#### Pattern: `: void` at line 840:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Enable or disable flocking
     */
> setFlockingEnabled(enabled: boolean): void {
      this.flockingSystem?.setEnabled(enabled);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 841:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Enable or disable flocking
     */
    setFlockingEnabled(enabled: boolean): void {
> this.flockingSystem?.setEnabled(enabled);
    }
  
    // ============================================================================
```

---

#### Pattern: `: void` at line 888:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        | "triangle"
        | "shadedSphere"
        | "fadedSphere",
> ): void {
      if (this.textureSystem) {
        this.textureSystem.setRenderTargets(
          this.material,
```

---

#### Pattern: `: void` at line 902:46

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Update time uniform for sprite animation
     * Delegates to ParticleTextureSystem
     */
> private updateSpriteAnimation(time: number): void {
      this.textureSystem?.updateSpriteAnimation(time);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 903:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Delegates to ParticleTextureSystem
     */
    private updateSpriteAnimation(time: number): void {
> this.textureSystem?.updateSpriteAnimation(time);
    }
  
    /**
```

---

#### Pattern: `: void` at line 915:5

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      strength?: number;
      minStretch?: number;
      maxStretch?: number;
> }): void {
      if (this.textureSystem) {
        this.textureSystem.setRenderTargets(
          this.material,
```

---

#### Pattern: `: void` at line 941:5

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      enabled: boolean;
      radius: number;
      intensity: number;
> }): void {
      if (this.textureSystem) {
        this.textureSystem.setRenderTargets(
          this.material,
```

---

#### Pattern: `: void` at line 959:5

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      enabled?: boolean;
      radius?: number;
      intensity?: number;
> }): void {
      this.textureSystem?.setGlow(config);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 960:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      radius?: number;
      intensity?: number;
    }): void {
> this.textureSystem?.setGlow(config);
    }
  
    /**
```

---

#### Pattern: `Optional Chaining` at line 968:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Delegates to ParticleTextureSystem
     */
    getGlowMesh(): THREE.Mesh | null {
> return this.textureSystem?.getGlowMesh() ?? null;
    }
  
    // ============================================================================
```

---

#### Pattern: `: void` at line 975:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // Emitter Management
    // ============================================================================
  
> addEmitter(config: EmitterConfig): void {
      this.emitters.set(config.id, {
        ...config,
        accumulator: 0,
```

---

#### Pattern: `: void` at line 986:61

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.invalidateCache(); // Emitter changes require re-simulation
    }
  
> updateEmitter(id: string, updates: Partial<EmitterConfig>): void {
      const emitter = this.emitters.get(id);
      if (emitter) {
        Object.assign(emitter, updates);
```

---

#### Pattern: `: void` at line 994:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> removeEmitter(id: string): void {
      this.emitters.delete(id);
      this.state.activeEmitters = this.emitters.size;
      this.invalidateCache(); // Emitter changes require re-simulation
```

---

#### Pattern: `: void` at line 1008:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // Force Field Management
    // ============================================================================
  
> addForceField(config: ForceFieldConfig): void {
      this.forceFields.set(config.id, config);
      this.invalidateCache(); // Force field changes require re-simulation
    }
```

---

#### Pattern: `: void` at line 1013:67

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.invalidateCache(); // Force field changes require re-simulation
    }
  
> updateForceField(id: string, updates: Partial<ForceFieldConfig>): void {
      const field = this.forceFields.get(id);
      if (field) {
        Object.assign(field, updates);
```

---

#### Pattern: `: void` at line 1021:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> removeForceField(id: string): void {
      this.forceFields.delete(id);
      this.invalidateCache(); // Force field changes require re-simulation
    }
```

---

#### Pattern: `: void` at line 1030:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // Sub-Emitter Management
    // ============================================================================
  
> addSubEmitter(config: SubEmitterConfig): void {
      this.subEmitters.set(config.id, config);
      this.invalidateCache(); // Sub-emitter changes require re-simulation
    }
```

---

#### Pattern: `: void` at line 1035:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.invalidateCache(); // Sub-emitter changes require re-simulation
    }
  
> removeSubEmitter(id: string): void {
      this.subEmitters.delete(id);
      this.invalidateCache(); // Sub-emitter changes require re-simulation
    }
```

---

#### Pattern: `: void` at line 1047:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Step the particle simulation forward
     */
> step(deltaTime: number): void {
      const startTime = performance.now();
  
      const dt =
```

---

#### Pattern: `Optional Chaining` at line 1059:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.emitParticles(dt);
  
      // 2. Update physics - GPU (WebGPU/Transform Feedback) > CPU
> if (this.gpuPhysics?.isEnabled()) {
        const result = this.gpuPhysics.update(
          dt,
          {
```

---

#### Pattern: `Optional Chaining` at line 1081:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // 3. Handle sub-emitter triggers (using extracted module)
> if (this.subEmitterSystem?.hasSubEmitters()) {
        const buffer =
          this.currentBuffer === "A"
            ? this.particleBufferA
```

---

#### Pattern: `Optional Chaining` at line 1096:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // 4. Rebuild shared spatial hash (used by both flocking and collision)
      // Only rebuild if either system needs it - avoids O(n) when neither is enabled
      const needsSpatialHash =
> this.flockingSystem?.isEnabled() ||
        (this.collisionSystem?.isEnabled() &&
          this.collisionSystem.getConfig().particleCollision);
      if (needsSpatialHash && this.spatialHash) {
```

---

#### Pattern: `Optional Chaining` at line 1097:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Only rebuild if either system needs it - avoids O(n) when neither is enabled
      const needsSpatialHash =
        this.flockingSystem?.isEnabled() ||
> (this.collisionSystem?.isEnabled() &&
          this.collisionSystem.getConfig().particleCollision);
      if (needsSpatialHash && this.spatialHash) {
        const buffer =
```

---

#### Pattern: `Optional Chaining` at line 1108:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // 5. Apply flocking (using extracted module and shared spatial hash)
> if (this.flockingSystem?.isEnabled()) {
        const buffer =
          this.currentBuffer === "A"
            ? this.particleBufferA
```

---

#### Pattern: `Optional Chaining` at line 1117:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // 6. Apply collisions
> if (this.collisionSystem?.isEnabled()) {
        this.applyCollisions();
      }
  
```

---

#### Pattern: `Optional Chaining` at line 1130:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // 9. Update particle connections
> if (this.connectionSystem?.isEnabled()) {
        this.updateConnections();
      }
  
```

---

#### Pattern: `: void` at line 1149:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Emit particles from all active emitters
     */
> private emitParticles(dt: number): void {
      for (const emitter of this.emitters.values()) {
        if (!emitter.enabled) continue;
  
```

---

#### Pattern: `isFinite()` at line 1154:33

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        if (!emitter.enabled) continue;
  
        // Get audio-modulated emission rate (validate to prevent NaN accumulator)
> let emissionRate = Number.isFinite(emitter.emissionRate)
          ? emitter.emissionRate
          : 100;
        const audioMod = this.getAudioModulation(
```

---

#### Pattern: `isFinite()` at line 1162:44

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          emitter.id,
          "emissionRate",
        );
> if (audioMod !== undefined && Number.isFinite(audioMod)) {
          emissionRate *= audioMod;
        }
        // Cap emission rate to prevent runaway particle spawning
```

---

#### Pattern: `isFinite()` at line 1177:43

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          // See triggerBurst() comment for detailed explanation.
          const maxBurst = Math.min(this.config.maxParticles, 10000);
          // Validate beatEmissionMultiplier before use
> const safeBeatMultiplier = Number.isFinite(emitter.beatEmissionMultiplier)
            ? Math.max(0, emitter.beatEmissionMultiplier)
            : 5;
          const rawBurstCount = emitter.burstCount * safeBeatMultiplier;
```

---

#### Pattern: `isFinite()` at line 1181:35

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
            ? Math.max(0, emitter.beatEmissionMultiplier)
            : 5;
          const rawBurstCount = emitter.burstCount * safeBeatMultiplier;
> const burstCount = Number.isFinite(rawBurstCount)
            ? Math.min(Math.floor(rawBurstCount), maxBurst)
            : 0;
          for (let i = 0; i < burstCount; i++) {
```

---

#### Pattern: `isFinite()` at line 1190:36

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        }
  
        // Automatic burst interval emission (burstInterval > 0 means auto-burst)
> const burstInterval = Number.isFinite(emitter.burstInterval) && emitter.burstInterval > 0
          ? emitter.burstInterval
          : 0;
        if (burstInterval > 0) {
```

---

#### Pattern: `isFinite()` at line 1201:37

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
            emitter.burstTimer -= intervalSeconds;
            // Cap burst count to maxParticles to prevent O(nÂ²) performance.
            const maxBurst = Math.min(this.config.maxParticles, 10000);
> const burstCount = Number.isFinite(emitter.burstCount)
              ? Math.min(Math.floor(emitter.burstCount), maxBurst)
              : 10;
            for (let i = 0; i < burstCount; i++) {
```

---

#### Pattern: `isFinite()` at line 1281:26

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // Validate speed (NaN would corrupt velocity calculations)
      const rawSpeed =
        emitter.initialSpeed + (this.rng() - 0.5) * 2 * emitter.speedVariance;
> const speed = Number.isFinite(rawSpeed) ? rawSpeed : 200;
  
      // Inherit emitter velocity
      const inheritVel = emitter.velocity
```

---

#### Pattern: `isFinite()` at line 1302:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const rawLifetime =
        emitter.lifetime + (this.rng() - 0.5) * 2 * emitter.lifetimeVariance;
      buffer[offset + 7] =
> Number.isFinite(rawLifetime) && rawLifetime > 0 ? rawLifetime : 120;
  
      // Validate mass: must be positive to avoid division by zero in force calculations
      const rawMass =
```

---

#### Pattern: `isFinite()` at line 1321:38

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        (this.rng() - 0.5) * 2 * emitter.angularVelocityVariance;
  
      // Interpolate color with validated variance
> const safeColorVariance = Number.isFinite(emitter.colorVariance)
        ? Math.max(0, Math.min(1, emitter.colorVariance))
        : 0;
      const colorT = this.rng() * safeColorVariance;
```

---

#### Pattern: `: void` at line 1353:53

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set the spline provider function for spline-based emission
     */
> setSplineProvider(provider: SplineProvider | null): void {
      this.splineProvider = provider;
    }
  
```

---

#### Pattern: `: void` at line 1360:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update particle physics (CPU implementation)
     */
> private updatePhysics(dt: number): void {
      const buffer =
        this.currentBuffer === "A" ? this.particleBufferA : this.particleBufferB;
  
```

---

#### Pattern: `Optional Chaining` at line 1385:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        // Retrieve initial values and random offset for deterministic modulation
        const initialValues = this.particleInitialValues.get(i);
> const initialSize = initialValues?.size ?? buffer[offset + 9];
        const initialOpacity = initialValues?.opacity ?? buffer[offset + 15];
        const randomOffset = initialValues?.randomOffset ?? 0.5;
  
```

---

#### Pattern: `Optional Chaining` at line 1386:43

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Retrieve initial values and random offset for deterministic modulation
        const initialValues = this.particleInitialValues.get(i);
        const initialSize = initialValues?.size ?? buffer[offset + 9];
> const initialOpacity = initialValues?.opacity ?? buffer[offset + 15];
        const randomOffset = initialValues?.randomOffset ?? 0.5;
  
        // Evaluate all lifetime modulation curves before physics simulation
```

---

#### Pattern: `Optional Chaining` at line 1387:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const initialValues = this.particleInitialValues.get(i);
        const initialSize = initialValues?.size ?? buffer[offset + 9];
        const initialOpacity = initialValues?.opacity ?? buffer[offset + 15];
> const randomOffset = initialValues?.randomOffset ?? 0.5;
  
        // Evaluate all lifetime modulation curves before physics simulation
        const lifeRatio = age / lifetime;
```

---

#### Pattern: `: void` at line 1574:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Apply audio modulation to parameters
     * Delegates to ParticleAudioReactive
     */
> private applyAudioModulation(): void {
      this.audioSystem?.applyModulation(this.emitters, this.forceFields);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 1575:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Delegates to ParticleAudioReactive
     */
    private applyAudioModulation(): void {
> this.audioSystem?.applyModulation(this.emitters, this.forceFields);
    }
  
    /**
```

---

#### Pattern: `Optional Chaining` at line 1587:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      targetId: string,
      parameter: string,
    ): number | undefined {
> return this.audioSystem?.getModulation(target, targetId, parameter);
    }
  
    /**
```

---

#### Pattern: `: void` at line 1593:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update instance buffer attributes for rendering
     */
> private updateInstanceBuffers(): void {
      if (!this.instancedGeometry) return;
  
      const buffer =
```

---

#### Pattern: `: void` at line 1651:56

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set audio feature value
     */
> setAudioFeature(feature: AudioFeature, value: number): void {
      this.audioSystem?.setFeature(feature, value);
      this.state.currentAudioFeatures.set(feature, value);
    }
```

---

#### Pattern: `Optional Chaining` at line 1652:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Set audio feature value
     */
    setAudioFeature(feature: AudioFeature, value: number): void {
> this.audioSystem?.setFeature(feature, value);
      this.state.currentAudioFeatures.set(feature, value);
    }
  
```

---

#### Pattern: `: void` at line 1659:16

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Trigger beat event
     */
> triggerBeat(): void {
      this.audioSystem?.triggerBeat();
    }
  
```

---

#### Pattern: `Optional Chaining` at line 1660:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Trigger beat event
     */
    triggerBeat(): void {
> this.audioSystem?.triggerBeat();
    }
  
    /**
```

---

#### Pattern: `: void` at line 1666:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Trigger burst on all beat-enabled emitters
     */
> triggerBurst(emitterId?: string): void {
      // Cap burst count to maxParticles to prevent O(nÂ²) performance degradation.
      // When burstCount exceeds maxParticles, each spawn after pool fills triggers
      // an O(n) scan to find the oldest particle to recycle. Spawning more than
```

---

#### Pattern: `isFinite()` at line 1677:30

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      if (emitterId) {
        const emitter = this.emitters.get(emitterId);
        if (emitter) {
> const count = Number.isFinite(emitter.burstCount)
            ? Math.min(Math.floor(emitter.burstCount), maxBurst)
            : 0;
          for (let i = 0; i < count; i++) {
```

---

#### Pattern: `isFinite()` at line 1687:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      } else {
        for (const emitter of this.emitters.values()) {
          if (emitter.burstOnBeat && emitter.enabled) {
> const count = Number.isFinite(emitter.burstCount)
              ? Math.min(Math.floor(emitter.burstCount), maxBurst)
              : 0;
            for (let i = 0; i < count; i++) {
```

---

#### Pattern: `: void` at line 1713:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Update shadow configuration from a scene light
     * Call this when the scene has shadow-casting lights
     */
> updateShadowFromLight(light: THREE.Light): void {
      if (!this.material?.uniforms) return;
  
      const shadowLight = light as THREE.DirectionalLight | THREE.SpotLight | THREE.PointLight;
```

---

#### Pattern: `Optional Chaining` at line 1714:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Call this when the scene has shadow-casting lights
     */
    updateShadowFromLight(light: THREE.Light): void {
> if (!this.material?.uniforms) return;
  
      const shadowLight = light as THREE.DirectionalLight | THREE.SpotLight | THREE.PointLight;
      if (!shadowLight.shadow?.map?.texture) return;
```

---

#### Pattern: `Optional Chaining` at line 1717:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      if (!this.material?.uniforms) return;
  
      const shadowLight = light as THREE.DirectionalLight | THREE.SpotLight | THREE.PointLight;
> if (!shadowLight.shadow?.map?.texture) return;
  
      // Update shadow map and matrix
      this.material.uniforms.u_shadowMap.value = shadowLight.shadow.map.texture;
```

---

#### Pattern: `Optional Chaining` at line 1717:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      if (!this.material?.uniforms) return;
  
      const shadowLight = light as THREE.DirectionalLight | THREE.SpotLight | THREE.PointLight;
> if (!shadowLight.shadow?.map?.texture) return;
  
      // Update shadow map and matrix
      this.material.uniforms.u_shadowMap.value = shadowLight.shadow.map.texture;
```

---

#### Pattern: `: void` at line 1727:99

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Object type detected

**Code:**
```typescript
    /**
     * Update LOD (Level of Detail) configuration
     */
> updateLODConfig(config: { enabled?: boolean; distances?: number[]; sizeMultipliers?: number[] }): void {
      if (!this.material?.uniforms) return;
  
      if (config.enabled !== undefined) {
```

---

#### Pattern: `Optional Chaining` at line 1728:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Update LOD (Level of Detail) configuration
     */
    updateLODConfig(config: { enabled?: boolean; distances?: number[]; sizeMultipliers?: number[] }): void {
> if (!this.material?.uniforms) return;
  
      if (config.enabled !== undefined) {
        this.material.uniforms.lodEnabled.value = config.enabled ? 1 : 0;
```

---

#### Pattern: `: void` at line 1757:5

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      focusDistance?: number;
      focusRange?: number;
      maxBlur?: number;
> }): void {
      if (!this.material?.uniforms) return;
  
      if (config.enabled !== undefined) {
```

---

#### Pattern: `Optional Chaining` at line 1758:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      focusRange?: number;
      maxBlur?: number;
    }): void {
> if (!this.material?.uniforms) return;
  
      if (config.enabled !== undefined) {
        this.material.uniforms.dofEnabled.value = config.enabled ? 1 : 0;
```

---

#### Pattern: `: void` at line 1777:78

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update shadow configuration
     */
> updateShadowConfig(config: Partial<import("./types").ParticleShadowConfig>): void {
      if (!this.material?.uniforms) return;
  
      if (config.receiveShadows !== undefined) {
```

---

#### Pattern: `Optional Chaining` at line 1778:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Update shadow configuration
     */
    updateShadowConfig(config: Partial<import("./types").ParticleShadowConfig>): void {
> if (!this.material?.uniforms) return;
  
      if (config.receiveShadows !== undefined) {
        this.material.uniforms.u_receiveShadows.value = config.receiveShadows ? 1 : 0;
```

---

#### Pattern: `Optional Chaining` at line 1832:46

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit
- **Type Info:** Object type detected

**Code:**
```typescript
        colorOverLifetime: { value: null },
        hasColorOverLifetime: { value: 0 },
        // Shadow uniforms (for receiving shadows from scene lights)
> u_receiveShadows: { value: shadowConfig?.receiveShadows ? 1 : 0 },
        u_shadowMap: { value: null },
        u_shadowMatrix: { value: new THREE.Matrix4() },
        u_shadowSoftness: { value: shadowConfig?.shadowSoftness ?? 1.0 },
```

---

#### Pattern: `Optional Chaining` at line 1835:46

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit
- **Type Info:** Object type detected

**Code:**
```typescript
        u_receiveShadows: { value: shadowConfig?.receiveShadows ? 1 : 0 },
        u_shadowMap: { value: null },
        u_shadowMatrix: { value: new THREE.Matrix4() },
> u_shadowSoftness: { value: shadowConfig?.shadowSoftness ?? 1.0 },
        u_shadowBias: { value: shadowConfig?.shadowBias ?? 0.001 },
        // Ambient occlusion uniforms
        u_aoEnabled: { value: shadowConfig?.aoEnabled ? 1 : 0 },
```

---

#### Pattern: `Optional Chaining` at line 1836:42

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit
- **Type Info:** Object type detected

**Code:**
```typescript
        u_shadowMap: { value: null },
        u_shadowMatrix: { value: new THREE.Matrix4() },
        u_shadowSoftness: { value: shadowConfig?.shadowSoftness ?? 1.0 },
> u_shadowBias: { value: shadowConfig?.shadowBias ?? 0.001 },
        // Ambient occlusion uniforms
        u_aoEnabled: { value: shadowConfig?.aoEnabled ? 1 : 0 },
        u_aoTexture: { value: null },
```

---

#### Pattern: `Optional Chaining` at line 1838:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit
- **Type Info:** Object type detected

**Code:**
```typescript
        u_shadowSoftness: { value: shadowConfig?.shadowSoftness ?? 1.0 },
        u_shadowBias: { value: shadowConfig?.shadowBias ?? 0.001 },
        // Ambient occlusion uniforms
> u_aoEnabled: { value: shadowConfig?.aoEnabled ? 1 : 0 },
        u_aoTexture: { value: null },
        // LOD (Level of Detail) uniforms
        lodEnabled: { value: this.config.render.lodEnabled ? 1 : 0 },
```

---

#### Pattern: `Optional Chaining` at line 1843:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // LOD (Level of Detail) uniforms
        lodEnabled: { value: this.config.render.lodEnabled ? 1 : 0 },
        lodDistances: { value: new THREE.Vector3(
> this.config.render.lodDistances?.[0] ?? 100,
          this.config.render.lodDistances?.[1] ?? 500,
          this.config.render.lodDistances?.[2] ?? 1000,
        )},
```

---

#### Pattern: `Optional Chaining` at line 1844:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        lodEnabled: { value: this.config.render.lodEnabled ? 1 : 0 },
        lodDistances: { value: new THREE.Vector3(
          this.config.render.lodDistances?.[0] ?? 100,
> this.config.render.lodDistances?.[1] ?? 500,
          this.config.render.lodDistances?.[2] ?? 1000,
        )},
        lodSizeMultipliers: { value: new THREE.Vector3(
```

---

#### Pattern: `Optional Chaining` at line 1845:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        lodDistances: { value: new THREE.Vector3(
          this.config.render.lodDistances?.[0] ?? 100,
          this.config.render.lodDistances?.[1] ?? 500,
> this.config.render.lodDistances?.[2] ?? 1000,
        )},
        lodSizeMultipliers: { value: new THREE.Vector3(
          this.config.render.lodSizeMultipliers?.[0] ?? 1.0,
```

---

#### Pattern: `Optional Chaining` at line 1848:46

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          this.config.render.lodDistances?.[2] ?? 1000,
        )},
        lodSizeMultipliers: { value: new THREE.Vector3(
> this.config.render.lodSizeMultipliers?.[0] ?? 1.0,
          this.config.render.lodSizeMultipliers?.[1] ?? 0.5,
          this.config.render.lodSizeMultipliers?.[2] ?? 0.25,
        )},
```

---

#### Pattern: `Optional Chaining` at line 1849:46

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        )},
        lodSizeMultipliers: { value: new THREE.Vector3(
          this.config.render.lodSizeMultipliers?.[0] ?? 1.0,
> this.config.render.lodSizeMultipliers?.[1] ?? 0.5,
          this.config.render.lodSizeMultipliers?.[2] ?? 0.25,
        )},
        // 3D mesh mode (0 = billboard, 1 = 3D mesh)
```

---

#### Pattern: `Optional Chaining` at line 1850:46

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        lodSizeMultipliers: { value: new THREE.Vector3(
          this.config.render.lodSizeMultipliers?.[0] ?? 1.0,
          this.config.render.lodSizeMultipliers?.[1] ?? 0.5,
> this.config.render.lodSizeMultipliers?.[2] ?? 0.25,
        )},
        // 3D mesh mode (0 = billboard, 1 = 3D mesh)
        meshMode3D: { value: this.config.render.meshGeometry !== "billboard" ? 1 : 0 },
```

---

#### Pattern: `: void` at line 1882:51

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // Event System
    // ============================================================================
  
> on(event: string, handler: ParticleEventHandler): void {
      if (!this.eventHandlers.has(event)) {
        this.eventHandlers.set(event, new Set());
      }
```

---

#### Pattern: `Optional Chaining` at line 1886:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      if (!this.eventHandlers.has(event)) {
        this.eventHandlers.set(event, new Set());
      }
> this.eventHandlers.get(event)?.add(handler);
    }
  
    off(event: string, handler: ParticleEventHandler): void {
```

---

#### Pattern: `: void` at line 1889:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.eventHandlers.get(event)?.add(handler);
    }
  
> off(event: string, handler: ParticleEventHandler): void {
      this.eventHandlers.get(event)?.delete(handler);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 1890:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    off(event: string, handler: ParticleEventHandler): void {
> this.eventHandlers.get(event)?.delete(handler);
    }
  
    private emit(type: string, data: Record<string, unknown>): void {
```

---

#### Pattern: `: void` at line 1893:60

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.eventHandlers.get(event)?.delete(handler);
    }
  
> private emit(type: string, data: Record<string, unknown>): void {
      const event: ParticleEvent = {
        type: type as any,
        timestamp: performance.now(),
```

---

#### Pattern: `Optional Chaining` at line 1899:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        timestamp: performance.now(),
        data,
      };
> this.eventHandlers.get(type)?.forEach((handler) => handler(event));
    }
  
    // ============================================================================
```

---

#### Pattern: `: void` at line 1945:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Cache the current particle state for a specific frame
     */
> cacheCurrentState(frame: number): void {
      if (!this.frameCacheSystem) return;
      const currentBuffer =
        this.currentBuffer === "A" ? this.particleBufferA : this.particleBufferB;
```

---

#### Pattern: `Optional Chaining` at line 1958:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        this.currentRngState,
        this.emitters,
        this.particleEmitters, // Cache particle-to-emitter tracking for sub-emitter filtering
> this.audioSystem?.getSmoothedAudioValues() ?? new Map(), // Cache audio EMA history for deterministic playback
        this.particleInitialValues, // Cache initial values for modulation (prevents exponential decay)
      );
    }
```

---

#### Pattern: `Optional Chaining` at line 2007:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.particleEmitters = new Map(cached.particleEmitters);
  
      // Restore audio EMA smoothed values for deterministic audio reactivity
> this.audioSystem?.setSmoothedAudioValues(cached.audioSmoothedValues);
  
      // Restore initial size/opacity values for lifetime modulation
      this.particleInitialValues = new Map(cached.particleInitialValues);
```

---

#### Pattern: `Optional Chaining` at line 2020:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Find the nearest cached frame at or before the target frame
     */
    findNearestCache(targetFrame: number): number {
> return this.frameCacheSystem?.findNearestCache(targetFrame) ?? -1;
    }
  
    /**
```

---

#### Pattern: `: void` at line 2026:15

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear all cached frames
     */
> clearCache(): void {
      this.frameCacheSystem?.clearCache();
    }
  
```

---

#### Pattern: `Optional Chaining` at line 2027:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Clear all cached frames
     */
    clearCache(): void {
> this.frameCacheSystem?.clearCache();
    }
  
    /**
```

---

#### Pattern: `: void` at line 2033:20

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Invalidate the cache by incrementing version
     */
> invalidateCache(): void {
      this.frameCacheSystem?.invalidateCache();
    }
  
```

---

#### Pattern: `Optional Chaining` at line 2034:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Invalidate the cache by incrementing version
     */
    invalidateCache(): void {
> this.frameCacheSystem?.invalidateCache();
    }
  
    /**
```

---

#### Pattern: `isFinite()` at line 2043:39

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    simulateToFrame(targetFrame: number, fps: number = 16): number {
      if (!this.frameCacheSystem) return 0;
      // Guard against fps=0 which would cause division by zero (Infinity deltaTime)
> const safeFps = fps > 0 && Number.isFinite(fps) ? fps : 16;
      const deltaTime = 1 / safeFps;
      const currentFrame = this.frameCacheSystem.getCurrentFrame();
  
```

---

#### Pattern: `Optional Chaining` at line 2112:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      maxCacheSize: number;
    } {
      return (
> this.frameCacheSystem?.getStats() ?? {
          cachedFrames: 0,
          version: 0,
          currentFrame: -1,
```

---

#### Pattern: `: void` at line 2125:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set the cache interval (how often to cache frames)
     */
> setCacheInterval(interval: number): void {
      this.frameCacheSystem?.setCacheInterval(interval);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 2126:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Set the cache interval (how often to cache frames)
     */
    setCacheInterval(interval: number): void {
> this.frameCacheSystem?.setCacheInterval(interval);
    }
  
    /**
```

---

#### Pattern: `: void` at line 2133:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Reset the particle system
     * DETERMINISM: Resets RNG to initial seed for reproducible simulation
     */
> reset(): void {
      this.particleBufferA.fill(0);
      this.particleBufferB.fill(0);
      this.freeIndices = [];
```

---

#### Pattern: `Optional Chaining` at line 2167:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Reset frame cache tracking
> this.frameCacheSystem?.setCurrentFrame(-1);
  
      // Reset RNG to initial seed for deterministic replay
      // Use stored initialRngSeed to ensure reset() produces same results as initial state
```

---

#### Pattern: `Optional Chaining` at line 2174:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.rng = this.createSeededRandom(this.initialRngSeed);
  
      // Reset trail system
> this.trailSystem?.reset();
  
      // Reset connection system
      this.connectionSystem?.reset();
```

---

#### Pattern: `Optional Chaining` at line 2177:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.trailSystem?.reset();
  
      // Reset connection system
> this.connectionSystem?.reset();
  
      // Reset audio system
      this.audioSystem?.reset();
```

---

#### Pattern: `Optional Chaining` at line 2180:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.connectionSystem?.reset();
  
      // Reset audio system
> this.audioSystem?.reset();
    }
  
    /**
```

---

#### Pattern: `: void` at line 2194:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set a new seed and reset the system
     * DETERMINISM: Used to ensure layer-specific reproducible seeds
     */
> setSeed(seed: number): void {
      this.config.randomSeed = seed;
      this.initialRngSeed = seed;
      this.clearCache(); // Seed change invalidates all cached data
```

---

#### Pattern: `isFinite()` at line 2259:30

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const trajectories = new Map<number, ExportedParticle[]>();
  
      // Validate frame range
> const safeStart = Number.isFinite(startFrame) && startFrame >= 0
        ? Math.floor(startFrame)
        : 0;
      const safeEnd = Number.isFinite(endFrame) && endFrame >= safeStart
```

---

#### Pattern: `isFinite()` at line 2262:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const safeStart = Number.isFinite(startFrame) && startFrame >= 0
        ? Math.floor(startFrame)
        : 0;
> const safeEnd = Number.isFinite(endFrame) && endFrame >= safeStart
        ? Math.floor(endFrame)
        : safeStart;
      const total = safeEnd - safeStart + 1;
```

---

#### Pattern: `Optional Chaining` at line 2280:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (frame >= safeStart) {
          // Deep copy the particle state
          trajectories.set(frame, this.getActiveParticles());
> onProgress?.(frame - safeStart + 1, total);
        }
  
        // Yield to prevent blocking UI
```

---

#### Pattern: `: void` at line 2295:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose all resources
     */
> dispose(): void {
      // Dispose Three.js resources
      this.instancedGeometry?.dispose();
      this.material?.dispose();
```

---

#### Pattern: `Optional Chaining` at line 2297:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     */
    dispose(): void {
      // Dispose Three.js resources
> this.instancedGeometry?.dispose();
      this.material?.dispose();
      this.sizeOverLifetimeTexture?.dispose();
      this.opacityOverLifetimeTexture?.dispose();
```

---

#### Pattern: `Optional Chaining` at line 2298:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    dispose(): void {
      // Dispose Three.js resources
      this.instancedGeometry?.dispose();
> this.material?.dispose();
      this.sizeOverLifetimeTexture?.dispose();
      this.opacityOverLifetimeTexture?.dispose();
      this.colorOverLifetimeTexture?.dispose();
```

---

#### Pattern: `Optional Chaining` at line 2299:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Dispose Three.js resources
      this.instancedGeometry?.dispose();
      this.material?.dispose();
> this.sizeOverLifetimeTexture?.dispose();
      this.opacityOverLifetimeTexture?.dispose();
      this.colorOverLifetimeTexture?.dispose();
  
```

---

#### Pattern: `Optional Chaining` at line 2300:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.instancedGeometry?.dispose();
      this.material?.dispose();
      this.sizeOverLifetimeTexture?.dispose();
> this.opacityOverLifetimeTexture?.dispose();
      this.colorOverLifetimeTexture?.dispose();
  
      // Dispose trail system
```

---

#### Pattern: `Optional Chaining` at line 2301:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.material?.dispose();
      this.sizeOverLifetimeTexture?.dispose();
      this.opacityOverLifetimeTexture?.dispose();
> this.colorOverLifetimeTexture?.dispose();
  
      // Dispose trail system
      if (this.trailSystem) {
```

---

#### Pattern: `Optional Chaining` at line 2322:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Dispose extracted subsystems
> this.textureSystem?.dispose();
      this.textureSystem = null;
      this.audioSystem?.clear();
      this.audioSystem = null;
```

---

#### Pattern: `Optional Chaining` at line 2324:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Dispose extracted subsystems
      this.textureSystem?.dispose();
      this.textureSystem = null;
> this.audioSystem?.clear();
      this.audioSystem = null;
      this.frameCacheSystem?.clearCache();
      this.frameCacheSystem = null;
```

---

#### Pattern: `Optional Chaining` at line 2326:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.textureSystem = null;
      this.audioSystem?.clear();
      this.audioSystem = null;
> this.frameCacheSystem?.clearCache();
      this.frameCacheSystem = null;
  
      // Clear collections
```

---

### `engine/particles/GPUSPHSystem.ts` (8 pattern(s))

#### Pattern: `isFinite()` at line 60:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    private cellCount = 0;
  
    constructor(maxParticles: number, config: Partial<SPHConfig> = {}) {
> this.maxParticles = Number.isFinite(maxParticles) && maxParticles > 0
        ? Math.min(Math.floor(maxParticles), 500_000)
        : 10000;
  
```

---

#### Pattern: `: void` at line 178:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create GPU buffers
     */
> private createBuffers(): void {
      if (!this.device) return;
  
      const particleBufferSize = this.maxParticles * PARTICLE_STRIDE * 4;
```

---

#### Pattern: `: void` at line 229:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create bind group
     */
> private createBindGroup(): void {
      if (!this.device || !this.buffers || !this.bindGroupLayout) return;
  
      this.bindGroup = this.device.createBindGroup({
```

---

#### Pattern: `: void` at line 254:153

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Object type detected

**Code:**
```typescript
     * Build spatial hash grid on CPU and upload to GPU
     * (GPU spatial hash construction is complex - using CPU for now)
     */
> private buildSpatialHash(particleBuffer: Float32Array, bounds: { min: { x: number; y: number; z: number }; max: { x: number; y: number; z: number } }): void {
      if (!this.device || !this.buffers) return;
  
      const cellSize = this.config.smoothingRadius;
```

---

#### Pattern: `: void` at line 335:154

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Object type detected

**Code:**
```typescript
    /**
     * Update params buffer
     */
> private updateParams(dt: number, particleCount: number, bounds: { min: { x: number; y: number; z: number }; max: { x: number; y: number; z: number } }): void {
      if (!this.device || !this.buffers) return;
  
      const params = new Float32Array(16);
```

---

#### Pattern: `isFinite()` at line 387:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      }
  
      const safeDt = Math.min(
> Number.isFinite(dt) && dt > 0 ? dt : 0.016,
        this.config.maxTimeStep
      );
  
```

---

#### Pattern: `: void` at line 482:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // CONFIGURATION
    // ============================================================================
  
> updateConfig(config: Partial<SPHConfig>): void {
      Object.assign(this.config, config);
      this.cpuFallback.updateConfig(config);
    }
```

---

#### Pattern: `: void` at line 499:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // CLEANUP
    // ============================================================================
  
> dispose(): void {
      if (this.buffers) {
        this.buffers.particles.destroy();
        this.buffers.sphData.destroy();
```

---

### `engine/particles/GPUSpringSystem.ts` (21 pattern(s))

#### Pattern: `isFinite()` at line 71:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      maxPins: number = 1000,
      config: Partial<SpringSystemConfig> = {}
    ) {
> this.maxParticles = Number.isFinite(maxParticles) && maxParticles > 0
        ? Math.min(Math.floor(maxParticles), 1_000_000)
        : 10000;
  
```

---

#### Pattern: `isFinite()` at line 75:30

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        ? Math.min(Math.floor(maxParticles), 1_000_000)
        : 10000;
  
> this.maxSprings = Number.isFinite(maxSprings) && maxSprings > 0
        ? Math.min(Math.floor(maxSprings), 1_000_000)
        : 100000;
  
```

---

#### Pattern: `isFinite()` at line 79:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        ? Math.min(Math.floor(maxSprings), 1_000_000)
        : 100000;
  
> this.maxPins = Number.isFinite(maxPins) && maxPins > 0
        ? Math.min(Math.floor(maxPins), 10000)
        : 1000;
  
```

---

#### Pattern: `: void` at line 184:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      };
    }
  
> private createBuffers(): void {
      if (!this.device) return;
  
      const particleBufferSize = this.maxParticles * PARTICLE_STRIDE * 4;
```

---

#### Pattern: `: void` at line 227:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      };
    }
  
> private createBindGroup(): void {
      if (!this.device || !this.buffers || !this.bindGroupLayout) return;
  
      this.bindGroup = this.device.createBindGroup({
```

---

#### Pattern: `: void` at line 254:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      stiffness?: number,
      damping?: number,
      breakThreshold?: number
> ): void {
      if (this.springs.length >= this.maxSprings) {
        console.warn("GPUSpringSystem: Max springs reached");
        return;
```

---

#### Pattern: `: void` at line 286:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      height: number,
      spacing: number,
      stiffness?: number
> ): void {
      const k = stiffness ?? this.config.globalStiffness;
      const diagLength = spacing * Math.SQRT2;
  
```

---

#### Pattern: `: void` at line 311:78

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
      }
    }
  
> createChain(particleIndices: number[], spacing: number, stiffness?: number): void {
      const k = stiffness ?? this.config.globalStiffness;
      for (let i = 0; i < particleIndices.length - 1; i++) {
        this.addSpring(particleIndices[i], particleIndices[i + 1], spacing, k);
```

---

#### Pattern: `: void` at line 325:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      depth: number,
      spacing: number,
      stiffness?: number
> ): void {
      const k = stiffness ?? this.config.globalStiffness;
  
      const getIdx = (x: number, y: number, z: number) =>
```

---

#### Pattern: `: void` at line 354:17

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> clearSprings(): void {
      this.springs = [];
      this.cpuFallback.clearSprings();
    }
```

---

#### Pattern: `: void` at line 363:84

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Object type detected

**Code:**
```typescript
    // PIN MANAGEMENT
    // ============================================================================
  
> pinParticle(particleIndex: number, position: { x: number; y: number; z: number }): void {
      if (this.pins.length >= this.maxPins) {
        console.warn("GPUSpringSystem: Max pins reached");
        return;
```

---

#### Pattern: `: void` at line 381:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.cpuFallback.pinParticle(particleIndex);
    }
  
> unpinParticle(particleIndex: number): void {
      this.pins = this.pins.filter(p => p.particleIndex !== particleIndex);
      this.cpuFallback.unpinParticle(particleIndex);
    }
```

---

#### Pattern: `: void` at line 386:90

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Object type detected

**Code:**
```typescript
      this.cpuFallback.unpinParticle(particleIndex);
    }
  
> updatePinPosition(particleIndex: number, position: { x: number; y: number; z: number }): void {
      const pin = this.pins.find(p => p.particleIndex === particleIndex);
      if (pin) {
        pin.position = { ...position };
```

---

#### Pattern: `: void` at line 393:14

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> clearPins(): void {
      this.pins = [];
    }
  
```

---

#### Pattern: `: void` at line 401:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // SIMULATION
    // ============================================================================
  
> private uploadSprings(): void {
      if (!this.device || !this.buffers) return;
  
      const springData = new Float32Array(this.maxSprings * 8);
```

---

#### Pattern: `: void` at line 425:23

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.device.queue.writeBuffer(this.buffers.springs, 0, springData);
    }
  
> private uploadPins(): void {
      if (!this.device || !this.buffers) return;
  
      const pinData = new Float32Array(this.maxPins * 6);
```

---

#### Pattern: `: void` at line 446:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.device.queue.writeBuffer(this.buffers.pins, 0, pinData);
    }
  
> private updateParams(dt: number): void {
      if (!this.device || !this.buffers) return;
  
      const params = new Float32Array(16);
```

---

#### Pattern: `: void` at line 467:64

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.device.queue.writeBuffer(this.buffers.params, 0, params);
    }
  
> private initializePrevPositions(particleBuffer: Float32Array): void {
      if (!this.device || !this.buffers) return;
  
      const prevPositions = new Float32Array(this.maxParticles * 3);
```

---

#### Pattern: `isFinite()` at line 490:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        return;
      }
  
> const safeDt = Number.isFinite(dt) && dt > 0 ? Math.min(dt, 0.1) : 0.016;
  
      // Initialize previous positions on first update
      if (!this.prevPositionsInitialized) {
```

---

#### Pattern: `: void` at line 587:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return this.pins.filter(p => p.active).length;
    }
  
> updateConfig(config: Partial<SpringSystemConfig>): void {
      Object.assign(this.config, config);
      this.cpuFallback.updateConfig(config);
    }
```

---

#### Pattern: `: void` at line 604:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // CLEANUP
    // ============================================================================
  
> dispose(): void {
      if (this.buffers) {
        this.buffers.particles.destroy();
        this.buffers.prevPositions.destroy();
```

---

### `engine/particles/ParticleAudioReactive.ts` (17 pattern(s))

#### Pattern: `: void` at line 29:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
    /**
     * Set audio bindings configuration
     */
> setBindings(bindings: AudioBinding[]): void {
      this.audioBindings = bindings;
    }
  
```

---

#### Pattern: `: void` at line 47:51

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set audio feature value
     */
> setFeature(feature: AudioFeature, value: number): void {
      this.audioFeatures.set(feature, value);
    }
  
```

---

#### Pattern: `: void` at line 69:16

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Trigger beat event (sets onsets to 1, auto-resets next frame)
     * Note: 'onsets' is the actual audio feature for transient/beat detection
     */
> triggerBeat(): void {
      this.audioFeatures.set("onsets", 1);
  
      // Reset onset flag after frame
```

---

#### Pattern: `: void` at line 98:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        EmitterConfig & { accumulator: number; velocity: unknown }
      >,
      forceFields: Map<string, ForceFieldConfig>,
> ): void {
      for (let i = 0; i < this.audioBindings.length; i++) {
        const binding = this.audioBindings[i];
        const featureValue = this.audioFeatures.get(binding.feature) ?? 0;
```

---

#### Pattern: `isFinite()` at line 108:36

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        // smoothing = 1 means maximum smoothing (very slow response)
        const previousSmoothed = this.smoothedAudioValues.get(i) ?? featureValue;
        // Validate smoothing
> const safeSmoothing = Number.isFinite(binding.smoothing) ? Math.max(0, Math.min(1, binding.smoothing)) : 0;
        const alpha = 1 - safeSmoothing; // Convert smoothing to alpha
        const smoothed = alpha * featureValue + (1 - alpha) * previousSmoothed;
        this.smoothedAudioValues.set(i, smoothed);
```

---

#### Pattern: `isFinite()` at line 114:30

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        this.smoothedAudioValues.set(i, smoothed);
  
        // Validate min/max separately to handle NaN
> const safeMin = Number.isFinite(binding.min) ? binding.min : 0;
        const safeMax = Number.isFinite(binding.max) ? binding.max : 1;
        const bindingRange = safeMax - safeMin;
        const safeRange = bindingRange !== 0 ? bindingRange : 1;
```

---

#### Pattern: `isFinite()` at line 115:30

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
        // Validate min/max separately to handle NaN
        const safeMin = Number.isFinite(binding.min) ? binding.min : 0;
> const safeMax = Number.isFinite(binding.max) ? binding.max : 1;
        const bindingRange = safeMax - safeMin;
        const safeRange = bindingRange !== 0 ? bindingRange : 1;
        // Map to output range
```

---

#### Pattern: `isFinite()` at line 124:36

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          Math.min(1, (smoothed - safeMin) / safeRange),
        );
        // Validate output range
> const safeOutputMin = Number.isFinite(binding.outputMin) ? binding.outputMin : 0;
        const safeOutputMax = Number.isFinite(binding.outputMax) ? binding.outputMax : 1;
        let output = safeOutputMin + t * (safeOutputMax - safeOutputMin);
  
```

---

#### Pattern: `isFinite()` at line 125:36

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        );
        // Validate output range
        const safeOutputMin = Number.isFinite(binding.outputMin) ? binding.outputMin : 0;
> const safeOutputMax = Number.isFinite(binding.outputMax) ? binding.outputMax : 1;
        let output = safeOutputMin + t * (safeOutputMax - safeOutputMin);
  
        // Apply curve (using validated output range)
```

---

#### Pattern: `isFinite()` at line 145:71

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        if (triggerMode === "onThreshold") {
          // Only apply when smoothed value exceeds threshold
          const rawThreshold = binding.threshold;
> const threshold = (typeof rawThreshold === 'number' && Number.isFinite(rawThreshold)) ? rawThreshold : 0.5;
          if (t < threshold) continue;
        } else if (triggerMode === "onBeat") {
          // Only apply when beat/onset is detected
```

---

#### Pattern: `isFinite()` at line 187:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        ) {
          const featureValue = this.audioFeatures.get(binding.feature) ?? 0;
          // Validate min/max separately to handle NaN
> const safeMin = Number.isFinite(binding.min) ? binding.min : 0;
          const safeMax = Number.isFinite(binding.max) ? binding.max : 1;
          const range = safeMax - safeMin;
          const safeRange = range !== 0 ? range : 1;
```

---

#### Pattern: `isFinite()` at line 188:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          const featureValue = this.audioFeatures.get(binding.feature) ?? 0;
          // Validate min/max separately to handle NaN
          const safeMin = Number.isFinite(binding.min) ? binding.min : 0;
> const safeMax = Number.isFinite(binding.max) ? binding.max : 1;
          const range = safeMax - safeMin;
          const safeRange = range !== 0 ? range : 1;
          const t = Math.max(0, Math.min(1, (featureValue - safeMin) / safeRange));
```

---

#### Pattern: `isFinite()` at line 192:38

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          const range = safeMax - safeMin;
          const safeRange = range !== 0 ? range : 1;
          const t = Math.max(0, Math.min(1, (featureValue - safeMin) / safeRange));
> const safeOutputMin = Number.isFinite(binding.outputMin) ? binding.outputMin : 0;
          const safeOutputMax = Number.isFinite(binding.outputMax) ? binding.outputMax : 1;
          return safeOutputMin + t * (safeOutputMax - safeOutputMin);
        }
```

---

#### Pattern: `isFinite()` at line 193:38

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          const safeRange = range !== 0 ? range : 1;
          const t = Math.max(0, Math.min(1, (featureValue - safeMin) / safeRange));
          const safeOutputMin = Number.isFinite(binding.outputMin) ? binding.outputMin : 0;
> const safeOutputMax = Number.isFinite(binding.outputMax) ? binding.outputMax : 1;
          return safeOutputMin + t * (safeOutputMax - safeOutputMin);
        }
      }
```

---

#### Pattern: `: void` at line 207:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Reset audio state
     */
> reset(): void {
      this.smoothedAudioValues.clear();
    }
  
```

---

#### Pattern: `: void` at line 221:54

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set smoothed audio values from cache restore.
     */
> setSmoothedAudioValues(values: Map<number, number>): void {
      this.smoothedAudioValues = new Map(values);
    }
  
```

---

#### Pattern: `: void` at line 228:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear all audio data
     */
> clear(): void {
      this.audioFeatures.clear();
      this.smoothedAudioValues.clear();
      this.audioBindings = [];
```

---

### `engine/particles/ParticleCollisionSystem.ts` (17 pattern(s))

#### Pattern: `isFinite()` at line 76:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    constructor(maxParticles: number, config: Partial<CollisionConfig> = {}) {
      // Validate maxParticles to prevent infinite loop
> this.maxParticles = Number.isFinite(maxParticles) && maxParticles > 0
        ? Math.min(Math.floor(maxParticles), 10_000_000)
        : 10000;
      this.config = {
```

---

#### Pattern: `: void` at line 97:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set the shared spatial hash grid reference
     * This should be called once during initialization
     */
> setSpatialHash(hash: SpatialHashGrid): void {
      this.spatialHash = hash;
    }
  
```

---

#### Pattern: `: void` at line 109:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Apply collision detection and response
     * @param particleBuffer - The current particle data buffer (modified in place)
     */
> update(particleBuffer: Float32Array): void {
      if (!this.config.enabled) return;
  
      // Apply boundary collisions
```

---

#### Pattern: `: void` at line 135:56

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Apply boundary collision response
     */
> private applyBoundaryCollisions(buffer: Float32Array): void {
      if (!this.config.bounds) return;
  
      const { min, max } = this.config.bounds;
```

---

#### Pattern: `isFinite()` at line 140:31

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      const { min, max } = this.config.bounds;
      // Validate bounciness to prevent NaN propagation
> const bounciness = Number.isFinite(this.config.bounciness) ? this.config.bounciness : 0.5;
      const behavior = this.config.boundsBehavior;
      
      // Calculate bounds dimensions for wrap modulo - guard against zero
```

---

#### Pattern: `: void` at line 322:53

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Apply collision response for infinite planes
     * Planes are defined by a point and normal vector
     */
> private applyPlaneCollisions(buffer: Float32Array): void {
      const planes = this.config.planes;
      if (!planes || planes.length === 0) return;
  
```

---

#### Pattern: `isFinite()` at line 368:37

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          const particleRadius = this.config.particleRadius ?? 5;
          if (dist < particleRadius) {
            // Particle is touching or behind plane
> const bounciness = Number.isFinite(plane.bounciness) ? plane.bounciness : 0.5;
            const friction = Number.isFinite(plane.friction) ? plane.friction : 0.1;
  
            // Calculate velocity component normal to plane
```

---

#### Pattern: `isFinite()` at line 369:35

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          if (dist < particleRadius) {
            // Particle is touching or behind plane
            const bounciness = Number.isFinite(plane.bounciness) ? plane.bounciness : 0.5;
> const friction = Number.isFinite(plane.friction) ? plane.friction : 0.1;
  
            // Calculate velocity component normal to plane
            const vDotN = vx * normalX + vy * normalY + vz * normalZ;
```

---

#### Pattern: `: void` at line 424:56

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Apply particle-particle collision response
     * Uses shared spatial hash for efficiency
     */
> private applyParticleCollisions(buffer: Float32Array): void {
      if (!this.spatialHash) return;
  
      // Validate radius to prevent NaN/Infinity breaking collision detection
```

---

#### Pattern: `isFinite()` at line 428:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      if (!this.spatialHash) return;
  
      // Validate radius to prevent NaN/Infinity breaking collision detection
> const radius = Number.isFinite(this.config.particleRadius) && this.config.particleRadius > 0
        ? this.config.particleRadius
        : 5;
      const radiusSq = radius * radius * 4; // 2*radius squared for collision detection
```

---

#### Pattern: `isFinite()` at line 432:31

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        ? this.config.particleRadius
        : 5;
      const radiusSq = radius * radius * 4; // 2*radius squared for collision detection
> const bounciness = Number.isFinite(this.config.bounciness) ? this.config.bounciness : 0.5;
  
      // Check collisions using shared spatial hash
      for (let i = 0; i < this.maxParticles; i++) {
```

---

#### Pattern: `isFinite()` at line 486:36

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
            if (dvn > 0) continue;
  
            // Impulse magnitude - guard against zero/NaN mass
> const safeMass1 = Number.isFinite(mass1) && mass1 > 0 ? mass1 : 1;
            const safeMass2 = Number.isFinite(mass2) && mass2 > 0 ? mass2 : 1;
            const totalMass = safeMass1 + safeMass2;
            const impulse = (-(1 + bounciness) * dvn) / totalMass;
```

---

#### Pattern: `isFinite()` at line 487:36

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
            // Impulse magnitude - guard against zero/NaN mass
            const safeMass1 = Number.isFinite(mass1) && mass1 > 0 ? mass1 : 1;
> const safeMass2 = Number.isFinite(mass2) && mass2 > 0 ? mass2 : 1;
            const totalMass = safeMass1 + safeMass2;
            const impulse = (-(1 + bounciness) * dvn) / totalMass;
  
```

---

#### Pattern: `: void` at line 535:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Enable or disable collisions
     */
> setEnabled(enabled: boolean): void {
      this.config.enabled = enabled;
    }
  
```

---

#### Pattern: `: void` at line 542:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update collision configuration
     */
> updateConfig(config: Partial<CollisionConfig>): void {
      Object.assign(this.config, config);
    }
  
```

---

#### Pattern: `: void` at line 560:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Add a collision plane (floor, wall, ceiling)
     */
> addPlane(plane: CollisionPlane): void {
      if (!this.config.planes) {
        this.config.planes = [];
      }
```

---

#### Pattern: `: void` at line 572:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Remove a collision plane by ID
     */
> removePlane(id: string): void {
      if (!this.config.planes) return;
      this.config.planes = this.config.planes.filter(p => p.id !== id);
    }
```

---

### `engine/particles/ParticleConnectionSystem.ts` (11 pattern(s))

#### Pattern: `isFinite()` at line 30:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    constructor(maxParticles: number, config: ConnectionConfig) {
      // Validate maxParticles to prevent infinite loop
> this.maxParticles = Number.isFinite(maxParticles) && maxParticles > 0
        ? Math.min(Math.floor(maxParticles), 1_000_000)  // Cap lower for connections (memory intensive)
        : 10000;
      this.config = config;
```

---

#### Pattern: `: void` at line 43:15

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Initialize connection rendering resources
     */
> initialize(): void {
      // Validate maxConnections - cap to prevent memory exhaustion
      const safeMaxConnections = Number.isFinite(this.config.maxConnections) && this.config.maxConnections > 0
        ? Math.min(Math.floor(this.config.maxConnections), 50)  // Cap at 50 connections per particle
```

---

#### Pattern: `isFinite()` at line 45:39

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    initialize(): void {
      // Validate maxConnections - cap to prevent memory exhaustion
> const safeMaxConnections = Number.isFinite(this.config.maxConnections) && this.config.maxConnections > 0
        ? Math.min(Math.floor(this.config.maxConnections), 50)  // Cap at 50 connections per particle
        : 10;
      
```

---

#### Pattern: `: void` at line 97:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Uses spatial hash for efficient neighbor queries
     * @param particleBuffer - The current particle data buffer
     */
> update(particleBuffer: Float32Array): void {
      if (!this.config.enabled || !this.connectionGeometry) return;
  
      const posAttr = this.connectionGeometry.getAttribute(
```

---

#### Pattern: `isFinite()` at line 108:36

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      ) as THREE.BufferAttribute;
  
      // Validate maxDistance
> const safeMaxDistance = Number.isFinite(this.config.maxDistance) && this.config.maxDistance > 0
        ? this.config.maxDistance
        : 100;
      const maxDistSq = safeMaxDistance * safeMaxDistance;
```

---

#### Pattern: `Optional Chaining` at line 154:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const cellZ = Math.floor(p.z / cellSize);
        const key = `${cellX},${cellY},${cellZ}`;
        if (!grid.has(key)) grid.set(key, []);
> grid.get(key)?.push(p);
      }
  
      // For each particle, find nearby particles using spatial hash
```

---

#### Pattern: `isFinite()` at line 195:48

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
                if (distSq < maxDistSq) {
                  // Calculate opacity based on distance (validate lineOpacity)
> const safeLineOpacity = Number.isFinite(this.config.lineOpacity)
                    ? Math.max(0, Math.min(1, this.config.lineOpacity))
                    : 0.5;
                  let opacity = safeLineOpacity;
```

---

#### Pattern: `: void` at line 289:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Enable or disable particle connections
     */
> setEnabled(enabled: boolean): void {
      this.config.enabled = enabled;
    }
  
```

---

#### Pattern: `: void` at line 303:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update connection configuration
     */
> updateConfig(config: Partial<ConnectionConfig>): void {
      Object.assign(this.config, config);
    }
  
```

---

#### Pattern: `: void` at line 314:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Reset connection state
     */
> reset(): void {
      if (this.connectionGeometry) {
        this.connectionGeometry.setDrawRange(0, 0);
      }
```

---

#### Pattern: `: void` at line 323:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose of all resources
     */
> dispose(): void {
      if (this.connectionGeometry) {
        this.connectionGeometry.dispose();
        this.connectionGeometry = null;
```

---

### `engine/particles/ParticleEmitterLogic.ts` (13 pattern(s))

#### Pattern: `isFinite()` at line 54:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const angle = rng() * Math.PI * 2;
        // Validate radius
        const rawRadius = shape.radius ?? 50;
> let radius = (Number.isFinite(rawRadius) && rawRadius > 0) ? rawRadius : 50;
        if (!shape.emitFromEdge) {
          radius *= Math.sqrt(rng()); // Uniform distribution in circle
        }
```

---

#### Pattern: `isFinite()` at line 72:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const phi = Math.acos(2 * rng() - 1);
        // Validate radius
        const rawRadius = shape.radius ?? 50;
> let radius = (Number.isFinite(rawRadius) && rawRadius > 0) ? rawRadius : 50;
        if (!shape.emitFromEdge) {
          radius *= Math.cbrt(rng()); // Uniform distribution in sphere
        }
```

---

#### Pattern: `isFinite()` at line 88:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      case "box": {
        const size = shape.boxSize ?? { x: 100, y: 100, z: 100 };
        // Validate box dimensions
> const sx = Number.isFinite(size.x) ? size.x : 100;
        const sy = Number.isFinite(size.y) ? size.y : 100;
        const sz = Number.isFinite(size.z) ? size.z : 100;
        return base.add(
```

---

#### Pattern: `isFinite()` at line 89:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const size = shape.boxSize ?? { x: 100, y: 100, z: 100 };
        // Validate box dimensions
        const sx = Number.isFinite(size.x) ? size.x : 100;
> const sy = Number.isFinite(size.y) ? size.y : 100;
        const sz = Number.isFinite(size.z) ? size.z : 100;
        return base.add(
          new THREE.Vector3(
```

---

#### Pattern: `isFinite()` at line 90:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        // Validate box dimensions
        const sx = Number.isFinite(size.x) ? size.x : 100;
        const sy = Number.isFinite(size.y) ? size.y : 100;
> const sz = Number.isFinite(size.z) ? size.z : 100;
        return base.add(
          new THREE.Vector3(
            (rng() - 0.5) * sx,
```

---

#### Pattern: `isFinite()` at line 118:34

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const t = rng();
        // Validate cone dimensions
        const rawConeRadius = shape.coneRadius ?? 50;
> const coneRadius = (Number.isFinite(rawConeRadius) && rawConeRadius > 0) ? rawConeRadius : 50;
        const rawConeLength = shape.coneLength ?? 100;
        const coneLength = (Number.isFinite(rawConeLength) && rawConeLength > 0) ? rawConeLength : 100;
        const radius = t * coneRadius;
```

---

#### Pattern: `isFinite()` at line 120:34

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const rawConeRadius = shape.coneRadius ?? 50;
        const coneRadius = (Number.isFinite(rawConeRadius) && rawConeRadius > 0) ? rawConeRadius : 50;
        const rawConeLength = shape.coneLength ?? 100;
> const coneLength = (Number.isFinite(rawConeLength) && rawConeLength > 0) ? rawConeLength : 100;
        const radius = t * coneRadius;
        const height = t * coneLength;
        return base.add(
```

---

#### Pattern: `isFinite()` at line 139:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const { width, height, data } = shape.imageData;
        // Validate threshold
        const rawThreshold = shape.emissionThreshold ?? 0.1;
> const threshold = Number.isFinite(rawThreshold) ? rawThreshold : 0.1;
  
        // Try up to 100 times to find a valid pixel
        for (let attempt = 0; attempt < 100; attempt++) {
```

---

#### Pattern: `isFinite()` at line 174:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const depthData = shape.depthData;
        // Validate threshold
        const rawThreshold = shape.emissionThreshold ?? 0.05;
> const threshold = Number.isFinite(rawThreshold) ? rawThreshold : 0.05;
  
        // Try up to 100 times to find an edge pixel
        for (let attempt = 0; attempt < 100; attempt++) {
```

---

#### Pattern: `isFinite()` at line 274:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    }
  
    // Validate spread
> const safeSpread = Number.isFinite(emitter.emissionSpread) ? Math.max(0, emitter.emissionSpread) : 0;
    if (safeSpread <= 0) {
      return baseDir;
    }
```

---

#### Pattern: `isFinite()` at line 315:35

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  ): { velocity: THREE.Vector3; direction: THREE.Vector3; speed: number } {
    const direction = getEmissionDirection(emitter, rng);
    // Validate speed parameters
> const safeInitialSpeed = Number.isFinite(emitter.initialSpeed) ? Math.max(0, emitter.initialSpeed) : 100;
    const safeSpeedVariance = Number.isFinite(emitter.speedVariance) ? Math.max(0, emitter.speedVariance) : 0;
    const speed = safeInitialSpeed + (rng() - 0.5) * 2 * safeSpeedVariance;
  
```

---

#### Pattern: `isFinite()` at line 316:36

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const direction = getEmissionDirection(emitter, rng);
    // Validate speed parameters
    const safeInitialSpeed = Number.isFinite(emitter.initialSpeed) ? Math.max(0, emitter.initialSpeed) : 100;
> const safeSpeedVariance = Number.isFinite(emitter.speedVariance) ? Math.max(0, emitter.speedVariance) : 0;
    const speed = safeInitialSpeed + (rng() - 0.5) * 2 * safeSpeedVariance;
  
    // Inherit emitter velocity (validate inheritance factor)
```

---

#### Pattern: `isFinite()` at line 320:30

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const speed = safeInitialSpeed + (rng() - 0.5) * 2 * safeSpeedVariance;
  
    // Inherit emitter velocity (validate inheritance factor)
> const safeInherit = Number.isFinite(emitter.inheritEmitterVelocity) ? emitter.inheritEmitterVelocity : 0;
    const inheritVel = emitter.velocity
      .clone()
      .multiplyScalar(safeInherit);
```

---

### `engine/particles/ParticleFlockingSystem.ts` (18 pattern(s))

#### Pattern: `isFinite()` at line 31:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    constructor(maxParticles: number, config: FlockingConfig) {
      // Validate maxParticles to prevent infinite loop
> this.maxParticles = Number.isFinite(maxParticles) && maxParticles > 0
        ? Math.min(Math.floor(maxParticles), 10_000_000)
        : 10000;
      this.config = config;
```

---

#### Pattern: `: void` at line 45:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set the shared spatial hash grid reference
     * This should be called once during initialization
     */
> setSpatialHash(hash: SpatialHashGrid): void {
      this.spatialHash = hash;
    }
  
```

---

#### Pattern: `Optional Chaining` at line 54:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * @deprecated Use setSpatialHash and rebuild from GPUParticleSystem instead
     */
    getSpatialHash(): Map<string, number[]> | null {
> return this.spatialHash?.getRawCells() ?? null;
    }
  
    /**
```

---

#### Pattern: `: void` at line 61:51

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * @deprecated Use shared SpatialHashGrid.rebuild() instead
     * Kept for backwards compatibility - now a no-op
     */
> updateSpatialHash(_particleBuffer: Float32Array): void {
      // No-op: spatial hash is now managed by GPUParticleSystem
      // and shared between flocking and collision systems
    }
```

---

#### Pattern: `: void` at line 75:58

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * @param particleBuffer - The current particle data buffer (modified in place)
     * @param dt - Delta time in seconds
     */
> applyFlocking(particleBuffer: Float32Array, dt: number): void {
      if (!this.config.enabled || !this.spatialHash) return;
      
      // Validate dt to prevent NaN propagation
```

---

#### Pattern: `isFinite()` at line 79:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      if (!this.config.enabled || !this.spatialHash) return;
      
      // Validate dt to prevent NaN propagation
> const safeDt = Number.isFinite(dt) && dt >= 0 ? Math.min(dt, 1.0) : 0.016;
  
      for (let i = 0; i < this.maxParticles; i++) {
        const offset = i * PARTICLE_STRIDE;
```

---

#### Pattern: `isFinite()` at line 106:42

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
        // Precompute perception angle cosine threshold (360Â° means all neighbors visible)
        // Validate perceptionAngle to prevent NaN
> const safePerceptionAngle = Number.isFinite(this.config.perceptionAngle)
          ? Math.max(0, this.config.perceptionAngle) 
          : 360;
        const perceptionCos =
```

---

#### Pattern: `isFinite()` at line 147:38

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          }
  
          // Validate radius values
> const safeSepRadius = Number.isFinite(this.config.separationRadius) && this.config.separationRadius > 0
            ? this.config.separationRadius : 50;
          const safeAlignRadius = Number.isFinite(this.config.alignmentRadius) && this.config.alignmentRadius > 0
            ? this.config.alignmentRadius : 100;
```

---

#### Pattern: `isFinite()` at line 149:40

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          // Validate radius values
          const safeSepRadius = Number.isFinite(this.config.separationRadius) && this.config.separationRadius > 0
            ? this.config.separationRadius : 50;
> const safeAlignRadius = Number.isFinite(this.config.alignmentRadius) && this.config.alignmentRadius > 0
            ? this.config.alignmentRadius : 100;
          const safeCohRadius = Number.isFinite(this.config.cohesionRadius) && this.config.cohesionRadius > 0
            ? this.config.cohesionRadius : 150;
```

---

#### Pattern: `isFinite()` at line 151:38

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
            ? this.config.separationRadius : 50;
          const safeAlignRadius = Number.isFinite(this.config.alignmentRadius) && this.config.alignmentRadius > 0
            ? this.config.alignmentRadius : 100;
> const safeCohRadius = Number.isFinite(this.config.cohesionRadius) && this.config.cohesionRadius > 0
            ? this.config.cohesionRadius : 150;
  
          // Separation - steer away from nearby neighbors
```

---

#### Pattern: `isFinite()` at line 180:36

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        }
  
        // Validate weights and maxForce
> const safeSepWeight = Number.isFinite(this.config.separationWeight) ? this.config.separationWeight : 1.5;
        const safeAlignWeight = Number.isFinite(this.config.alignmentWeight) ? this.config.alignmentWeight : 1.0;
        const safeCohWeight = Number.isFinite(this.config.cohesionWeight) ? this.config.cohesionWeight : 1.0;
        const safeMaxForce = Number.isFinite(this.config.maxForce) && this.config.maxForce > 0
```

---

#### Pattern: `isFinite()` at line 181:38

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
        // Validate weights and maxForce
        const safeSepWeight = Number.isFinite(this.config.separationWeight) ? this.config.separationWeight : 1.5;
> const safeAlignWeight = Number.isFinite(this.config.alignmentWeight) ? this.config.alignmentWeight : 1.0;
        const safeCohWeight = Number.isFinite(this.config.cohesionWeight) ? this.config.cohesionWeight : 1.0;
        const safeMaxForce = Number.isFinite(this.config.maxForce) && this.config.maxForce > 0
          ? this.config.maxForce : 10;
```

---

#### Pattern: `isFinite()` at line 182:36

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        // Validate weights and maxForce
        const safeSepWeight = Number.isFinite(this.config.separationWeight) ? this.config.separationWeight : 1.5;
        const safeAlignWeight = Number.isFinite(this.config.alignmentWeight) ? this.config.alignmentWeight : 1.0;
> const safeCohWeight = Number.isFinite(this.config.cohesionWeight) ? this.config.cohesionWeight : 1.0;
        const safeMaxForce = Number.isFinite(this.config.maxForce) && this.config.maxForce > 0
          ? this.config.maxForce : 10;
  
```

---

#### Pattern: `isFinite()` at line 183:35

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const safeSepWeight = Number.isFinite(this.config.separationWeight) ? this.config.separationWeight : 1.5;
        const safeAlignWeight = Number.isFinite(this.config.alignmentWeight) ? this.config.alignmentWeight : 1.0;
        const safeCohWeight = Number.isFinite(this.config.cohesionWeight) ? this.config.cohesionWeight : 1.0;
> const safeMaxForce = Number.isFinite(this.config.maxForce) && this.config.maxForce > 0
          ? this.config.maxForce : 10;
  
        // Apply weighted forces
```

---

#### Pattern: `isFinite()` at line 219:35

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        particleBuffer[offset + 5] += steering.z * safeDt;
  
        // Limit speed (validate maxSpeed to prevent velocity reversal)
> const safeMaxSpeed = Number.isFinite(this.config.maxSpeed) && this.config.maxSpeed > 0
          ? this.config.maxSpeed
          : 100;  // Default max speed
        const newSpeed = Math.sqrt(
```

---

#### Pattern: `: void` at line 250:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Enable or disable flocking
     */
> setEnabled(enabled: boolean): void {
      this.config.enabled = enabled;
    }
  
```

---

#### Pattern: `: void` at line 257:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update flocking configuration
     */
> updateConfig(config: Partial<FlockingConfig>): void {
      Object.assign(this.config, config);
    }
  
```

---

#### Pattern: `: void` at line 276:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Reset flocking state
     * Note: Spatial hash is managed externally and cleared by GPUParticleSystem
     */
> reset(): void {
      // No local state to reset - spatial hash is shared
    }
  }
```

---

### `engine/particles/ParticleForceCalculator.ts` (27 pattern(s))

#### Pattern: `isFinite()` at line 75:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    // Validate strength to prevent NaN/Infinity propagation
    const rawStrength = field.strength * falloff;
> const strength = Number.isFinite(rawStrength) ? rawStrength : 0;
  
    switch (field.type) {
      case "gravity":
```

---

#### Pattern: `Optional Chaining` at line 80:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    switch (field.type) {
      case "gravity":
        force.set(
> (field.direction?.x ?? 0) * strength,
          (field.direction?.y ?? 1) * strength,
          (field.direction?.z ?? 0) * strength,
        );
```

---

#### Pattern: `Optional Chaining` at line 81:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      case "gravity":
        force.set(
          (field.direction?.x ?? 0) * strength,
> (field.direction?.y ?? 1) * strength,
          (field.direction?.z ?? 0) * strength,
        );
        break;
```

---

#### Pattern: `Optional Chaining` at line 82:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        force.set(
          (field.direction?.x ?? 0) * strength,
          (field.direction?.y ?? 1) * strength,
> (field.direction?.z ?? 0) * strength,
        );
        break;
  
```

---

#### Pattern: `Optional Chaining` at line 98:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      case "vortex":
        if (dist > 0.001) {
          const axis = new THREE.Vector3(
> field.vortexAxis?.x ?? 0,
            field.vortexAxis?.y ?? 0,
            field.vortexAxis?.z ?? 1,
          ).normalize();
```

---

#### Pattern: `Optional Chaining` at line 99:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (dist > 0.001) {
          const axis = new THREE.Vector3(
            field.vortexAxis?.x ?? 0,
> field.vortexAxis?.y ?? 0,
            field.vortexAxis?.z ?? 1,
          ).normalize();
          const toParticle = new THREE.Vector3(dx, dy, dz);
```

---

#### Pattern: `Optional Chaining` at line 100:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          const axis = new THREE.Vector3(
            field.vortexAxis?.x ?? 0,
            field.vortexAxis?.y ?? 0,
> field.vortexAxis?.z ?? 1,
          ).normalize();
          const toParticle = new THREE.Vector3(dx, dy, dz);
          const tangent = new THREE.Vector3()
```

---

#### Pattern: `isFinite()` at line 115:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      case "turbulence": {
        const rawScale = field.noiseScale ?? 0.01;
> const scale = Number.isFinite(rawScale) ? rawScale : 0.01;
        const rawSpeed = field.noiseSpeed ?? 0.5;
        const speed = Number.isFinite(rawSpeed) ? rawSpeed : 0.5;
        // Guard against Infinity time causing Math.sin(Infinity) = NaN
```

---

#### Pattern: `isFinite()` at line 117:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const rawScale = field.noiseScale ?? 0.01;
        const scale = Number.isFinite(rawScale) ? rawScale : 0.01;
        const rawSpeed = field.noiseSpeed ?? 0.5;
> const speed = Number.isFinite(rawSpeed) ? rawSpeed : 0.5;
        // Guard against Infinity time causing Math.sin(Infinity) = NaN
        const time = Number.isFinite(simulationTime * speed) ? simulationTime * speed : 0;
  
```

---

#### Pattern: `isFinite()` at line 119:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const rawSpeed = field.noiseSpeed ?? 0.5;
        const speed = Number.isFinite(rawSpeed) ? rawSpeed : 0.5;
        // Guard against Infinity time causing Math.sin(Infinity) = NaN
> const time = Number.isFinite(simulationTime * speed) ? simulationTime * speed : 0;
  
        // Simple 3D noise approximation
        const nx =
```

---

#### Pattern: `isFinite()` at line 141:35

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        if (speed > 0.001) {
          // Validate drag coefficients to prevent NaN
          const rawLinearDrag = field.linearDrag ?? 0.1;
> const linearDrag = Number.isFinite(rawLinearDrag) ? rawLinearDrag : 0.1;
          const rawQuadDrag = field.quadraticDrag ?? 0.01;
          const quadDrag = Number.isFinite(rawQuadDrag) ? rawQuadDrag : 0.01;
          const dragMag = linearDrag * speed + quadDrag * speed * speed;
```

---

#### Pattern: `isFinite()` at line 143:33

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          const rawLinearDrag = field.linearDrag ?? 0.1;
          const linearDrag = Number.isFinite(rawLinearDrag) ? rawLinearDrag : 0.1;
          const rawQuadDrag = field.quadraticDrag ?? 0.01;
> const quadDrag = Number.isFinite(rawQuadDrag) ? rawQuadDrag : 0.01;
          const dragMag = linearDrag * speed + quadDrag * speed * speed;
          // Drag opposes velocity: F = -c * v_normalized * |v|^n
          // set(-v) then multiply by positive gives force opposing velocity
```

---

#### Pattern: `Optional Chaining` at line 157:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      case "wind": {
        const windDir = new THREE.Vector3(
> field.windDirection?.x ?? 1,
          field.windDirection?.y ?? 0,
          field.windDirection?.z ?? 0,
        ).normalize();
```

---

#### Pattern: `Optional Chaining` at line 158:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      case "wind": {
        const windDir = new THREE.Vector3(
          field.windDirection?.x ?? 1,
> field.windDirection?.y ?? 0,
          field.windDirection?.z ?? 0,
        ).normalize();
        const gust =
```

---

#### Pattern: `Optional Chaining` at line 159:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const windDir = new THREE.Vector3(
          field.windDirection?.x ?? 1,
          field.windDirection?.y ?? 0,
> field.windDirection?.z ?? 0,
        ).normalize();
        const gust =
          Math.sin(simulationTime * (field.gustFrequency ?? 0.5)) *
```

---

#### Pattern: `isFinite()` at line 171:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      case "lorenz": {
        // Lorenz strange attractor - validate to prevent NaN
        const rawSigma = field.lorenzSigma ?? 10;
> const sigma = Number.isFinite(rawSigma) ? rawSigma : 10;
        const rawRho = field.lorenzRho ?? 28;
        const rho = Number.isFinite(rawRho) ? rawRho : 28;
        const rawBeta = field.lorenzBeta ?? 2.667;
```

---

#### Pattern: `isFinite()` at line 173:26

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const rawSigma = field.lorenzSigma ?? 10;
        const sigma = Number.isFinite(rawSigma) ? rawSigma : 10;
        const rawRho = field.lorenzRho ?? 28;
> const rho = Number.isFinite(rawRho) ? rawRho : 28;
        const rawBeta = field.lorenzBeta ?? 2.667;
        const beta = Number.isFinite(rawBeta) ? rawBeta : 2.667;
        force
```

---

#### Pattern: `isFinite()` at line 175:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const rawRho = field.lorenzRho ?? 28;
        const rho = Number.isFinite(rawRho) ? rawRho : 28;
        const rawBeta = field.lorenzBeta ?? 2.667;
> const beta = Number.isFinite(rawBeta) ? rawBeta : 2.667;
        force
          .set(sigma * (dy - dx), dx * (rho - dz) - dy, dx * dy - beta * dz)
          .multiplyScalar(strength * 0.01);
```

---

#### Pattern: `isFinite()` at line 185:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      case "curl": {
        // Curl noise - divergence-free flow field
        const rawScale = field.noiseScale ?? 0.01;
> const scale = Number.isFinite(rawScale) ? rawScale : 0.01;
        const rawSpeed = field.noiseSpeed ?? 0.5;
        const speed = Number.isFinite(rawSpeed) ? rawSpeed : 0.5;
        // Guard against Infinity time causing Math.sin(Infinity) = NaN
```

---

#### Pattern: `isFinite()` at line 187:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const rawScale = field.noiseScale ?? 0.01;
        const scale = Number.isFinite(rawScale) ? rawScale : 0.01;
        const rawSpeed = field.noiseSpeed ?? 0.5;
> const speed = Number.isFinite(rawSpeed) ? rawSpeed : 0.5;
        // Guard against Infinity time causing Math.sin(Infinity) = NaN
        const time = Number.isFinite(simulationTime * speed) ? simulationTime * speed : 0;
  
```

---

#### Pattern: `isFinite()` at line 189:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const rawSpeed = field.noiseSpeed ?? 0.5;
        const speed = Number.isFinite(rawSpeed) ? rawSpeed : 0.5;
        // Guard against Infinity time causing Math.sin(Infinity) = NaN
> const time = Number.isFinite(simulationTime * speed) ? simulationTime * speed : 0;
  
        // Compute curl of noise field (approximation)
        const eps = 0.01;
```

---

#### Pattern: `Optional Chaining` at line 227:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Lorentz force: F = q(v Ã— B)
        // B field direction is the vortexAxis
        const B = new THREE.Vector3(
> field.vortexAxis?.x ?? 0,
          field.vortexAxis?.y ?? 1,
          field.vortexAxis?.z ?? 0,
        ).multiplyScalar(strength);
```

---

#### Pattern: `Optional Chaining` at line 228:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // B field direction is the vortexAxis
        const B = new THREE.Vector3(
          field.vortexAxis?.x ?? 0,
> field.vortexAxis?.y ?? 1,
          field.vortexAxis?.z ?? 0,
        ).multiplyScalar(strength);
        const v = new THREE.Vector3(vx, vy, vz);
```

---

#### Pattern: `Optional Chaining` at line 229:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const B = new THREE.Vector3(
          field.vortexAxis?.x ?? 0,
          field.vortexAxis?.y ?? 1,
> field.vortexAxis?.z ?? 0,
        ).multiplyScalar(strength);
        const v = new THREE.Vector3(vx, vy, vz);
        force.crossVectors(v, B);
```

---

#### Pattern: `Optional Chaining` at line 247:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
          // Add tangential component for orbit
          const axis = new THREE.Vector3(
> field.vortexAxis?.x ?? 0,
            field.vortexAxis?.y ?? 1,
            field.vortexAxis?.z ?? 0,
          ).normalize();
```

---

#### Pattern: `Optional Chaining` at line 248:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          // Add tangential component for orbit
          const axis = new THREE.Vector3(
            field.vortexAxis?.x ?? 0,
> field.vortexAxis?.y ?? 1,
            field.vortexAxis?.z ?? 0,
          ).normalize();
          const tangent = new THREE.Vector3()
```

---

#### Pattern: `Optional Chaining` at line 249:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          const axis = new THREE.Vector3(
            field.vortexAxis?.x ?? 0,
            field.vortexAxis?.y ?? 1,
> field.vortexAxis?.z ?? 0,
          ).normalize();
          const tangent = new THREE.Vector3()
            .crossVectors(axis, centripetal)
```

---

### `engine/particles/ParticleFrameCache.ts` (6 pattern(s))

#### Pattern: `isFinite()` at line 82:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      maxMemoryMB: number = DEFAULT_MAX_CACHE_MEMORY_MB,
    ) {
      // Validate maxParticles
> this.maxParticles = Number.isFinite(maxParticles) && maxParticles > 0
        ? Math.floor(maxParticles)
        : 10000;
      // Validate cacheInterval to prevent modulo by zero
```

---

#### Pattern: `: void` at line 136:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        number,
        { size: number; opacity: number; randomOffset: number }
      >, // Initial values for lifetime modulation (prevents exponential decay)
> ): void {
      // Don't cache if we've exceeded max size - remove oldest
      if (this.frameCache.size >= this.maxCacheSize) {
        const oldestFrame = Math.min(...this.frameCache.keys());
```

---

#### Pattern: `: void` at line 209:15

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear all cached frames
     */
> clearCache(): void {
      this.frameCache.clear();
      this.currentSimulatedFrame = -1;
    }
```

---

#### Pattern: `: void` at line 218:20

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Invalidate the cache by incrementing version
     * Called when particle parameters change (emitter config, force fields, etc.)
     */
> invalidateCache(): void {
      this.cacheVersion++;
      // Don't clear the map - old entries will be ignored due to version mismatch
      // This is more memory efficient for frequent invalidations
```

---

#### Pattern: `: void` at line 239:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set current simulated frame
     */
> setCurrentFrame(frame: number): void {
      this.currentSimulatedFrame = frame;
    }
  
```

---

#### Pattern: `: void` at line 261:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set the cache interval (how often to cache frames)
     */
> setCacheInterval(interval: number): void {
      this.cacheInterval = Math.max(1, interval);
    }
  
```

---

### `engine/particles/ParticleGPUPhysics.ts` (40 pattern(s))

#### Pattern: `isFinite()` at line 101:37

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    constructor(config: GPUPhysicsConfig) {
      // Validate maxParticles to prevent WebGL errors
> const safeMaxParticles = Number.isFinite(config.maxParticles) && config.maxParticles > 0
        ? Math.min(Math.floor(config.maxParticles), 10_000_000)  // Cap at 10M
        : 10000;  // Sensible default
      
```

---

#### Pattern: `: void` at line 182:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    private initializeTransformFeedback(
      particleBufferA: Float32Array,
      particleBufferB: Float32Array,
> ): void {
      if (!this.gl) return;
  
      const gl = this.gl;
```

---

#### Pattern: `: void` at line 283:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      gl: WebGL2RenderingContext,
      vao: WebGLVertexArrayObject,
      vbo: WebGLBuffer,
> ): void {
      gl.bindVertexArray(vao);
      gl.bindBuffer(gl.ARRAY_BUFFER, vbo);
  
```

---

#### Pattern: `isFinite()` at line 406:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      onDeath: DeathCallback,
    ): { currentBuffer: "A" | "B"; particleCount: number } {
      // Validate dt to prevent NaN/Infinity propagation to GPU
> const safeDt = Number.isFinite(dt) && dt >= 0 ? Math.min(dt, 1.0) : 0.016;  // Cap at 1s, default 60fps
      
      if (this.useWebGPU && this.webgpuCompute) {
        return this.updateWebGPU(
```

---

#### Pattern: `isFinite()` at line 464:21

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // Helper to sanitize values for WebGPU
      const safe = (val: number | undefined, fallback: number): number => {
        if (val === undefined) return fallback;
> return Number.isFinite(val) ? val : fallback;
      };
  
      for (const field of forceFields.values()) {
```

---

#### Pattern: `Optional Chaining` at line 486:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
                : 0,
          direction: [
            safe(
> field.direction?.x ?? field.vortexAxis?.x ?? field.windDirection?.x,
              0,
            ),
            safe(
```

---

#### Pattern: `Optional Chaining` at line 486:51

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
                : 0,
          direction: [
            safe(
> field.direction?.x ?? field.vortexAxis?.x ?? field.windDirection?.x,
              0,
            ),
            safe(
```

---

#### Pattern: `Optional Chaining` at line 486:77

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
                : 0,
          direction: [
            safe(
> field.direction?.x ?? field.vortexAxis?.x ?? field.windDirection?.x,
              0,
            ),
            safe(
```

---

#### Pattern: `Optional Chaining` at line 490:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              0,
            ),
            safe(
> field.direction?.y ?? field.vortexAxis?.y ?? field.windDirection?.y,
              0,
            ),
            safe(
```

---

#### Pattern: `Optional Chaining` at line 490:51

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              0,
            ),
            safe(
> field.direction?.y ?? field.vortexAxis?.y ?? field.windDirection?.y,
              0,
            ),
            safe(
```

---

#### Pattern: `Optional Chaining` at line 490:77

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              0,
            ),
            safe(
> field.direction?.y ?? field.vortexAxis?.y ?? field.windDirection?.y,
              0,
            ),
            safe(
```

---

#### Pattern: `Optional Chaining` at line 494:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              0,
            ),
            safe(
> field.direction?.z ?? field.vortexAxis?.z ?? field.windDirection?.z,
              0,
            ),
          ],
```

---

#### Pattern: `Optional Chaining` at line 494:51

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              0,
            ),
            safe(
> field.direction?.z ?? field.vortexAxis?.z ?? field.windDirection?.z,
              0,
            ),
          ],
```

---

#### Pattern: `Optional Chaining` at line 494:77

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              0,
            ),
            safe(
> field.direction?.z ?? field.vortexAxis?.z ?? field.windDirection?.z,
              0,
            ),
          ],
```

---

#### Pattern: `isFinite()` at line 506:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      this.webgpuCompute.uploadForceFields(forceFieldData);
  
      // Update simulation parameters (validate simulationTime)
> const safeSimTime = Number.isFinite(state.simulationTime) ? state.simulationTime : 0;
      this.webgpuCompute.updateParams(
        dt,
        safeSimTime,
```

---

#### Pattern: `isFinite()` at line 595:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      gl.uniform1f(dtLoc, dt);
      // Validate simulationTime
> const safeSimTime = Number.isFinite(state.simulationTime) ? state.simulationTime : 0;
      gl.uniform1f(timeLoc, safeSimTime);
      gl.uniform1i(ffCountLoc, Math.min(forceFields.size, MAX_FORCE_FIELDS));
  
```

---

#### Pattern: `Optional Chaining` at line 605:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const textureProps = this.renderer.properties.get(
          this.forceFieldTexture,
        ) as { __webglTexture?: WebGLTexture } | undefined;
> const tex = textureProps?.__webglTexture;
        if (tex) {
          gl.bindTexture(gl.TEXTURE_2D, tex);
          gl.uniform1i(ffTexLoc, 0);
```

---

#### Pattern: `: void` at line 666:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     */
    private updateForceFieldTexture(
      forceFields: Map<string, ForceFieldConfig>,
> ): void {
      if (!this.forceFieldBuffer || !this.forceFieldTexture) return;
  
      let fieldIndex = 0;
```

---

#### Pattern: `isFinite()` at line 677:55

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const baseOffset = fieldIndex * 16;
  
        // Helper to sanitize position values
> const safePos = (val: number): number => Number.isFinite(val) ? val : 0;
        const safePositive = (val: number, fallback: number): number => 
          Number.isFinite(val) && val >= 0 ? val : fallback;
  
```

---

#### Pattern: `isFinite()` at line 679:16

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        // Helper to sanitize position values
        const safePos = (val: number): number => Number.isFinite(val) ? val : 0;
        const safePositive = (val: number, fallback: number): number => 
> Number.isFinite(val) && val >= 0 ? val : fallback;
  
        // Row 0: position.xyz, type
        this.forceFieldBuffer[baseOffset + 0] = safePos(field.position.x);
```

---

#### Pattern: `isFinite()` at line 690:54

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        );
  
        // Row 1: strength, falloffStart, falloffEnd, falloffType
> this.forceFieldBuffer[baseOffset + 4] = Number.isFinite(field.strength) ? field.strength : 0;
        this.forceFieldBuffer[baseOffset + 5] = safePositive(field.falloffStart, 0);
        this.forceFieldBuffer[baseOffset + 6] = safePositive(field.falloffEnd, 100);
        this.forceFieldBuffer[baseOffset + 7] = getFalloffTypeIndex(
```

---

#### Pattern: `isFinite()` at line 700:23

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        // Helper to sanitize float values for GPU
        const safeFloat = (val: number | undefined, fallback: number): number => {
          if (val === undefined) return fallback;
> return Number.isFinite(val) ? val : fallback;
        };
  
        // Row 2: direction/axis.xyz, extra param
```

---

#### Pattern: `Optional Chaining` at line 710:75

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          this.forceFieldBuffer[baseOffset + 10] = safeFloat(field.lorenzBeta, 2.666667);
          this.forceFieldBuffer[baseOffset + 11] = 0;
        } else if (field.type === "orbit" || field.type === "path") {
> this.forceFieldBuffer[baseOffset + 8] = safeFloat(field.vortexAxis?.x, 0);
          this.forceFieldBuffer[baseOffset + 9] = safeFloat(field.vortexAxis?.y, 1);
          this.forceFieldBuffer[baseOffset + 10] = safeFloat(field.vortexAxis?.z, 0);
          this.forceFieldBuffer[baseOffset + 11] = safeFloat(field.pathRadius, 100);
```

---

#### Pattern: `Optional Chaining` at line 711:75

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          this.forceFieldBuffer[baseOffset + 11] = 0;
        } else if (field.type === "orbit" || field.type === "path") {
          this.forceFieldBuffer[baseOffset + 8] = safeFloat(field.vortexAxis?.x, 0);
> this.forceFieldBuffer[baseOffset + 9] = safeFloat(field.vortexAxis?.y, 1);
          this.forceFieldBuffer[baseOffset + 10] = safeFloat(field.vortexAxis?.z, 0);
          this.forceFieldBuffer[baseOffset + 11] = safeFloat(field.pathRadius, 100);
        } else {
```

---

#### Pattern: `Optional Chaining` at line 712:76

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        } else if (field.type === "orbit" || field.type === "path") {
          this.forceFieldBuffer[baseOffset + 8] = safeFloat(field.vortexAxis?.x, 0);
          this.forceFieldBuffer[baseOffset + 9] = safeFloat(field.vortexAxis?.y, 1);
> this.forceFieldBuffer[baseOffset + 10] = safeFloat(field.vortexAxis?.z, 0);
          this.forceFieldBuffer[baseOffset + 11] = safeFloat(field.pathRadius, 100);
        } else {
          this.forceFieldBuffer[baseOffset + 8] = safeFloat(
```

---

#### Pattern: `Optional Chaining` at line 716:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          this.forceFieldBuffer[baseOffset + 11] = safeFloat(field.pathRadius, 100);
        } else {
          this.forceFieldBuffer[baseOffset + 8] = safeFloat(
> field.direction?.x ?? field.vortexAxis?.x ?? field.windDirection?.x,
            0,
          );
          this.forceFieldBuffer[baseOffset + 9] = safeFloat(
```

---

#### Pattern: `Optional Chaining` at line 716:49

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          this.forceFieldBuffer[baseOffset + 11] = safeFloat(field.pathRadius, 100);
        } else {
          this.forceFieldBuffer[baseOffset + 8] = safeFloat(
> field.direction?.x ?? field.vortexAxis?.x ?? field.windDirection?.x,
            0,
          );
          this.forceFieldBuffer[baseOffset + 9] = safeFloat(
```

---

#### Pattern: `Optional Chaining` at line 716:75

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          this.forceFieldBuffer[baseOffset + 11] = safeFloat(field.pathRadius, 100);
        } else {
          this.forceFieldBuffer[baseOffset + 8] = safeFloat(
> field.direction?.x ?? field.vortexAxis?.x ?? field.windDirection?.x,
            0,
          );
          this.forceFieldBuffer[baseOffset + 9] = safeFloat(
```

---

#### Pattern: `Optional Chaining` at line 720:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            0,
          );
          this.forceFieldBuffer[baseOffset + 9] = safeFloat(
> field.direction?.y ?? field.vortexAxis?.y ?? field.windDirection?.y,
            0,
          );
          this.forceFieldBuffer[baseOffset + 10] = safeFloat(
```

---

#### Pattern: `Optional Chaining` at line 720:49

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            0,
          );
          this.forceFieldBuffer[baseOffset + 9] = safeFloat(
> field.direction?.y ?? field.vortexAxis?.y ?? field.windDirection?.y,
            0,
          );
          this.forceFieldBuffer[baseOffset + 10] = safeFloat(
```

---

#### Pattern: `Optional Chaining` at line 720:75

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            0,
          );
          this.forceFieldBuffer[baseOffset + 9] = safeFloat(
> field.direction?.y ?? field.vortexAxis?.y ?? field.windDirection?.y,
            0,
          );
          this.forceFieldBuffer[baseOffset + 10] = safeFloat(
```

---

#### Pattern: `Optional Chaining` at line 724:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            0,
          );
          this.forceFieldBuffer[baseOffset + 10] = safeFloat(
> field.direction?.z ?? field.vortexAxis?.z ?? field.windDirection?.z,
            0,
          );
          this.forceFieldBuffer[baseOffset + 11] = safeFloat(field.inwardForce, 0);
```

---

#### Pattern: `Optional Chaining` at line 724:49

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            0,
          );
          this.forceFieldBuffer[baseOffset + 10] = safeFloat(
> field.direction?.z ?? field.vortexAxis?.z ?? field.windDirection?.z,
            0,
          );
          this.forceFieldBuffer[baseOffset + 11] = safeFloat(field.inwardForce, 0);
```

---

#### Pattern: `Optional Chaining` at line 724:75

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            0,
          );
          this.forceFieldBuffer[baseOffset + 10] = safeFloat(
> field.direction?.z ?? field.vortexAxis?.z ?? field.windDirection?.z,
            0,
          );
          this.forceFieldBuffer[baseOffset + 11] = safeFloat(field.inwardForce, 0);
```

---

#### Pattern: `: void` at line 782:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Read particle data from GPU into CPU buffer
     */
> readParticleData(targetBuffer: Float32Array): void {
      if (!this.gl) return;
  
      const gl = this.gl;
```

---

#### Pattern: `: void` at line 816:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return this.currentBuffer;
    }
  
> setCurrentBuffer(buffer: "A" | "B"): void {
      this.currentBuffer = buffer;
    }
  
```

---

#### Pattern: `: void` at line 820:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.currentBuffer = buffer;
    }
  
> setEnabled(enabled: boolean): void {
      if (enabled && !this.gpuPhysicsInitialized && !this.webgpuInitialized) {
        console.warn("Cannot enable GPU physics - not initialized");
        return;
```

---

#### Pattern: `: void` at line 832:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // CLEANUP
    // ============================================================================
  
> cleanup(): void {
      if (!this.gl) return;
      const gl = this.gl;
  
```

---

#### Pattern: `Optional Chaining` at line 871:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        this.transformFeedbackB = null;
      }
  
> this.forceFieldTexture?.dispose();
      this.forceFieldTexture = null;
  
      // Cleanup WebGPU
```

---

#### Pattern: `: void` at line 885:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.useGPUPhysics = false;
    }
  
> dispose(): void {
      this.cleanup();
      this.gl = null;
      this.renderer = null;
```

---

### `engine/particles/ParticleGroupSystem.ts` (8 pattern(s))

#### Pattern: `isFinite()` at line 31:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    constructor(maxParticles: number) {
      // Validate maxParticles
> this.maxParticles = Number.isFinite(maxParticles) && maxParticles > 0
        ? Math.min(Math.floor(maxParticles), 10_000_000)
        : 10000;
  
```

---

#### Pattern: `: void` at line 58:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Add a new particle group
     */
> addGroup(config: ParticleGroupConfig): void {
      // Validate index
      const index = Math.max(0, Math.min(MAX_PARTICLE_GROUPS - 1, config.index));
  
```

---

#### Pattern: `: void` at line 81:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Remove a particle group
     */
> removeGroup(groupId: string): void {
      if (groupId === "default") {
        console.warn("ParticleGroupSystem: Cannot remove default group");
        return;
```

---

#### Pattern: `: void` at line 117:69

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update group configuration
     */
> updateGroup(groupId: string, config: Partial<ParticleGroupConfig>): void {
      const existing = this.groups.get(groupId);
      if (!existing) return;
  
```

---

#### Pattern: `: void` at line 131:59

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Assign a particle to a group
     */
> setParticleGroup(particleIndex: number, groupId: string): void {
      if (particleIndex < 0 || particleIndex >= this.maxParticles) return;
  
      const group = this.groups.get(groupId);
```

---

#### Pattern: `: void` at line 143:67

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Assign a particle to a group by index
     */
> setParticleGroupIndex(particleIndex: number, groupIndex: number): void {
      if (particleIndex < 0 || particleIndex >= this.maxParticles) return;
      if (groupIndex < 0 || groupIndex >= MAX_PARTICLE_GROUPS) return;
  
```

---

#### Pattern: `: void` at line 323:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Reset all particle group assignments to default
     */
> reset(): void {
      this.particleGroups.fill(0);
    }
  
```

---

#### Pattern: `: void` at line 330:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose resources
     */
> dispose(): void {
      this.groups.clear();
    }
  }
```

---

### `engine/particles/ParticleModulationCurves.ts` (9 pattern(s))

#### Pattern: `isFinite()` at line 60:30

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    constructor(rng: () => number, resolution: number = 256) {
      this.rng = rng;
      // Validate resolution
> this.resolution = Number.isFinite(resolution) && resolution >= 2
        ? Math.floor(resolution)
        : 256;
    }
```

---

#### Pattern: `: void` at line 68:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set the RNG function (for restoring deterministic state)
     */
> setRng(rng: () => number): void {
      this.rng = rng;
    }
  
```

---

#### Pattern: `isFinite()` at line 92:23

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      switch (curve.type) {
        case "constant":
          // Validate value
> return Number.isFinite(curve.value) ? curve.value : 1;
  
        case "linear": {
          // Validate start/end
```

---

#### Pattern: `isFinite()` at line 96:30

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
        case "linear": {
          // Validate start/end
> const start = Number.isFinite(curve.start) ? curve.start : 1;
          const end = Number.isFinite(curve.end) ? curve.end : 1;
          return start + (end - start) * t;
        }
```

---

#### Pattern: `isFinite()` at line 97:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        case "linear": {
          // Validate start/end
          const start = Number.isFinite(curve.start) ? curve.start : 1;
> const end = Number.isFinite(curve.end) ? curve.end : 1;
          return start + (end - start) * t;
        }
  
```

---

#### Pattern: `isFinite()` at line 146:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          // Use per-particle random offset for determinism (same particle = same random value)
          const randVal = randomOffset !== undefined ? randomOffset : this.rng();
          // Validate min/max
> const min = Number.isFinite(curve.min) ? curve.min : 0;
          const max = Number.isFinite(curve.max) ? curve.max : 1;
          return min + randVal * (max - min);
        }
```

---

#### Pattern: `isFinite()` at line 147:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          const randVal = randomOffset !== undefined ? randomOffset : this.rng();
          // Validate min/max
          const min = Number.isFinite(curve.min) ? curve.min : 0;
> const max = Number.isFinite(curve.max) ? curve.max : 1;
          return min + randVal * (max - min);
        }
  
```

---

#### Pattern: `: void` at line 233:72

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Sample a modulation curve into a float array
     */
> sampleCurve(curve: ModulationCurve | undefined, output: Float32Array): void {
      const len = output.length;
  
      if (!curve) {
```

---

#### Pattern: `: void` at line 294:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose modulation textures
     */
> disposeTextures(textures: ModulationTextures): void {
      textures.sizeOverLifetime.dispose();
      textures.opacityOverLifetime.dispose();
      textures.colorOverLifetime.dispose();
```

---

### `engine/particles/ParticleSPHSystem.ts` (9 pattern(s))

#### Pattern: `isFinite()` at line 122:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    constructor(maxParticles: number, config: Partial<SPHConfig> = {}) {
      // Validate maxParticles
> this.maxParticles = Number.isFinite(maxParticles) && maxParticles > 0
        ? Math.min(Math.floor(maxParticles), 500_000) // Lower cap for SPH (more expensive)
        : 10000;
  
```

---

#### Pattern: `: void` at line 152:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set the spatial hash grid for neighbor queries
     */
> setSpatialHash(hash: SpatialHashGrid): void {
      this.spatialHash = hash;
    }
  
```

---

#### Pattern: `: void` at line 159:51

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Main SPH simulation step
     */
> update(particleBuffer: Float32Array, dt: number): void {
      if (!this.spatialHash) {
        console.warn("SPH: No spatial hash set. Call setSpatialHash() first.");
        return;
```

---

#### Pattern: `isFinite()` at line 167:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      // Clamp time step for stability
      const safeDt = Math.min(
> Number.isFinite(dt) && dt > 0 ? dt : 0.016,
        this.config.maxTimeStep
      );
  
```

---

#### Pattern: `: void` at line 183:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Single SPH substep
     */
> private substep(buffer: Float32Array, dt: number): void {
      const h = this.config.smoothingRadius;
  
      // Step 1: Calculate density and pressure for all particles
```

---

#### Pattern: `: void` at line 199:66

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Compute density and pressure at each particle
     */
> private computeDensityPressure(buffer: Float32Array, h: number): void {
      if (!this.spatialHash) {
        throw new Error("SPH computeDensityPressure called without spatialHash");
      }
```

---

#### Pattern: `: void` at line 263:57

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Compute pressure, viscosity, and surface tension forces
     */
> private computeForces(buffer: Float32Array, h: number): void {
      if (!this.spatialHash) {
        throw new Error("SPH computeForces called without spatialHash");
      }
```

---

#### Pattern: `: void` at line 389:54

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Integrate velocities and positions
     */
> private integrate(buffer: Float32Array, dt: number): void {
      const gravity = this.config.gravity;
  
      for (let i = 0; i < this.maxParticles; i++) {
```

---

#### Pattern: `: void` at line 445:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update configuration
     */
> updateConfig(config: Partial<SPHConfig>): void {
      Object.assign(this.config, config);
    }
  
```

---

### `engine/particles/ParticleSpringSystem.ts` (37 pattern(s))

#### Pattern: `isFinite()` at line 85:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    constructor(maxParticles: number, config: Partial<SpringSystemConfig> = {}) {
      // Validate maxParticles
> this.maxParticles = Number.isFinite(maxParticles) && maxParticles > 0
        ? Math.min(Math.floor(maxParticles), 1_000_000)
        : 10000;
  
```

---

#### Pattern: `isFinite()` at line 91:38

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      // Validate and sanitize config values to prevent NaN propagation
      const safeFloat = (v: number | undefined, def: number, min: number, max: number) => {
> if (v === undefined || !Number.isFinite(v)) return def;
        return Math.max(min, Math.min(max, v));
      };
  
```

---

#### Pattern: `isFinite()` at line 97:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      const safeGravity = config.gravity;
      const gravity = safeGravity && 
> Number.isFinite(safeGravity.x) &&
        Number.isFinite(safeGravity.y) && 
        Number.isFinite(safeGravity.z)
          ? safeGravity
```

---

#### Pattern: `isFinite()` at line 98:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const safeGravity = config.gravity;
      const gravity = safeGravity && 
        Number.isFinite(safeGravity.x) && 
> Number.isFinite(safeGravity.y) &&
        Number.isFinite(safeGravity.z)
          ? safeGravity
          : { x: 0, y: -980, z: 0 };
```

---

#### Pattern: `isFinite()` at line 99:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const gravity = safeGravity && 
        Number.isFinite(safeGravity.x) && 
        Number.isFinite(safeGravity.y) && 
> Number.isFinite(safeGravity.z)
          ? safeGravity
          : { x: 0, y: -980, z: 0 };
  
```

---

#### Pattern: `: void` at line 121:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Initialize the system with particle buffer
     * Must be called before first update if using Verlet integration
     */
> initialize(particleBuffer: Float32Array): void {
      if (this.config.useVerlet) {
        // Store initial positions for Verlet integration
        this.prevPositions = new Float32Array(this.maxParticles * 3);
```

---

#### Pattern: `: void` at line 149:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      stiffness?: number,
      damping?: number,
      breakThreshold?: number
> ): void {
      // Validate indices
      if (particleA < 0 || particleA >= this.maxParticles ||
          particleB < 0 || particleB >= this.maxParticles ||
```

---

#### Pattern: `isFinite()` at line 158:35

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      }
  
      // Validate and sanitize spring parameters to prevent NaN
> const safeRestLength = Number.isFinite(restLength) && restLength > 0
        ? restLength : 10;
      const safeStiffness = Number.isFinite(stiffness) && stiffness !== undefined
        ? Math.max(0.001, Math.min(10000, stiffness))
```

---

#### Pattern: `isFinite()` at line 160:34

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // Validate and sanitize spring parameters to prevent NaN
      const safeRestLength = Number.isFinite(restLength) && restLength > 0 
        ? restLength : 10;
> const safeStiffness = Number.isFinite(stiffness) && stiffness !== undefined
        ? Math.max(0.001, Math.min(10000, stiffness))
        : this.config.globalStiffness;
      const safeDamping = Number.isFinite(damping) && damping !== undefined
```

---

#### Pattern: `isFinite()` at line 163:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const safeStiffness = Number.isFinite(stiffness) && stiffness !== undefined
        ? Math.max(0.001, Math.min(10000, stiffness))
        : this.config.globalStiffness;
> const safeDamping = Number.isFinite(damping) && damping !== undefined
        ? Math.max(0, Math.min(1000, damping))
        : this.config.globalDamping;
      const safeBreakThreshold = Number.isFinite(breakThreshold) && breakThreshold !== undefined
```

---

#### Pattern: `isFinite()` at line 166:39

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const safeDamping = Number.isFinite(damping) && damping !== undefined
        ? Math.max(0, Math.min(1000, damping))
        : this.config.globalDamping;
> const safeBreakThreshold = Number.isFinite(breakThreshold) && breakThreshold !== undefined
        ? Math.max(0, breakThreshold)
        : 0;
  
```

---

#### Pattern: `: void` at line 195:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      height: number,
      spacing: number,
      stiffness?: number
> ): void {
      const k = stiffness ?? this.config.globalStiffness;
      const diagLength = spacing * Math.SQRT2;
  
```

---

#### Pattern: `: void` at line 237:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      particleIndices: number[],
      spacing: number,
      stiffness?: number
> ): void {
      const k = stiffness ?? this.config.globalStiffness;
  
      for (let i = 0; i < particleIndices.length - 1; i++) {
```

---

#### Pattern: `: void` at line 255:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      depth: number,
      spacing: number,
      stiffness?: number
> ): void {
      const k = stiffness ?? this.config.globalStiffness;
  
      const getIdx = (x: number, y: number, z: number) =>
```

---

#### Pattern: `: void` at line 289:17

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Remove all springs
     */
> clearSprings(): void {
      this.springs = [];
      this.constraints = [];
    }
```

---

#### Pattern: `: void` at line 297:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Remove springs connected to a specific particle
     */
> removeParticleSprings(particleIndex: number): void {
      this.springs = this.springs.filter(
        s => s.particleA !== particleIndex && s.particleB !== particleIndex
      );
```

---

#### Pattern: `: void` at line 312:51

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * @param particleBuffer - The particle data buffer (modified in place)
     * @param dt - Delta time in seconds
     */
> update(particleBuffer: Float32Array, dt: number): void {
      if (!this.initialized && this.config.useVerlet) {
        this.initialize(particleBuffer);
      }
```

---

#### Pattern: `isFinite()` at line 318:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      }
  
      // Validate dt
> const safeDt = Number.isFinite(dt) && dt > 0 ? Math.min(dt, 0.1) : 0.016;
  
      if (this.config.useVerlet) {
        this.updateVerlet(particleBuffer, safeDt);
```

---

#### Pattern: `: void` at line 331:56

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Euler integration with spring forces
     * Simpler but less stable for stiff springs
     */
> private updateEuler(buffer: Float32Array, dt: number): void {
      const brokenSprings: number[] = [];
  
      for (let s = 0; s < this.springs.length; s++) {
```

---

#### Pattern: `isFinite()` at line 402:19

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const forceMag = Math.max(-MAX_FORCE, Math.min(MAX_FORCE, rawForceMag));
  
        // Skip if force is not finite
> if (!Number.isFinite(forceMag)) continue;
  
        // Apply forces (equal and opposite to both particles)
        const forceX = forceMag * nx;
```

---

#### Pattern: `isFinite()` at line 422:18

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const dvBz = (forceZ / massB) * dt;
  
        // Only apply if deltas are finite
> if (Number.isFinite(dvAx) && Number.isFinite(dvAy) && Number.isFinite(dvAz)) {
          buffer[offsetA + 3] += dvAx;
          buffer[offsetA + 4] += dvAy;
          buffer[offsetA + 5] += dvAz;
```

---

#### Pattern: `isFinite()` at line 422:43

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const dvBz = (forceZ / massB) * dt;
  
        // Only apply if deltas are finite
> if (Number.isFinite(dvAx) && Number.isFinite(dvAy) && Number.isFinite(dvAz)) {
          buffer[offsetA + 3] += dvAx;
          buffer[offsetA + 4] += dvAy;
          buffer[offsetA + 5] += dvAz;
```

---

#### Pattern: `isFinite()` at line 422:68

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const dvBz = (forceZ / massB) * dt;
  
        // Only apply if deltas are finite
> if (Number.isFinite(dvAx) && Number.isFinite(dvAy) && Number.isFinite(dvAz)) {
          buffer[offsetA + 3] += dvAx;
          buffer[offsetA + 4] += dvAy;
          buffer[offsetA + 5] += dvAz;
```

---

#### Pattern: `isFinite()` at line 428:18

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          buffer[offsetA + 5] += dvAz;
        }
  
> if (Number.isFinite(dvBx) && Number.isFinite(dvBy) && Number.isFinite(dvBz)) {
          buffer[offsetB + 3] -= dvBx;
          buffer[offsetB + 4] -= dvBy;
          buffer[offsetB + 5] -= dvBz;
```

---

#### Pattern: `isFinite()` at line 428:43

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          buffer[offsetA + 5] += dvAz;
        }
  
> if (Number.isFinite(dvBx) && Number.isFinite(dvBy) && Number.isFinite(dvBz)) {
          buffer[offsetB + 3] -= dvBx;
          buffer[offsetB + 4] -= dvBy;
          buffer[offsetB + 5] -= dvBz;
```

---

#### Pattern: `isFinite()` at line 428:68

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          buffer[offsetA + 5] += dvAz;
        }
  
> if (Number.isFinite(dvBx) && Number.isFinite(dvBy) && Number.isFinite(dvBz)) {
          buffer[offsetB + 3] -= dvBx;
          buffer[offsetB + 4] -= dvBy;
          buffer[offsetB + 5] -= dvBz;
```

---

#### Pattern: `isFinite()` at line 462:19

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        buffer[offset + 5] = Math.max(-MAX_VELOCITY, Math.min(MAX_VELOCITY, buffer[offset + 5]));
  
        // Skip if velocity is NaN
> if (!Number.isFinite(buffer[offset + 3])) buffer[offset + 3] = 0;
        if (!Number.isFinite(buffer[offset + 4])) buffer[offset + 4] = 0;
        if (!Number.isFinite(buffer[offset + 5])) buffer[offset + 5] = 0;
  
```

---

#### Pattern: `isFinite()` at line 463:19

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
        // Skip if velocity is NaN
        if (!Number.isFinite(buffer[offset + 3])) buffer[offset + 3] = 0;
> if (!Number.isFinite(buffer[offset + 4])) buffer[offset + 4] = 0;
        if (!Number.isFinite(buffer[offset + 5])) buffer[offset + 5] = 0;
  
        // Update position
```

---

#### Pattern: `isFinite()` at line 464:19

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        // Skip if velocity is NaN
        if (!Number.isFinite(buffer[offset + 3])) buffer[offset + 3] = 0;
        if (!Number.isFinite(buffer[offset + 4])) buffer[offset + 4] = 0;
> if (!Number.isFinite(buffer[offset + 5])) buffer[offset + 5] = 0;
  
        // Update position
        const newX = buffer[offset + 0] + buffer[offset + 3] * dt;
```

---

#### Pattern: `isFinite()` at line 472:18

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const newZ = buffer[offset + 2] + buffer[offset + 5] * dt;
  
        // Only apply if positions are finite
> if (Number.isFinite(newX)) buffer[offset + 0] = newX;
        if (Number.isFinite(newY)) buffer[offset + 1] = newY;
        if (Number.isFinite(newZ)) buffer[offset + 2] = newZ;
      }
```

---

#### Pattern: `isFinite()` at line 473:18

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
        // Only apply if positions are finite
        if (Number.isFinite(newX)) buffer[offset + 0] = newX;
> if (Number.isFinite(newY)) buffer[offset + 1] = newY;
        if (Number.isFinite(newZ)) buffer[offset + 2] = newZ;
      }
    }
```

---

#### Pattern: `isFinite()` at line 474:18

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        // Only apply if positions are finite
        if (Number.isFinite(newX)) buffer[offset + 0] = newX;
        if (Number.isFinite(newY)) buffer[offset + 1] = newY;
> if (Number.isFinite(newZ)) buffer[offset + 2] = newZ;
      }
    }
  
```

---

#### Pattern: `: void` at line 482:57

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Verlet integration with position-based constraints
     * More stable for stiff springs and cloth simulation
     */
> private updateVerlet(buffer: Float32Array, dt: number): void {
      if (!this.prevPositions) return;
  
      const gravity = this.config.gravity;
```

---

#### Pattern: `: void` at line 621:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Pin a particle in place (useful for cloth anchors)
     */
> pinParticle(particleIndex: number): void {
      this.pinnedParticles.add(particleIndex);
    }
  
```

---

#### Pattern: `: void` at line 628:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Unpin a particle
     */
> unpinParticle(particleIndex: number): void {
      this.pinnedParticles.delete(particleIndex);
    }
  
```

---

#### Pattern: `: void` at line 642:98

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Apply pin constraints (call after spring update)
     */
> applyPins(buffer: Float32Array, pinPositions: Map<number, { x: number; y: number; z: number }>): void {
      for (const [idx, pos] of pinPositions) {
        if (idx < 0 || idx >= this.maxParticles) continue;
  
```

---

#### Pattern: `: void` at line 675:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return this.springs;
    }
  
> updateConfig(config: Partial<SpringSystemConfig>): void {
      Object.assign(this.config, config);
    }
  
```

---

### `engine/particles/ParticleSubEmitter.ts` (25 pattern(s))

#### Pattern: `isFinite()` at line 43:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    constructor(maxParticles: number, rng: RNGFunction) {
      // Validate maxParticles for bounds checking
> this.maxParticles = Number.isFinite(maxParticles) && maxParticles > 0
        ? Math.floor(maxParticles)
        : 10000;
      this.rng = rng;
```

---

#### Pattern: `: void` at line 56:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Add a sub-emitter configuration
     */
> addSubEmitter(config: SubEmitterConfig): void {
      this.subEmitters.set(config.id, config);
    }
  
```

---

#### Pattern: `: void` at line 63:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Remove a sub-emitter
     */
> removeSubEmitter(id: string): void {
      this.subEmitters.delete(id);
    }
  
```

---

#### Pattern: `: void` at line 77:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set the emit callback
     */
> setEmitCallback(callback: EmitCallback): void {
      this.onEmit = callback;
    }
  
```

---

#### Pattern: `: void` at line 88:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Queue a death event for processing
     */
> queueDeathEvent(event: DeathEvent): void {
      this.pendingDeathEvents.push(event);
    }
  
```

---

#### Pattern: `isFinite()` at line 132:21

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          if (this.rng() > subEmitter.triggerProbability) continue;
  
          // Validate death.index bounds
> if (!Number.isFinite(death.index) || death.index < 0 || death.index >= this.maxParticles) {
            continue;
          }
  
```

---

#### Pattern: `isFinite()` at line 160:19

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
          // Spawn sub-particles (validate count to prevent infinite loop)
          const rawCount =
> (Number.isFinite(subEmitter.emitCount) ? subEmitter.emitCount : 10) +
            Math.floor((this.rng() - 0.5) * 2 * (Number.isFinite(subEmitter.emitCountVariance) ? subEmitter.emitCountVariance : 0));
          const count = Math.max(0, Math.min(rawCount, 1000));  // Cap at 1000 sub-particles
  
```

---

#### Pattern: `isFinite()` at line 161:55

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          // Spawn sub-particles (validate count to prevent infinite loop)
          const rawCount =
            (Number.isFinite(subEmitter.emitCount) ? subEmitter.emitCount : 10) +
> Math.floor((this.rng() - 0.5) * 2 * (Number.isFinite(subEmitter.emitCountVariance) ? subEmitter.emitCountVariance : 0));
          const count = Math.max(0, Math.min(rawCount, 1000));  // Cap at 1000 sub-particles
  
          for (let i = 0; i < count; i++) {
```

---

#### Pattern: `isFinite()` at line 179:33

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
            // Validate all config values
            const overrides = subEmitter.overrides;
            const rawSpeed = overrides.initialSpeed ?? 100;
> const speed = (Number.isFinite(rawSpeed) && rawSpeed >= 0) ? rawSpeed : 100;
            const rawSpread = overrides.emissionSpread ?? 180;
            const spread = Number.isFinite(rawSpread) ? Math.max(0, Math.min(360, rawSpread)) : 180;
  
```

---

#### Pattern: `isFinite()` at line 181:33

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
            const rawSpeed = overrides.initialSpeed ?? 100;
            const speed = (Number.isFinite(rawSpeed) && rawSpeed >= 0) ? rawSpeed : 100;
            const rawSpread = overrides.emissionSpread ?? 180;
> const spread = Number.isFinite(rawSpread) ? Math.max(0, Math.min(360, rawSpread)) : 180;
  
            // Random direction within spread cone (spherical for death = explosion)
            const theta = this.rng() * Math.PI * 2;
```

---

#### Pattern: `isFinite()` at line 193:37

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
            const newVelZ = Math.cos(phi) * speed;
  
            // Blend inherited velocity (validate inheritVelocity)
> const inheritVel = Number.isFinite(subEmitter.inheritVelocity)
              ? subEmitter.inheritVelocity : 0;
            particleBuffer[subOffset + 3] = newVelX + parentVel.x * inheritVel;
            particleBuffer[subOffset + 4] = newVelY + parentVel.y * inheritVel;
```

---

#### Pattern: `isFinite()` at line 202:36

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
            // Life (validate lifetime)
            particleBuffer[subOffset + 6] = 0; // age
            const rawLifetime = overrides.lifetime ?? 30;
> const lifetime = (Number.isFinite(rawLifetime) && rawLifetime > 0) ? rawLifetime : 30;
            particleBuffer[subOffset + 7] = lifetime;
  
            // Physical - validate mass and size to prevent division by zero
```

---

#### Pattern: `isFinite()` at line 208:36

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
            // Physical - validate mass and size to prevent division by zero
            // Must check Number.isFinite before using - Math.max(NaN, x) = NaN
            const rawMass = overrides.initialMass ?? 1;
> const safeMass = (Number.isFinite(rawMass) && rawMass > 0) ? rawMass : 1;
            particleBuffer[subOffset + 8] = safeMass; // mass
  
            const rawInitialSize = overrides.initialSize ?? 5;
```

---

#### Pattern: `isFinite()` at line 212:43

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
            particleBuffer[subOffset + 8] = safeMass; // mass
  
            const rawInitialSize = overrides.initialSize ?? 5;
> const safeInitialSize = (Number.isFinite(rawInitialSize) && rawInitialSize > 0) ? rawInitialSize : 5;
            const rawInheritSize = subEmitter.inheritSize ?? 0;
            const safeInheritSize = Number.isFinite(rawInheritSize) ? rawInheritSize : 0;
            const rawSize = safeInitialSize * (safeInheritSize > 0 ? parentSize * safeInheritSize : 1);
```

---

#### Pattern: `isFinite()` at line 214:42

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
            const rawInitialSize = overrides.initialSize ?? 5;
            const safeInitialSize = (Number.isFinite(rawInitialSize) && rawInitialSize > 0) ? rawInitialSize : 5;
            const rawInheritSize = subEmitter.inheritSize ?? 0;
> const safeInheritSize = Number.isFinite(rawInheritSize) ? rawInheritSize : 0;
            const rawSize = safeInitialSize * (safeInheritSize > 0 ? parentSize * safeInheritSize : 1);
            particleBuffer[subOffset + 9] = Number.isFinite(rawSize) ? Math.max(rawSize, 0.001) : 5; // size
  
```

---

#### Pattern: `isFinite()` at line 216:50

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
            const rawInheritSize = subEmitter.inheritSize ?? 0;
            const safeInheritSize = Number.isFinite(rawInheritSize) ? rawInheritSize : 0;
            const rawSize = safeInitialSize * (safeInheritSize > 0 ? parentSize * safeInheritSize : 1);
> particleBuffer[subOffset + 9] = Number.isFinite(rawSize) ? Math.max(rawSize, 0.001) : 5; // size
  
            // Rotation (validate inheritRotation)
            const rawInheritRot = subEmitter.inheritRotation ?? 0;
```

---

#### Pattern: `isFinite()` at line 220:37

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
            // Rotation (validate inheritRotation)
            const rawInheritRot = subEmitter.inheritRotation ?? 0;
> const inheritRot = Number.isFinite(rawInheritRot) ? rawInheritRot : 0;
            particleBuffer[subOffset + 10] =
              inheritRot > 0
                ? parentRotation * inheritRot
```

---

#### Pattern: `isFinite()` at line 226:33

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
                ? parentRotation * inheritRot
                : this.rng() * Math.PI * 2;
            const rawAngVel = overrides.initialAngularVelocity ?? 0;
> const angVel = Number.isFinite(rawAngVel) ? rawAngVel : 0;
            particleBuffer[subOffset + 11] = angVel;
  
            // Color inheritance (validate inheritColor and colorStart)
```

---

#### Pattern: `isFinite()` at line 232:20

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
            // Color inheritance (validate inheritColor and colorStart)
            const rawColorStart = overrides.colorStart ?? [1, 1, 1, 1];
            const colorStart: [number, number, number, number] = [
> Number.isFinite(rawColorStart[0]) ? rawColorStart[0] : 1,
              Number.isFinite(rawColorStart[1]) ? rawColorStart[1] : 1,
              Number.isFinite(rawColorStart[2]) ? rawColorStart[2] : 1,
              Number.isFinite(rawColorStart[3]) ? rawColorStart[3] : 1,
```

---

#### Pattern: `isFinite()` at line 233:20

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
            const rawColorStart = overrides.colorStart ?? [1, 1, 1, 1];
            const colorStart: [number, number, number, number] = [
              Number.isFinite(rawColorStart[0]) ? rawColorStart[0] : 1,
> Number.isFinite(rawColorStart[1]) ? rawColorStart[1] : 1,
              Number.isFinite(rawColorStart[2]) ? rawColorStart[2] : 1,
              Number.isFinite(rawColorStart[3]) ? rawColorStart[3] : 1,
            ];
```

---

#### Pattern: `isFinite()` at line 234:20

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
            const colorStart: [number, number, number, number] = [
              Number.isFinite(rawColorStart[0]) ? rawColorStart[0] : 1,
              Number.isFinite(rawColorStart[1]) ? rawColorStart[1] : 1,
> Number.isFinite(rawColorStart[2]) ? rawColorStart[2] : 1,
              Number.isFinite(rawColorStart[3]) ? rawColorStart[3] : 1,
            ];
            const rawInheritCol = subEmitter.inheritColor ?? 0;
```

---

#### Pattern: `isFinite()` at line 235:20

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
              Number.isFinite(rawColorStart[0]) ? rawColorStart[0] : 1,
              Number.isFinite(rawColorStart[1]) ? rawColorStart[1] : 1,
              Number.isFinite(rawColorStart[2]) ? rawColorStart[2] : 1,
> Number.isFinite(rawColorStart[3]) ? rawColorStart[3] : 1,
            ];
            const rawInheritCol = subEmitter.inheritColor ?? 0;
            const inheritCol = Number.isFinite(rawInheritCol) ? rawInheritCol : 0;
```

---

#### Pattern: `isFinite()` at line 238:37

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
              Number.isFinite(rawColorStart[3]) ? rawColorStart[3] : 1,
            ];
            const rawInheritCol = subEmitter.inheritColor ?? 0;
> const inheritCol = Number.isFinite(rawInheritCol) ? rawInheritCol : 0;
            if (inheritCol > 0) {
              particleBuffer[subOffset + 12] =
                parentColor[0] * inheritCol +
```

---

#### Pattern: `: void` at line 301:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Reset sub-emitter state
     */
> reset(): void {
      this.pendingDeathEvents = [];
    }
  
```

---

#### Pattern: `: void` at line 308:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear all sub-emitters
     */
> clear(): void {
      this.subEmitters.clear();
      this.pendingDeathEvents = [];
    }
```

---

### `engine/particles/ParticleTextureSystem.ts` (20 pattern(s))

#### Pattern: `: void` at line 60:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    setRenderTargets(
      material: THREE.ShaderMaterial | null,
      instancedGeometry: THREE.InstancedBufferGeometry | null,
> ): void {
      this.material = material;
      this.instancedGeometry = instancedGeometry;
    }
```

---

#### Pattern: `isFinite()` at line 104:36

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
              if (spriteSheet && (spriteSheet.columns || spriteSheet.rows)) {
                // Validate cols/rows - use ?? first to handle undefined, then validate
                const rawCols = spriteSheet.columns ?? 1;
> const cols = (Number.isFinite(rawCols) && rawCols > 0)
                  ? Math.floor(rawCols)
                  : 1;
                const rawRows = spriteSheet.rows ?? 1;
```

---

#### Pattern: `isFinite()` at line 108:36

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
                  ? Math.floor(rawCols)
                  : 1;
                const rawRows = spriteSheet.rows ?? 1;
> const rows = (Number.isFinite(rawRows) && rawRows > 0)
                  ? Math.floor(rawRows)
                  : 1;
                // Validate frameRate
```

---

#### Pattern: `isFinite()` at line 113:41

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
                  : 1;
                // Validate frameRate
                const rawFrameRate = spriteSheet.frameRate ?? 10;
> const frameRate = (Number.isFinite(rawFrameRate) && rawFrameRate > 0)
                  ? rawFrameRate
                  : 10;
  
```

---

#### Pattern: `: void` at line 184:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        | "triangle"
        | "shadedSphere"
        | "fadedSphere",
> ): void {
      const shapeMap: Record<string, number> = {
        none: 0,
        circle: 1,
```

---

#### Pattern: `: void` at line 213:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update time uniform for sprite animation
     */
> updateSpriteAnimation(time: number): void {
      if (this.material && this.spriteSheetConfig?.animate) {
        this.material.uniforms.time.value = time;
      }
```

---

#### Pattern: `Optional Chaining` at line 214:48

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Update time uniform for sprite animation
     */
    updateSpriteAnimation(time: number): void {
> if (this.material && this.spriteSheetConfig?.animate) {
        this.material.uniforms.time.value = time;
      }
    }
```

---

#### Pattern: `: void` at line 235:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        minStretch?: number;
        maxStretch?: number;
      },
> ): void {
      if (!this.material) return;
  
      this.material.uniforms.motionBlurEnabled.value = config.enabled ? 1 : 0;
```

---

#### Pattern: `isFinite()` at line 241:49

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      this.material.uniforms.motionBlurEnabled.value = config.enabled ? 1 : 0;
  
      // Validate motion blur values
> if (config.strength !== undefined && Number.isFinite(config.strength)) {
        this.material.uniforms.motionBlurStrength.value = Math.max(0, config.strength);
      }
      if (config.minStretch !== undefined && Number.isFinite(config.minStretch)) {
```

---

#### Pattern: `isFinite()` at line 244:51

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      if (config.strength !== undefined && Number.isFinite(config.strength)) {
        this.material.uniforms.motionBlurStrength.value = Math.max(0, config.strength);
      }
> if (config.minStretch !== undefined && Number.isFinite(config.minStretch)) {
        this.material.uniforms.minStretch.value = Math.max(0, config.minStretch);
      }
      if (config.maxStretch !== undefined && Number.isFinite(config.maxStretch)) {
```

---

#### Pattern: `isFinite()` at line 247:51

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      if (config.minStretch !== undefined && Number.isFinite(config.minStretch)) {
        this.material.uniforms.minStretch.value = Math.max(0, config.minStretch);
      }
> if (config.maxStretch !== undefined && Number.isFinite(config.maxStretch)) {
        this.material.uniforms.maxStretch.value = Math.max(0, config.maxStretch);
      }
  
```

---

#### Pattern: `: void` at line 272:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Initialize glow effect rendering
     * Creates a separate mesh that renders an expanded soft glow behind particles
     */
> initializeGlow(config: GlowConfig): void {
      this.glowConfig = config;
  
      if (!config.enabled || !this.instancedGeometry) return;
```

---

#### Pattern: `isFinite()` at line 278:31

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      if (!config.enabled || !this.instancedGeometry) return;
  
      // Validate glow config
> const safeRadius = Number.isFinite(config.radius) && config.radius > 0 ? config.radius : 10;
      const safeIntensity = Number.isFinite(config.intensity) && config.intensity >= 0 ? config.intensity : 0.5;
      
      // Create glow material with custom shaders
```

---

#### Pattern: `isFinite()` at line 279:34

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      // Validate glow config
      const safeRadius = Number.isFinite(config.radius) && config.radius > 0 ? config.radius : 10;
> const safeIntensity = Number.isFinite(config.intensity) && config.intensity >= 0 ? config.intensity : 0.5;
      
      // Create glow material with custom shaders
      this.glowMaterial = new THREE.ShaderMaterial({
```

---

#### Pattern: `: void` at line 308:5

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      enabled?: boolean;
      radius?: number;
      intensity?: number;
> }): void {
      if (!this.glowConfig) {
        this.glowConfig = { enabled: false, radius: 10, intensity: 0.5 };
      }
```

---

#### Pattern: `isFinite()` at line 322:49

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      if (this.glowMaterial) {
        // Validate glow values
> if (config.radius !== undefined && Number.isFinite(config.radius)) {
          const safeRadius = Math.max(0, config.radius);
          this.glowMaterial.uniforms.glowRadius.value = safeRadius / 10;
          this.glowConfig.radius = safeRadius;
```

---

#### Pattern: `isFinite()` at line 327:52

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          this.glowMaterial.uniforms.glowRadius.value = safeRadius / 10;
          this.glowConfig.radius = safeRadius;
        }
> if (config.intensity !== undefined && Number.isFinite(config.intensity)) {
          const safeIntensity = Math.max(0, config.intensity);
          this.glowMaterial.uniforms.glowIntensity.value = safeIntensity;
          this.glowConfig.intensity = safeIntensity;
```

---

#### Pattern: `: void` at line 356:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose all texture resources
     */
> dispose(): void {
      this.particleTexture?.dispose();
      this.particleTexture = null;
      this.spriteSheetConfig = null;
```

---

#### Pattern: `Optional Chaining` at line 357:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Dispose all texture resources
     */
    dispose(): void {
> this.particleTexture?.dispose();
      this.particleTexture = null;
      this.spriteSheetConfig = null;
  
```

---

#### Pattern: `Optional Chaining` at line 361:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.particleTexture = null;
      this.spriteSheetConfig = null;
  
> this.glowMaterial?.dispose();
      this.glowMaterial = null;
      this.glowMesh = null;
      this.glowConfig = null;
```

---

### `engine/particles/ParticleTrailSystem.ts` (9 pattern(s))

#### Pattern: `isFinite()` at line 53:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      blendingConfig: TrailBlendingConfig,
    ) {
      // Validate maxParticles to prevent infinite loop/memory exhaustion
> this.maxParticles = Number.isFinite(maxParticles) && maxParticles > 0
        ? Math.min(Math.floor(maxParticles), 1_000_000)  // Cap lower for trails (memory intensive)
        : 10000;
      this.config = config;
```

---

#### Pattern: `: void` at line 67:15

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Initialize trail rendering resources
     */
> initialize(): void {
      // Validate trailLength
      const rawTrailLength = Number.isFinite(this.config.trailLength) && this.config.trailLength > 0
        ? this.config.trailLength
```

---

#### Pattern: `isFinite()` at line 69:35

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    initialize(): void {
      // Validate trailLength
> const rawTrailLength = Number.isFinite(this.config.trailLength) && this.config.trailLength > 0
        ? this.config.trailLength
        : 8;  // Default trail length
      const trailLength = Math.min(rawTrailLength, this.TRAIL_POSITIONS_PER_PARTICLE);
```

---

#### Pattern: `: void` at line 126:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Update trail positions for all particles
     * @param particleBuffer - The current particle data buffer
     */
> update(particleBuffer: Float32Array): void {
      if (!this.trailBuffer || !this.trailGeometry) return;
  
      // Validate trailLength (same validation as initialize)
```

---

#### Pattern: `isFinite()` at line 130:35

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      if (!this.trailBuffer || !this.trailGeometry) return;
  
      // Validate trailLength (same validation as initialize)
> const rawTrailLength = Number.isFinite(this.config.trailLength) && this.config.trailLength > 0
        ? this.config.trailLength
        : 8;
      const trailLength = Math.min(rawTrailLength, this.TRAIL_POSITIONS_PER_PARTICLE);
```

---

#### Pattern: `isFinite()` at line 214:35

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          if (fadeMode === "alpha" || fadeMode === "both") {
            // Interpolate from 1.0 (start) to trailWidthEnd (end)
            // Validate trailWidthEnd
> const endAlpha = Number.isFinite(this.config.trailWidthEnd)
              ? Math.max(0, Math.min(1, this.config.trailWidthEnd))  // Clamp to [0, 1]
              : 0;  // Default: full fade
            alpha1 *= 1 - t1Ratio * (1 - endAlpha);
```

---

#### Pattern: `: void` at line 271:45

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update trail configuration
     */
> updateConfig(config: Partial<TrailConfig>): void {
      Object.assign(this.config, config);
    }
  
```

---

#### Pattern: `: void` at line 282:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Reset trail history (e.g., when scrubbing)
     */
> reset(): void {
      if (this.trailBuffer) {
        this.trailBuffer.fill(0);
      }
```

---

#### Pattern: `: void` at line 294:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose of all resources
     */
> dispose(): void {
      if (this.trailGeometry) {
        this.trailGeometry.dispose();
        this.trailGeometry = null;
```

---

### `engine/particles/SpatialHashGrid.ts` (13 pattern(s))

#### Pattern: `isFinite()` at line 43:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    constructor(config: SpatialHashConfig) {
      // Validate maxParticles to prevent infinite loop
> this.maxParticles = Number.isFinite(config.maxParticles) && config.maxParticles > 0
        ? Math.min(Math.floor(config.maxParticles), 10_000_000)
        : 10000;
      // Validate cellSize to prevent division by zero (NaN check required - Math.max(1, NaN) = NaN)
```

---

#### Pattern: `isFinite()` at line 47:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        ? Math.min(Math.floor(config.maxParticles), 10_000_000)
        : 10000;
      // Validate cellSize to prevent division by zero (NaN check required - Math.max(1, NaN) = NaN)
> this.cellSize = Number.isFinite(config.cellSize) && config.cellSize > 0
        ? config.cellSize
        : 1;
    }
```

---

#### Pattern: `: void` at line 61:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Call this ONCE per frame before any neighbor queries
     * @param particleBuffer - The current particle data buffer
     */
> rebuild(particleBuffer: Float32Array): void {
      this.cells.clear();
      this.particleCells.clear();
  
```

---

#### Pattern: `isFinite()` at line 78:19

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const pz = particleBuffer[offset + 2];
  
        // Skip particles with invalid positions (NaN/Infinity)
> if (!Number.isFinite(px) || !Number.isFinite(py) || !Number.isFinite(pz)) {
          continue;
        }
  
```

---

#### Pattern: `isFinite()` at line 78:43

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const pz = particleBuffer[offset + 2];
  
        // Skip particles with invalid positions (NaN/Infinity)
> if (!Number.isFinite(px) || !Number.isFinite(py) || !Number.isFinite(pz)) {
          continue;
        }
  
```

---

#### Pattern: `isFinite()` at line 78:67

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const pz = particleBuffer[offset + 2];
  
        // Skip particles with invalid positions (NaN/Infinity)
> if (!Number.isFinite(px) || !Number.isFinite(py) || !Number.isFinite(pz)) {
          continue;
        }
  
```

---

#### Pattern: `Optional Chaining` at line 90:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!this.cells.has(key)) {
          this.cells.set(key, []);
        }
> this.cells.get(key)?.push(i);
        this.particleCells.set(i, key);
      }
    }
```

---

#### Pattern: `isFinite()` at line 115:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    *getNeighbors(px: number, py: number, pz: number): Generator<number> {
      // Guard against NaN/Infinity positions causing infinite loops
> if (!Number.isFinite(px) || !Number.isFinite(py) || !Number.isFinite(pz)) {
        return;
      }
  
```

---

#### Pattern: `isFinite()` at line 115:41

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    *getNeighbors(px: number, py: number, pz: number): Generator<number> {
      // Guard against NaN/Infinity positions causing infinite loops
> if (!Number.isFinite(px) || !Number.isFinite(py) || !Number.isFinite(pz)) {
        return;
      }
  
```

---

#### Pattern: `isFinite()` at line 115:65

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    *getNeighbors(px: number, py: number, pz: number): Generator<number> {
      // Guard against NaN/Infinity positions causing infinite loops
> if (!Number.isFinite(px) || !Number.isFinite(py) || !Number.isFinite(pz)) {
        return;
      }
  
```

---

#### Pattern: `: void` at line 202:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update cell size (requires rebuild)
     */
> setCellSize(size: number): void {
      // NaN check required - Math.max(1, NaN) = NaN
      this.cellSize = Number.isFinite(size) && size > 0 ? size : 1;
    }
```

---

#### Pattern: `isFinite()` at line 204:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    setCellSize(size: number): void {
      // NaN check required - Math.max(1, NaN) = NaN
> this.cellSize = Number.isFinite(size) && size > 0 ? size : 1;
    }
  
    /**
```

---

#### Pattern: `: void` at line 258:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear all data
     */
> clear(): void {
      this.cells.clear();
      this.particleCells.clear();
    }
```

---

### `engine/particles/webgpuParticleCompute.ts` (18 pattern(s))

#### Pattern: `isFinite()` at line 421:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      this.device = device;
      // Validate config
      this.config = {
> maxParticles: Number.isFinite(config.maxParticles) && config.maxParticles > 0
          ? Math.floor(config.maxParticles)
          : 10000,
        bounds: config.bounds,
```

---

#### Pattern: `isFinite()` at line 425:23

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          ? Math.floor(config.maxParticles)
          : 10000,
        bounds: config.bounds,
> damping: Number.isFinite(config.damping) ? Math.max(0, Math.min(1, config.damping)) : 0.99,
        noiseScale: Number.isFinite(config.noiseScale) ? Math.max(0, config.noiseScale) : 1,
        noiseSpeed: Number.isFinite(config.noiseSpeed) ? Math.max(0, config.noiseSpeed) : 1,
      };
```

---

#### Pattern: `isFinite()` at line 426:26

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          : 10000,
        bounds: config.bounds,
        damping: Number.isFinite(config.damping) ? Math.max(0, Math.min(1, config.damping)) : 0.99,
> noiseScale: Number.isFinite(config.noiseScale) ? Math.max(0, config.noiseScale) : 1,
        noiseSpeed: Number.isFinite(config.noiseSpeed) ? Math.max(0, config.noiseSpeed) : 1,
      };
    }
```

---

#### Pattern: `isFinite()` at line 427:26

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        bounds: config.bounds,
        damping: Number.isFinite(config.damping) ? Math.max(0, Math.min(1, config.damping)) : 0.99,
        noiseScale: Number.isFinite(config.noiseScale) ? Math.max(0, config.noiseScale) : 1,
> noiseSpeed: Number.isFinite(config.noiseSpeed) ? Math.max(0, config.noiseSpeed) : 1,
      };
    }
  
```

---

#### Pattern: `: void` at line 493:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      time: number,
      particleCount: number,
      forceFieldCount: number,
> ): void {
      if (!this.paramsBuffer) return;
  
      // Validate inputs
```

---

#### Pattern: `isFinite()` at line 497:34

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      if (!this.paramsBuffer) return;
  
      // Validate inputs
> const safeDeltaTime = Number.isFinite(deltaTime) && deltaTime >= 0 ? deltaTime : 0;
      const safeTime = Number.isFinite(time) ? time : 0;
      const safeParticleCount = Number.isFinite(particleCount) && particleCount >= 0
        ? Math.floor(particleCount)
```

---

#### Pattern: `isFinite()` at line 498:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      // Validate inputs
      const safeDeltaTime = Number.isFinite(deltaTime) && deltaTime >= 0 ? deltaTime : 0;
> const safeTime = Number.isFinite(time) ? time : 0;
      const safeParticleCount = Number.isFinite(particleCount) && particleCount >= 0
        ? Math.floor(particleCount)
        : 0;
```

---

#### Pattern: `isFinite()` at line 499:38

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // Validate inputs
      const safeDeltaTime = Number.isFinite(deltaTime) && deltaTime >= 0 ? deltaTime : 0;
      const safeTime = Number.isFinite(time) ? time : 0;
> const safeParticleCount = Number.isFinite(particleCount) && particleCount >= 0
        ? Math.floor(particleCount)
        : 0;
      const safeForceFieldCount = Number.isFinite(forceFieldCount) && forceFieldCount >= 0
```

---

#### Pattern: `isFinite()` at line 502:40

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const safeParticleCount = Number.isFinite(particleCount) && particleCount >= 0
        ? Math.floor(particleCount)
        : 0;
> const safeForceFieldCount = Number.isFinite(forceFieldCount) && forceFieldCount >= 0
        ? Math.min(Math.floor(forceFieldCount), 16)
        : 0;
  
```

---

#### Pattern: `: void` at line 531:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Upload particle data to GPU
     */
> uploadParticles(data: Float32Array): void {
      const gpuBuffer =
        this.pingPong === 0 ? this.particleBufferA : this.particleBufferB;
      if (gpuBuffer) {
```

---

#### Pattern: `: void` at line 558:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        falloff: number;
        direction: [number, number, number];
      }>,
> ): void {
      if (!this.forceFieldBuffer) return;
  
      const buffer = new ArrayBuffer(16 * 12 * 4); // 16 fields * 12 floats * 4 bytes
```

---

#### Pattern: `: void` at line 587:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Execute physics simulation step
     */
> step(particleCount: number): void {
      if (
        !this.pipeline ||
        !this.particleBufferA ||
```

---

#### Pattern: `isFinite()` at line 599:38

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      }
  
      // Validate particleCount
> const safeParticleCount = Number.isFinite(particleCount) && particleCount > 0
        ? Math.floor(particleCount)
        : 0;
      if (safeParticleCount === 0) return;
```

---

#### Pattern: `: void` at line 675:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose of GPU resources
     */
> dispose(): void {
      this.particleBufferA?.destroy();
      this.particleBufferB?.destroy();
      this.paramsBuffer?.destroy();
```

---

#### Pattern: `Optional Chaining` at line 676:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Dispose of GPU resources
     */
    dispose(): void {
> this.particleBufferA?.destroy();
      this.particleBufferB?.destroy();
      this.paramsBuffer?.destroy();
      this.forceFieldBuffer?.destroy();
```

---

#### Pattern: `Optional Chaining` at line 677:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     */
    dispose(): void {
      this.particleBufferA?.destroy();
> this.particleBufferB?.destroy();
      this.paramsBuffer?.destroy();
      this.forceFieldBuffer?.destroy();
  
```

---

#### Pattern: `Optional Chaining` at line 678:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    dispose(): void {
      this.particleBufferA?.destroy();
      this.particleBufferB?.destroy();
> this.paramsBuffer?.destroy();
      this.forceFieldBuffer?.destroy();
  
      this.particleBufferA = null;
```

---

#### Pattern: `Optional Chaining` at line 679:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.particleBufferA?.destroy();
      this.particleBufferB?.destroy();
      this.paramsBuffer?.destroy();
> this.forceFieldBuffer?.destroy();
  
      this.particleBufferA = null;
      this.particleBufferB = null;
```

---

### `engine/utils/PerformanceMonitor.ts` (3 pattern(s))

#### Pattern: `: void` at line 49:15

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Call at the beginning of each frame
     */
> beginFrame(): void {
      this.frameStartTime = performance.now();
    }
  
```

---

#### Pattern: `Optional Chaining` at line 83:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Get memory usage (Chrome only)
      const memory = (performance as any).memory;
> const memoryUsed = memory?.usedJSHeapSize ?? 0;
  
      // Calculate average frame time
      const avgFrameTime =
```

---

#### Pattern: `: void` at line 158:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Reset all statistics
     */
> reset(): void {
      this.frameCount = 0;
      this.frameTimes = [];
      this.fps = 0;
```

---

### `engine/utils/colormapShader.ts` (2 pattern(s))

#### Pattern: `: void` at line 130:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function updateColormapUniform(
    material: THREE.ShaderMaterial,
    colormap: "viridis" | "plasma" | "grayscale",
> ): void {
    material.uniforms.colormap.value = getColormapIndex(colormap);
  }
  
```

---

#### Pattern: `: void` at line 140:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function updateOpacityUniform(
    material: THREE.ShaderMaterial,
    opacity: number,
> ): void {
    material.uniforms.opacity.value = opacity;
  }
  
```

---

### `main.ts` (5 pattern(s))

#### Pattern: `: void` at line 58:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Initialize effects exactly once for the lifetime of the extension.
   */
> function initializeEffectsOnce(): void {
    if (effectsInitialized) return;
    initializeEffects();
    effectsInitialized = true;
```

---

#### Pattern: `: void` at line 68:23

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * Setup frontend â†” ComfyUI bridge.
   * Idempotent and fully reversible.
   */
> function setupBridge(): void {
    if (bridgeHandler) return;
  
    bridgeHandler = ((e: CustomEvent) => {
```

---

#### Pattern: `: void` at line 80:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    window.addEventListener("lattice:inputs-ready", bridgeHandler);
  }
  
> function teardownBridge(): void {
    if (!bridgeHandler) return;
    window.removeEventListener("lattice:inputs-ready", bridgeHandler);
    bridgeHandler = null;
```

---

#### Pattern: `: void` at line 133:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Fully tear down the Vue application and all side effects.
   */
> export function unmountApp(): void {
    if (!appInstance) return;
  
    try {
```

---

#### Pattern: `Optional Chaining` at line 163:14

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    preview: string,
  ): Promise<boolean> {
    const bridge = window.LatticeCompositor;
> if (!bridge?.sendOutput) {
      console.warn("[Lattice] sendToComfyUI called before backend bridge ready");
      return false;
    }
```

---

### `services/ai/AICompositorAgent.ts` (8 pattern(s))

#### Pattern: `: void` at line 183:65

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * SECURITY: If no callback is set and requireConfirmationForBackendTools is true,
     * high-risk tools will be blocked.
     */
> setConfirmationCallback(callback: ConfirmationCallback | null): void {
      this.confirmationCallback = callback;
      console.log(
        "[SECURITY] Confirmation callback",
```

---

#### Pattern: `: void` at line 262:11

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Cancel the current operation
     */
> cancel(): void {
      if (this.abortController) {
        this.abortController.abort();
      }
```

---

#### Pattern: `: void` at line 271:17

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear conversation history
     */
> clearHistory(): void {
      this.state.messages = [];
    }
  
```

---

#### Pattern: `: void` at line 293:41

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // PRIVATE METHODS
    // ==========================================================================
  
> private addMessage(message: AIMessage): void {
      this.state.messages.push(message);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 343:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      ];
  
      while (this.state.iterationCount < this.config.maxIterations) {
> if (this.abortController?.signal.aborted) {
          throw new Error("Operation cancelled");
        }
  
```

---

#### Pattern: `Optional Chaining` at line 400:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          max_tokens: this.config.maxTokens,
          temperature: this.config.temperature,
        }),
> signal: this.abortController?.signal,
      });
  
      const result = await response.json();
```

---

#### Pattern: `Optional Chaining` at line 470:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
                `[SECURITY] Insufficient GPU memory for ${call.name}. ` +
                `Required: ~${Math.round(highRiskInfo.vramEstimateMB / 1000)}GB, ` +
                `Available: ~${Math.round(memSummary.available / 1000)}GB. ` +
> `${memCheck.warning?.suggestions.join(" ") || ""}`;
              console.warn(errorMsg);
              await logToolResult(call.name, false, errorMsg);
              results.push({
```

---

#### Pattern: `: void` at line 581:27

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * SECURITY: Call this when user explicitly wants to continue
     * after rate limit warning, or when starting a new logical session.
     */
> resetBackendCallLimits(): void {
      this.state.backendCallCount = 0;
      this.state.backendCallsThisSession = [];
      console.log("[SECURITY] Backend call limits reset");
```

---

### `services/ai/actionExecutor.ts` (19 pattern(s))

#### Pattern: `Optional Chaining` at line 681:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    for (const propPath of propertiesToScale) {
      const property = findPropertyByPath(layer, propPath);
> if (property?.keyframes && property.keyframes.length > 0) {
        // Scale each keyframe's frame number
        for (const kf of property.keyframes) {
          kf.frame = Math.round(kf.frame * scaleFactor);
```

---

#### Pattern: `Optional Chaining` at line 788:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    // Get the newly added effect (last in array)
    const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
> const effect = layer?.effects?.[layer.effects.length - 1];
  
    if (!effect) {
      return { effectId: null, message: `Failed to add effect ${effectType}` };
```

---

#### Pattern: `Optional Chaining` at line 788:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    // Get the newly added effect (last in array)
    const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
> const effect = layer?.effects?.[layer.effects.length - 1];
  
    if (!effect) {
      return { effectId: null, message: `Failed to add effect ${effectType}` };
```

---

#### Pattern: `Optional Chaining` at line 821:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const { layerId, effectId, params } = args;
  
    const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
> if (!layer?.effects) {
      return {
        success: false,
        message: `Layer ${layerId} not found or has no effects`,
```

---

#### Pattern: `Optional Chaining` at line 883:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const particleData = layer.data as ParticleLayerData;
  
    // Update emitter configuration
> if (emitter && particleData.emitters?.[0]) {
      Object.assign(particleData.emitters[0], emitter);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 888:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    // Update particle settings
> if (particles && particleData.emitters?.[0]) {
      Object.assign(particleData.emitters[0], particles);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 952:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    const comp = store.getActiveComp();
> const compSettings = comp?.settings || {
      width: 1920,
      height: 1080,
      frameCount: 81,
```

---

#### Pattern: `Optional Chaining` at line 1018:7

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        .filter((kf) => kf.pointOfInterest !== undefined)
        .map((kf) => ({ frame: kf.frame, pointOfInterest: kf.pointOfInterest! })),
      zoom: keyframes.zoom
> ?.filter((kf) => kf.zoom !== undefined)
        .map((kf) => ({ frame: kf.frame, zoom: kf.zoom! })),
    };
  
```

---

#### Pattern: `Optional Chaining` at line 1038:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const totalKeyframes =
      keyframes.position.length +
      keyframes.pointOfInterest.length +
> (keyframes.zoom?.length || 0);
  
    return {
      success: true,
```

---

#### Pattern: `Optional Chaining` at line 1073:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    const comp = store.getActiveComp();
> const compDuration = comp?.settings.frameCount || 81;
  
    // Build shake config
    const shakeConfig: Partial<CameraShakeConfig> = {
```

---

#### Pattern: `Optional Chaining` at line 1486:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const { frame } = args;
  
    const comp = store.getActiveComp();
> const frameCount = comp?.settings.frameCount || 81;
    const clampedFrame = Math.max(0, Math.min(frame, frameCount - 1));
  
    const animStore = animationStore || useAnimationStore();
```

---

#### Pattern: `Optional Chaining` at line 1554:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      throw new Error(`Source layer is not an image layer`);
    }
    const imageData = sourceLayer.data as ImageLayerData;
> const sourceUrl = imageData?.assetId;
    if (!sourceUrl) {
      throw new Error(`Source layer has no image source`);
    }
```

---

#### Pattern: `Optional Chaining` at line 1650:62

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const layerData = sourceLayer.data;
    let imageDataUrl: string;
  
> if (isLayerOfType(sourceLayer, "image") && sourceLayer.data?.assetId) {
      const asset = store.project?.assets[sourceLayer.data.assetId];
      if (!asset?.data) throw new Error("Asset data not found");
      imageDataUrl = asset.data;
```

---

#### Pattern: `Optional Chaining` at line 1651:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    let imageDataUrl: string;
  
    if (isLayerOfType(sourceLayer, "image") && sourceLayer.data?.assetId) {
> const asset = store.project?.assets[sourceLayer.data.assetId];
      if (!asset?.data) throw new Error("Asset data not found");
      imageDataUrl = asset.data;
    } else if (layerData && "assetId" in layerData && layerData.assetId) {
```

---

#### Pattern: `Optional Chaining` at line 1652:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    if (isLayerOfType(sourceLayer, "image") && sourceLayer.data?.assetId) {
      const asset = store.project?.assets[sourceLayer.data.assetId];
> if (!asset?.data) throw new Error("Asset data not found");
      imageDataUrl = asset.data;
    } else if (layerData && "assetId" in layerData && layerData.assetId) {
      const asset = store.project?.assets[layerData.assetId as string];
```

---

#### Pattern: `Optional Chaining` at line 1655:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      if (!asset?.data) throw new Error("Asset data not found");
      imageDataUrl = asset.data;
    } else if (layerData && "assetId" in layerData && layerData.assetId) {
> const asset = store.project?.assets[layerData.assetId as string];
      if (!asset?.data) throw new Error("Asset data not found");
      imageDataUrl = asset.data;
    } else {
```

---

#### Pattern: `Optional Chaining` at line 1656:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      imageDataUrl = asset.data;
    } else if (layerData && "assetId" in layerData && layerData.assetId) {
      const asset = store.project?.assets[layerData.assetId as string];
> if (!asset?.data) throw new Error("Asset data not found");
      imageDataUrl = asset.data;
    } else {
      throw new Error("Source layer has no image source");
```

---

#### Pattern: `Optional Chaining` at line 1821:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          anchorPoint: layer.transform.origin || layer.transform.anchorPoint,
        },
        opacity: layer.opacity,
> effects: layer.effects?.map((e) => ({
          id: e.id,
          effectKey: e.effectKey,
          name: e.name,
```

---

#### Pattern: `: void` at line 1902:65

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
  /**
   * Set a nested property value using dot notation path
   */
> function setNestedProperty(obj: any, path: string[], value: any): void {
    let current = obj;
    for (let i = 0; i < path.length - 1; i++) {
      if (!(path[i] in current)) {
```

---

### `services/ai/cameraTrackingAI.ts` (5 pattern(s))

#### Pattern: `Optional Chaining` at line 233:54

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    return {
      segments,
      summary: String(data.summary || "No motion detected"),
> suggestedPreset: MOTION_TO_TRAJECTORY[segments[0]?.motion || "unknown"],
    };
  }
  
```

---

#### Pattern: `Optional Chaining` at line 389:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        ? data.point_cloud.points.map((p, i) => ({
            id: `pt_${i}`,
            position: { x: p[0], y: p[1], z: p[2] },
> color: data.point_cloud?.colors?.[i]
              ? {
                  r: Math.round(data.point_cloud.colors[i][0] * 255),
                  g: Math.round(data.point_cloud.colors[i][1] * 255),
```

---

#### Pattern: `Optional Chaining` at line 389:42

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        ? data.point_cloud.points.map((p, i) => ({
            id: `pt_${i}`,
            position: { x: p[0], y: p[1], z: p[2] },
> color: data.point_cloud?.colors?.[i]
              ? {
                  r: Math.round(data.point_cloud.colors[i][0] * 255),
                  g: Math.round(data.point_cloud.colors[i][1] * 255),
```

---

#### Pattern: `Optional Chaining` at line 469:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    // Build K matrix from intrinsics
    const fx = intrinsics.focalLength;
    const fy = intrinsics.focalLength; // Assume square pixels
> const cx = intrinsics.principalPoint?.x ?? 960;
    const cy = intrinsics.principalPoint?.y ?? 540;
  
    const K = [
```

---

#### Pattern: `Optional Chaining` at line 470:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const fx = intrinsics.focalLength;
    const fy = intrinsics.focalLength; // Assume square pixels
    const cx = intrinsics.principalPoint?.x ?? 960;
> const cy = intrinsics.principalPoint?.y ?? 540;
  
    const K = [
      [fx, 0, cx],
```

---

### `services/ai/depthEstimation.ts` (5 pattern(s))

#### Pattern: `Optional Chaining` at line 268:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Extract the text content from the response
      const content =
> result.choices?.[0]?.message?.content ||
        result.content?.[0]?.text ||
        result.response;
  
```

---

#### Pattern: `Optional Chaining` at line 268:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Extract the text content from the response
      const content =
> result.choices?.[0]?.message?.content ||
        result.content?.[0]?.text ||
        result.response;
  
```

---

#### Pattern: `Optional Chaining` at line 268:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Extract the text content from the response
      const content =
> result.choices?.[0]?.message?.content ||
        result.content?.[0]?.text ||
        result.response;
  
```

---

#### Pattern: `Optional Chaining` at line 269:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Extract the text content from the response
      const content =
        result.choices?.[0]?.message?.content ||
> result.content?.[0]?.text ||
        result.response;
  
      if (!content) {
```

---

#### Pattern: `Optional Chaining` at line 269:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Extract the text content from the response
      const content =
        result.choices?.[0]?.message?.content ||
> result.content?.[0]?.text ||
        result.response;
  
      if (!content) {
```

---

### `services/ai/sapiensIntegration.ts` (2 pattern(s))

#### Pattern: `Optional Chaining` at line 435:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    point_clouds: Array<{ points: number[][]; colors: number[][] }>;
  } {
    // Estimate intrinsics from first frame
> const width = depthResults[0]?.width ?? 1920;
    const height = depthResults[0]?.height ?? 1080;
  
    // Approximate focal length (assuming ~50mm on full-frame equivalent)
```

---

#### Pattern: `Optional Chaining` at line 436:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  } {
    // Estimate intrinsics from first frame
    const width = depthResults[0]?.width ?? 1920;
> const height = depthResults[0]?.height ?? 1080;
  
    // Approximate focal length (assuming ~50mm on full-frame equivalent)
    const fx = width * 0.8;
```

---

### `services/ai/security/hardenedScopeManager.ts` (11 pattern(s))

#### Pattern: `: void` at line 231:27

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Start a fresh session (call between agent conversations)
     */
> public startNewSession(): void {
      // Log end of previous session
      if (this.session.operationCount > 0) {
        logAuditEntry({
```

---

#### Pattern: `: void` at line 380:60

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Revoke current scope grant (return to readonly)
     */
> public revokeElevation(reason: string = "user-initiated"): void {
      if (this.session.activeGrant) {
        logAuditEntry({
          category: "security_warning",
```

---

#### Pattern: `: void` at line 546:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Check if active grant has expired
     */
> private checkGrantExpiry(): void {
      if (!this.session.activeGrant) return;
  
      if (Date.now() > this.session.activeGrant.expiresAt) {
```

---

#### Pattern: `: void` at line 668:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return [...this.session.pendingApprovals];
    }
  
> private cleanupExpiredApprovals(): void {
      const now = Date.now();
      this.session.pendingApprovals = this.session.pendingApprovals.filter(
        (a) => a.expiresAt > now,
```

---

#### Pattern: `: void` at line 686:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      type: string,
      severity: number,
      details?: string,
> ): void {
      this.session.suspicionScore += severity;
  
      logSecurityWarning(`Suspicious activity: ${type}`, {
```

---

#### Pattern: `: void` at line 705:41

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Lock down the current session (revoke all permissions)
     */
> public lockdownSession(reason: string): void {
      this.session.lockedDown = true;
      this.session.lockReason = reason;
      this.session.activeGrant = null;
```

---

#### Pattern: `: void` at line 722:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Automatically downgrade to readonly (less severe than lockdown)
     */
> public autoDowngrade(reason: string): void {
      if (this.session.currentScope !== "readonly") {
        logAuditEntry({
          category: "security_warning",
```

---

#### Pattern: `: void` at line 744:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * KILL SWITCH: Immediately suspend all agent operations
     * Use when active attack is detected
     */
> public activateKillSwitch(reason: string): void {
      this.killSwitchActive = true;
      this.lockdownSession("KILL SWITCH: " + reason);
  
```

---

#### Pattern: `: void` at line 759:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Deactivate kill switch (requires explicit action)
     */
> public deactivateKillSwitch(): void {
      this.killSwitchActive = false;
  
      logAuditEntry({
```

---

#### Pattern: `: void` at line 905:51

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    return hardenedScopeManager.getSessionInfo().lockedDown;
  }
  
> export function activateKillSwitch(reason: string): void {
    hardenedScopeManager.activateKillSwitch(reason);
  }
  
```

---

#### Pattern: `: void` at line 909:57

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    hardenedScopeManager.activateKillSwitch(reason);
  }
  
> export function reportInjectionDetected(details: string): void {
    hardenedScopeManager.recordSuspiciousActivity("injection_detected", 5, details);
  }
  
```

---

### `services/ai/security/promptInjectionDetector.ts` (7 pattern(s))

#### Pattern: `Optional Chaining` at line 625:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          detected: true,
          confidence,
          type,
> location: context?.fieldName || context?.source || "unknown",
          details: description,
        };
  
```

---

#### Pattern: `Optional Chaining` at line 625:48

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          detected: true,
          confidence,
          type,
> location: context?.fieldName || context?.source || "unknown",
          details: description,
        };
  
```

---

#### Pattern: `Optional Chaining` at line 656:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        detected: true,
        confidence: "medium",
        type: "context-poisoning",
> location: context?.fieldName || "unknown",
        details: `Suspiciously long input (${input.length} chars) - potential context poisoning`,
      };
      logInjectionDetection(input, result, context);
```

---

#### Pattern: `: void` at line 882:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    input: string,
    result: InjectionDetectionResult,
    context?: { fieldName?: string; layerName?: string; source?: string },
> ): void {
    console.warn(
      `[Security] Prompt injection detected:`,
      {
```

---

#### Pattern: `Optional Chaining` at line 904:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        type: result.type,
        confidence: result.confidence,
        location: result.location,
> fieldName: context?.fieldName,
        source: context?.source,
        blocked: true,
      },
```

---

#### Pattern: `Optional Chaining` at line 905:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        confidence: result.confidence,
        location: result.location,
        fieldName: context?.fieldName,
> source: context?.source,
        blocked: true,
      },
    });
```

---

#### Pattern: `: void` at line 1314:65

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  
    // Anomaly 4: Deeply nested data (may bypass scanning limits)
> function checkDepth(obj: unknown, depth: number, path: string): void {
      if (depth > 30) {
        anomalies.push({
          detected: true,
```

---

### `services/ai/security/scopeManager.ts` (5 pattern(s))

#### Pattern: `: void` at line 329:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Change the current scope
     * @param scope - New scope to apply
     */
> setScope(scope: AgentScope): void {
      const oldScope = this.currentScope.name;
      this.currentScope = scope;
      console.log(`[ScopeManager] Scope changed: ${oldScope} -> ${scope.name}`);
```

---

#### Pattern: `: void` at line 347:57

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set scope by preset name
     * @param presetName - Name of the preset ("readonly", "limited", "standard", "full")
     */
> setScopePreset(presetName: keyof typeof SCOPE_PRESETS): void {
      const preset = SCOPE_PRESETS[presetName];
      if (!preset) {
        console.error(`[ScopeManager] Unknown scope preset: ${presetName}`);
```

---

#### Pattern: `Optional Chaining` at line 500:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        }
  
        // Check path if provided
> if (args?.path && typeof args.path === "string") {
          if (!this.isPathAllowed(args.path)) {
            return {
              allowed: false,
```

---

#### Pattern: `Optional Chaining` at line 511:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Keyframe count check
> if (args?.keyframes && Array.isArray(args.keyframes)) {
        if (args.keyframes.length > scope.maxKeyframesPerOperation) {
          return {
            allowed: false,
```

---

#### Pattern: `: void` at line 604:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear expired confirmations
     */
> cleanupExpiredConfirmations(): void {
      const now = Date.now();
      const expiry = 5 * 60 * 1000; // 5 minutes
  
```

---

### `services/ai/stateSerializer.ts` (10 pattern(s))

#### Pattern: `Optional Chaining` at line 549:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      case "spline":
        return {
> pointCount: data.controlPoints?.length || 0,
          closed: data.closed,
          stroke: data.stroke,
          strokeWidth: data.strokeWidth,
```

---

#### Pattern: `Optional Chaining` at line 557:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      case "particles":
        return {
> emitterCount: data.emitters?.length || 0,
          maxParticles: data.systemConfig?.maxParticles,
          gravity: data.systemConfig?.gravity,
          firstEmitter: data.emitters?.[0]
```

---

#### Pattern: `Optional Chaining` at line 558:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      case "particles":
        return {
          emitterCount: data.emitters?.length || 0,
> maxParticles: data.systemConfig?.maxParticles,
          gravity: data.systemConfig?.gravity,
          firstEmitter: data.emitters?.[0]
            ? {
```

---

#### Pattern: `Optional Chaining` at line 559:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return {
          emitterCount: data.emitters?.length || 0,
          maxParticles: data.systemConfig?.maxParticles,
> gravity: data.systemConfig?.gravity,
          firstEmitter: data.emitters?.[0]
            ? {
                x: data.emitters[0].x,
```

---

#### Pattern: `Optional Chaining` at line 560:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          emitterCount: data.emitters?.length || 0,
          maxParticles: data.systemConfig?.maxParticles,
          gravity: data.systemConfig?.gravity,
> firstEmitter: data.emitters?.[0]
            ? {
                x: data.emitters[0].x,
                y: data.emitters[0].y,
```

---

#### Pattern: `Optional Chaining` at line 595:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      case "shape":
        return {
> shapeCount: data.shapes?.length || 0,
          fill: data.fill,
          stroke: data.stroke,
          strokeWidth: data.strokeWidth,
```

---

#### Pattern: `Optional Chaining` at line 611:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return {
          sourceLayerId: data.sourceLayerId,
          depthLayerId: data.depthLayerId,
> preset: data.config?.preset,
        };
  
      case "light":
```

---

#### Pattern: `Optional Chaining` at line 726:46

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Check effects
> const beforeEffects = beforeLayer.effects?.length || 0;
      const afterLayerEffects = afterLayer.effects?.length || 0;
      if (beforeEffects !== afterLayerEffects) {
        changes.push(
```

---

#### Pattern: `Optional Chaining` at line 727:49

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Check effects
      const beforeEffects = beforeLayer.effects?.length || 0;
> const afterLayerEffects = afterLayer.effects?.length || 0;
      if (beforeEffects !== afterLayerEffects) {
        changes.push(
          `Layer "${afterLayer.name}": effects ${beforeEffects} â†’ ${afterLayerEffects}`,
```

---

#### Pattern: `Optional Chaining` at line 778:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          animatedProps.length > 0
            ? ` [animated: ${animatedProps.join(", ")}]`
            : "";
> const effects = layer.effects?.length
          ? ` [${layer.effects.length} effect(s)]`
          : "";
  
```

---

### `services/aiGeneration.ts` (1 pattern(s))

#### Pattern: `: void` at line 633:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set the base URL for AI backend
     */
> setBaseUrl(url: string): void {
      this.baseUrl = url;
    }
  }
```

---

### `services/animation/PropertyEvaluator.ts` (2 pattern(s))

#### Pattern: `isFinite()` at line 34:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    constructor(fps: number) {
      // Validate fps to prevent division by zero or invalid calculations
> if (!Number.isFinite(fps) || fps <= 0) {
        console.warn(
          `PropertyEvaluator: Invalid fps ${fps}, defaulting to 30`
        );
```

---

#### Pattern: `isFinite()` at line 53:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    evaluate<T>(property: AnimatableProperty<T>, frame: number): T {
      // Handle invalid frame input
> if (!Number.isFinite(frame)) {
        console.warn(
          `PropertyEvaluator.evaluate: Invalid frame ${frame}, using 0`
        );
```

---

### `services/audio/enhancedBeatDetection.ts` (1 pattern(s))

#### Pattern: `Optional Chaining` at line 318:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    // Combine multiple features for strength estimation
    const amplitude = analysis.amplitudeEnvelope[clampedFrame] || 0;
    const bass = analysis.frequencyBands.bass[clampedFrame] || 0;
> const flux = analysis.spectralFlux?.[clampedFrame] || 0;
  
    // Weight: bass and spectral flux are most important for beats
    return amplitude * 0.3 + bass * 0.4 + flux * 0.3;
```

---

### `services/audio/stemSeparation.ts` (1 pattern(s))

#### Pattern: `: void` at line 400:63

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Create a download link for a stem
   */
> export function downloadStem(base64: string, filename: string): void {
    const blob = base64ToBlob(base64, "audio/wav");
    const url = URL.createObjectURL(blob);
  
```

---

### `services/audioFeatures.ts` (41 pattern(s))

#### Pattern: `Optional Chaining` at line 175:11

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    // Determine which buffer to analyze based on mode
    let analyzeBuffer = buffer;
    if (
> config?.analysisMode &&
      config.analysisMode !== "full" &&
      config.stemData
    ) {
```

---

#### Pattern: `Optional Chaining` at line 327:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const sampleRate = buffer.sampleRate;
  
    // Use configured FFT size for spectral analysis resolution
> const fftSize = config?.fftSize ?? DEFAULT_FFT_SIZE;
  
    // Create offline context for analysis
    const offlineCtx = new OfflineAudioContext(1, buffer.length, sampleRate);
```

---

#### Pattern: `Optional Chaining` at line 355:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const binFrequency = sampleRate / fftSize;
  
    // Apply frequency range filtering for band-limited analysis
> const minFreq = config?.minFrequency ?? 20;
    const maxFreq = config?.maxFrequency ?? 20000;
    const minBin = Math.floor(minFreq / binFrequency);
    const maxBin = Math.ceil(maxFreq / binFrequency);
```

---

#### Pattern: `Optional Chaining` at line 356:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    // Apply frequency range filtering for band-limited analysis
    const minFreq = config?.minFrequency ?? 20;
> const maxFreq = config?.maxFrequency ?? 20000;
    const minBin = Math.floor(minFreq / binFrequency);
    const maxBin = Math.ceil(maxFreq / binFrequency);
  
```

---

#### Pattern: `Optional Chaining` at line 1036:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Enhanced features
      case "spectralFlux":
> return analysis.spectralFlux?.[clampedFrame] ?? 0;
  
      case "zeroCrossingRate":
      case "zcr":
```

---

#### Pattern: `Optional Chaining` at line 1040:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      case "zeroCrossingRate":
      case "zcr":
> return analysis.zeroCrossingRate?.[clampedFrame] ?? 0;
  
      case "spectralRolloff":
      case "rolloff":
```

---

#### Pattern: `Optional Chaining` at line 1044:38

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      case "spectralRolloff":
      case "rolloff":
> return analysis.spectralRolloff?.[clampedFrame] ?? 0;
  
      case "spectralFlatness":
      case "flatness":
```

---

#### Pattern: `Optional Chaining` at line 1048:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      case "spectralFlatness":
      case "flatness":
> return analysis.spectralFlatness?.[clampedFrame] ?? 0;
  
      case "chromaEnergy":
        return analysis.chromaFeatures?.chromaEnergy[clampedFrame] ?? 0;
```

---

#### Pattern: `Optional Chaining` at line 1051:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return analysis.spectralFlatness?.[clampedFrame] ?? 0;
  
      case "chromaEnergy":
> return analysis.chromaFeatures?.chromaEnergy[clampedFrame] ?? 0;
  
      // Individual chroma pitch classes (C, C#, D, etc.)
      case "chromaC":
```

---

#### Pattern: `Optional Chaining` at line 1055:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Individual chroma pitch classes (C, C#, D, etc.)
      case "chromaC":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[0] ?? 0;
      case "chromaCs":
      case "chromaDb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[1] ?? 0;
```

---

#### Pattern: `Optional Chaining` at line 1055:59

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Individual chroma pitch classes (C, C#, D, etc.)
      case "chromaC":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[0] ?? 0;
      case "chromaCs":
      case "chromaDb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[1] ?? 0;
```

---

#### Pattern: `Optional Chaining` at line 1058:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[0] ?? 0;
      case "chromaCs":
      case "chromaDb":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[1] ?? 0;
      case "chromaD":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[2] ?? 0;
      case "chromaDs":
```

---

#### Pattern: `Optional Chaining` at line 1058:59

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[0] ?? 0;
      case "chromaCs":
      case "chromaDb":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[1] ?? 0;
      case "chromaD":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[2] ?? 0;
      case "chromaDs":
```

---

#### Pattern: `Optional Chaining` at line 1060:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      case "chromaDb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[1] ?? 0;
      case "chromaD":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[2] ?? 0;
      case "chromaDs":
      case "chromaEb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[3] ?? 0;
```

---

#### Pattern: `Optional Chaining` at line 1060:59

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      case "chromaDb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[1] ?? 0;
      case "chromaD":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[2] ?? 0;
      case "chromaDs":
      case "chromaEb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[3] ?? 0;
```

---

#### Pattern: `Optional Chaining` at line 1063:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[2] ?? 0;
      case "chromaDs":
      case "chromaEb":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[3] ?? 0;
      case "chromaE":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[4] ?? 0;
      case "chromaF":
```

---

#### Pattern: `Optional Chaining` at line 1063:59

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[2] ?? 0;
      case "chromaDs":
      case "chromaEb":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[3] ?? 0;
      case "chromaE":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[4] ?? 0;
      case "chromaF":
```

---

#### Pattern: `Optional Chaining` at line 1065:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      case "chromaEb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[3] ?? 0;
      case "chromaE":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[4] ?? 0;
      case "chromaF":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[5] ?? 0;
      case "chromaFs":
```

---

#### Pattern: `Optional Chaining` at line 1065:59

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      case "chromaEb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[3] ?? 0;
      case "chromaE":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[4] ?? 0;
      case "chromaF":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[5] ?? 0;
      case "chromaFs":
```

---

#### Pattern: `Optional Chaining` at line 1067:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      case "chromaE":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[4] ?? 0;
      case "chromaF":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[5] ?? 0;
      case "chromaFs":
      case "chromaGb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[6] ?? 0;
```

---

#### Pattern: `Optional Chaining` at line 1067:59

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      case "chromaE":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[4] ?? 0;
      case "chromaF":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[5] ?? 0;
      case "chromaFs":
      case "chromaGb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[6] ?? 0;
```

---

#### Pattern: `Optional Chaining` at line 1070:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[5] ?? 0;
      case "chromaFs":
      case "chromaGb":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[6] ?? 0;
      case "chromaG":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[7] ?? 0;
      case "chromaGs":
```

---

#### Pattern: `Optional Chaining` at line 1070:59

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[5] ?? 0;
      case "chromaFs":
      case "chromaGb":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[6] ?? 0;
      case "chromaG":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[7] ?? 0;
      case "chromaGs":
```

---

#### Pattern: `Optional Chaining` at line 1072:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      case "chromaGb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[6] ?? 0;
      case "chromaG":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[7] ?? 0;
      case "chromaGs":
      case "chromaAb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[8] ?? 0;
```

---

#### Pattern: `Optional Chaining` at line 1072:59

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      case "chromaGb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[6] ?? 0;
      case "chromaG":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[7] ?? 0;
      case "chromaGs":
      case "chromaAb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[8] ?? 0;
```

---

#### Pattern: `Optional Chaining` at line 1075:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[7] ?? 0;
      case "chromaGs":
      case "chromaAb":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[8] ?? 0;
      case "chromaA":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[9] ?? 0;
      case "chromaAs":
```

---

#### Pattern: `Optional Chaining` at line 1075:59

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[7] ?? 0;
      case "chromaGs":
      case "chromaAb":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[8] ?? 0;
      case "chromaA":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[9] ?? 0;
      case "chromaAs":
```

---

#### Pattern: `Optional Chaining` at line 1077:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      case "chromaAb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[8] ?? 0;
      case "chromaA":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[9] ?? 0;
      case "chromaAs":
      case "chromaBb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[10] ?? 0;
```

---

#### Pattern: `Optional Chaining` at line 1077:59

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      case "chromaAb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[8] ?? 0;
      case "chromaA":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[9] ?? 0;
      case "chromaAs":
      case "chromaBb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[10] ?? 0;
```

---

#### Pattern: `Optional Chaining` at line 1080:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[9] ?? 0;
      case "chromaAs":
      case "chromaBb":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[10] ?? 0;
      case "chromaB":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[11] ?? 0;
  
```

---

#### Pattern: `Optional Chaining` at line 1080:59

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[9] ?? 0;
      case "chromaAs":
      case "chromaBb":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[10] ?? 0;
      case "chromaB":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[11] ?? 0;
  
```

---

#### Pattern: `Optional Chaining` at line 1082:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      case "chromaBb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[10] ?? 0;
      case "chromaB":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[11] ?? 0;
  
      // Harmonic-Percussive Source Separation (HPSS) features
      case "harmonicEnergy":
```

---

#### Pattern: `Optional Chaining` at line 1082:59

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      case "chromaBb":
        return analysis.chromaFeatures?.chroma[clampedFrame]?.[10] ?? 0;
      case "chromaB":
> return analysis.chromaFeatures?.chroma[clampedFrame]?.[11] ?? 0;
  
      // Harmonic-Percussive Source Separation (HPSS) features
      case "harmonicEnergy":
```

---

#### Pattern: `Optional Chaining` at line 1087:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Harmonic-Percussive Source Separation (HPSS) features
      case "harmonicEnergy":
      case "harmonic":
> return analysis.harmonicEnergy?.[clampedFrame] ?? 0;
  
      case "percussiveEnergy":
      case "percussive":
```

---

#### Pattern: `Optional Chaining` at line 1091:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      case "percussiveEnergy":
      case "percussive":
> return analysis.percussiveEnergy?.[clampedFrame] ?? 0;
  
      case "hpRatio":
      case "harmonicPercussiveRatio":
```

---

#### Pattern: `Optional Chaining` at line 1095:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      case "hpRatio":
      case "harmonicPercussiveRatio":
> return analysis.hpRatio?.[clampedFrame] ?? 0;
  
      // MFCC coefficients with per-coefficient normalization
      // MFCC0 (log energy) has different range than MFCC1-12 (spectral shape)
```

---

#### Pattern: `Optional Chaining` at line 1140:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    frame: number,
    coeff: number,
  ): number {
> const value = analysis.mfcc?.[frame]?.[coeff];
    if (value === undefined) return 0;
  
    const stats = analysis.mfccStats;
```

---

#### Pattern: `Optional Chaining` at line 1140:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    frame: number,
    coeff: number,
  ): number {
> const value = analysis.mfcc?.[frame]?.[coeff];
    if (value === undefined) return 0;
  
    const stats = analysis.mfccStats;
```

---

#### Pattern: `Optional Chaining` at line 1387:16

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
   */
  export function isBeatAtFrame(analysis: AudioAnalysis | null | undefined, frame: number): boolean {
    // Return false for missing analysis or onset data
> if (!analysis?.onsets) {
      return false;
    }
    return analysis.onsets.includes(frame);
```

---

#### Pattern: `isFinite()` at line 1623:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    // Handle edge cases for normalization
    for (let c = 0; c < numCoeffs; c++) {
      // Edge case: 0 frames - stats remain Infinity/-Infinity
> if (!Number.isFinite(stats.min[c]) || !Number.isFinite(stats.max[c])) {
        stats.min[c] = 0;
        stats.max[c] = 1;
      }
```

---

#### Pattern: `isFinite()` at line 1623:51

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    // Handle edge cases for normalization
    for (let c = 0; c < numCoeffs; c++) {
      // Edge case: 0 frames - stats remain Infinity/-Infinity
> if (!Number.isFinite(stats.min[c]) || !Number.isFinite(stats.max[c])) {
        stats.min[c] = 0;
        stats.max[c] = 1;
      }
```

---

### `services/audioPathAnimator.ts` (7 pattern(s))

#### Pattern: `: void` at line 108:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set the SVG path data to animate along
     */
> setPath(pathData: string): void {
      this.pathSegments = this.parsePath(pathData);
      this.calculateSegmentLengths();
      // Clear accumulate cache when path changes
```

---

#### Pattern: `isNaN()` at line 132:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isNaN() for more accurate type checking

**Code:**
```typescript
          .trim()
          .split(/[\s,]+/)
          .map(Number)
> .filter((n) => !Number.isNaN(n));
  
        switch (type) {
          case "M":
```

---

#### Pattern: `: void` at line 220:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Calculate lengths for each segment
     */
> private calculateSegmentLengths(): void {
      let totalLength = 0;
  
      for (const segment of this.pathSegments) {
```

---

#### Pattern: `: void` at line 340:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return { ...this.state };
    }
  
> private updateAmplitudeMode(audioValue: number): void {
      // Apply amplitude curve (power function for noise gate effect)
      const processedValue = audioValue ** this.config.amplitudeCurve;
  
```

---

#### Pattern: `: void` at line 364:68

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      );
    }
  
> private updateAccumulateMode(audioValue: number, isBeat: boolean): void {
      // Check for beat-triggered direction flip
      if (
        this.config.flipOnBeat &&
```

---

#### Pattern: `: void` at line 507:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Reset animator state
     */
> reset(): void {
      this.state = {
        position: 0,
        direction: 1,
```

---

#### Pattern: `: void` at line 532:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update config
     */
> setConfig(updates: Partial<PathAnimatorConfig>): void {
      Object.assign(this.config, updates);
    }
  
```

---

### `services/audioReactiveMapping.ts` (9 pattern(s))

#### Pattern: `: void` at line 164:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set peak data for peak-based features
     */
> setPeakData(peakData: PeakData): void {
      this.peakData = peakData;
    }
  
```

---

#### Pattern: `: void` at line 173:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Only initializes temporal state for NEW mappings.
     * Existing mappings preserve their temporal state (smoothing, release, toggles).
     */
> addMapping(mapping: AudioMapping): void {
      const isNew = !this.mappings.has(mapping.id);
      this.mappings.set(mapping.id, mapping);
      // Only initialize temporal state for new mappings
```

---

#### Pattern: `: void` at line 187:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Remove a mapping
     */
> removeMapping(id: string): void {
      this.mappings.delete(id);
      this.smoothedValues.delete(id);
      this.releaseEnvelopes.delete(id);
```

---

#### Pattern: `: void` at line 199:23

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Call this when seeking non-sequentially to ensure determinism.
     * Temporal state must be reset on frame jumps.
     */
> resetTemporalState(): void {
      // Reset all smoothed values to 0
      for (const id of this.smoothedValues.keys()) {
        this.smoothedValues.set(id, 0);
```

---

#### Pattern: `: void` at line 217:60

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update an existing mapping
     */
> updateMapping(id: string, updates: Partial<AudioMapping>): void {
      const mapping = this.mappings.get(id);
      if (mapping) {
        Object.assign(mapping, updates);
```

---

#### Pattern: `: void` at line 540:19

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Reset smoothing state
     */
> resetSmoothing(): void {
      this.smoothedValues.clear();
      this.releaseEnvelopes.clear();
      this.beatToggleStates.clear();
```

---

#### Pattern: `: void` at line 554:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update analysis data
     */
> setAnalysis(analysis: AudioAnalysis): void {
      this.analysis = analysis;
      this.resetSmoothing();
    }
```

---

#### Pattern: `: void` at line 562:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear all mappings
     */
> clear(): void {
      this.mappings.clear();
      this.smoothedValues.clear();
      this.releaseEnvelopes.clear();
```

---

#### Pattern: `: void` at line 579:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
    /**
     * Load mappings from serialized data
     */
> deserialize(mappings: AudioMapping[]): void {
      this.clear();
      for (const mapping of mappings) {
        this.addMapping(mapping);
```

---

### `services/audioWorkerClient.ts` (2 pattern(s))

#### Pattern: `: void` at line 128:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Terminate the worker (call when no longer needed)
   */
> export function terminateWorker(): void {
    if (worker) {
      worker.terminate();
      worker = null;
```

---

#### Pattern: `: void` at line 139:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Cancel the current analysis
   */
> export function cancelAnalysis(): void {
    if (worker) {
      worker.postMessage({ type: "cancel" });
    }
```

---

### `services/bezierBoolean.ts` (1 pattern(s))

#### Pattern: `: void` at line 60:27

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Initialize Paper.js in headless mode (no canvas)
   */
> function initializePaper(): void {
    if (paperInitialized) return;
  
    // Paper.js needs a canvas or can run headless
```

---

### `services/camera3DVisualization.ts` (3 pattern(s))

#### Pattern: `isNaN()` at line 77:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isNaN() for more accurate type checking

**Code:**
```typescript
    // Get right and up vectors
    const worldUp = vec3(0, -1, 0); // Y-down in AE coordinate system
    let right = normalizeVec3(crossVec3(forward, worldUp));
> if (Number.isNaN(right.x)) {
      right = vec3(1, 0, 0);
    }
    const up = normalizeVec3(crossVec3(right, forward));
```

---

#### Pattern: `isNaN()` at line 181:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isNaN() for more accurate type checking

**Code:**
```typescript
  
    const worldUp = vec3(0, -1, 0);
    let right = normalizeVec3(crossVec3(forward, worldUp));
> if (Number.isNaN(right.x)) {
      right = vec3(1, 0, 0);
    }
    const up = normalizeVec3(crossVec3(right, forward));
```

---

#### Pattern: `isNaN()` at line 332:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isNaN() for more accurate type checking

**Code:**
```typescript
  
    const worldUp = vec3(0, -1, 0);
    let right = normalizeVec3(crossVec3(forward, worldUp));
> if (Number.isNaN(right.x)) {
      right = vec3(1, 0, 0);
    }
    const up = normalizeVec3(crossVec3(right, forward));
```

---

### `services/cameraEnhancements.ts` (1 pattern(s))

#### Pattern: `: void` at line 393:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update configuration
     */
> setConfig(config: Partial<CameraShakeConfig>): void {
      this.config = { ...this.config, ...config };
    }
  }
```

---

### `services/cameraTrackingImport.ts` (16 pattern(s))

#### Pattern: `Optional Chaining` at line 307:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    // Convert camera path if reconstruction exists
    const cameraPath: CameraPose[] =
> data.reconstruction?.camera_poses?.map((pose) => ({
        frame: pose.frame,
        position: {
          x: pose.location[0],
```

---

#### Pattern: `Optional Chaining` at line 307:38

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    // Convert camera path if reconstruction exists
    const cameraPath: CameraPose[] =
> data.reconstruction?.camera_poses?.map((pose) => ({
        frame: pose.frame,
        position: {
          x: pose.location[0],
```

---

#### Pattern: `Optional Chaining` at line 324:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    // Convert 3D points
    const trackPoints3D: TrackPoint3D[] =
> data.reconstruction?.points?.map((pt, i) => ({
        id: `pt_${i}`,
        position: { x: pt.co[0], y: pt.co[1], z: pt.co[2] },
        color: pt.color
```

---

#### Pattern: `Optional Chaining` at line 324:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    // Convert 3D points
    const trackPoints3D: TrackPoint3D[] =
> data.reconstruction?.points?.map((pt, i) => ({
        id: `pt_${i}`,
        position: { x: pt.co[0], y: pt.co[1], z: pt.co[2] },
        color: pt.color
```

---

#### Pattern: `Optional Chaining` at line 458:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          // Position uses { x, y, z? } - z is optional but we include it for 3D
          const positionProp = createAnimatableProperty(
            "position",
> transformedPath[0]?.position ?? { x: 0, y: 0, z: 0 },
            "position",
            "Transform",
          );
```

---

#### Pattern: `Optional Chaining` at line 468:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          // Use orientation for 3D rotation (vector3), rotation is for 2D (number)
          const orientationProp = createAnimatableProperty(
            "orientation",
> rotationKeyframes[0]?.value ?? { x: 0, y: 0, z: 0 },
            "vector3",
            "Transform",
          );
```

---

#### Pattern: `Optional Chaining` at line 533:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        }
  
        if (solve.trackPoints3D.length > maxNulls) {
> result.warnings?.push(
            `Only created ${maxNulls} null objects out of ${solve.trackPoints3D.length} track points`,
          );
        }
```

---

#### Pattern: `Optional Chaining` at line 541:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Create point cloud layer if requested
      if (
> options.pointCloud?.create &&
        solve.trackPoints3D &&
        solve.trackPoints3D.length > 0
      ) {
```

---

#### Pattern: `Optional Chaining` at line 683:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const cameraPath: CameraPose[] = [];
  
    // Get position and orientation (3D rotation) properties
> const positionProp = layer.transform?.position;
    // Use orientation for 3D rotation, fall back to individual rotationX/Y/Z
    const orientationProp = layer.transform?.orientation;
  
```

---

#### Pattern: `Optional Chaining` at line 685:42

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    // Get position and orientation (3D rotation) properties
    const positionProp = layer.transform?.position;
    // Use orientation for 3D rotation, fall back to individual rotationX/Y/Z
> const orientationProp = layer.transform?.orientation;
  
    // Generate camera path for each frame with keyframes
    const allFrames = new Set<number>();
```

---

#### Pattern: `Optional Chaining` at line 690:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    // Generate camera path for each frame with keyframes
    const allFrames = new Set<number>();
  
> if (positionProp?.keyframes) {
      positionProp.keyframes.forEach((kf) => allFrames.add(kf.frame));
    }
    if (orientationProp?.keyframes) {
```

---

#### Pattern: `Optional Chaining` at line 693:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    if (positionProp?.keyframes) {
      positionProp.keyframes.forEach((kf) => allFrames.add(kf.frame));
    }
> if (orientationProp?.keyframes) {
      orientationProp.keyframes.forEach((kf) => allFrames.add(kf.frame));
    }
  
```

---

#### Pattern: `Optional Chaining` at line 710:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    // If no keyframes, just export default pose
    if (allFrames.size === 0) {
> const posValue = positionProp?.value ?? { x: 0, y: 0 };
      const pos = ensureZ(posValue);
      const rot = orientationProp?.value ?? { x: 0, y: 0, z: 0 };
  
```

---

#### Pattern: `Optional Chaining` at line 712:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    if (allFrames.size === 0) {
      const posValue = positionProp?.value ?? { x: 0, y: 0 };
      const pos = ensureZ(posValue);
> const rot = orientationProp?.value ?? { x: 0, y: 0, z: 0 };
  
      cameraPath.push({
        frame: 0,
```

---

#### Pattern: `Optional Chaining` at line 744:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      fov?: { value?: number };
    };
  
> const fov = cameraData?.fov?.value ?? 50;
    const focalLength =
      comp.settings.height / (2 * Math.tan((fov * Math.PI) / 180 / 2));
  
```

---

#### Pattern: `Optional Chaining` at line 744:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      fov?: { value?: number };
    };
  
> const fov = cameraData?.fov?.value ?? 50;
    const focalLength =
      comp.settings.height / (2 * Math.tan((fov * Math.PI) / 180 / 2));
  
```

---

### `services/cameraTrajectory.ts` (1 pattern(s))

#### Pattern: `: void` at line 573:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    camera: Camera3D,
    config: TrajectoryConfig,
    t: number, // Normalized time 0-1
> ): void {
    const { position, target } = getTrajectoryPosition(config, t);
  
    camera.position = position;
```

---

### `services/colorManagement/ColorProfileService.ts` (9 pattern(s))

#### Pattern: `Optional Chaining` at line 689:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    constructor(settings?: Partial<ColorSettings>) {
      this.settings = {
> workingColorSpace: settings?.workingColorSpace ?? "sRGB",
        viewTransform: settings?.viewTransform ?? "sRGB",
        exportColorSpace: settings?.exportColorSpace ?? "sRGB",
        linearCompositing: settings?.linearCompositing ?? false,
```

---

#### Pattern: `Optional Chaining` at line 690:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    constructor(settings?: Partial<ColorSettings>) {
      this.settings = {
        workingColorSpace: settings?.workingColorSpace ?? "sRGB",
> viewTransform: settings?.viewTransform ?? "sRGB",
        exportColorSpace: settings?.exportColorSpace ?? "sRGB",
        linearCompositing: settings?.linearCompositing ?? false,
        displayGamma: settings?.displayGamma ?? 2.2,
```

---

#### Pattern: `Optional Chaining` at line 691:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.settings = {
        workingColorSpace: settings?.workingColorSpace ?? "sRGB",
        viewTransform: settings?.viewTransform ?? "sRGB",
> exportColorSpace: settings?.exportColorSpace ?? "sRGB",
        linearCompositing: settings?.linearCompositing ?? false,
        displayGamma: settings?.displayGamma ?? 2.2,
      };
```

---

#### Pattern: `Optional Chaining` at line 692:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        workingColorSpace: settings?.workingColorSpace ?? "sRGB",
        viewTransform: settings?.viewTransform ?? "sRGB",
        exportColorSpace: settings?.exportColorSpace ?? "sRGB",
> linearCompositing: settings?.linearCompositing ?? false,
        displayGamma: settings?.displayGamma ?? 2.2,
      };
    }
```

---

#### Pattern: `Optional Chaining` at line 693:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        viewTransform: settings?.viewTransform ?? "sRGB",
        exportColorSpace: settings?.exportColorSpace ?? "sRGB",
        linearCompositing: settings?.linearCompositing ?? false,
> displayGamma: settings?.displayGamma ?? 2.2,
      };
    }
  
```

---

#### Pattern: `: void` at line 705:51

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return { ...this.settings };
    }
  
> updateSettings(settings: Partial<ColorSettings>): void {
      Object.assign(this.settings, settings);
      logger.debug("Color settings updated:", this.settings);
    }
```

---

#### Pattern: `: void` at line 710:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      logger.debug("Color settings updated:", this.settings);
    }
  
> setWorkingColorSpace(colorSpace: ColorSpace): void {
      this.settings.workingColorSpace = colorSpace;
    }
  
```

---

#### Pattern: `: void` at line 714:45

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.settings.workingColorSpace = colorSpace;
    }
  
> setViewTransform(transform: ViewTransform): void {
      this.settings.viewTransform = transform;
    }
  
```

---

#### Pattern: `: void` at line 718:41

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.settings.viewTransform = transform;
    }
  
> setLinearCompositing(enabled: boolean): void {
      this.settings.linearCompositing = enabled;
    }
  
```

---

### `services/comfyui/comfyuiClient.ts` (11 pattern(s))

#### Pattern: `: void` at line 387:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Disconnect WebSocket
     */
> disconnectWebSocket(): void {
      if (this.ws) {
        this.ws.close();
        this.ws = null;
```

---

#### Pattern: `: void` at line 399:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Clean up all resources (WebSocket, handlers)
     * Call this when the client is no longer needed
     */
> destroy(): void {
      this.disconnectWebSocket();
      comfyLogger.debug("ComfyUI client destroyed");
    }
```

---

#### Pattern: `: void` at line 414:56

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    /**
     * Register a message handler for a specific message type
     */
> onMessage(type: string, handler: (data: any) => void): void {
      this.messageHandlers.set(type, handler);
    }
  
```

---

#### Pattern: `: void` at line 421:27

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Remove a message handler
     */
> offMessage(type: string): void {
      this.messageHandlers.delete(type);
    }
  
```

---

#### Pattern: `: void` at line 425:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
      this.messageHandlers.delete(type);
    }
  
> private handleWebSocketMessage(data: any): void {
      const { type } = data;
  
      // Call registered handler
```

---

#### Pattern: `Optional Chaining` at line 521:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Progress updates
        this.onMessage("progress", (data) => {
          checkTimeout();
> onProgress?.({
            status: "executing",
            currentStep: data.data.value,
            totalSteps: data.data.max,
```

---

#### Pattern: `Optional Chaining` at line 533:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        this.onMessage("executing", (data) => {
          checkTimeout();
          if (data.data.prompt_id === promptId) {
> onProgress?.({
              status: "executing",
              currentNode: data.data.node,
              percentage: 10, // Approximate
```

---

#### Pattern: `Optional Chaining` at line 547:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            completed = true;
            cleanup();
  
> onProgress?.({
              status: "completed",
              percentage: 100,
            });
```

---

#### Pattern: `Optional Chaining` at line 563:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          if (data.data.prompt_id === promptId) {
            cleanup();
  
> onProgress?.({
              status: "error",
              percentage: 0,
            });
```

---

#### Pattern: `Optional Chaining` at line 588:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Queue the prompt
      const { prompt_id } = await this.queuePrompt(workflow);
  
> onProgress?.({
        status: "queued",
        percentage: 0,
      });
```

---

#### Pattern: `: void` at line 650:56

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    return defaultClient;
  }
  
> export function setComfyUIServer(serverAddress: string): void {
    defaultClient = new ComfyUIClient({ serverAddress });
  }
  
```

---

### `services/comfyui/workflowTemplates.ts` (13 pattern(s))

#### Pattern: `: void` at line 102:63

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * Throws an error if any required parameter is invalid.
   * CRITICAL: Validates motionData property names match model requirements.
   */
> export function validateWorkflowParams(params: WorkflowParams): void {
    const errors: string[] = [];
  
    // Validate motionData structure for targets that require it
```

---

#### Pattern: `isFinite()` at line 120:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    // Validate dimensions have both lower and upper bounds to prevent
    // memory exhaustion from unreasonably large canvas allocations
> if (!Number.isFinite(params.width) || params.width < MIN_DIMENSION) {
      errors.push(
        `Invalid width: ${params.width}. Must be at least ${MIN_DIMENSION}.`,
      );
```

---

#### Pattern: `isFinite()` at line 130:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      );
    }
  
> if (!Number.isFinite(params.height) || params.height < MIN_DIMENSION) {
      errors.push(
        `Invalid height: ${params.height}. Must be at least ${MIN_DIMENSION}.`,
      );
```

---

#### Pattern: `isFinite()` at line 141:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    }
  
    // Validate frame count to prevent unbounded generation requests
> if (!Number.isFinite(params.frameCount) || params.frameCount <= 0) {
      errors.push(
        `Invalid frameCount: ${params.frameCount}. Must be a positive number.`,
      );
```

---

#### Pattern: `isFinite()` at line 152:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    }
  
    // Validate FPS to prevent unreasonable values that could cause issues
> if (!Number.isFinite(params.fps) || params.fps <= 0) {
      errors.push(`Invalid fps: ${params.fps}. Must be a positive number.`);
    } else if (params.fps > MAX_FPS) {
      errors.push(`Invalid fps: ${params.fps}. Must be at most ${MAX_FPS}.`);
```

---

#### Pattern: `: void` at line 169:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  
  let nodeIdCounter = 1;
  
> function resetNodeIds(): void {
    nodeIdCounter = 1;
  }
  
```

---

#### Pattern: `Optional Chaining` at line 781:56

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    // Create camera trajectory
    const trajId = nextNodeId();
> if (params.trajType === "custom" && params.cameraData?.trajectory) {
      workflow[trajId] = createNode(
        "Uni3CCustomTrajectory",
        {
```

---

#### Pattern: `Optional Chaining` at line 2234:47

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      "WanVideoAddWanMoveTracks",
      {
        wan_model: conn(wanLoaderId),
> tracks: JSON.stringify(params.motionData?.tracks || []),
        num_frames: params.frameCount,
        width: params.width,
        height: params.height,
```

---

#### Pattern: `Optional Chaining` at line 2371:53

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      "WanVideoATITracks",
      {
        wan_model: conn(wanLoaderId),
> trajectories: JSON.stringify(params.motionData?.trajectories || []),
        num_frames: params.frameCount,
        width: params.width,
        height: params.height,
```

---

#### Pattern: `Optional Chaining` at line 2478:49

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    workflow[cameraMatricesId] = createNode(
      "CameraComfyUI_LoadMatrices",
      {
> matrices: JSON.stringify(params.cameraData?.matrices || []),
        num_frames: params.frameCount,
      },
      "Load Camera Matrices",
```

---

#### Pattern: `Optional Chaining` at line 2698:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    // Note: class_type may be undefined/null for invalid nodes (already reported as error above)
    const hasOutput = Object.values(workflow).some(
      (node) =>
> node.class_type?.includes("Save") ||
        node.class_type?.includes("Output") ||
        node.class_type?.includes("Preview"),
    );
```

---

#### Pattern: `Optional Chaining` at line 2699:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const hasOutput = Object.values(workflow).some(
      (node) =>
        node.class_type?.includes("Save") ||
> node.class_type?.includes("Output") ||
        node.class_type?.includes("Preview"),
    );
  
```

---

#### Pattern: `Optional Chaining` at line 2700:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      (node) =>
        node.class_type?.includes("Save") ||
        node.class_type?.includes("Output") ||
> node.class_type?.includes("Preview"),
    );
  
    if (!hasOutput) {
```

---

### `services/conditioningRenderer.ts` (1 pattern(s))

#### Pattern: `: void` at line 637:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Resize the renderer
     */
> resize(width: number, height: number): void {
      this.config.width = width;
      this.config.height = height;
      if (this.canvas instanceof OffscreenCanvas) {
```

---

### `services/dataImport.ts` (6 pattern(s))

#### Pattern: `: void` at line 340:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Clear all data assets
   */
> export function clearDataAssets(): void {
    dataAssets.clear();
  }
  
```

---

#### Pattern: `isNaN()` at line 421:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isNaN() for more accurate type checking

**Code:**
```typescript
        const value = row[index];
        // Try to parse as number
        const numValue = parseFloat(value);
> obj[header] = Number.isNaN(numValue) ? value : numValue;
      });
      return obj;
    });
```

---

#### Pattern: `isNaN()` at line 466:21

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isNaN() for more accurate type checking

**Code:**
```typescript
  
        // Try to parse as number
        const numValue = parseFloat(value);
> return Number.isNaN(numValue) ? value : numValue;
      },
  
      numRows: () => asset.numRows,
```

---

#### Pattern: `isNaN()` at line 576:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isNaN() for more accurate type checking

**Code:**
```typescript
    let sum = 0;
    for (const row of asset.rows) {
      const value = parseFloat(row[colIndex]);
> if (!Number.isNaN(value)) {
        sum += value;
      }
    }
```

---

#### Pattern: `isNaN()` at line 601:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isNaN() for more accurate type checking

**Code:**
```typescript
    let max = -Infinity;
    for (const row of asset.rows) {
      const value = parseFloat(row[colIndex]);
> if (!Number.isNaN(value) && value > max) {
        max = value;
      }
    }
```

---

#### Pattern: `isNaN()` at line 626:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isNaN() for more accurate type checking

**Code:**
```typescript
    let min = Infinity;
    for (const row of asset.rows) {
      const value = parseFloat(row[colIndex]);
> if (!Number.isNaN(value) && value < min) {
        min = value;
      }
    }
```

---

### `services/depthflow.ts` (6 pattern(s))

#### Pattern: `: void` at line 752:22

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.initWebGL();
    }
  
> private initWebGL(): void {
      const gl = this.outputCanvas.getContext("webgl2", {
        premultipliedAlpha: false,
        preserveDrawingBuffer: true,
```

---

#### Pattern: `: void` at line 854:69

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return shader;
    }
  
> setSource(image: ImageData | HTMLImageElement | HTMLCanvasElement): void {
      if (image instanceof ImageData) {
        this.sourceCanvas.width = image.width;
        this.sourceCanvas.height = image.height;
```

---

#### Pattern: `: void` at line 877:71

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> setDepthMap(depth: ImageData | HTMLImageElement | HTMLCanvasElement): void {
      if (depth instanceof ImageData) {
        this.depthCanvas.width = depth.width;
        this.depthCanvas.height = depth.height;
```

---

#### Pattern: `: void` at line 895:51

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> private updateTexture(which: "source" | "depth"): void {
      const gl = this.gl!;
      const canvas = which === "source" ? this.sourceCanvas : this.depthCanvas;
  
```

---

#### Pattern: `: void` at line 918:46

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, canvas);
    }
  
> setConfig(config: Partial<DepthflowConfig>): void {
      this.config = { ...this.config, ...config };
    }
  
```

---

#### Pattern: `: void` at line 1259:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return this.outputCanvas;
    }
  
> dispose(): void {
      if (this.gl) {
        if (this.sourceTexture) this.gl.deleteTexture(this.sourceTexture);
        if (this.depthTexture) this.gl.deleteTexture(this.depthTexture);
```

---

### `services/effectProcessor.ts` (8 pattern(s))

#### Pattern: `: void` at line 36:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    effectKey: string,
    params: EvaluatedEffectParams,
    audioModifiers: AudioReactiveModifiers,
> ): void {
    // Glow effect - apply audio-reactive intensity, radius, and threshold modifiers
    // glow_intensity (0-500%), glow_radius (0-200px), glow_threshold (0-100 luminance cutoff)
    if (effectKey === "glow" || effectKey === "cinematic-bloom") {
```

---

#### Pattern: `: void` at line 212:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      params: EvaluatedEffectParams,
      inputCanvas: HTMLCanvasElement,
      result: ImageData,
> ): void {
      // Evict oldest if at capacity
      while (this.cache.size >= this.maxSize) {
        const firstKey = this.cache.keys().next().value;
```

---

#### Pattern: `: void` at line 230:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Invalidate cache for a specific effect
     */
> invalidate(effectId: string): void {
      this.cache.delete(effectId);
    }
  
```

---

#### Pattern: `: void` at line 237:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear all cached results
     */
> clear(): void {
      this.cache.clear();
    }
  
```

---

#### Pattern: `: void` at line 256:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * Clear effect processor caches
   * Call when loading a new project or clearing memory
   */
> export function clearEffectCaches(): void {
    effectCache.clear();
    canvasPool.clear();
  }
```

---

#### Pattern: `: void` at line 278:41

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * Clean up unused resources
   * Call periodically (e.g., every minute) to free memory
   */
> export function cleanupEffectResources(): void {
    canvasPool.cleanup();
  }
  
```

---

#### Pattern: `: void` at line 322:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function registerEffectRenderer(
    effectKey: string,
    renderer: EffectRenderer,
> ): void {
    effectRenderers.set(effectKey, renderer);
  }
  
```

---

#### Pattern: `: void` at line 788:57

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * Release a canvas back to the pool when done
   * Call this after effect processing to enable reuse
   */
> export function releaseCanvas(canvas: HTMLCanvasElement): void {
    canvasPool.release(canvas);
  }
  
```

---

### `services/effects/audioVisualizer.ts` (3 pattern(s))

#### Pattern: `Optional Chaining` at line 266:16

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  ): number[] {
    const spectrum: number[] = new Array(bands).fill(0);
  
> if (audioData?.frequencyBands && frame < audioData.frameCount) {
      // Use real audio data
      const { sub, bass, lowMid, mid, highMid, high } = audioData.frequencyBands;
  
```

---

#### Pattern: `Optional Chaining` at line 465:16

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const waveform: number[] = new Array(samples).fill(0);
    const halfSamples = Math.floor(samples / 2);
  
> if (audioData?.amplitudeEnvelope && frame < audioData.frameCount) {
      // Use real audio data, centered on current frame
      for (let i = 0; i < samples; i++) {
        const sampleFrame = frame - halfSamples + i;
```

---

#### Pattern: `: void` at line 501:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Register audio visualizer effects with the effect processor
   */
> export function registerAudioVisualizerEffects(): void {
    // Audio Spectrum Effect
    registerEffectRenderer(
      "audio-spectrum",
```

---

### `services/effects/blurRenderer.ts` (21 pattern(s))

#### Pattern: `: void` at line 386:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clean up WebGL resources
     */
> dispose(): void {
      if (this.gl) {
        if (this.program) this.gl.deleteProgram(this.program);
        if (this.texture) this.gl.deleteTexture(this.texture);
```

---

#### Pattern: `: void` at line 417:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Dispose WebGL blur resources
   */
> export function disposeWebGLBlur(): void {
    webglBlurContext.dispose();
  }
  
```

---

#### Pattern: `: void` at line 502:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    imageData: ImageData,
    radiusX: number,
    radiusY: number,
> ): void {
    const pixels = imageData.data;
    const width = imageData.width;
    const height = imageData.height;
```

---

#### Pattern: `isFinite()` at line 510:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    // Clamp radii (handle NaN - Math.round(NaN) stays NaN, bypassing clamp)
    radiusX = Math.round(radiusX);
    radiusY = Math.round(radiusY);
> if (!Number.isFinite(radiusX)) radiusX = 0;
    if (!Number.isFinite(radiusY)) radiusY = 0;
    radiusX = Math.max(0, Math.min(255, radiusX));
    radiusY = Math.max(0, Math.min(255, radiusY));
```

---

#### Pattern: `isFinite()` at line 511:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    radiusX = Math.round(radiusX);
    radiusY = Math.round(radiusY);
    if (!Number.isFinite(radiusX)) radiusX = 0;
> if (!Number.isFinite(radiusY)) radiusY = 0;
    radiusX = Math.max(0, Math.min(255, radiusX));
    radiusY = Math.max(0, Math.min(255, radiusY));
  
```

---

#### Pattern: `: void` at line 536:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    width: number,
    height: number,
    radius: number,
> ): void {
    const div = radius + radius + 1;
    const widthMinus1 = width - 1;
    const mulSum = MUL_TABLE[radius];
```

---

#### Pattern: `: void` at line 692:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    width: number,
    height: number,
    radius: number,
> ): void {
    const div = radius + radius + 1;
    const heightMinus1 = height - 1;
    const mulSum = MUL_TABLE[radius];
```

---

#### Pattern: `isFinite()` at line 882:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    params: EvaluatedEffectParams,
  ): EffectStackResult {
    const blurrinessRaw = params.blurriness ?? 10;
> const blurriness = Number.isFinite(blurrinessRaw)
      ? Math.max(0, blurrinessRaw)
      : 0;
    const dimensions = params.blur_dimensions ?? "both";
```

---

#### Pattern: `isFinite()` at line 1023:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    params: EvaluatedEffectParams,
  ): EffectStackResult {
    const directionRaw = params.direction ?? 0;
> const direction = Number.isFinite(directionRaw)
      ? (directionRaw * Math.PI) / 180
      : 0;
    const blurLengthRaw = params.blur_length ?? 10;
```

---

#### Pattern: `isFinite()` at line 1027:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      ? (directionRaw * Math.PI) / 180
      : 0;
    const blurLengthRaw = params.blur_length ?? 10;
> const blurLength = Number.isFinite(blurLengthRaw)
      ? Math.max(0, Math.min(500, blurLengthRaw))
      : 0;
  
```

---

#### Pattern: `isFinite()` at line 1109:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  ): EffectStackResult {
    const type = params.type ?? "spin";
    const amountRaw = params.amount ?? 10;
> const amount = Number.isFinite(amountRaw)
      ? Math.max(0, Math.min(100, amountRaw))
      : 0;
  
```

---

#### Pattern: `Optional Chaining` at line 1115:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    // Support both point format (from definition: { x: 0.5, y: 0.5 }) and legacy center_x/center_y
    const center = params.center as { x: number; y: number } | undefined;
> const centerXRaw = center?.x ?? (params.center_x ?? 50) / 100;
    const centerYRaw = center?.y ?? (params.center_y ?? 50) / 100;
    const centerX = Number.isFinite(centerXRaw) ? centerXRaw : 0.5;
    const centerY = Number.isFinite(centerYRaw) ? centerYRaw : 0.5;
```

---

#### Pattern: `Optional Chaining` at line 1116:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    // Support both point format (from definition: { x: 0.5, y: 0.5 }) and legacy center_x/center_y
    const center = params.center as { x: number; y: number } | undefined;
    const centerXRaw = center?.x ?? (params.center_x ?? 50) / 100;
> const centerYRaw = center?.y ?? (params.center_y ?? 50) / 100;
    const centerX = Number.isFinite(centerXRaw) ? centerXRaw : 0.5;
    const centerY = Number.isFinite(centerYRaw) ? centerYRaw : 0.5;
  
```

---

#### Pattern: `isFinite()` at line 1117:26

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const center = params.center as { x: number; y: number } | undefined;
    const centerXRaw = center?.x ?? (params.center_x ?? 50) / 100;
    const centerYRaw = center?.y ?? (params.center_y ?? 50) / 100;
> const centerX = Number.isFinite(centerXRaw) ? centerXRaw : 0.5;
    const centerY = Number.isFinite(centerYRaw) ? centerYRaw : 0.5;
  
    // Support both 'antialiasing' (from definition) and legacy 'quality'
```

---

#### Pattern: `isFinite()` at line 1118:26

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const centerXRaw = center?.x ?? (params.center_x ?? 50) / 100;
    const centerYRaw = center?.y ?? (params.center_y ?? 50) / 100;
    const centerX = Number.isFinite(centerXRaw) ? centerXRaw : 0.5;
> const centerY = Number.isFinite(centerYRaw) ? centerYRaw : 0.5;
  
    // Support both 'antialiasing' (from definition) and legacy 'quality'
    const antialiasing = params.antialiasing ?? params.quality ?? "high";
```

---

#### Pattern: `isFinite()` at line 1256:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  ): EffectStackResult {
    // Support both 'blur_radius' (from definition) and legacy 'radius'
    const radiusRaw = Math.round(params.blur_radius ?? params.radius ?? 5);
> const radius = Number.isFinite(radiusRaw)
      ? Math.max(0, Math.min(100, radiusRaw))
      : 0;
    const iterationsRaw = params.iterations ?? 1;
```

---

#### Pattern: `isFinite()` at line 1260:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      ? Math.max(0, Math.min(100, radiusRaw))
      : 0;
    const iterationsRaw = params.iterations ?? 1;
> const iterations = Number.isFinite(iterationsRaw)
      ? Math.max(1, Math.min(5, iterationsRaw))
      : 1;
  
```

---

#### Pattern: `isFinite()` at line 1359:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  ): EffectStackResult {
    // Support both 'sharpen_amount' (from definition) and legacy 'amount'
    const amountRaw = (params.sharpen_amount ?? params.amount ?? 50) / 100;
> const amount = Number.isFinite(amountRaw) ? amountRaw : 0;
    const radiusRaw = params.radius ?? 1;
    const radius = Number.isFinite(radiusRaw)
      ? Math.max(1, Math.min(100, radiusRaw))
```

---

#### Pattern: `isFinite()` at line 1361:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const amountRaw = (params.sharpen_amount ?? params.amount ?? 50) / 100;
    const amount = Number.isFinite(amountRaw) ? amountRaw : 0;
    const radiusRaw = params.radius ?? 1;
> const radius = Number.isFinite(radiusRaw)
      ? Math.max(1, Math.min(100, radiusRaw))
      : 1;
    const thresholdRaw = params.threshold ?? 0;
```

---

#### Pattern: `isFinite()` at line 1365:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      ? Math.max(1, Math.min(100, radiusRaw))
      : 1;
    const thresholdRaw = params.threshold ?? 0;
> const threshold = Number.isFinite(thresholdRaw)
      ? Math.max(0, Math.min(255, thresholdRaw))
      : 0;
  
```

---

#### Pattern: `: void` at line 1411:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Register all blur effect renderers
   */
> export function registerBlurEffects(): void {
    registerEffectRenderer("gaussian-blur", gaussianBlurRenderer);
    registerEffectRenderer("directional-blur", directionalBlurRenderer);
    registerEffectRenderer("radial-blur", radialBlurRenderer);
```

---

### `services/effects/cinematicBloom.ts` (4 pattern(s))

#### Pattern: `: void` at line 231:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    kernel: Float32Array,
    horizontal: boolean,
    channel: number, // 0=R, 1=G, 2=B, 3=A
> ): void {
    const kernelSize = kernel.length;
    const kernelHalf = Math.floor(kernelSize / 2);
  
```

---

#### Pattern: `: void` at line 526:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    width: number,
    height: number,
    intensity: number,
> ): void {
    for (let y = 0; y < height; y++) {
      for (let x = 0; x < width; x++) {
        const dirtIdx = y * width + x;
```

---

#### Pattern: `Optional Chaining` at line 712:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    // Use _sourceCanvas if provided (for additive stacking), otherwise use input
    // This ensures stacked blooms extract from original layer, not from previous bloom output
    const sourceCanvas = params._sourceCanvas as HTMLCanvasElement | undefined;
> const sourceCtx = sourceCanvas?.getContext("2d");
    let originalData = sourceCtx
      ? sourceCtx.getImageData(0, 0, width, height)
      : input.ctx.getImageData(0, 0, width, height);
```

---

#### Pattern: `: void` at line 824:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Register cinematic bloom effect renderers
   */
> export function registerCinematicBloomEffects(): void {
    registerEffectRenderer("cinematic-bloom", cinematicBloomRenderer);
    registerEffectRenderer("glow", glowRenderer);
  }
```

---

### `services/effects/colorGrading.ts` (13 pattern(s))

#### Pattern: `isFinite()` at line 41:24

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const liftRRaw = params.lift_red ?? 0;
    const liftGRaw = params.lift_green ?? 0;
    const liftBRaw = params.lift_blue ?? 0;
> const liftR = Number.isFinite(liftRRaw)
      ? Math.max(-1, Math.min(1, liftRRaw))
      : 0;
    const liftG = Number.isFinite(liftGRaw)
```

---

#### Pattern: `isFinite()` at line 44:24

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const liftR = Number.isFinite(liftRRaw)
      ? Math.max(-1, Math.min(1, liftRRaw))
      : 0;
> const liftG = Number.isFinite(liftGRaw)
      ? Math.max(-1, Math.min(1, liftGRaw))
      : 0;
    const liftB = Number.isFinite(liftBRaw)
```

---

#### Pattern: `isFinite()` at line 47:24

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const liftG = Number.isFinite(liftGRaw)
      ? Math.max(-1, Math.min(1, liftGRaw))
      : 0;
> const liftB = Number.isFinite(liftBRaw)
      ? Math.max(-1, Math.min(1, liftBRaw))
      : 0;
  
```

---

#### Pattern: `isFinite()` at line 55:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const gammaRRaw = params.gamma_red ?? 1;
    const gammaGRaw = params.gamma_green ?? 1;
    const gammaBRaw = params.gamma_blue ?? 1;
> const gammaR = Number.isFinite(gammaRRaw)
      ? Math.max(0.1, Math.min(4, gammaRRaw))
      : 1;
    const gammaG = Number.isFinite(gammaGRaw)
```

---

#### Pattern: `isFinite()` at line 58:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const gammaR = Number.isFinite(gammaRRaw)
      ? Math.max(0.1, Math.min(4, gammaRRaw))
      : 1;
> const gammaG = Number.isFinite(gammaGRaw)
      ? Math.max(0.1, Math.min(4, gammaGRaw))
      : 1;
    const gammaB = Number.isFinite(gammaBRaw)
```

---

#### Pattern: `isFinite()` at line 61:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const gammaG = Number.isFinite(gammaGRaw)
      ? Math.max(0.1, Math.min(4, gammaGRaw))
      : 1;
> const gammaB = Number.isFinite(gammaBRaw)
      ? Math.max(0.1, Math.min(4, gammaBRaw))
      : 1;
  
```

---

#### Pattern: `isFinite()` at line 69:24

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const gainRRaw = params.gain_red ?? 1;
    const gainGRaw = params.gain_green ?? 1;
    const gainBRaw = params.gain_blue ?? 1;
> const gainR = Number.isFinite(gainRRaw)
      ? Math.max(0, Math.min(4, gainRRaw))
      : 1;
    const gainG = Number.isFinite(gainGRaw)
```

---

#### Pattern: `isFinite()` at line 72:24

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const gainR = Number.isFinite(gainRRaw)
      ? Math.max(0, Math.min(4, gainRRaw))
      : 1;
> const gainG = Number.isFinite(gainGRaw)
      ? Math.max(0, Math.min(4, gainGRaw))
      : 1;
    const gainB = Number.isFinite(gainBRaw)
```

---

#### Pattern: `isFinite()` at line 75:24

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const gainG = Number.isFinite(gainGRaw)
      ? Math.max(0, Math.min(4, gainGRaw))
      : 1;
> const gainB = Number.isFinite(gainBRaw)
      ? Math.max(0, Math.min(4, gainBRaw))
      : 1;
  
```

---

#### Pattern: `isFinite()` at line 192:51

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      min?: number,
      max?: number,
    ): number => {
> const num = typeof val === "number" && Number.isFinite(val) ? val : def;
      if (min !== undefined && max !== undefined)
        return Math.max(min, Math.min(max, num));
      return num;
```

---

#### Pattern: `isFinite()` at line 608:12

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const refPixelsRaw = params.reference_pixels as number | undefined;
    const refPixels =
      typeof refPixelsRaw === "number" &&
> Number.isFinite(refPixelsRaw) &&
      refPixelsRaw > 0
        ? refPixelsRaw
        : 0;
```

---

#### Pattern: `isFinite()` at line 613:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        ? refPixelsRaw
        : 0;
    const strengthRaw = (params.strength ?? 100) / 100;
> const strength = Number.isFinite(strengthRaw)
      ? Math.max(0, Math.min(1, strengthRaw))
      : 0;
    const matchLuminance = params.match_luminance ?? true;
```

---

#### Pattern: `: void` at line 767:46

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Register all color grading effect renderers
   */
> export function registerColorGradingEffects(): void {
    registerEffectRenderer("lift-gamma-gain", liftGammaGainRenderer);
    registerEffectRenderer("hsl-secondary", hslSecondaryRenderer);
    registerEffectRenderer("hue-vs-curves", hueVsCurvesRenderer);
```

---

### `services/effects/colorRenderer.ts` (39 pattern(s))

#### Pattern: `isFinite()` at line 64:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  ): EffectStackResult {
    // Validate numeric params (NaN causes black pixel corruption)
    const rawBrightness = params.brightness ?? 0;
> const brightness = Number.isFinite(rawBrightness) ? rawBrightness / 100 : 0;
    const rawContrast = params.contrast ?? 0;
    const contrast = Number.isFinite(rawContrast) ? rawContrast / 100 : 0;
    const useLegacy = params.use_legacy ?? false;
```

---

#### Pattern: `isFinite()` at line 66:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rawBrightness = params.brightness ?? 0;
    const brightness = Number.isFinite(rawBrightness) ? rawBrightness / 100 : 0;
    const rawContrast = params.contrast ?? 0;
> const contrast = Number.isFinite(rawContrast) ? rawContrast / 100 : 0;
    const useLegacy = params.use_legacy ?? false;
  
    // No change needed
```

---

#### Pattern: `isFinite()` at line 195:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  ): EffectStackResult {
    // Validate numeric params (NaN causes black pixel corruption)
    const rawHue = params.master_hue ?? 0;
> const hueShift = Number.isFinite(rawHue) ? rawHue / 360 : 0;
    const rawSat = params.master_saturation ?? 0;
    const saturationShift = Number.isFinite(rawSat) ? rawSat / 100 : 0;
    const rawLight = params.master_lightness ?? 0;
```

---

#### Pattern: `isFinite()` at line 197:34

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rawHue = params.master_hue ?? 0;
    const hueShift = Number.isFinite(rawHue) ? rawHue / 360 : 0;
    const rawSat = params.master_saturation ?? 0;
> const saturationShift = Number.isFinite(rawSat) ? rawSat / 100 : 0;
    const rawLight = params.master_lightness ?? 0;
    const lightnessShift = Number.isFinite(rawLight) ? rawLight / 100 : 0;
    const colorize = params.colorize ?? false;
```

---

#### Pattern: `isFinite()` at line 199:33

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rawSat = params.master_saturation ?? 0;
    const saturationShift = Number.isFinite(rawSat) ? rawSat / 100 : 0;
    const rawLight = params.master_lightness ?? 0;
> const lightnessShift = Number.isFinite(rawLight) ? rawLight / 100 : 0;
    const colorize = params.colorize ?? false;
  
    // No change needed
```

---

#### Pattern: `isFinite()` at line 279:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  ): EffectStackResult {
    // Validate numeric params (NaN causes black pixel corruption)
    const rawInputBlack = params.input_black ?? 0;
> const inputBlack = Number.isFinite(rawInputBlack) ? rawInputBlack : 0;
    const rawInputWhite = params.input_white ?? 255;
    const inputWhite = Number.isFinite(rawInputWhite) ? rawInputWhite : 255;
    const rawGamma = params.gamma ?? 1;
```

---

#### Pattern: `isFinite()` at line 281:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rawInputBlack = params.input_black ?? 0;
    const inputBlack = Number.isFinite(rawInputBlack) ? rawInputBlack : 0;
    const rawInputWhite = params.input_white ?? 255;
> const inputWhite = Number.isFinite(rawInputWhite) ? rawInputWhite : 255;
    const rawGamma = params.gamma ?? 1;
    const gamma = Number.isFinite(rawGamma) && rawGamma > 0 ? rawGamma : 1;
    const rawOutputBlack = params.output_black ?? 0;
```

---

#### Pattern: `isFinite()` at line 283:24

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rawInputWhite = params.input_white ?? 255;
    const inputWhite = Number.isFinite(rawInputWhite) ? rawInputWhite : 255;
    const rawGamma = params.gamma ?? 1;
> const gamma = Number.isFinite(rawGamma) && rawGamma > 0 ? rawGamma : 1;
    const rawOutputBlack = params.output_black ?? 0;
    const outputBlack = Number.isFinite(rawOutputBlack) ? rawOutputBlack : 0;
    const rawOutputWhite = params.output_white ?? 255;
```

---

#### Pattern: `isFinite()` at line 285:30

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rawGamma = params.gamma ?? 1;
    const gamma = Number.isFinite(rawGamma) && rawGamma > 0 ? rawGamma : 1;
    const rawOutputBlack = params.output_black ?? 0;
> const outputBlack = Number.isFinite(rawOutputBlack) ? rawOutputBlack : 0;
    const rawOutputWhite = params.output_white ?? 255;
    const outputWhite = Number.isFinite(rawOutputWhite) ? rawOutputWhite : 255;
  
```

---

#### Pattern: `isFinite()` at line 287:30

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rawOutputBlack = params.output_black ?? 0;
    const outputBlack = Number.isFinite(rawOutputBlack) ? rawOutputBlack : 0;
    const rawOutputWhite = params.output_white ?? 255;
> const outputWhite = Number.isFinite(rawOutputWhite) ? rawOutputWhite : 255;
  
    // No change needed
    if (
```

---

#### Pattern: `isFinite()` at line 360:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const whiteColor = params.map_white_to ?? { r: 255, g: 255, b: 255 };
    // Validate amount (NaN causes black pixel corruption)
    const rawAmount = params.amount_to_tint ?? 100;
> const amount = Number.isFinite(rawAmount) ? rawAmount / 100 : 1;
  
    // No change at 0 amount
    if (amount === 0) {
```

---

#### Pattern: `isFinite()` at line 534:24

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const alphaCurve = params.alpha_curve as CurvePoint[] | undefined;
    // Validate blend param (NaN causes black pixel corruption)
    const rawBlend = params.blend_with_original ?? 100;
> const blend = Number.isFinite(rawBlend) ? rawBlend / 100 : 1;
  
    // Check if any curves are defined
    const hasCurves =
```

---

#### Pattern: `isFinite()` at line 672:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  ): EffectStackResult {
    // Validate numeric params (NaN causes black pixel corruption)
    const rawThreshold = params.glow_threshold ?? 128;
> const threshold = Number.isFinite(rawThreshold) ? rawThreshold : 128;
    const rawRadius = params.glow_radius ?? 20;
    const radius = Number.isFinite(rawRadius) ? Math.max(0, rawRadius) : 20;
    // Support both new 'glow_intensity' (0-10 range) and legacy (0-400 percentage)
```

---

#### Pattern: `isFinite()` at line 674:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rawThreshold = params.glow_threshold ?? 128;
    const threshold = Number.isFinite(rawThreshold) ? rawThreshold : 128;
    const rawRadius = params.glow_radius ?? 20;
> const radius = Number.isFinite(rawRadius) ? Math.max(0, rawRadius) : 20;
    // Support both new 'glow_intensity' (0-10 range) and legacy (0-400 percentage)
    const rawIntensity = params.glow_intensity ?? 100;
    const validIntensity = Number.isFinite(rawIntensity) ? rawIntensity : 100;
```

---

#### Pattern: `isFinite()` at line 677:33

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const radius = Number.isFinite(rawRadius) ? Math.max(0, rawRadius) : 20;
    // Support both new 'glow_intensity' (0-10 range) and legacy (0-400 percentage)
    const rawIntensity = params.glow_intensity ?? 100;
> const validIntensity = Number.isFinite(rawIntensity) ? rawIntensity : 100;
    const intensity =
      validIntensity <= 10 ? validIntensity : validIntensity / 100;
  
```

---

#### Pattern: `isFinite()` at line 696:36

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    // Color Looping (animated color cycling)
    const colorLooping = params.color_looping ?? "none";
    const rawLoopSpeed = params.color_looping_speed ?? 1;
> const colorLoopingSpeed = Number.isFinite(rawLoopSpeed) ? rawLoopSpeed : 1;
  
    // Glow Dimensions (horizontal, vertical, or both)
    const glowDimensions = params.glow_dimensions ?? "both";
```

---

#### Pattern: `isFinite()` at line 715:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // Use injected FPS from context, fallback to 16 (WAN standard)
      // Validate fps (nullish coalescing doesn't catch NaN)
      const fps =
> Number.isFinite(params._fps) && params._fps > 0 ? params._fps : 16;
      const time = frame / fps;
      const cycle = (time * colorLoopingSpeed) % 1;
  
```

---

#### Pattern: `Optional Chaining` at line 758:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const thresholdCtx = thresholdCanvas.getContext("2d")!;
  
    // Get image data from source canvas (original) or input canvas (chain)
> const sourceCtx = sourceCanvas?.getContext("2d");
    const inputData = sourceCtx
      ? sourceCtx.getImageData(0, 0, width, height)
      : input.ctx.getImageData(0, 0, width, height);
```

---

#### Pattern: `isFinite()` at line 923:26

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const shadowColor = params.shadow_color ?? { r: 0, g: 0, b: 0, a: 0.5 };
    // Validate numeric params (NaN causes visual corruption)
    const rawOpacity = params.opacity ?? 50;
> const opacity = Number.isFinite(rawOpacity) ? rawOpacity / 100 : 0.5;
    const rawDirection = params.direction ?? 135;
    const direction = Number.isFinite(rawDirection)
      ? (rawDirection * Math.PI) / 180
```

---

#### Pattern: `isFinite()` at line 925:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rawOpacity = params.opacity ?? 50;
    const opacity = Number.isFinite(rawOpacity) ? rawOpacity / 100 : 0.5;
    const rawDirection = params.direction ?? 135;
> const direction = Number.isFinite(rawDirection)
      ? (rawDirection * Math.PI) / 180
      : (135 * Math.PI) / 180;
    const rawDistance = params.distance ?? 5;
```

---

#### Pattern: `isFinite()` at line 929:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      ? (rawDirection * Math.PI) / 180
      : (135 * Math.PI) / 180;
    const rawDistance = params.distance ?? 5;
> const distance = Number.isFinite(rawDistance) ? rawDistance : 5;
    const rawSoftness = params.softness ?? 5;
    const softness = Number.isFinite(rawSoftness) ? rawSoftness : 5;
    const shadowOnly = params.shadow_only ?? false;
```

---

#### Pattern: `isFinite()` at line 931:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rawDistance = params.distance ?? 5;
    const distance = Number.isFinite(rawDistance) ? rawDistance : 5;
    const rawSoftness = params.softness ?? 5;
> const softness = Number.isFinite(rawSoftness) ? rawSoftness : 5;
    const shadowOnly = params.shadow_only ?? false;
  
    const output = createMatchingCanvas(input.canvas);
```

---

#### Pattern: `isFinite()` at line 990:19

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    // Validate numeric params (NaN causes black pixel corruption)
    const safeDiv100 = (val: unknown, def: number) => {
      const raw = (val ?? def) as number;
> return Number.isFinite(raw) ? raw / 100 : def / 100;
    };
    const shadowR = safeDiv100(params.shadow_red, 0);
    const shadowG = safeDiv100(params.shadow_green, 0);
```

---

#### Pattern: `isFinite()` at line 1100:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  ): EffectStackResult {
    // Validate numeric params (NaN causes black pixel corruption)
    const rawExposure = params.exposure ?? 0;
> const exposure = Number.isFinite(rawExposure) ? rawExposure : 0;
    const rawOffset = params.offset ?? 0;
    const offset = Number.isFinite(rawOffset) ? rawOffset : 0;
    const rawGamma = params.gamma ?? 1;
```

---

#### Pattern: `isFinite()` at line 1102:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rawExposure = params.exposure ?? 0;
    const exposure = Number.isFinite(rawExposure) ? rawExposure : 0;
    const rawOffset = params.offset ?? 0;
> const offset = Number.isFinite(rawOffset) ? rawOffset : 0;
    const rawGamma = params.gamma ?? 1;
    const gamma = Number.isFinite(rawGamma) && rawGamma > 0 ? rawGamma : 1;
  
```

---

#### Pattern: `isFinite()` at line 1104:24

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rawOffset = params.offset ?? 0;
    const offset = Number.isFinite(rawOffset) ? rawOffset : 0;
    const rawGamma = params.gamma ?? 1;
> const gamma = Number.isFinite(rawGamma) && rawGamma > 0 ? rawGamma : 1;
  
    // No change if all values are default
    if (exposure === 0 && offset === 0 && gamma === 1) {
```

---

#### Pattern: `isFinite()` at line 1171:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  ): EffectStackResult {
    // Validate numeric params (NaN causes black pixel corruption)
    const rawVibrance = params.vibrance ?? 0;
> const vibrance = Number.isFinite(rawVibrance) ? rawVibrance / 100 : 0;
    const rawSaturation = params.saturation ?? 0;
    const saturation = Number.isFinite(rawSaturation) ? rawSaturation / 100 : 0;
  
```

---

#### Pattern: `isFinite()` at line 1173:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rawVibrance = params.vibrance ?? 0;
    const vibrance = Number.isFinite(rawVibrance) ? rawVibrance / 100 : 0;
    const rawSaturation = params.saturation ?? 0;
> const saturation = Number.isFinite(rawSaturation) ? rawSaturation / 100 : 0;
  
    // No change if all values are 0
    if (vibrance === 0 && saturation === 0) {
```

---

#### Pattern: `isFinite()` at line 1253:24

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  ): EffectStackResult {
    // Validate blend param (NaN causes black pixel corruption)
    const rawBlend = params.blend ?? 100;
> const blend = Number.isFinite(rawBlend) ? rawBlend / 100 : 1;
    const channel = params.channel ?? "rgb";
  
    if (blend === 0) {
```

---

#### Pattern: `isFinite()` at line 1338:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  ): EffectStackResult {
    // Validate levels (NaN bypasses Math.max/min clamps, corrupting LUT)
    const rawLevels = params.levels ?? 6;
> const levels = Number.isFinite(rawLevels)
      ? Math.max(2, Math.min(256, rawLevels))
      : 6;
  
```

---

#### Pattern: `isFinite()` at line 1391:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  ): EffectStackResult {
    // Validate threshold param (NaN causes incorrect threshold comparison)
    const rawThreshold = params.threshold ?? 128;
> const threshold = Number.isFinite(rawThreshold) ? rawThreshold : 128;
  
    const output = createMatchingCanvas(input.canvas);
    const imageData = input.ctx.getImageData(
```

---

#### Pattern: `isFinite()` at line 1444:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  ): EffectStackResult {
    // Validate numeric params (NaN causes black pixel corruption)
    const rawAmount = params.amount ?? 0;
> const amount = Number.isFinite(rawAmount) ? rawAmount / 100 : 0;
    const rawMidpoint = params.midpoint ?? 50;
    const midpoint = Number.isFinite(rawMidpoint) ? rawMidpoint / 100 : 0.5;
    const rawRoundness = params.roundness ?? 0;
```

---

#### Pattern: `isFinite()` at line 1446:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rawAmount = params.amount ?? 0;
    const amount = Number.isFinite(rawAmount) ? rawAmount / 100 : 0;
    const rawMidpoint = params.midpoint ?? 50;
> const midpoint = Number.isFinite(rawMidpoint) ? rawMidpoint / 100 : 0.5;
    const rawRoundness = params.roundness ?? 0;
    const roundness = Number.isFinite(rawRoundness) ? rawRoundness / 100 : 0;
    const rawFeather = params.feather ?? 50;
```

---

#### Pattern: `isFinite()` at line 1448:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rawMidpoint = params.midpoint ?? 50;
    const midpoint = Number.isFinite(rawMidpoint) ? rawMidpoint / 100 : 0.5;
    const rawRoundness = params.roundness ?? 0;
> const roundness = Number.isFinite(rawRoundness) ? rawRoundness / 100 : 0;
    const rawFeather = params.feather ?? 50;
    const feather = Number.isFinite(rawFeather) ? rawFeather / 100 : 0.5;
  
```

---

#### Pattern: `isFinite()` at line 1450:26

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rawRoundness = params.roundness ?? 0;
    const roundness = Number.isFinite(rawRoundness) ? rawRoundness / 100 : 0;
    const rawFeather = params.feather ?? 50;
> const feather = Number.isFinite(rawFeather) ? rawFeather / 100 : 0.5;
  
    // No change needed
    if (amount === 0) {
```

---

#### Pattern: `isFinite()` at line 1660:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const lutData = params.lutData as string;
    // Validate intensity param (NaN causes black pixel corruption)
    const rawIntensity = params.intensity ?? 100;
> const intensity = Number.isFinite(rawIntensity) ? rawIntensity / 100 : 1;
  
    if (!lutData || intensity === 0) {
      return input;
```

---

#### Pattern: `: void` at line 1722:63

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Register a LUT in the cache by name
   */
> export function registerLUT(name: string, cubeContent: string): void {
    const lut = parseCubeLUT(cubeContent);
    lutCache.set(name, lut);
  }
```

---

#### Pattern: `: void` at line 1737:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Clear LUT cache
   */
> export function clearLUTCache(): void {
    lutCache.clear();
  }
  
```

---

#### Pattern: `: void` at line 1751:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Register all color correction effect renderers
   */
> export function registerColorEffects(): void {
    // Register basic color effects
    registerEffectRenderer("brightness-contrast", brightnessContrastRenderer);
    registerEffectRenderer("hue-saturation", hueSaturationRenderer);
```

---

### `services/effects/distortRenderer.ts` (3 pattern(s))

#### Pattern: `: void` at line 46:51

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.initializePermutationTable(seed);
    }
  
> private initializePermutationTable(seed: number): void {
      // Mulberry32 seeded random
      const mulberry32 = (s: number) => {
        return () => {
```

---

#### Pattern: `isFinite()` at line 173:49

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    min?: number,
    max?: number,
  ): number {
> const num = typeof val === "number" && Number.isFinite(val) ? val : def;
    if (min !== undefined && max !== undefined) {
      return Math.max(min, Math.min(max, num));
    }
```

---

#### Pattern: `: void` at line 1239:41

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Register all distort effect renderers
   */
> export function registerDistortEffects(): void {
    registerEffectRenderer("transform", transformRenderer);
    registerEffectRenderer("warp", warpRenderer);
    registerEffectRenderer("displacement-map", displacementMapRenderer);
```

---

### `services/effects/expressionControlRenderer.ts` (1 pattern(s))

#### Pattern: `: void` at line 112:53

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Register all Expression Control renderers
   */
> export function registerExpressionControlRenderers(): void {
    registerEffectRenderer("slider-control", sliderControlRenderer);
    registerEffectRenderer("checkbox-control", checkboxControlRenderer);
    registerEffectRenderer("dropdown-menu-control", dropdownMenuControlRenderer);
```

---

### `services/effects/generateRenderer.ts` (5 pattern(s))

#### Pattern: `: void` at line 95:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      octave: number,
      seed: number,
      tile: Float32Array,
> ): void {
      // Evict oldest if at capacity
      while (this.cache.size >= this.maxSize) {
        const firstKey = this.cache.keys().next().value;
```

---

#### Pattern: `: void` at line 117:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear all cached tiles
     */
> clear(): void {
      this.cache.clear();
    }
  
```

---

#### Pattern: `: void` at line 135:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Clear noise tile cache
   */
> export function clearNoiseTileCache(): void {
    noiseTileCache.clear();
  }
  
```

---

#### Pattern: `isFinite()` at line 169:26

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const color = params.color ?? { r: 255, g: 0, b: 0, a: 1 };
    // Validate opacity (NaN causes visual corruption)
    const rawOpacity = params.opacity ?? 100;
> const opacity = Number.isFinite(rawOpacity) ? rawOpacity / 100 : 1;
    const invert = params.invert ?? false;
  
    const { width, height } = input.canvas;
```

---

#### Pattern: `: void` at line 847:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Register all generate effect renderers
   */
> export function registerGenerateEffects(): void {
    registerEffectRenderer("fill", fillRenderer);
    registerEffectRenderer("gradient-ramp", gradientRampRenderer);
    registerEffectRenderer("fractal-noise", fractalNoiseRenderer);
```

---

### `services/effects/index.ts` (1 pattern(s))

#### Pattern: `: void` at line 23:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * Initialize all effect renderers
   * Call this once at application startup
   */
> export function initializeEffects(): void {
    registerBlurEffects();
    registerColorEffects();
    registerDistortEffects();
```

---

### `services/effects/layerStyleRenderer.ts` (12 pattern(s))

#### Pattern: `: void` at line 56:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Set current frame for getValue calls
   */
> export function setCurrentFrame(frame: number): void {
    currentFrame = frame;
  }
  
```

---

#### Pattern: `: void` at line 93:58

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Release a canvas back to the pool
   */
> function releaseMatchingCanvas(canvas: HTMLCanvasElement): void {
    canvasPool.release(canvas);
  }
  
```

---

#### Pattern: `: void` at line 130:62

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Apply Gaussian blur to canvas
   */
> function applyBlur(canvas: HTMLCanvasElement, radius: number): void {
    if (radius <= 0) return;
    const ctx = canvas.getContext("2d")!;
    ctx.filter = `blur(${radius}px)`;
```

---

#### Pattern: `Optional Chaining` at line 1133:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    // 1. Drop Shadow (renders behind)
> if (styles.dropShadow?.enabled) {
      result = renderDropShadowStyle(result, styles.dropShadow, globalLight);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 1138:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    // 2. Inner Shadow
> if (styles.innerShadow?.enabled) {
      result = renderInnerShadowStyle(result, styles.innerShadow, globalLight);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 1143:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    // 3. Outer Glow (renders behind)
> if (styles.outerGlow?.enabled) {
      result = renderOuterGlowStyle(result, styles.outerGlow);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 1148:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    // 4. Inner Glow
> if (styles.innerGlow?.enabled) {
      result = renderInnerGlowStyle(result, styles.innerGlow);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 1153:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    // 5. Bevel and Emboss
> if (styles.bevelEmboss?.enabled) {
      result = renderBevelEmbossStyle(result, styles.bevelEmboss, globalLight);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 1158:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    // 6. Satin
> if (styles.satin?.enabled) {
      result = renderSatinStyle(result, styles.satin);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 1163:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    // 7. Color Overlay
> if (styles.colorOverlay?.enabled) {
      result = renderColorOverlayStyle(result, styles.colorOverlay);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 1168:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    // 8. Gradient Overlay
> if (styles.gradientOverlay?.enabled) {
      result = renderGradientOverlayStyle(result, styles.gradientOverlay);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 1173:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    // 9. Stroke (renders on top)
> if (styles.stroke?.enabled) {
      result = renderStrokeStyle(result, styles.stroke);
    }
  
```

---

### `services/effects/maskRenderer.ts` (3 pattern(s))

#### Pattern: `: void` at line 27:71

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Render a bezier mask path to a canvas context
   */
> function renderMaskPath(ctx: CanvasRenderingContext2D, path: MaskPath): void {
    if (path.vertices.length < 2) return;
  
    ctx.beginPath();
```

---

#### Pattern: `: void` at line 374:66

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Cache current path for next frame's motion calculation
   */
> function cachePath(maskId: string, frame: number, path: MaskPath): void {
    previousPathCache.set(maskId, { frame, path });
  }
  
```

---

#### Pattern: `: void` at line 390:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * - Playhead jump operations
   * - Project load/reset
   */
> export function clearMaskPathCacheOnSeek(): void {
    previousPathCache.clear();
  }
  
```

---

### `services/effects/meshDeformRenderer.ts` (9 pattern(s))

#### Pattern: `: void` at line 400:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    dstA: Point2D,
    dstB: Point2D,
    dstC: Point2D,
> ): void {
    const { width, height, data: dst } = outputData;
    const { width: srcWidth, height: srcHeight, data: src } = inputData;
  
```

---

#### Pattern: `: void` at line 578:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    pins: WarpPin[] = [],
    frame: number = 0,
    enableOverlap: boolean = false,
> ): void {
    const { width, height } = outputCtx.canvas;
  
    // Get input image data
```

---

#### Pattern: `: void` at line 650:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    triangles: Uint32Array,
    _vertexCount: number,
    triangleCount: number,
> ): void {
    ctx.strokeStyle = "rgba(0, 255, 0, 0.5)";
    ctx.lineWidth = 1;
  
```

---

#### Pattern: `: void` at line 682:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    ctx: CanvasRenderingContext2D,
    pins: WarpPin[],
    frame: number,
> ): void {
    for (const pin of pins) {
      const { position, rotation, scale } = evaluatePinAtFrame(pin, frame);
  
```

---

#### Pattern: `Optional Chaining` at line 777:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit
- **Type Info:** Array type detected

**Code:**
```typescript
    const showPins = params.show_pins ?? true;
  
    // Get pins from effect instance (injected by render pipeline)
> const pins: WarpPin[] = effectInstance?.pins ?? [];
  
    // No pins = no deformation
    if (pins.length === 0) {
```

---

#### Pattern: `Optional Chaining` at line 787:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        output.ctx.drawImage(input.canvas, 0, 0);
  
        if (showMesh) {
> const effectId = effectInstance?.id ?? "temp";
          const { mesh } = getOrGenerateMesh(effectId, input.canvas, params, []);
          renderMeshWireframe(
            output.ctx,
```

---

#### Pattern: `Optional Chaining` at line 803:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      return input;
    }
  
> const effectId = effectInstance?.id ?? `temp-${Date.now()}`;
  
    // Get or generate mesh
    const { mesh, weights } = getOrGenerateMesh(
```

---

#### Pattern: `: void` at line 856:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Register mesh-deform effect renderer
   */
> export function registerMeshDeformEffect(): void {
    registerEffectRenderer("mesh-deform", meshDeformRenderer);
  }
  
```

---

#### Pattern: `: void` at line 863:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Clear mesh caches (call when loading new project)
   */
> export function clearMeshDeformCaches(): void {
    meshCaches.clear();
  }
  
```

---

### `services/effects/perspectiveRenderer.ts` (3 pattern(s))

#### Pattern: `Optional Chaining` at line 97:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    );
  
    const data = output.data;
> const depthData = depthMap?.data;
  
    const fogR = params.fogColor.r;
    const fogG = params.fogColor.g;
```

---

#### Pattern: `Optional Chaining` at line 173:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    );
  
    const data = output.data;
> const depthData = depthMap?.data;
  
    const range = params.farDepth - params.nearDepth;
    const softnessFactor = params.softness / 100;
```

---

#### Pattern: `Optional Chaining` at line 249:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    );
  
    const leftData = leftImage.data;
> const rightData = rightImage?.data || leftImage.data;
    const outData = output.data;
  
    // Apply convergence offset
```

---

### `services/effects/stylizeRenderer.ts` (6 pattern(s))

#### Pattern: `isFinite()` at line 49:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const direction = params.direction ?? "horizontal";
    // Validate numeric params (NaN causes visual corruption)
    const rawThreshold = params.threshold ?? 0.25;
> const threshold = Number.isFinite(rawThreshold) ? rawThreshold : 0.25;
    const rawSmoothing = params.smoothing ?? 0.1;
    const smoothing = Number.isFinite(rawSmoothing) ? rawSmoothing : 0.1;
    const sortBy = params.sort_by ?? "saturation";
```

---

#### Pattern: `isFinite()` at line 51:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rawThreshold = params.threshold ?? 0.25;
    const threshold = Number.isFinite(rawThreshold) ? rawThreshold : 0.25;
    const rawSmoothing = params.smoothing ?? 0.1;
> const smoothing = Number.isFinite(rawSmoothing) ? rawSmoothing : 0.1;
    const sortBy = params.sort_by ?? "saturation";
    const reverse = params.reverse ?? false;
  
```

---

#### Pattern: `isFinite()` at line 186:31

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  ): EffectStackResult {
    // Validate numeric params (NaN causes visual corruption and bypasses === 0 check)
    const rawGlitchAmount = params.glitch_amount ?? 5;
> const glitchAmount = Number.isFinite(rawGlitchAmount) ? rawGlitchAmount : 5;
    const colorOffset = params.color_offset ?? true;
    const rawBlockSize = params.block_size ?? 8;
    const blockSize = Number.isFinite(rawBlockSize)
```

---

#### Pattern: `isFinite()` at line 189:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const glitchAmount = Number.isFinite(rawGlitchAmount) ? rawGlitchAmount : 5;
    const colorOffset = params.color_offset ?? true;
    const rawBlockSize = params.block_size ?? 8;
> const blockSize = Number.isFinite(rawBlockSize)
      ? Math.max(1, rawBlockSize)
      : 8;
    const rawSeed = params.seed ?? 12345;
```

---

#### Pattern: `isFinite()` at line 193:23

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      ? Math.max(1, rawBlockSize)
      : 8;
    const rawSeed = params.seed ?? 12345;
> const seed = Number.isFinite(rawSeed) ? rawSeed : 12345;
    const scanlines = params.scanlines ?? true;
  
    if (glitchAmount === 0) return input;
```

---

#### Pattern: `: void` at line 1139:41

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Register all stylize effect renderers
   */
> export function registerStylizeEffects(): void {
    registerEffectRenderer("pixel-sort", pixelSortRenderer);
    registerEffectRenderer("glitch", glitchRenderer);
    registerEffectRenderer("vhs", vhsRenderer);
```

---

### `services/effects/timeRenderer.ts` (20 pattern(s))

#### Pattern: `: void` at line 40:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set the layer this buffer is associated with
     */
> setLayer(layerId: string): void {
      if (this.layerId !== layerId) {
        this.clear();
        this.layerId = layerId;
```

---

#### Pattern: `: void` at line 51:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Store a frame in the buffer.
     * Uses frame number for timestamp instead of Date.now() for determinism.
     */
> store(frame: number, canvas: HTMLCanvasElement): void {
      const ctx = canvas.getContext("2d");
      if (!ctx) return;
  
```

---

#### Pattern: `: void` at line 133:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear the buffer
     */
> clear(): void {
      this.buffer = [];
    }
  
```

---

#### Pattern: `: void` at line 141:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Remove old entries based on frame distance.
     * Uses frame-based cleanup instead of wall-clock time for determinism.
     */
> cleanup(currentFrame: number): void {
      // Keep frames within maxFrames distance of current frame
      const maxFrameDistance = this.maxFrames * 2; // Allow some buffer for echo effects
      this.buffer = this.buffer.filter(
```

---

#### Pattern: `: void` at line 184:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Clear all frame buffers (call on project change)
   */
> export function clearAllFrameBuffers(): void {
    frameBuffers.clear();
  }
  
```

---

#### Pattern: `isFinite()` at line 230:12

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const frame = params._frame ?? 0;
    // Validate fps (nullish coalescing doesn't catch NaN)
    const fps =
> Number.isFinite(params._fps) && params._fps > 0 ? params._fps : 16;
  
    // Extract parameters with defaults
    // Validate numeric params (NaN bypasses Math.max/min clamps)
```

---

#### Pattern: `isFinite()` at line 235:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    // Extract parameters with defaults
    // Validate numeric params (NaN bypasses Math.max/min clamps)
    const rawEchoTime = params.echo_time ?? -1 / fps;
> const echoTime = Number.isFinite(rawEchoTime) ? rawEchoTime : -1 / fps;
    const rawNumEchoes = params.number_of_echoes ?? 8;
    const numEchoes = Number.isFinite(rawNumEchoes)
      ? Math.max(1, Math.min(50, rawNumEchoes))
```

---

#### Pattern: `isFinite()` at line 237:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rawEchoTime = params.echo_time ?? -1 / fps;
    const echoTime = Number.isFinite(rawEchoTime) ? rawEchoTime : -1 / fps;
    const rawNumEchoes = params.number_of_echoes ?? 8;
> const numEchoes = Number.isFinite(rawNumEchoes)
      ? Math.max(1, Math.min(50, rawNumEchoes))
      : 8;
    const rawIntensity = params.starting_intensity ?? 1.0;
```

---

#### Pattern: `isFinite()` at line 241:36

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      ? Math.max(1, Math.min(50, rawNumEchoes))
      : 8;
    const rawIntensity = params.starting_intensity ?? 1.0;
> const startingIntensity = Number.isFinite(rawIntensity)
      ? Math.max(0, Math.min(1, rawIntensity))
      : 1.0;
    const rawDecay = params.decay ?? 0.5;
```

---

#### Pattern: `isFinite()` at line 245:24

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      ? Math.max(0, Math.min(1, rawIntensity))
      : 1.0;
    const rawDecay = params.decay ?? 0.5;
> const decay = Number.isFinite(rawDecay)
      ? Math.max(0, Math.min(1, rawDecay))
      : 0.5;
    const operator: EchoOperator = params.echo_operator ?? "add";
```

---

#### Pattern: `isFinite()` at line 373:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  ): EffectStackResult {
    // Validate numeric params (NaN bypasses Math.max/min clamps)
    const rawTargetFps = params.frame_rate ?? 12;
> const targetFps = Number.isFinite(rawTargetFps)
      ? Math.max(1, Math.min(60, rawTargetFps))
      : 12;
    const frame = params._frame ?? 0;
```

---

#### Pattern: `isFinite()` at line 379:12

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const frame = params._frame ?? 0;
    // Validate fps to prevent division by NaN
    const fps =
> Number.isFinite(params._fps) && params._fps > 0 ? params._fps : 16;
    const layerId = params._layerId ?? "default";
  
    // Calculate which "posterized" frame this belongs to
```

---

#### Pattern: `isFinite()` at line 493:34

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  ): EffectStackResult {
    // Validate numeric params (NaN bypasses === 0 check)
    const rawMaxDisplacement = params.max_displacement ?? 10;
> const maxDisplacement = Number.isFinite(rawMaxDisplacement)
      ? rawMaxDisplacement
      : 10;
    const mapType = params.map_type ?? "gradient-h";
```

---

#### Pattern: `isFinite()` at line 498:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      : 10;
    const mapType = params.map_type ?? "gradient-h";
    const rawMapScale = params.map_scale ?? 1;
> const mapScale = Number.isFinite(rawMapScale) ? rawMapScale : 1;
    const rawBias = params.time_offset_bias ?? 0;
    const bias = Number.isFinite(rawBias) ? rawBias : 0;
    const frame = params._frame ?? 0;
```

---

#### Pattern: `isFinite()` at line 500:23

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rawMapScale = params.map_scale ?? 1;
    const mapScale = Number.isFinite(rawMapScale) ? rawMapScale : 1;
    const rawBias = params.time_offset_bias ?? 0;
> const bias = Number.isFinite(rawBias) ? rawBias : 0;
    const frame = params._frame ?? 0;
    const layerId = params._layerId ?? "default";
  
```

---

#### Pattern: `: void` at line 636:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Clear a frozen frame cache for a layer
   */
> export function clearFrozenFrame(layerId: string): void {
    frozenFrames.delete(`${layerId}_freeze`);
  }
  
```

---

#### Pattern: `: void` at line 643:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Clear all frozen frame caches
   */
> export function clearAllFrozenFrames(): void {
    frozenFrames.clear();
  }
  
```

---

#### Pattern: `: void` at line 659:45

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * - Playhead jump operations
   * - Project load/reset
   */
> export function clearTimeEffectStateOnSeek(): void {
    clearAllFrameBuffers();
    clearAllFrozenFrames();
  }
```

---

#### Pattern: `: void` at line 762:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    motionBlurAmount: number,
    width: number,
    height: number,
> ): void {
    const blockSize = 8; // Motion estimation block size
    const searchRadius = 8; // Search radius for motion vectors
  
```

---

#### Pattern: `: void` at line 1026:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * Register all time effect renderers
   * Note: Timewarp is NOT an effect - it's a layer property that modifies timing
   */
> export function registerTimeEffects(): void {
    registerEffectRenderer("echo", echoRenderer);
    registerEffectRenderer("posterize-time", posterizeTimeRenderer);
    registerEffectRenderer("freeze-frame", freezeFrameRenderer);
```

---

### `services/export/atiExport.ts` (3 pattern(s))

#### Pattern: `Optional Chaining` at line 175:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        if (f < numFrames && f < track.length) {
          [x, y] = track[f];
> vis = visibility[trackIdx]?.[f] ?? true;
        } else if (track.length > 0) {
          // Pad with last known position
          const lastIdx = Math.min(numFrames - 1, track.length - 1);
```

---

#### Pattern: `Optional Chaining` at line 180:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          // Pad with last known position
          const lastIdx = Math.min(numFrames - 1, track.length - 1);
          [x, y] = track[lastIdx];
> vis = visibility[trackIdx]?.[lastIdx] ?? true;
        } else {
          x = width / 2;
          y = height / 2;
```

---

#### Pattern: `Optional Chaining` at line 297:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    fps: number = 16,
  ): WanMoveTrajectory {
    const numPoints = points.length;
> const numFrames = points[0]?.length ?? 0;
  
    // Convert to WanMove format
    const tracks: number[][][] = points.map((track) =>
```

---

### `services/export/backendDepthService.ts` (4 pattern(s))

#### Pattern: `Optional Chaining` at line 115:48

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        }
  
        logger.info(
> `Depth map generated: ${result.metadata?.width}x${result.metadata?.height}`,
        );
  
        return result as DepthGenerationResult;
```

---

#### Pattern: `Optional Chaining` at line 115:74

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        }
  
        logger.info(
> `Depth map generated: ${result.metadata?.width}x${result.metadata?.height}`,
        );
  
        return result as DepthGenerationResult;
```

---

#### Pattern: `Optional Chaining` at line 186:49

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        }
  
        logger.info(
> `Normal map generated: ${result.metadata?.width}x${result.metadata?.height}`,
        );
  
        return result as NormalGenerationResult;
```

---

#### Pattern: `Optional Chaining` at line 186:75

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        }
  
        logger.info(
> `Normal map generated: ${result.metadata?.width}x${result.metadata?.height}`,
        );
  
        return result as NormalGenerationResult;
```

---

### `services/export/cameraExportFormats.ts` (29 pattern(s))

#### Pattern: `Optional Chaining` at line 84:7

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    // Helper to get value with fallback
    const getPos = (kf: CameraKeyframe | null | undefined) =>
> kf?.position ?? camera.position;
    const getOri = (kf: CameraKeyframe | null | undefined) =>
      kf?.orientation ?? camera.orientation;
    const getFocal = (kf: CameraKeyframe | null | undefined) =>
```

---

#### Pattern: `Optional Chaining` at line 86:7

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const getPos = (kf: CameraKeyframe | null | undefined) =>
      kf?.position ?? camera.position;
    const getOri = (kf: CameraKeyframe | null | undefined) =>
> kf?.orientation ?? camera.orientation;
    const getFocal = (kf: CameraKeyframe | null | undefined) =>
      kf?.focalLength ?? camera.focalLength;
    const getZoom = (kf: CameraKeyframe | null | undefined) =>
```

---

#### Pattern: `Optional Chaining` at line 88:7

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const getOri = (kf: CameraKeyframe | null | undefined) =>
      kf?.orientation ?? camera.orientation;
    const getFocal = (kf: CameraKeyframe | null | undefined) =>
> kf?.focalLength ?? camera.focalLength;
    const getZoom = (kf: CameraKeyframe | null | undefined) =>
      kf?.zoom ?? camera.zoom;
    const getFocusDist = (kf: CameraKeyframe | null | undefined) =>
```

---

#### Pattern: `Optional Chaining` at line 90:7

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const getFocal = (kf: CameraKeyframe | null | undefined) =>
      kf?.focalLength ?? camera.focalLength;
    const getZoom = (kf: CameraKeyframe | null | undefined) =>
> kf?.zoom ?? camera.zoom;
    const getFocusDist = (kf: CameraKeyframe | null | undefined) =>
      kf?.focusDistance ?? camera.depthOfField.focusDistance;
  
```

---

#### Pattern: `Optional Chaining` at line 92:7

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const getZoom = (kf: CameraKeyframe | null | undefined) =>
      kf?.zoom ?? camera.zoom;
    const getFocusDist = (kf: CameraKeyframe | null | undefined) =>
> kf?.focusDistance ?? camera.depthOfField.focusDistance;
  
    if (prev?.frame === next?.frame) {
      return {
```

---

#### Pattern: `Optional Chaining` at line 94:11

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const getFocusDist = (kf: CameraKeyframe | null | undefined) =>
      kf?.focusDistance ?? camera.depthOfField.focusDistance;
  
> if (prev?.frame === next?.frame) {
      return {
        position: getPos(prev),
        rotation: getOri(prev),
```

---

#### Pattern: `Optional Chaining` at line 94:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const getFocusDist = (kf: CameraKeyframe | null | undefined) =>
      kf?.focusDistance ?? camera.depthOfField.focusDistance;
  
> if (prev?.frame === next?.frame) {
      return {
        position: getPos(prev),
        rotation: getOri(prev),
```

---

#### Pattern: `Optional Chaining` at line 105:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    // Interpolate
> const prevFrame = prev?.frame ?? 0;
    const nextFrame = next?.frame ?? prevFrame;
    const t = nextFrame === prevFrame ? 0 : (frame - prevFrame) / (nextFrame - prevFrame);
  
```

---

#### Pattern: `Optional Chaining` at line 106:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    // Interpolate
    const prevFrame = prev?.frame ?? 0;
> const nextFrame = next?.frame ?? prevFrame;
    const t = nextFrame === prevFrame ? 0 : (frame - prevFrame) / (nextFrame - prevFrame);
  
    const prevPos = getPos(prev);
```

---

#### Pattern: `isFinite()` at line 161:23

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    // Guard against NaN/Infinity from invalid keyframe interpolation or corrupted
    // camera state. NaN values would propagate through matrix math and produce
    // an invalid view matrix. Fallback to identity-like values (0) for safety.
> const rotX = Number.isFinite(rotation.x) ? rotation.x : 0;
    const rotY = Number.isFinite(rotation.y) ? rotation.y : 0;
    const rotZ = Number.isFinite(rotation.z) ? rotation.z : 0;
    const posX = Number.isFinite(position.x) ? position.x : 0;
```

---

#### Pattern: `isFinite()` at line 162:23

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    // camera state. NaN values would propagate through matrix math and produce
    // an invalid view matrix. Fallback to identity-like values (0) for safety.
    const rotX = Number.isFinite(rotation.x) ? rotation.x : 0;
> const rotY = Number.isFinite(rotation.y) ? rotation.y : 0;
    const rotZ = Number.isFinite(rotation.z) ? rotation.z : 0;
    const posX = Number.isFinite(position.x) ? position.x : 0;
    const posY = Number.isFinite(position.y) ? position.y : 0;
```

---

#### Pattern: `isFinite()` at line 163:23

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    // an invalid view matrix. Fallback to identity-like values (0) for safety.
    const rotX = Number.isFinite(rotation.x) ? rotation.x : 0;
    const rotY = Number.isFinite(rotation.y) ? rotation.y : 0;
> const rotZ = Number.isFinite(rotation.z) ? rotation.z : 0;
    const posX = Number.isFinite(position.x) ? position.x : 0;
    const posY = Number.isFinite(position.y) ? position.y : 0;
    const posZ = Number.isFinite(position.z) ? position.z : 0;
```

---

#### Pattern: `isFinite()` at line 164:23

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rotX = Number.isFinite(rotation.x) ? rotation.x : 0;
    const rotY = Number.isFinite(rotation.y) ? rotation.y : 0;
    const rotZ = Number.isFinite(rotation.z) ? rotation.z : 0;
> const posX = Number.isFinite(position.x) ? position.x : 0;
    const posY = Number.isFinite(position.y) ? position.y : 0;
    const posZ = Number.isFinite(position.z) ? position.z : 0;
  
```

---

#### Pattern: `isFinite()` at line 165:23

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rotY = Number.isFinite(rotation.y) ? rotation.y : 0;
    const rotZ = Number.isFinite(rotation.z) ? rotation.z : 0;
    const posX = Number.isFinite(position.x) ? position.x : 0;
> const posY = Number.isFinite(position.y) ? position.y : 0;
    const posZ = Number.isFinite(position.z) ? position.z : 0;
  
    // Convert degrees to radians
```

---

#### Pattern: `isFinite()` at line 166:23

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rotZ = Number.isFinite(rotation.z) ? rotation.z : 0;
    const posX = Number.isFinite(position.x) ? position.x : 0;
    const posY = Number.isFinite(position.y) ? position.y : 0;
> const posZ = Number.isFinite(position.z) ? position.z : 0;
  
    // Convert degrees to radians
    const rx = (rotX * Math.PI) / 180;
```

---

#### Pattern: `isFinite()` at line 219:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    farClip: number = 1000,
  ): number[][] {
    // Aspect ratio must be positive and finite for valid projection matrix
> if (!Number.isFinite(aspectRatio) || aspectRatio <= 0) {
      throw new Error(
        `Invalid aspectRatio: ${aspectRatio}. Must be a positive finite number.`,
      );
```

---

#### Pattern: `isFinite()` at line 230:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    let validNear = nearClip;
    let validFar = farClip;
  
> if (!Number.isFinite(nearClip) || nearClip <= 0) {
      console.warn(
        `Invalid nearClip: ${nearClip}. Using fallback value 0.1.`,
      );
```

---

#### Pattern: `isFinite()` at line 237:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      validNear = 0.1;
    }
  
> if (!Number.isFinite(farClip) || farClip <= validNear) {
      console.warn(
        `Invalid farClip: ${farClip} (must be > nearClip ${validNear}). Using fallback value 1000.`,
      );
```

---

#### Pattern: `isFinite()` at line 246:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    // Default to 50mm focal length (standard lens) if value is invalid
    let focalLength = cam.focalLength;
> if (!Number.isFinite(cam.focalLength)) {
      console.warn(
        `Invalid focalLength: ${cam.focalLength}. Using fallback value 50mm.`,
      );
```

---

#### Pattern: `isFinite()` at line 686:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const { width, height, fps, frameCount } = options;
  
    // Validate dimensions - throw for any invalid value (zero, negative, NaN, Infinity)
> if (!Number.isFinite(width) || width <= 0) {
      throw new Error(
        `Invalid dimensions: ${width}x${height}. Width and height must be positive finite numbers.`,
      );
```

---

#### Pattern: `isFinite()` at line 691:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        `Invalid dimensions: ${width}x${height}. Width and height must be positive finite numbers.`,
      );
    }
> if (!Number.isFinite(height) || height <= 0) {
      throw new Error(
        `Invalid dimensions: ${width}x${height}. Width and height must be positive finite numbers.`,
      );
```

---

#### Pattern: `isFinite()` at line 698:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    }
  
    // Validate FPS - throw for any invalid value
> if (!Number.isFinite(fps) || fps <= 0) {
      throw new Error(
        `Invalid fps: ${fps}. FPS must be a positive finite number.`,
      );
```

---

#### Pattern: `isFinite()` at line 705:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    }
  
    // Validate frame count - throw for any invalid value
> if (!Number.isFinite(frameCount) || frameCount < 1) {
      throw new Error(
        `Invalid frameCount: ${frameCount}. Frame count must be at least 1.`,
      );
```

---

#### Pattern: `isFinite()` at line 773:23

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const { position, rotation } = cam;
  
    // Guard against NaN/Infinity
> const rotX = Number.isFinite(rotation.x) ? rotation.x : 0;
    const rotY = Number.isFinite(rotation.y) ? rotation.y : 0;
    const rotZ = Number.isFinite(rotation.z) ? rotation.z : 0;
    const posX = Number.isFinite(position.x) ? position.x : 0;
```

---

#### Pattern: `isFinite()` at line 774:23

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    // Guard against NaN/Infinity
    const rotX = Number.isFinite(rotation.x) ? rotation.x : 0;
> const rotY = Number.isFinite(rotation.y) ? rotation.y : 0;
    const rotZ = Number.isFinite(rotation.z) ? rotation.z : 0;
    const posX = Number.isFinite(position.x) ? position.x : 0;
    const posY = Number.isFinite(position.y) ? position.y : 0;
```

---

#### Pattern: `isFinite()` at line 775:23

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    // Guard against NaN/Infinity
    const rotX = Number.isFinite(rotation.x) ? rotation.x : 0;
    const rotY = Number.isFinite(rotation.y) ? rotation.y : 0;
> const rotZ = Number.isFinite(rotation.z) ? rotation.z : 0;
    const posX = Number.isFinite(position.x) ? position.x : 0;
    const posY = Number.isFinite(position.y) ? position.y : 0;
    const posZ = Number.isFinite(position.z) ? position.z : 0;
```

---

#### Pattern: `isFinite()` at line 776:23

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rotX = Number.isFinite(rotation.x) ? rotation.x : 0;
    const rotY = Number.isFinite(rotation.y) ? rotation.y : 0;
    const rotZ = Number.isFinite(rotation.z) ? rotation.z : 0;
> const posX = Number.isFinite(position.x) ? position.x : 0;
    const posY = Number.isFinite(position.y) ? position.y : 0;
    const posZ = Number.isFinite(position.z) ? position.z : 0;
  
```

---

#### Pattern: `isFinite()` at line 777:23

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rotY = Number.isFinite(rotation.y) ? rotation.y : 0;
    const rotZ = Number.isFinite(rotation.z) ? rotation.z : 0;
    const posX = Number.isFinite(position.x) ? position.x : 0;
> const posY = Number.isFinite(position.y) ? position.y : 0;
    const posZ = Number.isFinite(position.z) ? position.z : 0;
  
    // Convert degrees to radians
```

---

#### Pattern: `isFinite()` at line 778:23

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const rotZ = Number.isFinite(rotation.z) ? rotation.z : 0;
    const posX = Number.isFinite(position.x) ? position.x : 0;
    const posY = Number.isFinite(position.y) ? position.y : 0;
> const posZ = Number.isFinite(position.z) ? position.z : 0;
  
    // Convert degrees to radians
    const rx = (rotX * Math.PI) / 180;
```

---

### `services/export/depthRenderer.ts` (17 pattern(s))

#### Pattern: `isFinite()` at line 132:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    }
  
    // Handle empty scene: if no layers updated min/max, default to farClip
> if (!Number.isFinite(minDepth) || !Number.isFinite(maxDepth)) {
      minDepth = f32FarClip;
      maxDepth = f32FarClip;
    }
```

---

#### Pattern: `isFinite()` at line 132:45

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    }
  
    // Handle empty scene: if no layers updated min/max, default to farClip
> if (!Number.isFinite(minDepth) || !Number.isFinite(maxDepth)) {
      minDepth = f32FarClip;
      maxDepth = f32FarClip;
    }
```

---

#### Pattern: `Optional Chaining` at line 157:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
   * Get layer Z depth at frame
   */
  function getLayerDepth(layer: Layer, frame: number): number {
> const position = layer.transform?.position;
    if (!position) return 0;
  
    // Check for animated position
```

---

#### Pattern: `Optional Chaining` at line 186:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    if (
      layer.opacity &&
      "keyframes" in layer.opacity &&
> layer.opacity.keyframes?.length > 0
    ) {
      const interpolated = interpolateValue(layer.opacity.keyframes, frame);
      return (interpolated ?? 100) / 100;
```

---

#### Pattern: `Optional Chaining` at line 214:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    let x = 0,
      y = 0;
  
> const position = layer.transform?.position;
    if (position && "value" in position) {
      const value = position.value;
      if (Array.isArray(value)) {
```

---

#### Pattern: `Optional Chaining` at line 230:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    // Get scale from transform
    let scaleX = 1,
      scaleY = 1;
> const scale = layer.transform?.scale;
    if (scale && "value" in scale) {
      const value = scale.value;
      if (Array.isArray(value)) {
```

---

#### Pattern: `Optional Chaining` at line 246:38

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    // Get anchor point from transform
    let anchorX = 0.5,
      anchorY = 0.5;
> const anchorPoint = layer.transform?.anchorPoint;
    if (anchorPoint && "value" in anchorPoint) {
      const value = anchorPoint.value;
      if (Array.isArray(value)) {
```

---

#### Pattern: `: void` at line 299:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    screenHeight: number,
    nearClip: number,
    farClip: number,
> ): void {
    const depthData = (layer as any).depthMapData as Uint8Array | Float32Array;
    const depthWidth = (layer as any).depthWidth || bounds.width;
    const depthHeight = (layer as any).depthHeight || bounds.height;
```

---

#### Pattern: `: void` at line 358:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    frame: number,
    nearClip: number,
    farClip: number,
> ): void {
    // Access the engine's particle layer to get active particles
    const engine = (window as any).__latticeEngine;
    if (!engine) return;
```

---

#### Pattern: `Optional Chaining` at line 364:44

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    if (!engine) return;
  
    // Get the particle layer from the engine
> const particleLayer = engine.getLayerById?.(layer.id);
    if (!particleLayer || typeof particleLayer.getActiveParticles !== "function") {
      return;
    }
```

---

#### Pattern: `isFinite()` at line 380:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    // Render each particle as a circular depth splat
    for (const p of particles) {
      // Validate particle position
> if (!Number.isFinite(p.x) || !Number.isFinite(p.y) || !Number.isFinite(p.z)) {
        continue;
      }
  
```

---

#### Pattern: `isFinite()` at line 380:42

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    // Render each particle as a circular depth splat
    for (const p of particles) {
      // Validate particle position
> if (!Number.isFinite(p.x) || !Number.isFinite(p.y) || !Number.isFinite(p.z)) {
        continue;
      }
  
```

---

#### Pattern: `isFinite()` at line 380:67

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    // Render each particle as a circular depth splat
    for (const p of particles) {
      // Validate particle position
> if (!Number.isFinite(p.x) || !Number.isFinite(p.y) || !Number.isFinite(p.z)) {
        continue;
      }
  
```

---

#### Pattern: `: void` at line 427:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    opacity: number,
    screenWidth: number,
    screenHeight: number,
> ): void {
    const startX = Math.floor(bounds.x);
    const startY = Math.floor(bounds.y);
    const endX = Math.min(screenWidth, Math.ceil(bounds.x + bounds.width));
```

---

#### Pattern: `isFinite()` at line 510:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const { depthBuffer, width, height, minDepth, maxDepth } = result;
  
    // Validate dimensions - zero or negative dimensions are invalid
> if (!Number.isFinite(width) || width <= 0) {
      throw new Error(`Invalid dimensions: width=${width}. Width must be a positive number.`);
    }
    if (!Number.isFinite(height) || height <= 0) {
```

---

#### Pattern: `isFinite()` at line 513:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    if (!Number.isFinite(width) || width <= 0) {
      throw new Error(`Invalid dimensions: width=${width}. Width must be a positive number.`);
    }
> if (!Number.isFinite(height) || height <= 0) {
      throw new Error(`Invalid dimensions: height=${height}. Height must be a positive number.`);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 951:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // This returns the path that would be used
      outputPaths.push(outputPath);
  
> onProgress?.(i + 1, totalFrames);
    }
  
    return outputPaths;
```

---

### `services/export/exportPipeline.ts` (15 pattern(s))

#### Pattern: `: void` at line 76:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> private checkAborted(): void {
      if (this.aborted) {
        throw new Error("Export aborted");
      }
```

---

#### Pattern: `: void` at line 82:60

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> private updateProgress(progress: Partial<ExportProgress>): void {
      this.onProgress({
        stage: "preparing",
        stageProgress: 0,
```

---

#### Pattern: `Optional Chaining` at line 317:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const sortedLayers = [...this.layers]
        .filter((layer) => layer.visible)
        .sort((a, b) => {
> const az = a.transform?.position?.value?.z ?? 0;
          const bz = b.transform?.position?.value?.z ?? 0;
          return az - bz;
        });
```

---

#### Pattern: `Optional Chaining` at line 317:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const sortedLayers = [...this.layers]
        .filter((layer) => layer.visible)
        .sort((a, b) => {
> const az = a.transform?.position?.value?.z ?? 0;
          const bz = b.transform?.position?.value?.z ?? 0;
          return az - bz;
        });
```

---

#### Pattern: `Optional Chaining` at line 317:48

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const sortedLayers = [...this.layers]
        .filter((layer) => layer.visible)
        .sort((a, b) => {
> const az = a.transform?.position?.value?.z ?? 0;
          const bz = b.transform?.position?.value?.z ?? 0;
          return az - bz;
        });
```

---

#### Pattern: `Optional Chaining` at line 318:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        .filter((layer) => layer.visible)
        .sort((a, b) => {
          const az = a.transform?.position?.value?.z ?? 0;
> const bz = b.transform?.position?.value?.z ?? 0;
          return az - bz;
        });
  
```

---

#### Pattern: `Optional Chaining` at line 318:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        .filter((layer) => layer.visible)
        .sort((a, b) => {
          const az = a.transform?.position?.value?.z ?? 0;
> const bz = b.transform?.position?.value?.z ?? 0;
          return az - bz;
        });
  
```

---

#### Pattern: `Optional Chaining` at line 318:48

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        .filter((layer) => layer.visible)
        .sort((a, b) => {
          const az = a.transform?.position?.value?.z ?? 0;
> const bz = b.transform?.position?.value?.z ?? 0;
          return az - bz;
        });
  
```

---

#### Pattern: `Optional Chaining` at line 348:49

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      const rotation =
        typeof evaluated.transform.rotation === "number"
          ? evaluated.transform.rotation
> : ((evaluated.transform.rotation as any)?.z ?? 0);
      const opacity = evaluated.opacity;
  
      ctx.save();
```

---

#### Pattern: `Optional Chaining` at line 361:44

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Draw layer content
      const layerData = layer.data as any;
> if (layer.type === "image" && layerData?.src) {
        // Create image from content URL
        const img = await this.loadImage(layerData.src);
        ctx.drawImage(img, -img.width / 2, -img.height / 2);
```

---

#### Pattern: `Optional Chaining` at line 365:51

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Create image from content URL
        const img = await this.loadImage(layerData.src);
        ctx.drawImage(img, -img.width / 2, -img.height / 2);
> } else if (layer.type === "solid" && layerData?.color) {
        ctx.fillStyle = layerData.color || "#000000";
        const width = layerData.width ?? 100;
        const height = layerData.height ?? 100;
```

---

#### Pattern: `Optional Chaining` at line 370:50

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const width = layerData.width ?? 100;
        const height = layerData.height ?? 100;
        ctx.fillRect(-width / 2, -height / 2, width, height);
> } else if (layer.type === "text" && layerData?.text) {
        // Render text with evaluated properties
        const textContent = evaluated.properties.textContent ?? layerData.text;
        const fontSize =
```

---

#### Pattern: `: void` at line 617:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      data: Uint8ClampedArray,
      width: number,
      height: number,
> ): void {
      const grayscale = new Float32Array(width * height);
  
      // Convert to grayscale
```

---

#### Pattern: `: void` at line 664:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> private applyLineart(data: Uint8ClampedArray): void {
      for (let i = 0; i < data.length; i += 4) {
        const gray = data[i] * 0.299 + data[i + 1] * 0.587 + data[i + 2] * 0.114;
        const val = gray > 128 ? 255 : 0;
```

---

#### Pattern: `: void` at line 678:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      data: Uint8ClampedArray,
      width: number,
      height: number,
> ): void {
      // Similar to edge detection but with Gaussian blur
      this.applyEdgeDetection(data, width, height);
  
```

---

### `services/export/frameSequenceExporter.ts` (3 pattern(s))

#### Pattern: `: void` at line 137:59

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Download a blob as a file
   */
> export function downloadBlob(blob: Blob, filename: string): void {
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
```

---

#### Pattern: `Optional Chaining` at line 282:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            });
  
            result.totalSize += blob.size;
> onProgress?.(frame - startFrame + 1, totalFrames);
          } catch (error) {
            result.errors.push(`Frame ${frame}: ${error}`);
          }
```

---

#### Pattern: `Optional Chaining` at line 298:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          try {
            const canvas = await renderFrame(frame);
            frames.push({ canvas, frameNumber: frame });
> onProgress?.(frame - startFrame + 1, totalFrames);
          } catch (error) {
            result.errors.push(`Frame ${frame}: ${error}`);
          }
```

---

### `services/export/meshDeformExport.ts` (3 pattern(s))

#### Pattern: `: void` at line 248:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    cx: number,
    cy: number,
    depthValue: number,
> ): void {
    // Calculate bounding box
    const minX = Math.max(0, Math.floor(Math.min(ax, bx, cx)));
    const maxX = Math.min(width - 1, Math.ceil(Math.max(ax, bx, cx)));
```

---

#### Pattern: `: void` at line 371:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    by: number,
    cx: number,
    cy: number,
> ): void {
    // Calculate bounding box
    const minX = Math.max(0, Math.floor(Math.min(ax, bx, cx)));
    const maxX = Math.min(width - 1, Math.ceil(Math.max(ax, bx, cx)));
```

---

#### Pattern: `: void` at line 445:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    by: number,
    cx: number,
    cy: number,
> ): void {
    const minX = Math.max(0, Math.floor(Math.min(ax, bx, cx)));
    const maxX = Math.min(width - 1, Math.ceil(Math.max(ax, bx, cx)));
    const minY = Math.max(0, Math.floor(Math.min(ay, by, cy)));
```

---

### `services/export/poseExport.ts` (1 pattern(s))

#### Pattern: `: void` at line 129:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    ctx: CanvasRenderingContext2D,
    pose: Pose,
    config: PoseExportConfig,
> ): void {
    const { keypoints } = pose;
    const { width, height } = config;
  
```

---

### `services/export/vaceControlExport.ts` (15 pattern(s))

#### Pattern: `: void` at line 163:22

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.buildPath();
    }
  
> private buildPath(): void {
      const { controlPoints, closed } = this.config;
  
      if (controlPoints.length < 2) {
```

---

#### Pattern: `Optional Chaining` at line 183:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const curve = createBezierCurve(
          { x: p0.x, y: p0.y, z: p0.z || 0 },
          {
> x: p0.x + (p0.handleOut?.x || 0),
            y: p0.y + (p0.handleOut?.y || 0),
            z: (p0.z || 0) + (p0.handleOut?.z || 0),
          },
```

---

#### Pattern: `Optional Chaining` at line 184:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          { x: p0.x, y: p0.y, z: p0.z || 0 },
          {
            x: p0.x + (p0.handleOut?.x || 0),
> y: p0.y + (p0.handleOut?.y || 0),
            z: (p0.z || 0) + (p0.handleOut?.z || 0),
          },
          {
```

---

#### Pattern: `Optional Chaining` at line 185:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          {
            x: p0.x + (p0.handleOut?.x || 0),
            y: p0.y + (p0.handleOut?.y || 0),
> z: (p0.z || 0) + (p0.handleOut?.z || 0),
          },
          {
            x: p1.x + (p1.handleIn?.x || 0),
```

---

#### Pattern: `Optional Chaining` at line 188:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            z: (p0.z || 0) + (p0.handleOut?.z || 0),
          },
          {
> x: p1.x + (p1.handleIn?.x || 0),
            y: p1.y + (p1.handleIn?.y || 0),
            z: (p1.z || 0) + (p1.handleIn?.z || 0),
          },
```

---

#### Pattern: `Optional Chaining` at line 189:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          },
          {
            x: p1.x + (p1.handleIn?.x || 0),
> y: p1.y + (p1.handleIn?.y || 0),
            z: (p1.z || 0) + (p1.handleIn?.z || 0),
          },
          { x: p1.x, y: p1.y, z: p1.z || 0 },
```

---

#### Pattern: `Optional Chaining` at line 190:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          {
            x: p1.x + (p1.handleIn?.x || 0),
            y: p1.y + (p1.handleIn?.y || 0),
> z: (p1.z || 0) + (p1.handleIn?.z || 0),
          },
          { x: p1.x, y: p1.y, z: p1.z || 0 },
        );
```

---

#### Pattern: `Optional Chaining` at line 206:38

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const closingCurve = createBezierCurve(
          { x: last.x, y: last.y, z: last.z || 0 },
          {
> x: last.x + (last.handleOut?.x || 0),
            y: last.y + (last.handleOut?.y || 0),
            z: (last.z || 0) + (last.handleOut?.z || 0),
          },
```

---

#### Pattern: `Optional Chaining` at line 207:38

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          { x: last.x, y: last.y, z: last.z || 0 },
          {
            x: last.x + (last.handleOut?.x || 0),
> y: last.y + (last.handleOut?.y || 0),
            z: (last.z || 0) + (last.handleOut?.z || 0),
          },
          {
```

---

#### Pattern: `Optional Chaining` at line 208:45

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          {
            x: last.x + (last.handleOut?.x || 0),
            y: last.y + (last.handleOut?.y || 0),
> z: (last.z || 0) + (last.handleOut?.z || 0),
          },
          {
            x: first.x + (first.handleIn?.x || 0),
```

---

#### Pattern: `Optional Chaining` at line 211:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            z: (last.z || 0) + (last.handleOut?.z || 0),
          },
          {
> x: first.x + (first.handleIn?.x || 0),
            y: first.y + (first.handleIn?.y || 0),
            z: (first.z || 0) + (first.handleIn?.z || 0),
          },
```

---

#### Pattern: `Optional Chaining` at line 212:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          },
          {
            x: first.x + (first.handleIn?.x || 0),
> y: first.y + (first.handleIn?.y || 0),
            z: (first.z || 0) + (first.handleIn?.z || 0),
          },
          { x: first.x, y: first.y, z: first.z || 0 },
```

---

#### Pattern: `Optional Chaining` at line 213:46

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          {
            x: first.x + (first.handleIn?.x || 0),
            y: first.y + (first.handleIn?.y || 0),
> z: (first.z || 0) + (first.handleIn?.z || 0),
          },
          { x: first.x, y: first.y, z: first.z || 0 },
        );
```

---

#### Pattern: `: void` at line 346:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    ctx: CanvasRenderingContext2D,
    state: PathFollowerState,
    config: PathFollowerConfig,
> ): void {
    if (!state.visible || state.opacity <= 0) return;
  
    const { shape, size, fillColor, strokeColor, strokeWidth } = config;
```

---

#### Pattern: `: void` at line 436:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.initializeFollowers();
    }
  
> private initializeFollowers(): void {
      this.pathFollowers = this.config.pathFollowers.map(
        (followerConfig) => new PathFollower(followerConfig),
      );
```

---

### `services/export/videoEncoder.ts` (3 pattern(s))

#### Pattern: `: void` at line 279:11

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Cancel encoding
     */
> cancel(): void {
      if (this.encoder) {
        this.encoder.close();
        this.encoder = null;
```

---

#### Pattern: `: void` at line 295:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    private handleChunk(
      chunk: EncodedVideoChunk,
      metadata?: EncodedVideoChunkMetadata,
> ): void {
      // Pass chunk to the appropriate muxer
      if (this.mp4Muxer) {
        this.mp4Muxer.addVideoChunk(chunk, metadata);
```

---

#### Pattern: `: void` at line 389:69

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Download encoded video
   */
> export function downloadVideo(video: EncodedVideo, filename: string): void {
    const extension = video.mimeType.includes("webm") ? "webm" : "mp4";
    const fullFilename = filename.includes(".")
      ? filename
```

---

### `services/export/wanMoveExport.ts` (2 pattern(s))

#### Pattern: `Optional Chaining` at line 461:42

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    for (let f = 0; f < numFrames; f++) {
      transposedVis[f] = [];
      for (let n = 0; n < numPoints; n++) {
> transposedVis[f][n] = visibility[n]?.[f] ?? true;
      }
    }
  
```

---

#### Pattern: `: void` at line 1548:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    trajectory: WanMoveTrajectory | ColoredTrajectory,
    frame: number,
    options: RenderOptions = {},
> ): void {
    const {
      background = "#0a0a0a",
      showTrails = true,
```

---

### `services/exportTemplates.ts` (3 pattern(s))

#### Pattern: `: void` at line 136:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      };
    }
  
> private saveToStorage(): void {
      try {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(this.store));
      } catch (e) {
```

---

#### Pattern: `: void` at line 250:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Mark a template as last used
     */
> setLastUsed(id: string): void {
      if (this.getTemplate(id)) {
        this.store.lastUsedTemplateId = id;
        this.saveToStorage();
```

---

#### Pattern: `: void` at line 320:20

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Reset to default templates only
     */
> resetToDefaults(): void {
      this.store = {
        templates: [...DEFAULT_TEMPLATES],
      };
```

---

### `services/expressions/audioExpressions.ts` (1 pattern(s))

#### Pattern: `isFinite()` at line 110:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const { time } = ctx;
  
    // Guard against invalid framesPerSecond (prevents division by zero)
> if (!Number.isFinite(framesPerSecond) || framesPerSecond <= 0) {
      return time; // Passthrough: return original time unchanged
    }
  
```

---

### `services/expressions/easing.ts` (7 pattern(s))

#### Pattern: `isFinite()` at line 23:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
   * Normalize easing input: clamp to [0,1] range, return 0 for invalid
   */
  function normalizeT(t: number): number {
> if (!Number.isFinite(t)) return 0;
    return Math.max(0, Math.min(1, t));
  }
  
```

---

#### Pattern: `isFinite()` at line 226:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
  // Step functions
  export const stepStart: EasingFunction = (rawT) => {
> if (!Number.isFinite(rawT)) return 0;
    return rawT <= 0 ? 0 : 1;
  };
  export const stepEnd: EasingFunction = (rawT) => {
```

---

#### Pattern: `isFinite()` at line 230:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    return rawT <= 0 ? 0 : 1;
  };
  export const stepEnd: EasingFunction = (rawT) => {
> if (!Number.isFinite(rawT)) return 0;
    return rawT >= 1 ? 1 : 0;
  };
  
```

---

#### Pattern: `isFinite()` at line 249:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    y2: number,
  ): EasingFunction {
    // Validate and clamp control points (CSS spec: x values must be in [0,1])
> const safeX1 = Number.isFinite(x1) ? Math.max(0, Math.min(1, x1)) : 0;
    const safeY1 = Number.isFinite(y1) ? y1 : 0;
    const safeX2 = Number.isFinite(x2) ? Math.max(0, Math.min(1, x2)) : 1;
    const safeY2 = Number.isFinite(y2) ? y2 : 1;
```

---

#### Pattern: `isFinite()` at line 250:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  ): EasingFunction {
    // Validate and clamp control points (CSS spec: x values must be in [0,1])
    const safeX1 = Number.isFinite(x1) ? Math.max(0, Math.min(1, x1)) : 0;
> const safeY1 = Number.isFinite(y1) ? y1 : 0;
    const safeX2 = Number.isFinite(x2) ? Math.max(0, Math.min(1, x2)) : 1;
    const safeY2 = Number.isFinite(y2) ? y2 : 1;
  
```

---

#### Pattern: `isFinite()` at line 251:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    // Validate and clamp control points (CSS spec: x values must be in [0,1])
    const safeX1 = Number.isFinite(x1) ? Math.max(0, Math.min(1, x1)) : 0;
    const safeY1 = Number.isFinite(y1) ? y1 : 0;
> const safeX2 = Number.isFinite(x2) ? Math.max(0, Math.min(1, x2)) : 1;
    const safeY2 = Number.isFinite(y2) ? y2 : 1;
  
    const epsilon = 1e-6;
```

---

#### Pattern: `isFinite()` at line 252:25

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const safeX1 = Number.isFinite(x1) ? Math.max(0, Math.min(1, x1)) : 0;
    const safeY1 = Number.isFinite(y1) ? y1 : 0;
    const safeX2 = Number.isFinite(x2) ? Math.max(0, Math.min(1, x2)) : 1;
> const safeY2 = Number.isFinite(y2) ? y2 : 1;
  
    const epsilon = 1e-6;
  
```

---

### `services/expressions/expressionEvaluator.ts` (116 pattern(s))

#### Pattern: `isFinite()` at line 58:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      if (time <= startTime) return startValue;
      if (time >= endTime) return endValue;
      const duration = endTime - startTime;
> if (!Number.isFinite(duration) || duration === 0) return startValue;
      const t = (time - startTime) / duration;
      return startValue + (endValue - startValue) * t;
    },
```

---

#### Pattern: `isFinite()` at line 64:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    },
  
    periodic(time: number, period: number): number {
> if (!Number.isFinite(period) || period === 0) return 0;
      return (time % period) / period;
    },
  
```

---

#### Pattern: `isFinite()` at line 70:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    sawtooth(time: number, frequency: number, amplitude: number = 1): number {
      if (
> !Number.isFinite(time) ||
        !Number.isFinite(frequency) ||
        !Number.isFinite(amplitude)
      )
```

---

#### Pattern: `isFinite()` at line 71:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    sawtooth(time: number, frequency: number, amplitude: number = 1): number {
      if (
        !Number.isFinite(time) ||
> !Number.isFinite(frequency) ||
        !Number.isFinite(amplitude)
      )
        return 0;
```

---

#### Pattern: `isFinite()` at line 72:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      if (
        !Number.isFinite(time) ||
        !Number.isFinite(frequency) ||
> !Number.isFinite(amplitude)
      )
        return 0;
      const t = time * frequency;
```

---

#### Pattern: `isFinite()` at line 81:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    triangle(time: number, frequency: number, amplitude: number = 1): number {
      if (
> !Number.isFinite(time) ||
        !Number.isFinite(frequency) ||
        !Number.isFinite(amplitude)
      )
```

---

#### Pattern: `isFinite()` at line 82:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    triangle(time: number, frequency: number, amplitude: number = 1): number {
      if (
        !Number.isFinite(time) ||
> !Number.isFinite(frequency) ||
        !Number.isFinite(amplitude)
      )
        return 0;
```

---

#### Pattern: `isFinite()` at line 83:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      if (
        !Number.isFinite(time) ||
        !Number.isFinite(frequency) ||
> !Number.isFinite(amplitude)
      )
        return 0;
      const t = time * frequency;
```

---

#### Pattern: `isFinite()` at line 92:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    square(time: number, frequency: number, amplitude: number = 1): number {
      if (
> !Number.isFinite(time) ||
        !Number.isFinite(frequency) ||
        !Number.isFinite(amplitude)
      )
```

---

#### Pattern: `isFinite()` at line 93:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    square(time: number, frequency: number, amplitude: number = 1): number {
      if (
        !Number.isFinite(time) ||
> !Number.isFinite(frequency) ||
        !Number.isFinite(amplitude)
      )
        return 0;
```

---

#### Pattern: `isFinite()` at line 94:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      if (
        !Number.isFinite(time) ||
        !Number.isFinite(frequency) ||
> !Number.isFinite(amplitude)
      )
        return 0;
      const t = time * frequency;
```

---

#### Pattern: `isFinite()` at line 142:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      outMax: number,
    ): number {
      const range = inMax - inMin;
> if (!Number.isFinite(range) || range === 0) return outMin;
      return outMin + (outMax - outMin) * ((value - inMin) / range);
    },
  
```

---

#### Pattern: `isFinite()` at line 148:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    normalize(value: number, min: number, max: number): number {
      const range = max - min;
> if (!Number.isFinite(range) || range === 0) return 0;
      return (value - min) / range;
    },
  
```

---

#### Pattern: `isFinite()` at line 154:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    smoothstep(edge0: number, edge1: number, x: number): number {
      const range = edge1 - edge0;
> if (!Number.isFinite(range) || range === 0) {
        return x < edge0 ? 0 : 1;
      }
      const t = mathExpressions.clamp((x - edge0) / range, 0, 1);
```

---

#### Pattern: `isFinite()` at line 163:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    smootherstep(edge0: number, edge1: number, x: number): number {
      const range = edge1 - edge0;
> if (!Number.isFinite(range) || range === 0) {
        return x < edge0 ? 0 : 1;
      }
      const t = mathExpressions.clamp((x - edge0) / range, 0, 1);
```

---

#### Pattern: `isFinite()` at line 171:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    },
  
    mod(a: number, b: number): number {
> if (!Number.isFinite(b) || b === 0) return 0;
      if (!Number.isFinite(a)) return 0;
      return ((a % b) + b) % b;
    },
```

---

#### Pattern: `isFinite()` at line 172:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    mod(a: number, b: number): number {
      if (!Number.isFinite(b) || b === 0) return 0;
> if (!Number.isFinite(a)) return 0;
      return ((a % b) + b) % b;
    },
  
```

---

#### Pattern: `isFinite()` at line 206:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      seed: number = 12345,
    ): number {
      if (
> !Number.isFinite(mean) ||
        !Number.isFinite(stdDev) ||
        !Number.isFinite(seed)
      ) {
```

---

#### Pattern: `isFinite()` at line 207:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    ): number {
      if (
        !Number.isFinite(mean) ||
> !Number.isFinite(stdDev) ||
        !Number.isFinite(seed)
      ) {
        return 0;
```

---

#### Pattern: `isFinite()` at line 208:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      if (
        !Number.isFinite(mean) ||
        !Number.isFinite(stdDev) ||
> !Number.isFinite(seed)
      ) {
        return 0;
      }
```

---

#### Pattern: `isFinite()` at line 217:23

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        return x - Math.floor(x);
      };
      const u1Raw = seededRand(seed);
> const u1 = Number.isFinite(u1Raw) ? Math.max(0.0001, u1Raw) : 0.0001;
      const u2Raw = seededRand(seed + 1);
      const u2 = Number.isFinite(u2Raw) ? u2Raw : 0;
      const z0 = Math.sqrt(-2 * Math.log(u1)) * Math.cos(2 * Math.PI * u2);
```

---

#### Pattern: `isFinite()` at line 219:23

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const u1Raw = seededRand(seed);
      const u1 = Number.isFinite(u1Raw) ? Math.max(0.0001, u1Raw) : 0.0001;
      const u2Raw = seededRand(seed + 1);
> const u2 = Number.isFinite(u2Raw) ? u2Raw : 0;
      const z0 = Math.sqrt(-2 * Math.log(u1)) * Math.cos(2 * Math.PI * u2);
      return mean + z0 * stdDev;
    },
```

---

#### Pattern: `isFinite()` at line 242:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  ): number | number[] {
    const range = tMax - tMin;
    let normalized: number;
> if (!Number.isFinite(range) || range === 0) {
      normalized = t < tMin ? 0 : 1;
    } else {
      normalized = (t - tMin) / range;
```

---

#### Pattern: `isFinite()` at line 273:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  ): number | number[] {
    const range = tMax - tMin;
    let normalized: number;
> if (!Number.isFinite(range) || range === 0) {
      normalized = t < tMin ? 0 : 1;
    } else {
      normalized = (t - tMin) / range;
```

---

#### Pattern: `isFinite()` at line 301:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  ): number | number[] {
    const range = tMax - tMin;
    let normalized: number;
> if (!Number.isFinite(range) || range === 0) {
      normalized = t < tMin ? 0 : 1;
    } else {
      normalized = (t - tMin) / range;
```

---

#### Pattern: `isFinite()` at line 471:22

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
  // Helper to create thisComp object
  function _createThisCompObject(ctx: ExpressionContext) {
> const fps = Number.isFinite(ctx.fps) && ctx.fps > 0 ? ctx.fps : 30;
    const duration = Number.isFinite(ctx.duration) ? ctx.duration : 0;
  
    return {
```

---

#### Pattern: `isFinite()` at line 472:27

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  // Helper to create thisComp object
  function _createThisCompObject(ctx: ExpressionContext) {
    const fps = Number.isFinite(ctx.fps) && ctx.fps > 0 ? ctx.fps : 30;
> const duration = Number.isFinite(ctx.duration) ? ctx.duration : 0;
  
    return {
      duration: duration,
```

---

#### Pattern: `Optional Chaining` at line 479:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      frameDuration: 1 / fps,
      width: ctx.compWidth ?? 1920,
      height: ctx.compHeight ?? 1080,
> numLayers: ctx.allLayers?.length ?? 0,
      layer: (nameOrIndex: string | number) => {
        const getLayerProperty = ctx.getLayerProperty;
        const getLayerEffectParam = ctx.getLayerEffectParam;
```

---

#### Pattern: `Optional Chaining` at line 486:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        let layerId: string;
  
        if (typeof nameOrIndex === "number") {
> const layerInfo = ctx.allLayers?.find((l) => l.index === nameOrIndex);
          layerId = layerInfo?.id ?? `layer_${nameOrIndex}`;
        } else {
          const layerInfo = ctx.allLayers?.find((l) => l.name === nameOrIndex);
```

---

#### Pattern: `Optional Chaining` at line 487:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        if (typeof nameOrIndex === "number") {
          const layerInfo = ctx.allLayers?.find((l) => l.index === nameOrIndex);
> layerId = layerInfo?.id ?? `layer_${nameOrIndex}`;
        } else {
          const layerInfo = ctx.allLayers?.find((l) => l.name === nameOrIndex);
          layerId = layerInfo?.id ?? nameOrIndex;
```

---

#### Pattern: `Optional Chaining` at line 489:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          const layerInfo = ctx.allLayers?.find((l) => l.index === nameOrIndex);
          layerId = layerInfo?.id ?? `layer_${nameOrIndex}`;
        } else {
> const layerInfo = ctx.allLayers?.find((l) => l.name === nameOrIndex);
          layerId = layerInfo?.id ?? nameOrIndex;
        }
  
```

---

#### Pattern: `Optional Chaining` at line 490:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          layerId = layerInfo?.id ?? `layer_${nameOrIndex}`;
        } else {
          const layerInfo = ctx.allLayers?.find((l) => l.name === nameOrIndex);
> layerId = layerInfo?.id ?? nameOrIndex;
        }
  
        const getTransform = (): LayerTransform => ({
```

---

#### Pattern: `Optional Chaining` at line 494:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        }
  
        const getTransform = (): LayerTransform => ({
> position: (getLayerProperty?.(
            layerId,
            "transform.position",
          ) as number[]) ?? [0, 0, 0],
```

---

#### Pattern: `Optional Chaining` at line 498:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            layerId,
            "transform.position",
          ) as number[]) ?? [0, 0, 0],
> scale: (getLayerProperty?.(layerId, "transform.scale") as number[]) ?? [
            100, 100, 100,
          ],
          rotation: (getLayerProperty?.(
```

---

#### Pattern: `Optional Chaining` at line 501:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          scale: (getLayerProperty?.(layerId, "transform.scale") as number[]) ?? [
            100, 100, 100,
          ],
> rotation: (getLayerProperty?.(
            layerId,
            "transform.rotation",
          ) as number[]) ?? [0, 0, 0],
```

---

#### Pattern: `Optional Chaining` at line 505:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            layerId,
            "transform.rotation",
          ) as number[]) ?? [0, 0, 0],
> anchor: (getLayerProperty?.(
            layerId,
            "transform.anchorPoint",
          ) as number[]) ?? [0, 0, 0],
```

---

#### Pattern: `Optional Chaining` at line 513:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        const createEffectAccessor = (effectName: string) => {
          const accessor = (paramName: string) => {
> return getLayerEffectParam?.(layerId, effectName, paramName) ?? 0;
          };
          accessor.param = accessor;
          // Slider Control
```

---

#### Pattern: `Optional Chaining` at line 518:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          accessor.param = accessor;
          // Slider Control
          accessor.value =
> getLayerEffectParam?.(layerId, effectName, "value") ?? 0;
          accessor.slider =
            getLayerEffectParam?.(layerId, effectName, "slider") ??
            getLayerEffectParam?.(layerId, effectName, "Slider") ??
```

---

#### Pattern: `Optional Chaining` at line 520:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          accessor.value =
            getLayerEffectParam?.(layerId, effectName, "value") ?? 0;
          accessor.slider =
> getLayerEffectParam?.(layerId, effectName, "slider") ??
            getLayerEffectParam?.(layerId, effectName, "Slider") ??
            0;
          // Angle Control
```

---

#### Pattern: `Optional Chaining` at line 521:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            getLayerEffectParam?.(layerId, effectName, "value") ?? 0;
          accessor.slider =
            getLayerEffectParam?.(layerId, effectName, "slider") ??
> getLayerEffectParam?.(layerId, effectName, "Slider") ??
            0;
          // Angle Control
          accessor.angle =
```

---

#### Pattern: `Optional Chaining` at line 525:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            0;
          // Angle Control
          accessor.angle =
> getLayerEffectParam?.(layerId, effectName, "angle") ??
            getLayerEffectParam?.(layerId, effectName, "Angle") ??
            0;
          // Checkbox Control
```

---

#### Pattern: `Optional Chaining` at line 526:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          // Angle Control
          accessor.angle =
            getLayerEffectParam?.(layerId, effectName, "angle") ??
> getLayerEffectParam?.(layerId, effectName, "Angle") ??
            0;
          // Checkbox Control
          accessor.checkbox =
```

---

#### Pattern: `Optional Chaining` at line 530:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            0;
          // Checkbox Control
          accessor.checkbox =
> getLayerEffectParam?.(layerId, effectName, "checkbox") ??
            getLayerEffectParam?.(layerId, effectName, "Checkbox") ??
            false;
          // Color Control
```

---

#### Pattern: `Optional Chaining` at line 531:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          // Checkbox Control
          accessor.checkbox =
            getLayerEffectParam?.(layerId, effectName, "checkbox") ??
> getLayerEffectParam?.(layerId, effectName, "Checkbox") ??
            false;
          // Color Control
          accessor.color = getLayerEffectParam?.(layerId, effectName, "color") ??
```

---

#### Pattern: `Optional Chaining` at line 534:45

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            getLayerEffectParam?.(layerId, effectName, "Checkbox") ??
            false;
          // Color Control
> accessor.color = getLayerEffectParam?.(layerId, effectName, "color") ??
            getLayerEffectParam?.(layerId, effectName, "Color") ?? [1, 1, 1, 1];
          // Point Control (2D and 3D)
          accessor.point = getLayerEffectParam?.(layerId, effectName, "point") ??
```

---

#### Pattern: `Optional Chaining` at line 535:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            false;
          // Color Control
          accessor.color = getLayerEffectParam?.(layerId, effectName, "color") ??
> getLayerEffectParam?.(layerId, effectName, "Color") ?? [1, 1, 1, 1];
          // Point Control (2D and 3D)
          accessor.point = getLayerEffectParam?.(layerId, effectName, "point") ??
            getLayerEffectParam?.(layerId, effectName, "Point") ?? [0, 0];
```

---

#### Pattern: `Optional Chaining` at line 537:45

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          accessor.color = getLayerEffectParam?.(layerId, effectName, "color") ??
            getLayerEffectParam?.(layerId, effectName, "Color") ?? [1, 1, 1, 1];
          // Point Control (2D and 3D)
> accessor.point = getLayerEffectParam?.(layerId, effectName, "point") ??
            getLayerEffectParam?.(layerId, effectName, "Point") ?? [0, 0];
          accessor.point3D = getLayerEffectParam?.(
            layerId,
```

---

#### Pattern: `Optional Chaining` at line 538:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            getLayerEffectParam?.(layerId, effectName, "Color") ?? [1, 1, 1, 1];
          // Point Control (2D and 3D)
          accessor.point = getLayerEffectParam?.(layerId, effectName, "point") ??
> getLayerEffectParam?.(layerId, effectName, "Point") ?? [0, 0];
          accessor.point3D = getLayerEffectParam?.(
            layerId,
            effectName,
```

---

#### Pattern: `Optional Chaining` at line 539:47

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          // Point Control (2D and 3D)
          accessor.point = getLayerEffectParam?.(layerId, effectName, "point") ??
            getLayerEffectParam?.(layerId, effectName, "Point") ?? [0, 0];
> accessor.point3D = getLayerEffectParam?.(
            layerId,
            effectName,
            "point3D",
```

---

#### Pattern: `Optional Chaining` at line 544:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            effectName,
            "point3D",
          ) ??
> getLayerEffectParam?.(layerId, effectName, "3D Point") ?? [0, 0, 0];
          // Dropdown Menu Control
          accessor.menu =
            getLayerEffectParam?.(layerId, effectName, "menu") ??
```

---

#### Pattern: `Optional Chaining` at line 547:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            getLayerEffectParam?.(layerId, effectName, "3D Point") ?? [0, 0, 0];
          // Dropdown Menu Control
          accessor.menu =
> getLayerEffectParam?.(layerId, effectName, "menu") ??
            getLayerEffectParam?.(layerId, effectName, "Menu") ??
            1;
          // Layer Control
```

---

#### Pattern: `Optional Chaining` at line 548:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          // Dropdown Menu Control
          accessor.menu =
            getLayerEffectParam?.(layerId, effectName, "menu") ??
> getLayerEffectParam?.(layerId, effectName, "Menu") ??
            1;
          // Layer Control
          accessor.layer =
```

---

#### Pattern: `Optional Chaining` at line 552:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            1;
          // Layer Control
          accessor.layer =
> getLayerEffectParam?.(layerId, effectName, "layer") ??
            getLayerEffectParam?.(layerId, effectName, "Layer") ??
            null;
          return accessor;
```

---

#### Pattern: `Optional Chaining` at line 553:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          // Layer Control
          accessor.layer =
            getLayerEffectParam?.(layerId, effectName, "layer") ??
> getLayerEffectParam?.(layerId, effectName, "Layer") ??
            null;
          return accessor;
        };
```

---

#### Pattern: `Optional Chaining` at line 559:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        };
  
        return {
> name: ctx.allLayers?.find((l) => l.id === layerId)?.name ?? "",
          index: ctx.allLayers?.find((l) => l.id === layerId)?.index ?? 0,
          position: getLayerProperty?.(layerId, "transform.position") ?? [0, 0],
          scale: getLayerProperty?.(layerId, "transform.scale") ?? [100, 100],
```

---

#### Pattern: `Optional Chaining` at line 559:59

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        };
  
        return {
> name: ctx.allLayers?.find((l) => l.id === layerId)?.name ?? "",
          index: ctx.allLayers?.find((l) => l.id === layerId)?.index ?? 0,
          position: getLayerProperty?.(layerId, "transform.position") ?? [0, 0],
          scale: getLayerProperty?.(layerId, "transform.scale") ?? [100, 100],
```

---

#### Pattern: `Optional Chaining` at line 560:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        return {
          name: ctx.allLayers?.find((l) => l.id === layerId)?.name ?? "",
> index: ctx.allLayers?.find((l) => l.id === layerId)?.index ?? 0,
          position: getLayerProperty?.(layerId, "transform.position") ?? [0, 0],
          scale: getLayerProperty?.(layerId, "transform.scale") ?? [100, 100],
          rotation: getLayerProperty?.(layerId, "transform.rotation") ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 560:60

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        return {
          name: ctx.allLayers?.find((l) => l.id === layerId)?.name ?? "",
> index: ctx.allLayers?.find((l) => l.id === layerId)?.index ?? 0,
          position: getLayerProperty?.(layerId, "transform.position") ?? [0, 0],
          scale: getLayerProperty?.(layerId, "transform.scale") ?? [100, 100],
          rotation: getLayerProperty?.(layerId, "transform.rotation") ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 561:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return {
          name: ctx.allLayers?.find((l) => l.id === layerId)?.name ?? "",
          index: ctx.allLayers?.find((l) => l.id === layerId)?.index ?? 0,
> position: getLayerProperty?.(layerId, "transform.position") ?? [0, 0],
          scale: getLayerProperty?.(layerId, "transform.scale") ?? [100, 100],
          rotation: getLayerProperty?.(layerId, "transform.rotation") ?? 0,
          opacity: getLayerProperty?.(layerId, "transform.opacity") ?? 100,
```

---

#### Pattern: `Optional Chaining` at line 562:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          name: ctx.allLayers?.find((l) => l.id === layerId)?.name ?? "",
          index: ctx.allLayers?.find((l) => l.id === layerId)?.index ?? 0,
          position: getLayerProperty?.(layerId, "transform.position") ?? [0, 0],
> scale: getLayerProperty?.(layerId, "transform.scale") ?? [100, 100],
          rotation: getLayerProperty?.(layerId, "transform.rotation") ?? 0,
          opacity: getLayerProperty?.(layerId, "transform.opacity") ?? 100,
          anchorPoint: getLayerProperty?.(layerId, "transform.anchorPoint") ?? [
```

---

#### Pattern: `Optional Chaining` at line 563:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          index: ctx.allLayers?.find((l) => l.id === layerId)?.index ?? 0,
          position: getLayerProperty?.(layerId, "transform.position") ?? [0, 0],
          scale: getLayerProperty?.(layerId, "transform.scale") ?? [100, 100],
> rotation: getLayerProperty?.(layerId, "transform.rotation") ?? 0,
          opacity: getLayerProperty?.(layerId, "transform.opacity") ?? 100,
          anchorPoint: getLayerProperty?.(layerId, "transform.anchorPoint") ?? [
            0, 0,
```

---

#### Pattern: `Optional Chaining` at line 564:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          position: getLayerProperty?.(layerId, "transform.position") ?? [0, 0],
          scale: getLayerProperty?.(layerId, "transform.scale") ?? [100, 100],
          rotation: getLayerProperty?.(layerId, "transform.rotation") ?? 0,
> opacity: getLayerProperty?.(layerId, "transform.opacity") ?? 100,
          anchorPoint: getLayerProperty?.(layerId, "transform.anchorPoint") ?? [
            0, 0,
          ],
```

---

#### Pattern: `Optional Chaining` at line 565:38

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          scale: getLayerProperty?.(layerId, "transform.scale") ?? [100, 100],
          rotation: getLayerProperty?.(layerId, "transform.rotation") ?? 0,
          opacity: getLayerProperty?.(layerId, "transform.opacity") ?? 100,
> anchorPoint: getLayerProperty?.(layerId, "transform.anchorPoint") ?? [
            0, 0,
          ],
          origin: getLayerProperty?.(layerId, "transform.origin") ?? [0, 0],
```

---

#### Pattern: `Optional Chaining` at line 568:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          anchorPoint: getLayerProperty?.(layerId, "transform.anchorPoint") ?? [
            0, 0,
          ],
> origin: getLayerProperty?.(layerId, "transform.origin") ?? [0, 0],
          transform: {
            position: getLayerProperty?.(layerId, "transform.position") ?? [
              0, 0, 0,
```

---

#### Pattern: `Optional Chaining` at line 570:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          ],
          origin: getLayerProperty?.(layerId, "transform.origin") ?? [0, 0],
          transform: {
> position: getLayerProperty?.(layerId, "transform.position") ?? [
              0, 0, 0,
            ],
            rotation: getLayerProperty?.(layerId, "transform.rotation") ?? [
```

---

#### Pattern: `Optional Chaining` at line 573:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            position: getLayerProperty?.(layerId, "transform.position") ?? [
              0, 0, 0,
            ],
> rotation: getLayerProperty?.(layerId, "transform.rotation") ?? [
              0, 0, 0,
            ],
            scale: getLayerProperty?.(layerId, "transform.scale") ?? [
```

---

#### Pattern: `Optional Chaining` at line 576:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            rotation: getLayerProperty?.(layerId, "transform.rotation") ?? [
              0, 0, 0,
            ],
> scale: getLayerProperty?.(layerId, "transform.scale") ?? [
              100, 100, 100,
            ],
            opacity: getLayerProperty?.(layerId, "transform.opacity") ?? 100,
```

---

#### Pattern: `Optional Chaining` at line 579:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            scale: getLayerProperty?.(layerId, "transform.scale") ?? [
              100, 100, 100,
            ],
> opacity: getLayerProperty?.(layerId, "transform.opacity") ?? 100,
            anchorPoint: getLayerProperty?.(layerId, "transform.anchorPoint") ?? [
              0, 0, 0,
            ],
```

---

#### Pattern: `Optional Chaining` at line 580:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              100, 100, 100,
            ],
            opacity: getLayerProperty?.(layerId, "transform.opacity") ?? 100,
> anchorPoint: getLayerProperty?.(layerId, "transform.anchorPoint") ?? [
              0, 0, 0,
            ],
            origin: getLayerProperty?.(layerId, "transform.origin") ?? [0, 0, 0],
```

---

#### Pattern: `Optional Chaining` at line 583:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            anchorPoint: getLayerProperty?.(layerId, "transform.anchorPoint") ?? [
              0, 0, 0,
            ],
> origin: getLayerProperty?.(layerId, "transform.origin") ?? [0, 0, 0],
          },
          toComp: (point: number[]) => toComp(point, getTransform()),
          fromComp: (point: number[]) => fromComp(point, getTransform()),
```

---

#### Pattern: `Optional Chaining` at line 602:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      index: ctx.layerIndex,
      inPoint: ctx.inPoint,
      outPoint: ctx.outPoint,
> position: ctx.layerTransform?.position ?? [0, 0, 0],
      rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
      scale: ctx.layerTransform?.scale ?? [100, 100, 100],
      opacity: ctx.layerTransform?.opacity ?? 100,
```

---

#### Pattern: `Optional Chaining` at line 603:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      inPoint: ctx.inPoint,
      outPoint: ctx.outPoint,
      position: ctx.layerTransform?.position ?? [0, 0, 0],
> rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
      scale: ctx.layerTransform?.scale ?? [100, 100, 100],
      opacity: ctx.layerTransform?.opacity ?? 100,
      anchorPoint: ctx.layerTransform?.origin ?? [0, 0, 0],
```

---

#### Pattern: `Optional Chaining` at line 604:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      outPoint: ctx.outPoint,
      position: ctx.layerTransform?.position ?? [0, 0, 0],
      rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
> scale: ctx.layerTransform?.scale ?? [100, 100, 100],
      opacity: ctx.layerTransform?.opacity ?? 100,
      anchorPoint: ctx.layerTransform?.origin ?? [0, 0, 0],
      origin: ctx.layerTransform?.origin ?? [0, 0, 0],
```

---

#### Pattern: `Optional Chaining` at line 605:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      position: ctx.layerTransform?.position ?? [0, 0, 0],
      rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
      scale: ctx.layerTransform?.scale ?? [100, 100, 100],
> opacity: ctx.layerTransform?.opacity ?? 100,
      anchorPoint: ctx.layerTransform?.origin ?? [0, 0, 0],
      origin: ctx.layerTransform?.origin ?? [0, 0, 0],
      transform: {
```

---

#### Pattern: `Optional Chaining` at line 606:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
      scale: ctx.layerTransform?.scale ?? [100, 100, 100],
      opacity: ctx.layerTransform?.opacity ?? 100,
> anchorPoint: ctx.layerTransform?.origin ?? [0, 0, 0],
      origin: ctx.layerTransform?.origin ?? [0, 0, 0],
      transform: {
        position: ctx.layerTransform?.position ?? [0, 0, 0],
```

---

#### Pattern: `Optional Chaining` at line 607:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      scale: ctx.layerTransform?.scale ?? [100, 100, 100],
      opacity: ctx.layerTransform?.opacity ?? 100,
      anchorPoint: ctx.layerTransform?.origin ?? [0, 0, 0],
> origin: ctx.layerTransform?.origin ?? [0, 0, 0],
      transform: {
        position: ctx.layerTransform?.position ?? [0, 0, 0],
        rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
```

---

#### Pattern: `Optional Chaining` at line 609:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      anchorPoint: ctx.layerTransform?.origin ?? [0, 0, 0],
      origin: ctx.layerTransform?.origin ?? [0, 0, 0],
      transform: {
> position: ctx.layerTransform?.position ?? [0, 0, 0],
        rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
        scale: ctx.layerTransform?.scale ?? [100, 100, 100],
        opacity: ctx.layerTransform?.opacity ?? 100,
```

---

#### Pattern: `Optional Chaining` at line 610:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      origin: ctx.layerTransform?.origin ?? [0, 0, 0],
      transform: {
        position: ctx.layerTransform?.position ?? [0, 0, 0],
> rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
        scale: ctx.layerTransform?.scale ?? [100, 100, 100],
        opacity: ctx.layerTransform?.opacity ?? 100,
        anchorPoint: ctx.layerTransform?.origin ?? [0, 0, 0],
```

---

#### Pattern: `Optional Chaining` at line 611:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      transform: {
        position: ctx.layerTransform?.position ?? [0, 0, 0],
        rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
> scale: ctx.layerTransform?.scale ?? [100, 100, 100],
        opacity: ctx.layerTransform?.opacity ?? 100,
        anchorPoint: ctx.layerTransform?.origin ?? [0, 0, 0],
        origin: ctx.layerTransform?.origin ?? [0, 0, 0],
```

---

#### Pattern: `Optional Chaining` at line 612:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        position: ctx.layerTransform?.position ?? [0, 0, 0],
        rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
        scale: ctx.layerTransform?.scale ?? [100, 100, 100],
> opacity: ctx.layerTransform?.opacity ?? 100,
        anchorPoint: ctx.layerTransform?.origin ?? [0, 0, 0],
        origin: ctx.layerTransform?.origin ?? [0, 0, 0],
      },
```

---

#### Pattern: `Optional Chaining` at line 613:38

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
        scale: ctx.layerTransform?.scale ?? [100, 100, 100],
        opacity: ctx.layerTransform?.opacity ?? 100,
> anchorPoint: ctx.layerTransform?.origin ?? [0, 0, 0],
        origin: ctx.layerTransform?.origin ?? [0, 0, 0],
      },
      effect: (effectName: string) => {
```

---

#### Pattern: `Optional Chaining` at line 614:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        scale: ctx.layerTransform?.scale ?? [100, 100, 100],
        opacity: ctx.layerTransform?.opacity ?? 100,
        anchorPoint: ctx.layerTransform?.origin ?? [0, 0, 0],
> origin: ctx.layerTransform?.origin ?? [0, 0, 0],
      },
      effect: (effectName: string) => {
        const eff = ctx.layerEffects?.find(
```

---

#### Pattern: `Optional Chaining` at line 617:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        origin: ctx.layerTransform?.origin ?? [0, 0, 0],
      },
      effect: (effectName: string) => {
> const eff = ctx.layerEffects?.find(
          (e) => e.name === effectName || e.effectKey === effectName,
        );
        const accessor = (paramName: string) => {
```

---

#### Pattern: `Optional Chaining` at line 626:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        };
        accessor.param = accessor;
        // Slider Control
> accessor.value = eff?.parameters.value ?? 0;
        accessor.slider = eff?.parameters.slider ?? eff?.parameters.Slider ?? 0;
        // Angle Control
        accessor.angle = eff?.parameters.angle ?? eff?.parameters.Angle ?? 0;
```

---

#### Pattern: `Optional Chaining` at line 627:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        accessor.param = accessor;
        // Slider Control
        accessor.value = eff?.parameters.value ?? 0;
> accessor.slider = eff?.parameters.slider ?? eff?.parameters.Slider ?? 0;
        // Angle Control
        accessor.angle = eff?.parameters.angle ?? eff?.parameters.Angle ?? 0;
        // Checkbox Control
```

---

#### Pattern: `Optional Chaining` at line 627:54

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        accessor.param = accessor;
        // Slider Control
        accessor.value = eff?.parameters.value ?? 0;
> accessor.slider = eff?.parameters.slider ?? eff?.parameters.Slider ?? 0;
        // Angle Control
        accessor.angle = eff?.parameters.angle ?? eff?.parameters.Angle ?? 0;
        // Checkbox Control
```

---

#### Pattern: `Optional Chaining` at line 629:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        accessor.value = eff?.parameters.value ?? 0;
        accessor.slider = eff?.parameters.slider ?? eff?.parameters.Slider ?? 0;
        // Angle Control
> accessor.angle = eff?.parameters.angle ?? eff?.parameters.Angle ?? 0;
        // Checkbox Control
        accessor.checkbox =
          eff?.parameters.checkbox ?? eff?.parameters.Checkbox ?? false;
```

---

#### Pattern: `Optional Chaining` at line 629:52

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        accessor.value = eff?.parameters.value ?? 0;
        accessor.slider = eff?.parameters.slider ?? eff?.parameters.Slider ?? 0;
        // Angle Control
> accessor.angle = eff?.parameters.angle ?? eff?.parameters.Angle ?? 0;
        // Checkbox Control
        accessor.checkbox =
          eff?.parameters.checkbox ?? eff?.parameters.Checkbox ?? false;
```

---

#### Pattern: `Optional Chaining` at line 632:12

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        accessor.angle = eff?.parameters.angle ?? eff?.parameters.Angle ?? 0;
        // Checkbox Control
        accessor.checkbox =
> eff?.parameters.checkbox ?? eff?.parameters.Checkbox ?? false;
        // Color Control
        accessor.color = eff?.parameters.color ??
          eff?.parameters.Color ?? [1, 1, 1, 1];
```

---

#### Pattern: `Optional Chaining` at line 632:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        accessor.angle = eff?.parameters.angle ?? eff?.parameters.Angle ?? 0;
        // Checkbox Control
        accessor.checkbox =
> eff?.parameters.checkbox ?? eff?.parameters.Checkbox ?? false;
        // Color Control
        accessor.color = eff?.parameters.color ??
          eff?.parameters.Color ?? [1, 1, 1, 1];
```

---

#### Pattern: `Optional Chaining` at line 634:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        accessor.checkbox =
          eff?.parameters.checkbox ?? eff?.parameters.Checkbox ?? false;
        // Color Control
> accessor.color = eff?.parameters.color ??
          eff?.parameters.Color ?? [1, 1, 1, 1];
        // Point Control (2D and 3D)
        accessor.point = eff?.parameters.point ?? eff?.parameters.Point ?? [0, 0];
```

---

#### Pattern: `Optional Chaining` at line 635:12

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          eff?.parameters.checkbox ?? eff?.parameters.Checkbox ?? false;
        // Color Control
        accessor.color = eff?.parameters.color ??
> eff?.parameters.Color ?? [1, 1, 1, 1];
        // Point Control (2D and 3D)
        accessor.point = eff?.parameters.point ?? eff?.parameters.Point ?? [0, 0];
        accessor.point3D = eff?.parameters.point3D ??
```

---

#### Pattern: `Optional Chaining` at line 637:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        accessor.color = eff?.parameters.color ??
          eff?.parameters.Color ?? [1, 1, 1, 1];
        // Point Control (2D and 3D)
> accessor.point = eff?.parameters.point ?? eff?.parameters.Point ?? [0, 0];
        accessor.point3D = eff?.parameters.point3D ??
          eff?.parameters["3D Point"] ?? [0, 0, 0];
        // Dropdown Menu Control
```

---

#### Pattern: `Optional Chaining` at line 637:52

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        accessor.color = eff?.parameters.color ??
          eff?.parameters.Color ?? [1, 1, 1, 1];
        // Point Control (2D and 3D)
> accessor.point = eff?.parameters.point ?? eff?.parameters.Point ?? [0, 0];
        accessor.point3D = eff?.parameters.point3D ??
          eff?.parameters["3D Point"] ?? [0, 0, 0];
        // Dropdown Menu Control
```

---

#### Pattern: `Optional Chaining` at line 638:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          eff?.parameters.Color ?? [1, 1, 1, 1];
        // Point Control (2D and 3D)
        accessor.point = eff?.parameters.point ?? eff?.parameters.Point ?? [0, 0];
> accessor.point3D = eff?.parameters.point3D ??
          eff?.parameters["3D Point"] ?? [0, 0, 0];
        // Dropdown Menu Control
        accessor.menu = eff?.parameters.menu ?? eff?.parameters.Menu ?? 1;
```

---

#### Pattern: `Optional Chaining` at line 639:12

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Point Control (2D and 3D)
        accessor.point = eff?.parameters.point ?? eff?.parameters.Point ?? [0, 0];
        accessor.point3D = eff?.parameters.point3D ??
> eff?.parameters["3D Point"] ?? [0, 0, 0];
        // Dropdown Menu Control
        accessor.menu = eff?.parameters.menu ?? eff?.parameters.Menu ?? 1;
        // Layer Control
```

---

#### Pattern: `Optional Chaining` at line 641:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        accessor.point3D = eff?.parameters.point3D ??
          eff?.parameters["3D Point"] ?? [0, 0, 0];
        // Dropdown Menu Control
> accessor.menu = eff?.parameters.menu ?? eff?.parameters.Menu ?? 1;
        // Layer Control
        accessor.layer = eff?.parameters.layer ?? eff?.parameters.Layer ?? null;
        return accessor;
```

---

#### Pattern: `Optional Chaining` at line 641:50

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        accessor.point3D = eff?.parameters.point3D ??
          eff?.parameters["3D Point"] ?? [0, 0, 0];
        // Dropdown Menu Control
> accessor.menu = eff?.parameters.menu ?? eff?.parameters.Menu ?? 1;
        // Layer Control
        accessor.layer = eff?.parameters.layer ?? eff?.parameters.Layer ?? null;
        return accessor;
```

---

#### Pattern: `Optional Chaining` at line 643:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Dropdown Menu Control
        accessor.menu = eff?.parameters.menu ?? eff?.parameters.Menu ?? 1;
        // Layer Control
> accessor.layer = eff?.parameters.layer ?? eff?.parameters.Layer ?? null;
        return accessor;
      },
      sourceRectAtTime: (
```

---

#### Pattern: `Optional Chaining` at line 643:52

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Dropdown Menu Control
        accessor.menu = eff?.parameters.menu ?? eff?.parameters.Menu ?? 1;
        // Layer Control
> accessor.layer = eff?.parameters.layer ?? eff?.parameters.Layer ?? null;
        return accessor;
      },
      sourceRectAtTime: (
```

---

#### Pattern: `Optional Chaining` at line 654:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      },
      toComp: (point: number[]) => {
        const transform: LayerTransform = {
> position: ctx.layerTransform?.position ?? [0, 0, 0],
          scale: ctx.layerTransform?.scale ?? [100, 100, 100],
          rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
          anchor: ctx.layerTransform?.origin ?? [0, 0, 0],
```

---

#### Pattern: `Optional Chaining` at line 655:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      toComp: (point: number[]) => {
        const transform: LayerTransform = {
          position: ctx.layerTransform?.position ?? [0, 0, 0],
> scale: ctx.layerTransform?.scale ?? [100, 100, 100],
          rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
          anchor: ctx.layerTransform?.origin ?? [0, 0, 0],
        };
```

---

#### Pattern: `Optional Chaining` at line 656:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const transform: LayerTransform = {
          position: ctx.layerTransform?.position ?? [0, 0, 0],
          scale: ctx.layerTransform?.scale ?? [100, 100, 100],
> rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
          anchor: ctx.layerTransform?.origin ?? [0, 0, 0],
        };
        return toComp(point, transform);
```

---

#### Pattern: `Optional Chaining` at line 657:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          position: ctx.layerTransform?.position ?? [0, 0, 0],
          scale: ctx.layerTransform?.scale ?? [100, 100, 100],
          rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
> anchor: ctx.layerTransform?.origin ?? [0, 0, 0],
        };
        return toComp(point, transform);
      },
```

---

#### Pattern: `Optional Chaining` at line 663:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      },
      fromComp: (point: number[]) => {
        const transform: LayerTransform = {
> position: ctx.layerTransform?.position ?? [0, 0, 0],
          scale: ctx.layerTransform?.scale ?? [100, 100, 100],
          rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
          anchor: ctx.layerTransform?.origin ?? [0, 0, 0],
```

---

#### Pattern: `Optional Chaining` at line 664:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      fromComp: (point: number[]) => {
        const transform: LayerTransform = {
          position: ctx.layerTransform?.position ?? [0, 0, 0],
> scale: ctx.layerTransform?.scale ?? [100, 100, 100],
          rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
          anchor: ctx.layerTransform?.origin ?? [0, 0, 0],
        };
```

---

#### Pattern: `Optional Chaining` at line 665:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const transform: LayerTransform = {
          position: ctx.layerTransform?.position ?? [0, 0, 0],
          scale: ctx.layerTransform?.scale ?? [100, 100, 100],
> rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
          anchor: ctx.layerTransform?.origin ?? [0, 0, 0],
        };
        return fromComp(point, transform);
```

---

#### Pattern: `Optional Chaining` at line 666:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          position: ctx.layerTransform?.position ?? [0, 0, 0],
          scale: ctx.layerTransform?.scale ?? [100, 100, 100],
          rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
> anchor: ctx.layerTransform?.origin ?? [0, 0, 0],
        };
        return fromComp(point, transform);
      },
```

---

#### Pattern: `Optional Chaining` at line 672:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      },
      toWorld: (point: number[]) => {
        const transform: LayerTransform = {
> position: ctx.layerTransform?.position ?? [0, 0, 0],
          scale: ctx.layerTransform?.scale ?? [100, 100, 100],
          rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
          anchor: ctx.layerTransform?.origin ?? [0, 0, 0],
```

---

#### Pattern: `Optional Chaining` at line 673:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      toWorld: (point: number[]) => {
        const transform: LayerTransform = {
          position: ctx.layerTransform?.position ?? [0, 0, 0],
> scale: ctx.layerTransform?.scale ?? [100, 100, 100],
          rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
          anchor: ctx.layerTransform?.origin ?? [0, 0, 0],
        };
```

---

#### Pattern: `Optional Chaining` at line 674:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const transform: LayerTransform = {
          position: ctx.layerTransform?.position ?? [0, 0, 0],
          scale: ctx.layerTransform?.scale ?? [100, 100, 100],
> rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
          anchor: ctx.layerTransform?.origin ?? [0, 0, 0],
        };
        return toWorld(point, transform);
```

---

#### Pattern: `Optional Chaining` at line 675:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          position: ctx.layerTransform?.position ?? [0, 0, 0],
          scale: ctx.layerTransform?.scale ?? [100, 100, 100],
          rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
> anchor: ctx.layerTransform?.origin ?? [0, 0, 0],
        };
        return toWorld(point, transform);
      },
```

---

#### Pattern: `Optional Chaining` at line 681:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      },
      fromWorld: (point: number[]) => {
        const transform: LayerTransform = {
> position: ctx.layerTransform?.position ?? [0, 0, 0],
          scale: ctx.layerTransform?.scale ?? [100, 100, 100],
          rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
          anchor: ctx.layerTransform?.origin ?? [0, 0, 0],
```

---

#### Pattern: `Optional Chaining` at line 682:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      fromWorld: (point: number[]) => {
        const transform: LayerTransform = {
          position: ctx.layerTransform?.position ?? [0, 0, 0],
> scale: ctx.layerTransform?.scale ?? [100, 100, 100],
          rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
          anchor: ctx.layerTransform?.origin ?? [0, 0, 0],
        };
```

---

#### Pattern: `Optional Chaining` at line 683:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const transform: LayerTransform = {
          position: ctx.layerTransform?.position ?? [0, 0, 0],
          scale: ctx.layerTransform?.scale ?? [100, 100, 100],
> rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
          anchor: ctx.layerTransform?.origin ?? [0, 0, 0],
        };
        return fromWorld(point, transform);
```

---

#### Pattern: `Optional Chaining` at line 684:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          position: ctx.layerTransform?.position ?? [0, 0, 0],
          scale: ctx.layerTransform?.scale ?? [100, 100, 100],
          rotation: ctx.layerTransform?.rotation ?? [0, 0, 0],
> anchor: ctx.layerTransform?.origin ?? [0, 0, 0],
        };
        return fromWorld(point, transform);
      },
```

---

### `services/expressions/expressionHelpers.ts` (1 pattern(s))

#### Pattern: `isFinite()` at line 125:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    if (!after) return before.value;
  
    const frameDelta = after.frame - before.frame;
> if (!Number.isFinite(frameDelta) || frameDelta === 0) return before.value;
    const t = (frame - before.frame) / frameDelta;
    const easedT = applyEasing(t, before.interpolation);
  
```

---

### `services/expressions/expressionValidator.ts` (6 pattern(s))

#### Pattern: `Optional Chaining` at line 45:14

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      expr: PropertyExpression | undefined,
      location: string,
    ) {
> if (!expr?.enabled) return;
  
      // Only custom type has user code - presets/functions are safe (hardcoded)
      if (
```

---

#### Pattern: `Optional Chaining` at line 50:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Only custom type has user code - presets/functions are safe (hardcoded)
      if (
        expr.type === "custom" &&
> expr.params?.code &&
        typeof expr.params.code === "string"
      ) {
        expressions.push({ location, code: expr.params.code });
```

---

#### Pattern: `Optional Chaining` at line 62:14

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      prop: AnimatableProperty<unknown> | undefined,
      location: string,
    ) {
> if (!prop?.expression) return;
      checkPropertyExpression(prop.expression as PropertyExpression, location);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 101:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Text layer - check text animators' expression selectors
      if (layer.type === "text") {
        const data = layer.data as { animators?: TextAnimator[] };
> if (data?.animators) {
          data.animators.forEach((anim, i) => {
            // Check expression selector
            const exprSel = anim.expressionSelector as
```

---

#### Pattern: `Optional Chaining` at line 107:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            const exprSel = anim.expressionSelector as
              | TextExpressionSelector
              | undefined;
> if (exprSel?.enabled && exprSel.amountExpression) {
              expressions.push({
                location: `${layerLoc}.textAnimator[${anim.name || i}].expressionSelector`,
                code: exprSel.amountExpression,
```

---

#### Pattern: `Optional Chaining` at line 135:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          if (effect.parameters) {
            for (const [key, param] of Object.entries(effect.parameters)) {
              const p = param as AnimatableProperty<unknown>;
> if (p?.expression) {
                checkPropertyExpression(
                  p.expression as PropertyExpression,
                  `${layerLoc}.effect[${effect.name || ei}].${key}`,
```

---

### `services/expressions/jitterExpressions.ts` (4 pattern(s))

#### Pattern: `isFinite()` at line 41:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const { value } = ctx;
  
    // Guard against invalid octaves (prevents infinite loop)
> if (!Number.isFinite(octaves) || octaves < 1) {
      octaves = 1;
    } else if (octaves > 10) {
      octaves = 10; // Cap at 10 - more octaves add negligible detail
```

---

#### Pattern: `isFinite()` at line 68:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
      // Guard against division by zero
      const denominator = 1 + (octaves - 1) * amplitudeMultiplier;
> if (!Number.isFinite(denominator) || denominator === 0) {
        return result; // Return unnormalized if normalization factor is invalid
      }
      return result / denominator;
```

---

#### Pattern: `isFinite()` at line 95:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const t = time ?? ctx.time;
  
    // Guard against invalid frequency (prevents division by zero)
> if (!Number.isFinite(frequency) || frequency <= 0) {
      frequency = 5; // Use default frequency
    }
  
```

---

#### Pattern: `isFinite()` at line 100:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    }
  
    // Guard against invalid octaves (prevents infinite loop)
> if (!Number.isFinite(octaves) || octaves < 1) {
      octaves = 1;
    } else if (octaves > 10) {
      octaves = 10; // Cap at 10 - more octaves add negligible detail
```

---

### `services/expressions/layerContentExpressions.ts` (18 pattern(s))

#### Pattern: `: void` at line 111:62

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  
    // Extract paths from shape layer contents
    const paths: BezierPath[] = [];
> function extractPaths(contents: ShapeLayerData["contents"]): void {
      for (const item of contents) {
        if (item.type === "path") {
          // Path shape has a path property with vertices
```

---

#### Pattern: `Optional Chaining` at line 116:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (item.type === "path") {
          // Path shape has a path property with vertices
          const pathShape = item as { path: { value: BezierPath } };
> if (pathShape.path?.value?.vertices) {
            paths.push(pathShape.path.value);
          }
        } else if (item.type === "group") {
```

---

#### Pattern: `Optional Chaining` at line 116:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (item.type === "path") {
          // Path shape has a path property with vertices
          const pathShape = item as { path: { value: BezierPath } };
> if (pathShape.path?.value?.vertices) {
            paths.push(pathShape.path.value);
          }
        } else if (item.type === "group") {
```

---

#### Pattern: `Optional Chaining` at line 135:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    paths.forEach((path: BezierPath) => {
      const vertices = path.vertices ?? [];
      vertices.forEach((vertex: BezierVertex) => {
> const x = vertex.point?.x ?? 0;
        const y = vertex.point?.y ?? 0;
        minX = Math.min(minX, x);
        minY = Math.min(minY, y);
```

---

#### Pattern: `Optional Chaining` at line 136:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const vertices = path.vertices ?? [];
      vertices.forEach((vertex: BezierVertex) => {
        const x = vertex.point?.x ?? 0;
> const y = vertex.point?.y ?? 0;
        minX = Math.min(minX, x);
        minY = Math.min(minY, y);
        maxX = Math.max(maxX, x);
```

---

#### Pattern: `isFinite()` at line 144:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      });
    });
  
> if (!Number.isFinite(minX)) {
      return { top: 0, left: 0, width: 100, height: 100 };
    }
  
```

---

#### Pattern: `: void` at line 154:67

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    if (includeExtents) {
      // Find stroke width from stroke shapes in contents
      let maxStrokeWidth = 0;
> function findStrokeWidth(contents: ShapeLayerData["contents"]): void {
        for (const item of contents) {
          if (item.type === "stroke") {
            const strokeWidth = typeof item.width?.value === "number" ? item.width.value : 0;
```

---

#### Pattern: `Optional Chaining` at line 157:48

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      function findStrokeWidth(contents: ShapeLayerData["contents"]): void {
        for (const item of contents) {
          if (item.type === "stroke") {
> const strokeWidth = typeof item.width?.value === "number" ? item.width.value : 0;
            maxStrokeWidth = Math.max(maxStrokeWidth, strokeWidth);
          } else if (item.type === "group") {
            findStrokeWidth(item.contents);
```

---

#### Pattern: `Optional Chaining` at line 226:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
   */
  export function textSource(layerData: TextData): TextSourceInfo {
    return {
> text: layerData?.text ?? "",
      fontSize: layerData?.fontSize ?? 72,
      fontFamily: layerData?.fontFamily ?? "Arial",
      fontStyle: layerData?.fontStyle ?? "normal",
```

---

#### Pattern: `Optional Chaining` at line 227:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  export function textSource(layerData: TextData): TextSourceInfo {
    return {
      text: layerData?.text ?? "",
> fontSize: layerData?.fontSize ?? 72,
      fontFamily: layerData?.fontFamily ?? "Arial",
      fontStyle: layerData?.fontStyle ?? "normal",
      fillColor: layerData?.fill ?? "#FFFFFF",
```

---

#### Pattern: `Optional Chaining` at line 228:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    return {
      text: layerData?.text ?? "",
      fontSize: layerData?.fontSize ?? 72,
> fontFamily: layerData?.fontFamily ?? "Arial",
      fontStyle: layerData?.fontStyle ?? "normal",
      fillColor: layerData?.fill ?? "#FFFFFF",
      strokeColor: layerData?.stroke ?? "#000000",
```

---

#### Pattern: `Optional Chaining` at line 229:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      text: layerData?.text ?? "",
      fontSize: layerData?.fontSize ?? 72,
      fontFamily: layerData?.fontFamily ?? "Arial",
> fontStyle: layerData?.fontStyle ?? "normal",
      fillColor: layerData?.fill ?? "#FFFFFF",
      strokeColor: layerData?.stroke ?? "#000000",
      strokeWidth: layerData?.strokeWidth ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 230:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      fontSize: layerData?.fontSize ?? 72,
      fontFamily: layerData?.fontFamily ?? "Arial",
      fontStyle: layerData?.fontStyle ?? "normal",
> fillColor: layerData?.fill ?? "#FFFFFF",
      strokeColor: layerData?.stroke ?? "#000000",
      strokeWidth: layerData?.strokeWidth ?? 0,
      tracking: layerData?.letterSpacing ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 231:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      fontFamily: layerData?.fontFamily ?? "Arial",
      fontStyle: layerData?.fontStyle ?? "normal",
      fillColor: layerData?.fill ?? "#FFFFFF",
> strokeColor: layerData?.stroke ?? "#000000",
      strokeWidth: layerData?.strokeWidth ?? 0,
      tracking: layerData?.letterSpacing ?? 0,
      leading: layerData?.lineHeight ?? 1.2,
```

---

#### Pattern: `Optional Chaining` at line 232:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      fontStyle: layerData?.fontStyle ?? "normal",
      fillColor: layerData?.fill ?? "#FFFFFF",
      strokeColor: layerData?.stroke ?? "#000000",
> strokeWidth: layerData?.strokeWidth ?? 0,
      tracking: layerData?.letterSpacing ?? 0,
      leading: layerData?.lineHeight ?? 1.2,
    };
```

---

#### Pattern: `Optional Chaining` at line 233:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      fillColor: layerData?.fill ?? "#FFFFFF",
      strokeColor: layerData?.stroke ?? "#000000",
      strokeWidth: layerData?.strokeWidth ?? 0,
> tracking: layerData?.letterSpacing ?? 0,
      leading: layerData?.lineHeight ?? 1.2,
    };
  }
```

---

#### Pattern: `Optional Chaining` at line 234:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      strokeColor: layerData?.stroke ?? "#000000",
      strokeWidth: layerData?.strokeWidth ?? 0,
      tracking: layerData?.letterSpacing ?? 0,
> leading: layerData?.lineHeight ?? 1.2,
    };
  }
  
```

---

#### Pattern: `Optional Chaining` at line 268:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    if (!effect) return null;
  
    const paramKey = parameterName.toLowerCase().replace(/\s+/g, "_");
> const param = effect.parameters?.[paramKey];
  
    if (!param) return null;
  
```

---

### `services/expressions/motionExpressions.ts` (7 pattern(s))

#### Pattern: `isFinite()` at line 96:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const { time, keyframes, value, velocity } = ctx;
  
    // Validate parameters
> const safeAmplitude = Number.isFinite(amplitude) ? amplitude : 0.1;
    const safeFrequency = Number.isFinite(frequency) ? frequency : 2.0;
    const safeDecay = Number.isFinite(decay) ? Math.max(0.001, decay) : 2.0;
  
```

---

#### Pattern: `isFinite()` at line 97:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    // Validate parameters
    const safeAmplitude = Number.isFinite(amplitude) ? amplitude : 0.1;
> const safeFrequency = Number.isFinite(frequency) ? frequency : 2.0;
    const safeDecay = Number.isFinite(decay) ? Math.max(0.001, decay) : 2.0;
  
    if (keyframes.length === 0) return value;
```

---

#### Pattern: `isFinite()` at line 98:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    // Validate parameters
    const safeAmplitude = Number.isFinite(amplitude) ? amplitude : 0.1;
    const safeFrequency = Number.isFinite(frequency) ? frequency : 2.0;
> const safeDecay = Number.isFinite(decay) ? Math.max(0.001, decay) : 2.0;
  
    if (keyframes.length === 0) return value;
  
```

---

#### Pattern: `isFinite()` at line 150:33

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const { time, keyframes, value } = ctx;
  
    // Validate parameters
> const safeElasticity = Number.isFinite(elasticity)
      ? Math.max(0, Math.min(1, elasticity))
      : 0.7;
    const safeGravity = Number.isFinite(gravity) && gravity > 0 ? gravity : 4000;
```

---

#### Pattern: `isFinite()` at line 153:30

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const safeElasticity = Number.isFinite(elasticity)
      ? Math.max(0, Math.min(1, elasticity))
      : 0.7;
> const safeGravity = Number.isFinite(gravity) && gravity > 0 ? gravity : 4000;
  
    if (keyframes.length === 0) return value;
  
```

---

#### Pattern: `isFinite()` at line 217:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const { time, keyframes, value } = ctx;
  
    // Validate parameters
> const safeAmplitude = Number.isFinite(amplitude) ? amplitude : 1;
    const safePeriod = Number.isFinite(period) && period > 0 ? period : 0.3;
  
    if (keyframes.length === 0) return value;
```

---

#### Pattern: `isFinite()` at line 218:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    // Validate parameters
    const safeAmplitude = Number.isFinite(amplitude) ? amplitude : 1;
> const safePeriod = Number.isFinite(period) && period > 0 ? period : 0.3;
  
    if (keyframes.length === 0) return value;
  
```

---

### `services/expressions/sesEvaluator.ts` (1 pattern(s))

#### Pattern: `isFinite()` at line 605:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      }
  
      // SECURITY: Check for NaN/Infinity
> if (!Number.isFinite(result)) {
        console.warn("[SES] Expression returned non-finite number:", result);
        return null;
      }
```

---

### `services/expressions/workerEvaluator.ts` (2 pattern(s))

#### Pattern: `Optional Chaining` at line 150:11

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      pending.set(id, { resolve, timer });
  
      // Send to worker
> worker?.postMessage({ id, code, context });
    });
  }
  
```

---

#### Pattern: `: void` at line 164:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Terminate the worker (cleanup)
   */
> export function terminateWorker(): void {
    if (worker) {
      worker.terminate();
      worker = null;
```

---

### `services/frameCache.ts` (16 pattern(s))

#### Pattern: `: void` at line 131:19

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    private head: LRUNode | null = null; // Oldest
    private tail: LRUNode | null = null; // Most recent
  
> add(key: string): void {
      if (this.nodeMap.has(key)) {
        this.moveToEnd(key);
        return;
```

---

#### Pattern: `: void` at line 150:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.nodeMap.set(key, node);
    }
  
> moveToEnd(key: string): void {
      const node = this.nodeMap.get(key);
      if (!node || node === this.tail) return;
  
```

---

#### Pattern: `: void` at line 166:22

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.tail = node;
    }
  
> remove(key: string): void {
      const node = this.nodeMap.get(key);
      if (!node) return;
  
```

---

#### Pattern: `Optional Chaining` at line 179:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    getOldest(): string | null {
> return this.head?.key ?? null;
    }
  
    has(key: string): boolean {
```

---

#### Pattern: `: void` at line 186:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return this.nodeMap.has(key);
    }
  
> clear(): void {
      this.nodeMap.clear();
      this.head = null;
      this.tail = null;
```

---

#### Pattern: `: void` at line 243:69

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set the frame render callback
     * This is called to render frames for pre-caching
     */
> setRenderCallback(callback: (frame: number) => Promise<ImageData>): void {
      this.renderFrame = callback;
    }
  
```

---

#### Pattern: `isFinite()` at line 253:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     */
    private getCacheKey(frame: number, compositionId: string): string {
      // NaN frames would create key "comp:NaN" causing all NaN frames to collide
> if (!Number.isFinite(frame)) {
        throw new Error(`Invalid frame number: ${frame}`);
      }
      return `${compositionId}:${frame}`;
```

---

#### Pattern: `isFinite()` at line 352:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const width = imageData.width;
      const height = imageData.height;
      if (
> !Number.isFinite(width) ||
        !Number.isFinite(height) ||
        width <= 0 ||
        height <= 0
```

---

#### Pattern: `isFinite()` at line 353:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const height = imageData.height;
      if (
        !Number.isFinite(width) ||
> !Number.isFinite(height) ||
        width <= 0 ||
        height <= 0
      ) {
```

---

#### Pattern: `: void` at line 410:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Remove a cached frame - O(1)
     */
> remove(frame: number, compositionId: string): void {
      const key = this.getCacheKey(frame, compositionId);
      const cached = this.cache.get(key);
  
```

---

#### Pattern: `: void` at line 441:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Clear all cached frames for a composition - O(k) where k = frames for this composition
     * Uses secondary index for direct lookup instead of O(n) iteration
     */
> clearComposition(compositionId: string): void {
      const keySet = this.compositionKeyMap.get(compositionId);
      if (!keySet) return;
  
```

---

#### Pattern: `: void` at line 462:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear all cached frames
     */
> clear(): void {
      this.cache.clear();
      this.lru.clear();
      this.compositionKeyMap.clear();
```

---

#### Pattern: `: void` at line 474:58

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Invalidate cache for a composition (when state changes)
     */
> invalidate(compositionId: string, newStateHash: string): void {
      const oldHash = this.stateHashCache.get(compositionId);
  
      if (oldHash !== newStateHash) {
```

---

#### Pattern: `isFinite()` at line 508:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // Validate preCacheWindow to prevent infinite loop from invalid values
      const rawWindow = this.config.preCacheWindow;
      const window =
> Number.isFinite(rawWindow) && rawWindow > 0
          ? Math.min(rawWindow, 1000)
          : 10;
  
```

---

#### Pattern: `: void` at line 564:18

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Abort any ongoing pre-cache operation
     */
> abortPreCache(): void {
      if (this.preCacheAbort) {
        this.preCacheAbort.abort();
        this.preCacheAbort = null;
```

---

#### Pattern: `: void` at line 597:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update configuration
     */
> setConfig(config: Partial<FrameCacheConfig>): void {
      this.config = { ...this.config, ...config };
    }
  
```

---

### `services/gaussianSplatting.ts` (4 pattern(s))

#### Pattern: `: void` at line 561:54

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set render quality
     */
> setQuality(quality: Partial<GaussianRenderQuality>): void {
      this.quality = { ...this.quality, ...quality };
    }
  
```

---

#### Pattern: `: void` at line 575:21

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Unload a scene
     */
> unload(id: string): void {
      this.scenes.delete(id);
    }
  
```

---

#### Pattern: `: void` at line 582:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Unload all scenes
     */
> clear(): void {
      this.scenes.clear();
    }
  
```

---

#### Pattern: `: void` at line 644:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function reorderBuffers(
    geometry: THREE.BufferGeometry,
    sortedIndices: Uint32Array,
> ): void {
    const position = geometry.getAttribute("position") as THREE.BufferAttribute;
    const color = geometry.getAttribute("color") as THREE.BufferAttribute;
    const size = geometry.getAttribute("size") as THREE.BufferAttribute;
```

---

### `services/globalLight.ts` (9 pattern(s))

#### Pattern: `: void` at line 135:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function setGlobalLightAngle(
    compositionId: string,
    angle: number,
> ): void {
    const settings = getGlobalLight(compositionId);
    settings.angle.value = normalizeAngle(angle);
  }
```

---

#### Pattern: `: void` at line 146:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function setGlobalLightAltitude(
    compositionId: string,
    altitude: number,
> ): void {
    const settings = getGlobalLight(compositionId);
    settings.altitude.value = clamp(altitude, 0, 90);
  }
```

---

#### Pattern: `: void` at line 158:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    compositionId: string,
    angle: number,
    altitude: number,
> ): void {
    setGlobalLightAngle(compositionId, angle);
    setGlobalLightAltitude(compositionId, altitude);
  }
```

---

#### Pattern: `: void` at line 169:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function setGlobalLightSettings(
    compositionId: string,
    settings: GlobalLightSettings,
> ): void {
    globalLightCache.set(compositionId, settings);
  }
  
```

---

#### Pattern: `: void` at line 183:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function enableGlobalLightAngleAnimation(
    compositionId: string,
    enabled: boolean = true,
> ): void {
    const settings = getGlobalLight(compositionId);
    settings.angle.animated = enabled;
  }
```

---

#### Pattern: `: void` at line 194:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function enableGlobalLightAltitudeAnimation(
    compositionId: string,
    enabled: boolean = true,
> ): void {
    const settings = getGlobalLight(compositionId);
    settings.altitude.animated = enabled;
  }
```

---

#### Pattern: `: void` at line 267:57

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * Remove global light settings for a composition
   * Called when a composition is deleted
   */
> export function removeGlobalLight(compositionId: string): void {
    globalLightCache.delete(compositionId);
  }
  
```

---

#### Pattern: `: void` at line 274:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Clear all cached global light settings
   */
> export function clearGlobalLightCache(): void {
    globalLightCache.clear();
  }
  
```

---

#### Pattern: `: void` at line 297:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function deserializeGlobalLight(
    compositionId: string,
    settings: GlobalLightSettings,
> ): void {
    globalLightCache.set(compositionId, settings);
  }
  
```

---

### `services/glsl/GLSLEngine.ts` (3 pattern(s))

#### Pattern: `: void` at line 664:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set uniforms on the current shader
     */
> setUniforms(uniforms: Partial<ShaderUniforms>): void {
      if (!this.gl || !this.program) return;
  
      const gl = this.gl;
```

---

#### Pattern: `: void` at line 838:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose of WebGL resources
     */
> dispose(): void {
      // Remove context loss event listeners
      if (this.canvas) {
        if (this.contextLostHandler) {
```

---

#### Pattern: `: void` at line 885:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Dispose of the singleton GLSL engine
   */
> export function disposeGLSLEngine(): void {
    if (glslEngineInstance) {
      glslEngineInstance.dispose();
      glslEngineInstance = null;
```

---

### `services/glsl/ShaderEffects.ts` (2 pattern(s))

#### Pattern: `: void` at line 1126:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose resources
     */
> dispose(): void {
      this.engine.dispose();
      this.currentEffect = null;
    }
```

---

#### Pattern: `: void` at line 1145:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    return processorInstance;
  }
  
> export function disposeShaderEffectProcessor(): void {
    if (processorInstance) {
      processorInstance.dispose();
      processorInstance = null;
```

---

### `services/gpuBenchmark.ts` (3 pattern(s))

#### Pattern: `Optional Chaining` at line 225:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const averageSpeedup = totalCpuTime / Math.max(totalGpuTime, 0.001);
  
    const sortedBySpeedup = [...results].sort((a, b) => b.speedup - a.speedup);
> const bestEffect = sortedBySpeedup[0]?.effectKey || "none";
    const worstEffect =
      sortedBySpeedup[sortedBySpeedup.length - 1]?.effectKey || "none";
  
```

---

#### Pattern: `Optional Chaining` at line 227:48

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const sortedBySpeedup = [...results].sort((a, b) => b.speedup - a.speedup);
    const bestEffect = sortedBySpeedup[0]?.effectKey || "none";
    const worstEffect =
> sortedBySpeedup[sortedBySpeedup.length - 1]?.effectKey || "none";
  
    const summary = {
      totalCpuTime,
```

---

#### Pattern: `: void` at line 261:61

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Print benchmark results to console
   */
> export function printBenchmarkResults(suite: BenchmarkSuite): void {
    console.log("\n=== GPU Effect Benchmark Results ===\n");
    console.log(`GPU Available: ${suite.summary.gpuAvailable}`);
    console.log(`Render Path: ${suite.summary.renderPath}`);
```

---

### `services/gpuDetection.ts` (2 pattern(s))

#### Pattern: `Optional Chaining` at line 49:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          if ("info" in adapter) {
            // Newer API
            const info = (adapter as any).info;
> deviceName = info?.device || info?.description || "";
          }
  
          // Detect Blackwell (RTX 50 series)
```

---

#### Pattern: `Optional Chaining` at line 49:44

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          if ("info" in adapter) {
            // Newer API
            const info = (adapter as any).info;
> deviceName = info?.device || info?.description || "";
          }
  
          // Detect Blackwell (RTX 50 series)
```

---

### `services/gpuEffectDispatcher.ts` (9 pattern(s))

#### Pattern: `: void` at line 368:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Release a texture back to the pool
     */
> release(texture: ImageData): void {
      const entry = this.pool.find((e) => e.texture === texture);
      if (entry) {
        entry.inUse = false;
```

---

#### Pattern: `: void` at line 379:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clean up old textures
     */
> cleanup(): void {
      const now = Date.now();
      this.pool = this.pool.filter(
        (entry) => entry.inUse || now - entry.lastUsed <= this.maxAge,
```

---

#### Pattern: `: void` at line 389:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear all pooled textures
     */
> clear(): void {
      this.pool = [];
    }
  
```

---

#### Pattern: `: void` at line 481:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Build routing table for effects based on GPU availability
     */
> private buildEffectRoutes(): void {
      this.effectRoutes.clear();
  
      for (const mapping of EFFECT_GPU_MAPPINGS) {
```

---

#### Pattern: `Optional Chaining` at line 556:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      try {
        switch (route) {
          case "webgpu":
> if (mapping?.webgpuMethod) {
              return await this.processWebGPU(
                effectKey,
                input,
```

---

#### Pattern: `Optional Chaining` at line 566:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            }
            break;
          case "webgl2":
> if (mapping?.webglShader) {
              return await this.processWebGL(
                effectKey,
                input,
```

---

#### Pattern: `: void` at line 851:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Release a texture back to the pool
     */
> releaseTexture(texture: ImageData): void {
      this.texturePool.release(texture);
    }
  
```

---

#### Pattern: `: void` at line 889:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clean up resources
     */
> cleanup(): void {
      this.texturePool.cleanup();
    }
  
```

---

#### Pattern: `: void` at line 896:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose all resources
     */
> dispose(): void {
      this.texturePool.clear();
      this.effectRoutes.clear();
      webgpuRenderer.dispose();
```

---

### `services/gpuParticleRenderer.ts` (14 pattern(s))

#### Pattern: `: void` at line 310:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      particles: readonly Particle[],
      canvasWidth: number,
      canvasHeight: number,
> ): void {
      const count = Math.min(particles.length, this.config.maxParticles);
      this.activeCount = count;
  
```

---

#### Pattern: `: void` at line 369:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set sprite texture for particle rendering
     */
> setSpriteTexture(texture: THREE.Texture | null): void {
      this.spriteTexture = texture;
      this.material.uniforms.uSprite.value = texture;
      this.material.uniforms.uUseSprite.value = texture !== null;
```

---

#### Pattern: `: void` at line 387:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set depth texture for soft particles
     */
> setDepthTexture(texture: THREE.DepthTexture): void {
      this.depthTexture = texture;
      this.material.uniforms.uDepthTexture.value = texture;
    }
```

---

#### Pattern: `: void` at line 395:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update resolution for soft particles
     */
> setResolution(width: number, height: number): void {
      this.material.uniforms.uResolution.value.set(width, height);
    }
  
```

---

#### Pattern: `: void` at line 402:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update camera near/far for soft particles
     */
> setCameraClipPlanes(near: number, far: number): void {
      this.material.uniforms.uNear.value = near;
      this.material.uniforms.uFar.value = far;
    }
```

---

#### Pattern: `: void` at line 410:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set blend mode
     */
> setBlendMode(mode: RenderOptions["blendMode"]): void {
      switch (mode) {
        case "additive":
          this.material.blending = THREE.AdditiveBlending;
```

---

#### Pattern: `: void` at line 433:53

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set motion blur enabled/strength
     */
> setMotionBlur(enabled: boolean, strength?: number): void {
      this.material.uniforms.uMotionBlur.value = enabled;
      if (strength !== undefined) {
        this.material.uniforms.uMotionBlurStrength.value = strength;
```

---

#### Pattern: `: void` at line 443:56

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set soft particles enabled
     */
> setSoftParticles(enabled: boolean, distance?: number): void {
      this.material.uniforms.uSoftParticles.value = enabled;
      if (distance !== undefined) {
        this.material.uniforms.uSoftDistance.value = distance;
```

---

#### Pattern: `: void` at line 453:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set emissive rendering for bloom
     */
> setEmissive(enabled: boolean, intensity?: number): void {
      this.material.uniforms.uEmissive.value = enabled;
      if (intensity !== undefined) {
        this.material.uniforms.uEmissiveIntensity.value = intensity;
```

---

#### Pattern: `: void` at line 463:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set size scale
     */
> setSizeScale(scale: number): void {
      this.material.uniforms.uSizeScale.value = scale;
    }
  
```

---

#### Pattern: `: void` at line 470:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update time uniform
     */
> setTime(time: number): void {
      this.material.uniforms.uTime.value = time;
    }
  
```

---

#### Pattern: `: void` at line 491:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose resources
     */
> dispose(): void {
      this.geometry.dispose();
      this.material.dispose();
      if (this.spriteTexture) {
```

---

#### Pattern: `: void` at line 553:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      particles: readonly Particle[],
      canvasWidth: number,
      canvasHeight: number,
> ): void {
      const count = Math.min(particles.length, this.maxInstances);
      this.activeCount = count;
  
```

---

#### Pattern: `: void` at line 602:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose resources
     */
> dispose(): void {
      this.mesh.geometry.dispose();
      if (this.mesh.material instanceof THREE.Material) {
        this.mesh.material.dispose();
```

---

### `services/interpolation.ts` (7 pattern(s))

#### Pattern: `: void` at line 128:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear the cache (call on project load)
     */
> clear(): void {
      this.cache.clear();
    }
  
```

---

#### Pattern: `: void` at line 147:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * Clear the bezier cache
   * Call this when loading a new project to free memory
   */
> export function clearBezierCache(): void {
    bezierCache.clear();
  }
  
```

---

#### Pattern: `isFinite()` at line 215:19

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const dy = v2Vec.y - v1Vec.y;
      const distance = Math.sqrt(dx * dx + dy * dy);
      // Return 1 as fallback if distance is 0 or invalid (prevents division by zero)
> return Number.isFinite(distance) && distance > 0 ? distance : 1;
    }
    return 1; // Default for non-numeric types
  }
```

---

#### Pattern: `Optional Chaining` at line 296:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    // Apply expression if present
> if (property.expression?.enabled) {
      value = applyPropertyExpression(
        property,
        value,
```

---

#### Pattern: `isNaN()` at line 639:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isNaN() for more accurate type checking

**Code:**
```typescript
   */
  function parseHexComponent(hex: string, start: number, end: number): number {
    const val = parseInt(hex.slice(start, end), 16);
> return Number.isNaN(val) ? 0 : Math.max(0, Math.min(255, val));
  }
  
  /**
```

---

#### Pattern: `: void` at line 737:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * Clear the path morph cache
   * Call this when loading a new project to free memory
   */
> export function clearPathMorphCache(): void {
    pathMorphCache.clear();
  }
  
```

---

#### Pattern: `: void` at line 805:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    keyframe: Keyframe<T>,
    presetName: keyof typeof EASING_PRESETS_NORMALIZED,
    _direction: "in" | "out" | "both" = "both",
> ): void {
    // For the new system, we simply set the interpolation type to 'bezier'
    // The actual easing is applied through named easings in the interpolation property
    keyframe.interpolation = presetName === "linear" ? "linear" : "bezier";
```

---

### `services/jsonValidation.ts` (1 pattern(s))

#### Pattern: `isNaN()` at line 83:47

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isNaN() for more accurate type checking

**Code:**
```typescript
   * Check if value is a valid number (not NaN)
   */
  export function isNumber(value: unknown): value is number {
> return typeof value === "number" && !Number.isNaN(value);
  }
  
  /**
```

---

### `services/layerDecomposition.ts` (10 pattern(s))

#### Pattern: `Optional Chaining` at line 128:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      onProgress?: (stage: string, progress: number) => void,
    ): Promise<void> {
      try {
> onProgress?.("starting", 0);
  
        const response = await fetch(
          `${this.baseUrl}/lattice/decomposition/download`,
```

---

#### Pattern: `Optional Chaining` at line 154:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          );
        }
  
> onProgress?.("complete", 100);
        logger.info("Model download complete");
      } catch (error) {
        logger.error("Model download failed:", error);
```

---

#### Pattern: `Optional Chaining` at line 256:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Check if we have enough memory before loading
      const memCheck = canAllocate(VRAM_ESTIMATES["model:qwen-image-layered"]);
      if (!memCheck.canProceed) {
> throw new Error(memCheck.warning?.message || "Insufficient GPU memory");
      }
  
      try {
```

---

#### Pattern: `Optional Chaining` at line 378:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      try {
        // Check status
> onProgress?.("checking", "Checking model status...");
        const status = await this.getStatus();
  
        // Download if needed
```

---

#### Pattern: `Optional Chaining` at line 383:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        // Download if needed
        if (!status.downloaded) {
> onProgress?.("downloading", "Downloading model (28.8GB)...");
          await this.downloadModel();
        }
  
```

---

#### Pattern: `Optional Chaining` at line 389:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        // Load if needed
        if (!status.loaded) {
> onProgress?.("loading", "Loading model into GPU memory...");
          await this.loadModel();
        }
  
```

---

#### Pattern: `Optional Chaining` at line 394:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        }
  
        // Decompose
> onProgress?.("decomposing", "Decomposing image into layers...");
        const layers = await this.decompose(imageDataUrl, options);
  
        // Generate semantic labels if requested
```

---

#### Pattern: `Optional Chaining` at line 399:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        // Generate semantic labels if requested
        if (generateLabels && layers.length > 0) {
> onProgress?.("labeling", "Generating semantic labels...");
          await this.generateSemanticLabels(layers);
        }
  
```

---

#### Pattern: `Optional Chaining` at line 403:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          await this.generateSemanticLabels(layers);
        }
  
> onProgress?.("complete", `Generated ${layers.length} layers`);
        return layers;
      } finally {
        // Auto-unload to free GPU memory (critical for large workflows)
```

---

#### Pattern: `Optional Chaining` at line 408:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      } finally {
        // Auto-unload to free GPU memory (critical for large workflows)
        if (autoUnload) {
> onProgress?.("cleanup", "Freeing GPU memory...");
          try {
            await this.unloadModel();
            logger.info("Model auto-unloaded to free GPU memory");
```

---

### `services/layerEvaluationCache.ts` (8 pattern(s))

#### Pattern: `: void` at line 48:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * Mark a layer as dirty (property changed)
   * Should be called whenever a layer property is modified
   */
> export function markLayerDirty(layerId: string): void {
    const current = layerVersions.get(layerId) ?? 0;
    layerVersions.set(layerId, current + 1);
    globalVersion++;
```

---

#### Pattern: `: void` at line 57:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Mark all layers as dirty (e.g., project reload)
   */
> export function markAllLayersDirty(): void {
    layerVersions.clear();
    globalVersion++;
  }
```

---

#### Pattern: `: void` at line 139:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    layerId: string,
    frame: number,
    evaluatedLayer: EvaluatedLayer,
> ): void {
    // Evict old entries if cache is full
    if (evaluationCache.size >= MAX_CACHE_SIZE) {
      evictOldEntries(MAX_CACHE_SIZE / 4); // Evict 25% of cache
```

---

#### Pattern: `: void` at line 156:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Evict oldest entries to make room
   */
> function evictOldEntries(count: number): void {
    // Sort entries by access time
    const entries = Array.from(evaluationCache.entries()).sort(
      ([, a], [, b]) => a.accessTime - b.accessTime,
```

---

#### Pattern: `: void` at line 171:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Clear cache for a specific layer
   */
> export function clearLayerCache(layerId: string): void {
    const keysToDelete: string[] = [];
    for (const key of evaluationCache.keys()) {
      if (key.startsWith(`${layerId}:`)) {
```

---

#### Pattern: `: void` at line 184:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Clear entire cache
   */
> export function clearEvaluationCache(): void {
    evaluationCache.clear();
  }
  
```

---

#### Pattern: `Optional Chaining` at line 244:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    // Evaluate position - check for separate dimensions first
    let position: { x: number; y: number; z?: number };
    if (
> transform.separateDimensions?.position &&
      transform.positionX &&
      transform.positionY
    ) {
```

---

#### Pattern: `Optional Chaining` at line 268:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    // Evaluate scale - check for separate dimensions first
    let scale: { x: number; y: number; z?: number };
    if (
> transform.separateDimensions?.scale &&
      transform.scaleX &&
      transform.scaleY
    ) {
```

---

### `services/lazyLoader.ts` (4 pattern(s))

#### Pattern: `: void` at line 147:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * Preload modules that will likely be needed soon
   * Call this during idle time or after initial render
   */
> export function preloadCommonModules(): void {
    // Use requestIdleCallback for non-critical preloading
    const preload = () => {
      // Preload in order of likely usage
```

---

#### Pattern: `: void` at line 165:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Preload export-related modules (call when user opens export dialog)
   */
> export function preloadExportModules(): void {
    loadJSZip().catch(() => {});
    loadMP4Muxer().catch(() => {});
    loadWebMMuxer().catch(() => {});
```

---

#### Pattern: `: void` at line 178:46

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Clear a specific cached module
   */
> export function clearModuleCache(key: string): void {
    moduleCache.delete(key);
  }
  
```

---

#### Pattern: `: void` at line 185:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Clear all cached modules
   */
> export function clearAllModuleCache(): void {
    moduleCache.clear();
  }
  
```

---

### `services/maskGenerator.ts` (3 pattern(s))

#### Pattern: `: void` at line 163:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      y: number,
      x: number,
      value: number,
> ): void {
      if (y >= 0 && y < height && x >= 0 && x < width) {
        mask[y * width + x] = value;
      }
```

---

#### Pattern: `: void` at line 532:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      vertices: [number, number][],
      w: number,
      h: number,
> ): void {
      if (vertices.length < 3) return;
  
      // Find bounding box
```

---

#### Pattern: `Optional Chaining` at line 731:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    options?: Partial<MaskGeneratorOptions>,
  ): Uint8Array[] {
    const masks: Uint8Array[] = [];
> const baseSeed = options?.seed ?? Date.now();
  
    for (let i = 0; i < frameCount; i++) {
      masks.push(
```

---

### `services/materialSystem.ts` (14 pattern(s))

#### Pattern: `: void` at line 149:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Initialize with WebGL renderer (required for PMREM)
     */
> initialize(renderer: THREE.WebGLRenderer): void {
      this.pmremGenerator = new THREE.PMREMGenerator(renderer);
      this.pmremGenerator.compileEquirectangularShader();
    }
```

---

#### Pattern: `: void` at line 159:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     */
    setAssetGetter(
      getter: (assetId: string) => AssetReference | undefined,
> ): void {
      this.assetGetter = getter;
    }
  
```

---

#### Pattern: `Optional Chaining` at line 188:16

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      let url = urlOrAssetId;
      if (this.assetGetter) {
        const asset = this.assetGetter(urlOrAssetId);
> if (asset?.data) {
          url = asset.data;
        }
      }
```

---

#### Pattern: `Optional Chaining` at line 201:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            this.configureTextureForMapType(texture, mapType);
  
            // Apply options
> if (options?.repeat) {
              texture.repeat.set(options.repeat.x, options.repeat.y);
              texture.wrapS = THREE.RepeatWrapping;
              texture.wrapT = THREE.RepeatWrapping;
```

---

#### Pattern: `Optional Chaining` at line 206:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              texture.wrapS = THREE.RepeatWrapping;
              texture.wrapT = THREE.RepeatWrapping;
            }
> if (options?.offset) {
              texture.offset.set(options.offset.x, options.offset.y);
            }
            if (options?.rotation !== undefined) {
```

---

#### Pattern: `Optional Chaining` at line 209:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            if (options?.offset) {
              texture.offset.set(options.offset.x, options.offset.y);
            }
> if (options?.rotation !== undefined) {
              texture.rotation = options.rotation * (Math.PI / 180);
            }
  
```

---

#### Pattern: `: void` at line 228:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    private configureTextureForMapType(
      texture: THREE.Texture,
      mapType: TextureMapType,
> ): void {
      // Default settings
      texture.generateMipmaps = true;
      texture.minFilter = THREE.LinearMipmapLinearFilter;
```

---

#### Pattern: `Optional Chaining` at line 464:16

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      let url = urlOrAssetId;
      if (this.assetGetter) {
        const asset = this.assetGetter(urlOrAssetId);
> if (asset?.data) {
          url = asset.data;
        }
      }
```

---

#### Pattern: `Optional Chaining` at line 479:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          (texture) => {
            // Generate PMREM from equirectangular HDR
            const envMap =
> this.pmremGenerator?.fromEquirectangular(texture).texture;
            texture.dispose();
  
            if (!envMap) {
```

---

#### Pattern: `: void` at line 504:59

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set environment configuration
     */
> setEnvironmentConfig(config: Partial<EnvironmentConfig>): void {
      Object.assign(this.envConfig, config);
  
      // Update material env map intensity
```

---

#### Pattern: `: void` at line 532:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update all materials with current environment map
     */
> private updateMaterialsEnvMap(): void {
      for (const material of this.materialCache.values()) {
        material.envMap = this.envConfig.enabled ? this.envMap : null;
        material.envMapIntensity = this.envConfig.intensity;
```

---

#### Pattern: `: void` at line 724:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    updateMaterial(
      materialId: string,
      updates: Partial<PBRMaterialConfig>,
> ): void {
      const material = this.materialCache.get(materialId);
      if (!material) return;
  
```

---

#### Pattern: `: void` at line 782:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose a material
     */
> disposeMaterial(materialId: string): void {
      const material = this.materialCache.get(materialId);
      if (material) {
        material.dispose();
```

---

#### Pattern: `: void` at line 793:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose all resources
     */
> dispose(): void {
      // Dispose textures
      for (const texture of this.textureCache.values()) {
        texture.dispose();
```

---

### `services/math3d.ts` (2 pattern(s))

#### Pattern: `: void` at line 47:80

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * - Collect telemetry
   * - Show user notifications
   */
> export function setMath3DWarnHandler(handler: (event: Math3DWarnEvent) => void): void {
    math3dWarnHandler = handler;
  }
  
```

---

#### Pattern: `: void` at line 51:93

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    math3dWarnHandler = handler;
  }
  
> function math3dWarn(type: Math3DWarning, message: string, context?: Record<string, unknown>): void {
    math3dWarnHandler({ type, message, context });
  }
  
```

---

### `services/matteExporter.ts` (6 pattern(s))

#### Pattern: `Optional Chaining` at line 306:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      if (!pathLayer || pathLayer.type !== "spline") return;
  
      const splineData = pathLayer.data as SplineData;
> if (!splineData?.controlPoints || splineData.controlPoints.length < 2)
        return;
  
      // Build path commands from control points
```

---

#### Pattern: `: void` at line 413:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      fontSize: number,
      scaleX: number,
      scaleY: number,
> ): void {
      // Get transform
      const positionProp = layer.transform.position;
      const position = interpolateProperty(positionProp, frame);
```

---

#### Pattern: `: void` at line 488:61

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Initialize particle systems for all particle layers
     */
> private initializeParticleSystems(project: LatticeProject): void {
      this.particleSystems.clear();
  
      const particleLayers = project.layers.filter(
```

---

#### Pattern: `: void` at line 538:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    private stepParticleSystemsToFrame(
      project: LatticeProject,
      frame: number,
> ): void {
      // Only step if this isn't the first frame (systems already initialized at frame 0)
      if (frame === 0) return;
  
```

---

#### Pattern: `: void` at line 566:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      layer: Layer,
      width: number,
      height: number,
> ): void {
      const system = this.particleSystems.get(layer.id);
      if (!system) return;
  
```

---

#### Pattern: `: void` at line 589:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clean up resources
     */
> dispose(): void {
      this.offscreenCanvas = null;
      this.ctx = null;
      this.particleSystems.clear();
```

---

### `services/memoryBudget.ts` (6 pattern(s))

#### Pattern: `: void` at line 240:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      canUnload?: boolean;
      unloadFn?: () => Promise<void>;
    },
> ): void {
    const allocation: MemoryAllocation = {
      id,
      name,
```

---

#### Pattern: `Optional Chaining` at line 247:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      category,
      estimatedMB,
      timestamp: Date.now(),
> canUnload: options?.canUnload ?? false,
      unloadFn: options?.unloadFn,
    };
  
```

---

#### Pattern: `Optional Chaining` at line 248:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      estimatedMB,
      timestamp: Date.now(),
      canUnload: options?.canUnload ?? false,
> unloadFn: options?.unloadFn,
    };
  
    allocations.set(id, allocation);
```

---

#### Pattern: `: void` at line 263:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Unregister a memory allocation
   */
> export function unregisterAllocation(id: string): void {
    const alloc = allocations.get(id);
    if (alloc) {
      allocations.delete(id);
```

---

#### Pattern: `: void` at line 276:66

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Update an existing allocation's size
   */
> export function updateAllocation(id: string, estimatedMB: number): void {
    const alloc = allocations.get(id);
    if (alloc) {
      alloc.estimatedMB = estimatedMB;
```

---

#### Pattern: `: void` at line 535:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    return `${Math.round(mb)}MB`;
  }
  
> function checkAndLogWarning(): void {
    const warning = getWarning();
    if (warning) {
      if (warning.level === "critical") {
```

---

### `services/meshDeformation3D.ts` (5 pattern(s))

#### Pattern: `: void` at line 408:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function applySquashStretchToObject(
    object: THREE.Object3D,
    scale: Vec3,
> ): void {
    object.scale.set(scale.x, scale.y, scale.z);
  }
  
```

---

#### Pattern: `: void` at line 420:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    originalPositions: Float32Array,
    pins: Deformation3DPin[],
    frame: number,
> ): void {
    const positions = geometry.attributes.position;
    const vertexCount = positions.count;
  
```

---

#### Pattern: `: void` at line 458:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      geometry?: THREE.BufferGeometry,
      squashStretch?: Partial<SquashStretchConfig>,
      bounce?: Partial<BounceConfig>,
> ): void {
      this.pinsByLayer.set(layerId, []);
  
      if (geometry) {
```

---

#### Pattern: `: void` at line 528:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear a layer's deformation data
     */
> clearLayer(layerId: string): void {
      this.pinsByLayer.delete(layerId);
      this.originalGeometries.delete(layerId);
      this.squashStretchConfigs.delete(layerId);
```

---

#### Pattern: `: void` at line 538:13

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear all data
     */
> clearAll(): void {
      this.pinsByLayer.clear();
      this.originalGeometries.clear();
      this.squashStretchConfigs.clear();
```

---

### `services/meshParticleManager.ts` (12 pattern(s))

#### Pattern: `Optional Chaining` at line 162:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        name,
        source,
        geometry,
> boundingBox: geometry.boundingBox?.clone() ?? new THREE.Box3(),
        boundingSphere: geometry.boundingSphere?.clone() ?? new THREE.Sphere(),
        vertexCount: geometry.getAttribute("position")?.count ?? 0,
        faceCount: geometry.index
```

---

#### Pattern: `Optional Chaining` at line 163:46

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        source,
        geometry,
        boundingBox: geometry.boundingBox?.clone() ?? new THREE.Box3(),
> boundingSphere: geometry.boundingSphere?.clone() ?? new THREE.Sphere(),
        vertexCount: geometry.getAttribute("position")?.count ?? 0,
        faceCount: geometry.index
          ? geometry.index.count / 3
```

---

#### Pattern: `Optional Chaining` at line 164:53

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        geometry,
        boundingBox: geometry.boundingBox?.clone() ?? new THREE.Box3(),
        boundingSphere: geometry.boundingSphere?.clone() ?? new THREE.Sphere(),
> vertexCount: geometry.getAttribute("position")?.count ?? 0,
        faceCount: geometry.index
          ? geometry.index.count / 3
          : (geometry.getAttribute("position")?.count ?? 0) / 3,
```

---

#### Pattern: `Optional Chaining` at line 167:45

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        vertexCount: geometry.getAttribute("position")?.count ?? 0,
        faceCount: geometry.index
          ? geometry.index.count / 3
> : (geometry.getAttribute("position")?.count ?? 0) / 3,
        config,
      };
  
```

---

#### Pattern: `Optional Chaining` at line 292:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      const id = `primitive_${type}_${size}_${detail}`;
      const displayName =
> name ?? `${type?.charAt(0).toUpperCase()}${type?.slice(1)}`;
  
      return this.registerMesh(id, displayName, geometry, "primitive", {
        source: "primitive",
```

---

#### Pattern: `Optional Chaining` at line 292:54

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      const id = `primitive_${type}_${size}_${detail}`;
      const displayName =
> name ?? `${type?.charAt(0).toUpperCase()}${type?.slice(1)}`;
  
      return this.registerMesh(id, displayName, geometry, "primitive", {
        source: "primitive",
```

---

#### Pattern: `: void` at line 379:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        scale: THREE.Vector3 | number;
        color?: THREE.Color;
      }>,
> ): void {
      const instance = this.instancedMeshes.get(meshId);
      if (!instance) return;
  
```

---

#### Pattern: `: void` at line 498:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      meshId: string,
      lodGeometries: THREE.BufferGeometry[],
      lodDistances: number[],
> ): void {
      const registration = this.meshRegistry.get(meshId);
      if (!registration) return;
  
```

---

#### Pattern: `: void` at line 646:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Unregister a mesh
     */
> unregisterMesh(id: string): void {
      const registration = this.meshRegistry.get(id);
      if (registration) {
        registration.geometry.dispose();
```

---

#### Pattern: `Optional Chaining` at line 650:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const registration = this.meshRegistry.get(id);
      if (registration) {
        registration.geometry.dispose();
> registration.lodGeometries?.forEach((g) => g.dispose());
      }
      this.meshRegistry.delete(id);
  
```

---

#### Pattern: `: void` at line 666:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose all resources
     */
> dispose(): void {
      // Dispose all geometries
      for (const registration of this.meshRegistry.values()) {
        registration.geometry.dispose();
```

---

#### Pattern: `Optional Chaining` at line 670:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Dispose all geometries
      for (const registration of this.meshRegistry.values()) {
        registration.geometry.dispose();
> registration.lodGeometries?.forEach((g) => g.dispose());
      }
      this.meshRegistry.clear();
  
```

---

### `services/meshWarpDeformation.ts` (8 pattern(s))

#### Pattern: `Optional Chaining` at line 474:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        position: { ...pin.position.value },
        rotation: pin.rotation.value,
        scale: pin.scale.value,
> inFront: pin.inFront?.value,
      }));
  
      // Triangulate the mesh (control points + pins)
```

---

#### Pattern: `: void` at line 524:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear cached mesh for a layer
     */
> clearMesh(layerId: string): void {
      this.meshCache.delete(layerId);
    }
  
```

---

#### Pattern: `: void` at line 535:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      layerId: string,
      pins: WarpPin[],
      options: WarpWeightOptions = DEFAULT_WARP_WEIGHT_OPTIONS,
> ): void {
      const mesh = this.meshCache.get(layerId);
      if (!mesh) return;
  
```

---

#### Pattern: `: void` at line 557:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      layerId: string,
      pin: WarpPin,
      options: WarpWeightOptions = DEFAULT_WARP_WEIGHT_OPTIONS,
> ): void {
      const mesh = this.meshCache.get(layerId);
      if (!mesh) return;
  
```

---

#### Pattern: `: void` at line 578:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      layerId: string,
      pinId: string,
      options: WarpWeightOptions = DEFAULT_WARP_WEIGHT_OPTIONS,
> ): void {
      const mesh = this.meshCache.get(layerId);
      if (!mesh) return;
  
```

---

#### Pattern: `Optional Chaining` at line 658:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Get all pins for a layer
     */
    getPins(layerId: string): WarpPin[] {
> return this.meshCache.get(layerId)?.pins ?? [];
    }
  
    /**
```

---

#### Pattern: `: void` at line 669:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      pinId: string,
      x: number,
      y: number,
> ): void {
      const mesh = this.meshCache.get(layerId);
      if (!mesh) return;
  
```

---

#### Pattern: `: void` at line 682:19

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear all cached meshes
     */
> clearAllMeshes(): void {
      this.meshCache.clear();
    }
  }
```

---

### `services/midi/MIDIService.ts` (12 pattern(s))

#### Pattern: `: void` at line 209:54

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return this.getDevices().filter((d) => d.type === "output");
    }
  
> private registerInput(id: string, input: MIDIInput): void {
      this.inputs.set(id, input);
      input.onmidimessage = (event) => this.handleMIDIMessage(id, event);
    }
```

---

#### Pattern: `: void` at line 214:56

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      input.onmidimessage = (event) => this.handleMIDIMessage(id, event);
    }
  
> private handleStateChange(event: MIDIConnectionEvent): void {
      const port = event.port;
      if (!port) return;
  
```

---

#### Pattern: `: void` at line 244:71

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // MESSAGE HANDLING
    // =============================================================================
  
> private handleMIDIMessage(deviceId: string, event: MIDIMessageEvent): void {
      if (!event.data || event.data.length < 1) return;
  
      const message = this.parseMIDIMessage(event.data, event.timeStamp);
```

---

#### Pattern: `: void` at line 336:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return message;
    }
  
> private updateState(message: MIDIMessage): void {
      if (
        message.type === "control-change" &&
        message.controller !== undefined &&
```

---

#### Pattern: `: void` at line 367:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Add a listener for all MIDI messages
     */
> addGlobalListener(callback: MIDIEventCallback): void {
      this.globalListeners.add(callback);
    }
  
```

---

#### Pattern: `: void` at line 374:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Remove a global listener
     */
> removeGlobalListener(callback: MIDIEventCallback): void {
      this.globalListeners.delete(callback);
    }
  
```

---

#### Pattern: `: void` at line 381:67

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Add a listener for a specific device
     */
> addDeviceListener(deviceId: string, callback: MIDIEventCallback): void {
      if (!this.listeners.has(deviceId)) {
        this.listeners.set(deviceId, new Set());
      }
```

---

#### Pattern: `Optional Chaining` at line 385:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      if (!this.listeners.has(deviceId)) {
        this.listeners.set(deviceId, new Set());
      }
> this.listeners.get(deviceId)?.add(callback);
    }
  
    /**
```

---

#### Pattern: `: void` at line 391:70

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Remove a device-specific listener
     */
> removeDeviceListener(deviceId: string, callback: MIDIEventCallback): void {
      this.listeners.get(deviceId)?.delete(callback);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 392:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Remove a device-specific listener
     */
    removeDeviceListener(deviceId: string, callback: MIDIEventCallback): void {
> this.listeners.get(deviceId)?.delete(callback);
    }
  
    // =============================================================================
```

---

#### Pattern: `: void` at line 664:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose of MIDI service
     */
> dispose(): void {
      // Remove all listeners from inputs
      this.inputs.forEach((input) => {
        input.onmidimessage = null;
```

---

#### Pattern: `: void` at line 701:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    return midiServiceInstance;
  }
  
> export function disposeMIDIService(): void {
    if (midiServiceInstance) {
      midiServiceInstance.dispose();
      midiServiceInstance = null;
```

---

### `services/midiToKeyframes.ts` (4 pattern(s))

#### Pattern: `Optional Chaining` at line 273:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    let totalSeconds = 0;
    let lastTick = 0;
> let currentBpm = tempoChanges[0]?.bpm ?? 120;
  
    // Process each tempo change up to the target tick
    for (const change of tempoChanges) {
```

---

#### Pattern: `Optional Chaining` at line 661:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        case "notePitch": {
          // Value based on note number
          const pitchRange =
> (config.noteRange?.max ?? 127) - (config.noteRange?.min ?? 0);
          const normalizedPitch =
            (note.noteNumber - (config.noteRange?.min ?? 0)) / pitchRange;
          value =
```

---

#### Pattern: `Optional Chaining` at line 661:61

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        case "notePitch": {
          // Value based on note number
          const pitchRange =
> (config.noteRange?.max ?? 127) - (config.noteRange?.min ?? 0);
          const normalizedPitch =
            (note.noteNumber - (config.noteRange?.min ?? 0)) / pitchRange;
          value =
```

---

#### Pattern: `Optional Chaining` at line 663:47

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          const pitchRange =
            (config.noteRange?.max ?? 127) - (config.noteRange?.min ?? 0);
          const normalizedPitch =
> (note.noteNumber - (config.noteRange?.min ?? 0)) / pitchRange;
          value =
            config.valueMin +
            normalizedPitch * (config.valueMax - config.valueMin);
```

---

### `services/modelExport.ts` (6 pattern(s))

#### Pattern: `Optional Chaining` at line 102:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      metadata: {
        frameCount: cameras.length,
        fps,
> fov: cameras[0]?.angleOfView ?? 39.6,
        nearClip: cameras[0]?.nearClip ?? 1,
        farClip: cameras[0]?.farClip ?? 10000,
        width,
```

---

#### Pattern: `Optional Chaining` at line 103:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        frameCount: cameras.length,
        fps,
        fov: cameras[0]?.angleOfView ?? 39.6,
> nearClip: cameras[0]?.nearClip ?? 1,
        farClip: cameras[0]?.farClip ?? 10000,
        width,
        height,
```

---

#### Pattern: `Optional Chaining` at line 104:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        fps,
        fov: cameras[0]?.angleOfView ?? 39.6,
        nearClip: cameras[0]?.nearClip ?? 1,
> farClip: cameras[0]?.farClip ?? 10000,
        width,
        height,
      },
```

---

#### Pattern: `Optional Chaining` at line 141:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    height: number,
    fps: number,
  ): WanMoveTrajectory {
> const numFrames = trajectories[0]?.points.length ?? 0;
  
    return {
      tracks: trajectories.map((t) => t.points.map((p) => [p.x, p.y])),
```

---

#### Pattern: `Optional Chaining` at line 318:62

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const frameCount = endFrame - startFrame + 1;
  
    // Check if using animated control points
> if (splineData.animated && splineData.animatedControlPoints?.length) {
      return splineData.animatedControlPoints.map((acp) => {
        const points: Array<{ frame: number; x: number; y: number }> = [];
  
```

---

#### Pattern: `Optional Chaining` at line 1189:54

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
    }
  
> const shape = [trajectories.length, trajectories[0]?.length || 0, 2];
    const header = createNpyHeader(shape, "<f4");
  
    // Create float32 data
```

---

### `services/motionBlur.ts` (4 pattern(s))

#### Pattern: `: void` at line 130:53

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // SETTINGS
    // ============================================================================
  
> setSettings(settings: Partial<MotionBlurSettings>): void {
      this.settings = { ...this.settings, ...settings };
    }
  
```

---

#### Pattern: `: void` at line 138:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return { ...this.settings };
    }
  
> resize(width: number, height: number): void {
      this.workCanvas = new OffscreenCanvas(width, height);
      this.workCtx = this.workCanvas.getContext("2d")!;
      this.outputCanvas = new OffscreenCanvas(width, height);
```

---

#### Pattern: `: void` at line 243:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      canvas: OffscreenCanvas | HTMLCanvasElement,
      velocity: VelocityData,
      frame: number,
> ): void {
      // Clone the canvas
      const cloned = new OffscreenCanvas(canvas.width, canvas.height);
      const ctx = cloned.getContext("2d")!;
```

---

#### Pattern: `: void` at line 606:16

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear frame buffer (call when seeking or starting new playback)
     */
> clearBuffer(): void {
      this.frameBuffer = [];
    }
  
```

---

### `services/motionReactivity.ts` (1 pattern(s))

#### Pattern: `: void` at line 363:51

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Clear motion state cache for a layer
   */
> export function clearMotionCache(layerId?: string): void {
    if (layerId) {
      motionStateCache.delete(layerId);
    } else {
```

---

### `services/motionRecording.ts` (2 pattern(s))

#### Pattern: `: void` at line 449:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Start recording session
     */
> start(initialX: number, initialY: number): void {
      this.samples = [];
      this.startTime = performance.now();
      this.lastSampleTime = 0;
```

---

#### Pattern: `: void` at line 463:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Add a sample during recording
     * Respects minimum sample interval for performance
     */
> addSample(x: number, y: number): void {
      if (!this.isRecording) return;
  
      const now = performance.now();
```

---

### `services/particleGPU.ts` (38 pattern(s))

#### Pattern: `isFinite()` at line 426:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      this.device = caps.device;
      this.adapter = caps.adapter;
      // Validate maxParticles to prevent buffer allocation errors
> this.maxParticles = Number.isFinite(maxParticles) && maxParticles > 0
        ? Math.min(Math.floor(maxParticles), 1_000_000)
        : 10000;
  
```

---

#### Pattern: `: void` at line 489:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Create GPU buffers for particle data
     */
> private createBuffers(): void {
      if (!this.device) return;
  
      const particleCount = this.maxParticles;
```

---

#### Pattern: `: void` at line 595:41

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Upload particle data to GPU
     */
> uploadParticles(data: GPUParticleData): void {
      if (!this.device || !this.initialized) return;
  
      // Cast Float32Array to BufferSource for WebGPU compatibility
```

---

#### Pattern: `: void` at line 628:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      config: GPUParticleConfig,
      gravityWells: GPUGravityWell[],
      vortices: GPUVortex[],
> ): void {
      if (!this.device || !this.initialized) return;
  
      // Config buffer
```

---

#### Pattern: `: void` at line 684:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Run the particle update compute shader
     */
> dispatchUpdate(particleCount: number): void {
      if (!this.device || !this.initialized || !this.updatePipeline) return;
  
      // Create bind group if needed
```

---

#### Pattern: `: void` at line 726:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      sizeStart: number,
      sizeEnd: number,
      easingType: number,
> ): void {
      if (!this.device || !this.initialized || !this.modulationPipeline) return;
  
      // Upload modulation config
```

---

#### Pattern: `Optional Chaining` at line 822:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.device.queue.submit([commandEncoder.finish()]);
  
      // Map and read staging buffers
> await this.stagingPositionBuffer?.mapAsync(GPUMapMode.READ);
      await this.stagingVelocityBuffer?.mapAsync(GPUMapMode.READ);
      await this.stagingPropertiesBuffer?.mapAsync(GPUMapMode.READ);
      await this.stagingColorBuffer?.mapAsync(GPUMapMode.READ);
```

---

#### Pattern: `Optional Chaining` at line 823:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Map and read staging buffers
      await this.stagingPositionBuffer?.mapAsync(GPUMapMode.READ);
> await this.stagingVelocityBuffer?.mapAsync(GPUMapMode.READ);
      await this.stagingPropertiesBuffer?.mapAsync(GPUMapMode.READ);
      await this.stagingColorBuffer?.mapAsync(GPUMapMode.READ);
  
```

---

#### Pattern: `Optional Chaining` at line 824:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Map and read staging buffers
      await this.stagingPositionBuffer?.mapAsync(GPUMapMode.READ);
      await this.stagingVelocityBuffer?.mapAsync(GPUMapMode.READ);
> await this.stagingPropertiesBuffer?.mapAsync(GPUMapMode.READ);
      await this.stagingColorBuffer?.mapAsync(GPUMapMode.READ);
  
      const posRange = this.stagingPositionBuffer?.getMappedRange();
```

---

#### Pattern: `Optional Chaining` at line 825:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      await this.stagingPositionBuffer?.mapAsync(GPUMapMode.READ);
      await this.stagingVelocityBuffer?.mapAsync(GPUMapMode.READ);
      await this.stagingPropertiesBuffer?.mapAsync(GPUMapMode.READ);
> await this.stagingColorBuffer?.mapAsync(GPUMapMode.READ);
  
      const posRange = this.stagingPositionBuffer?.getMappedRange();
      const velRange = this.stagingVelocityBuffer?.getMappedRange();
```

---

#### Pattern: `Optional Chaining` at line 827:48

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      await this.stagingPropertiesBuffer?.mapAsync(GPUMapMode.READ);
      await this.stagingColorBuffer?.mapAsync(GPUMapMode.READ);
  
> const posRange = this.stagingPositionBuffer?.getMappedRange();
      const velRange = this.stagingVelocityBuffer?.getMappedRange();
      const propRange = this.stagingPropertiesBuffer?.getMappedRange();
      const colorRange = this.stagingColorBuffer?.getMappedRange();
```

---

#### Pattern: `Optional Chaining` at line 828:48

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      await this.stagingColorBuffer?.mapAsync(GPUMapMode.READ);
  
      const posRange = this.stagingPositionBuffer?.getMappedRange();
> const velRange = this.stagingVelocityBuffer?.getMappedRange();
      const propRange = this.stagingPropertiesBuffer?.getMappedRange();
      const colorRange = this.stagingColorBuffer?.getMappedRange();
  
```

---

#### Pattern: `Optional Chaining` at line 829:51

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      const posRange = this.stagingPositionBuffer?.getMappedRange();
      const velRange = this.stagingVelocityBuffer?.getMappedRange();
> const propRange = this.stagingPropertiesBuffer?.getMappedRange();
      const colorRange = this.stagingColorBuffer?.getMappedRange();
  
      const positions = posRange ? new Float32Array(posRange.slice(0)) : new Float32Array(0);
```

---

#### Pattern: `Optional Chaining` at line 830:47

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const posRange = this.stagingPositionBuffer?.getMappedRange();
      const velRange = this.stagingVelocityBuffer?.getMappedRange();
      const propRange = this.stagingPropertiesBuffer?.getMappedRange();
> const colorRange = this.stagingColorBuffer?.getMappedRange();
  
      const positions = posRange ? new Float32Array(posRange.slice(0)) : new Float32Array(0);
      const velocities = velRange ? new Float32Array(velRange.slice(0)) : new Float32Array(0);
```

---

#### Pattern: `Optional Chaining` at line 837:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const properties = propRange ? new Float32Array(propRange.slice(0)) : new Float32Array(0);
      const colors = colorRange ? new Float32Array(colorRange.slice(0)) : new Float32Array(0);
  
> this.stagingPositionBuffer?.unmap();
      this.stagingVelocityBuffer?.unmap();
      this.stagingPropertiesBuffer?.unmap();
      this.stagingColorBuffer?.unmap();
```

---

#### Pattern: `Optional Chaining` at line 838:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const colors = colorRange ? new Float32Array(colorRange.slice(0)) : new Float32Array(0);
  
      this.stagingPositionBuffer?.unmap();
> this.stagingVelocityBuffer?.unmap();
      this.stagingPropertiesBuffer?.unmap();
      this.stagingColorBuffer?.unmap();
  
```

---

#### Pattern: `Optional Chaining` at line 839:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      this.stagingPositionBuffer?.unmap();
      this.stagingVelocityBuffer?.unmap();
> this.stagingPropertiesBuffer?.unmap();
      this.stagingColorBuffer?.unmap();
  
      return {
```

---

#### Pattern: `Optional Chaining` at line 840:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.stagingPositionBuffer?.unmap();
      this.stagingVelocityBuffer?.unmap();
      this.stagingPropertiesBuffer?.unmap();
> this.stagingColorBuffer?.unmap();
  
      return {
        positions,
```

---

#### Pattern: `: void` at line 858:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose GPU resources
     */
> dispose(): void {
      this.positionBuffer?.destroy();
      this.velocityBuffer?.destroy();
      this.propertiesBuffer?.destroy();
```

---

#### Pattern: `Optional Chaining` at line 859:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Dispose GPU resources
     */
    dispose(): void {
> this.positionBuffer?.destroy();
      this.velocityBuffer?.destroy();
      this.propertiesBuffer?.destroy();
      this.colorBuffer?.destroy();
```

---

#### Pattern: `Optional Chaining` at line 860:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     */
    dispose(): void {
      this.positionBuffer?.destroy();
> this.velocityBuffer?.destroy();
      this.propertiesBuffer?.destroy();
      this.colorBuffer?.destroy();
      this.configBuffer?.destroy();
```

---

#### Pattern: `Optional Chaining` at line 861:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    dispose(): void {
      this.positionBuffer?.destroy();
      this.velocityBuffer?.destroy();
> this.propertiesBuffer?.destroy();
      this.colorBuffer?.destroy();
      this.configBuffer?.destroy();
      this.gravityWellBuffer?.destroy();
```

---

#### Pattern: `Optional Chaining` at line 862:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.positionBuffer?.destroy();
      this.velocityBuffer?.destroy();
      this.propertiesBuffer?.destroy();
> this.colorBuffer?.destroy();
      this.configBuffer?.destroy();
      this.gravityWellBuffer?.destroy();
      this.vortexBuffer?.destroy();
```

---

#### Pattern: `Optional Chaining` at line 863:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.velocityBuffer?.destroy();
      this.propertiesBuffer?.destroy();
      this.colorBuffer?.destroy();
> this.configBuffer?.destroy();
      this.gravityWellBuffer?.destroy();
      this.vortexBuffer?.destroy();
      this.modulationConfigBuffer?.destroy();
```

---

#### Pattern: `Optional Chaining` at line 864:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.propertiesBuffer?.destroy();
      this.colorBuffer?.destroy();
      this.configBuffer?.destroy();
> this.gravityWellBuffer?.destroy();
      this.vortexBuffer?.destroy();
      this.modulationConfigBuffer?.destroy();
      this.stagingPositionBuffer?.destroy();
```

---

#### Pattern: `Optional Chaining` at line 865:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.colorBuffer?.destroy();
      this.configBuffer?.destroy();
      this.gravityWellBuffer?.destroy();
> this.vortexBuffer?.destroy();
      this.modulationConfigBuffer?.destroy();
      this.stagingPositionBuffer?.destroy();
      this.stagingVelocityBuffer?.destroy();
```

---

#### Pattern: `Optional Chaining` at line 866:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.configBuffer?.destroy();
      this.gravityWellBuffer?.destroy();
      this.vortexBuffer?.destroy();
> this.modulationConfigBuffer?.destroy();
      this.stagingPositionBuffer?.destroy();
      this.stagingVelocityBuffer?.destroy();
      this.stagingPropertiesBuffer?.destroy();
```

---

#### Pattern: `Optional Chaining` at line 867:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.gravityWellBuffer?.destroy();
      this.vortexBuffer?.destroy();
      this.modulationConfigBuffer?.destroy();
> this.stagingPositionBuffer?.destroy();
      this.stagingVelocityBuffer?.destroy();
      this.stagingPropertiesBuffer?.destroy();
      this.stagingColorBuffer?.destroy();
```

---

#### Pattern: `Optional Chaining` at line 868:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.vortexBuffer?.destroy();
      this.modulationConfigBuffer?.destroy();
      this.stagingPositionBuffer?.destroy();
> this.stagingVelocityBuffer?.destroy();
      this.stagingPropertiesBuffer?.destroy();
      this.stagingColorBuffer?.destroy();
  
```

---

#### Pattern: `Optional Chaining` at line 869:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.modulationConfigBuffer?.destroy();
      this.stagingPositionBuffer?.destroy();
      this.stagingVelocityBuffer?.destroy();
> this.stagingPropertiesBuffer?.destroy();
      this.stagingColorBuffer?.destroy();
  
      this.positionBuffer = null;
```

---

#### Pattern: `Optional Chaining` at line 870:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.stagingPositionBuffer?.destroy();
      this.stagingVelocityBuffer?.destroy();
      this.stagingPropertiesBuffer?.destroy();
> this.stagingColorBuffer?.destroy();
  
      this.positionBuffer = null;
      this.velocityBuffer = null;
```

---

#### Pattern: `isFinite()` at line 932:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    constructor(maxParticles: number) {
      // Validate maxParticles to prevent Float32Array allocation errors
> this.maxParticles = Number.isFinite(maxParticles) && maxParticles > 0
        ? Math.min(Math.floor(maxParticles), 1_000_000)
        : 10000;
      // Allocate CPU arrays
```

---

#### Pattern: `: void` at line 972:16

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Upload particles to GPU (if enabled)
     */
> uploadToGPU(): void {
      if (!this.useGPU || !this.gpu) return;
  
      this.gpu.uploadParticles({
```

---

#### Pattern: `: void` at line 1013:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      config: GPUParticleConfig,
      gravityWells: GPUGravityWell[],
      vortices: GPUVortex[],
> ): void {
      const dt = config.deltaTime;
      const friction = 1 - config.friction;
  
```

---

#### Pattern: `: void` at line 1134:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set particle count
     */
> setParticleCount(count: number): void {
      this.particleCount = Math.min(count, this.maxParticles);
    }
  
```

---

#### Pattern: `: void` at line 1236:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose resources
     */
> dispose(): void {
      this.gpu?.dispose();
      this.gpu = null;
      this.useGPU = false;
```

---

#### Pattern: `Optional Chaining` at line 1237:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Dispose resources
     */
    dispose(): void {
> this.gpu?.dispose();
      this.gpu = null;
      this.useGPU = false;
    }
```

---

#### Pattern: `Optional Chaining` at line 1259:46

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Check WebGPU availability
        if (typeof navigator !== "undefined" && "gpu" in navigator) {
          try {
> const adapter = await navigator.gpu?.requestAdapter();
            return !!adapter;
          } catch {
            return false;
```

---

### `services/particleSystem.ts` (69 pattern(s))

#### Pattern: `: void` at line 178:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set new seed and reset RNG
     */
> setSeed(seed: number): void {
      this.rng.setSeed(seed);
      // Recreate noise with new seed
      this.noise2D = createNoise2D(() => this.rng.next());
```

---

#### Pattern: `: void` at line 187:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set noise time for turbulence continuity (used in deserialization)
     */
> setNoiseTime(time: number): void {
      this.noiseTime = Number.isFinite(time) && time >= 0 ? time : 0;
    }
  
```

---

#### Pattern: `isFinite()` at line 188:29

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
     * Set noise time for turbulence continuity (used in deserialization)
     */
    setNoiseTime(time: number): void {
> this.noiseTime = Number.isFinite(time) && time >= 0 ? time : 0;
    }
  
    /**
```

---

#### Pattern: `: void` at line 194:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set render options (used in deserialization)
     */
> setRenderOptions(options: RenderOptions): void {
      this.renderOptions = options;
    }
  
```

---

#### Pattern: `: void` at line 209:57

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set the spline path provider callback
     * This allows emitters with shape='spline' to query spline positions
     */
> setSplineProvider(provider: SplinePathProvider | null): void {
      this.splineProvider = provider;
    }
  
```

---

#### Pattern: `: void` at line 224:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Set the current frame for spline queries
     * Called by the engine before stepping the simulation
     */
> setCurrentFrame(frame: number): void {
      this.currentFrame = frame;
    }
  
```

---

#### Pattern: `Optional Chaining` at line 242:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        img.onload = () => {
          this.spriteCache.set(emitterId, img);
          const emitter = this.emitters.get(emitterId);
> if (emitter?.sprite) {
            emitter.sprite.imageData = img;
          }
          resolve();
```

---

#### Pattern: `: void` at line 258:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    setSpriteImage(
      emitterId: string,
      image: HTMLImageElement | ImageBitmap,
> ): void {
      this.spriteCache.set(emitterId, image);
      const emitter = this.emitters.get(emitterId);
      if (emitter?.sprite) {
```

---

#### Pattern: `Optional Chaining` at line 261:16

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    ): void {
      this.spriteCache.set(emitterId, image);
      const emitter = this.emitters.get(emitterId);
> if (emitter?.sprite) {
        emitter.sprite.imageData = image;
      }
    }
```

---

#### Pattern: `: void` at line 277:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // Emitter Management
    // ============================================================================
  
> addEmitter(config: EmitterConfig): void {
      this.emitters.set(config.id, { ...config });
      this.emissionAccumulators.set(config.id, 0);
  
```

---

#### Pattern: `: void` at line 292:61

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> updateEmitter(id: string, updates: Partial<EmitterConfig>): void {
      const emitter = this.emitters.get(id);
      if (emitter) {
        Object.assign(emitter, updates);
```

---

#### Pattern: `: void` at line 299:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> removeEmitter(id: string): void {
      this.emitters.delete(id);
      this.emissionAccumulators.delete(id);
    }
```

---

#### Pattern: `: void` at line 316:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // Gravity Well Management
    // ============================================================================
  
> addGravityWell(config: GravityWellConfig): void {
      this.gravityWells.set(config.id, { ...config });
    }
  
```

---

#### Pattern: `: void` at line 320:69

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.gravityWells.set(config.id, { ...config });
    }
  
> updateGravityWell(id: string, updates: Partial<GravityWellConfig>): void {
      const well = this.gravityWells.get(id);
      if (well) {
        Object.assign(well, updates);
```

---

#### Pattern: `: void` at line 327:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> removeGravityWell(id: string): void {
      this.gravityWells.delete(id);
    }
  
```

---

#### Pattern: `: void` at line 339:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // Vortex Management
    // ============================================================================
  
> addVortex(config: VortexConfig): void {
      this.vortices.set(config.id, { ...config });
    }
  
```

---

#### Pattern: `: void` at line 343:59

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.vortices.set(config.id, { ...config });
    }
  
> updateVortex(id: string, updates: Partial<VortexConfig>): void {
      const vortex = this.vortices.get(id);
      if (vortex) {
        Object.assign(vortex, updates);
```

---

#### Pattern: `: void` at line 350:27

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> removeVortex(id: string): void {
      this.vortices.delete(id);
    }
  
```

---

#### Pattern: `: void` at line 362:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // Lorenz Attractor Management
    // ============================================================================
  
> addLorenzAttractor(config: LorenzAttractorConfig): void {
      this.lorenzAttractors.set(config.id, { ...config });
    }
  
```

---

#### Pattern: `: void` at line 369:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    updateLorenzAttractor(
      id: string,
      updates: Partial<LorenzAttractorConfig>,
> ): void {
      const attractor = this.lorenzAttractors.get(id);
      if (attractor) {
        Object.assign(attractor, updates);
```

---

#### Pattern: `: void` at line 376:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> removeLorenzAttractor(id: string): void {
      this.lorenzAttractors.delete(id);
    }
  
```

---

#### Pattern: `: void` at line 388:41

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // Modulation Management
    // ============================================================================
  
> addModulation(mod: ParticleModulation): void {
      this.modulations.push({ ...mod });
    }
  
```

---

#### Pattern: `: void` at line 392:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.modulations.push({ ...mod });
    }
  
> removeModulation(id: string): void {
      const index = this.modulations.findIndex((m) => m.id === id);
      if (index >= 0) {
        this.modulations.splice(index, 1);
```

---

#### Pattern: `: void` at line 407:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // Boundary Mask
    // ============================================================================
  
> setBoundaryMask(mask: ImageData | null): void {
      this.boundaryMask = mask;
    }
  
```

---

#### Pattern: `: void` at line 415:68

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // Audio Reactivity
    // ============================================================================
  
> setFeatureValue(param: string, value: number, emitterId?: string): void {
      const key = emitterId ? `${emitterId}:${param}` : `*:${param}`;
      this.featureOverrides.set(key, value);
    }
```

---

#### Pattern: `: void` at line 435:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // Simulation
    // ============================================================================
  
> step(deltaTime: number = 1): void {
      // 1. Spawn new particles from emitters
      this.emitters.forEach((emitter, id) => {
        if (!emitter.enabled) return;
```

---

#### Pattern: `Optional Chaining` at line 602:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        // f3. Align to velocity if emitter configured for it
        const emitter = this.emitters.get(p.emitterId);
> if (emitter?.sprite?.alignToVelocity && (p.vx !== 0 || p.vy !== 0)) {
          p.rotation = Math.atan2(p.vy, p.vx);
        }
  
```

---

#### Pattern: `Optional Chaining` at line 602:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        // f3. Align to velocity if emitter configured for it
        const emitter = this.emitters.get(p.emitterId);
> if (emitter?.sprite?.alignToVelocity && (p.vx !== 0 || p.vy !== 0)) {
          p.rotation = Math.atan2(p.vy, p.vx);
        }
  
```

---

#### Pattern: `Optional Chaining` at line 607:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        }
  
        // f4. Update sprite animation frame
> if (emitter?.sprite?.isSheet && emitter.sprite.totalFrames > 1) {
          this.updateSpriteFrame(p, emitter.sprite, deltaTime);
        }
  
```

---

#### Pattern: `Optional Chaining` at line 607:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        }
  
        // f4. Update sprite animation frame
> if (emitter?.sprite?.isSheet && emitter.sprite.totalFrames > 1) {
          this.updateSpriteFrame(p, emitter.sprite, deltaTime);
        }
  
```

---

#### Pattern: `Optional Chaining` at line 648:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Particle-to-particle collision detection (after all positions updated)
      if (
> this.config.collision?.enabled &&
        this.config.collision.particleCollision
      ) {
        this.handleParticleCollisions();
```

---

#### Pattern: `Optional Chaining` at line 655:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Floor/ceiling/wall collision
> if (this.config.collision?.enabled) {
        this.handleEnvironmentCollisions();
      }
  
```

---

#### Pattern: `: void` at line 671:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      p: Particle,
      sprite: SpriteConfig,
      _deltaTime: number,
> ): void {
      const totalFrames = sprite.totalFrames;
      // Note: lifeRatio calculation removed - was unused dead code with potential div/0
  
```

---

#### Pattern: `: void` at line 722:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Handle particle-to-particle collisions using spatial hashing
     */
> private handleParticleCollisions(): void {
      const collision = this.config.collision;
      if (!collision || !collision.particleCollision) return;
  
```

---

#### Pattern: `Optional Chaining` at line 737:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!this.collisionGrid.has(key)) {
          this.collisionGrid.set(key, []);
        }
> this.collisionGrid.get(key)?.push(p);
      }
  
      // Check collisions within neighboring cells
```

---

#### Pattern: `: void` at line 833:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Handle floor, ceiling, and wall collisions
     */
> private handleEnvironmentCollisions(): void {
      const collision = this.config.collision;
      if (!collision?.enabled) return;
  
```

---

#### Pattern: `Optional Chaining` at line 835:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     */
    private handleEnvironmentCollisions(): void {
      const collision = this.config.collision;
> if (!collision?.enabled) return;
  
      const bounciness = collision.bounciness;
      const friction = collision.friction;
```

---

#### Pattern: `: void` at line 875:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> private spawnParticle(emitter: EmitterConfig): void {
      if (this.particles.length >= this.config.maxParticles) return;
  
      // Calculate spawn position based on emitter shape
```

---

#### Pattern: `Optional Chaining` at line 910:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      let rotation = 0;
      let angularVelocity = 0;
      const sprite = emitter.sprite;
> if (sprite?.rotationEnabled) {
        rotation = this.rng.angle(); // Random initial rotation (seeded)
        const rotSpeed = sprite.rotationSpeed * (Math.PI / 180); // Convert to radians
        const rotVariance = sprite.rotationSpeedVariance * (Math.PI / 180);
```

---

#### Pattern: `Optional Chaining` at line 918:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Align to velocity if configured
> if (sprite?.alignToVelocity) {
        rotation = angle;
      }
  
```

---

#### Pattern: `Optional Chaining` at line 924:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Calculate sprite frame for animated sprites (using seeded RNG)
      let spriteIndex = 0;
> if (sprite?.isSheet && sprite.playMode === "random") {
        spriteIndex = this.rng.int(0, sprite.totalFrames - 1);
      }
  
```

---

#### Pattern: `: void` at line 1528:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     */
    setDepthMapProvider(
      provider: (layerId: string, frame: number) => ImageData | null,
> ): void {
      this.depthMapProvider = provider;
    }
  
```

---

#### Pattern: `: void` at line 1537:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     */
    setMaskProvider(
      provider: (layerId: string, frame: number) => ImageData | null,
> ): void {
      this.maskProvider = provider;
    }
  
```

---

#### Pattern: `: void` at line 1544:23

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear the image emission cache (call when source layers change)
     */
> clearEmissionCache(): void {
      this.imageEmissionCache.clear();
    }
  
```

---

#### Pattern: `: void` at line 1729:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return points;
    }
  
> private handleBoundaryCollision(p: Particle): void {
      if (!this.boundaryMask) return;
  
      const px = Math.floor(p.x * this.boundaryMask.width);
```

---

#### Pattern: `: void` at line 1770:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> private handleCanvasBoundary(p: Particle): void {
      switch (this.config.boundaryBehavior) {
        case "bounce":
          if (p.x < 0) {
```

---

#### Pattern: `: void` at line 1804:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> private applyModulations(p: Particle): void {
      // Guard against lifetime=0 to prevent division by zero
      const safeLifetime = p.lifetime > 0 ? p.lifetime : 1;
      const lifeRatio = p.age / safeLifetime;
```

---

#### Pattern: `: void` at line 1854:58

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // Turbulence
    // ============================================================================
  
> private applyTurbulence(p: Particle, deltaTime: number): void {
      const turbFields = this.config.turbulenceFields || [];
      for (const turb of turbFields) {
        if (!turb.enabled) continue;
```

---

#### Pattern: `: void` at line 1868:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> addTurbulence(config: TurbulenceConfig): void {
      if (!this.config.turbulenceFields) this.config.turbulenceFields = [];
      this.config.turbulenceFields.push(config);
    }
```

---

#### Pattern: `: void` at line 1873:67

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.config.turbulenceFields.push(config);
    }
  
> updateTurbulence(id: string, updates: Partial<TurbulenceConfig>): void {
      const turb = this.config.turbulenceFields?.find((t) => t.id === id);
      if (turb) Object.assign(turb, updates);
    }
```

---

#### Pattern: `Optional Chaining` at line 1874:46

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    updateTurbulence(id: string, updates: Partial<TurbulenceConfig>): void {
> const turb = this.config.turbulenceFields?.find((t) => t.id === id);
      if (turb) Object.assign(turb, updates);
    }
  
```

---

#### Pattern: `: void` at line 1878:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      if (turb) Object.assign(turb, updates);
    }
  
> removeTurbulence(id: string): void {
      if (this.config.turbulenceFields) {
        this.config.turbulenceFields = this.config.turbulenceFields.filter(
          (t) => t.id !== id,
```

---

#### Pattern: `: void` at line 1898:53

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Trigger sub-emitters when a particle dies
     * DETERMINISM: Uses seeded RNG (this.rng) for all randomness
     */
> private triggerSubEmitters(deadParticle: Particle): void {
      const subEmitters = this.config.subEmitters || [];
      for (const sub of subEmitters) {
        if (!sub.enabled) continue;
```

---

#### Pattern: `: void` at line 1955:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> addSubEmitter(config: SubEmitterConfig): void {
      if (!this.config.subEmitters) this.config.subEmitters = [];
      this.config.subEmitters.push(config);
    }
```

---

#### Pattern: `: void` at line 1960:67

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.config.subEmitters.push(config);
    }
  
> updateSubEmitter(id: string, updates: Partial<SubEmitterConfig>): void {
      const sub = this.config.subEmitters?.find((s) => s.id === id);
      if (sub) Object.assign(sub, updates);
    }
```

---

#### Pattern: `Optional Chaining` at line 1961:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    updateSubEmitter(id: string, updates: Partial<SubEmitterConfig>): void {
> const sub = this.config.subEmitters?.find((s) => s.id === id);
      if (sub) Object.assign(sub, updates);
    }
  
```

---

#### Pattern: `: void` at line 1965:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      if (sub) Object.assign(sub, updates);
    }
  
> removeSubEmitter(id: string): void {
      if (this.config.subEmitters) {
        this.config.subEmitters = this.config.subEmitters.filter(
          (s) => s.id !== id,
```

---

#### Pattern: `: void` at line 1981:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // Burst on Beat
    // ============================================================================
  
> triggerBurst(emitterId: string, count?: number): void {
      const emitter = this.emitters.get(emitterId);
      if (!emitter || !emitter.enabled) return;
      const burstCount = count ?? emitter.burstCount ?? 20;
```

---

#### Pattern: `: void` at line 1990:21

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> triggerAllBursts(): void {
      for (const emitter of this.emitters.values()) {
        if (emitter.burstOnBeat && emitter.enabled) {
          this.triggerBurst(emitter.id);
```

---

#### Pattern: `Optional Chaining` at line 2003:52

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    // ============================================================================
  
    private buildSpatialGrid(): SpatialGrid {
> const cellSize = this.renderOptions.connections?.maxDistance || 100;
      const cells = new Map<string, Particle[]>();
      for (const p of this.particles) {
        const cellX = Math.floor((p.x * 1000) / cellSize); // Scale normalized coords
```

---

#### Pattern: `Optional Chaining` at line 2010:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const cellY = Math.floor((p.y * 1000) / cellSize);
        const key = `${cellX},${cellY}`;
        if (!cells.has(key)) cells.set(key, []);
> cells.get(key)?.push(p);
      }
      return { cellSize, cells };
    }
```

---

#### Pattern: `: void` at line 2020:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * DETERMINISM: This resets ALL state including RNG for reproducible simulation.
     * After reset(), stepping to frame N will produce identical results.
     */
> reset(): void {
      this.particles = [];
      this.particlePool = []; // Clear pool to free memory
      this.frameCount = 0;
```

---

#### Pattern: `: void` at line 2044:22

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Reset emitter seeds to initial state (legacy method, reset() now does this)
     * @deprecated Use reset() instead, which now resets RNG automatically
     */
> resetEmitterSeeds(): void {
      // Reset the main RNG to its initial seed
      this.rng.reset();
      // Recreate noise with reset RNG for turbulence
```

---

#### Pattern: `: void` at line 2072:14

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Clear the particle pool to free memory
     * Call this when memory pressure is high
     */
> clearPool(): void {
      this.particlePool = [];
    }
  
```

---

#### Pattern: `: void` at line 2106:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        readonly collisionCount?: number;
      }[],
      frameCount: number,
> ): void {
      // Clear existing particles
      this.particles = [];
      this.trailHistory.clear();
```

---

#### Pattern: `: void` at line 2156:11

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.frameCount = frameCount;
    }
  
> warmup(): void {
      for (let i = 0; i < this.config.warmupPeriod; i++) {
        this.step(1);
      }
```

---

#### Pattern: `: void` at line 2174:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return { ...this.config };
    }
  
> setConfig(updates: Partial<ParticleSystemConfig>): void {
      Object.assign(this.config, updates);
    }
  
```

---

#### Pattern: `: void` at line 2187:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      width: number,
      height: number,
      options: RenderOptions = createDefaultRenderOptions(),
> ): void {
      // Cache render options for spatial grid
      this.renderOptions = options;
  
```

---

#### Pattern: `Optional Chaining` at line 2201:44

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      };
  
      // Build spatial grid for connections
> const spatialGrid = options.connections?.enabled
        ? this.buildSpatialGrid()
        : undefined;
  
```

---

### `services/particles/SeededRandom.ts` (3 pattern(s))

#### Pattern: `: void` at line 25:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  
    /** Reset to initial seed */
> reset(): void {
      this.state = this.initialSeed;
    }
  
```

---

#### Pattern: `: void` at line 30:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  
    /** Reset to a new seed */
> setSeed(seed: number): void {
      this.initialSeed = seed;
      this.state = seed;
    }
```

---

#### Pattern: `: void` at line 41:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  
    /** Restore state from checkpoint */
> setState(state: number): void {
      this.state = state;
    }
  
```

---

### `services/particles/particleDefaults.ts` (1 pattern(s))

#### Pattern: `: void` at line 41:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Reset ID counter (for testing purposes)
   */
> export function resetIdCounter(value: number = 0): void {
    idCounter = value;
  }
  
```

---

### `services/particles/particleRenderer.ts` (13 pattern(s))

#### Pattern: `: void` at line 62:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    height: number,
    context: ParticleRenderContext,
    spatialGrid?: SpatialGrid,
> ): void {
    const {
      particles,
      renderOptions: options,
```

---

#### Pattern: `Optional Chaining` at line 89:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    // Render particle connections first, before particles
> if (options.connections?.enabled && spatialGrid) {
      renderConnections(
        ctx,
        width,
```

---

#### Pattern: `: void` at line 177:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    options: RenderOptions,
    emitters: Map<string, EmitterConfig>,
    spriteCache: Map<string, HTMLImageElement | ImageBitmap>,
> ): void {
    // Calculate velocity magnitude
    const velocityMag = Math.sqrt(p.vx * p.vx + p.vy * p.vy);
  
```

---

#### Pattern: `: void` at line 271:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    options?: RenderOptions,
    emitters?: Map<string, EmitterConfig>,
    spriteCache?: Map<string, HTMLImageElement | ImageBitmap>,
> ): void {
    // Set fill color if provided
    if (color) {
      ctx.fillStyle = `rgba(${color[0]}, ${color[1]}, ${color[2]}, ${color[3] / 255})`;
```

---

#### Pattern: `: void` at line 330:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    ctx: CanvasRenderingContext2D,
    size: number,
    shape: RenderOptions["particleShape"],
> ): void {
    switch (shape) {
      case "circle":
        ctx.beginPath();
```

---

#### Pattern: `: void` at line 370:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    options: RenderOptions | undefined,
    emitters: Map<string, EmitterConfig>,
    spriteCache: Map<string, HTMLImageElement | ImageBitmap>,
> ): void {
    const emitter = emitters.get(particle.emitterId);
    if (!emitter?.sprite?.enabled) {
      // Fallback to circle if no sprite
```

---

#### Pattern: `Optional Chaining` at line 372:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    spriteCache: Map<string, HTMLImageElement | ImageBitmap>,
  ): void {
    const emitter = emitters.get(particle.emitterId);
> if (!emitter?.sprite?.enabled) {
      // Fallback to circle if no sprite
      ctx.beginPath();
      ctx.arc(x, y, size / 2, 0, Math.PI * 2);
```

---

#### Pattern: `Optional Chaining` at line 372:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    spriteCache: Map<string, HTMLImageElement | ImageBitmap>,
  ): void {
    const emitter = emitters.get(particle.emitterId);
> if (!emitter?.sprite?.enabled) {
      // Fallback to circle if no sprite
      ctx.beginPath();
      ctx.arc(x, y, size / 2, 0, Math.PI * 2);
```

---

#### Pattern: `Optional Chaining` at line 393:38

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    ctx.save();
  
    // Set image smoothing
> ctx.imageSmoothingEnabled = options?.spriteSmoothing ?? true;
  
    // Apply opacity based on particle age if enabled
    let alpha = particle.color[3] / 255;
```

---

#### Pattern: `Optional Chaining` at line 397:14

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    // Apply opacity based on particle age if enabled
    let alpha = particle.color[3] / 255;
> if (options?.spriteOpacityByAge) {
      // Guard against lifetime=0 to prevent division by zero
      const safeLifetime = particle.lifetime > 0 ? particle.lifetime : 1;
      const lifeRatio = particle.age / safeLifetime;
```

---

#### Pattern: `: void` at line 460:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    spikes: number,
    outerRadius: number,
    innerRadius: number,
> ): void {
    ctx.beginPath();
    let rotation = -Math.PI / 2;
  
```

---

#### Pattern: `: void` at line 497:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    config: ConnectionConfig,
    spatialGrid: SpatialGrid,
    getNeighbors: (p: Particle, grid: SpatialGrid) => Particle[],
> ): void {
    if (!config.enabled || particles.length < 2) {
      return;
    }
```

---

#### Pattern: `Optional Chaining` at line 562:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    // Draw connections as black (exclude) if enabled
    const connConfig = renderOptions.connections;
> if (connConfig?.enabled && particles.length >= 2) {
      ctx.strokeStyle = "#000000";
      ctx.lineWidth = connConfig.lineWidth * 2; // Slightly thicker for matte
      // Note: For mask rendering, we use a simplified connection approach
```

---

### `services/pathMorphing.ts` (2 pattern(s))

#### Pattern: `Optional Chaining` at line 767:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    if (obj.vertices.length > 0) {
      const v = obj.vertices[0] as Record<string, unknown>;
      if (typeof v !== "object" || v === null) return false;
> if (typeof (v.point as any)?.x !== "number") return false;
      if (typeof (v.point as any)?.y !== "number") return false;
    }
  
```

---

#### Pattern: `Optional Chaining` at line 768:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
      const v = obj.vertices[0] as Record<string, unknown>;
      if (typeof v !== "object" || v === null) return false;
      if (typeof (v.point as any)?.x !== "number") return false;
> if (typeof (v.point as any)?.y !== "number") return false;
    }
  
    return true;
```

---

### `services/persistenceService.ts` (8 pattern(s))

#### Pattern: `Optional Chaining` at line 211:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const db = await getDB();
  
    const id = projectId || getProjectId(project);
> const name = project.meta?.name || "Untitled Project";
  
    const stored: StoredProject = {
      id,
```

---

#### Pattern: `: void` at line 478:62

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    return { ...DEFAULT_SETTINGS };
  }
  
> export function saveSettings(settings: Partial<UserSettings>): void {
    try {
      const current = getSettings();
      const merged = { ...current, ...settings };
```

---

#### Pattern: `: void` at line 500:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function setSetting<K extends keyof UserSettings>(
    key: K,
    value: UserSettings[K],
> ): void {
    saveSettings({ [key]: value });
  }
  
```

---

#### Pattern: `: void` at line 520:55

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
    return [];
  }
  
> function saveRecentProjects(projects: RecentProject[]): void {
    try {
      localStorage.setItem(
        LOCAL_STORAGE_KEYS.RECENT_PROJECTS,
```

---

#### Pattern: `: void` at line 531:60

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  }
  
> export function addToRecentProjects(project: RecentProject): void {
    const settings = getSettings();
    let recent = getRecentProjects();
  
```

---

#### Pattern: `: void` at line 547:60

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    saveRecentProjects(recent);
  }
  
> export function removeFromRecentProjects(projectId: string): void {
    const recent = getRecentProjects().filter((p) => p.id !== projectId);
    saveRecentProjects(recent);
  }
```

---

#### Pattern: `: void` at line 552:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    saveRecentProjects(recent);
  }
  
> export function clearRecentProjects(): void {
    saveRecentProjects([]);
  }
  
```

---

#### Pattern: `: void` at line 568:45

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  }
  
> export function setLastProjectId(id: string): void {
    try {
      localStorage.setItem(LOCAL_STORAGE_KEYS.LAST_PROJECT_ID, id);
    } catch (e) {
```

---

### `services/physics/JointSystem.ts` (8 pattern(s))

#### Pattern: `: void` at line 62:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    private joints: Map<string, JointConfig> = new Map();
    private brokenJoints: Set<string> = new Set();
  
> addJoint(config: JointConfig): void {
      this.joints.set(config.id, config);
    }
  
```

---

#### Pattern: `: void` at line 66:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.joints.set(config.id, config);
    }
  
> removeJoint(id: string): void {
      this.joints.delete(id);
      this.brokenJoints.delete(id);
    }
```

---

#### Pattern: `: void` at line 86:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      getBody: GetBodyFn,
      applyImpulse: ApplyImpulseFn,
      dt: number,
> ): void {
      for (const joint of this.joints.values()) {
        if (this.brokenJoints.has(joint.id)) continue;
  
```

---

#### Pattern: `Optional Chaining` at line 194:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Motor (if enabled)
> if (joint.motor?.enabled) {
        const relativeAngle = bodyB.angle - bodyA.angle;
        let targetAngularVelocity = joint.motor.speed;
  
```

---

#### Pattern: `Optional Chaining` at line 422:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Motor
> if (joint.motor?.enabled) {
        const relVel = vec2.dot(vec2.sub(bodyB.velocity, bodyA.velocity), axis);
        const motorError = joint.motor.speed - relVel;
        const motorImpulse = Math.max(
```

---

#### Pattern: `Optional Chaining` at line 498:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Motor (rotation)
> if (joint.motor?.enabled) {
        const relativeAngularVelocity =
          bodyB.angularVelocity - bodyA.angularVelocity;
        const motorError = joint.motor.speed - relativeAngularVelocity;
```

---

#### Pattern: `: void` at line 706:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear all joints
     */
> clear(): void {
      this.joints.clear();
      this.brokenJoints.clear();
    }
```

---

#### Pattern: `: void` at line 724:55

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Object type detected

**Code:**
```typescript
    /**
     * Load joint state from serialization
     */
> loadState(states: { id: string; broken: boolean }[]): void {
      this.brokenJoints.clear();
      for (const state of states) {
        if (state.broken) {
```

---

### `services/physics/PhysicsEngine.ts` (38 pattern(s))

#### Pattern: `: void` at line 52:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.state = seed;
    }
  
> reset(): void {
      this.state = this.initialSeed;
    }
  
```

---

#### Pattern: `: void` at line 163:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.config = config;
    }
  
> addBody(bodyConfig: RigidBodyConfig): void {
      // Calculate inverse mass for physics simulation.
      // Static/dead bodies have infinite mass (inverseMass = 0).
      // Dynamic bodies with mass=0 default to mass=1 to prevent division by zero.
```

---

#### Pattern: `: void` at line 201:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.bodies.set(bodyConfig.id, body);
    }
  
> removeBody(id: string): void {
      this.bodies.delete(id);
    }
  
```

---

#### Pattern: `: void` at line 243:70

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> applyForce(bodyId: string, force: PhysicsVec2, point?: PhysicsVec2): void {
      const body = this.bodies.get(bodyId);
      if (!body || body.inverseMass === 0) return;
  
```

---

#### Pattern: `: void` at line 259:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      bodyId: string,
      impulse: PhysicsVec2,
      point?: PhysicsVec2,
> ): void {
      const body = this.bodies.get(bodyId);
      if (!body || body.inverseMass === 0) return;
  
```

---

#### Pattern: `: void` at line 278:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      body.sleepTime = 0;
    }
  
> integrate(dt: number): void {
      for (const body of this.bodies.values()) {
        if (body.config.type === "static" || body.config.type === "dead")
          continue;
```

---

#### Pattern: `: void` at line 344:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
      return states;
    }
  
> loadState(states: RigidBodyState[]): void {
      for (const state of states) {
        const body = this.bodies.get(state.id);
        if (body) {
```

---

#### Pattern: `: void` at line 770:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    private softBodyParticles: Map<string, string[]> = new Map(); // softBodyId -> particleIds
    private softBodyConstraints: Map<string, string[]> = new Map(); // softBodyId -> constraintIds
  
> addSoftBody(config: SoftBodyConfig): void {
      const particleIds: string[] = [];
      const constraintIds: string[] = [];
  
```

---

#### Pattern: `: void` at line 809:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.softBodyConstraints.set(config.id, constraintIds);
    }
  
> removeSoftBody(id: string): void {
      const particleIds = this.softBodyParticles.get(id);
      const constraintIds = this.softBodyConstraints.get(id);
  
```

---

#### Pattern: `: void` at line 828:53

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.softBodyConstraints.delete(id);
    }
  
> applyForce(particleId: string, force: PhysicsVec2): void {
      const particle = this.particles.get(particleId);
      if (particle && !particle.pinned) {
        particle.acceleration = vec2.add(
```

---

#### Pattern: `: void` at line 838:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> applyForceToAll(force: PhysicsVec2): void {
      for (const particle of this.particles.values()) {
        if (!particle.pinned) {
          particle.acceleration = vec2.add(particle.acceleration, force);
```

---

#### Pattern: `: void` at line 846:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> integrate(dt: number, damping: number = 0.98): void {
      const dtSq = dt * dt;
  
      for (const particle of this.particles.values()) {
```

---

#### Pattern: `: void` at line 867:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> solveConstraints(iterations: number): void {
      for (let i = 0; i < iterations; i++) {
        for (const constraint of this.constraints.values()) {
          if (constraint.broken) continue;
```

---

#### Pattern: `Optional Chaining` at line 919:47

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      });
  
      const brokenConstraints = (constraintIds || [])
> .filter((id) => this.constraints.get(id)?.broken)
        .map((id) => id);
  
      return {
```

---

#### Pattern: `: void` at line 929:55

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      };
    }
  
> loadState(_softBodyId: string, state: SoftBodyState): void {
      for (const ps of state.particles) {
        const particle = this.particles.get(ps.id);
        if (particle) {
```

---

#### Pattern: `: void` at line 961:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    > = new Map();
  
> createCloth(config: ClothConfig): void {
      const particles: InternalVerletParticle[] = [];
      const constraints: InternalVerletConstraint[] = [];
  
```

---

#### Pattern: `: void` at line 1086:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.cloths.set(config.id, { config, particles, constraints });
    }
  
> removeCloth(id: string): void {
      this.cloths.delete(id);
    }
  
```

---

#### Pattern: `: void` at line 1090:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.cloths.delete(id);
    }
  
> applyForce(clothId: string, force: PhysicsVec2): void {
      const cloth = this.cloths.get(clothId);
      if (!cloth) return;
  
```

---

#### Pattern: `: void` at line 1101:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> integrate(dt: number): void {
      const dtSq = dt * dt;
  
      for (const cloth of this.cloths.values()) {
```

---

#### Pattern: `: void` at line 1124:21

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> solveConstraints(): void {
      for (const cloth of this.cloths.values()) {
        const iterations = cloth.config.iterations;
  
```

---

#### Pattern: `: void` at line 1195:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      };
    }
  
> loadState(clothId: string, state: ClothState): void {
      const cloth = this.cloths.get(clothId);
      if (!cloth) return;
  
```

---

#### Pattern: `: void` at line 1240:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
      this.random = new PhysicsRandom(seed);
    }
  
> setForceFields(fields: ForceField[]): void {
      this.forceFields = fields;
    }
  
```

---

#### Pattern: `: void` at line 1248:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      frame: number,
      bodies: InternalRigidBody[],
      applyForce: (bodyId: string, force: PhysicsVec2) => void,
> ): void {
      for (const field of this.forceFields) {
        if (!field.enabled) continue;
        if (frame < field.startFrame) continue;
```

---

#### Pattern: `: void` at line 1489:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  
    // Configuration
> setConfig(config: Partial<PhysicsSpaceConfig>): void {
      this.config = { ...this.config, ...config };
      this.rigidBodySimulator = new RigidBodySimulator(this.config);
      this.collisionResolver = new CollisionResolver(this.config);
```

---

#### Pattern: `: void` at line 1496:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
      this.clearCache();
    }
  
> setForceFields(fields: ForceField[]): void {
      this.forceFieldProcessor.setForceFields(fields);
      this.clearCache();
    }
```

---

#### Pattern: `: void` at line 1502:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  
    // Body management
> addRigidBody(config: RigidBodyConfig): void {
      this.rigidBodySimulator.addBody(config);
      this.clearCache();
    }
```

---

#### Pattern: `: void` at line 1507:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.clearCache();
    }
  
> removeRigidBody(id: string): void {
      this.rigidBodySimulator.removeBody(id);
      this.clearCache();
    }
```

---

#### Pattern: `: void` at line 1512:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.clearCache();
    }
  
> addSoftBody(config: SoftBodyConfig): void {
      this.softBodySimulator.addSoftBody(config);
      this.clearCache();
    }
```

---

#### Pattern: `: void` at line 1517:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.clearCache();
    }
  
> removeSoftBody(id: string): void {
      this.softBodySimulator.removeSoftBody(id);
      this.clearCache();
    }
```

---

#### Pattern: `: void` at line 1522:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.clearCache();
    }
  
> addCloth(config: ClothConfig): void {
      this.clothSimulator.createCloth(config);
      this.clearCache();
    }
```

---

#### Pattern: `: void` at line 1527:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.clearCache();
    }
  
> removeCloth(id: string): void {
      this.clothSimulator.removeCloth(id);
      this.clearCache();
    }
```

---

#### Pattern: `: void` at line 1536:54

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
     * Register a ragdoll for state tracking
     * The ragdoll's rigid bodies should already be added via addRigidBody
     */
> addRagdoll(ragdollId: string, bones: RagdollBone[]): void {
      this.ragdollRegistry.set(ragdollId, bones);
      this.clearCache();
    }
```

---

#### Pattern: `: void` at line 1545:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Remove a ragdoll from state tracking
     * Note: This does NOT remove the underlying rigid bodies
     */
> removeRagdoll(ragdollId: string): void {
      this.ragdollRegistry.delete(ragdollId);
      this.clearCache();
    }
```

---

#### Pattern: `: void` at line 1608:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return this.getState(targetFrame);
    }
  
> private simulateStep(frame: number): void {
      const dt = this.config.timeStep;
      const bodies = this.rigidBodySimulator.getAllBodies();
  
```

---

#### Pattern: `: void` at line 1692:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      };
    }
  
> private saveCheckpoint(frame: number): void {
      this.checkpoints.set(frame, {
        frame,
        rigidBodyStates: this.rigidBodySimulator.getState(),
```

---

#### Pattern: `: void` at line 1706:15

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      });
    }
  
> clearCache(): void {
      this.checkpoints.clear();
      this.lastSimulatedFrame = -1;
    }
```

---

#### Pattern: `Optional Chaining` at line 1742:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          if (!frameData.has(body.id)) {
            frameData.set(body.id, []);
          }
> frameData.get(body.id)?.push({
            frame,
            position: body.position,
            angle: body.angle,
```

---

#### Pattern: `: void` at line 1868:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    }
  
    // Cleanup
> dispose(): void {
      this.checkpoints.clear();
      this.isInitialized = false;
    }
```

---

### `services/physics/RagdollBuilder.ts` (1 pattern(s))

#### Pattern: `: void` at line 589:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      angle: number,
      angularVelocity: number,
    ) => void,
> ): void {
    for (const boneState of state.bones) {
      const bodyId = `${state.id}_${boneState.id}`;
      setBodyState(
```

---

### `services/plugins/PluginManager.ts` (22 pattern(s))

#### Pattern: `: void` at line 255:5

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      getLayer: (id: string) => any;
      getComposition: (id: string) => any;
      getAsset: (id: string) => any;
> }): void {
      this.getProjectFn = access.getProject;
      this.getCurrentFrameFn = access.getCurrentFrame;
      this.getSelectedLayersFn = access.getSelectedLayers;
```

---

#### Pattern: `: void` at line 275:5

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      onRegisterExporter?: (exporter: ExporterDefinition) => void;
      onRegisterTool?: (tool: ToolDefinition) => void;
      onShowNotification?: (message: string, type: string) => void;
> }): void {
      Object.assign(this, callbacks);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 383:42

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    private createPluginAPI(plugin: LoadedPlugin): LatticePluginAPI {
      return {
        // Read-only access
> getProject: () => this.getProjectFn?.() ?? null,
        getCurrentFrame: () => this.getCurrentFrameFn?.() ?? 0,
        getSelectedLayers: () => this.getSelectedLayersFn?.() ?? [],
        getLayer: (id) => this.getLayerFn?.(id) ?? null,
```

---

#### Pattern: `Optional Chaining` at line 384:52

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      return {
        // Read-only access
        getProject: () => this.getProjectFn?.() ?? null,
> getCurrentFrame: () => this.getCurrentFrameFn?.() ?? 0,
        getSelectedLayers: () => this.getSelectedLayersFn?.() ?? [],
        getLayer: (id) => this.getLayerFn?.(id) ?? null,
        getComposition: (id) => this.getCompositionFn?.(id) ?? null,
```

---

#### Pattern: `Optional Chaining` at line 385:56

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Read-only access
        getProject: () => this.getProjectFn?.() ?? null,
        getCurrentFrame: () => this.getCurrentFrameFn?.() ?? 0,
> getSelectedLayers: () => this.getSelectedLayersFn?.() ?? [],
        getLayer: (id) => this.getLayerFn?.(id) ?? null,
        getComposition: (id) => this.getCompositionFn?.(id) ?? null,
        getAsset: (id) => this.getAssetFn?.(id) ?? null,
```

---

#### Pattern: `Optional Chaining` at line 386:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        getProject: () => this.getProjectFn?.() ?? null,
        getCurrentFrame: () => this.getCurrentFrameFn?.() ?? 0,
        getSelectedLayers: () => this.getSelectedLayersFn?.() ?? [],
> getLayer: (id) => this.getLayerFn?.(id) ?? null,
        getComposition: (id) => this.getCompositionFn?.(id) ?? null,
        getAsset: (id) => this.getAssetFn?.(id) ?? null,
  
```

---

#### Pattern: `Optional Chaining` at line 387:52

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        getCurrentFrame: () => this.getCurrentFrameFn?.() ?? 0,
        getSelectedLayers: () => this.getSelectedLayersFn?.() ?? [],
        getLayer: (id) => this.getLayerFn?.(id) ?? null,
> getComposition: (id) => this.getCompositionFn?.(id) ?? null,
        getAsset: (id) => this.getAssetFn?.(id) ?? null,
  
        // Events
```

---

#### Pattern: `Optional Chaining` at line 388:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        getSelectedLayers: () => this.getSelectedLayersFn?.() ?? [],
        getLayer: (id) => this.getLayerFn?.(id) ?? null,
        getComposition: (id) => this.getCompositionFn?.(id) ?? null,
> getAsset: (id) => this.getAssetFn?.(id) ?? null,
  
        // Events
        on: (event, callback) => {
```

---

#### Pattern: `Optional Chaining` at line 399:49

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              event,
              plugin.registrations.events.get(event) || new Set(),
            );
> plugin.registrations.events.get(event)?.add(callback);
          }
          return () => this.eventListeners.get(event)?.delete(callback);
        },
```

---

#### Pattern: `Optional Chaining` at line 401:52

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            );
            plugin.registrations.events.get(event)?.add(callback);
          }
> return () => this.eventListeners.get(event)?.delete(callback);
        },
  
        off: (event, callback) => {
```

---

#### Pattern: `Optional Chaining` at line 405:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        },
  
        off: (event, callback) => {
> this.eventListeners.get(event)?.delete(callback);
          plugin.registrations.events.get(event)?.delete(callback);
        },
  
```

---

#### Pattern: `Optional Chaining` at line 406:47

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        off: (event, callback) => {
          this.eventListeners.get(event)?.delete(callback);
> plugin.registrations.events.get(event)?.delete(callback);
        },
  
        // UI registration
```

---

#### Pattern: `Optional Chaining` at line 412:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // UI registration
        registerPanel: (panel) => {
          plugin.registrations.panels.push(panel.id);
> this.onRegisterPanel?.(panel);
        },
  
        registerMenuItem: (item) => {
```

---

#### Pattern: `Optional Chaining` at line 417:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        registerMenuItem: (item) => {
          plugin.registrations.menuItems.push(item.id);
> this.onRegisterMenuItem?.(item);
        },
  
        registerContextMenu: (menu) => {
```

---

#### Pattern: `Optional Chaining` at line 422:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        registerContextMenu: (menu) => {
          plugin.registrations.contextMenus.push(menu.id);
> this.onRegisterContextMenu?.(menu);
        },
  
        // Effect registration
```

---

#### Pattern: `Optional Chaining` at line 428:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Effect registration
        registerEffect: (effect) => {
          plugin.registrations.effects.push(effect.id);
> this.onRegisterEffect?.(effect);
        },
  
        // Exporter registration
```

---

#### Pattern: `Optional Chaining` at line 434:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Exporter registration
        registerExporter: (exporter) => {
          plugin.registrations.exporters.push(exporter.id);
> this.onRegisterExporter?.(exporter);
        },
  
        // Tool registration
```

---

#### Pattern: `Optional Chaining` at line 440:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Tool registration
        registerTool: (tool) => {
          plugin.registrations.tools.push(tool.id);
> this.onRegisterTool?.(tool);
        },
  
        // Notifications
```

---

#### Pattern: `Optional Chaining` at line 445:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        // Notifications
        showNotification: (message, type = "info") => {
> this.onShowNotification?.(message, type);
        },
  
        // Logging
```

---

#### Pattern: `: void` at line 461:59

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clean up all registrations from a plugin
     */
> private cleanupPluginRegistrations(plugin: LoadedPlugin): void {
      // Remove event listeners
      for (const [event, callbacks] of plugin.registrations.events) {
        const listeners = this.eventListeners.get(event);
```

---

#### Pattern: `: void` at line 483:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
    /**
     * Emit an event to all plugins
     */
> emit(event: PluginEvent, ...args: any[]): void {
      const listeners = this.eventListeners.get(event);
      if (!listeners) return;
  
```

---

#### Pattern: `Optional Chaining` at line 534:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    hasPermission(pluginId: string, permission: PluginPermission): boolean {
      const plugin = this.plugins.get(pluginId);
      if (!plugin) return false;
> return plugin.manifest.permissions?.includes(permission) ?? false;
    }
  }
  
```

---

### `services/preprocessorService.ts` (4 pattern(s))

#### Pattern: `Optional Chaining` at line 781:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    error?: string;
  }> {
    try {
> onProgress?.("Rendering source layer...");
  
      // Get source layer image
      const sourceImage = await renderLayerToImage(
```

---

#### Pattern: `Optional Chaining` at line 793:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return { success: false, error: "Failed to render source layer" };
      }
  
> onProgress?.(
        "Processing with " +
          (PREPROCESSOR_REGISTRY[preprocessorId]?.display_name ||
            preprocessorId) +
```

---

#### Pattern: `Optional Chaining` at line 795:47

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      onProgress?.(
        "Processing with " +
> (PREPROCESSOR_REGISTRY[preprocessorId]?.display_name ||
            preprocessorId) +
          "...",
      );
```

---

#### Pattern: `Optional Chaining` at line 811:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return { success: false, error: result.error || "Preprocessor failed" };
      }
  
> onProgress?.("Creating asset...");
  
      // Create asset from result
      const assetId = await createAssetFromBase64(
```

---

### `services/projectCollection.ts` (11 pattern(s))

#### Pattern: `Optional Chaining` at line 82:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      const zip = new JSZip();
      const manifest: CollectionManifest = {
> projectName: project.meta?.name || "Untitled Project",
        exportDate: new Date().toISOString(),
        latticeVersion: "1.0.0",
        assetCount: 0,
```

---

#### Pattern: `Optional Chaining` at line 93:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      try {
        // Phase 1: Scanning
> onProgress?.({
          phase: "scanning",
          current: 0,
          total: assets.size + 1,
```

---

#### Pattern: `Optional Chaining` at line 129:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          manifest.totalSizeBytes += sizeBytes;
          collected++;
  
> onProgress?.({
            phase: "collecting",
            current: collected,
            total: totalItems,
```

---

#### Pattern: `Optional Chaining` at line 171:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            manifest.assetCount++;
            collected++;
  
> onProgress?.({
              phase: "collecting",
              current: collected,
              total: totalItems,
```

---

#### Pattern: `Optional Chaining` at line 197:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        }
  
        // Phase 3: Compressing
> onProgress?.({
          phase: "compressing",
          current: 0,
          total: 100,
```

---

#### Pattern: `Optional Chaining` at line 212:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            compressionOptions: { level: 6 },
          },
          (metadata) => {
> onProgress?.({
              phase: "compressing",
              current: Math.round(metadata.percent),
              total: 100,
```

---

#### Pattern: `Optional Chaining` at line 223:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        );
  
        // Phase 4: Complete
> onProgress?.({
          phase: "complete",
          current: totalItems,
          total: totalItems,
```

---

#### Pattern: `Optional Chaining` at line 235:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      } catch (error) {
        const errorMessage =
          error instanceof Error ? error.message : "Unknown error";
> onProgress?.({
          phase: "error",
          current: 0,
          total: 0,
```

---

#### Pattern: `: void` at line 249:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Abort an in-progress collection
     */
> abort(): void {
      if (this.abortController) {
        this.abortController.abort();
        this.abortController = null;
```

---

#### Pattern: `: void` at line 259:71

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Download the ZIP blob as a file
     */
> downloadZip(blob: Blob, filename: string = "project-collection.zip"): void {
      const url = URL.createObjectURL(blob);
      const link = document.createElement("a");
      link.href = url;
```

---

#### Pattern: `Optional Chaining` at line 289:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        }
  
        // If asset has blob URL
> if (asset.url?.startsWith("blob:")) {
          const response = await fetch(asset.url);
          return await response.blob();
        }
```

---

### `services/projectMigration.ts` (4 pattern(s))

#### Pattern: `Optional Chaining` at line 85:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            if (comp.layers) {
              for (const layer of comp.layers) {
                // Rename anchorPoint to origin
> if (layer.transform?.anchorPoint !== undefined) {
                  layer.transform.origin = layer.transform.anchorPoint;
                  delete layer.transform.anchorPoint;
                }
```

---

#### Pattern: `Optional Chaining` at line 101:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
                }
  
                // Rename timeRemap to speedMap for video layers
> if (layer.data?.timeRemapEnabled !== undefined) {
                  layer.data.speedMapEnabled = layer.data.timeRemapEnabled;
                  delete layer.data.timeRemapEnabled;
                }
```

---

#### Pattern: `Optional Chaining` at line 105:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
                  layer.data.speedMapEnabled = layer.data.timeRemapEnabled;
                  delete layer.data.timeRemapEnabled;
                }
> if (layer.data?.timeRemap !== undefined) {
                  layer.data.speedMap = layer.data.timeRemap;
                  delete layer.data.timeRemap;
                }
```

---

#### Pattern: `Optional Chaining` at line 142:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
   * Get the schema version from a project
   */
  export function getProjectVersion(project: any): number {
> if (typeof project?.schemaVersion === "number") {
      return project.schemaVersion;
    }
  
```

---

### `services/projectStorage.ts` (4 pattern(s))

#### Pattern: `Optional Chaining` at line 168:43

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const result = await response.json();
  
      if (result.status === "success") {
> logger.info(`Found ${result.projects?.length || 0} projects`);
      } else {
        logger.error(`Failed to list projects: ${result.message}`);
      }
```

---

#### Pattern: `: void` at line 244:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function exportProjectAsFile(
    project: LatticeProject,
    filename?: string,
> ): void {
    const name = filename || project.meta?.name || "lattice-project";
    const safeName = name.replace(/[^a-zA-Z0-9-_]/g, "_");
  
```

---

#### Pattern: `Optional Chaining` at line 245:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    project: LatticeProject,
    filename?: string,
  ): void {
> const name = filename || project.meta?.name || "lattice-project";
    const safeName = name.replace(/[^a-zA-Z0-9-_]/g, "_");
  
    const blob = new Blob([JSON.stringify(project, null, 2)], {
```

---

#### Pattern: `Optional Chaining` at line 284:54

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          validateProjectStructure(data, `Project file '${file.name}'`);
  
          const project = data as LatticeProject;
> logger.info(`Imported project: ${project.meta?.name || file.name}`);
          resolve(project);
        } catch (error) {
          if (error instanceof ValidationError) {
```

---

### `services/propertyDriver.ts` (8 pattern(s))

#### Pattern: `: void` at line 214:51

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set the audio analysis data for audio-driven properties
     */
> setAudioAnalysis(analysis: AudioAnalysis | null): void {
      this.audioAnalysis = analysis;
    }
  
```

---

#### Pattern: `: void` at line 221:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set the property getter function (provided by store/engine)
     */
> setPropertyGetter(getter: PropertyGetter): void {
      this.propertyGetter = getter;
    }
  
```

---

#### Pattern: `: void` at line 297:27

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Remove a driver
     */
> removeDriver(id: string): void {
      this.drivers.delete(id);
      this.smoothedValues.delete(id);
    }
```

---

#### Pattern: `: void` at line 305:61

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update a driver
     */
> updateDriver(id: string, updates: Partial<PropertyDriver>): void {
      const driver = this.drivers.get(id);
      if (driver) {
        Object.assign(driver, updates);
```

---

#### Pattern: `: void` at line 581:19

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Reset smoothing state
     */
> resetSmoothing(): void {
      this.smoothedValues.clear();
    }
  
```

---

#### Pattern: `: void` at line 588:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear all drivers
     */
> clear(): void {
      this.drivers.clear();
      this.smoothedValues.clear();
    }
```

---

#### Pattern: `: void` at line 603:41

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
    /**
     * Load drivers from serialized data
     */
> deserialize(drivers: PropertyDriver[]): void {
      this.clear();
      for (const driver of drivers) {
        this.addDriver(driver);
```

---

#### Pattern: `Optional Chaining` at line 838:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      driver.blendMode = "replace";
  
      // Apply offset if specified
> const offsetValue = options.offset?.[coord];
      if (offsetValue !== undefined && offsetValue !== 0) {
        driver.transforms.push({ type: "offset", amount: offsetValue });
      }
```

---

### `services/propertyEvaluator.ts` (10 pattern(s))

#### Pattern: `Optional Chaining` at line 281:51

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    switch (mapping.feature) {
      case "amplitude":
> audioValue = audioAnalysis.amplitudeEnvelope?.[frameIndex] ?? 0;
        break;
      case "bass":
        audioValue = audioAnalysis.frequencyBands?.bass?.[frameIndex] ?? 0;
```

---

#### Pattern: `Optional Chaining` at line 284:48

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        audioValue = audioAnalysis.amplitudeEnvelope?.[frameIndex] ?? 0;
        break;
      case "bass":
> audioValue = audioAnalysis.frequencyBands?.bass?.[frameIndex] ?? 0;
        break;
      case "mid":
        audioValue = audioAnalysis.frequencyBands?.mid?.[frameIndex] ?? 0;
```

---

#### Pattern: `Optional Chaining` at line 284:54

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        audioValue = audioAnalysis.amplitudeEnvelope?.[frameIndex] ?? 0;
        break;
      case "bass":
> audioValue = audioAnalysis.frequencyBands?.bass?.[frameIndex] ?? 0;
        break;
      case "mid":
        audioValue = audioAnalysis.frequencyBands?.mid?.[frameIndex] ?? 0;
```

---

#### Pattern: `Optional Chaining` at line 287:48

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        audioValue = audioAnalysis.frequencyBands?.bass?.[frameIndex] ?? 0;
        break;
      case "mid":
> audioValue = audioAnalysis.frequencyBands?.mid?.[frameIndex] ?? 0;
        break;
      case "high":
        audioValue = audioAnalysis.frequencyBands?.high?.[frameIndex] ?? 0;
```

---

#### Pattern: `Optional Chaining` at line 287:53

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        audioValue = audioAnalysis.frequencyBands?.bass?.[frameIndex] ?? 0;
        break;
      case "mid":
> audioValue = audioAnalysis.frequencyBands?.mid?.[frameIndex] ?? 0;
        break;
      case "high":
        audioValue = audioAnalysis.frequencyBands?.high?.[frameIndex] ?? 0;
```

---

#### Pattern: `Optional Chaining` at line 290:48

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        audioValue = audioAnalysis.frequencyBands?.mid?.[frameIndex] ?? 0;
        break;
      case "high":
> audioValue = audioAnalysis.frequencyBands?.high?.[frameIndex] ?? 0;
        break;
      case "spectralFlux":
      case "onsets":
```

---

#### Pattern: `Optional Chaining` at line 290:54

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        audioValue = audioAnalysis.frequencyBands?.mid?.[frameIndex] ?? 0;
        break;
      case "high":
> audioValue = audioAnalysis.frequencyBands?.high?.[frameIndex] ?? 0;
        break;
      case "spectralFlux":
      case "onsets":
```

---

#### Pattern: `Optional Chaining` at line 295:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      case "spectralFlux":
      case "onsets":
      case "peaks":
> audioValue = audioAnalysis.beats?.includes(frameIndex) ? 1 : 0;
        break;
      default:
        audioValue = audioAnalysis.amplitudeEnvelope?.[frameIndex] ?? 0;
```

---

#### Pattern: `Optional Chaining` at line 298:51

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        audioValue = audioAnalysis.beats?.includes(frameIndex) ? 1 : 0;
        break;
      default:
> audioValue = audioAnalysis.amplitudeEnvelope?.[frameIndex] ?? 0;
    }
  
    // Apply threshold (noise gate)
```

---

#### Pattern: `Optional Chaining` at line 350:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
   * Check if a property has an enabled expression
   */
  export function propertyHasExpression(property: AnimatableProperty<unknown>): boolean {
> return property.expression?.enabled === true;
  }
  
  /**
```

---

### `services/renderQueue/RenderQueueManager.ts` (21 pattern(s))

#### Pattern: `: void` at line 303:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      });
    }
  
> close(): void {
      if (this.db) {
        this.db.close();
        this.db = null;
```

---

#### Pattern: `: void` at line 391:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        width: number,
        height: number,
      ) => Promise<Blob>,
> ): void {
      this.frameRenderer = renderer;
    }
  
```

---

#### Pattern: `: void` at line 488:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Start processing the queue
     */
> start(): void {
      if (this.isRunning) return;
  
      this.isRunning = true;
```

---

#### Pattern: `: void` at line 502:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Pause the queue (current frame will complete)
     */
> pause(): void {
      this.isPaused = true;
  
      if (this.activeJobId) {
```

---

#### Pattern: `: void` at line 519:11

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Resume the queue
     */
> resume(): void {
      if (!this.isPaused) return;
  
      this.isPaused = false;
```

---

#### Pattern: `: void` at line 539:9

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Stop the queue entirely
     */
> stop(): void {
      this.isRunning = false;
      this.isPaused = false;
      this.stopAutoSave();
```

---

#### Pattern: `: void` at line 558:21

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Cancel the currently rendering job
     */
> cancelCurrentJob(): void {
      if (!this.activeJobId) return;
  
      const job = this.jobs.get(this.activeJobId);
```

---

#### Pattern: `Optional Chaining` at line 589:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      if (pendingJobs.length === 0) {
        this.isRunning = false;
        this.stopAutoSave();
> this.onQueueEmptyCallback?.();
        logger.debug("Render queue empty");
        return;
      }
```

---

#### Pattern: `Optional Chaining` at line 676:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        await this.db.saveJob(job);
  
        this.notifyProgress(job.id, job.progress);
> this.onJobCompleteCallback?.(job.id, allFrames);
  
        // Clear temporary frames from IndexedDB
        await this.db.clearCompletedFrames(job.id);
```

---

#### Pattern: `Optional Chaining` at line 690:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        await this.db.saveJob(job);
  
        this.notifyProgress(job.id, job.progress);
> this.onJobErrorCallback?.(job.id, job.progress.error);
  
        logger.warn(`Render job failed: ${job.id}`, error);
      }
```

---

#### Pattern: `: void` at line 704:66

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update job progress
     */
> private updateJobProgress(job: RenderJob, currentFrame: number): void {
      const framesRendered = currentFrame - job.startFrame + 1;
      const totalFrames = job.progress.totalFrames;
      const elapsedMs = Date.now() - this.startTime;
```

---

#### Pattern: `: void` at line 727:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // AUTO-SAVE
    // ============================================================================
  
> private startAutoSave(): void {
      if (this.autoSaveTimer !== null) return;
  
      this.autoSaveTimer = window.setInterval(() => {
```

---

#### Pattern: `: void` at line 741:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }, this.config.autoSaveInterval);
    }
  
> private stopAutoSave(): void {
      if (this.autoSaveTimer !== null) {
        clearInterval(this.autoSaveTimer);
        this.autoSaveTimer = null;
```

---

#### Pattern: `: void` at line 754:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  
    onProgress(
      callback: (jobId: string, progress: RenderJobProgress) => void,
> ): void {
      this.onProgressCallback = callback;
    }
  
```

---

#### Pattern: `: void` at line 760:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  
    onJobComplete(
      callback: (jobId: string, frames: RenderedFrame[]) => void,
> ): void {
      this.onJobCompleteCallback = callback;
    }
  
```

---

#### Pattern: `: void` at line 764:63

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.onJobCompleteCallback = callback;
    }
  
> onJobError(callback: (jobId: string, error: string) => void): void {
      this.onJobErrorCallback = callback;
    }
  
```

---

#### Pattern: `: void` at line 768:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.onJobErrorCallback = callback;
    }
  
> onQueueEmpty(callback: () => void): void {
      this.onQueueEmptyCallback = callback;
    }
  
```

---

#### Pattern: `: void` at line 772:69

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.onQueueEmptyCallback = callback;
    }
  
> private notifyProgress(jobId: string, progress: RenderJobProgress): void {
      this.onProgressCallback?.(jobId, progress);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 773:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    private notifyProgress(jobId: string, progress: RenderJobProgress): void {
> this.onProgressCallback?.(jobId, progress);
    }
  
    // ============================================================================
```

---

#### Pattern: `Optional Chaining` at line 808:43

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          return sum + (j.progress.currentFrame - j.startFrame);
        }, 0),
        averageFps: this.activeJobId
> ? (this.jobs.get(this.activeJobId)?.progress.framesPerSecond ?? 0)
          : 0,
      };
    }
```

---

#### Pattern: `: void` at line 817:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    // CLEANUP
    // ============================================================================
  
> dispose(): void {
      this.stop();
      this.db.close();
    }
```

---

### `services/security/jsonSanitizer.ts` (1 pattern(s))

#### Pattern: `isFinite()` at line 216:38

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    if (type === "boolean" || type === "number") {
      // Check for NaN/Infinity (not valid JSON but could slip through)
> if (type === "number" && !Number.isFinite(value as number)) {
        warnings.push(`Non-finite number replaced with null: ${value}`);
        return null;
      }
```

---

### `services/security/rateLimits.ts` (3 pattern(s))

#### Pattern: `: void` at line 177:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Save rate limits to localStorage.
   */
> function saveStoredLimits(limits: StoredRateLimits): void {
    try {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(limits));
    } catch (error) {
```

---

#### Pattern: `: void` at line 203:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Save session counts to sessionStorage.
   */
> function saveSessionCounts(): void {
    try {
      sessionStorage.setItem(SESSION_KEY, JSON.stringify(sessionCounts));
    } catch (error) {
```

---

#### Pattern: `: void` at line 371:60

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * Set custom rate limit configuration.
   * Overrides defaults for specific tools.
   */
> export function setRateLimitConfig(config: RateLimitConfig): void {
    customLimits[config.toolName] = config;
    console.log(
      `[SECURITY] Rate limit configured for ${config.toolName}:`,
```

---

### `services/segmentToMask.ts` (1 pattern(s))

#### Pattern: `Optional Chaining` at line 90:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      : imageDataToArray(mask, threshold);
  
    const height = data.length;
> const width = data[0]?.length ?? 0;
  
    if (height === 0 || width === 0) return [];
  
```

---

### `services/spriteSheet.ts` (12 pattern(s))

#### Pattern: `Optional Chaining` at line 278:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        rows,
        frames,
        totalFrames: frames.length,
> frameWidth: frames[0]?.source.width ?? 0,
        frameHeight: frames[0]?.source.height ?? 0,
        imageWidth,
        imageHeight,
```

---

#### Pattern: `Optional Chaining` at line 279:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        frames,
        totalFrames: frames.length,
        frameWidth: frames[0]?.source.width ?? 0,
> frameHeight: frames[0]?.source.height ?? 0,
        imageWidth,
        imageHeight,
        animations: new Map(),
```

---

#### Pattern: `Optional Chaining` at line 288:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      };
  
      // Parse animations from frame tags
> if (metadata.meta?.frameTags) {
        for (const tag of metadata.meta.frameTags) {
          const animFrames: number[] = [];
          for (let i = tag.from; i <= tag.to; i++) {
```

---

#### Pattern: `: void` at line 416:60

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Add a custom animation to a sprite sheet
     */
> addAnimation(sheetId: string, animation: SpriteAnimation): void {
      const sheet = this.sheets.get(sheetId);
      if (!sheet) {
        console.warn(`Sprite sheet not found: ${sheetId}`);
```

---

#### Pattern: `Optional Chaining` at line 504:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        spriteSheetColumns: sheet.columns,
        spriteSheetRows: sheet.rows,
        animateSprite: true,
> spriteFrameRate: animation?.frameRate ?? sheet.defaultFrameRate,
        randomStartFrame: true,
      };
    }
```

---

#### Pattern: `Optional Chaining` at line 517:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      frameIndex: number,
    ): THREE.SpriteMaterial | null {
      const sheet = this.sheets.get(sheetId);
> if (!sheet?.texture) return null;
  
      const frame = sheet.frames[frameIndex];
      if (!frame) return null;
```

---

#### Pattern: `: void` at line 541:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      material: THREE.SpriteMaterial,
      sheetId: string,
      frameIndex: number,
> ): void {
      const sheet = this.sheets.get(sheetId);
      if (!sheet?.texture || !material.map) return;
  
```

---

#### Pattern: `Optional Chaining` at line 543:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      frameIndex: number,
    ): void {
      const sheet = this.sheets.get(sheetId);
> if (!sheet?.texture || !material.map) return;
  
      const frame = sheet.frames[frameIndex];
      if (!frame) return;
```

---

#### Pattern: `Optional Chaining` at line 582:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Get texture for a sprite sheet
     */
    getTexture(sheetId: string): THREE.Texture | undefined {
> return this.sheets.get(sheetId)?.texture;
    }
  
    // ==========================================================================
```

---

#### Pattern: `: void` at line 592:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Remove a sprite sheet
     */
> removeSheet(id: string): void {
      const sheet = this.sheets.get(id);
      if (sheet?.texture) {
        sheet.texture.dispose();
```

---

#### Pattern: `Optional Chaining` at line 594:14

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     */
    removeSheet(id: string): void {
      const sheet = this.sheets.get(id);
> if (sheet?.texture) {
        sheet.texture.dispose();
      }
      this.sheets.delete(id);
```

---

#### Pattern: `: void` at line 603:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose all resources
     */
> dispose(): void {
      for (const sheet of this.sheets.values()) {
        if (sheet.texture) {
          sheet.texture.dispose();
```

---

### `services/spriteValidation.ts` (1 pattern(s))

#### Pattern: `Optional Chaining` at line 84:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
   * Get file extension from filename
   */
  export function getFileExtension(filename: string): string {
> const ext = filename.split(".").pop()?.toLowerCase() || "";
    return ext;
  }
  
```

---

### `services/svgExport.ts` (7 pattern(s))

#### Pattern: `Optional Chaining` at line 265:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const t = layer.transform;
      if (!t) return "";
  
> const pos = t.position?.value as { x?: number; y?: number } | undefined;
      if (pos && (pos.x || pos.y)) {
        transforms.push(`translate(${pos.x || 0},${pos.y || 0})`);
      }
```

---

#### Pattern: `Optional Chaining` at line 270:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        transforms.push(`translate(${pos.x || 0},${pos.y || 0})`);
      }
  
> const rot = t.rotation?.value as number | undefined;
      if (rot) {
        transforms.push(`rotate(${rot})`);
      }
```

---

#### Pattern: `Optional Chaining` at line 275:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        transforms.push(`rotate(${rot})`);
      }
  
> const scale = t.scale?.value as { x?: number; y?: number } | undefined;
      if (scale && (scale.x !== 100 || scale.y !== 100)) {
        transforms.push(
          `scale(${(scale.x || 100) / 100},${(scale.y || 100) / 100})`,
```

---

#### Pattern: `Optional Chaining` at line 349:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  ): string {
    const composition = {
      settings: {
> width: options?.viewBox?.width ?? 1920,
        height: options?.viewBox?.height ?? 1080,
      },
    };
```

---

#### Pattern: `Optional Chaining` at line 349:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  ): string {
    const composition = {
      settings: {
> width: options?.viewBox?.width ?? 1920,
        height: options?.viewBox?.height ?? 1080,
      },
    };
```

---

#### Pattern: `Optional Chaining` at line 350:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const composition = {
      settings: {
        width: options?.viewBox?.width ?? 1920,
> height: options?.viewBox?.height ?? 1080,
      },
    };
    return svgExportService.exportComposition(composition, layers, options).svg;
```

---

#### Pattern: `Optional Chaining` at line 350:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const composition = {
      settings: {
        width: options?.viewBox?.width ?? 1920,
> height: options?.viewBox?.height ?? 1080,
      },
    };
    return svgExportService.exportComposition(composition, layers, options).svg;
```

---

### `services/svgExtrusion.ts` (12 pattern(s))

#### Pattern: `Optional Chaining` at line 367:43

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (shapes.length === 0) return;
  
        // Get fill color
> const fillColor = shapePath.userData?.style?.fill;
        const color = new THREE.Color(
          fillColor && fillColor !== "none" ? fillColor : "#ffffff",
        );
```

---

#### Pattern: `Optional Chaining` at line 367:50

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (shapes.length === 0) return;
  
        // Get fill color
> const fillColor = shapePath.userData?.style?.fill;
        const color = new THREE.Color(
          fillColor && fillColor !== "none" ? fillColor : "#ffffff",
        );
```

---

#### Pattern: `Optional Chaining` at line 373:45

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        );
  
        // Get fill opacity
> const fillOpacity = shapePath.userData?.style?.fillOpacity ?? 1;
  
        // Get stroke
        const strokeColor = shapePath.userData?.style?.stroke;
```

---

#### Pattern: `Optional Chaining` at line 373:52

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        );
  
        // Get fill opacity
> const fillOpacity = shapePath.userData?.style?.fillOpacity ?? 1;
  
        // Get stroke
        const strokeColor = shapePath.userData?.style?.stroke;
```

---

#### Pattern: `Optional Chaining` at line 376:45

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const fillOpacity = shapePath.userData?.style?.fillOpacity ?? 1;
  
        // Get stroke
> const strokeColor = shapePath.userData?.style?.stroke;
        const strokeWidth = shapePath.userData?.style?.strokeWidth ?? 0;
  
        // Calculate bounds for this path
```

---

#### Pattern: `Optional Chaining` at line 376:52

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const fillOpacity = shapePath.userData?.style?.fillOpacity ?? 1;
  
        // Get stroke
> const strokeColor = shapePath.userData?.style?.stroke;
        const strokeWidth = shapePath.userData?.style?.strokeWidth ?? 0;
  
        // Calculate bounds for this path
```

---

#### Pattern: `Optional Chaining` at line 377:45

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        // Get stroke
        const strokeColor = shapePath.userData?.style?.stroke;
> const strokeWidth = shapePath.userData?.style?.strokeWidth ?? 0;
  
        // Calculate bounds for this path
        const pathBounds = this.calculatePathBounds(shapes);
```

---

#### Pattern: `Optional Chaining` at line 377:52

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        // Get stroke
        const strokeColor = shapePath.userData?.style?.stroke;
> const strokeWidth = shapePath.userData?.style?.strokeWidth ?? 0;
  
        // Calculate bounds for this path
        const pathBounds = this.calculatePathBounds(shapes);
```

---

#### Pattern: `Optional Chaining` at line 756:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        const idx = geom.getIndex();
        if (idx) totalIndices += idx.count;
> else totalIndices += pos?.count ?? 0;
  
        if (!geom.getAttribute("normal")) hasNormals = false;
        if (!geom.getAttribute("uv")) hasUVs = false;
```

---

#### Pattern: `Optional Chaining` at line 1011:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      if (config.centerOrigin !== false) {
        geometry.computeBoundingBox();
        const center = new THREE.Vector3();
> geometry.boundingBox?.getCenter(center);
        geometry.translate(-center.x, -center.y, -center.z);
      }
  
```

---

#### Pattern: `: void` at line 1147:15

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear caches
     */
> clearCache(): void {
      this.documentCache.clear();
      for (const geometry of this.meshCache.values()) {
        geometry.dispose();
```

---

#### Pattern: `: void` at line 1158:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose resources
     */
> dispose(): void {
      this.clearCache();
    }
  }
```

---

### `services/templateBuilder.ts` (6 pattern(s))

#### Pattern: `: void` at line 47:56

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Clear template configuration from a composition
   */
> export function clearTemplate(composition: Composition): void {
    composition.templateConfig = undefined;
  }
  
```

---

#### Pattern: `: void` at line 62:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        "name" | "description" | "author" | "version" | "tags" | "posterFrame"
      >
    >,
> ): void {
    Object.assign(config, updates);
    config.modified = new Date().toISOString();
  }
```

---

#### Pattern: `: void` at line 239:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function reorderExposedProperties(
    config: TemplateConfig,
    propertyIds: string[],
> ): void {
    const reordered: ExposedProperty[] = [];
  
    propertyIds.forEach((id, index) => {
```

---

#### Pattern: `: void` at line 324:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function reorderGroups(
    config: TemplateConfig,
    groupIds: string[],
> ): void {
    groupIds.forEach((id, index) => {
      const group = config.groups.find((g) => g.id === id);
      if (group) {
```

---

#### Pattern: `Optional Chaining` at line 753:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    // Organize properties
    config.exposedProperties.forEach((prop) => {
      if (prop.groupId && groups.has(prop.groupId)) {
> groups.get(prop.groupId)?.push(prop);
      } else {
        ungrouped.push(prop);
      }
```

---

#### Pattern: `Optional Chaining` at line 762:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    // Organize comments
    config.comments.forEach((comment) => {
      if (comment.groupId && groups.has(comment.groupId)) {
> groups.get(comment.groupId)?.push(comment);
      } else {
        ungrouped.push(comment);
      }
```

---

### `services/textAnimator.ts` (3 pattern(s))

#### Pattern: `Optional Chaining` at line 907:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    // Apply Wiggly Selector if enabled
> if (animator.wigglySelector?.enabled) {
      const wigglyInfluence = calculateWigglyInfluence(
        charIndex,
        totalChars,
```

---

#### Pattern: `Optional Chaining` at line 923:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    // Apply Expression Selector if enabled
> if (animator.expressionSelector?.enabled) {
      influence = calculateExpressionInfluence(
        charIndex,
        totalChars,
```

---

#### Pattern: `Optional Chaining` at line 947:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    return {
      ...DEFAULT_WIGGLY_SELECTOR,
      ...overrides,
> randomSeed: overrides?.randomSeed ?? Math.floor(Math.random() * 99999),
    };
  }
  
```

---

### `services/textMeasurement.ts` (1 pattern(s))

#### Pattern: `: void` at line 310:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Cleanup cached resources
   */
> export function cleanup(): void {
    measureCanvas = null;
    measureContext = null;
  }
```

---

### `services/textOnPath.ts` (13 pattern(s))

#### Pattern: `: void` at line 100:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      this.build(resolution);
    }
  
> private build(resolution: number): void {
      this.entries = [];
      let accumulatedLength = 0;
      let prevPoint = this.curve.getPointAt(0);
```

---

#### Pattern: `: void` at line 192:66

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
    /**
     * Set the path from control points
     */
> setPath(controlPoints: ControlPoint[], closed: boolean = false): void {
      if (controlPoints.length < 2) {
        this.curve = null;
        this.arcLengthTable = null;
```

---

#### Pattern: `Optional Chaining` at line 211:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const bezier = new THREE.CubicBezierCurve3(
          new THREE.Vector3(p0.x, -p0.y, z0),
          new THREE.Vector3(
> p0.x + (p0.handleOut?.x ?? 0),
            -(p0.y + (p0.handleOut?.y ?? 0)),
            z0,
          ),
```

---

#### Pattern: `Optional Chaining` at line 212:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          new THREE.Vector3(p0.x, -p0.y, z0),
          new THREE.Vector3(
            p0.x + (p0.handleOut?.x ?? 0),
> -(p0.y + (p0.handleOut?.y ?? 0)),
            z0,
          ),
          new THREE.Vector3(
```

---

#### Pattern: `Optional Chaining` at line 216:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            z0,
          ),
          new THREE.Vector3(
> p1.x + (p1.handleIn?.x ?? 0),
            -(p1.y + (p1.handleIn?.y ?? 0)),
            z1,
          ),
```

---

#### Pattern: `Optional Chaining` at line 217:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          ),
          new THREE.Vector3(
            p1.x + (p1.handleIn?.x ?? 0),
> -(p1.y + (p1.handleIn?.y ?? 0)),
            z1,
          ),
          new THREE.Vector3(p1.x, -p1.y, z1),
```

---

#### Pattern: `Optional Chaining` at line 237:45

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const closingBezier = new THREE.CubicBezierCurve3(
          new THREE.Vector3(lastPoint.x, -lastPoint.y, zLast),
          new THREE.Vector3(
> lastPoint.x + (lastPoint.handleOut?.x ?? 0),
            -(lastPoint.y + (lastPoint.handleOut?.y ?? 0)),
            zLast,
          ),
```

---

#### Pattern: `Optional Chaining` at line 238:47

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          new THREE.Vector3(lastPoint.x, -lastPoint.y, zLast),
          new THREE.Vector3(
            lastPoint.x + (lastPoint.handleOut?.x ?? 0),
> -(lastPoint.y + (lastPoint.handleOut?.y ?? 0)),
            zLast,
          ),
          new THREE.Vector3(
```

---

#### Pattern: `Optional Chaining` at line 242:46

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            zLast,
          ),
          new THREE.Vector3(
> firstPoint.x + (firstPoint.handleIn?.x ?? 0),
            -(firstPoint.y + (firstPoint.handleIn?.y ?? 0)),
            zFirst,
          ),
```

---

#### Pattern: `Optional Chaining` at line 243:48

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          ),
          new THREE.Vector3(
            firstPoint.x + (firstPoint.handleIn?.x ?? 0),
> -(firstPoint.y + (firstPoint.handleIn?.y ?? 0)),
            zFirst,
          ),
          new THREE.Vector3(firstPoint.x, -firstPoint.y, zFirst),
```

---

#### Pattern: `: void` at line 259:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Set path from THREE.js CurvePath directly
     */
> setCurve(curve: THREE.CurvePath<THREE.Vector3>): void {
      this.curve = curve;
      this.arcLengthTable = new ArcLengthTable(curve);
    }
```

---

#### Pattern: `Optional Chaining` at line 268:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Get total path length
     */
    getTotalLength(): number {
> return this.arcLengthTable?.totalLength ?? 0;
    }
  
    /**
```

---

#### Pattern: `: void` at line 430:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose resources
     */
> dispose(): void {
      this.curve = null;
      this.arcLengthTable = null;
    }
```

---

### `services/textShaper.ts` (18 pattern(s))

#### Pattern: `Optional Chaining` at line 257:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const isVariableFont = !!fvar;
  
      const variableAxes: VariableFontAxis[] = [];
> if (isVariableFont && fvar?.axes) {
        for (const axis of fvar.axes) {
          variableAxes.push({
            tag: axis.tag,
```

---

#### Pattern: `Optional Chaining` at line 261:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        for (const axis of fvar.axes) {
          variableAxes.push({
            tag: axis.tag,
> name: axis.name?.en || axis.tag,
            min: axis.minValue,
            default: axis.defaultValue,
            max: axis.maxValue,
```

---

#### Pattern: `Optional Chaining` at line 274:64

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        ascender: font.ascender,
        descender: font.descender,
        // Access internal OpenType tables - not fully typed in opentype.js definitions
> lineGap: (font.tables as { hhea?: { lineGap?: number } })?.hhea?.lineGap ?? 0,
        capHeight: (font.tables as { os2?: { sCapHeight?: number } })?.os2?.sCapHeight ?? font.ascender * 0.7,
        xHeight: (font.tables as { os2?: { sxHeight?: number } })?.os2?.sxHeight ?? font.ascender * 0.5,
        hasKerning:
```

---

#### Pattern: `Optional Chaining` at line 274:70

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        ascender: font.ascender,
        descender: font.descender,
        // Access internal OpenType tables - not fully typed in opentype.js definitions
> lineGap: (font.tables as { hhea?: { lineGap?: number } })?.hhea?.lineGap ?? 0,
        capHeight: (font.tables as { os2?: { sCapHeight?: number } })?.os2?.sCapHeight ?? font.ascender * 0.7,
        xHeight: (font.tables as { os2?: { sxHeight?: number } })?.os2?.sxHeight ?? font.ascender * 0.5,
        hasKerning:
```

---

#### Pattern: `Optional Chaining` at line 275:68

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        descender: font.descender,
        // Access internal OpenType tables - not fully typed in opentype.js definitions
        lineGap: (font.tables as { hhea?: { lineGap?: number } })?.hhea?.lineGap ?? 0,
> capHeight: (font.tables as { os2?: { sCapHeight?: number } })?.os2?.sCapHeight ?? font.ascender * 0.7,
        xHeight: (font.tables as { os2?: { sxHeight?: number } })?.os2?.sxHeight ?? font.ascender * 0.5,
        hasKerning:
          font.kerningPairs !== undefined &&
```

---

#### Pattern: `Optional Chaining` at line 275:73

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        descender: font.descender,
        // Access internal OpenType tables - not fully typed in opentype.js definitions
        lineGap: (font.tables as { hhea?: { lineGap?: number } })?.hhea?.lineGap ?? 0,
> capHeight: (font.tables as { os2?: { sCapHeight?: number } })?.os2?.sCapHeight ?? font.ascender * 0.7,
        xHeight: (font.tables as { os2?: { sxHeight?: number } })?.os2?.sxHeight ?? font.ascender * 0.5,
        hasKerning:
          font.kerningPairs !== undefined &&
```

---

#### Pattern: `Optional Chaining` at line 276:64

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Access internal OpenType tables - not fully typed in opentype.js definitions
        lineGap: (font.tables as { hhea?: { lineGap?: number } })?.hhea?.lineGap ?? 0,
        capHeight: (font.tables as { os2?: { sCapHeight?: number } })?.os2?.sCapHeight ?? font.ascender * 0.7,
> xHeight: (font.tables as { os2?: { sxHeight?: number } })?.os2?.sxHeight ?? font.ascender * 0.5,
        hasKerning:
          font.kerningPairs !== undefined &&
          Object.keys(font.kerningPairs).length > 0,
```

---

#### Pattern: `Optional Chaining` at line 276:69

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Access internal OpenType tables - not fully typed in opentype.js definitions
        lineGap: (font.tables as { hhea?: { lineGap?: number } })?.hhea?.lineGap ?? 0,
        capHeight: (font.tables as { os2?: { sCapHeight?: number } })?.os2?.sCapHeight ?? font.ascender * 0.7,
> xHeight: (font.tables as { os2?: { sxHeight?: number } })?.os2?.sxHeight ?? font.ascender * 0.5,
        hasKerning:
          font.kerningPairs !== undefined &&
          Object.keys(font.kerningPairs).length > 0,
```

---

#### Pattern: `Optional Chaining` at line 324:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          // Use notdef glyph
          const notdef = font.glyphs.get(0);
          const advanceWidth =
> (notdef?.advanceWidth ?? font.unitsPerEm * 0.5) * scale;
          glyphs.push({
            character: char,
            charIndex: i,
```

---

#### Pattern: `Optional Chaining` at line 431:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!glyph) {
          const notdef = font.glyphs.get(0);
          const advanceWidth =
> (notdef?.advanceWidth ?? font.unitsPerEm * 0.5) * scale;
          glyphs.push({
            character: char,
            charIndex: i,
```

---

#### Pattern: `Optional Chaining` at line 518:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      try {
        const shaped = this.shapeSync(text, fontFamily, {
          fontSize,
> kern: options?.kern ?? true,
          letterSpacing: options?.letterSpacing ?? 0,
        });
        return shaped.glyphs.map((g) => g.xAdvance);
```

---

#### Pattern: `Optional Chaining` at line 519:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const shaped = this.shapeSync(text, fontFamily, {
          fontSize,
          kern: options?.kern ?? true,
> letterSpacing: options?.letterSpacing ?? 0,
        });
        return shaped.glyphs.map((g) => g.xAdvance);
      } catch {
```

---

#### Pattern: `Optional Chaining` at line 540:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      try {
        const shaped = this.shapeSync(text, fontFamily, {
          fontSize,
> kern: options?.kern ?? true,
          letterSpacing: options?.letterSpacing ?? 0,
        });
        return shaped.glyphs.map((g) => g.x);
```

---

#### Pattern: `Optional Chaining` at line 541:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const shaped = this.shapeSync(text, fontFamily, {
          fontSize,
          kern: options?.kern ?? true,
> letterSpacing: options?.letterSpacing ?? 0,
        });
        return shaped.glyphs.map((g) => g.x);
      } catch {
```

---

#### Pattern: `Optional Chaining` at line 594:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     */
    getFontMetrics(fontFamily: string): FontMetrics | null {
      const cached = fontCache.get(fontFamily.toLowerCase());
> return cached?.metrics ?? null;
    }
  
    /**
```

---

#### Pattern: `: void` at line 600:15

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear all caches
     */
> clearCache(): void {
      fontCache.clear();
      shapingCache.clear();
      logger.debug("TextShaper caches cleared");
```

---

#### Pattern: `: void` at line 609:22

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear shaping cache only (keep fonts)
     */
> clearShapingCache(): void {
      shapingCache.clear();
    }
  
```

---

#### Pattern: `: void` at line 635:61

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return `${fontFamily.toLowerCase()}:${opts.fontSize}:${opts.kern}:${opts.letterSpacing}:${text}`;
    }
  
> private addToShapingCache(key: string, result: ShapedText): void {
      // Evict oldest entries if cache is full
      if (shapingCache.size >= MAX_SHAPING_CACHE_SIZE) {
        const firstKey = shapingCache.keys().next().value;
```

---

### `services/textToVector.ts` (21 pattern(s))

#### Pattern: `: void` at line 111:65

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Register a font URL for a font family name
   */
> export function registerFontUrl(fontFamily: string, url: string): void {
    fontUrlMap.set(fontFamily.toLowerCase(), url);
  }
  
```

---

#### Pattern: `: void` at line 160:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Clear font cache
   */
> export function clearFontCache(): void {
    fontCache.clear();
  }
  
```

---

#### Pattern: `Optional Chaining` at line 394:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    const text = textData.text || "";
    const fontFamily = textData.font || "Arial";
> const fontSize = options?.fontSize ?? textData.fontSize ?? 72;
  
    const result = await textToVector(text, fontFamily, { ...options, fontSize });
  
```

---

#### Pattern: `Optional Chaining` at line 399:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const result = await textToVector(text, fontFamily, { ...options, fontSize });
  
    const layers: Partial<Layer>[] = [];
> const groupByCharacter = options?.groupByCharacter ?? true;
  
    const layerX = (textLayer.transform?.position?.value as any)?.x ?? 0;
    const layerY = (textLayer.transform?.position?.value as any)?.y ?? 0;
```

---

#### Pattern: `Optional Chaining` at line 401:38

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    const layers: Partial<Layer>[] = [];
    const groupByCharacter = options?.groupByCharacter ?? true;
  
> const layerX = (textLayer.transform?.position?.value as any)?.x ?? 0;
    const layerY = (textLayer.transform?.position?.value as any)?.y ?? 0;
  
    if (groupByCharacter) {
```

---

#### Pattern: `Optional Chaining` at line 401:48

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    const layers: Partial<Layer>[] = [];
    const groupByCharacter = options?.groupByCharacter ?? true;
  
> const layerX = (textLayer.transform?.position?.value as any)?.x ?? 0;
    const layerY = (textLayer.transform?.position?.value as any)?.y ?? 0;
  
    if (groupByCharacter) {
```

---

#### Pattern: `Optional Chaining` at line 401:63

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    const layers: Partial<Layer>[] = [];
    const groupByCharacter = options?.groupByCharacter ?? true;
  
> const layerX = (textLayer.transform?.position?.value as any)?.x ?? 0;
    const layerY = (textLayer.transform?.position?.value as any)?.y ?? 0;
  
    if (groupByCharacter) {
```

---

#### Pattern: `Optional Chaining` at line 402:38

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    const groupByCharacter = options?.groupByCharacter ?? true;
  
    const layerX = (textLayer.transform?.position?.value as any)?.x ?? 0;
> const layerY = (textLayer.transform?.position?.value as any)?.y ?? 0;
  
    if (groupByCharacter) {
      for (const charGroup of result.characters) {
```

---

#### Pattern: `Optional Chaining` at line 402:48

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    const groupByCharacter = options?.groupByCharacter ?? true;
  
    const layerX = (textLayer.transform?.position?.value as any)?.x ?? 0;
> const layerY = (textLayer.transform?.position?.value as any)?.y ?? 0;
  
    if (groupByCharacter) {
      for (const charGroup of result.characters) {
```

---

#### Pattern: `Optional Chaining` at line 402:63

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit
- **Type Info:** Type assertion to 'any'

**Code:**
```typescript
    const groupByCharacter = options?.groupByCharacter ?? true;
  
    const layerX = (textLayer.transform?.position?.value as any)?.x ?? 0;
> const layerY = (textLayer.transform?.position?.value as any)?.y ?? 0;
  
    if (groupByCharacter) {
      for (const charGroup of result.characters) {
```

---

#### Pattern: `Optional Chaining` at line 413:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const splineData: SplineData = {
          pathData: "",
          controlPoints,
> closed: charGroup.paths[0]?.closed ?? false,
          stroke: "#ffffff",
          strokeWidth: 2,
          fill: "transparent",
```

---

#### Pattern: `Optional Chaining` at line 434:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              "position",
            ),
            rotation:
> textLayer.transform?.rotation ??
              createAnimatableProperty("Rotation", 0, "number"),
            scale:
              textLayer.transform?.scale ??
```

---

#### Pattern: `Optional Chaining` at line 437:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              textLayer.transform?.rotation ??
              createAnimatableProperty("Rotation", 0, "number"),
            scale:
> textLayer.transform?.scale ??
              createAnimatableProperty("Scale", { x: 100, y: 100 }, "position"),
            anchorPoint: createAnimatableProperty(
              "Anchor Point",
```

---

#### Pattern: `Optional Chaining` at line 455:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const splineData: SplineData = {
        pathData: "",
        controlPoints: allControlPoints,
> closed: result.allPaths[0]?.closed ?? false,
        stroke: "#ffffff",
        strokeWidth: 2,
        fill: "transparent",
```

---

#### Pattern: `Optional Chaining` at line 476:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            "position",
          ),
          rotation:
> textLayer.transform?.rotation ??
            createAnimatableProperty("Rotation", 0, "number"),
          scale:
            textLayer.transform?.scale ??
```

---

#### Pattern: `Optional Chaining` at line 479:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            textLayer.transform?.rotation ??
            createAnimatableProperty("Rotation", 0, "number"),
          scale:
> textLayer.transform?.scale ??
            createAnimatableProperty("Scale", { x: 100, y: 100 }, "position"),
          anchorPoint: createAnimatableProperty(
            "Anchor Point",
```

---

#### Pattern: `Optional Chaining` at line 575:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    options?: TextToVectorFromUrlOptions,
  ): Promise<TextToVectorResult> {
    const opts = {
> x: options?.x ?? 0,
      y: options?.y ?? 0,
      kerning: options?.kerning ?? true,
      letterSpacing: options?.letterSpacing ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 576:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  ): Promise<TextToVectorResult> {
    const opts = {
      x: options?.x ?? 0,
> y: options?.y ?? 0,
      kerning: options?.kerning ?? true,
      letterSpacing: options?.letterSpacing ?? 0,
    };
```

---

#### Pattern: `Optional Chaining` at line 577:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const opts = {
      x: options?.x ?? 0,
      y: options?.y ?? 0,
> kerning: options?.kerning ?? true,
      letterSpacing: options?.letterSpacing ?? 0,
    };
  
```

---

#### Pattern: `Optional Chaining` at line 578:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      x: options?.x ?? 0,
      y: options?.y ?? 0,
      kerning: options?.kerning ?? true,
> letterSpacing: options?.letterSpacing ?? 0,
    };
  
    // Load font from URL
```

---

#### Pattern: `Optional Chaining` at line 660:38

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      characters,
      bounds,
      text,
> fontFamily: font.names.fontFamily?.en || "Unknown",
      fontSize,
    };
  }
```

---

### `services/timelineSnap.ts` (7 pattern(s))

#### Pattern: `Optional Chaining` at line 111:50

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    // Audio beat snapping
> if (config.snapToBeats && context.audioAnalysis?.onsets) {
      for (const onset of context.audioAnalysis.onsets) {
        const distance = Math.abs(frame - onset);
        if (distance <= thresholdFrames) {
```

---

#### Pattern: `Optional Chaining` at line 125:45

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    // Audio peak snapping
> if (config.snapToPeaks && context.peakData?.indices) {
      for (const peakFrame of context.peakData.indices) {
        const distance = Math.abs(frame - peakFrame);
        if (distance <= thresholdFrames) {
```

---

#### Pattern: `: void` at line 216:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    thresholdFrames: number,
    pixelsPerFrame: number,
    targets: SnapResult[],
> ): void {
    const properties: AnimatableProperty<any>[] = [
      layer.transform.position,
      layer.transform.scale,
```

---

#### Pattern: `Optional Chaining` at line 250:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
   * Get all beat frames from audio analysis
   */
  export function getBeatFrames(audioAnalysis: AudioAnalysis | null): number[] {
> return audioAnalysis?.onsets ?? [];
  }
  
  /**
```

---

#### Pattern: `Optional Chaining` at line 257:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
   * Get all peak frames from peak data
   */
  export function getPeakFrames(peakData: PeakData | null): number[] {
> return peakData?.indices ?? [];
  }
  
  /**
```

---

#### Pattern: `Optional Chaining` at line 268:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    audioAnalysis: AudioAnalysis | null,
    thresholdFrames: number = 2,
  ): boolean {
> if (!audioAnalysis?.onsets) return false;
  
    return audioAnalysis.onsets.some(
      (onset) => Math.abs(frame - onset) <= thresholdFrames,
```

---

#### Pattern: `Optional Chaining` at line 282:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    frame: number,
    audioAnalysis: AudioAnalysis | null,
  ): number | null {
> if (!audioAnalysis?.onsets || audioAnalysis.onsets.length === 0) {
      return null;
    }
  
```

---

### `services/timelineWaveform.ts` (3 pattern(s))

#### Pattern: `: void` at line 215:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Clear waveform cache for an ID
   */
> export function clearWaveformCache(id?: string): void {
    if (id) {
      waveformCache.delete(id);
    } else {
```

---

#### Pattern: `: void` at line 234:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    canvas: HTMLCanvasElement,
    waveform: WaveformData,
    options: WaveformRenderOptions,
> ): void {
    const ctx = canvas.getContext("2d");
    if (!ctx) return;
  
```

---

#### Pattern: `: void` at line 396:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    canvas: HTMLCanvasElement,
    waveform: WaveformData,
    config: TimelineWaveformConfig,
> ): void {
    const {
      layerColor,
      startFrame,
```

---

### `services/trackPointService.ts` (21 pattern(s))

#### Pattern: `: void` at line 141:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Delete selected tracks
   */
> export function deleteSelectedTracks(): void {
    for (const trackId of state.selectedTrackIds) {
      state.tracks.delete(trackId);
    }
```

---

#### Pattern: `: void` at line 158:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    x: number,
    y: number,
    confidence: number = 1.0,
> ): void {
    const track = state.tracks.get(trackId);
    if (track && !track.locked) {
      track.positions.set(frame, { x, y, confidence });
```

---

#### Pattern: `Optional Chaining` at line 173:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    frame: number,
  ): { x: number; y: number; confidence: number } | null {
    const track = state.tracks.get(trackId);
> return track?.positions.get(frame) ?? null;
  }
  
  /**
```

---

#### Pattern: `: void` at line 179:68

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Remove track position at a specific frame
   */
> export function removeTrackPosition(trackId: string, frame: number): void {
    const track = state.tracks.get(trackId);
    if (track && !track.locked) {
      track.positions.delete(frame);
```

---

#### Pattern: `: void` at line 251:72

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Select a track
   */
> export function selectTrack(trackId: string, additive: boolean = false): void {
    if (!additive) {
      state.selectedTrackIds.clear();
    }
```

---

#### Pattern: `: void` at line 267:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Deselect a track
   */
> export function deselectTrack(trackId: string): void {
    state.selectedTrackIds.delete(trackId);
    if (state.activeTrackId === trackId) {
      state.activeTrackId = null;
```

---

#### Pattern: `: void` at line 282:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Clear all track selections
   */
> export function clearSelection(): void {
    for (const track of state.tracks.values()) {
      track.selected = false;
    }
```

---

#### Pattern: `: void` at line 293:55

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Set active track (for editing)
   */
> export function setActiveTrack(trackId: string | null): void {
    state.activeTrackId = trackId;
  }
  
```

---

#### Pattern: `: void` at line 300:65

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Lock/unlock a track
   */
> export function setTrackLocked(trackId: string, locked: boolean): void {
    const track = state.tracks.get(trackId);
    if (track) {
      track.locked = locked;
```

---

#### Pattern: `: void` at line 310:59

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Rename a track
   */
> export function renameTrack(trackId: string, name: string): void {
    const track = state.tracks.get(trackId);
    if (track) {
      track.name = name;
```

---

#### Pattern: `: void` at line 320:62

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Set track color
   */
> export function setTrackColor(trackId: string, color: string): void {
    const track = state.tracks.get(trackId);
    if (track) {
      track.color = color;
```

---

#### Pattern: `: void` at line 330:58

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Set ground plane for 3D alignment
   */
> export function setGroundPlane(plane: GroundPlane | null): void {
    state.groundPlane = plane;
  }
  
```

---

#### Pattern: `Optional Chaining` at line 346:14

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const track2 = state.tracks.get(trackId2);
    const track3 = state.tracks.get(trackId3);
  
> if (!track1?.position3D || !track2?.position3D || !track3?.position3D) {
      console.warn("Cannot define ground plane: tracks must have 3D positions");
      return null;
    }
```

---

#### Pattern: `Optional Chaining` at line 346:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const track2 = state.tracks.get(trackId2);
    const track3 = state.tracks.get(trackId3);
  
> if (!track1?.position3D || !track2?.position3D || !track3?.position3D) {
      console.warn("Cannot define ground plane: tracks must have 3D positions");
      return null;
    }
```

---

#### Pattern: `Optional Chaining` at line 346:60

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const track2 = state.tracks.get(trackId2);
    const track3 = state.tracks.get(trackId3);
  
> if (!track1?.position3D || !track2?.position3D || !track3?.position3D) {
      console.warn("Cannot define ground plane: tracks must have 3D positions");
      return null;
    }
```

---

#### Pattern: `Optional Chaining` at line 393:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
   */
  export function setOrigin3D(trackId: string): boolean {
    const track = state.tracks.get(trackId);
> if (!track?.position3D) {
      console.warn("Cannot set origin: track must have 3D position");
      return false;
    }
```

---

#### Pattern: `: void` at line 405:60

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
  /**
   * Import tracks from TrackPoint2D array (from camera tracking import)
   */
> export function importTrackPoints2D(points: TrackPoint2D[]): void {
    // Group points by track ID prefix
    const trackGroups = new Map<string, TrackPoint2D[]>();
  
```

---

#### Pattern: `Optional Chaining` at line 416:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      if (!trackGroups.has(trackId)) {
        trackGroups.set(trackId, []);
      }
> trackGroups.get(trackId)?.push(point);
    }
  
    // Create tracks from groups
```

---

#### Pattern: `Optional Chaining` at line 424:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const track = createTrack({
        name: `Imported ${baseId}`,
        type: "imported",
> color: trackPoints[0]?.color ?? generateTrackColor(),
      });
  
      for (const point of trackPoints) {
```

---

#### Pattern: `: void` at line 440:60

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
  /**
   * Import 3D track points (from camera tracking import)
   */
> export function importTrackPoints3D(points: TrackPoint3D[]): void {
    for (const point of points) {
      const track = createTrack({
        name: point.id,
```

---

#### Pattern: `: void` at line 454:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Clear all tracks
   */
> export function clearAllTracks(): void {
    state.tracks.clear();
    state.selectedTrackIds.clear();
    state.activeTrackId = null;
```

---

### `services/vectorLOD.ts` (2 pattern(s))

#### Pattern: `: void` at line 157:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear LOD cache for a specific layer or all layers
     */
> clearCache(layerId?: string): void {
      if (layerId) {
        this.lodCache.delete(layerId);
      } else {
```

---

#### Pattern: `Optional Chaining` at line 377:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
     * Check if LOD should be used for a spline
     */
    shouldUseLOD(splineData: SplineData, context: LODContext): boolean {
> if (!splineData.lod?.enabled) return false;
  
      const pointCount = splineData.controlPoints.length;
  
```

---

### `services/vectorize.ts` (8 pattern(s))

#### Pattern: `Optional Chaining` at line 217:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const memCheck = canAllocate(VRAM_ESTIMATES["model:starvector"] || 2500);
      if (!memCheck.canProceed) {
        throw new Error(
> memCheck.warning?.message || "Insufficient GPU memory for StarVector",
        );
      }
  
```

---

#### Pattern: `Optional Chaining` at line 254:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Check memory before loading
      const memCheck = canAllocate(VRAM_ESTIMATES["model:starvector"] || 2500);
      if (!memCheck.canProceed) {
> throw new Error(memCheck.warning?.message || "Insufficient GPU memory");
      }
  
      try {
```

---

#### Pattern: `Optional Chaining` at line 258:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      try {
> onProgress?.("downloading", "Downloading StarVector model (~2.5GB)...");
  
        const response = await fetch(
          `${this.baseUrl}/lattice/vectorize/download-starvector`,
```

---

#### Pattern: `Optional Chaining` at line 285:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          },
        );
  
> onProgress?.("complete", "StarVector model loaded");
        logger.info("StarVector model loaded");
      } catch (error) {
        logger.error("Failed to load StarVector:", error);
```

---

#### Pattern: `Optional Chaining` at line 342:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      if (mode === "ai") {
        // Check if StarVector is loaded
> onProgress?.("checking", "Checking StarVector model...");
        const status = await this.getStatus();
  
        if (!status.starvector.loaded) {
```

---

#### Pattern: `Optional Chaining` at line 347:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        if (!status.starvector.loaded) {
          if (!status.starvector.downloaded) {
> onProgress?.("downloading", "Downloading StarVector model...");
          }
          await this.loadStarVectorModel(onProgress);
        }
```

---

#### Pattern: `Optional Chaining` at line 352:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          await this.loadStarVectorModel(onProgress);
        }
  
> onProgress?.("vectorizing", "Running AI vectorization...");
        return await this.vectorizeWithAI(imageDataUrl, options.aiOptions);
      }
  
```

---

#### Pattern: `Optional Chaining` at line 357:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Default to VTracer (fast, works with any image)
> onProgress?.("tracing", "Tracing image to vectors...");
      return await this.trace(imageDataUrl, options.traceOptions);
    }
  }
```

---

### `services/video/transitions.ts` (6 pattern(s))

#### Pattern: `: void` at line 149:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    fromData: ImageData,
    toData: ImageData,
    progress: number,
> ): void {
    const data = output.createImageData(fromData.width, fromData.height);
    const from = fromData.data;
    const to = toData.data;
```

---

#### Pattern: `: void` at line 174:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    toData: ImageData,
    progress: number,
    blendFn: (a: number, b: number) => number,
> ): void {
    const data = output.createImageData(fromData.width, fromData.height);
    const from = fromData.data;
    const to = toData.data;
```

---

#### Pattern: `: void` at line 205:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    toData: ImageData,
    progress: number,
    seed: number = 12345,
> ): void {
    const data = output.createImageData(fromData.width, fromData.height);
    const from = fromData.data;
    const to = toData.data;
```

---

#### Pattern: `: void` at line 246:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    progress: number,
    direction: "left" | "right" | "up" | "down",
    softness: number = 0.1,
> ): void {
    const { width, height } = fromData;
    const data = output.createImageData(width, height);
    const from = fromData.data;
```

---

#### Pattern: `: void` at line 315:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    centerX: number = 0.5,
    centerY: number = 0.5,
    softness: number = 0.05,
> ): void {
    const { width, height } = fromData;
    const data = output.createImageData(width, height);
    const from = fromData.data;
```

---

#### Pattern: `: void` at line 368:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    centerX: number = 0.5,
    centerY: number = 0.5,
    softness: number = 0.1,
> ): void {
    const { width, height } = fromData;
    const data = output.createImageData(width, height);
    const from = fromData.data;
```

---

### `services/videoDecoder.ts` (12 pattern(s))

#### Pattern: `: void` at line 115:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return frame || null;
    }
  
> set(frameNumber: number, frame: VideoFrameInfo): void {
      // Evict if at capacity
      while (this.cache.size >= this.maxSize && this.accessOrder.length > 0) {
        const oldest = this.accessOrder.shift()!;
```

---

#### Pattern: `: void` at line 134:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return this.cache.has(frameNumber);
    }
  
> clear(): void {
      for (const frame of this.cache.values()) {
        frame.bitmap.close();
      }
```

---

#### Pattern: `Optional Chaining` at line 341:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Clamp frame number
> const maxFrame = (this.videoInfo?.frameCount ?? 1) - 1;
      const clampedFrame = Math.max(0, Math.min(frameNumber, maxFrame));
  
      // Check cache first
```

---

#### Pattern: `Optional Chaining` at line 422:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            resolve({
              frameNumber,
              timestamp,
> width: this.videoInfo?.width ?? 0,
              height: this.videoInfo?.height ?? 0,
              bitmap,
            });
```

---

#### Pattern: `Optional Chaining` at line 423:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              frameNumber,
              timestamp,
              width: this.videoInfo?.width ?? 0,
> height: this.videoInfo?.height ?? 0,
              bitmap,
            });
          } catch (error) {
```

---

#### Pattern: `: void` at line 440:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Handle decoded frame from WebCodecs
     */
> private handleDecodedFrame(frame: VideoFrame): void {
      this.decodedFrames.push(frame);
    }
  
```

---

#### Pattern: `Optional Chaining` at line 457:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      const start = Math.max(0, startFrame);
> const maxFrame = (this.videoInfo?.frameCount ?? 1) - 1;
      const end = Math.min(endFrame, maxFrame);
  
      const promises: Promise<void>[] = [];
```

---

#### Pattern: `: void` at line 512:15

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear the frame cache
     */
> clearCache(): void {
      this.frameCache.clear();
      logger.debug("Frame cache cleared");
    }
```

---

#### Pattern: `: void` at line 540:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose of all resources
     */
> dispose(): void {
      // Clear cache
      this.frameCache.clear();
  
```

---

#### Pattern: `Optional Chaining` at line 614:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          const oldest = this.decoders.keys().next().value;
          if (oldest) {
            const oldDecoder = this.decoders.get(oldest);
> oldDecoder?.dispose();
            this.decoders.delete(oldest);
          }
        }
```

---

#### Pattern: `: void` at line 630:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Remove a specific decoder
     */
> removeDecoder(videoUrl: string): void {
      const decoder = this.decoders.get(videoUrl);
      if (decoder) {
        decoder.dispose();
```

---

#### Pattern: `: void` at line 641:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear all decoders
     */
> clear(): void {
      for (const decoder of this.decoders.values()) {
        decoder.dispose();
      }
```

---

### `services/visionAuthoring/MotionIntentResolver.ts` (9 pattern(s))

#### Pattern: `Optional Chaining` at line 85:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    constructor(config?: Partial<VisionModelConfig>) {
      this.config = {
> modelId: config?.modelId ?? "rule-based",
        apiEndpoint: config?.apiEndpoint,
        apiKey: config?.apiKey,
        maxTokens: config?.maxTokens ?? 2048,
```

---

#### Pattern: `Optional Chaining` at line 86:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    constructor(config?: Partial<VisionModelConfig>) {
      this.config = {
        modelId: config?.modelId ?? "rule-based",
> apiEndpoint: config?.apiEndpoint,
        apiKey: config?.apiKey,
        maxTokens: config?.maxTokens ?? 2048,
        temperature: config?.temperature ?? 0.7,
```

---

#### Pattern: `Optional Chaining` at line 87:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      this.config = {
        modelId: config?.modelId ?? "rule-based",
        apiEndpoint: config?.apiEndpoint,
> apiKey: config?.apiKey,
        maxTokens: config?.maxTokens ?? 2048,
        temperature: config?.temperature ?? 0.7,
      };
```

---

#### Pattern: `Optional Chaining` at line 88:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        modelId: config?.modelId ?? "rule-based",
        apiEndpoint: config?.apiEndpoint,
        apiKey: config?.apiKey,
> maxTokens: config?.maxTokens ?? 2048,
        temperature: config?.temperature ?? 0.7,
      };
    }
```

---

#### Pattern: `Optional Chaining` at line 89:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        apiEndpoint: config?.apiEndpoint,
        apiKey: config?.apiKey,
        maxTokens: config?.maxTokens ?? 2048,
> temperature: config?.temperature ?? 0.7,
      };
    }
  
```

---

#### Pattern: `Optional Chaining` at line 416:45

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          );
        }
  
> const content = result.data.choices[0]?.message?.content;
  
        return this.parseAIResponse(content, prompt);
      } catch (error) {
```

---

#### Pattern: `Optional Chaining` at line 416:54

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          );
        }
  
> const content = result.data.choices[0]?.message?.content;
  
        return this.parseAIResponse(content, prompt);
      } catch (error) {
```

---

#### Pattern: `Optional Chaining` at line 483:53

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          );
        }
  
> const responseContent = result.data.content[0]?.text;
  
        return this.parseAIResponse(responseContent, prompt);
      } catch (error) {
```

---

#### Pattern: `: void` at line 597:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update configuration
     */
> setConfig(config: Partial<VisionModelConfig>): void {
      this.config = { ...this.config, ...config };
    }
  }
```

---

### `services/webgpuRenderer.ts` (4 pattern(s))

#### Pattern: `Optional Chaining` at line 1254:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        params.intensity,
        params.threshold ?? 0.5,
        0, // padding
> params.color?.r ?? 1,
        params.color?.g ?? 1,
        params.color?.b ?? 1,
        1, // alpha
```

---

#### Pattern: `Optional Chaining` at line 1255:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        params.threshold ?? 0.5,
        0, // padding
        params.color?.r ?? 1,
> params.color?.g ?? 1,
        params.color?.b ?? 1,
        1, // alpha
      ]);
```

---

#### Pattern: `Optional Chaining` at line 1256:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        0, // padding
        params.color?.r ?? 1,
        params.color?.g ?? 1,
> params.color?.b ?? 1,
        1, // alpha
      ]);
  
```

---

#### Pattern: `: void` at line 1451:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose of WebGPU resources
     */
> dispose(): void {
      if (this.capabilities.device) {
        this.capabilities.device.destroy();
      }
```

---

### `services/workerPool.ts` (9 pattern(s))

#### Pattern: `: void` at line 76:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Spawn initial workers
     */
> private spawnWorkers(): void {
      for (let i = 0; i < this.config.workerCount; i++) {
        this.spawnWorker();
      }
```

---

#### Pattern: `: void` at line 85:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Spawn a single worker
     */
> private spawnWorker(): void {
      const worker = new Worker(
        new URL("@/workers/computeWorker.ts", import.meta.url),
        { type: "module" },
```

---

#### Pattern: `: void` at line 115:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    private handleWorkerMessage(
      state: WorkerState,
      response: WorkerResponse,
> ): void {
      state.busy = false;
      state.taskCount++;
  
```

---

#### Pattern: `: void` at line 142:67

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Handle worker error
     */
> private handleWorkerError(state: WorkerState, error: ErrorEvent): void {
      state.busy = false;
  
      // Reject all pending tasks for this worker
```

---

#### Pattern: `: void` at line 157:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Recycle a worker (terminate and spawn new)
     */
> private recycleWorker(state: WorkerState): void {
      const index = this.workers.indexOf(state);
      if (index > -1) {
        state.worker.terminate();
```

---

#### Pattern: `: void` at line 190:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Process the task queue
     */
> private processQueue(): void {
      while (this.taskQueue.length > 0) {
        const worker = this.getAvailableWorker();
        if (!worker) break;
```

---

#### Pattern: `: void` at line 208:4

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      message: WorkerMessage,
      resolve: (r: unknown) => void,
      reject: (e: Error) => void,
> ): void {
      state.busy = true;
  
      const pending: PendingTask = {
```

---

#### Pattern: `: void` at line 350:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Dispose all workers
     */
> dispose(): void {
      this.isDisposed = true;
  
      // Reject all pending tasks
```

---

#### Pattern: `: void` at line 392:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Dispose the global worker pool
   */
> export function disposeWorkerPool(): void {
    if (globalWorkerPool) {
      globalWorkerPool.dispose();
      globalWorkerPool = null;
```

---

### `stores/animationStore/index.ts` (19 pattern(s))

#### Pattern: `: void` at line 98:58

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set work area bounds
       */
> setWorkArea(start: number | null, end: number | null): void {
        this.workAreaStart = start;
        this.workAreaEnd = end;
      },
```

---

#### Pattern: `: void` at line 106:20

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Clear work area
       */
> clearWorkArea(): void {
        this.workAreaStart = null;
        this.workAreaEnd = null;
      },
```

---

#### Pattern: `: void` at line 114:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set loop playback mode
       */
> setLoopPlayback(loop: boolean): void {
        this.loopPlayback = loop;
      },
  
```

---

#### Pattern: `: void` at line 125:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Start playback
       */
> play(store: AnimationStoreAccess): void {
        playImpl(store);
      },
  
```

---

#### Pattern: `: void` at line 132:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Pause playback
       */
> pause(store: AnimationStoreAccess): void {
        pauseImpl(store);
      },
  
```

---

#### Pattern: `: void` at line 139:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Toggle playback state
       */
> togglePlayback(store: AnimationStoreAccess): void {
        togglePlaybackImpl(store);
      },
  
```

---

#### Pattern: `: void` at line 146:57

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set current frame
       */
> setFrame(store: AnimationStoreAccess, frame: number): void {
        setFrameImpl(store, frame);
      },
  
```

---

#### Pattern: `: void` at line 153:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Advance to next frame
       */
> nextFrame(store: AnimationStoreAccess): void {
        nextFrameImpl(store);
      },
  
```

---

#### Pattern: `: void` at line 160:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Go to previous frame
       */
> prevFrame(store: AnimationStoreAccess): void {
        prevFrameImpl(store);
      },
  
```

---

#### Pattern: `: void` at line 167:55

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Jump forward or backward by N frames
       */
> jumpFrames(store: AnimationStoreAccess, n: number): void {
        jumpFramesImpl(store, n);
      },
  
```

---

#### Pattern: `: void` at line 178:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Jump to first frame
       */
> goToStart(store: AnimationStoreAccess): void {
        goToStartImpl(store);
      },
  
```

---

#### Pattern: `: void` at line 185:41

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Jump to last frame
       */
> goToEnd(store: AnimationStoreAccess): void {
        goToEndImpl(store);
      },
  
```

---

#### Pattern: `: void` at line 192:70

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Jump to the next keyframe (K key behavior)
       */
> jumpToNextKeyframe(store: AnimationStoreAccess, layerId?: string): void {
        jumpToNextKeyframeImpl(store, layerId);
      },
  
```

---

#### Pattern: `: void` at line 199:70

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Jump to the previous keyframe (J key behavior)
       */
> jumpToPrevKeyframe(store: AnimationStoreAccess, layerId?: string): void {
        jumpToPrevKeyframeImpl(store, layerId);
      },
  
```

---

#### Pattern: `: void` at line 242:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set snap configuration
       */
> setSnapConfig(config: Partial<SnapConfig>): void {
        this.snapConfig = { ...this.snapConfig, ...config };
      },
  
```

---

#### Pattern: `: void` at line 249:21

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Toggle snapping on/off
       */
> toggleSnapping(): void {
        this.snapConfig.enabled = !this.snapConfig.enabled;
      },
  
```

---

#### Pattern: `: void` at line 264:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
          | "peaks"
          | "layerBounds"
          | "playhead",
> ): void {
        // Type-safe snap toggle mapping
        type BooleanSnapKey =
          | "snapToGrid"
```

---

#### Pattern: `: void` at line 293:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
       * Set timeline zoom level
       * @param zoom Zoom level (0.1 to 10, where 1.0 = 100%)
       */
> setTimelineZoom(zoom: number): void {
        this.timelineZoom = Math.max(0.1, Math.min(10, zoom));
      },
  
```

---

#### Pattern: `Optional Chaining` at line 313:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
       */
      getFrameState(store: FrameEvaluationAccess, frame?: number): FrameState {
        const comp = store.getActiveComp();
> const targetFrame = frame ?? comp?.currentFrame ?? 0;
  
        // Get audio reactive data from audioStore
        const audioStore = useAudioStore();
```

---

### `stores/animationStore/navigation.ts` (4 pattern(s))

#### Pattern: `: void` at line 17:55

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Jump to first frame
   */
> export function goToStart(store: AnimationStoreAccess): void {
    const comp = store.getActiveComp();
    if (!comp) return;
    if (comp.currentFrame !== 0) {
```

---

#### Pattern: `: void` at line 30:53

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Jump to last frame
   */
> export function goToEnd(store: AnimationStoreAccess): void {
    const comp = store.getActiveComp();
    if (!comp) return;
    const lastFrame = comp.settings.frameCount - 1;
```

---

#### Pattern: `: void` at line 49:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function jumpToNextKeyframe(
    store: AnimationStoreAccess,
    layerId?: string,
> ): void {
    const layerIds = layerId
      ? [layerId]
      : useSelectionStore().selectedLayerIds.length > 0
```

---

#### Pattern: `: void` at line 75:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function jumpToPrevKeyframe(
    store: AnimationStoreAccess,
    layerId?: string,
> ): void {
    const layerIds = layerId
      ? [layerId]
      : useSelectionStore().selectedLayerIds.length > 0
```

---

### `stores/animationStore/playback.ts` (9 pattern(s))

#### Pattern: `: void` at line 15:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Start playback
   */
> export function play(store: AnimationStoreAccess): void {
    const playback = usePlaybackStore();
    if (playback.isPlaying) return;
  
```

---

#### Pattern: `: void` at line 37:51

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Pause playback
   */
> export function pause(store: AnimationStoreAccess): void {
    const playback = usePlaybackStore();
    playback.stop();
    // Note: playbackStore.isPlaying is already set to false by playback.stop()
```

---

#### Pattern: `: void` at line 46:60

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Toggle playback state
   */
> export function togglePlayback(store: AnimationStoreAccess): void {
    const playback = usePlaybackStore();
    if (playback.isPlaying) {
      pause(store);
```

---

#### Pattern: `: void` at line 59:69

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * Set current frame
   * Clears temporal effect state when frame changes non-sequentially.
   */
> export function setFrame(store: AnimationStoreAccess, frame: number): void {
    const comp = store.getActiveComp();
    if (!comp) return;
  
```

---

#### Pattern: `isFinite()` at line 64:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    if (!comp) return;
  
    // Validate frame (NaN bypasses Math.max/min)
> if (!Number.isFinite(frame)) return;
  
    const newFrame = Math.max(0, Math.min(frame, comp.settings.frameCount - 1));
  
```

---

#### Pattern: `: void` at line 81:55

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Advance to next frame
   */
> export function nextFrame(store: AnimationStoreAccess): void {
    const comp = store.getActiveComp();
    if (!comp) return;
    if (comp.currentFrame < comp.settings.frameCount - 1) {
```

---

#### Pattern: `: void` at line 92:55

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Go to previous frame
   */
> export function prevFrame(store: AnimationStoreAccess): void {
    const comp = store.getActiveComp();
    if (!comp) return;
    if (comp.currentFrame > 0) {
```

---

#### Pattern: `: void` at line 103:67

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Jump forward or backward by N frames
   */
> export function jumpFrames(store: AnimationStoreAccess, n: number): void {
    const comp = store.getActiveComp();
    if (!comp) return;
  
```

---

#### Pattern: `isFinite()` at line 108:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    if (!comp) return;
  
    // Validate n (NaN bypasses Math.max/min)
> if (!Number.isFinite(n)) return;
  
    const newFrame = Math.max(
      0,
```

---

### `stores/assetStore.ts` (28 pattern(s))

#### Pattern: `: void` at line 348:68

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Update material configuration
       */
> updateMaterial(id: string, updates: Partial<PBRMaterialConfig>): void {
        const stored = this.materials.get(id);
        if (!stored) return;
  
```

---

#### Pattern: `: void` at line 385:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Delete a material
       */
> deleteMaterial(id: string): void {
        this.materials.delete(id);
        if (this.selectedMaterialId === id) {
          this.selectedMaterialId = null;
```

---

#### Pattern: `: void` at line 522:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        svgId: string,
        pathIndex: number,
        config: Partial<SVGLayerConfig>,
> ): void {
        const stored = this.svgDocuments.get(svgId);
        if (!stored || pathIndex >= stored.layerConfigs.length) return;
  
```

---

#### Pattern: `: void` at line 564:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Delete an SVG document
       */
> deleteSvgDocument(id: string): void {
        // Remove from local cache only (svgExtrusionService.clearCache() clears all)
        this.svgDocuments.delete(id);
        if (this.selectedSvgId === id) {
```

---

#### Pattern: `Optional Chaining` at line 670:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          maxInstances,
          material || undefined,
        );
> return result?.mesh || null;
      },
  
      /**
```

---

#### Pattern: `: void` at line 676:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Delete a mesh particle
       */
> deleteMeshParticle(id: string): void {
        meshParticleManager.unregisterMesh(id);
        this.meshParticles.delete(id);
        if (this.selectedMeshParticleId === id) {
```

---

#### Pattern: `Optional Chaining` at line 705:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            columns,
            rows,
            {
> name: options?.name || file.name.replace(/\.[^.]+$/, ""),
              frameRate: options?.frameRate,
            },
          );
```

---

#### Pattern: `Optional Chaining` at line 706:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            rows,
            {
              name: options?.name || file.name.replace(/\.[^.]+$/, ""),
> frameRate: options?.frameRate,
            },
          );
  
```

---

#### Pattern: `Optional Chaining` at line 738:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        options?: { name?: string; showWarnings?: boolean },
      ): Promise<AssetImportResult & { validation?: SpriteValidationResult }> {
        const toastStore = useToastStore();
> const showWarnings = options?.showWarnings ?? true;
  
        // Validate first
        const validation = await loadAndValidateSprite(file);
```

---

#### Pattern: `Optional Chaining` at line 747:64

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          // Handle blocking errors
          this.handleValidationIssues(validation.issues, toastStore, true);
          this.lastError =
> validation.issues.find((i) => i.severity === "error")?.message ||
            "Validation failed";
          return { success: false, error: this.lastError, validation };
        }
```

---

#### Pattern: `Optional Chaining` at line 762:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        if (result.success) {
          toastStore.success(
> `Sprite "${options?.name || file.name}" imported successfully`,
          );
        }
  
```

---

#### Pattern: `Optional Chaining` at line 781:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        AssetImportResult & { validation?: SpritesheetValidationResult }
      > {
        const toastStore = useToastStore();
> const showWarnings = options?.showWarnings ?? true;
  
        // Validate first
        const validation = await loadAndValidateSpritesheet(file, columns, rows);
```

---

#### Pattern: `Optional Chaining` at line 790:64

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          // Handle blocking errors
          this.handleValidationIssues(validation.issues, toastStore, true);
          this.lastError =
> validation.issues.find((i) => i.severity === "error")?.message ||
            "Validation failed";
          return { success: false, error: this.lastError, validation };
        }
```

---

#### Pattern: `Optional Chaining` at line 806:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (result.success && validation.metadata) {
          const meta = validation.metadata;
          toastStore.success(
> `Sprite sheet "${options?.name || file.name}" imported: ${meta.totalFrames} frames (${meta.frameWidth}x${meta.frameHeight}px each)`,
          );
        }
  
```

---

#### Pattern: `: void` at line 820:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        issues: SpriteValidationIssue[],
        toastStore: ReturnType<typeof useToastStore>,
        errorsOnly: boolean = false,
> ): void {
        for (const issue of issues) {
          if (issue.severity === "error") {
            toastStore.error(issue.message);
```

---

#### Pattern: `: void` at line 838:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        name: string,
        frames: number[],
        options?: { frameRate?: number; loop?: boolean; pingPong?: boolean },
> ): void {
        spriteSheetService.addAnimation(sheetId, {
          name,
          frames,
```

---

#### Pattern: `Optional Chaining` at line 842:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        spriteSheetService.addAnimation(sheetId, {
          name,
          frames,
> frameRate: options?.frameRate ?? 24,
          loop: options?.loop ?? true,
          pingPong: options?.pingPong ?? false,
        });
```

---

#### Pattern: `Optional Chaining` at line 843:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          name,
          frames,
          frameRate: options?.frameRate ?? 24,
> loop: options?.loop ?? true,
          pingPong: options?.pingPong ?? false,
        });
      },
```

---

#### Pattern: `Optional Chaining` at line 844:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          frames,
          frameRate: options?.frameRate ?? 24,
          loop: options?.loop ?? true,
> pingPong: options?.pingPong ?? false,
        });
      },
  
```

---

#### Pattern: `: void` at line 860:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Delete a sprite sheet
       */
> deleteSpriteSheet(id: string): void {
        const stored = this.spriteSheets.get(id);
        if (stored?.textureUrl) {
          URL.revokeObjectURL(stored.textureUrl);
```

---

#### Pattern: `Optional Chaining` at line 862:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
       */
      deleteSpriteSheet(id: string): void {
        const stored = this.spriteSheets.get(id);
> if (stored?.textureUrl) {
          URL.revokeObjectURL(stored.textureUrl);
        }
        spriteSheetService.removeSheet(id);
```

---

#### Pattern: `Optional Chaining` at line 894:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          this.environment = {
            ...this.environment,
            url,
> intensity: options?.intensity ?? this.environment.intensity,
            rotation: options?.rotation ?? this.environment.rotation,
            useAsBackground:
              options?.useAsBackground ?? this.environment.useAsBackground,
```

---

#### Pattern: `Optional Chaining` at line 895:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            ...this.environment,
            url,
            intensity: options?.intensity ?? this.environment.intensity,
> rotation: options?.rotation ?? this.environment.rotation,
            useAsBackground:
              options?.useAsBackground ?? this.environment.useAsBackground,
            enabled: true,
```

---

#### Pattern: `Optional Chaining` at line 897:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            intensity: options?.intensity ?? this.environment.intensity,
            rotation: options?.rotation ?? this.environment.rotation,
            useAsBackground:
> options?.useAsBackground ?? this.environment.useAsBackground,
            enabled: true,
          };
  
```

---

#### Pattern: `: void` at line 941:59

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Update environment settings
       */
> updateEnvironment(settings: Partial<EnvironmentState>): void {
        this.environment = { ...this.environment, ...settings };
      },
  
```

---

#### Pattern: `: void` at line 948:23

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Clear environment
       */
> clearEnvironment(): void {
        if (this.environment.url && !this.environment.presetName) {
          URL.revokeObjectURL(this.environment.url);
        }
```

---

#### Pattern: `: void` at line 970:17

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Clear last error
       */
> clearError(): void {
        this.lastError = null;
      },
  
```

---

#### Pattern: `: void` at line 977:14

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Dispose all assets and free resources
       */
> dispose(): void {
        // Revoke all blob URLs
        for (const stored of this.materials.values()) {
          for (const key of Object.keys(stored.config)) {
```

---

### `stores/audioKeyframeStore.ts` (19 pattern(s))

#### Pattern: `isFinite()` at line 112:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    smoothing: number,
  ): { both: number[]; left: number[]; right: number[] } {
    let safeFps = fps;
> if (!Number.isFinite(safeFps) || safeFps <= 0) {
      safeFps = 30;
    }
  
```

---

#### Pattern: `isFinite()` at line 116:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      safeFps = 30;
    }
  
> if (!Number.isFinite(frameCount) || frameCount <= 0) {
      return { both: [], left: [], right: [] };
    }
  
```

---

#### Pattern: `isFinite()` at line 187:28

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    scale: number,
  ): AnimatableProperty<number> {
    const id = `prop_${Date.now()}_${Math.random().toString(36).slice(2, 11)}`;
> const safeScale = Number.isFinite(scale) ? scale : 100;
  
    const keyframes: Keyframe<number>[] = amplitudes.map((amp, frame) => ({
      id: `kf_${id}_${frame}`,
```

---

#### Pattern: `isFinite()` at line 192:19

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const keyframes: Keyframe<number>[] = amplitudes.map((amp, frame) => ({
      id: `kf_${id}_${frame}`,
      frame,
> value: Number.isFinite(amp) ? amp * safeScale : 0,
      interpolation: "linear" as const,
      inHandle: { frame: 0, value: 0, enabled: false },
      outHandle: { frame: 0, value: 0, enabled: false },
```

---

#### Pattern: `: void` at line 230:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        store: AudioKeyframeStoreAccess,
        layerId: string,
        config: Partial<PathAnimatorConfig> = {},
> ): void {
        const animator = new AudioPathAnimator(config);
        store.pathAnimators.set(layerId, animator);
      },
```

---

#### Pattern: `: void` at line 242:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        store: AudioKeyframeStoreAccess,
        layerId: string,
        pathData: string,
> ): void {
        const animator = store.pathAnimators.get(layerId);
        if (animator) {
          animator.setPath(pathData);
```

---

#### Pattern: `: void` at line 256:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        store: AudioKeyframeStoreAccess,
        layerId: string,
        config: Partial<PathAnimatorConfig>,
> ): void {
        const animator = store.pathAnimators.get(layerId);
        if (animator) {
          animator.setConfig(config);
```

---

#### Pattern: `: void` at line 266:73

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Remove path animator
       */
> removePathAnimator(store: AudioKeyframeStoreAccess, layerId: string): void {
        store.pathAnimators.delete(layerId);
      },
  
```

---

#### Pattern: `: void` at line 283:57

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Update all path animators for current frame
       */
> updatePathAnimators(store: AudioKeyframeStoreAccess): void {
        const audioStore = useAudioStore();
        if (!audioStore.audioAnalysis) return;
  
```

---

#### Pattern: `Optional Chaining` at line 287:42

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const audioStore = useAudioStore();
        if (!audioStore.audioAnalysis) return;
  
> const frame = store.getActiveComp()?.currentFrame ?? 0;
        const amplitude = audioStore.getFeatureAtFrame(store, "amplitude", frame);
        const isBeat = audioStore.isBeatAtFrame(frame);
  
```

---

#### Pattern: `: void` at line 299:56

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Reset all path animators
       */
> resetPathAnimators(store: AudioKeyframeStoreAccess): void {
        for (const animator of store.pathAnimators.values()) {
          animator.reset();
        }
```

---

#### Pattern: `isFinite()` at line 336:37

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
          smoothing: rawSmoothing = 0,
        } = options;
  
> const amplitudeScale = Number.isFinite(rawScale) ? rawScale : 100;
        const smoothing = Number.isFinite(rawSmoothing)
          ? Math.max(0, Math.min(1, rawSmoothing))
          : 0;
```

---

#### Pattern: `isFinite()` at line 337:32

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        } = options;
  
        const amplitudeScale = Number.isFinite(rawScale) ? rawScale : 100;
> const smoothing = Number.isFinite(rawSmoothing)
          ? Math.max(0, Math.min(1, rawSmoothing))
          : 0;
  
```

---

#### Pattern: `Optional Chaining` at line 628:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        }
  
        // Spectral features section
> if (analysis.spectralCentroid?.length > 0) {
          const normalizedCentroid = analysis.spectralCentroid.map((v) =>
            Math.min(1, v / 10000),
          );
```

---

#### Pattern: `Optional Chaining` at line 643:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          result.spectral.centroid = centroidProp.id;
        }
  
> if (analysis.spectralFlux?.length > 0) {
          const fluxProp = createAmplitudeProperty(
            "Spectral - Flux",
            smoothing > 0
```

---

#### Pattern: `Optional Chaining` at line 655:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          result.spectral.flux = fluxProp.id;
        }
  
> if (analysis.spectralRolloff?.length > 0) {
          const normalizedRolloff = analysis.spectralRolloff.map((v) =>
            Math.min(1, v / 10000),
          );
```

---

#### Pattern: `Optional Chaining` at line 670:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          result.spectral.rolloff = rolloffProp.id;
        }
  
> if (analysis.spectralFlatness?.length > 0) {
          const flatnessProp = createAmplitudeProperty(
            "Spectral - Flatness",
            smoothing > 0
```

---

#### Pattern: `Optional Chaining` at line 683:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        }
  
        // Dynamics section
> if (analysis.rmsEnergy?.length > 0) {
          const rmsProp = createAmplitudeProperty(
            "Dynamics - RMS Energy",
            smoothing > 0
```

---

#### Pattern: `Optional Chaining` at line 695:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          result.dynamics.rms = rmsProp.id;
        }
  
> if (analysis.zeroCrossingRate?.length > 0) {
          const zcrProp = createAmplitudeProperty(
            "Dynamics - Zero Crossing Rate",
            smoothing > 0
```

---

### `stores/audioStore.ts` (34 pattern(s))

#### Pattern: `Optional Chaining` at line 106:43

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      isLoading: (state) =>
        state.loadingState === "decoding" || state.loadingState === "analyzing",
      hasError: (state) => state.loadingState === "error",
> duration: (state) => state.audioBuffer?.duration ?? 0,
      bpm: (state) => state.audioAnalysis?.bpm ?? 0,
      frameCount: (state) => state.audioAnalysis?.frameCount ?? 0,
  
```

---

#### Pattern: `Optional Chaining` at line 107:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        state.loadingState === "decoding" || state.loadingState === "analyzing",
      hasError: (state) => state.loadingState === "error",
      duration: (state) => state.audioBuffer?.duration ?? 0,
> bpm: (state) => state.audioAnalysis?.bpm ?? 0,
      frameCount: (state) => state.audioAnalysis?.frameCount ?? 0,
  
      // Waveform integration helpers
```

---

#### Pattern: `Optional Chaining` at line 108:47

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      hasError: (state) => state.loadingState === "error",
      duration: (state) => state.audioBuffer?.duration ?? 0,
      bpm: (state) => state.audioAnalysis?.bpm ?? 0,
> frameCount: (state) => state.audioAnalysis?.frameCount ?? 0,
  
      // Waveform integration helpers
      /** Check if audio buffer is loaded (for waveform rendering) */
```

---

#### Pattern: `Optional Chaining` at line 140:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      getBPM:
        (state) =>
        (_assetId?: string): number | undefined =>
> state.audioAnalysis?.bpm,
  
      // Stem reactivity getters
      /** Get list of available stem names */
```

---

#### Pattern: `Optional Chaining` at line 153:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      activeAnalysis: (state) => {
        if (state.activeStemName) {
          const stemData = state.stemBuffers.get(state.activeStemName);
> return stemData?.analysis ?? state.audioAnalysis;
        }
        return state.audioAnalysis;
      },
```

---

#### Pattern: `Optional Chaining` at line 161:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      activeBuffer: (state) => {
        if (state.activeStemName) {
          const stemData = state.stemBuffers.get(state.activeStemName);
> return stemData?.buffer ?? state.audioBuffer;
        }
        return state.audioBuffer;
      },
```

---

#### Pattern: `: void` at line 228:17

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Cancel ongoing audio analysis
       */
> cancelLoad(): void {
        cancelAnalysis();
        this.loadingState = "idle";
        this.loadingProgress = 0;
```

---

#### Pattern: `: void` at line 239:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Clear loaded audio
       */
> clear(): void {
        this.cancelLoad();
        this.audioFile = null;
        this.audioBuffer = null;
```

---

#### Pattern: `: void` at line 253:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Initialize the audio reactive mapper
       */
> initializeReactiveMapper(): void {
        if (!this.audioAnalysis) return;
  
        this.reactiveMapper = new AudioReactiveMapper(this.audioAnalysis);
```

---

#### Pattern: `Optional Chaining` at line 279:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      ): number {
        if (!this.audioAnalysis) return 0;
        const targetFrame =
> frame ?? store?.getActiveComp()?.currentFrame ?? 0;
        return getFeatureAtFrameService(this.audioAnalysis, feature, targetFrame);
      },
  
```

---

#### Pattern: `Optional Chaining` at line 279:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      ): number {
        if (!this.audioAnalysis) return 0;
        const targetFrame =
> frame ?? store?.getActiveComp()?.currentFrame ?? 0;
        return getFeatureAtFrameService(this.audioAnalysis, feature, targetFrame);
      },
  
```

---

#### Pattern: `: void` at line 298:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set peak data
       */
> setPeakData(peakData: PeakData): void {
        this.peakData = peakData;
        if (this.reactiveMapper) {
          this.reactiveMapper.setPeakData(peakData);
```

---

#### Pattern: `: void` at line 329:69

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Apply audio reactivity mapping to particle layer (legacy)
       */
> addLegacyMapping(layerId: string, mapping: AudioParticleMapping): void {
        const existing = this.legacyMappings.get(layerId) || [];
        existing.push(mapping);
        this.legacyMappings.set(layerId, existing);
```

---

#### Pattern: `: void` at line 338:56

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Remove legacy audio mapping
       */
> removeLegacyMapping(layerId: string, index: number): void {
        const mappings = this.legacyMappings.get(layerId);
        if (mappings) {
          mappings.splice(index, 1);
```

---

#### Pattern: `: void` at line 362:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Add new audio mapping
       */
> addMapping(mapping: AudioMapping): void {
        this.reactiveMappings.push(mapping);
  
        if (this.reactiveMapper) {
```

---

#### Pattern: `: void` at line 373:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Remove audio mapping by ID
       */
> removeMapping(mappingId: string): void {
        const index = this.reactiveMappings.findIndex((m) => m.id === mappingId);
        if (index >= 0) {
          this.reactiveMappings.splice(index, 1);
```

---

#### Pattern: `: void` at line 387:69

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Update audio mapping
       */
> updateMapping(mappingId: string, updates: Partial<AudioMapping>): void {
        const mapping = this.reactiveMappings.find((m) => m.id === mappingId);
        if (mapping) {
          Object.assign(mapping, updates);
```

---

#### Pattern: `: void` at line 455:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set audio volume (0-100)
       */
> setVolume(volume: number): void {
        this.volume = Math.max(0, Math.min(100, volume));
        this.updateGainNode();
      },
```

---

#### Pattern: `: void` at line 463:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set muted state
       */
> setMuted(muted: boolean): void {
        this.muted = muted;
        this.updateGainNode();
      },
```

---

#### Pattern: `: void` at line 471:18

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Toggle muted state
       */
> toggleMuted(): void {
        this.muted = !this.muted;
        this.updateGainNode();
      },
```

---

#### Pattern: `: void` at line 479:21

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Update gain node with current volume/muted state
       */
> updateGainNode(): void {
        if (this.gainNode) {
          const effectiveVolume = this.muted ? 0 : this.volume / 100;
          this.gainNode.gain.setValueAtTime(
```

---

#### Pattern: `Optional Chaining` at line 484:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          const effectiveVolume = this.muted ? 0 : this.volume / 100;
          this.gainNode.gain.setValueAtTime(
            effectiveVolume,
> this.audioContext?.currentTime ?? 0,
          );
        }
      },
```

---

#### Pattern: `: void` at line 508:51

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
       * @param frame - Current frame to start from
       * @param fps - Frames per second for time calculation
       */
> playAudioFromFrame(frame: number, fps: number): void {
        if (!this.audioBuffer) {
          storeLogger.debug("No audio loaded");
          return;
```

---

#### Pattern: `: void` at line 556:16

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Stop audio playback
       */
> stopAudio(): void {
        if (this.audioSource) {
          try {
            this.audioSource.stop();
```

---

#### Pattern: `: void` at line 575:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
       * @param frame - Current frame
       * @param fps - Frames per second
       */
> toggleAudioPlayback(frame: number, fps: number): void {
        if (this.isPlayingAudio) {
          this.stopAudio();
        } else {
```

---

#### Pattern: `: void` at line 600:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
       * @param frame - Frame to scrub to
       * @param fps - Frames per second
       */
> scrubAudio(frame: number, fps: number): void {
        if (!this.audioBuffer) return;
  
        const context = this.ensureAudioContext();
```

---

#### Pattern: `: void` at line 693:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
       * Set the active stem for audio reactivity
       * @param stemName - Name of the stem to use, or null for main audio
       */
> setActiveStem(stemName: string | null): void {
        if (stemName !== null && !this.stemBuffers.has(stemName)) {
          storeLogger.warn(`Stem ${stemName} not found, using main audio`);
          this.activeStemName = null;
```

---

#### Pattern: `: void` at line 710:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Initialize reactive mapper for the currently active stem/main audio
       */
> initializeReactiveMapperForActiveStem(): void {
        const analysis = this.activeStemName
          ? this.stemBuffers.get(this.activeStemName)?.analysis
          : this.audioAnalysis;
```

---

#### Pattern: `Optional Chaining` at line 712:52

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
       */
      initializeReactiveMapperForActiveStem(): void {
        const analysis = this.activeStemName
> ? this.stemBuffers.get(this.activeStemName)?.analysis
          : this.audioAnalysis;
  
        if (!analysis) return;
```

---

#### Pattern: `Optional Chaining` at line 737:52

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
       */
      getActiveFeatureAtFrame(feature: string, frame: number): number {
        const analysis = this.activeStemName
> ? this.stemBuffers.get(this.activeStemName)?.analysis
          : this.audioAnalysis;
  
        if (!analysis) return 0;
```

---

#### Pattern: `Optional Chaining` at line 749:44

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
       * @param stemName - Name of the stem
       */
      getStemAnalysis(stemName: string): AudioAnalysis | null {
> return this.stemBuffers.get(stemName)?.analysis ?? null;
      },
  
      /**
```

---

#### Pattern: `Optional Chaining` at line 757:44

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
       * @param stemName - Name of the stem
       */
      getStemBuffer(stemName: string): AudioBuffer | null {
> return this.stemBuffers.get(stemName)?.buffer ?? null;
      },
  
      /**
```

---

#### Pattern: `: void` at line 772:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
       * Remove a specific stem
       * @param stemName - Name of the stem to remove
       */
> removeStem(stemName: string): void {
        this.stemBuffers.delete(stemName);
  
        // If the removed stem was active, switch back to main audio
```

---

#### Pattern: `: void` at line 785:17

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Clear all loaded stems
       */
> clearStems(): void {
        this.stemBuffers.clear();
        this.activeStemName = null;
  
```

---

### `stores/audioSync.ts` (1 pattern(s))

#### Pattern: `: void` at line 54:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      loadingPhase: string;
      loadingError: string | null;
    },
> ): void {
    // If no source provided, get from audioStore (requires Pinia context)
    const audioSource = source ?? useAudioStore();
  
```

---

### `stores/cacheStore.ts` (5 pattern(s))

#### Pattern: `: void` at line 62:68

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Enable or disable frame caching
       */
> setFrameCacheEnabled(store: CacheStoreAccess, enabled: boolean): void {
        store.frameCacheEnabled = enabled;
        if (!enabled) {
          this.clearFrameCache();
```

---

#### Pattern: `: void` at line 131:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Invalidate frame cache (called when project changes)
       */
> invalidateFrameCache(store: CacheStoreAccess): void {
        // Update project state hash
        store.projectStateHash = this.computeProjectHash(store);
  
```

---

#### Pattern: `: void` at line 143:22

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Clear all cached frames
       */
> clearFrameCache(): void {
        const cache = getFrameCache();
        cache.clear();
        storeLogger.info("Frame cache cleared");
```

---

#### Pattern: `Optional Chaining` at line 167:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        // Create a simplified fingerprint of the composition state
        const fingerprint = {
> layerCount: comp.layers?.length ?? 0,
          layerIds: comp.layers?.map((l) => l.id).join(",") ?? "",
          modified: store.project.meta.modified,
          settings: comp.settings,
```

---

#### Pattern: `Optional Chaining` at line 168:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Create a simplified fingerprint of the composition state
        const fingerprint = {
          layerCount: comp.layers?.length ?? 0,
> layerIds: comp.layers?.map((l) => l.id).join(",") ?? "",
          modified: store.project.meta.modified,
          settings: comp.settings,
        };
```

---

### `stores/cameraStore.ts` (14 pattern(s))

#### Pattern: `isFinite()` at line 35:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
   * Safely compare frame numbers, handling NaN values
   */
  function framesEqual(a: number, b: number): boolean {
> if (!Number.isFinite(a) || !Number.isFinite(b)) return false;
    return a === b;
  }
  
```

---

#### Pattern: `isFinite()` at line 35:38

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
   * Safely compare frame numbers, handling NaN values
   */
  function framesEqual(a: number, b: number): boolean {
> if (!Number.isFinite(a) || !Number.isFinite(b)) return false;
    return a === b;
  }
  
```

---

#### Pattern: `isFinite()` at line 43:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
   * Validate and sanitize frame number input
   */
  function safeFrame(frame: number | undefined | null, fallback = 0): number {
> return Number.isFinite(frame) ? frame! : fallback;
  }
  
  // ============================================================================
```

---

#### Pattern: `Optional Chaining` at line 103:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Create the camera object
        const camera = createDefaultCamera(
          cameraId,
> comp?.settings.width || 1024,
          comp?.settings.height || 1024,
        );
        camera.name = cameraName;
```

---

#### Pattern: `Optional Chaining` at line 104:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const camera = createDefaultCamera(
          cameraId,
          comp?.settings.width || 1024,
> comp?.settings.height || 1024,
        );
        camera.name = cameraName;
  
```

---

#### Pattern: `Optional Chaining` at line 118:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        // Create the layer
        const layerId = `layer_${Date.now()}_${Math.random().toString(36).slice(2, 11)}`;
> const frameCount = (comp?.settings.frameCount || 81) - 1;
        const layer: Layer = {
          id: layerId,
          name: cameraName,
```

---

#### Pattern: `: void` at line 174:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        store: CameraStoreAccess,
        cameraId: string,
        updates: Partial<Camera3D>,
> ): void {
        const camera = store.cameras.get(cameraId);
        if (!camera) return;
  
```

---

#### Pattern: `: void` at line 185:64

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set the active camera
       */
> setActiveCamera(store: CameraStoreAccess, cameraId: string): void {
        if (!store.cameras.has(cameraId)) return;
  
        store.activeCameraId = cameraId;
```

---

#### Pattern: `: void` at line 205:61

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Delete a camera and its layer
       */
> deleteCamera(store: CameraStoreAccess, cameraId: string): void {
        const layers = store.getActiveCompLayers();
  
        // Find the associated layer
```

---

#### Pattern: `Optional Chaining` at line 211:61

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        // Find the associated layer
        const layerIndex = layers.findIndex(
          (l) =>
> l.type === "camera" && (l.data as CameraLayerData)?.cameraId === cameraId,
        );
  
        // Remove the layer if found
```

---

#### Pattern: `: void` at line 260:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        store: CameraStoreAccess,
        cameraId: string,
        keyframe: CameraKeyframe,
> ): void {
        let keyframes = store.cameraKeyframes.get(cameraId);
        if (!keyframes) {
          keyframes = [];
```

---

#### Pattern: `: void` at line 289:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        store: CameraStoreAccess,
        cameraId: string,
        frame: number,
> ): void {
        const keyframes = store.cameraKeyframes.get(cameraId);
        if (!keyframes) return;
  
```

---

#### Pattern: `: void` at line 355:83

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Update the viewport state
       */
> updateViewportState(store: CameraStoreAccess, updates: Partial<ViewportState>): void {
        Object.assign(store.viewportState, updates);
      },
  
```

---

#### Pattern: `: void` at line 362:79

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Update view options
       */
> updateViewOptions(store: CameraStoreAccess, updates: Partial<ViewOptions>): void {
        Object.assign(store.viewOptions, updates);
      },
    },
```

---

### `stores/compositionStore.ts` (22 pattern(s))

#### Pattern: `Optional Chaining` at line 71:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const id = `comp_${Date.now()}_${Math.random().toString(36).slice(2, 11)}`;
        const activeComp = store.project.compositions[store.activeCompositionId];
  
> const rawFps = settings?.fps ?? activeComp?.settings.fps ?? DEFAULT_FPS;
        const validFps = validateFps(rawFps);
  
        const defaultSettings: CompositionSettings = {
```

---

#### Pattern: `Optional Chaining` at line 71:49

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const id = `comp_${Date.now()}_${Math.random().toString(36).slice(2, 11)}`;
        const activeComp = store.project.compositions[store.activeCompositionId];
  
> const rawFps = settings?.fps ?? activeComp?.settings.fps ?? DEFAULT_FPS;
        const validFps = validateFps(rawFps);
  
        const defaultSettings: CompositionSettings = {
```

---

#### Pattern: `Optional Chaining` at line 75:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const validFps = validateFps(rawFps);
  
        const defaultSettings: CompositionSettings = {
> width: settings?.width ?? activeComp?.settings.width ?? 1024,
          height: settings?.height ?? activeComp?.settings.height ?? 1024,
          frameCount: settings?.frameCount ?? activeComp?.settings.frameCount ?? 81,
          fps: validFps,
```

---

#### Pattern: `Optional Chaining` at line 75:45

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const validFps = validateFps(rawFps);
  
        const defaultSettings: CompositionSettings = {
> width: settings?.width ?? activeComp?.settings.width ?? 1024,
          height: settings?.height ?? activeComp?.settings.height ?? 1024,
          frameCount: settings?.frameCount ?? activeComp?.settings.frameCount ?? 81,
          fps: validFps,
```

---

#### Pattern: `Optional Chaining` at line 76:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        const defaultSettings: CompositionSettings = {
          width: settings?.width ?? activeComp?.settings.width ?? 1024,
> height: settings?.height ?? activeComp?.settings.height ?? 1024,
          frameCount: settings?.frameCount ?? activeComp?.settings.frameCount ?? 81,
          fps: validFps,
          duration: 0,
```

---

#### Pattern: `Optional Chaining` at line 76:47

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        const defaultSettings: CompositionSettings = {
          width: settings?.width ?? activeComp?.settings.width ?? 1024,
> height: settings?.height ?? activeComp?.settings.height ?? 1024,
          frameCount: settings?.frameCount ?? activeComp?.settings.frameCount ?? 81,
          fps: validFps,
          duration: 0,
```

---

#### Pattern: `Optional Chaining` at line 77:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const defaultSettings: CompositionSettings = {
          width: settings?.width ?? activeComp?.settings.width ?? 1024,
          height: settings?.height ?? activeComp?.settings.height ?? 1024,
> frameCount: settings?.frameCount ?? activeComp?.settings.frameCount ?? 81,
          fps: validFps,
          duration: 0,
          backgroundColor: settings?.backgroundColor ?? "#050505",
```

---

#### Pattern: `Optional Chaining` at line 77:55

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const defaultSettings: CompositionSettings = {
          width: settings?.width ?? activeComp?.settings.width ?? 1024,
          height: settings?.height ?? activeComp?.settings.height ?? 1024,
> frameCount: settings?.frameCount ?? activeComp?.settings.frameCount ?? 81,
          fps: validFps,
          duration: 0,
          backgroundColor: settings?.backgroundColor ?? "#050505",
```

---

#### Pattern: `Optional Chaining` at line 80:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          frameCount: settings?.frameCount ?? activeComp?.settings.frameCount ?? 81,
          fps: validFps,
          duration: 0,
> backgroundColor: settings?.backgroundColor ?? "#050505",
          autoResizeToContent: settings?.autoResizeToContent ?? true,
          frameBlendingEnabled: settings?.frameBlendingEnabled ?? false,
        };
```

---

#### Pattern: `Optional Chaining` at line 81:38

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          fps: validFps,
          duration: 0,
          backgroundColor: settings?.backgroundColor ?? "#050505",
> autoResizeToContent: settings?.autoResizeToContent ?? true,
          frameBlendingEnabled: settings?.frameBlendingEnabled ?? false,
        };
        defaultSettings.duration = defaultSettings.frameCount / defaultSettings.fps;
```

---

#### Pattern: `Optional Chaining` at line 82:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          duration: 0,
          backgroundColor: settings?.backgroundColor ?? "#050505",
          autoResizeToContent: settings?.autoResizeToContent ?? true,
> frameBlendingEnabled: settings?.frameBlendingEnabled ?? false,
        };
        defaultSettings.duration = defaultSettings.frameCount / defaultSettings.fps;
  
```

---

#### Pattern: `: void` at line 138:86

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Rename a composition.
       */
> renameComposition(store: CompositionStoreAccess, compId: string, newName: string): void {
        const comp = store.project.compositions[compId];
        if (comp) comp.name = newName;
      },
```

---

#### Pattern: `: void` at line 150:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        store: CompositionStoreAccess,
        compId: string,
        settings: Partial<CompositionSettings>,
> ): void {
        const comp = store.project.compositions[compId];
        if (!comp) return;
  
```

---

#### Pattern: `: void` at line 181:71

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Enable frame blending for a composition.
       */
> enableFrameBlending(store: CompositionStoreAccess, compId: string): void {
        this.updateCompositionSettings(store, compId, { frameBlendingEnabled: true });
      },
  
```

---

#### Pattern: `: void` at line 188:72

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Disable frame blending for a composition.
       */
> disableFrameBlending(store: CompositionStoreAccess, compId: string): void {
        this.updateCompositionSettings(store, compId, { frameBlendingEnabled: false });
      },
  
```

---

#### Pattern: `: void` at line 195:71

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Toggle frame blending for a composition.
       */
> toggleFrameBlending(store: CompositionStoreAccess, compId: string): void {
        const comp = store.project.compositions[compId];
        if (!comp) return;
        this.updateCompositionSettings(store, compId, {
```

---

#### Pattern: `: void` at line 217:69

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Switch to a different composition (tab).
       */
> switchComposition(store: CompositionStoreAccess, compId: string): void {
        if (!store.project.compositions[compId]) {
          storeLogger.warn("Composition not found:", compId);
          return;
```

---

#### Pattern: `: void` at line 238:71

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Close a composition tab.
       */
> closeCompositionTab(store: CompositionStoreAccess, compId: string): void {
        if (store.openCompositionIds.length <= 1) {
          storeLogger.warn("Cannot close the last tab");
          return;
```

---

#### Pattern: `: void` at line 257:67

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Enter a nested comp (double-click on nested comp layer).
       */
> enterNestedComp(store: CompositionStoreAccess, compId: string): void {
        if (!store.project.compositions[compId]) {
          storeLogger.warn("Nested comp not found:", compId);
          return;
```

---

#### Pattern: `: void` at line 272:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Navigate back one level in the breadcrumb trail.
       */
> navigateBack(store: CompositionStoreAccess): void {
        if (store.compositionBreadcrumbs.length <= 1) {
          storeLogger.warn("Already at root composition");
          return;
```

---

#### Pattern: `: void` at line 288:71

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Navigate to a specific breadcrumb index.
       */
> navigateToBreadcrumb(store: CompositionStoreAccess, index: number): void {
        if (!Number.isInteger(index) || index < 0 || index >= store.compositionBreadcrumbs.length) {
          return;
        }
```

---

#### Pattern: `: void` at line 305:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Reset breadcrumbs to main composition.
       */
> resetBreadcrumbs(store: CompositionStoreAccess): void {
        store.compositionBreadcrumbs = [store.project.mainCompositionId];
        this.switchComposition(store, store.project.mainCompositionId);
      },
```

---

### `stores/compositorStore.ts` (175 pattern(s))

#### Pattern: `Optional Chaining` at line 276:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return this.sourceImage !== null;
      },
      width(): number {
> return this.activeComposition?.settings.width || 1024;
      },
      height(): number {
        return this.activeComposition?.settings.height || 1024;
```

---

#### Pattern: `Optional Chaining` at line 279:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return this.activeComposition?.settings.width || 1024;
      },
      height(): number {
> return this.activeComposition?.settings.height || 1024;
      },
      frameCount(): number {
        return this.activeComposition?.settings.frameCount || 81;
```

---

#### Pattern: `Optional Chaining` at line 282:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return this.activeComposition?.settings.height || 1024;
      },
      frameCount(): number {
> return this.activeComposition?.settings.frameCount || 81;
      },
      fps(): number {
        return this.activeComposition?.settings.fps || 16;
```

---

#### Pattern: `Optional Chaining` at line 285:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return this.activeComposition?.settings.frameCount || 81;
      },
      fps(): number {
> return this.activeComposition?.settings.fps || 16;
      },
      duration(): number {
        return this.activeComposition?.settings.duration || 5;
```

---

#### Pattern: `Optional Chaining` at line 288:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return this.activeComposition?.settings.fps || 16;
      },
      duration(): number {
> return this.activeComposition?.settings.duration || 5;
      },
      backgroundColor(): string {
        return this.activeComposition?.settings.backgroundColor || "#050505";
```

---

#### Pattern: `Optional Chaining` at line 291:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return this.activeComposition?.settings.duration || 5;
      },
      backgroundColor(): string {
> return this.activeComposition?.settings.backgroundColor || "#050505";
      },
  
      // Timeline zoom (delegated to animationStore)
```

---

#### Pattern: `Optional Chaining` at line 312:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Current frame - per composition
      currentFrame(state): number {
        const comp = state.project.compositions[state.activeCompositionId];
> return comp?.currentFrame || 0;
      },
      currentTime(): number {
        const comp = this.activeComposition;
```

---

#### Pattern: `Optional Chaining` at line 323:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Layers - from active composition
      layers(state): Layer[] {
        const comp = state.project.compositions[state.activeCompositionId];
> return comp?.layers || [];
      },
      visibleLayers(state): Layer[] {
        const comp = state.project.compositions[state.activeCompositionId];
```

---

#### Pattern: `Optional Chaining` at line 327:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      },
      visibleLayers(state): Layer[] {
        const comp = state.project.compositions[state.activeCompositionId];
> const layers = comp?.layers || [];
        return layers.filter((l: Layer) => l.visible);
      },
      // Layers displayed in timeline (respects minimized filter)
```

---

#### Pattern: `Optional Chaining` at line 333:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Layers displayed in timeline (respects minimized filter)
      displayedLayers(state): Layer[] {
        const comp = state.project.compositions[state.activeCompositionId];
> const layers = comp?.layers || [];
        const uiStore = useUIStore();
        if (uiStore.hideMinimizedLayers) {
          return layers.filter((l: Layer) => !l.minimized);
```

---

#### Pattern: `Optional Chaining` at line 360:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      selectedLayers(state): Layer[] {
        const comp = state.project.compositions[state.activeCompositionId];
        const selectionStore = useSelectionStore();
> return (comp?.layers || []).filter((l: Layer) =>
          selectionStore.selectedLayerIds.includes(l.id),
        );
      },
```

---

#### Pattern: `Optional Chaining` at line 369:14

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (selectionStore.selectedLayerIds.length !== 1) return null;
        const comp = state.project.compositions[state.activeCompositionId];
        return (
> (comp?.layers || []).find(
            (l: Layer) => l.id === selectionStore.selectedLayerIds[0],
          ) || null
        );
```

---

#### Pattern: `Optional Chaining` at line 389:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      breadcrumbPath(): Array<{ id: string; name: string }> {
        return this.compositionBreadcrumbs.map((id: string) => {
          const comp = this.project.compositions[id];
> return { id, name: comp?.name || "Unknown" };
        });
      },
  
```

---

#### Pattern: `Optional Chaining` at line 409:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      allCameras: (state): Camera3D[] => Array.from(state.cameras.values()),
      cameraLayers(state): Layer[] {
        const comp = state.project.compositions[state.activeCompositionId];
> const layers = comp?.layers || [];
        return layers.filter((l: Layer) => l.type === "camera");
      },
  
```

---

#### Pattern: `Optional Chaining` at line 435:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
       */
      getActiveCompLayers(): Layer[] {
        const comp = this.project.compositions[this.activeCompositionId];
> return comp?.layers || [];
      },
  
      /**
```

---

#### Pattern: `: void` at line 460:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        return useCompositionStore().deleteComposition(this, compId);
      },
  
> switchComposition(compId: string): void {
        useCompositionStore().switchComposition(this, compId);
      },
  
```

---

#### Pattern: `: void` at line 464:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        useCompositionStore().switchComposition(this, compId);
      },
  
> closeCompositionTab(compId: string): void {
        useCompositionStore().closeCompositionTab(this, compId);
      },
  
```

---

#### Pattern: `: void` at line 468:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        useCompositionStore().closeCompositionTab(this, compId);
      },
  
> enterNestedComp(compId: string): void {
        useCompositionStore().enterNestedComp(this, compId);
      },
  
```

---

#### Pattern: `: void` at line 472:19

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        useCompositionStore().enterNestedComp(this, compId);
      },
  
> navigateBack(): void {
        useCompositionStore().navigateBack(this);
      },
  
```

---

#### Pattern: `: void` at line 476:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        useCompositionStore().navigateBack(this);
      },
  
> navigateToBreadcrumb(index: number): void {
        useCompositionStore().navigateToBreadcrumb(this, index);
      },
  
```

---

#### Pattern: `: void` at line 480:23

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        useCompositionStore().navigateToBreadcrumb(this, index);
      },
  
> resetBreadcrumbs(): void {
        useCompositionStore().resetBreadcrumbs(this);
      },
  
```

---

#### Pattern: `: void` at line 484:55

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        useCompositionStore().resetBreadcrumbs(this);
      },
  
> renameComposition(compId: string, newName: string): void {
        useCompositionStore().renameComposition(this, compId, newName);
      },
  
```

---

#### Pattern: `: void` at line 491:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      updateCompositionSettings(
        compId: string,
        settings: Partial<CompositionSettings>,
> ): void {
        useCompositionStore().updateCompositionSettings(this, compId, settings);
      },
  
```

---

#### Pattern: `: void` at line 499:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        return useCompositionStore().getComposition(this, compId);
      },
  
> enableFrameBlending(compId: string): void {
        useCompositionStore().enableFrameBlending(this, compId);
      },
  
```

---

#### Pattern: `: void` at line 503:41

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        useCompositionStore().enableFrameBlending(this, compId);
      },
  
> disableFrameBlending(compId: string): void {
        useCompositionStore().disableFrameBlending(this, compId);
      },
  
```

---

#### Pattern: `: void` at line 507:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        useCompositionStore().disableFrameBlending(this, compId);
      },
  
> toggleFrameBlending(compId: string): void {
        useCompositionStore().toggleFrameBlending(this, compId);
      },
  
```

---

#### Pattern: `: void` at line 529:7

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        width: number;
        height: number;
        frame_count: number;
> }): void {
        useProjectStore().loadInputs(this, inputs);
  
        // Save initial state to history
```

---

#### Pattern: `: void` at line 563:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
       * Delete a layer
  
       */
> deleteLayer(layerId: string): void {
        useLayerStore().deleteLayer(this, layerId);
      },
  
```

---

#### Pattern: `: void` at line 578:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Copy selected layers to clipboard
       */
> copySelectedLayers(): void {
        useLayerStore().copySelectedLayers(this);
      },
  
```

---

#### Pattern: `: void` at line 592:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Cut selected layers (copy + delete)
       */
> cutSelectedLayers(): void {
        useLayerStore().cutSelectedLayers(this);
      },
  
```

---

#### Pattern: `: void` at line 599:22

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Select all layers in the active composition
       */
> selectAllLayers(): void {
        useLayerStore().selectAllLayers(this);
      },
  
```

---

#### Pattern: `: void` at line 606:27

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Delete all selected layers
       */
> deleteSelectedLayers(): void {
        useLayerStore().deleteSelectedLayers(this);
      },
  
```

---

#### Pattern: `: void` at line 621:58

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
       * Update layer properties
  
       */
> updateLayer(layerId: string, updates: Partial<Layer>): void {
        useLayerStore().updateLayer(this, layerId, updates);
      },
  
```

---

#### Pattern: `: void` at line 633:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      updateLayerData(
        layerId: string,
        dataUpdates: Partial<AnyLayerData> & Record<string, unknown>,
> ): void {
        useLayerStore().updateLayerData(this, layerId, dataUpdates);
      },
  
```

---

#### Pattern: `: void` at line 644:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      addSplineControlPoint(
        layerId: string,
        point: SplineControlPoint,
> ): void {
        useLayerStore().addSplineControlPoint(this, layerId, point);
      },
  
```

---

#### Pattern: `: void` at line 656:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        layerId: string,
        point: SplineControlPoint,
        index: number,
> ): void {
        useLayerStore().insertSplineControlPoint(this, layerId, point, index);
      },
  
```

---

#### Pattern: `: void` at line 668:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        layerId: string,
        pointId: string,
        updates: Partial<SplineControlPoint>,
> ): void {
        useLayerStore().updateSplineControlPoint(this, layerId, pointId, updates);
      },
  
```

---

#### Pattern: `: void` at line 676:63

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
       * Delete a spline control point
  
       */
> deleteSplineControlPoint(layerId: string, pointId: string): void {
        useLayerStore().deleteSplineControlPoint(this, layerId, pointId);
      },
  
```

---

#### Pattern: `: void` at line 684:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
       * Enable animation mode on a spline layer (converts to keyframeable control points)
  
       */
> enableSplineAnimation(layerId: string): void {
        useLayerStore().enableSplineAnimation(this, layerId);
      },
  
```

---

#### Pattern: `: void` at line 704:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
          | "handleOut.x"
          | "handleOut.y",
        frame: number,
> ): void {
        useLayerStore().addSplinePointKeyframe(
          this,
          layerId,
```

---

#### Pattern: `: void` at line 722:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        layerId: string,
        pointId: string,
        frame: number,
> ): void {
        useLayerStore().addSplinePointPositionKeyframe(
          this,
          layerId,
```

---

#### Pattern: `: void` at line 742:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        y: number,
        frame: number,
        addKeyframe: boolean = false,
> ): void {
        useLayerStore().updateSplinePointWithKeyframe(
          this,
          layerId,
```

---

#### Pattern: `: void` at line 786:55

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
       * @param tolerance - Distance threshold in pixels (higher = more simplification)
  
       */
> simplifySpline(layerId: string, tolerance: number): void {
        useLayerStore().simplifySpline(this, layerId, tolerance);
      },
  
```

---

#### Pattern: `: void` at line 795:57

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
       * @param amount - Smoothing amount 0-100 (100 = fully smooth)
  
       */
> smoothSplineHandles(layerId: string, amount: number): void {
        useLayerStore().smoothSplineHandles(this, layerId, amount);
      },
  
```

---

#### Pattern: `: void` at line 832:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Toggle 3D mode for a layer
       */
> toggleLayer3D(layerId: string): void {
        useLayerStore().toggleLayer3D(this, layerId);
      },
  
```

---

#### Pattern: `: void` at line 839:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Reorder layers
       */
> moveLayer(layerId: string, newIndex: number): void {
        useLayerStore().moveLayer(this, layerId, newIndex);
      },
  
```

---

#### Pattern: `: void` at line 850:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      replaceLayerSource(
        layerId: string,
        newSource: LayerSourceReplacement,
> ): void {
        useLayerStore().replaceLayerSource(this, layerId, newSource);
      },
  
```

---

#### Pattern: `: void` at line 857:22

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Toggle locked state for selected layers
       */
> toggleLayerLock(): void {
        useLayerStore().toggleLayerLock(this);
      },
  
```

---

#### Pattern: `: void` at line 864:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Toggle visibility for selected layers
       */
> toggleLayerVisibility(): void {
        useLayerStore().toggleLayerVisibility(this);
      },
  
```

---

#### Pattern: `: void` at line 871:22

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Toggle solo state for selected layers
       */
> toggleLayerSolo(): void {
        useLayerStore().toggleLayerSolo(this);
      },
  
```

---

#### Pattern: `: void` at line 878:19

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Move selected layers to the front (top of stack)
       */
> bringToFront(): void {
        useLayerStore().bringToFront(this);
      },
  
```

---

#### Pattern: `: void` at line 885:17

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Move selected layers to the back (bottom of stack)
       */
> sendToBack(): void {
        useLayerStore().sendToBack(this);
      },
  
```

---

#### Pattern: `: void` at line 892:19

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Move selected layers forward by one position
       */
> bringForward(): void {
        useLayerStore().bringForward(this);
      },
  
```

---

#### Pattern: `: void` at line 899:19

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Move selected layers backward by one position
       */
> sendBackward(): void {
        useLayerStore().sendBackward(this);
      },
  
```

---

#### Pattern: `: void` at line 906:57

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Selection
       */
> selectLayer(layerId: string, addToSelection = false): void {
        useLayerStore().selectLayer(this, layerId, addToSelection);
      },
  
```

---

#### Pattern: `: void` at line 910:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        useLayerStore().selectLayer(this, layerId, addToSelection);
      },
  
> deselectLayer(layerId: string): void {
        useLayerStore().deselectLayer(this, layerId);
      },
  
```

---

#### Pattern: `: void` at line 917:61

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set a layer's parent for parenting/hierarchy
       */
> setLayerParent(layerId: string, parentId: string | null): void {
        useLayerStore().setLayerParent(this, layerId, parentId);
      },
  
```

---

#### Pattern: `: void` at line 933:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      timeStretchLayer(
        layerId: string,
        options: TimeStretchOptions,
> ): void {
        useLayerStore().timeStretchLayer(this, layerId, options);
      },
  
```

---

#### Pattern: `: void` at line 941:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
       * Reverse layer playback by negating speed
       * @param layerId - Target layer ID
       */
> reverseLayer(layerId: string): void {
        useLayerStore().reverseLayer(this, layerId);
      },
  
```

---

#### Pattern: `: void` at line 950:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
       * Uses speedMap with hold keyframes
       * @param layerId - Target layer ID
       */
> freezeFrameAtPlayhead(layerId: string): void {
        const comp = this.getActiveComp();
        const storeWithFrame = {
          ...this,
```

---

#### Pattern: `Optional Chaining` at line 954:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const comp = this.getActiveComp();
        const storeWithFrame = {
          ...this,
> currentFrame: comp?.currentFrame ?? 0,
          fps: comp?.settings.fps ?? 30,
          // Explicitly bind pushHistory to preserve 'this' context
          pushHistory: this.pushHistory.bind(this),
```

---

#### Pattern: `Optional Chaining` at line 955:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const storeWithFrame = {
          ...this,
          currentFrame: comp?.currentFrame ?? 0,
> fps: comp?.settings.fps ?? 30,
          // Explicitly bind pushHistory to preserve 'this' context
          pushHistory: this.pushHistory.bind(this),
        };
```

---

#### Pattern: `Optional Chaining` at line 972:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const comp = this.getActiveComp();
        const storeWithFrame = {
          ...this,
> currentFrame: comp?.currentFrame ?? 0,
          fps: comp?.settings.fps ?? 30,
          // Explicitly bind pushHistory to preserve 'this' context
          pushHistory: this.pushHistory.bind(this),
```

---

#### Pattern: `Optional Chaining` at line 973:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const storeWithFrame = {
          ...this,
          currentFrame: comp?.currentFrame ?? 0,
> fps: comp?.settings.fps ?? 30,
          // Explicitly bind pushHistory to preserve 'this' context
          pushHistory: this.pushHistory.bind(this),
        };
```

---

#### Pattern: `: void` at line 980:21

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        return useLayerStore().splitLayerAtPlayhead(storeWithFrame, layerId);
      },
  
> clearSelection(): void {
        useLayerStore().clearSelection(this);
      },
  
```

---

#### Pattern: `: void` at line 987:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Select a property path for graph editor focus
       */
> selectProperty(propertyPath: string | null): void {
        useSelectionStore().setSelectedPropertyPath(propertyPath);
      },
  
```

---

#### Pattern: `: void` at line 1012:11

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      // PLAYBACK CONTROLS (delegated to animationStore)
      // ============================================================
  
> play(): void {
        useAnimationStore().play(this);
      },
  
```

---

#### Pattern: `: void` at line 1016:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        useAnimationStore().play(this);
      },
  
> pause(): void {
        useAnimationStore().pause(this);
      },
  
```

---

#### Pattern: `: void` at line 1020:21

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        useAnimationStore().pause(this);
      },
  
> togglePlayback(): void {
        useAnimationStore().togglePlayback(this);
      },
  
```

---

#### Pattern: `: void` at line 1024:28

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        useAnimationStore().togglePlayback(this);
      },
  
> setFrame(frame: number): void {
        useAnimationStore().setFrame(this, frame);
      },
  
```

---

#### Pattern: `: void` at line 1028:16

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        useAnimationStore().setFrame(this, frame);
      },
  
> nextFrame(): void {
        useAnimationStore().nextFrame(this);
      },
  
```

---

#### Pattern: `: void` at line 1032:16

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        useAnimationStore().nextFrame(this);
      },
  
> prevFrame(): void {
        useAnimationStore().prevFrame(this);
      },
  
```

---

#### Pattern: `: void` at line 1036:16

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        useAnimationStore().prevFrame(this);
      },
  
> goToStart(): void {
        useAnimationStore().goToStart(this);
      },
  
```

---

#### Pattern: `: void` at line 1040:14

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        useAnimationStore().goToStart(this);
      },
  
> goToEnd(): void {
        useAnimationStore().goToEnd(this);
      },
  
```

---

#### Pattern: `: void` at line 1044:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        useAnimationStore().goToEnd(this);
      },
  
> jumpFrames(n: number): void {
        useAnimationStore().jumpFrames(this, n);
      },
  
```

---

#### Pattern: `: void` at line 1053:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
       */
      setTool(
        tool: "select" | "pen" | "text" | "hand" | "zoom" | "segment",
> ): void {
        if (tool === "segment") {
          // Segment tool is compositor-specific
          this.segmentToolActive = true;
```

---

#### Pattern: `: void` at line 1068:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set segmentation mode (point or box)
       */
> setSegmentMode(mode: "point" | "box"): void {
        this.segmentMode = mode;
        this.clearSegmentPendingMask();
      },
```

---

#### Pattern: `: void` at line 1076:30

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Clear pending segmentation mask
       */
> clearSegmentPendingMask(): void {
        this.segmentPendingMask = null;
        this.segmentBoxStart = null;
      },
```

---

#### Pattern: `: void` at line 1084:71

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set pending segmentation mask (preview before creating layer)
       */
> setSegmentPendingMask(mask: CompositorState["segmentPendingMask"]): void {
        this.segmentPendingMask = mask;
      },
  
```

---

#### Pattern: `: void` at line 1091:63

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Object type detected

**Code:**
```typescript
      /**
       * Set box selection start point
       */
> setSegmentBoxStart(point: { x: number; y: number } | null): void {
        this.segmentBoxStart = point;
      },
  
```

---

#### Pattern: `: void` at line 1098:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set segmentation loading state
       */
> setSegmentLoading(loading: boolean): void {
        this.segmentIsLoading = loading;
      },
  
```

---

#### Pattern: `: void` at line 1127:102

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set shape tool options (from toolbar)
       */
> setShapeToolOptions(options: Parameters<ReturnType<typeof useUIStore>["setShapeToolOptions"]>[0]): void {
        useUIStore().setShapeToolOptions(options);
      },
  
```

---

#### Pattern: `: void` at line 1134:18

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * History management (delegated to projectStore)
       */
> pushHistory(): void {
        useProjectStore().pushHistory(this);
      },
  
```

---

#### Pattern: `: void` at line 1138:11

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        useProjectStore().pushHistory(this);
      },
  
> undo(): void {
        useProjectStore().undo(this);
      },
  
```

---

#### Pattern: `: void` at line 1142:11

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        useProjectStore().undo(this);
      },
  
> redo(): void {
        useProjectStore().redo(this);
      },
  
```

---

#### Pattern: `: void` at line 1231:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Toggle curve editor visibility
       */
> toggleCurveEditor(): void {
        useUIStore().toggleCurveEditorVisible();
      },
  
```

---

#### Pattern: `: void` at line 1238:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set curve editor visibility directly
       */
> setCurveEditorVisible(visible: boolean): void {
        useUIStore().setCurveEditorVisible(visible);
      },
  
```

---

#### Pattern: `: void` at line 1245:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Toggle hide minimized layers in timeline
       */
> toggleHideMinimizedLayers(): void {
        useUIStore().toggleHideMinimizedLayers();
      },
  
```

---

#### Pattern: `: void` at line 1250:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      },
  
      /** @deprecated Use toggleHideMinimizedLayers instead */
> toggleHideShyLayers(): void {
        useUIStore().toggleHideMinimizedLayers();
      },
  
```

---

#### Pattern: `: void` at line 1257:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set hide minimized layers state
       */
> setHideMinimizedLayers(hide: boolean): void {
        useUIStore().setHideMinimizedLayers(hide);
      },
  
```

---

#### Pattern: `: void` at line 1262:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      },
  
      /** @deprecated Use setHideMinimizedLayers instead */
> setHideShyLayers(hide: boolean): void {
        useUIStore().setHideMinimizedLayers(hide);
      },
  
```

---

#### Pattern: `: void` at line 1299:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        layerId: string,
        propertyName: string,
        keyframeId: string,
> ): void {
        useKeyframeStore().removeKeyframe(this, layerId, propertyName, keyframeId);
      },
  
```

---

#### Pattern: `: void` at line 1310:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        layerId: string,
        propertyPath: string,
        value: PropertyValue,
> ): void {
        useKeyframeStore().setPropertyValue(this, layerId, propertyPath, value);
      },
  
```

---

#### Pattern: `: void` at line 1337:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        layerId: string,
        propertyPath: string,
        animated: boolean,
> ): void {
        useKeyframeStore().setPropertyAnimated(
          this,
          layerId,
```

---

#### Pattern: `Optional Chaining` at line 1350:14

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              findPropertyByPath(
                this.getActiveCompLayers().find((l) => l.id === layerId)!,
                propertyPath,
> )?.value,
            );
          },
        );
```

---

#### Pattern: `: void` at line 1364:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        propertyPath: string,
        keyframeId: string,
        newFrame: number,
> ): void {
        useKeyframeStore().moveKeyframe(
          this,
          layerId,
```

---

#### Pattern: `: void` at line 1385:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
          keyframeId: string;
        }>,
        frameDelta: number,
> ): void {
        useKeyframeStore().moveKeyframes(this, keyframes, frameDelta);
      },
  
```

---

#### Pattern: `: void` at line 1397:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        propertyPath: string,
        keyframeId: string,
        newValue: number,
> ): void {
        useKeyframeStore().setKeyframeValue(
          this,
          layerId,
```

---

#### Pattern: `: void` at line 1415:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        propertyPath: string,
        keyframeId: string,
        interpolation: InterpolationType,
> ): void {
        useKeyframeStore().setKeyframeInterpolation(
          this,
          layerId,
```

---

#### Pattern: `: void` at line 1461:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        propertyPath: string,
        keyframeId: string,
        updates: { frame?: number; value?: PropertyValue },
> ): void {
        useKeyframeStore().updateKeyframe(
          this,
          layerId,
```

---

#### Pattern: `: void` at line 1480:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        keyframeId: string,
        handleType: "in" | "out",
        handle: BezierHandle,
> ): void {
        useKeyframeStore().setKeyframeHandle(
          this,
          layerId,
```

---

#### Pattern: `: void` at line 1502:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
          inHandle?: { x: number; y: number };
          outHandle?: { x: number; y: number };
        },
> ): void {
        if (handles.inHandle) {
          useKeyframeStore().setKeyframeHandle(
            this,
```

---

#### Pattern: `: void` at line 1541:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        propertyPath: string,
        keyframeId: string,
        controlMode: "smooth" | "corner" | "symmetric",
> ): void {
        useKeyframeStore().setKeyframeControlMode(
          this,
          layerId,
```

---

#### Pattern: `: void` at line 1571:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        handleType: "in" | "out",
        handle: BezierHandle,
        breakHandle: boolean = false,
> ): void {
        useKeyframeStore().setKeyframeHandleWithMode(
          this,
          layerId,
```

---

#### Pattern: `: void` at line 1717:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Rename a layer by ID
       */
> renameLayer(layerId: string, newName: string): void {
        return useLayerStore().renameLayer(this, layerId, newName);
      },
  
```

---

#### Pattern: `: void` at line 1732:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      updateParticleLayerData(
        layerId: string,
        updates: Partial<ParticleLayerData>,
> ): void {
        useParticleStore().updateParticleLayerData(this, layerId, updates);
      },
  
```

---

#### Pattern: `: void` at line 1736:71

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        useParticleStore().updateParticleLayerData(this, layerId, updates);
      },
  
> addParticleEmitter(layerId: string, config: ParticleEmitterConfig): void {
        useParticleStore().addParticleEmitter(this, layerId, config);
      },
  
```

---

#### Pattern: `: void` at line 1744:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        layerId: string,
        emitterId: string,
        updates: Partial<ParticleEmitterConfig>,
> ): void {
        useParticleStore().updateParticleEmitter(this, layerId, emitterId, updates);
      },
  
```

---

#### Pattern: `: void` at line 1748:62

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        useParticleStore().updateParticleEmitter(this, layerId, emitterId, updates);
      },
  
> removeParticleEmitter(layerId: string, emitterId: string): void {
        useParticleStore().removeParticleEmitter(this, layerId, emitterId);
      },
  
```

---

#### Pattern: `: void` at line 1766:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      updateDepthflowConfig(
        layerId: string,
        updates: Partial<DepthflowLayerData["config"]>,
> ): void {
        useDepthflowStore().updateDepthflowConfig(this, layerId, updates);
      },
  
```

---

#### Pattern: `: void` at line 1781:71

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        return useVideoStore().createVideoLayer(this, file, autoResizeComposition);
      },
  
> updateVideoLayerData(layerId: string, updates: Partial<VideoData>): void {
        useVideoStore().updateVideoLayerData(this, layerId, updates);
      },
  
```

---

#### Pattern: `: void` at line 1785:68

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        useVideoStore().updateVideoLayerData(this, layerId, updates);
      },
  
> onVideoMetadataLoaded(layerId: string, metadata: VideoMetadata): void {
        useVideoStore().onVideoMetadataLoaded(this, layerId, metadata);
      },
  
```

---

#### Pattern: `: void` at line 1793:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        width: number,
        height: number,
        frameCount?: number,
> ): void {
        useVideoStore().resizeComposition(this, width, height, frameCount);
      },
  
```

---

#### Pattern: `: void` at line 1813:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      updateNestedCompLayerData(
        layerId: string,
        updates: Partial<NestedCompData>,
> ): void {
        useLayerStore().updateNestedCompLayerData(this, layerId, updates);
      },
  
```

---

#### Pattern: `: void` at line 1872:57

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      // EFFECT ACTIONS (delegated to effectStore)
      // ============================================================
  
> addEffectToLayer(layerId: string, effectKey: string): void {
        useEffectStore().addEffectToLayer(this, layerId, effectKey);
      },
      removeEffectFromLayer(layerId: string, effectId: string): void {
```

---

#### Pattern: `: void` at line 1875:61

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      addEffectToLayer(layerId: string, effectKey: string): void {
        useEffectStore().addEffectToLayer(this, layerId, effectKey);
      },
> removeEffectFromLayer(layerId: string, effectId: string): void {
        useEffectStore().removeEffectFromLayer(this, layerId, effectId);
      },
      updateEffectParameter(
```

---

#### Pattern: `: void` at line 1883:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        effectId: string,
        paramKey: string,
        value: PropertyValue,
> ): void {
        useEffectStore().updateEffectParameter(
          this,
          layerId,
```

---

#### Pattern: `: void` at line 1897:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        effectId: string,
        paramKey: string,
        animated: boolean,
> ): void {
        useEffectStore().setEffectParamAnimated(
          this,
          layerId,
```

---

#### Pattern: `: void` at line 1906:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
          animated,
        );
      },
> toggleEffect(layerId: string, effectId: string): void {
        useEffectStore().toggleEffect(this, layerId, effectId);
      },
      reorderEffects(layerId: string, fromIndex: number, toIndex: number): void {
```

---

#### Pattern: `: void` at line 1909:72

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      toggleEffect(layerId: string, effectId: string): void {
        useEffectStore().toggleEffect(this, layerId, effectId);
      },
> reorderEffects(layerId: string, fromIndex: number, toIndex: number): void {
        useEffectStore().reorderEffects(this, layerId, fromIndex, toIndex);
      },
      getEffectParameterValue(
```

---

#### Pattern: `: void` at line 2064:63

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      getCamera(cameraId: string): Camera3D | null {
        return useCameraStore().getCamera(this, cameraId);
      },
> updateCamera(cameraId: string, updates: Partial<Camera3D>): void {
        useCameraStore().updateCamera(this, cameraId, updates);
      },
      setActiveCamera(cameraId: string): void {
```

---

#### Pattern: `: void` at line 2067:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      updateCamera(cameraId: string, updates: Partial<Camera3D>): void {
        useCameraStore().updateCamera(this, cameraId, updates);
      },
> setActiveCamera(cameraId: string): void {
        useCameraStore().setActiveCamera(this, cameraId);
      },
      deleteCamera(cameraId: string): void {
```

---

#### Pattern: `: void` at line 2070:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      setActiveCamera(cameraId: string): void {
        useCameraStore().setActiveCamera(this, cameraId);
      },
> deleteCamera(cameraId: string): void {
        useCameraStore().deleteCamera(this, cameraId);
      },
      getCameraKeyframes(cameraId: string): CameraKeyframe[] {
```

---

#### Pattern: `: void` at line 2076:66

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      getCameraKeyframes(cameraId: string): CameraKeyframe[] {
        return useCameraStore().getCameraKeyframes(this, cameraId);
      },
> addCameraKeyframe(cameraId: string, keyframe: CameraKeyframe): void {
        useCameraStore().addCameraKeyframe(this, cameraId, keyframe);
      },
      removeCameraKeyframe(cameraId: string, frame: number): void {
```

---

#### Pattern: `: void` at line 2079:58

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      addCameraKeyframe(cameraId: string, keyframe: CameraKeyframe): void {
        useCameraStore().addCameraKeyframe(this, cameraId, keyframe);
      },
> removeCameraKeyframe(cameraId: string, frame: number): void {
        useCameraStore().removeCameraKeyframe(this, cameraId, frame);
      },
      getCameraAtFrame(cameraId: string, frame: number): Camera3D | null {
```

---

#### Pattern: `: void` at line 2088:57

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      getActiveCameraAtFrame(frame?: number): Camera3D | null {
        return useCameraStore().getActiveCameraAtFrame(this, frame ?? this.currentFrame);
      },
> updateViewportState(updates: Partial<ViewportState>): void {
        useCameraStore().updateViewportState(this, updates);
      },
      updateViewOptions(updates: Partial<ViewOptions>): void {
```

---

#### Pattern: `: void` at line 2091:53

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      updateViewportState(updates: Partial<ViewportState>): void {
        useCameraStore().updateViewportState(this, updates);
      },
> updateViewOptions(updates: Partial<ViewOptions>): void {
        useCameraStore().updateViewOptions(this, updates);
      },
  
```

---

#### Pattern: `: void` at line 2102:22

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      async loadAudio(file: File): Promise<void> {
        await useAudioStore().loadAudio(file, this.project.composition.fps);
      },
> cancelAudioLoad(): void {
        useAudioStore().cancelLoad();
      },
      clearAudio(): void {
```

---

#### Pattern: `: void` at line 2105:17

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      cancelAudioLoad(): void {
        useAudioStore().cancelLoad();
      },
> clearAudio(): void {
        useAudioStore().clear();
        this.pathAnimators.clear();
      },
```

---

#### Pattern: `: void` at line 2109:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        useAudioStore().clear();
        this.pathAnimators.clear();
      },
> setAudioVolume(volume: number): void {
        useAudioStore().setVolume(volume);
      },
      setAudioMuted(muted: boolean): void {
```

---

#### Pattern: `: void` at line 2112:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      setAudioVolume(volume: number): void {
        useAudioStore().setVolume(volume);
      },
> setAudioMuted(muted: boolean): void {
        useAudioStore().setMuted(muted);
      },
      toggleAudioMute(): void {
```

---

#### Pattern: `: void` at line 2115:22

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      setAudioMuted(muted: boolean): void {
        useAudioStore().setMuted(muted);
      },
> toggleAudioMute(): void {
        useAudioStore().toggleMuted();
      },
      getAudioFeatureAtFrame(feature: string, frame?: number): number {
```

---

#### Pattern: `: void` at line 2124:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      applyAudioToParticles(
        layerId: string,
        mapping: AudioParticleMapping,
> ): void {
        useAudioStore().addLegacyMapping(layerId, mapping);
      },
      removeLegacyAudioMapping(layerId: string, index: number): void {
```

---

#### Pattern: `: void` at line 2127:61

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      ): void {
        useAudioStore().addLegacyMapping(layerId, mapping);
      },
> removeLegacyAudioMapping(layerId: string, index: number): void {
        useAudioStore().removeLegacyMapping(layerId, index);
      },
      getAudioMappingsForLayer(layerId: string): AudioParticleMapping[] {
```

---

#### Pattern: `: void` at line 2133:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      getAudioMappingsForLayer(layerId: string): AudioParticleMapping[] {
        return useAudioStore().getLegacyMappings(layerId);
      },
> setPeakData(peakData: PeakData): void {
        useAudioStore().setPeakData(peakData);
      },
      detectAudioPeaks(config: PeakDetectionConfig): PeakData | null {
```

---

#### Pattern: `: void` at line 2139:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      detectAudioPeaks(config: PeakDetectionConfig): PeakData | null {
        return useAudioStore().detectPeaks(config);
      },
> addAudioMapping(mapping: AudioMapping): void {
        useAudioStore().addMapping(mapping);
      },
      removeAudioMapping(mappingId: string): void {
```

---

#### Pattern: `: void` at line 2142:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      addAudioMapping(mapping: AudioMapping): void {
        useAudioStore().addMapping(mapping);
      },
> removeAudioMapping(mappingId: string): void {
        useAudioStore().removeMapping(mappingId);
      },
      updateAudioMapping(
```

---

#### Pattern: `: void` at line 2148:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      updateAudioMapping(
        mappingId: string,
        updates: Partial<AudioMapping>,
> ): void {
        useAudioStore().updateMapping(mappingId, updates);
      },
      getAudioMappings(): AudioMapping[] {
```

---

#### Pattern: `Optional Chaining` at line 2158:56

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return useAudioStore().getMappedValueAtFrame(mappingId, frame);
      },
      getAllMappedValuesAtFrame(frame?: number): Map<TargetParameter, number> {
> const targetFrame = frame ?? this.getActiveComp()?.currentFrame ?? 0;
        return useAudioStore().getAllMappedValuesAtFrame(targetFrame);
      },
      getActiveMappingsForLayer(layerId: string): AudioMapping[] {
```

---

#### Pattern: `Optional Chaining` at line 2171:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return useAudioStore().getValuesForLayerAtFrame(layerId, frame);
      },
      isBeatAtCurrentFrame(): boolean {
> const frame = this.getActiveComp()?.currentFrame ?? 0;
        return useAudioStore().isBeatAtFrame(frame);
      },
      convertAudioToKeyframes(
```

---

#### Pattern: `: void` at line 2225:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      getAudioPeakFrames(): number[] {
        return getPeakFrames(useAudioStore().peakData);
      },
> setSnapConfig(config: Partial<SnapConfig>): void {
        useAnimationStore().setSnapConfig(config);
      },
      toggleSnapping(): void {
```

---

#### Pattern: `: void` at line 2228:21

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      setSnapConfig(config: Partial<SnapConfig>): void {
        useAnimationStore().setSnapConfig(config);
      },
> toggleSnapping(): void {
        useAnimationStore().toggleSnapping();
      },
      toggleSnapType(
```

---

#### Pattern: `: void` at line 2239:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
          | "peaks"
          | "layerBounds"
          | "playhead",
> ): void {
        useAnimationStore().toggleSnapType(type);
      },
  
```

---

#### Pattern: `: void` at line 2247:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      createPathAnimator(
        layerId: string,
        config: Partial<PathAnimatorConfig> = {},
> ): void {
        useAudioKeyframeStore().createPathAnimator(this, layerId, config);
      },
      setPathAnimatorPath(layerId: string, pathData: string): void {
```

---

#### Pattern: `: void` at line 2250:59

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      ): void {
        useAudioKeyframeStore().createPathAnimator(this, layerId, config);
      },
> setPathAnimatorPath(layerId: string, pathData: string): void {
        useAudioKeyframeStore().setPathAnimatorPath(this, layerId, pathData);
      },
      updatePathAnimatorConfig(
```

---

#### Pattern: `: void` at line 2256:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      updatePathAnimatorConfig(
        layerId: string,
        config: Partial<PathAnimatorConfig>,
> ): void {
        useAudioKeyframeStore().updatePathAnimatorConfig(this, layerId, config);
      },
      removePathAnimator(layerId: string): void {
```

---

#### Pattern: `: void` at line 2259:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      ): void {
        useAudioKeyframeStore().updatePathAnimatorConfig(this, layerId, config);
      },
> removePathAnimator(layerId: string): void {
        useAudioKeyframeStore().removePathAnimator(this, layerId);
      },
      getPathAnimator(layerId: string): PathAnimatorAccess | undefined {
```

---

#### Pattern: `: void` at line 2265:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      getPathAnimator(layerId: string): PathAnimatorAccess | undefined {
        return useAudioKeyframeStore().getPathAnimator(this, layerId);
      },
> updatePathAnimators(): void {
        useAudioKeyframeStore().updatePathAnimators(this);
      },
      resetPathAnimators(): void {
```

---

#### Pattern: `: void` at line 2268:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      updatePathAnimators(): void {
        useAudioKeyframeStore().updatePathAnimators(this);
      },
> resetPathAnimators(): void {
        useAudioKeyframeStore().resetPathAnimators(this);
      },
      initializeAudioReactiveMapper(): void {
```

---

#### Pattern: `: void` at line 2271:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      resetPathAnimators(): void {
        useAudioKeyframeStore().resetPathAnimators(this);
      },
> initializeAudioReactiveMapper(): void {
        useAudioStore().initializeReactiveMapper();
      },
  
```

---

#### Pattern: `: void` at line 2296:19

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      ): boolean {
        return useMarkerStore().updateMarker(this, markerId, updates);
      },
> clearMarkers(): void {
        useMarkerStore().clearMarkers(this);
      },
      getMarkers(): import("@/types/project").Marker[] {
```

---

#### Pattern: `: void` at line 2320:23

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      getPreviousMarker(frame: number): import("@/types/project").Marker | null {
        return useMarkerStore().getPreviousMarker(this, frame);
      },
> jumpToNextMarker(): void {
        useMarkerStore().jumpToNextMarker(this);
      },
      jumpToPreviousMarker(): void {
```

---

#### Pattern: `: void` at line 2323:27

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      jumpToNextMarker(): void {
        useMarkerStore().jumpToNextMarker(this);
      },
> jumpToPreviousMarker(): void {
        useMarkerStore().jumpToPreviousMarker(this);
      },
      addMarkers(
```

---

#### Pattern: `: void` at line 2339:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      // PROPERTY DRIVER SYSTEM (delegated to expressionStore)
      // ============================================================
  
> initializePropertyDriverSystem(): void {
        useExpressionStore().initializePropertyDriverSystem(this);
      },
      // Evaluates property at frame, using composition's fps and duration for expressions
```

---

#### Pattern: `Optional Chaining` at line 2380:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        return useExpressionStore().getEvaluatedLayerProperties(
          this,
          layerId,
> this.getActiveComp()?.currentFrame ?? 0,
        );
      },
      addPropertyDriver(driver: PropertyDriver): boolean {
```

---

#### Pattern: `: void` at line 2425:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
          options,
        );
      },
> removePropertyDriver(driverId: string): void {
        useExpressionStore().removePropertyDriver(this, driverId);
      },
      updatePropertyDriver(
```

---

#### Pattern: `: void` at line 2431:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      updatePropertyDriver(
        driverId: string,
        updates: Partial<PropertyDriver>,
> ): void {
        useExpressionStore().updatePropertyDriver(this, driverId, updates);
      },
      getDriversForLayer(layerId: string): PropertyDriver[] {
```

---

#### Pattern: `: void` at line 2437:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      getDriversForLayer(layerId: string): PropertyDriver[] {
        return useExpressionStore().getDriversForLayer(this, layerId);
      },
> togglePropertyDriver(driverId: string): void {
        useExpressionStore().togglePropertyDriver(this, driverId);
      },
  
```

---

#### Pattern: `: void` at line 2449:45

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
       * Reset a particle layer's simulation
       * Called when particle configuration changes
       */
> resetParticleSimulation(layerId: string): void {
        particleSimulationRegistry.resetLayer(layerId);
        storeLogger.debug("Reset particle simulation for layer:", layerId);
      },
```

---

#### Pattern: `: void` at line 2458:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
       * Clear all particle simulations
       * Called on project load/new
       */
> clearAllParticleSimulations(): void {
        particleSimulationRegistry.clear();
        storeLogger.debug("Cleared all particle simulations");
      },
```

---

#### Pattern: `: void` at line 2489:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      // AUTOSAVE/PROJECT ACTIONS (delegated to projectStore)
      // ============================================================
  
> enableAutosave(intervalMs?: number): void {
        useProjectStore().configureAutosave(
          this,
          { enabled: true, intervalMs },
```

---

#### Pattern: `: void` at line 2496:22

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
          () => this.performAutosave(),
        );
      },
> disableAutosave(): void {
        useProjectStore().stopAutosave(this);
        this.autosaveEnabled = false;
      },
```

---

#### Pattern: `: void` at line 2500:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        useProjectStore().stopAutosave(this);
        this.autosaveEnabled = false;
      },
> startAutosaveTimer(): void {
        useProjectStore().startAutosave(this, () => this.performAutosave());
      },
      stopAutosaveTimer(): void {
```

---

#### Pattern: `: void` at line 2503:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      startAutosaveTimer(): void {
        useProjectStore().startAutosave(this, () => this.performAutosave());
      },
> stopAutosaveTimer(): void {
        useProjectStore().stopAutosave(this);
      },
      async performAutosave(): Promise<void> {
```

---

#### Pattern: `: void` at line 2509:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      async performAutosave(): Promise<void> {
        return useProjectStore().performAutosave(this);
      },
> markUnsavedChanges(): void {
        useProjectStore().markUnsavedChanges(this);
        this.invalidateFrameCache();
      },
```

---

#### Pattern: `: void` at line 2539:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      async initializeFrameCache(): Promise<void> {
        return useCacheStore().initializeCache(this);
      },
> setFrameCacheEnabled(enabled: boolean): void {
        useCacheStore().setFrameCacheEnabled(this, enabled);
      },
      getCachedFrame(frame: number): ImageData | null {
```

---

#### Pattern: `: void` at line 2557:27

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      ): Promise<void> {
        return useCacheStore().startPreCache(this, currentFrame, direction);
      },
> invalidateFrameCache(): void {
        useCacheStore().invalidateFrameCache(this);
      },
      clearFrameCache(): void {
```

---

#### Pattern: `: void` at line 2560:22

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      invalidateFrameCache(): void {
        useCacheStore().invalidateFrameCache(this);
      },
> clearFrameCache(): void {
        useCacheStore().clearFrameCache();
      },
      getFrameCacheStats(): CacheStats {
```

---

#### Pattern: `: void` at line 2577:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set timeline zoom level
       */
> setTimelineZoom(zoom: number): void {
        useAnimationStore().setTimelineZoom(zoom);
      },
  
```

---

#### Pattern: `: void` at line 2584:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Select an asset by ID
       */
> selectAsset(assetId: string | null): void {
        useProjectStore().selectAsset(this, assetId);
      },
  
```

---

#### Pattern: `: void` at line 2591:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
      /**
       * Select multiple layers (delegates to selectionStore)
       */
> selectLayers(layerIds: string[]): void {
        const selection = useSelectionStore();
        selection.selectLayers(layerIds);
      },
```

---

#### Pattern: `: void` at line 2654:58

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
       * @param layerId The layer ID
       * @param propertyPath Path to the property (e.g., 'transform.position')
       */
> clearKeyframes(layerId: string, propertyPath: string): void {
        useKeyframeStore().clearKeyframes(this, layerId, propertyPath);
      },
  
```

---

#### Pattern: `: void` at line 2732:41

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
       * Jump to the next keyframe (K key behavior)
       * @param layerId Optional layer ID. If not provided, uses selected layers or all layers.
       */
> jumpToNextKeyframe(layerId?: string): void {
        useAnimationStore().jumpToNextKeyframe(this, layerId);
      },
  
```

---

#### Pattern: `: void` at line 2740:41

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
       * Jump to the previous keyframe (J key behavior)
       * @param layerId Optional layer ID. If not provided, uses selected layers or all layers.
       */
> jumpToPrevKeyframe(layerId?: string): void {
        useAnimationStore().jumpToPrevKeyframe(this, layerId);
      },
  
```

---

#### Pattern: `: void` at line 2903:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
          origin?: { x: number; y: number; z?: number };
          anchor?: { x: number; y: number; z?: number }; // Alias for origin
        },
> ): void {
        return useLayerStore().updateLayerTransform(this, layerId, updates);
      },
    },
```

---

### `stores/decompositionStore.ts` (14 pattern(s))

#### Pattern: `Optional Chaining` at line 183:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        try {
          // Step 1: Decompose image using Qwen model
> onProgress?.("decomposing", "Decomposing image into layers...", 0);
  
          const decomposed = await service.decomposeWithAutoSetup(
            imageDataUrl,
```

---

#### Pattern: `Optional Chaining` at line 202:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          storeLogger.info(`Decomposition complete: ${decomposed.length} layers`);
  
          // Step 2: Prepare layer analysis for depth estimation
> onProgress?.("analyzing", "Analyzing layer depths...", 50);
  
          const layerInputs: LayerAnalysisInput[] = decomposed.map(
            (layer, index) => ({
```

---

#### Pattern: `Optional Chaining` at line 217:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
          if (autoDepthEstimation) {
            try {
> onProgress?.("estimating", "Estimating layer depths with AI...", 60);
              const estimator = getLLMDepthEstimator();
              depthResult = await estimator.estimateDepths(layerInputs, {
                provider: depthProvider,
```

---

#### Pattern: `Optional Chaining` at line 238:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          // Step 4: Create group layer if requested
          let groupLayerId: string | undefined;
          if (groupLayers) {
> onProgress?.("creating", "Creating layer group...", 70);
            const groupLayer = store.createLayer("null", groupName);
            groupLayerId = groupLayer.id;
          }
```

---

#### Pattern: `Optional Chaining` at line 244:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          }
  
          // Step 5: Create image layers sorted by depth (farthest first)
> onProgress?.("creating", "Creating layers...", 75);
  
          const sortedLayers = [...decomposed]
            .map((layer, index) => ({
```

---

#### Pattern: `Optional Chaining` at line 255:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            }))
            .sort(
              (a, b) =>
> (b.depth?.estimatedDepth || 0) - (a.depth?.estimatedDepth || 0),
            );
  
          for (let i = 0; i < sortedLayers.length; i++) {
```

---

#### Pattern: `Optional Chaining` at line 255:56

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            }))
            .sort(
              (a, b) =>
> (b.depth?.estimatedDepth || 0) - (a.depth?.estimatedDepth || 0),
            );
  
          for (let i = 0; i < sortedLayers.length; i++) {
```

---

#### Pattern: `Optional Chaining` at line 261:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          for (let i = 0; i < sortedLayers.length; i++) {
            const { decomposed: layer, depth } = sortedLayers[i];
  
> onProgress?.(
              "creating",
              `Creating layer ${i + 1}/${sortedLayers.length}...`,
              75 + (i / sortedLayers.length) * 20,
```

---

#### Pattern: `Optional Chaining` at line 270:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            const createdLayer = await createLayerFromDecomposed(
              store,
              layer,
> depth?.contentDescription || layer.label,
              depth?.suggestedZPosition || 0,
            );
  
```

---

#### Pattern: `Optional Chaining` at line 271:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              store,
              layer,
              depth?.contentDescription || layer.label,
> depth?.suggestedZPosition || 0,
            );
  
            if (createdLayer) {
```

---

#### Pattern: `Optional Chaining` at line 283:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          }
  
          // Step 6: Finalize
> onProgress?.("complete", `Created ${createdLayers.length} layers`, 100);
          store.project.meta.modified = new Date().toISOString();
          store.pushHistory();
  
```

---

#### Pattern: `Optional Chaining` at line 300:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        } catch (error) {
          const errorMsg = error instanceof Error ? error.message : "Unknown error";
          storeLogger.error("Layer decomposition failed:", error);
> onProgress?.("error", errorMsg, 0);
  
          return {
            success: false,
```

---

#### Pattern: `Optional Chaining` at line 326:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          return {
            downloaded: status.downloaded,
            loaded: status.loaded,
> verified: status.verification?.verified ?? false,
            error: status.error || undefined,
          };
        } catch (error) {
```

---

#### Pattern: `Optional Chaining` at line 372:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          }
  
          await service.downloadModel();
> stopPolling?.();
  
          return { success: true };
        } catch (error) {
```

---

### `stores/depthflowStore.ts` (2 pattern(s))

#### Pattern: `isFinite()` at line 35:44

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
   * Prevents NaN/Infinity corruption in layer data.
   */
  function sanitizeNumber(value: unknown, defaultValue: number): number {
> if (typeof value !== "number" || !Number.isFinite(value)) {
      return defaultValue;
    }
    return value;
```

---

#### Pattern: `: void` at line 109:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        store: DepthflowStoreAccess,
        layerId: string,
        updates: Partial<DepthflowLayerData["config"]>,
> ): void {
        const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
        if (!layer || layer.type !== "depthflow") {
          return;
```

---

### `stores/effectStore/index.ts` (25 pattern(s))

#### Pattern: `: void` at line 159:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    return layer.layerStyles;
  }
  
> function updateModified(store: LayerStyleStore): void {
    store.project.meta.modified = new Date().toISOString();
  }
  
```

---

#### Pattern: `: void` at line 192:83

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Add effect to layer.
       */
> addEffectToLayer(store: EffectStoreAccess, layerId: string, effectKey: string): void {
        const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
        if (!layer) return;
  
```

---

#### Pattern: `: void` at line 208:87

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Remove effect from layer.
       */
> removeEffectFromLayer(store: EffectStoreAccess, layerId: string, effectId: string): void {
        const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
        if (!layer || !layer.effects) return;
  
```

---

#### Pattern: `: void` at line 223:121

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Update effect parameter value.
       */
> updateEffectParameter(store: EffectStoreAccess, layerId: string, effectId: string, paramKey: string, value: unknown): void {
        const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
        if (!layer || !layer.effects) return;
  
```

---

#### Pattern: `: void` at line 238:125

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Toggle effect parameter animation state.
       */
> setEffectParamAnimated(store: EffectStoreAccess, layerId: string, effectId: string, paramKey: string, animated: boolean): void {
        const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
        if (!layer || !layer.effects) return;
  
```

---

#### Pattern: `: void` at line 267:78

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Toggle effect enabled state.
       */
> toggleEffect(store: EffectStoreAccess, layerId: string, effectId: string): void {
        const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
        if (!layer || !layer.effects) return;
  
```

---

#### Pattern: `: void` at line 282:98

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Reorder effects in stack.
       */
> reorderEffects(store: EffectStoreAccess, layerId: string, fromIndex: number, toIndex: number): void {
        const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
        if (!layer || !layer.effects) return;
  
```

---

#### Pattern: `: void` at line 298:81

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Duplicate effect on layer.
       */
> duplicateEffect(store: EffectStoreAccess, layerId: string, effectId: string): void {
        const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
        if (!layer || !layer.effects) return;
  
```

---

#### Pattern: `Optional Chaining` at line 327:54

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!effect || !effect.parameters[paramKey]) return null;
  
        const param = effect.parameters[paramKey];
> const rawFrame = frame ?? store.getActiveComp()?.currentFrame ?? 0;
        const targetFrame = Number.isFinite(rawFrame) ? rawFrame : 0;
  
        if (param.animated && param.keyframes.length > 0) {
```

---

#### Pattern: `isFinite()` at line 328:34

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
        const param = effect.parameters[paramKey];
        const rawFrame = frame ?? store.getActiveComp()?.currentFrame ?? 0;
> const targetFrame = Number.isFinite(rawFrame) ? rawFrame : 0;
  
        if (param.animated && param.keyframes.length > 0) {
          return interpolateProperty(param, targetFrame);
```

---

#### Pattern: `: void` at line 344:85

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Enable or disable all layer styles for a layer.
       */
> setLayerStylesEnabled(store: LayerStyleStore, layerId: string, enabled: boolean): void {
        const layer = getLayerById(store, layerId);
        if (!layer) {
          storeLogger.warn("setLayerStylesEnabled: Layer not found", { layerId });
```

---

#### Pattern: `: void` at line 362:109

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Enable or disable a specific style type.
       */
> setStyleEnabled(store: LayerStyleStore, layerId: string, styleType: keyof LayerStyles, enabled: boolean): void {
        const layer = getLayerById(store, layerId);
        if (!layer) {
          storeLogger.warn("setStyleEnabled: Layer not found", { layerId });
```

---

#### Pattern: `: void` at line 411:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        styleType: T,
        property: K,
        value: unknown,
> ): void {
        const layer = getLayerById(store, layerId);
        if (!layer) {
          storeLogger.warn("updateStyleProperty: Layer not found", { layerId });
```

---

#### Pattern: `: void` at line 441:126

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set entire style configuration.
       */
> setStyle<T extends keyof LayerStyles>(store: LayerStyleStore, layerId: string, styleType: T, styleConfig: LayerStyles[T]): void {
        const layer = getLayerById(store, layerId);
        if (!layer) {
          storeLogger.warn("setStyle: Layer not found", { layerId });
```

---

#### Pattern: `: void` at line 459:86

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set all layer styles at once.
       */
> setLayerStyles(store: LayerStyleStore, layerId: string, layerStyles: LayerStyles): void {
        const layer = getLayerById(store, layerId);
        if (!layer) {
          storeLogger.warn("setLayerStyles: Layer not found", { layerId });
```

---

#### Pattern: `: void` at line 496:84

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Paste layer styles to a layer.
       */
> pasteLayerStyles(store: LayerStyleStore, layerId: string, styles?: LayerStyles): void {
        const stylesToPaste = styles ?? this.styleClipboard;
        if (!stylesToPaste) {
          storeLogger.warn("pasteLayerStyles: No styles provided");
```

---

#### Pattern: `: void` at line 519:97

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
      /**
       * Paste layer styles to multiple layers.
       */
> pasteLayerStylesToMultiple(store: LayerStyleStore, layerIds: string[], styles?: LayerStyles): void {
        const stylesToPaste = styles ?? this.styleClipboard;
        if (!stylesToPaste) {
          storeLogger.warn("pasteLayerStylesToMultiple: No styles provided");
```

---

#### Pattern: `: void` at line 542:62

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Clear layer styles from a layer.
       */
> clearLayerStyles(store: LayerStyleStore, layerId: string): void {
        const layer = getLayerById(store, layerId);
        if (!layer) {
          storeLogger.warn("clearLayerStyles: Layer not found", { layerId });
```

---

#### Pattern: `: void` at line 559:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Clear the style clipboard.
       */
> clearStyleClipboard(): void {
        this.styleClipboard = null;
      },
  
```

---

#### Pattern: `: void` at line 584:7

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        spread?: number;
        size?: number;
        opacity?: number;
> }): void {
        const layer = getLayerById(store, layerId);
        if (!layer) return;
  
```

---

#### Pattern: `: void` at line 615:7

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        size?: number;
        position?: "outside" | "inside" | "center";
        opacity?: number;
> }): void {
        const layer = getLayerById(store, layerId);
        if (!layer) return;
  
```

---

#### Pattern: `: void` at line 644:7

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        spread?: number;
        size?: number;
        opacity?: number;
> }): void {
        const layer = getLayerById(store, layerId);
        if (!layer) return;
  
```

---

#### Pattern: `: void` at line 672:7

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        color?: RGBA;
        opacity?: number;
        blendMode?: string;
> }): void {
        const layer = getLayerById(store, layerId);
        if (!layer) return;
  
```

---

#### Pattern: `: void` at line 704:7

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        soften?: number;
        angle?: number;
        altitude?: number;
> }): void {
        const layer = getLayerById(store, layerId);
        if (!layer) return;
  
```

---

#### Pattern: `: void` at line 736:82

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Apply a style preset to a layer.
       */
> applyStylePreset(store: LayerStyleStore, layerId: string, presetName: string): void {
        const preset = STYLE_PRESETS[presetName];
        if (!preset) {
          storeLogger.warn("applyStylePreset: Preset not found", { presetName });
```

---

### `stores/expressionStore/drivers.ts` (7 pattern(s))

#### Pattern: `: void` at line 29:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   */
  export function initializePropertyDriverSystem(
    store: ExpressionStoreAccess,
> ): void {
    const expressionStore = useExpressionStore();
    expressionStore.propertyDriverSystem = new PropertyDriverSystem();
  
```

---

#### Pattern: `Optional Chaining` at line 72:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    if (!layer) return new Map();
  
    // Get composition context for expressions
> const comp = store.getActiveComp?.();
    // Validate fps (nullish coalescing doesn't catch NaN)
    const fps = Number.isFinite(store.fps) && store.fps > 0 ? store.fps : 16;
    // Validate duration calculation to prevent NaN propagation
```

---

#### Pattern: `isFinite()` at line 74:22

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    // Get composition context for expressions
    const comp = store.getActiveComp?.();
    // Validate fps (nullish coalescing doesn't catch NaN)
> const fps = Number.isFinite(store.fps) && store.fps > 0 ? store.fps : 16;
    // Validate duration calculation to prevent NaN propagation
    const rawDuration = comp
      ? comp.settings.frameCount / comp.settings.fps
```

---

#### Pattern: `isFinite()` at line 80:41

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      ? comp.settings.frameCount / comp.settings.fps
      : undefined;
    const duration =
> rawDuration !== undefined && Number.isFinite(rawDuration)
        ? rawDuration
        : undefined;
  
```

---

#### Pattern: `: void` at line 261:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function removePropertyDriver(
    store: ExpressionStoreAccess,
    driverId: string,
> ): void {
    const expressionStore = useExpressionStore();
    const index = expressionStore.propertyDrivers.findIndex(
      (d: PropertyDriver) => d.id === driverId,
```

---

#### Pattern: `: void` at line 285:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    store: ExpressionStoreAccess,
    driverId: string,
    updates: Partial<PropertyDriver>,
> ): void {
    const expressionStore = useExpressionStore();
    const driver = expressionStore.propertyDrivers.find(
      (d: PropertyDriver) => d.id === driverId,
```

---

#### Pattern: `: void` at line 320:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function togglePropertyDriver(
    store: ExpressionStoreAccess,
    driverId: string,
> ): void {
    const expressionStore = useExpressionStore();
    const driver = expressionStore.propertyDrivers.find(
      (d: PropertyDriver) => d.id === driverId,
```

---

### `stores/expressionStore/index.ts` (4 pattern(s))

#### Pattern: `: void` at line 210:65

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Initialize the property driver system
       */
> initializePropertyDriverSystem(store: ExpressionStoreAccess): void {
        initializePropertyDriverSystemImpl(store);
      },
  
```

---

#### Pattern: `: void` at line 289:73

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Remove a property driver
       */
> removePropertyDriver(store: ExpressionStoreAccess, driverId: string): void {
        removePropertyDriverImpl(store, driverId);
      },
  
```

---

#### Pattern: `: void` at line 300:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        store: ExpressionStoreAccess,
        driverId: string,
        updates: Partial<PropertyDriver>,
> ): void {
        updatePropertyDriverImpl(store, driverId, updates);
      },
  
```

---

#### Pattern: `: void` at line 320:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      togglePropertyDriver(
        store: ExpressionStoreAccess,
        driverId: string,
> ): void {
        togglePropertyDriverImpl(store, driverId);
      },
    },
```

---

### `stores/historyStore.ts` (4 pattern(s))

#### Pattern: `: void` at line 37:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
       * Push a new state to history
       * This should be called after significant changes to the project
       */
> push(project: LatticeProject): void {
        // Remove any future states if we're not at the end
        if (this.index < this.stack.length - 1) {
          this.stack = this.stack.slice(0, this.index + 1);
```

---

#### Pattern: `: void` at line 100:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Clear all history
       */
> clear(): void {
        this.stack = [];
        this.index = -1;
        storeLogger.debug("History cleared");
```

---

#### Pattern: `: void` at line 109:40

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Initialize history with a starting state
       */
> initialize(project: LatticeProject): void {
        this.clear();
        this.push(project);
      },
```

---

#### Pattern: `: void` at line 117:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set maximum history size
       */
> setMaxSize(size: number): void {
        this.maxSize = Math.max(1, size);
        // Trim if needed
        while (this.stack.length > this.maxSize) {
```

---

### `stores/keyframeStore/clipboard.ts` (3 pattern(s))

#### Pattern: `Optional Chaining` at line 58:31

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          keyframeIds: [],
        });
      }
> groupedByProperty.get(key)?.keyframeIds.push(sel.keyframeId);
    }
  
    // Find the earliest frame among all selected keyframes (for relative timing)
```

---

#### Pattern: `Optional Chaining` at line 72:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      if (!layer) continue;
  
      const property = findPropertyByPath(layer, group.propertyPath);
> if (!property?.keyframes) continue;
  
      const selectedKeyframes = property.keyframes.filter((kf) =>
        group.keyframeIds.includes(kf.id),
```

---

#### Pattern: `Optional Chaining` at line 97:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      if (!layer) continue;
  
      const property = findPropertyByPath(layer, group.propertyPath);
> if (!property?.keyframes) continue;
  
      const selectedKeyframes = property.keyframes.filter((kf) =>
        group.keyframeIds.includes(kf.id),
```

---

### `stores/keyframeStore/crud.ts` (13 pattern(s))

#### Pattern: `Optional Chaining` at line 41:42

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  ): Keyframe<T> | null {
    const comp = store.getActiveComp();
    // Validate frame (nullish coalescing doesn't catch NaN)
> const frame = safeFrame(atFrame ?? comp?.currentFrame, 0);
  
    storeLogger.debug("addKeyframe called:", {
      layerId,
```

---

#### Pattern: `: void` at line 115:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    layerId: string,
    propertyPath: string,
    keyframeId: string,
> ): void {
    const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
    if (!layer) return;
  
```

---

#### Pattern: `: void` at line 144:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    store: KeyframeStoreAccess,
    layerId: string,
    propertyPath: string,
> ): void {
    const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
    if (!layer) return;
  
```

---

#### Pattern: `Optional Chaining` at line 255:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // 1. Project load (pre-validates all expressions)
      // 2. Expression editor UI (validates before applying)
      const expr = propertyData.expression;
> if (expr?.type === "custom" && expr?.params?.code) {
        storeLogger.error(
          "updateLayerProperty: Custom expressions must be applied through expression editor (requires async validation)",
        );
```

---

#### Pattern: `Optional Chaining` at line 255:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // 1. Project load (pre-validates all expressions)
      // 2. Expression editor UI (validates before applying)
      const expr = propertyData.expression;
> if (expr?.type === "custom" && expr?.params?.code) {
        storeLogger.error(
          "updateLayerProperty: Custom expressions must be applied through expression editor (requires async validation)",
        );
```

---

#### Pattern: `Optional Chaining` at line 255:48

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // 1. Project load (pre-validates all expressions)
      // 2. Expression editor UI (validates before applying)
      const expr = propertyData.expression;
> if (expr?.type === "custom" && expr?.params?.code) {
        storeLogger.error(
          "updateLayerProperty: Custom expressions must be applied through expression editor (requires async validation)",
        );
```

---

#### Pattern: `: void` at line 290:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    propertyPath: string,
    keyframeId: string,
    newFrame: number,
> ): void {
    // Validate frame before processing
    if (!Number.isFinite(newFrame)) {
      storeLogger.warn("moveKeyframe: Invalid frame value:", newFrame);
```

---

#### Pattern: `isFinite()` at line 292:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    newFrame: number,
  ): void {
    // Validate frame before processing
> if (!Number.isFinite(newFrame)) {
      storeLogger.warn("moveKeyframe: Invalid frame value:", newFrame);
      return;
    }
```

---

#### Pattern: `: void` at line 348:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      keyframeId: string;
    }>,
    frameDelta: number,
> ): void {
    // Validate frameDelta
    if (!Number.isFinite(frameDelta)) {
      storeLogger.warn("moveKeyframes: Invalid frameDelta:", frameDelta);
```

---

#### Pattern: `isFinite()` at line 350:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    frameDelta: number,
  ): void {
    // Validate frameDelta
> if (!Number.isFinite(frameDelta)) {
      storeLogger.warn("moveKeyframes: Invalid frameDelta:", frameDelta);
      return;
    }
```

---

#### Pattern: `: void` at line 470:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    propertyPath: string,
    keyframeId: string,
    newValue: PropertyValue,
> ): void {
    const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
    if (!layer) return;
  
```

---

#### Pattern: `: void` at line 507:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    propertyPath: string,
    keyframeId: string,
    updates: { frame?: number; value?: PropertyValue },
> ): void {
    const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
    if (!layer) return;
  
```

---

#### Pattern: `isFinite()` at line 517:45

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const keyframe = property.keyframes.find((kf) => kf.id === keyframeId);
    if (!keyframe) return;
  
> if (updates.frame !== undefined && Number.isFinite(updates.frame)) {
      // Check for existing keyframe at target frame (same pattern as moveKeyframe)
      const existingAtTarget = property.keyframes.find(
        (kf) => kf.frame === updates.frame && kf.id !== keyframeId,
```

---

### `stores/keyframeStore/dimensions.ts` (2 pattern(s))

#### Pattern: `Optional Chaining` at line 109:44

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const layerStore = useLayerStore();
    const layer = layerStore.getLayerById(store, layerId);
    if (!layer) return false;
> return layer.transform.separateDimensions?.position === true;
  }
  
  /**
```

---

#### Pattern: `Optional Chaining` at line 122:44

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const layerStore = useLayerStore();
    const layer = layerStore.getLayerById(store, layerId);
    if (!layer) return false;
> return layer.transform.separateDimensions?.scale === true;
  }
  
```

---

### `stores/keyframeStore/evaluation.ts` (1 pattern(s))

#### Pattern: `Optional Chaining` at line 264:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    property: AnimatableProperty<T>,
  ): T {
    const comp = store.getActiveComp();
> const frame = comp?.currentFrame ?? 0;
    const fps = store.fps;
    const duration = comp
      ? comp.settings.frameCount / comp.settings.fps
```

---

### `stores/keyframeStore/expressions.ts` (5 pattern(s))

#### Pattern: `Optional Chaining` at line 161:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    if (!layer) return undefined;
  
    const property = findPropertyByPath(layer, propertyPath);
> return property?.expression;
  }
  
  /**
```

---

#### Pattern: `Optional Chaining` at line 176:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    if (!layer) return false;
  
    const property = findPropertyByPath(layer, propertyPath);
> return property?.expression !== undefined;
  }
  
  /**
```

---

#### Pattern: `Optional Chaining` at line 242:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      return 0;
    }
  
> if (!property.expression?.enabled) {
      storeLogger.warn(
        "convertExpressionToKeyframes: no active expression on property",
      );
```

---

#### Pattern: `isFinite()` at line 252:23

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const start = startFrame ?? 0;
    const end = endFrame ?? store.frameCount;
    // Validate sampleRate (Math.round(NaN) = NaN, Math.max(1, NaN) = NaN)
> const rate = Number.isFinite(sampleRate)
      ? Math.max(1, Math.round(sampleRate))
      : 1;
  
```

---

#### Pattern: `Optional Chaining` at line 328:29

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const property = findPropertyByPath(layer, propertyPath);
    if (!property) return false;
  
> return property.expression?.enabled === true;
  }
  
```

---

### `stores/keyframeStore/helpers.ts` (1 pattern(s))

#### Pattern: `isFinite()` at line 18:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
   * Guards against NaN, undefined, null, and Infinity.
   */
  export function safeFrame(frame: number | undefined | null, fallback = 0): number {
> return Number.isFinite(frame) ? frame! : fallback;
  }
  
  // ============================================================================
```

---

### `stores/keyframeStore/index.ts` (12 pattern(s))

#### Pattern: `: void` at line 194:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        layerId: string,
        propertyPath: string,
        keyframeId: string,
> ): void {
        removeKeyframeImpl(compositorStore, layerId, propertyPath, keyframeId);
      },
  
```

---

#### Pattern: `: void` at line 202:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        compositorStore: KeyframeStoreAccess,
        layerId: string,
        propertyPath: string,
> ): void {
        clearKeyframesImpl(compositorStore, layerId, propertyPath);
      },
  
```

---

#### Pattern: `: void` at line 221:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        propertyPath: string,
        keyframeId: string,
        newFrame: number,
> ): void {
        moveKeyframeImpl(compositorStore, layerId, propertyPath, keyframeId, newFrame);
      },
  
```

---

#### Pattern: `: void` at line 233:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
          keyframeId: string;
        }>,
        frameDelta: number,
> ): void {
        moveKeyframesImpl(compositorStore, keyframes, frameDelta);
      },
  
```

---

#### Pattern: `: void` at line 243:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        propertyPath: string,
        keyframeId: string,
        newValue: PropertyValue,
> ): void {
        setKeyframeValueImpl(compositorStore, layerId, propertyPath, keyframeId, newValue);
      },
  
```

---

#### Pattern: `: void` at line 253:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        propertyPath: string,
        keyframeId: string,
        updates: { frame?: number; value?: PropertyValue },
> ): void {
        updateKeyframeImpl(compositorStore, layerId, propertyPath, keyframeId, updates);
      },
  
```

---

#### Pattern: `: void` at line 267:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        propertyPath: string,
        keyframeId: string,
        interpolation: InterpolationType,
> ): void {
        setKeyframeInterpolationImpl(compositorStore, layerId, propertyPath, keyframeId, interpolation);
      },
  
```

---

#### Pattern: `: void` at line 278:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        keyframeId: string,
        handleType: "in" | "out",
        handle: BezierHandle,
> ): void {
        setKeyframeHandleImpl(compositorStore, layerId, propertyPath, keyframeId, handleType, handle);
      },
  
```

---

#### Pattern: `: void` at line 288:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        propertyPath: string,
        keyframeId: string,
        controlMode: "smooth" | "corner" | "symmetric",
> ): void {
        setKeyframeControlModeImpl(compositorStore, layerId, propertyPath, keyframeId, controlMode);
      },
  
```

---

#### Pattern: `: void` at line 300:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        handleType: "in" | "out",
        handle: BezierHandle,
        breakHandle: boolean = false,
> ): void {
        setKeyframeHandleWithModeImpl(
          compositorStore,
          layerId,
```

---

#### Pattern: `: void` at line 321:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        layerId: string,
        propertyPath: string,
        value: PropertyValue,
> ): void {
        setPropertyValueImpl(compositorStore, layerId, propertyPath, value);
      },
  
```

---

#### Pattern: `: void` at line 331:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        propertyPath: string,
        animated: boolean,
        addKeyframeCallback?: () => void,
> ): void {
        setPropertyAnimatedImpl(compositorStore, layerId, propertyPath, animated, addKeyframeCallback);
      },
  
```

---

### `stores/keyframeStore/interpolation.ts` (4 pattern(s))

#### Pattern: `: void` at line 25:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    propertyPath: string,
    keyframeId: string,
    interpolation: InterpolationType,
> ): void {
    const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
    if (!layer) return;
  
```

---

#### Pattern: `: void` at line 51:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    keyframeId: string,
    handleType: "in" | "out",
    handle: BezierHandle,
> ): void {
    const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
    if (!layer) return;
  
```

---

#### Pattern: `: void` at line 86:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    propertyPath: string,
    keyframeId: string,
    controlMode: "smooth" | "corner" | "symmetric",
> ): void {
    const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
    if (!layer) return;
  
```

---

#### Pattern: `: void` at line 124:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    handleType: "in" | "out",
    handle: BezierHandle,
    breakHandle: boolean = false,
> ): void {
    const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
    if (!layer) return;
  
```

---

### `stores/keyframeStore/property.ts` (4 pattern(s))

#### Pattern: `: void` at line 24:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    layerId: string,
    propertyPath: string,
    value: PropertyValue,
> ): void {
    const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
    if (!layer) return;
  
```

---

#### Pattern: `Optional Chaining` at line 35:47

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    // If animated and at a keyframe, update that keyframe's value too
    if (property.animated && property.keyframes.length > 0) {
> const currentFrame = store.getActiveComp()?.currentFrame ?? 0;
      const existingKf = property.keyframes.find(
        (kf) => kf.frame === currentFrame,
      );
```

---

#### Pattern: `: void` at line 58:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    propertyPath: string,
    animated: boolean,
    addKeyframeCallback?: () => void,
> ): void {
    const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
    if (!layer) return;
  
```

---

#### Pattern: `Optional Chaining` at line 74:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      } else {
        // Direct implementation when no callback provided
        const comp = store.getActiveComp();
> const frame = comp?.currentFrame ?? 0;
  
        const keyframe: Keyframe<PropertyValue> = {
          id: `kf_${Date.now()}_${Math.random().toString(36).slice(2, 11)}`,
```

---

### `stores/keyframeStore/query.ts` (2 pattern(s))

#### Pattern: `Optional Chaining` at line 41:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    // Check opacity
> if (layer.opacity?.animated && layer.opacity.keyframes) {
      const kf = layer.opacity.keyframes.find((k) => k.frame === frame);
      if (kf) {
        results.push({ propertyPath: "opacity", keyframe: kf });
```

---

#### Pattern: `Optional Chaining` at line 98:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    // Collect from opacity
> if (layer.opacity?.animated && layer.opacity.keyframes) {
      for (const kf of layer.opacity.keyframes) {
        frames.add(kf.frame);
      }
```

---

### `stores/keyframeStore/timing.ts` (6 pattern(s))

#### Pattern: `isFinite()` at line 37:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    anchorFrame: number = 0,
  ): number {
    // Validate numeric parameters
> if (!Number.isFinite(scaleFactor) || !Number.isFinite(anchorFrame)) {
      storeLogger.warn("scaleKeyframeTiming: Invalid parameters:", {
        scaleFactor,
        anchorFrame,
```

---

#### Pattern: `isFinite()` at line 37:48

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    anchorFrame: number = 0,
  ): number {
    // Validate numeric parameters
> if (!Number.isFinite(scaleFactor) || !Number.isFinite(anchorFrame)) {
      storeLogger.warn("scaleKeyframeTiming: Invalid parameters:", {
        scaleFactor,
        anchorFrame,
```

---

#### Pattern: `Optional Chaining` at line 59:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // findPropertyByPath already handles path normalization
      const property = findPropertyByPath(layer, propPath);
  
> if (property?.keyframes && property.keyframes.length > 0) {
        // Scale each keyframe's frame number relative to anchor
        for (const kf of property.keyframes) {
          const relativeFrame = kf.frame - anchorFrame;
```

---

#### Pattern: `Optional Chaining` at line 110:17

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    for (const propPath of propertiesToReverse) {
      const property = findPropertyByPath(layer, propPath);
  
> if (property?.keyframes && property.keyframes.length >= 2) {
        // Collect values in order
        const values = property.keyframes.map((kf) => kf.value);
        // Reverse the values
```

---

#### Pattern: `Optional Chaining` at line 195:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      frame,
    );
  
> return newKf?.id ?? null;
  }
  
  // ============================================================================
```

---

#### Pattern: `Optional Chaining` at line 243:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      if (result.success) {
        // Update keyframe frames in place
        result.keyframes.forEach((newKf, index) => {
> if (positionProp.keyframes?.[index]) {
            positionProp.keyframes[index].frame = newKf.frame;
          }
        });
```

---

### `stores/keyframeStore/velocity.ts` (10 pattern(s))

#### Pattern: `Optional Chaining` at line 36:16

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    if (!layer) return false;
  
    const property = findPropertyByPath(layer, propertyPath);
> if (!property?.keyframes) return false;
  
    const kfIndex = property.keyframes.findIndex((kf) => kf.id === keyframeId);
    if (kfIndex < 0) return false;
```

---

#### Pattern: `isFinite()` at line 57:22

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    // Convert velocity to value offset
    // Velocity is in units per second, convert to units per frame segment
> const fps = Number.isFinite(store.fps) && store.fps > 0 ? store.fps : 16;
    const inVelocityPerFrame = settings.incomingVelocity / fps;
    const outVelocityPerFrame = settings.outgoingVelocity / fps;
  
```

---

#### Pattern: `Optional Chaining` at line 97:16

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    if (!layer) return null;
  
    const property = findPropertyByPath(layer, propertyPath);
> if (!property?.keyframes) return null;
  
    const kfIndex = property.keyframes.findIndex((kf) => kf.id === keyframeId);
    if (kfIndex < 0) return null;
```

---

#### Pattern: `Optional Chaining` at line 115:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    // Extract influence from handle frame offset (guard against div/0)
    const inInfluence =
> keyframe.inHandle?.enabled && inDuration > 0
        ? (Math.abs(keyframe.inHandle.frame) / inDuration) * 100
        : 33.33;
  
```

---

#### Pattern: `Optional Chaining` at line 120:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        : 33.33;
  
    const outInfluence =
> keyframe.outHandle?.enabled && outDuration > 0
        ? (keyframe.outHandle.frame / outDuration) * 100
        : 33.33;
  
```

---

#### Pattern: `isFinite()` at line 125:22

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        : 33.33;
  
    // Convert value offset back to velocity (validate fps)
> const fps = Number.isFinite(store.fps) && store.fps > 0 ? store.fps : 16;
    const inHandleFrame = Math.abs(keyframe.inHandle?.frame ?? 0);
    const inVelocity =
      keyframe.inHandle?.enabled && inHandleFrame > 0
```

---

#### Pattern: `Optional Chaining` at line 126:51

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    // Convert value offset back to velocity (validate fps)
    const fps = Number.isFinite(store.fps) && store.fps > 0 ? store.fps : 16;
> const inHandleFrame = Math.abs(keyframe.inHandle?.frame ?? 0);
    const inVelocity =
      keyframe.inHandle?.enabled && inHandleFrame > 0
        ? (-keyframe.inHandle.value / inHandleFrame) * fps
```

---

#### Pattern: `Optional Chaining` at line 128:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const fps = Number.isFinite(store.fps) && store.fps > 0 ? store.fps : 16;
    const inHandleFrame = Math.abs(keyframe.inHandle?.frame ?? 0);
    const inVelocity =
> keyframe.inHandle?.enabled && inHandleFrame > 0
        ? (-keyframe.inHandle.value / inHandleFrame) * fps
        : 0;
  
```

---

#### Pattern: `Optional Chaining` at line 132:44

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        ? (-keyframe.inHandle.value / inHandleFrame) * fps
        : 0;
  
> const outHandleFrame = keyframe.outHandle?.frame ?? 0;
    const outVelocity =
      keyframe.outHandle?.enabled && outHandleFrame !== 0
        ? (keyframe.outHandle.value / outHandleFrame) * fps
```

---

#### Pattern: `Optional Chaining` at line 134:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    const outHandleFrame = keyframe.outHandle?.frame ?? 0;
    const outVelocity =
> keyframe.outHandle?.enabled && outHandleFrame !== 0
        ? (keyframe.outHandle.value / outHandleFrame) * fps
        : 0;
  
```

---

### `stores/layerStore/batch.ts` (2 pattern(s))

#### Pattern: `isFinite()` at line 120:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    }
  
    // Validate scale values (prevent division by zero)
> if (!Number.isFinite(startScale) || startScale === 0) {
      storeLogger.warn(
        "applyExponentialScale: startScale must be a non-zero finite number",
      );
```

---

#### Pattern: `isFinite()` at line 126:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      );
      return 0;
    }
> if (!Number.isFinite(endScale)) {
      storeLogger.warn(
        "applyExponentialScale: endScale must be a finite number",
      );
```

---

### `stores/layerStore/clipboard.ts` (4 pattern(s))

#### Pattern: `: void` at line 28:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    state: LayerState,
    layers: Layer[],
    keyframes: ClipboardKeyframe[] = [],
> ): void {
    state.clipboard = {
      layers: JSON.parse(JSON.stringify(layers)),
      keyframes: JSON.parse(JSON.stringify(keyframes)),
```

---

#### Pattern: `: void` at line 41:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Clear clipboard contents
   */
> export function clearClipboard(state: LayerState): void {
    state.clipboard = { layers: [], keyframes: [] };
  }
  
```

---

#### Pattern: `: void` at line 65:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function copySelectedLayers(
    state: LayerState,
    compositorStore: CompositorStoreAccess,
> ): void {
    const layers = compositorStore.getActiveCompLayers();
    const selection = useSelectionStore();
    const selectedLayers = layers.filter((l: Layer) =>
```

---

#### Pattern: `: void` at line 125:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function cutSelectedLayers(
    state: LayerState,
    compositorStore: CompositorStoreAccess,
> ): void {
    copySelectedLayers(state, compositorStore);
    const layerIds = [...useSelectionStore().selectedLayerIds];
    for (const id of layerIds) {
```

---

### `stores/layerStore/crud.ts` (36 pattern(s))

#### Pattern: `Optional Chaining` at line 71:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      layerProperties = [
        createAnimatableProperty(
          "Stroke Width",
> splineData?.strokeWidth ?? 2,
          "number",
          "Stroke",
        ),
```

---

#### Pattern: `Optional Chaining` at line 77:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        ),
        createAnimatableProperty(
          "Stroke Opacity",
> splineData?.strokeOpacity ?? 100,
          "number",
          "Stroke",
        ),
```

---

#### Pattern: `Optional Chaining` at line 92:9

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    // Create transform with position centered in composition
    const compWidth =
> comp?.settings.width || compositorStore.project.composition.width || 1920;
    const compHeight =
      comp?.settings.height || compositorStore.project.composition.height || 1080;
    const centeredTransform = createDefaultTransform();
```

---

#### Pattern: `Optional Chaining` at line 94:9

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const compWidth =
      comp?.settings.width || compositorStore.project.composition.width || 1920;
    const compHeight =
> comp?.settings.height || compositorStore.project.composition.height || 1080;
    const centeredTransform = createDefaultTransform();
    centeredTransform.position.value = { x: compWidth / 2, y: compHeight / 2 };
  
```

---

#### Pattern: `Optional Chaining` at line 110:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      threeD: false,
      motionBlur: false,
      startFrame: 0,
> endFrame: (comp?.settings.frameCount || 81) - 1,
      inPoint: 0,
      outPoint: (comp?.settings.frameCount || 81) - 1,
      parentId: null,
```

---

#### Pattern: `Optional Chaining` at line 112:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      startFrame: 0,
      endFrame: (comp?.settings.frameCount || 81) - 1,
      inPoint: 0,
> outPoint: (comp?.settings.frameCount || 81) - 1,
      parentId: null,
      blendMode: "normal",
      opacity: createAnimatableProperty("opacity", 100, "number"),
```

---

#### Pattern: `: void` at line 155:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    compositorStore: CompositorStoreAccess,
    layerId: string,
    options?: DeleteLayerOptions,
> ): void {
    const layers = compositorStore.getActiveCompLayers();
    const index = layers.findIndex((l: Layer) => l.id === layerId);
    if (index === -1) return;
```

---

#### Pattern: `Optional Chaining` at line 171:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        layer.matteLayerId = undefined;
        layer.matteType = undefined;
      }
> if (layer.followPath?.pathLayerId === layerId) {
        layer.followPath.enabled = false;
        layer.followPath.pathLayerId = "";
      }
```

---

#### Pattern: `Optional Chaining` at line 185:14

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    // Remove from selection
> if (options?.onRemoveFromSelection) {
      options.onRemoveFromSelection(layerId);
    } else {
      useSelectionStore().removeFromSelection(layerId);
```

---

#### Pattern: `Optional Chaining` at line 194:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    clearLayerCache(layerId);
    compositorStore.project.meta.modified = new Date().toISOString();
  
> if (!options?.skipHistory) {
      compositorStore.pushHistory();
    }
  }
```

---

#### Pattern: `: void` at line 215:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    compositorStore: CompositorStoreAccess,
    layerId: string,
    updates: Partial<Layer>,
> ): void {
    const layer = compositorStore.getActiveCompLayers().find((l: Layer) => l.id === layerId);
    if (!layer) return;
  
```

---

#### Pattern: `: void` at line 248:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    compositorStore: CompositorStoreAccess,
    layerId: string,
    dataUpdates: Partial<AnyLayerData> & Record<string, unknown>,
> ): void {
    const layer = compositorStore.getActiveCompLayers().find((l: Layer) => l.id === layerId);
    if (!layer || !layer.data) return;
  
```

---

#### Pattern: `: void` at line 271:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * Regenerate all keyframe IDs in a layer to avoid conflicts
   * @internal
   */
> export function regenerateKeyframeIds(layer: Layer): void {
    type TransformProp = AnimatableProperty<PropertyValue> | undefined;
  
    if (layer.transform) {
```

---

#### Pattern: `Optional Chaining` at line 281:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      >;
      for (const key of Object.keys(layer.transform)) {
        const prop = transformRecord[key];
> if (prop?.keyframes) {
          prop.keyframes = prop.keyframes.map((kf: Keyframe<PropertyValue>) => ({
            ...kf,
            id: crypto.randomUUID(),
```

---

#### Pattern: `: void` at line 351:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    compositorStore: CompositorStoreAccess,
    layerId: string,
    newIndex: number,
> ): void {
    if (!Number.isInteger(newIndex) || newIndex < 0) {
      storeLogger.warn("moveLayer: Invalid index:", newIndex);
      return;
```

---

#### Pattern: `: void` at line 383:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    compositorStore: CompositorStoreAccess,
    layerId: string,
    newName: string,
> ): void {
    const layer = getLayerById(compositorStore, layerId);
    if (!layer) return;
  
```

---

#### Pattern: `: void` at line 428:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      origin?: { x: number; y: number; z?: number };
      anchor?: { x: number; y: number; z?: number }; // Alias for origin
    },
> ): void {
    const layer = getLayerById(compositorStore, layerId);
    if (!layer?.transform) return;
  
```

---

#### Pattern: `Optional Chaining` at line 430:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    },
  ): void {
    const layer = getLayerById(compositorStore, layerId);
> if (!layer?.transform) return;
  
    // Cannot update transform of locked layers
    if (layer.locked) {
```

---

#### Pattern: `isFinite()` at line 441:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    if (updates.position !== undefined && layer.transform.position) {
      // Validate position values are finite
      const { x, y, z } = updates.position;
> if (!Number.isFinite(x) || !Number.isFinite(y) || (z !== undefined && !Number.isFinite(z))) {
        storeLogger.warn("updateLayerTransform: Invalid position values (NaN/Infinity)", { x, y, z });
        return;
      }
```

---

#### Pattern: `isFinite()` at line 441:40

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    if (updates.position !== undefined && layer.transform.position) {
      // Validate position values are finite
      const { x, y, z } = updates.position;
> if (!Number.isFinite(x) || !Number.isFinite(y) || (z !== undefined && !Number.isFinite(z))) {
        storeLogger.warn("updateLayerTransform: Invalid position values (NaN/Infinity)", { x, y, z });
        return;
      }
```

---

#### Pattern: `isFinite()` at line 441:83

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    if (updates.position !== undefined && layer.transform.position) {
      // Validate position values are finite
      const { x, y, z } = updates.position;
> if (!Number.isFinite(x) || !Number.isFinite(y) || (z !== undefined && !Number.isFinite(z))) {
        storeLogger.warn("updateLayerTransform: Invalid position values (NaN/Infinity)", { x, y, z });
        return;
      }
```

---

#### Pattern: `isFinite()` at line 450:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    if (updates.scale !== undefined && layer.transform.scale) {
      // Validate scale values are finite
      const { x, y, z } = updates.scale;
> if (!Number.isFinite(x) || !Number.isFinite(y) || (z !== undefined && !Number.isFinite(z))) {
        storeLogger.warn("updateLayerTransform: Invalid scale values (NaN/Infinity)", { x, y, z });
        return;
      }
```

---

#### Pattern: `isFinite()` at line 450:40

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    if (updates.scale !== undefined && layer.transform.scale) {
      // Validate scale values are finite
      const { x, y, z } = updates.scale;
> if (!Number.isFinite(x) || !Number.isFinite(y) || (z !== undefined && !Number.isFinite(z))) {
        storeLogger.warn("updateLayerTransform: Invalid scale values (NaN/Infinity)", { x, y, z });
        return;
      }
```

---

#### Pattern: `isFinite()` at line 450:83

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    if (updates.scale !== undefined && layer.transform.scale) {
      // Validate scale values are finite
      const { x, y, z } = updates.scale;
> if (!Number.isFinite(x) || !Number.isFinite(y) || (z !== undefined && !Number.isFinite(z))) {
        storeLogger.warn("updateLayerTransform: Invalid scale values (NaN/Infinity)", { x, y, z });
        return;
      }
```

---

#### Pattern: `isFinite()` at line 458:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    }
    if (updates.rotation !== undefined && layer.transform.rotation) {
      // Validate rotation is finite
> if (!Number.isFinite(updates.rotation)) {
        storeLogger.warn("updateLayerTransform: Invalid rotation value (NaN/Infinity)", updates.rotation);
        return;
      }
```

---

#### Pattern: `isFinite()` at line 466:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    }
    if (updates.opacity !== undefined) {
      // Validate opacity is finite and in valid range
> if (!Number.isFinite(updates.opacity) || updates.opacity < 0 || updates.opacity > 100) {
        storeLogger.warn("updateLayerTransform: Invalid opacity value", updates.opacity);
        return;
      }
```

---

#### Pattern: `isFinite()` at line 484:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    if (originUpdate !== undefined && layer.transform.origin) {
      // Validate origin values are finite
      const { x, y, z } = originUpdate;
> if (!Number.isFinite(x) || !Number.isFinite(y) || (z !== undefined && !Number.isFinite(z))) {
        storeLogger.warn("updateLayerTransform: Invalid origin values (NaN/Infinity)", { x, y, z });
        return;
      }
```

---

#### Pattern: `isFinite()` at line 484:40

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    if (originUpdate !== undefined && layer.transform.origin) {
      // Validate origin values are finite
      const { x, y, z } = originUpdate;
> if (!Number.isFinite(x) || !Number.isFinite(y) || (z !== undefined && !Number.isFinite(z))) {
        storeLogger.warn("updateLayerTransform: Invalid origin values (NaN/Infinity)", { x, y, z });
        return;
      }
```

---

#### Pattern: `isFinite()` at line 484:83

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    if (originUpdate !== undefined && layer.transform.origin) {
      // Validate origin values are finite
      const { x, y, z } = originUpdate;
> if (!Number.isFinite(x) || !Number.isFinite(y) || (z !== undefined && !Number.isFinite(z))) {
        storeLogger.warn("updateLayerTransform: Invalid origin values (NaN/Infinity)", { x, y, z });
        return;
      }
```

---

#### Pattern: `: void` at line 505:72

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   *
   * @param compositorStore - The compositor store instance
   */
> export function toggleLayerLock(compositorStore: CompositorStoreAccess): void {
    const selectionStore = useSelectionStore();
    const selectedIds = selectionStore.selectedLayerIds;
    if (selectedIds.length === 0) return;
```

---

#### Pattern: `: void` at line 530:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   */
  export function toggleLayerVisibility(
    compositorStore: CompositorStoreAccess,
> ): void {
    const selectionStore = useSelectionStore();
    const selectedIds = selectionStore.selectedLayerIds;
    if (selectedIds.length === 0) return;
```

---

#### Pattern: `: void` at line 554:72

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   *
   * @param compositorStore - The compositor store instance
   */
> export function toggleLayerSolo(compositorStore: CompositorStoreAccess): void {
    const selectionStore = useSelectionStore();
    const selectedIds = selectionStore.selectedLayerIds;
    if (selectedIds.length === 0) return;
```

---

#### Pattern: `: void` at line 581:69

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   *
   * @param compositorStore - The compositor store instance
   */
> export function bringToFront(compositorStore: CompositorStoreAccess): void {
    const selectionStore = useSelectionStore();
    const selectedIds = selectionStore.selectedLayerIds;
    if (selectedIds.length === 0) return;
```

---

#### Pattern: `: void` at line 626:67

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   *
   * @param compositorStore - The compositor store instance
   */
> export function sendToBack(compositorStore: CompositorStoreAccess): void {
    const selectionStore = useSelectionStore();
    const selectedIds = selectionStore.selectedLayerIds;
    if (selectedIds.length === 0) return;
```

---

#### Pattern: `: void` at line 671:69

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   *
   * @param compositorStore - The compositor store instance
   */
> export function bringForward(compositorStore: CompositorStoreAccess): void {
    const selectionStore = useSelectionStore();
    const selectedIds = selectionStore.selectedLayerIds;
    if (selectedIds.length === 0) return;
```

---

#### Pattern: `: void` at line 712:69

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   *
   * @param compositorStore - The compositor store instance
   */
> export function sendBackward(compositorStore: CompositorStoreAccess): void {
    const selectionStore = useSelectionStore();
    const selectedIds = selectionStore.selectedLayerIds;
    if (selectedIds.length === 0) return;
```

---

### `stores/layerStore/hierarchy.ts` (16 pattern(s))

#### Pattern: `: void` at line 32:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    compositorStore: CompositorStoreAccess,
    layerId: string,
    parentId: string | null,
> ): void {
    const layers = compositorStore.getActiveCompLayers();
    const layer = layers.find((l: Layer) => l.id === layerId);
    if (!layer) return;
```

---

#### Pattern: `: void` at line 77:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function toggleLayer3D(
    compositorStore: CompositorStoreAccess,
    layerId: string,
> ): void {
    const layer = compositorStore
      .getActiveCompLayers()
      .find((l: Layer) => l.id === layerId);
```

---

#### Pattern: `: void` at line 154:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    _compositorStore: CompositorStoreAccess,
    layerId: string,
    addToSelection = false,
> ): void {
    const selection = useSelectionStore();
    if (addToSelection) {
      selection.addToSelection(layerId);
```

---

#### Pattern: `: void` at line 171:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function deselectLayer(
    _compositorStore: CompositorStoreAccess,
    layerId: string,
> ): void {
    useSelectionStore().removeFromSelection(layerId);
  }
  
```

---

#### Pattern: `: void` at line 179:72

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * Clear all layer selection (delegates to selectionStore)
   * @param _compositorStore - Unused, kept for API consistency
   */
> export function clearSelection(_compositorStore: CompositorStoreAccess): void {
    useSelectionStore().clearLayerSelection();
  }
  
```

---

#### Pattern: `: void` at line 187:72

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * Select all layers in the active composition
   * @param compositorStore - The compositor store instance
   */
> export function selectAllLayers(compositorStore: CompositorStoreAccess): void {
    const layers = compositorStore.getActiveCompLayers?.() ?? [];
    const selection = useSelectionStore();
    selection.selectLayers(layers.map((l: Layer) => l.id));
```

---

#### Pattern: `Optional Chaining` at line 188:53

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
   * @param compositorStore - The compositor store instance
   */
  export function selectAllLayers(compositorStore: CompositorStoreAccess): void {
> const layers = compositorStore.getActiveCompLayers?.() ?? [];
    const selection = useSelectionStore();
    selection.selectLayers(layers.map((l: Layer) => l.id));
  }
```

---

#### Pattern: `: void` at line 197:77

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * Delete all selected layers
   * @param compositorStore - The compositor store instance
   */
> export function deleteSelectedLayers(compositorStore: CompositorStoreAccess): void {
    const selection = useSelectionStore();
    const layerIds = [...selection.selectedLayerIds];
    
```

---

#### Pattern: `Optional Chaining` at line 251:53

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    compositorStore: CompositorStoreAccess,
    layerId: string,
  ): Layer | null {
> const layers = compositorStore.getActiveCompLayers?.() ?? [];
    return layers.find((l: Layer) => l.id === layerId) ?? null;
  }
  
```

---

#### Pattern: `Optional Chaining` at line 265:53

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    compositorStore: CompositorStoreAccess,
    layerId: string,
  ): Layer[] {
> const layers = compositorStore.getActiveCompLayers?.() ?? [];
    return layers.filter((l: Layer) => l.parentId === layerId);
  }
  
```

---

#### Pattern: `Optional Chaining` at line 298:53

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  export function getVisibleLayers(
    compositorStore: CompositorStoreAccess,
  ): Layer[] {
> const layers = compositorStore.getActiveCompLayers?.() ?? [];
    return layers.filter((l: Layer) => l.visible);
  }
  
```

---

#### Pattern: `Optional Chaining` at line 312:53

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    compositorStore: CompositorStoreAccess,
    hideMinimized = false,
  ): Layer[] {
> const layers = compositorStore.getActiveCompLayers?.() ?? [];
    if (hideMinimized) {
      return layers.filter((l: Layer) => !l.minimized);
    }
```

---

#### Pattern: `Optional Chaining` at line 327:53

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  export function getRootLayers(
    compositorStore: CompositorStoreAccess,
  ): Layer[] {
> const layers = compositorStore.getActiveCompLayers?.() ?? [];
    return layers.filter((l: Layer) => !l.parentId);
  }
  
```

---

#### Pattern: `Optional Chaining` at line 339:53

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  export function getCameraLayers(
    compositorStore: CompositorStoreAccess,
  ): Layer[] {
> const layers = compositorStore.getActiveCompLayers?.() ?? [];
    return layers.filter((l: Layer) => l.type === "camera");
  }
  
```

---

#### Pattern: `Optional Chaining` at line 351:53

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  export function getSelectedLayers(
    compositorStore: CompositorStoreAccess,
  ): Layer[] {
> const layers = compositorStore.getActiveCompLayers?.() ?? [];
    const selectionStore = useSelectionStore();
    return layers.filter((l: Layer) =>
      selectionStore.selectedLayerIds.includes(l.id),
```

---

#### Pattern: `Optional Chaining` at line 368:53

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  ): Layer | null {
    const selectionStore = useSelectionStore();
    if (selectionStore.selectedLayerIds.length !== 1) return null;
> const layers = compositorStore.getActiveCompLayers?.() ?? [];
    return (
      layers.find((l: Layer) => l.id === selectionStore.selectedLayerIds[0]) ||
      null
```

---

### `stores/layerStore/index.ts` (42 pattern(s))

#### Pattern: `: void` at line 183:71

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
      // CLIPBOARD STATE
      // ========================================================================
  
> setClipboard(layers: Layer[], keyframes: ClipboardKeyframe[] = []): void {
        setClipboardImpl(this.$state, layers, keyframes);
      },
  
```

---

#### Pattern: `: void` at line 187:21

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        setClipboardImpl(this.$state, layers, keyframes);
      },
  
> clearClipboard(): void {
        clearClipboardImpl(this.$state);
      },
  
```

---

#### Pattern: `: void` at line 211:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        compositorStore: CompositorStoreAccess,
        layerId: string,
        options?: DeleteLayerOptions,
> ): void {
        deleteLayerImpl(compositorStore, layerId, options);
      },
  
```

---

#### Pattern: `: void` at line 219:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        compositorStore: CompositorStoreAccess,
        layerId: string,
        updates: Partial<Layer>,
> ): void {
        updateLayerImpl(compositorStore, layerId, updates);
      },
  
```

---

#### Pattern: `: void` at line 227:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        compositorStore: CompositorStoreAccess,
        layerId: string,
        dataUpdates: Partial<AnyLayerData> & Record<string, unknown>,
> ): void {
        updateLayerDataImpl(compositorStore, layerId, dataUpdates);
      },
  
```

---

#### Pattern: `: void` at line 242:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        compositorStore: CompositorStoreAccess,
        layerId: string,
        newIndex: number,
> ): void {
        moveLayerImpl(compositorStore, layerId, newIndex);
      },
  
```

---

#### Pattern: `: void` at line 250:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        compositorStore: CompositorStoreAccess,
        layerId: string,
        newName: string,
> ): void {
        renameLayerImpl(compositorStore, layerId, newName);
      },
  
```

---

#### Pattern: `: void` at line 265:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
          origin?: { x: number; y: number; z?: number };
          anchor?: { x: number; y: number; z?: number };
        },
> ): void {
        updateLayerTransformImpl(compositorStore, layerId, updates);
      },
  
```

---

#### Pattern: `: void` at line 269:60

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        updateLayerTransformImpl(compositorStore, layerId, updates);
      },
  
> toggleLayerLock(compositorStore: CompositorStoreAccess): void {
        toggleLayerLockImpl(compositorStore);
      },
  
```

---

#### Pattern: `: void` at line 273:66

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        toggleLayerLockImpl(compositorStore);
      },
  
> toggleLayerVisibility(compositorStore: CompositorStoreAccess): void {
        toggleLayerVisibilityImpl(compositorStore);
      },
  
```

---

#### Pattern: `: void` at line 277:60

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        toggleLayerVisibilityImpl(compositorStore);
      },
  
> toggleLayerSolo(compositorStore: CompositorStoreAccess): void {
        toggleLayerSoloImpl(compositorStore);
      },
  
```

---

#### Pattern: `: void` at line 281:57

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        toggleLayerSoloImpl(compositorStore);
      },
  
> bringToFront(compositorStore: CompositorStoreAccess): void {
        bringToFrontImpl(compositorStore);
      },
  
```

---

#### Pattern: `: void` at line 285:55

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        bringToFrontImpl(compositorStore);
      },
  
> sendToBack(compositorStore: CompositorStoreAccess): void {
        sendToBackImpl(compositorStore);
      },
  
```

---

#### Pattern: `: void` at line 289:57

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        sendToBackImpl(compositorStore);
      },
  
> bringForward(compositorStore: CompositorStoreAccess): void {
        bringForwardImpl(compositorStore);
      },
  
```

---

#### Pattern: `: void` at line 293:57

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        bringForwardImpl(compositorStore);
      },
  
> sendBackward(compositorStore: CompositorStoreAccess): void {
        sendBackwardImpl(compositorStore);
      },
  
```

---

#### Pattern: `: void` at line 298:41

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      },
  
      /** @internal Used by clipboard operations */
> _regenerateKeyframeIds(layer: Layer): void {
        regenerateKeyframeIds(layer);
      },
  
```

---

#### Pattern: `: void` at line 306:63

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      // CLIPBOARD OPERATIONS
      // ========================================================================
  
> copySelectedLayers(compositorStore: CompositorStoreAccess): void {
        copySelectedLayersImpl(this.$state, compositorStore);
      },
  
```

---

#### Pattern: `: void` at line 314:62

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        return pasteLayersImpl(this.$state, compositorStore);
      },
  
> cutSelectedLayers(compositorStore: CompositorStoreAccess): void {
        cutSelectedLayersImpl(this.$state, compositorStore);
      },
  
```

---

#### Pattern: `: void` at line 326:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        compositorStore: CompositorStoreAccess,
        layerId: string,
        parentId: string | null,
> ): void {
        setLayerParentImpl(compositorStore, layerId, parentId);
      },
  
```

---

#### Pattern: `: void` at line 330:75

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        setLayerParentImpl(compositorStore, layerId, parentId);
      },
  
> toggleLayer3D(compositorStore: CompositorStoreAccess, layerId: string): void {
        toggleLayer3DImpl(compositorStore, layerId);
      },
  
```

---

#### Pattern: `: void` at line 342:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        compositorStore: CompositorStoreAccess,
        layerId: string,
        addToSelection = false,
> ): void {
        selectLayerImpl(compositorStore, layerId, addToSelection);
      },
  
```

---

#### Pattern: `: void` at line 346:75

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        selectLayerImpl(compositorStore, layerId, addToSelection);
      },
  
> deselectLayer(compositorStore: CompositorStoreAccess, layerId: string): void {
        deselectLayerImpl(compositorStore, layerId);
      },
  
```

---

#### Pattern: `: void` at line 350:59

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        deselectLayerImpl(compositorStore, layerId);
      },
  
> clearSelection(compositorStore: CompositorStoreAccess): void {
        clearSelectionImpl(compositorStore);
      },
  
```

---

#### Pattern: `: void` at line 354:60

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        clearSelectionImpl(compositorStore);
      },
  
> selectAllLayers(compositorStore: CompositorStoreAccess): void {
        selectAllLayersImpl(compositorStore);
      },
  
```

---

#### Pattern: `: void` at line 358:65

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        selectAllLayersImpl(compositorStore);
      },
  
> deleteSelectedLayers(compositorStore: CompositorStoreAccess): void {
        deleteSelectedLayersImpl(compositorStore);
      },
  
```

---

#### Pattern: `: void` at line 436:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        compositorStore: CompositorStoreAccess,
        layerId: string,
        updates: Partial<NestedCompData>,
> ): void {
        updateNestedCompLayerDataImpl(compositorStore, layerId, updates);
      },
  
```

---

#### Pattern: `: void` at line 448:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        compositorStore: CompositorStoreAccess,
        layerId: string,
        newSource: LayerSourceReplacement,
> ): void {
        replaceLayerSourceImpl(compositorStore, layerId, newSource);
      },
  
```

---

#### Pattern: `: void` at line 480:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        compositorStore: CompositorStoreAccess,
        layerId: string,
        options: TimeStretchOptions,
> ): void {
        timeStretchLayerImpl(compositorStore, layerId, options);
      },
  
```

---

#### Pattern: `: void` at line 484:74

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        timeStretchLayerImpl(compositorStore, layerId, options);
      },
  
> reverseLayer(compositorStore: CompositorStoreAccess, layerId: string): void {
        reverseLayerImpl(compositorStore, layerId);
      },
  
```

---

#### Pattern: `: void` at line 491:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      freezeFrameAtPlayhead(
        compositorStore: CompositorStoreAccess,
        layerId: string,
> ): void {
        freezeFrameAtPlayheadImpl(compositorStore, layerId);
      },
  
```

---

#### Pattern: `: void` at line 506:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        compositorStore: CompositorStoreAccess,
        layerId: string,
        fps?: number,
> ): void {
        enableSpeedMapImpl(compositorStore, layerId, fps);
      },
  
```

---

#### Pattern: `: void` at line 513:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      disableSpeedMap(
        compositorStore: CompositorStoreAccess,
        layerId: string,
> ): void {
        disableSpeedMapImpl(compositorStore, layerId);
      },
  
```

---

#### Pattern: `: void` at line 585:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        compositorStore: CompositorStoreAccess,
        layerId: string,
        point: SplineControlPoint,
> ): void {
        addSplineControlPointImpl(compositorStore, layerId, point);
      },
  
```

---

#### Pattern: `: void` at line 594:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        layerId: string,
        point: SplineControlPoint,
        index: number,
> ): void {
        insertSplineControlPointImpl(compositorStore, layerId, point, index);
      },
  
```

---

#### Pattern: `: void` at line 603:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        layerId: string,
        pointId: string,
        updates: Partial<SplineControlPoint>,
> ): void {
        updateSplineControlPointImpl(compositorStore, layerId, pointId, updates);
      },
  
```

---

#### Pattern: `: void` at line 611:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        compositorStore: CompositorStoreAccess,
        layerId: string,
        pointId: string,
> ): void {
        deleteSplineControlPointImpl(compositorStore, layerId, pointId);
      },
  
```

---

#### Pattern: `: void` at line 618:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      enableSplineAnimation(
        compositorStore: CompositorStoreAccess,
        layerId: string,
> ): void {
        enableSplineAnimationImpl(compositorStore, layerId);
      },
  
```

---

#### Pattern: `: void` at line 635:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
          | "handleOut.x"
          | "handleOut.y",
        frame: number,
> ): void {
        addSplinePointKeyframeImpl(compositorStore, layerId, pointId, property, frame);
      },
  
```

---

#### Pattern: `: void` at line 644:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        layerId: string,
        pointId: string,
        frame: number,
> ): void {
        addSplinePointPositionKeyframeImpl(compositorStore, layerId, pointId, frame);
      },
  
```

---

#### Pattern: `: void` at line 656:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        y: number,
        frame: number,
        addKeyframe: boolean = false,
> ): void {
        updateSplinePointWithKeyframeImpl(
          compositorStore,
          layerId,
```

---

#### Pattern: `: void` at line 695:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        compositorStore: CompositorStoreAccess,
        layerId: string,
        tolerance: number,
> ): void {
        simplifySplineImpl(compositorStore, layerId, tolerance);
      },
  
```

---

#### Pattern: `: void` at line 703:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        compositorStore: CompositorStoreAccess,
        layerId: string,
        amount: number,
> ): void {
        smoothSplineHandlesImpl(compositorStore, layerId, amount);
      },
  
```

---

### `stores/layerStore/pathOperations.ts` (1 pattern(s))

#### Pattern: `Optional Chaining` at line 130:48

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const point = sampledPoints[i];
  
      // Calculate frame distance to neighboring keyframes for handle influence
> const prevFrame = i > 0 ? (keyframes[i - 1]?.frame ?? 0) : 0;
      const nextFrame =
        i < sampledPoints.length - 1
          ? Math.round(
```

---

### `stores/layerStore/specialized.ts` (5 pattern(s))

#### Pattern: `: void` at line 150:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    compositorStore: CompositorStoreAccess,
    layerId: string,
    newSource: LayerSourceReplacement,
> ): void {
    const layer = compositorStore
      .getActiveCompLayers()
      .find((l: Layer) => l.id === layerId);
```

---

#### Pattern: `Optional Chaining` at line 208:38

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    } else if (newSource.type === "asset" && assetId) {
      // Generic asset replacement - determine new type from asset or file extension
      const path = newSource.path || "";
> const ext = path.split(".").pop()?.toLowerCase() || "";
      const imageExts = ["png", "jpg", "jpeg", "gif", "webp", "svg"];
      const videoExts = ["mp4", "webm", "mov", "avi"];
  
```

---

#### Pattern: `Optional Chaining` at line 314:9

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    // Create the camera object
    const camera = createDefaultCamera(
      cameraId,
> comp?.settings.width || 1024,
      comp?.settings.height || 1024,
    );
    camera.name = cameraName;
```

---

#### Pattern: `Optional Chaining` at line 315:9

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const camera = createDefaultCamera(
      cameraId,
      comp?.settings.width || 1024,
> comp?.settings.height || 1024,
    );
    camera.name = cameraName;
  
```

---

#### Pattern: `: void` at line 434:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    compositorStore: CompositorStoreAccess,
    layerId: string,
    updates: Partial<NestedCompData>,
> ): void {
    const layer = compositorStore.getActiveCompLayers().find((l) => l.id === layerId);
    if (!layer || layer.type !== "nestedComp") return;
  
```

---

### `stores/layerStore/spline.ts` (23 pattern(s))

#### Pattern: `: void` at line 49:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    compositorStore: CompositorStoreAccess,
    layerId: string,
    point: SplineControlPoint,
> ): void {
    const layer = compositorStore.getActiveCompLayers().find((l) => l.id === layerId);
    if (!layer || layer.type !== "spline" || !layer.data) return;
  
```

---

#### Pattern: `: void` at line 69:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    layerId: string,
    point: SplineControlPoint,
    index: number,
> ): void {
    const layer = compositorStore.getActiveCompLayers().find((l) => l.id === layerId);
    if (!layer || layer.type !== "spline" || !layer.data) return;
  
```

---

#### Pattern: `: void` at line 94:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    layerId: string,
    pointId: string,
    updates: Partial<SplineControlPoint>,
> ): void {
    const layer = compositorStore.getActiveCompLayers().find((l) => l.id === layerId);
    if (!layer || layer.type !== "spline" || !layer.data) return;
  
```

---

#### Pattern: `Optional Chaining` at line 99:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    if (!layer || layer.type !== "spline" || !layer.data) return;
  
    const splineData = layer.data as SplineData;
> const point = splineData.controlPoints?.find((p) => p.id === pointId);
    if (!point) return;
  
    Object.assign(point, updates);
```

---

#### Pattern: `: void` at line 113:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    compositorStore: CompositorStoreAccess,
    layerId: string,
    pointId: string,
> ): void {
    const layer = compositorStore.getActiveCompLayers().find((l) => l.id === layerId);
    if (!layer || layer.type !== "spline" || !layer.data) return;
  
```

---

#### Pattern: `: void` at line 138:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function enableSplineAnimation(
    compositorStore: CompositorStoreAccess,
    layerId: string,
> ): void {
    const layer = compositorStore.getActiveCompLayers().find((l) => l.id === layerId);
    if (!layer || layer.type !== "spline" || !layer.data) return;
  
```

---

#### Pattern: `: void` at line 187:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      | "handleOut.x"
      | "handleOut.y",
    frame: number,
> ): void {
    const layer = compositorStore.getActiveCompLayers().find((l) => l.id === layerId);
    if (!layer || layer.type !== "spline" || !layer.data) return;
  
```

---

#### Pattern: `Optional Chaining` at line 199:49

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    }
  
    // Find the animated control point
> const point = splineData.animatedControlPoints?.find((p) => p.id === pointId);
    if (!point) {
      storeLogger.warn("Control point not found:", pointId);
      return;
```

---

#### Pattern: `Optional Chaining` at line 219:38

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        animatableProp = point.depth;
        break;
      case "handleIn.x":
> animatableProp = point.handleIn?.x;
        break;
      case "handleIn.y":
        animatableProp = point.handleIn?.y;
```

---

#### Pattern: `Optional Chaining` at line 222:38

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        animatableProp = point.handleIn?.x;
        break;
      case "handleIn.y":
> animatableProp = point.handleIn?.y;
        break;
      case "handleOut.x":
        animatableProp = point.handleOut?.x;
```

---

#### Pattern: `Optional Chaining` at line 225:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        animatableProp = point.handleIn?.y;
        break;
      case "handleOut.x":
> animatableProp = point.handleOut?.x;
        break;
      case "handleOut.y":
        animatableProp = point.handleOut?.y;
```

---

#### Pattern: `Optional Chaining` at line 228:39

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        animatableProp = point.handleOut?.x;
        break;
      case "handleOut.y":
> animatableProp = point.handleOut?.y;
        break;
    }
  
```

---

#### Pattern: `: void` at line 282:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    layerId: string,
    pointId: string,
    frame: number,
> ): void {
    addSplinePointKeyframe(compositorStore, layerId, pointId, "x", frame);
    addSplinePointKeyframe(compositorStore, layerId, pointId, "y", frame);
  }
```

---

#### Pattern: `: void` at line 299:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    y: number,
    frame: number,
    addKeyframe: boolean = false,
> ): void {
    const layer = compositorStore.getActiveCompLayers().find((l) => l.id === layerId);
    if (!layer || layer.type !== "spline" || !layer.data) return;
  
```

---

#### Pattern: `Optional Chaining` at line 320:49

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
  
      // Also update the static version for backwards compatibility
> const staticPoint = splineData.controlPoints?.find((p) => p.id === pointId);
      if (staticPoint) {
        staticPoint.x = x;
        staticPoint.y = y;
```

---

#### Pattern: `Optional Chaining` at line 327:43

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      }
    } else {
      // Update static control point
> const point = splineData.controlPoints?.find((p) => p.id === pointId);
      if (!point) return;
  
      point.x = x;
```

---

#### Pattern: `Optional Chaining` at line 433:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    // Check if any property has keyframes
    if (point.x.keyframes.length > 0) return true;
    if (point.y.keyframes.length > 0) return true;
> if (point.depth?.keyframes.length) return true;
    if (point.handleIn?.x.keyframes.length) return true;
    if (point.handleIn?.y.keyframes.length) return true;
    if (point.handleOut?.x.keyframes.length) return true;
```

---

#### Pattern: `Optional Chaining` at line 434:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    if (point.x.keyframes.length > 0) return true;
    if (point.y.keyframes.length > 0) return true;
    if (point.depth?.keyframes.length) return true;
> if (point.handleIn?.x.keyframes.length) return true;
    if (point.handleIn?.y.keyframes.length) return true;
    if (point.handleOut?.x.keyframes.length) return true;
    if (point.handleOut?.y.keyframes.length) return true;
```

---

#### Pattern: `Optional Chaining` at line 435:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    if (point.y.keyframes.length > 0) return true;
    if (point.depth?.keyframes.length) return true;
    if (point.handleIn?.x.keyframes.length) return true;
> if (point.handleIn?.y.keyframes.length) return true;
    if (point.handleOut?.x.keyframes.length) return true;
    if (point.handleOut?.y.keyframes.length) return true;
  
```

---

#### Pattern: `Optional Chaining` at line 436:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    if (point.depth?.keyframes.length) return true;
    if (point.handleIn?.x.keyframes.length) return true;
    if (point.handleIn?.y.keyframes.length) return true;
> if (point.handleOut?.x.keyframes.length) return true;
    if (point.handleOut?.y.keyframes.length) return true;
  
    return false;
```

---

#### Pattern: `Optional Chaining` at line 437:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    if (point.handleIn?.x.keyframes.length) return true;
    if (point.handleIn?.y.keyframes.length) return true;
    if (point.handleOut?.x.keyframes.length) return true;
> if (point.handleOut?.y.keyframes.length) return true;
  
    return false;
  }
```

---

#### Pattern: `: void` at line 459:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    compositorStore: CompositorStoreAccess,
    layerId: string,
    tolerance: number,
> ): void {
    const layer = compositorStore.getActiveCompLayers().find((l) => l.id === layerId);
    if (!layer || layer.type !== "spline" || !layer.data) return;
  
```

---

#### Pattern: `: void` at line 582:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    compositorStore: CompositorStoreAccess,
    layerId: string,
    amount: number,
> ): void {
    const layer = compositorStore.getActiveCompLayers().find((l) => l.id === layerId);
    if (!layer || layer.type !== "spline" || !layer.data) return;
  
```

---

### `stores/layerStore/textConversion.ts` (2 pattern(s))

#### Pattern: `Optional Chaining` at line 132:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          const splineData: SplineData = {
            pathData: "",
            controlPoints: allControlPoints,
> closed: charGroup.paths[0]?.closed ?? true,
            stroke: textData.stroke || "",
            strokeWidth: textData.strokeWidth || 0,
            fill: textData.fill || "#ffffff",
```

---

#### Pattern: `Optional Chaining` at line 185:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const splineData: SplineData = {
          pathData: "",
          controlPoints: allControlPoints,
> closed: result.allPaths[0]?.closed ?? true,
          stroke: textData.stroke || "",
          strokeWidth: textData.strokeWidth || 0,
          fill: textData.fill || "#ffffff",
```

---

### `stores/layerStore/time.ts` (11 pattern(s))

#### Pattern: `: void` at line 41:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    compositorStore: CompositorStoreAccess,
    layerId: string,
    options: TimeStretchOptions,
> ): void {
    const layer = compositorStore
      .getActiveCompLayers()
      .find((l: Layer) => l.id === layerId);
```

---

#### Pattern: `: void` at line 90:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function reverseLayer(
    compositorStore: CompositorStoreAccess,
    layerId: string,
> ): void {
    const layer = compositorStore
      .getActiveCompLayers()
      .find((l: Layer) => l.id === layerId);
```

---

#### Pattern: `: void` at line 133:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function freezeFrameAtPlayhead(
    compositorStore: CompositorStoreAccess,
    layerId: string,
> ): void {
    const layer = compositorStore
      .getActiveCompLayers()
      .find((l: Layer) => l.id === layerId);
```

---

#### Pattern: `isFinite()` at line 152:12

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    const currentFrame = compositorStore.currentFrame ?? 0;
    // Validate fps (nullish coalescing doesn't catch NaN)
    const fps =
> Number.isFinite(compositorStore.fps) && compositorStore.fps! > 0
        ? compositorStore.fps!
        : 16;
    const sourceTime = currentFrame / fps;
```

---

#### Pattern: `Optional Chaining` at line 183:44

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          id: `kf_freeze_end_${Date.now() + 1}`,
          frame:
            (layer.endFrame ??
> compositorStore.getActiveComp()?.settings.frameCount ??
              81) - 1,
          value: sourceTime,
          interpolation: "hold" as const,
```

---

#### Pattern: `Optional Chaining` at line 230:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const startFrame = layer.startFrame ?? 0;
    const endFrame =
      layer.endFrame ??
> compositorStore.getActiveComp()?.settings.frameCount ??
      81;
  
    if (currentFrame <= startFrame || currentFrame >= endFrame) {
```

---

#### Pattern: `isFinite()` at line 254:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    if (isLayerOfType(newLayer, "video") && newLayer.data) {
      // Validate fps (nullish coalescing doesn't catch NaN)
      const fps =
> Number.isFinite(compositorStore.fps) && compositorStore.fps! > 0
          ? compositorStore.fps!
          : 16;
      const originalStartTime = newLayer.data.startTime ?? 0;
```

---

#### Pattern: `: void` at line 291:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    compositorStore: CompositorStoreAccess,
    layerId: string,
    fps?: number,
> ): void {
    const layer = compositorStore
      .getActiveCompLayers()
      .find((l: Layer) => l.id === layerId);
```

---

#### Pattern: `Optional Chaining` at line 311:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const layerStartFrame = layer.startFrame ?? 0;
    const layerEndFrame =
      layer.endFrame ??
> compositorStore.getActiveComp()?.settings.frameCount ??
      81;
  
    if (layer.data) {
```

---

#### Pattern: `: void` at line 369:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function disableSpeedMap(
    compositorStore: CompositorStoreAccess,
    layerId: string,
> ): void {
    const layer = compositorStore
      .getActiveCompLayers()
      .find((l: Layer) => l.id === layerId);
```

---

#### Pattern: `Optional Chaining` at line 420:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    type ToggleableData = { speedMapEnabled?: boolean };
    const data = layer.data as ToggleableData | null;
> const isCurrentlyEnabled = data?.speedMapEnabled ?? false;
  
    if (isCurrentlyEnabled) {
      disableSpeedMap(compositorStore, layerId);
```

---

### `stores/markerStore.ts` (18 pattern(s))

#### Pattern: `isFinite()` at line 24:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
   * Returns false if either value is not finite.
   */
  function framesEqual(a: number, b: number): boolean {
> if (!Number.isFinite(a) || !Number.isFinite(b)) return false;
    return a === b;
  }
  
```

---

#### Pattern: `isFinite()` at line 24:38

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
   * Returns false if either value is not finite.
   */
  function framesEqual(a: number, b: number): boolean {
> if (!Number.isFinite(a) || !Number.isFinite(b)) return false;
    return a === b;
  }
  
```

---

#### Pattern: `Optional Chaining` at line 174:16

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
       */
      removeMarker(store: MarkerStoreAccess, markerId: string): boolean {
        const comp = store.getActiveComp();
> if (!comp?.markers) return false;
  
        const index = comp.markers.findIndex((m) => m.id === markerId);
        if (index < 0) return false;
```

---

#### Pattern: `Optional Chaining` at line 196:16

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
       */
      removeMarkerAtFrame(store: MarkerStoreAccess, frame: number): boolean {
        const comp = store.getActiveComp();
> if (!comp?.markers) return false;
  
        const index = comp.markers.findIndex((m) => framesEqual(m.frame, frame));
        if (index < 0) return false;
```

---

#### Pattern: `Optional Chaining` at line 219:16

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
       */
      removeMarkersByColor(store: MarkerStoreAccess, color: string): number {
        const comp = store.getActiveComp();
> if (!comp?.markers) return 0;
  
        const originalLength = comp.markers.length;
        comp.markers = comp.markers.filter((m) => m.color !== color);
```

---

#### Pattern: `Optional Chaining` at line 253:16

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        updates: Partial<Omit<Marker, "id">>,
      ): boolean {
        const comp = store.getActiveComp();
> if (!comp?.markers) return false;
  
        const marker = comp.markers.find((m) => m.id === markerId);
        if (!marker) return false;
```

---

#### Pattern: `isFinite()` at line 259:49

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        if (!marker) return false;
  
        // Apply updates (validate frame to prevent NaN)
> if (updates.frame !== undefined && Number.isFinite(updates.frame)) {
          marker.frame = updates.frame;
        }
        if (updates.label !== undefined) marker.label = updates.label;
```

---

#### Pattern: `: void` at line 284:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
       *
       * @param store - Compositor store access
       */
> clearMarkers(store: MarkerStoreAccess): void {
        const comp = store.getActiveComp();
        if (!comp) return;
  
```

---

#### Pattern: `Optional Chaining` at line 307:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
       */
      getMarkers(store: MarkerStoreAccess): Marker[] {
        const comp = store.getActiveComp();
> return comp?.markers || [];
      },
  
      /**
```

---

#### Pattern: `Optional Chaining` at line 319:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
       */
      getMarker(store: MarkerStoreAccess, markerId: string): Marker | null {
        const comp = store.getActiveComp();
> return comp?.markers?.find((m) => m.id === markerId) || null;
      },
  
      /**
```

---

#### Pattern: `Optional Chaining` at line 319:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
       */
      getMarker(store: MarkerStoreAccess, markerId: string): Marker | null {
        const comp = store.getActiveComp();
> return comp?.markers?.find((m) => m.id === markerId) || null;
      },
  
      /**
```

---

#### Pattern: `Optional Chaining` at line 331:18

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
       */
      getMarkerAtFrame(store: MarkerStoreAccess, frame: number): Marker | null {
        const comp = store.getActiveComp();
> return comp?.markers?.find((m) => m.frame === frame) || null;
      },
  
      /**
```

---

#### Pattern: `Optional Chaining` at line 331:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
       */
      getMarkerAtFrame(store: MarkerStoreAccess, frame: number): Marker | null {
        const comp = store.getActiveComp();
> return comp?.markers?.find((m) => m.frame === frame) || null;
      },
  
      /**
```

---

#### Pattern: `Optional Chaining` at line 348:16

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        endFrame: number,
      ): Marker[] {
        const comp = store.getActiveComp();
> if (!comp?.markers) return [];
  
        return comp.markers.filter(
          (m) => m.frame >= startFrame && m.frame <= endFrame,
```

---

#### Pattern: `Optional Chaining` at line 364:16

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
       */
      getNextMarker(store: MarkerStoreAccess, frame: number): Marker | null {
        const comp = store.getActiveComp();
> if (!comp?.markers) return null;
  
        return comp.markers.find((m) => m.frame > frame) || null;
      },
```

---

#### Pattern: `Optional Chaining` at line 378:16

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
       */
      getPreviousMarker(store: MarkerStoreAccess, frame: number): Marker | null {
        const comp = store.getActiveComp();
> if (!comp?.markers) return null;
  
        const previousMarkers = comp.markers.filter((m) => m.frame < frame);
        return previousMarkers.length > 0
```

---

#### Pattern: `: void` at line 396:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
       *
       * @param store - Compositor store access
       */
> jumpToNextMarker(store: MarkerStoreAccess): void {
        const nextMarker = this.getNextMarker(store, store.currentFrame);
        if (nextMarker) {
          store.setFrame(nextMarker.frame);
```

---

#### Pattern: `: void` at line 409:51

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
       *
       * @param store - Compositor store access
       */
> jumpToPreviousMarker(store: MarkerStoreAccess): void {
        const prevMarker = this.getPreviousMarker(store, store.currentFrame);
        if (prevMarker) {
          store.setFrame(prevMarker.frame);
```

---

### `stores/particlePreferences.ts` (13 pattern(s))

#### Pattern: `Optional Chaining` at line 118:44

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      // Check WebGPU
      if (typeof navigator !== "undefined" && "gpu" in navigator) {
        try {
> const adapter = await navigator.gpu?.requestAdapter();
          if (adapter) {
            hasWebGPU.value = true;
            // requestAdapterInfo is not available in all implementations
```

---

#### Pattern: `Optional Chaining` at line 124:66

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            // requestAdapterInfo is not available in all implementations
            try {
              const adapterWithInfo = adapter as GPUAdapterWithInfo;
> const info = await adapterWithInfo.requestAdapterInfo?.();
              gpuName.value = info?.device || info?.description || "WebGPU Device";
            } catch {
              gpuName.value = "WebGPU Device";
```

---

#### Pattern: `Optional Chaining` at line 125:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            try {
              const adapterWithInfo = adapter as GPUAdapterWithInfo;
              const info = await adapterWithInfo.requestAdapterInfo?.();
> gpuName.value = info?.device || info?.description || "WebGPU Device";
            } catch {
              gpuName.value = "WebGPU Device";
            }
```

---

#### Pattern: `Optional Chaining` at line 125:49

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            try {
              const adapterWithInfo = adapter as GPUAdapterWithInfo;
              const info = await adapterWithInfo.requestAdapterInfo?.();
> gpuName.value = info?.device || info?.description || "WebGPU Device";
            } catch {
              gpuName.value = "WebGPU Device";
            }
```

---

#### Pattern: `: void` at line 227:68

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Update preferences
     */
> function updatePreferences(updates: Partial<ParticlePreferences>): void {
      // Validate and sanitize numeric values
      const sanitized = { ...updates };
  
```

---

#### Pattern: `isFinite()` at line 234:19

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // maxParticlesPerLayer: must be positive, between 1000 and 500000
      if (sanitized.maxParticlesPerLayer !== undefined) {
        const val = sanitized.maxParticlesPerLayer;
> if (!Number.isFinite(val) || val <= 0) {
          sanitized.maxParticlesPerLayer = defaultPreferences.maxParticlesPerLayer;
        } else {
          sanitized.maxParticlesPerLayer = Math.max(1000, Math.min(500000, Math.floor(val)));
```

---

#### Pattern: `isFinite()` at line 244:19

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // cacheCheckpointInterval: must be positive, between 1 and 120
      if (sanitized.cacheCheckpointInterval !== undefined) {
        const val = sanitized.cacheCheckpointInterval;
> if (!Number.isFinite(val) || val <= 0) {
          sanitized.cacheCheckpointInterval = defaultPreferences.cacheCheckpointInterval;
        } else {
          sanitized.cacheCheckpointInterval = Math.max(1, Math.min(120, Math.floor(val)));
```

---

#### Pattern: `isFinite()` at line 254:19

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      // maxCacheMemoryMB: must be positive, between 128 and 2048
      if (sanitized.maxCacheMemoryMB !== undefined) {
        const val = sanitized.maxCacheMemoryMB;
> if (!Number.isFinite(val) || val <= 0) {
          sanitized.maxCacheMemoryMB = defaultPreferences.maxCacheMemoryMB;
        } else {
          sanitized.maxCacheMemoryMB = Math.max(128, Math.min(2048, Math.floor(val)));
```

---

#### Pattern: `: void` at line 277:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Reset to defaults
     */
> function resetToDefaults(): void {
      preferences.value = { ...defaultPreferences };
      saveToLocalStorage();
    }
```

---

#### Pattern: `: void` at line 285:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Save to local storage
     */
> function saveToLocalStorage(): void {
      try {
        localStorage.setItem("lattice-particle-preferences", JSON.stringify(preferences.value));
      } catch {
```

---

#### Pattern: `: void` at line 296:34

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Load from local storage
     */
> function loadFromLocalStorage(): void {
      try {
        const saved = localStorage.getItem("lattice-particle-preferences");
        if (saved) {
```

---

#### Pattern: `: void` at line 311:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Get preset for low-end systems
     */
> function applyLowEndPreset(): void {
      updatePreferences({
        renderingBackend: "webgl2",
        maxParticlesPerLayer: 10000,
```

---

#### Pattern: `: void` at line 327:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Get preset for high-end systems
     */
> function applyHighEndPreset(): void {
      updatePreferences({
        renderingBackend: "auto",
        maxParticlesPerLayer: 500000,
```

---

### `stores/particleStore.ts` (6 pattern(s))

#### Pattern: `Optional Chaining` at line 106:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        const activeComp = store.getActiveComp();
        const compWidth =
> activeComp?.settings.width || store.project.composition.width;
        const compHeight =
          activeComp?.settings.height || store.project.composition.height;
  
```

---

#### Pattern: `Optional Chaining` at line 108:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const compWidth =
          activeComp?.settings.width || store.project.composition.width;
        const compHeight =
> activeComp?.settings.height || store.project.composition.height;
  
        const particleData: ParticleLayerData = {
          systemConfig: {
```

---

#### Pattern: `: void` at line 221:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        store: ParticleStoreAccess,
        layerId: string,
        updates: Partial<ParticleLayerData>,
> ): void {
        const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
        if (!layer || layer.type !== "particles") return;
  
```

---

#### Pattern: `: void` at line 241:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        store: ParticleStoreAccess,
        layerId: string,
        config: ParticleEmitterConfig,
> ): void {
        const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
        if (!layer || layer.type !== "particles") return;
  
```

---

#### Pattern: `: void` at line 263:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        layerId: string,
        emitterId: string,
        updates: Partial<ParticleEmitterConfig>,
> ): void {
        const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
        if (!layer || layer.type !== "particles") return;
  
```

---

#### Pattern: `: void` at line 286:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        store: ParticleStoreAccess,
        layerId: string,
        emitterId: string,
> ): void {
        const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
        if (!layer || layer.type !== "particles") return;
  
```

---

### `stores/physicsStore.ts` (51 pattern(s))

#### Pattern: `: void` at line 150:27

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Dispose physics engine
       */
> disposePhysicsEngine(): void {
        physicsEngine = null;
        compositionPhysicsStates.clear();
        compositionForceFields.clear();
```

---

#### Pattern: `: void` at line 168:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        store: PhysicsStoreAccess,
        layerId: string,
        config: Partial<RigidBodyConfig> = {},
> ): void {
        const layer = store.getLayerById(layerId);
        if (!layer) {
          storeLogger.warn("Layer not found for physics:", layerId);
```

---

#### Pattern: `Optional Chaining` at line 178:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const engine = this.getPhysicsEngine(store);
  
        const position = {
> x: layer.transform?.position?.value?.x ?? 0,
          y: layer.transform?.position?.value?.y ?? 0,
        };
  
```

---

#### Pattern: `Optional Chaining` at line 178:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const engine = this.getPhysicsEngine(store);
  
        const position = {
> x: layer.transform?.position?.value?.x ?? 0,
          y: layer.transform?.position?.value?.y ?? 0,
        };
  
```

---

#### Pattern: `Optional Chaining` at line 178:44

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const engine = this.getPhysicsEngine(store);
  
        const position = {
> x: layer.transform?.position?.value?.x ?? 0,
          y: layer.transform?.position?.value?.y ?? 0,
        };
  
```

---

#### Pattern: `Optional Chaining` at line 179:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        const position = {
          x: layer.transform?.position?.value?.x ?? 0,
> y: layer.transform?.position?.value?.y ?? 0,
        };
  
        const bodyConfig =
```

---

#### Pattern: `Optional Chaining` at line 179:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        const position = {
          x: layer.transform?.position?.value?.x ?? 0,
> y: layer.transform?.position?.value?.y ?? 0,
        };
  
        const bodyConfig =
```

---

#### Pattern: `Optional Chaining` at line 179:44

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        const position = {
          x: layer.transform?.position?.value?.x ?? 0,
> y: layer.transform?.position?.value?.y ?? 0,
        };
  
        const bodyConfig =
```

---

#### Pattern: `Optional Chaining` at line 183:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        };
  
        const bodyConfig =
> config.shape?.type === "circle"
            ? createCircleBody(layerId, layerId, {
                position,
                radius: config.shape.radius ?? 50,
```

---

#### Pattern: `Optional Chaining` at line 192:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              })
            : createBoxBody(layerId, layerId, {
                position,
> width: config.shape?.width ?? 100,
                height: config.shape?.height ?? 100,
                mass: config.mass ?? 1,
                isStatic: config.type === "static",
```

---

#### Pattern: `Optional Chaining` at line 193:35

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            : createBoxBody(layerId, layerId, {
                position,
                width: config.shape?.width ?? 100,
> height: config.shape?.height ?? 100,
                mass: config.mass ?? 1,
                isStatic: config.type === "static",
              });
```

---

#### Pattern: `: void` at line 219:68

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Disable physics for a layer
       */
> disableLayerPhysics(store: PhysicsStoreAccess, layerId: string): void {
        const engine = this.getPhysicsEngine(store);
        engine.removeRigidBody(layerId);
  
```

---

#### Pattern: `: void` at line 236:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        store: PhysicsStoreAccess,
        layerId: string,
        updates: Partial<RigidBodyConfig>,
> ): void {
        const layer = store.getLayerById(layerId);
        if (!layer) return;
  
```

---

#### Pattern: `Optional Chaining` at line 240:77

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const layer = store.getLayerById(layerId);
        if (!layer) return;
  
> const physicsData = (layer.data as unknown as Record<string, unknown>)?.physics as
          | PhysicsLayerData
          | undefined;
        if (!physicsData?.physicsEnabled || !physicsData.rigidBody) return;
```

---

#### Pattern: `Optional Chaining` at line 243:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const physicsData = (layer.data as unknown as Record<string, unknown>)?.physics as
          | PhysicsLayerData
          | undefined;
> if (!physicsData?.physicsEnabled || !physicsData.rigidBody) return;
  
        const engine = this.getPhysicsEngine(store);
        engine.removeRigidBody(layerId);
```

---

#### Pattern: `: void` at line 270:64

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Add a force field to the physics simulation
       */
> addForceField(store: PhysicsStoreAccess, force: ForceField): void {
        const engine = this.getPhysicsEngine(store);
        const compId = store.activeCompositionId;
  
```

---

#### Pattern: `: void` at line 291:65

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Remove a force field
       */
> removeForceField(store: PhysicsStoreAccess, forceId: string): void {
        const engine = this.getPhysicsEngine(store);
        const compId = store.activeCompositionId;
  
```

---

#### Pattern: `: void` at line 310:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        store: PhysicsStoreAccess,
        gravityX: number,
        gravityY: number,
> ): void {
        const safeGravityX = Number.isFinite(gravityX) ? gravityX : 0;
        const safeGravityY = Number.isFinite(gravityY) ? gravityY : 0;
  
```

---

#### Pattern: `isFinite()` at line 311:35

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        gravityX: number,
        gravityY: number,
      ): void {
> const safeGravityX = Number.isFinite(gravityX) ? gravityX : 0;
        const safeGravityY = Number.isFinite(gravityY) ? gravityY : 0;
  
        const engine = this.getPhysicsEngine(store);
```

---

#### Pattern: `isFinite()` at line 312:35

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        gravityY: number,
      ): void {
        const safeGravityX = Number.isFinite(gravityX) ? gravityX : 0;
> const safeGravityY = Number.isFinite(gravityY) ? gravityY : 0;
  
        const engine = this.getPhysicsEngine(store);
        const compId = store.activeCompositionId;
```

---

#### Pattern: `: void` at line 339:64

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Step the physics simulation to a specific frame
       */
> stepPhysics(store: PhysicsStoreAccess, targetFrame: number): void {
        const engine = this.getPhysicsEngine(store);
        const state = engine.evaluateFrame(targetFrame);
        this._applyPhysicsStateToLayers(store, state);
```

---

#### Pattern: `: void` at line 348:75

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Evaluate physics at a specific frame (for scrubbing)
       */
> evaluatePhysicsAtFrame(store: PhysicsStoreAccess, targetFrame: number): void {
        const engine = this.getPhysicsEngine(store);
        const state = engine.evaluateFrame(targetFrame);
        this._applyPhysicsStateToLayers(store, state);
```

---

#### Pattern: `: void` at line 357:54

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Reset physics simulation to initial state
       */
> resetPhysicsSimulation(store: PhysicsStoreAccess): void {
        const engine = this.getPhysicsEngine(store);
        engine.clearCache();
  
```

---

#### Pattern: `Optional Chaining` at line 371:79

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!comp) return;
  
        for (const layer of comp.layers) {
> const physicsData = (layer.data as unknown as Record<string, unknown>)?.physics as
            | PhysicsLayerData
            | undefined;
          if (physicsData?.physicsEnabled && physicsData.rigidBody) {
```

---

#### Pattern: `Optional Chaining` at line 374:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          const physicsData = (layer.data as unknown as Record<string, unknown>)?.physics as
            | PhysicsLayerData
            | undefined;
> if (physicsData?.physicsEnabled && physicsData.rigidBody) {
            const initialPos = physicsData.rigidBody.position;
            if (layer.transform?.position) {
              layer.transform.position.value = {
```

---

#### Pattern: `Optional Chaining` at line 376:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            | undefined;
          if (physicsData?.physicsEnabled && physicsData.rigidBody) {
            const initialPos = physicsData.rigidBody.position;
> if (layer.transform?.position) {
              layer.transform.position.value = {
                x: initialPos?.x ?? 0,
                y: initialPos?.y ?? 0,
```

---

#### Pattern: `Optional Chaining` at line 378:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            const initialPos = physicsData.rigidBody.position;
            if (layer.transform?.position) {
              layer.transform.position.value = {
> x: initialPos?.x ?? 0,
                y: initialPos?.y ?? 0,
                z: layer.transform.position.value?.z ?? 0,
              };
```

---

#### Pattern: `Optional Chaining` at line 379:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            if (layer.transform?.position) {
              layer.transform.position.value = {
                x: initialPos?.x ?? 0,
> y: initialPos?.y ?? 0,
                z: layer.transform.position.value?.z ?? 0,
              };
            }
```

---

#### Pattern: `Optional Chaining` at line 380:48

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              layer.transform.position.value = {
                x: initialPos?.x ?? 0,
                y: initialPos?.y ?? 0,
> z: layer.transform.position.value?.z ?? 0,
              };
            }
          }
```

---

#### Pattern: `: void` at line 395:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      _applyPhysicsStateToLayers(
        store: PhysicsStoreAccess,
        state: PhysicsSimulationState,
> ): void {
        const comp = store.project.compositions[store.activeCompositionId];
        if (!comp) return;
  
```

---

#### Pattern: `Optional Chaining` at line 400:79

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!comp) return;
  
        for (const layer of comp.layers) {
> const physicsData = (layer.data as unknown as Record<string, unknown>)?.physics as
            | PhysicsLayerData
            | undefined;
          if (!physicsData?.physicsEnabled) continue;
```

---

#### Pattern: `Optional Chaining` at line 403:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          const physicsData = (layer.data as unknown as Record<string, unknown>)?.physics as
            | PhysicsLayerData
            | undefined;
> if (!physicsData?.physicsEnabled) continue;
  
          const bodyState = state.rigidBodies.find((b) => b.id === layer.id);
          if (!bodyState) continue;
```

---

#### Pattern: `Optional Chaining` at line 408:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          const bodyState = state.rigidBodies.find((b) => b.id === layer.id);
          if (!bodyState) continue;
  
> if (layer.transform?.position) {
            layer.transform.position.value = {
              x: bodyState.position.x,
              y: bodyState.position.y,
```

---

#### Pattern: `Optional Chaining` at line 412:46

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            layer.transform.position.value = {
              x: bodyState.position.x,
              y: bodyState.position.y,
> z: layer.transform.position.value?.z ?? 0,
            };
          }
  
```

---

#### Pattern: `Optional Chaining` at line 416:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            };
          }
  
> if (layer.transform?.rotation) {
            layer.transform.rotation.value = bodyState.angle * (180 / Math.PI);
          }
        }
```

---

#### Pattern: `isFinite()` at line 447:16

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const startFrame = options.startFrame ?? 0;
        const endFrame = options.endFrame ?? comp.settings.frameCount - 1;
        const sampleInterval: number =
> Number.isFinite(options.sampleInterval) && options.sampleInterval! > 0
            ? options.sampleInterval!
            : 1;
  
```

---

#### Pattern: `Optional Chaining` at line 467:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              value: {
                x: bodyState.position.x,
                y: bodyState.position.y,
> z: layer.transform?.position?.value?.z ?? 0,
              },
              interpolation: "linear",
            });
```

---

#### Pattern: `Optional Chaining` at line 467:43

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              value: {
                x: bodyState.position.x,
                y: bodyState.position.y,
> z: layer.transform?.position?.value?.z ?? 0,
              },
              interpolation: "linear",
            });
```

---

#### Pattern: `Optional Chaining` at line 467:50

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              value: {
                x: bodyState.position.x,
                y: bodyState.position.y,
> z: layer.transform?.position?.value?.z ?? 0,
              },
              interpolation: "linear",
            });
```

---

#### Pattern: `Optional Chaining` at line 515:79

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const results: BakeResult[] = [];
  
        for (const layer of comp.layers) {
> const physicsData = (layer.data as unknown as Record<string, unknown>)?.physics as
            | PhysicsLayerData
            | undefined;
          if (physicsData?.physicsEnabled) {
```

---

#### Pattern: `Optional Chaining` at line 518:24

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          const physicsData = (layer.data as unknown as Record<string, unknown>)?.physics as
            | PhysicsLayerData
            | undefined;
> if (physicsData?.physicsEnabled) {
            const result = await this.bakePhysicsToKeyframes(store, layer.id, options);
            results.push(result);
          }
```

---

#### Pattern: `: void` at line 544:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
          pinnedTop?: boolean;
          pinnedCorners?: boolean;
        },
> ): void {
        const layer = store.getLayerById(layerId);
        if (!layer) return;
  
```

---

#### Pattern: `Optional Chaining` at line 551:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const engine = this.getPhysicsEngine(store);
  
        const origin = {
> x: layer.transform?.position?.value?.x ?? 0,
          y: layer.transform?.position?.value?.y ?? 0,
        };
  
```

---

#### Pattern: `Optional Chaining` at line 551:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const engine = this.getPhysicsEngine(store);
  
        const origin = {
> x: layer.transform?.position?.value?.x ?? 0,
          y: layer.transform?.position?.value?.y ?? 0,
        };
  
```

---

#### Pattern: `Optional Chaining` at line 551:44

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const engine = this.getPhysicsEngine(store);
  
        const origin = {
> x: layer.transform?.position?.value?.x ?? 0,
          y: layer.transform?.position?.value?.y ?? 0,
        };
  
```

---

#### Pattern: `Optional Chaining` at line 552:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        const origin = {
          x: layer.transform?.position?.value?.x ?? 0,
> y: layer.transform?.position?.value?.y ?? 0,
        };
  
        const clothConfig = createClothConfig(layerId, layerId, {
```

---

#### Pattern: `Optional Chaining` at line 552:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        const origin = {
          x: layer.transform?.position?.value?.x ?? 0,
> y: layer.transform?.position?.value?.y ?? 0,
        };
  
        const clothConfig = createClothConfig(layerId, layerId, {
```

---

#### Pattern: `Optional Chaining` at line 552:44

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
        const origin = {
          x: layer.transform?.position?.value?.x ?? 0,
> y: layer.transform?.position?.value?.y ?? 0,
        };
  
        const clothConfig = createClothConfig(layerId, layerId, {
```

---

#### Pattern: `: void` at line 588:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        store: PhysicsStoreAccess,
        layerId: string,
        preset: "adult" | "child" | "cartoon" = "adult",
> ): void {
        const layer = store.getLayerById(layerId);
        if (!layer || layer.type !== "pose") {
          storeLogger.warn("Ragdoll requires a pose layer");
```

---

#### Pattern: `: void` at line 648:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        layerId: string,
        group: number,
        mask: number = 0xffffffff,
> ): void {
        const layer = store.getLayerById(layerId);
        if (!layer) return;
  
```

---

#### Pattern: `: void` at line 671:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        _layerIdA: string,
        _layerIdB: string,
        _canCollide: boolean,
> ): void {
        storeLogger.warn("setLayersCanCollide not yet implemented");
      },
    },
```

---

### `stores/playbackStore.ts` (11 pattern(s))

#### Pattern: `: void` at line 46:58

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set work area bounds
       */
> setWorkArea(start: number | null, end: number | null): void {
        this.workAreaStart = start;
        this.workAreaEnd = end;
        storeLogger.debug("Work area set:", { start, end });
```

---

#### Pattern: `: void` at line 55:20

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Clear work area
       */
> clearWorkArea(): void {
        this.workAreaStart = null;
        this.workAreaEnd = null;
        storeLogger.debug("Work area cleared");
```

---

#### Pattern: `: void` at line 73:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        frameCount: number,
        currentFrame: number,
        onFrame: (frame: number) => void,
> ): void {
        if (this.isPlaying) return;
  
        // Validate fps to prevent division by zero
```

---

#### Pattern: `: void` at line 142:11

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Stop playback
       */
> stop(): void {
        if (this.playbackRequestId !== null) {
          cancelAnimationFrame(this.playbackRequestId);
          this.playbackRequestId = null;
```

---

#### Pattern: `: void` at line 160:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        frameCount: number,
        currentFrame: number,
        onFrame: (frame: number) => void,
> ): void {
        if (this.isPlaying) {
          this.stop();
        } else {
```

---

#### Pattern: `: void` at line 171:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set loop playback mode
       */
> setLoopPlayback(loop: boolean): void {
        this.loopPlayback = loop;
      },
  
```

---

#### Pattern: `: void` at line 178:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Go to first frame
       */
> goToStart(onFrame: (frame: number) => void): void {
        this.stop();
        onFrame(0);
      },
```

---

#### Pattern: `: void` at line 186:66

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Go to last frame
       */
> goToEnd(frameCount: number, onFrame: (frame: number) => void): void {
        this.stop();
        onFrame(frameCount - 1);
      },
```

---

#### Pattern: `: void` at line 198:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        currentFrame: number,
        frameCount: number,
        onFrame: (frame: number) => void,
> ): void {
        this.stop();
        const newFrame = Math.min(currentFrame + 1, frameCount - 1);
        onFrame(newFrame);
```

---

#### Pattern: `: void` at line 207:73

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Step backward one frame
       */
> stepBackward(currentFrame: number, onFrame: (frame: number) => void): void {
        this.stop();
        const newFrame = Math.max(currentFrame - 1, 0);
        onFrame(newFrame);
```

---

#### Pattern: `: void` at line 220:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        frame: number,
        frameCount: number,
        onFrame: (frame: number) => void,
> ): void {
        const clampedFrame = Math.max(0, Math.min(frame, frameCount - 1));
        onFrame(clampedFrame);
      },
```

---

### `stores/presetStore.ts` (2 pattern(s))

#### Pattern: `Optional Chaining` at line 134:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          return results.filter(
            (p) =>
              p.name.toLowerCase().includes(q) ||
> p.description?.toLowerCase().includes(q) ||
              p.tags?.some((t) => t.toLowerCase().includes(q)),
          );
        };
```

---

#### Pattern: `Optional Chaining` at line 135:19

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            (p) =>
              p.name.toLowerCase().includes(q) ||
              p.description?.toLowerCase().includes(q) ||
> p.tags?.some((t) => t.toLowerCase().includes(q)),
          );
        };
      },
```

---

### `stores/projectStore.ts` (23 pattern(s))

#### Pattern: `Optional Chaining` at line 111:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  }
  
  export function getWidth(compositorStore: ProjectStoreAccess): number {
> return compositorStore.getActiveComp()?.settings.width || 1024;
  }
  
  export function getHeight(compositorStore: ProjectStoreAccess): number {
```

---

#### Pattern: `Optional Chaining` at line 115:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  }
  
  export function getHeight(compositorStore: ProjectStoreAccess): number {
> return compositorStore.getActiveComp()?.settings.height || 1024;
  }
  
  export function getFrameCount(compositorStore: ProjectStoreAccess): number {
```

---

#### Pattern: `Optional Chaining` at line 119:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  }
  
  export function getFrameCount(compositorStore: ProjectStoreAccess): number {
> return compositorStore.getActiveComp()?.settings.frameCount || 81;
  }
  
  export function getFps(compositorStore: ProjectStoreAccess): number {
```

---

#### Pattern: `Optional Chaining` at line 123:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  }
  
  export function getFps(compositorStore: ProjectStoreAccess): number {
> return compositorStore.getActiveComp()?.settings.fps || 16;
  }
  
  export function getDuration(compositorStore: ProjectStoreAccess): number {
```

---

#### Pattern: `Optional Chaining` at line 127:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  }
  
  export function getDuration(compositorStore: ProjectStoreAccess): number {
> return compositorStore.getActiveComp()?.settings.duration || 5;
  }
  
  export function getBackgroundColor(compositorStore: ProjectStoreAccess): string {
```

---

#### Pattern: `Optional Chaining` at line 131:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  }
  
  export function getBackgroundColor(compositorStore: ProjectStoreAccess): string {
> return compositorStore.getActiveComp()?.settings.backgroundColor || "#050505";
  }
  
  export function getCurrentTime(compositorStore: ProjectStoreAccess): number {
```

---

#### Pattern: `: void` at line 139:89

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    return comp ? comp.currentFrame / comp.settings.fps : 0;
  }
  
> export function selectAsset(compositorStore: ProjectStoreAccess, assetId: string | null): void {
    compositorStore.selectedAssetId = assetId;
  }
  
```

---

#### Pattern: `: void` at line 153:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      height: number;
      frame_count: number;
    },
> ): void {
    compositorStore.comfyuiNodeId = inputs.node_id;
    compositorStore.sourceImage = inputs.source_image;
    compositorStore.depthMap = inputs.depth_map;
```

---

#### Pattern: `: void` at line 213:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  // PARTICLE CACHE INVALIDATION
  // ============================================================================
  
> function invalidateParticleCaches(): void {
    const engine = (window as unknown as {
      __latticeEngine?: { getLayers?: () => Array<{ clearCache?: () => void }> };
    }).__latticeEngine;
```

---

#### Pattern: `Optional Chaining` at line 220:36

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    if (!engine) return;
  
    try {
> const layers = engine.getLayers?.() || [];
      for (const layer of layers) {
        if (layer && typeof layer.clearCache === "function") {
          layer.clearCache();
```

---

#### Pattern: `: void` at line 368:77

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        return getCurrentTime(compositorStore);
      },
  
> selectAsset(compositorStore: ProjectStoreAccess, assetId: string | null): void {
        selectAsset(compositorStore, assetId);
      },
  
```

---

#### Pattern: `: void` at line 372:94

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        selectAsset(compositorStore, assetId);
      },
  
> loadInputs(compositorStore: ProjectStoreAccess, inputs: Parameters<typeof loadInputs>[1]): void {
        loadInputs(compositorStore, inputs);
      },
  
```

---

#### Pattern: `: void` at line 380:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      // HISTORY MANAGEMENT
      // ========================================================================
  
> pushHistory(store: ProjectStore): void {
        if (store.historyIndex < store.historyStack.length - 1) {
          store.historyStack = store.historyStack.slice(0, store.historyIndex + 1);
        }
```

---

#### Pattern: `: void` at line 419:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        return store.historyIndex < store.historyStack.length - 1;
      },
  
> clearHistory(store: ProjectStore): void {
        const snapshot = structuredClone(toRaw(store.project)) as typeof store.project;
        store.historyStack = [snapshot];
        store.historyIndex = 0;
```

---

#### Pattern: `: void` at line 429:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      // PROJECT INITIALIZATION
      // ========================================================================
  
> newProject(store: ProjectStore): void {
        store.project = createDefaultProject();
        store.lastSaveProjectId = null;
        store.lastSaveTime = 0;
```

---

#### Pattern: `: void` at line 655:79

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      // AUTOSAVE
      // ========================================================================
  
> startAutosave(store: ProjectStore, performAutosaveFn: () => Promise<void>): void {
        if (store.autosaveTimerId !== null || !store.autosaveEnabled) return;
        store.autosaveTimerId = window.setInterval(performAutosaveFn, store.autosaveIntervalMs);
        storeLogger.info("Autosave started with interval:", store.autosaveIntervalMs);
```

---

#### Pattern: `: void` at line 661:38

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        storeLogger.info("Autosave started with interval:", store.autosaveIntervalMs);
      },
  
> stopAutosave(store: ProjectStore): void {
        if (store.autosaveTimerId !== null && store.autosaveTimerId !== undefined) {
          window.clearInterval(store.autosaveTimerId);
          store.autosaveTimerId = null;
```

---

#### Pattern: `: void` at line 673:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        store: ProjectStore,
        options: { enabled?: boolean; intervalMs?: number },
        performAutosaveFn: () => Promise<void>,
> ): void {
        if (options.enabled !== undefined) store.autosaveEnabled = options.enabled;
        if (options.intervalMs !== undefined && Number.isFinite(options.intervalMs) && options.intervalMs > 0) {
          store.autosaveIntervalMs = options.intervalMs;
```

---

#### Pattern: `isFinite()` at line 675:54

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        performAutosaveFn: () => Promise<void>,
      ): void {
        if (options.enabled !== undefined) store.autosaveEnabled = options.enabled;
> if (options.intervalMs !== undefined && Number.isFinite(options.intervalMs) && options.intervalMs > 0) {
          store.autosaveIntervalMs = options.intervalMs;
        }
        this.stopAutosave(store);
```

---

#### Pattern: `: void` at line 701:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        }
      },
  
> markUnsavedChanges(store: ProjectStore): void {
        store.hasUnsavedChanges = true;
      },
  
```

---

#### Pattern: `Optional Chaining` at line 775:41

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          if (asset.data) {
            if (asset.data.startsWith("data:")) {
              const base64Data = asset.data.split(",")[1];
> if (base64Data) assetsFolder?.file(filename, base64Data, { base64: true });
            } else if (asset.data.startsWith("blob:") || asset.data.startsWith("http")) {
              const urlValidation = validateURL(asset.data, "fetch");
              if (!urlValidation.valid) {
```

---

#### Pattern: `Optional Chaining` at line 785:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
              try {
                const response = await fetch(urlValidation.sanitized || asset.data);
                const blob = await response.blob();
> assetsFolder?.file(filename, blob);
              } catch (e) {
                storeLogger.warn(`Failed to fetch asset ${assetId}:`, e);
              }
```

---

#### Pattern: `Optional Chaining` at line 790:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
                storeLogger.warn(`Failed to fetch asset ${assetId}:`, e);
              }
            } else {
> assetsFolder?.file(filename, asset.data, { base64: true });
            }
          }
        }
```

---

### `stores/segmentationStore.ts` (4 pattern(s))

#### Pattern: `Optional Chaining` at line 171:57

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        try {
          const result = await segmentByPoint(store.sourceImage, point, options.model);
  
> if (result.status !== "success" || !result.masks?.length) {
            storeLogger.warn("Segmentation returned no masks:", result.message);
            return null;
          }
```

---

#### Pattern: `Optional Chaining` at line 209:57

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        try {
          const result = await segmentByMultiplePoints(store.sourceImage, foregroundPoints, backgroundPoints, options.model);
  
> if (result.status !== "success" || !result.masks?.length) {
            storeLogger.warn("Segmentation returned no masks:", result.message);
            return null;
          }
```

---

#### Pattern: `Optional Chaining` at line 245:57

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        try {
          const result = await segmentByBox(store.sourceImage, box, options.model);
  
> if (result.status !== "success" || !result.masks?.length) {
            storeLogger.warn("Segmentation returned no masks:", result.message);
            return null;
          }
```

---

#### Pattern: `Optional Chaining` at line 283:57

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
            maxMasks: options.maxMasks,
          });
  
> if (result.status !== "success" || !result.masks?.length) {
            storeLogger.warn("Auto segmentation returned no masks:", result.message);
            return [];
          }
```

---

### `stores/selectionStore.ts` (30 pattern(s))

#### Pattern: `: void` at line 72:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Select a single layer (replaces current selection)
       */
> selectLayer(layerId: string): void {
        this.selectedLayerIds = [layerId];
        this.lastSelectedLayerId = layerId;
        storeLogger.debug("Selected layer:", layerId);
```

---

#### Pattern: `: void` at line 81:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
      /**
       * Select multiple layers (replaces current selection)
       */
> selectLayers(layerIds: string[]): void {
        this.selectedLayerIds = [...layerIds];
        if (layerIds.length > 0) {
          this.lastSelectedLayerId = layerIds[layerIds.length - 1];
```

---

#### Pattern: `: void` at line 92:36

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Add layer to selection (multi-select)
       */
> addToSelection(layerId: string): void {
        if (!this.selectedLayerIds.includes(layerId)) {
          this.selectedLayerIds.push(layerId);
          this.lastSelectedLayerId = layerId;
```

---

#### Pattern: `: void` at line 102:41

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Remove layer from selection
       */
> removeFromSelection(layerId: string): void {
        const index = this.selectedLayerIds.indexOf(layerId);
        if (index >= 0) {
          this.selectedLayerIds.splice(index, 1);
```

---

#### Pattern: `: void` at line 112:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Toggle layer selection
       */
> toggleLayerSelection(layerId: string): void {
        if (this.selectedLayerIds.includes(layerId)) {
          this.removeFromSelection(layerId);
        } else {
```

---

#### Pattern: `: void` at line 123:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Toggle layer selection (alias for toggleLayerSelection).
       */
> toggleSelection(layerId: string): void {
        this.toggleLayerSelection(layerId);
      },
  
```

---

#### Pattern: `: void` at line 138:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        layerId: string,
        modifiers: SelectionModifiers,
        orderedLayerIds?: string[],
> ): void {
        if (modifiers.shift && this.lastSelectedLayerId && orderedLayerIds) {
          // Shift+click: Range select
          this.selectRange(this.lastSelectedLayerId, layerId, orderedLayerIds);
```

---

#### Pattern: `: void` at line 163:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        startLayerId: string,
        endLayerId: string,
        orderedLayerIds: string[],
> ): void {
        const startIndex = orderedLayerIds.indexOf(startLayerId);
        const endIndex = orderedLayerIds.indexOf(endLayerId);
  
```

---

#### Pattern: `: void` at line 185:26

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Clear layer selection
       */
> clearLayerSelection(): void {
        this.selectedLayerIds = [];
        this.lastSelectedLayerId = null;
      },
```

---

#### Pattern: `: void` at line 193:21

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Clear layer selection (alias for clearLayerSelection).
       */
> clearSelection(): void {
        this.clearLayerSelection();
      },
  
```

---

#### Pattern: `: void` at line 208:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
       * Select layer above current selection (Ctrl+Up Arrow behavior)
       * @param orderedLayerIds All layer IDs in display order (top to bottom)
       */
> selectLayerAbove(orderedLayerIds: string[]): void {
        if (orderedLayerIds.length === 0) return;
  
        // If no selection, select the first (topmost) layer
```

---

#### Pattern: `: void` at line 238:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
       * Select layer below current selection (Ctrl+Down Arrow behavior)
       * @param orderedLayerIds All layer IDs in display order (top to bottom)
       */
> selectLayerBelow(orderedLayerIds: string[]): void {
        if (orderedLayerIds.length === 0) return;
  
        // If no selection, select the last (bottommost) layer
```

---

#### Pattern: `: void` at line 271:39

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Select a single keyframe
       */
> selectKeyframe(keyframeId: string): void {
        this.selectedKeyframeIds = [keyframeId];
      },
  
```

---

#### Pattern: `: void` at line 278:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
      /**
       * Select multiple keyframes
       */
> selectKeyframes(keyframeIds: string[]): void {
        this.selectedKeyframeIds = [...keyframeIds];
      },
  
```

---

#### Pattern: `: void` at line 285:47

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Add keyframe to selection
       */
> addKeyframeToSelection(keyframeId: string): void {
        if (!this.selectedKeyframeIds.includes(keyframeId)) {
          this.selectedKeyframeIds.push(keyframeId);
        }
```

---

#### Pattern: `: void` at line 294:52

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Remove keyframe from selection
       */
> removeKeyframeFromSelection(keyframeId: string): void {
        const index = this.selectedKeyframeIds.indexOf(keyframeId);
        if (index >= 0) {
          this.selectedKeyframeIds.splice(index, 1);
```

---

#### Pattern: `: void` at line 304:48

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Toggle keyframe selection
       */
> toggleKeyframeSelection(keyframeId: string): void {
        if (this.selectedKeyframeIds.includes(keyframeId)) {
          this.removeKeyframeFromSelection(keyframeId);
        } else {
```

---

#### Pattern: `: void` at line 315:29

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Clear keyframe selection
       */
> clearKeyframeSelection(): void {
        this.selectedKeyframeIds = [];
      },
  
```

---

#### Pattern: `: void` at line 337:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        layerId: string,
        pointIndex: number,
        groupId?: string,
> ): void {
        this.selectedControlPoints = [{ layerId, pointIndex, groupId }];
      },
  
```

---

#### Pattern: `: void` at line 344:57

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Array type detected

**Code:**
```typescript
      /**
       * Select multiple control points
       */
> selectControlPoints(points: ControlPointSelection[]): void {
        this.selectedControlPoints = [...points];
      },
  
```

---

#### Pattern: `: void` at line 355:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        layerId: string,
        pointIndex: number,
        groupId?: string,
> ): void {
        const exists = this.selectedControlPoints.some(
          (p) => p.layerId === layerId && p.pointIndex === pointIndex,
        );
```

---

#### Pattern: `: void` at line 367:73

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Remove control point from selection
       */
> removeControlPointFromSelection(layerId: string, pointIndex: number): void {
        this.selectedControlPoints = this.selectedControlPoints.filter(
          (p) => !(p.layerId === layerId && p.pointIndex === pointIndex),
        );
```

---

#### Pattern: `: void` at line 380:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        layerId: string,
        pointIndex: number,
        groupId?: string,
> ): void {
        const index = this.selectedControlPoints.findIndex(
          (p) => p.layerId === layerId && p.pointIndex === pointIndex,
        );
```

---

#### Pattern: `: void` at line 399:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        pointIndex: number,
        modifiers: SelectionModifiers,
        groupId?: string,
> ): void {
        if (modifiers.ctrl) {
          this.toggleControlPointSelection(layerId, pointIndex, groupId);
        } else {
```

---

#### Pattern: `: void` at line 417:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        groupId: string,
        layerId: string,
        pointIndicesInGroup: number[],
> ): void {
        this.selectedControlPoints = pointIndicesInGroup.map((pointIndex) => ({
          layerId,
          pointIndex,
```

---

#### Pattern: `: void` at line 438:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        groupId: string,
        layerId: string,
        pointIndicesInGroup: number[],
> ): void {
        for (const pointIndex of pointIndicesInGroup) {
          const exists = this.selectedControlPoints.some(
            (p) => p.layerId === layerId && p.pointIndex === pointIndex,
```

---

#### Pattern: `: void` at line 452:33

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Clear control point selection
       */
> clearControlPointSelection(): void {
        this.selectedControlPoints = [];
      },
  
```

---

#### Pattern: `: void` at line 479:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set selected property path (for graph editor focus)
       */
> setSelectedPropertyPath(path: string | null): void {
        this.selectedPropertyPath = path;
      },
  
```

---

#### Pattern: `: void` at line 490:49

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set current tool
       */
> setTool(tool: SelectionState["currentTool"]): void {
        this.currentTool = tool;
      },
  
```

---

#### Pattern: `: void` at line 501:15

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Clear all selections
       */
> clearAll(): void {
        this.selectedLayerIds = [];
        this.lastSelectedLayerId = null;
        this.selectedKeyframeIds = [];
```

---

### `stores/textAnimatorStore.ts` (33 pattern(s))

#### Pattern: `Optional Chaining` at line 107:15

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
  function getTextLayer(store: TextAnimatorStoreAccess, layerId: string): Layer | undefined {
    const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
> return layer?.type === "text" ? layer : undefined;
  }
  
  function getTextData(layer: Layer): TextData | undefined {
```

---

#### Pattern: `: void` at line 114:50

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    return layer.data as TextData | undefined;
  }
  
> function ensureAnimatorsArray(textData: TextData): void {
    if (!textData.animators) textData.animators = [];
  }
  
```

---

#### Pattern: `: void` at line 118:56

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    if (!textData.animators) textData.animators = [];
  }
  
> function updateModified(store: TextAnimatorStoreAccess): void {
    store.project.meta.modified = new Date().toISOString();
  }
  
```

---

#### Pattern: `Optional Chaining` at line 195:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          if (p.blur) animator.properties.blur = createAnimatableProperty("Blur", p.blur.value, "position");
        }
  
> textData.animators?.push(animator);
        updateModified(store);
        return animator;
      },
```

---

#### Pattern: `Optional Chaining` at line 205:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!layer) return false;
  
        const textData = getTextData(layer);
> if (!textData?.animators) return false;
  
        const index = textData.animators.findIndex((a) => a.id === animatorId);
        if (index === -1) return false;
```

---

#### Pattern: `Optional Chaining` at line 221:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!layer) return false;
  
        const textData = getTextData(layer);
> if (!textData?.animators) return false;
  
        const animator = textData.animators.find((a) => a.id === animatorId);
        if (!animator) return false;
```

---

#### Pattern: `Optional Chaining` at line 239:22

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const layer = getTextLayer(store, layerId);
        if (!layer) return null;
        const textData = getTextData(layer);
> return textData?.animators?.find((a) => a.id === animatorId) ?? null;
      },
  
      getTextAnimators(store: TextAnimatorStoreAccess, layerId: string): TextAnimator[] {
```

---

#### Pattern: `Optional Chaining` at line 239:33

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const layer = getTextLayer(store, layerId);
        if (!layer) return null;
        const textData = getTextData(layer);
> return textData?.animators?.find((a) => a.id === animatorId) ?? null;
      },
  
      getTextAnimators(store: TextAnimatorStoreAccess, layerId: string): TextAnimator[] {
```

---

#### Pattern: `Optional Chaining` at line 245:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      getTextAnimators(store: TextAnimatorStoreAccess, layerId: string): TextAnimator[] {
        const layer = getTextLayer(store, layerId);
        if (!layer) return [];
> return getTextData(layer)?.animators ?? [];
      },
  
      // ========================================================================
```

---

#### Pattern: `Optional Chaining` at line 257:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!layer) return false;
  
        const textData = getTextData(layer);
> if (!textData?.animators) return false;
  
        const animator = textData.animators.find((a) => a.id === animatorId);
        if (!animator) return false;
```

---

#### Pattern: `Optional Chaining` at line 281:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!layer) return false;
  
        const textData = getTextData(layer);
> if (!textData?.animators) return false;
  
        const animator = textData.animators.find((a) => a.id === animatorId);
        if (!animator) return false;
```

---

#### Pattern: `Optional Chaining` at line 310:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!layer) return false;
  
        const textData = getTextData(layer);
> if (!textData?.animators) return false;
  
        const animator = textData.animators.find((a) => a.id === animatorId);
        if (!animator?.expressionSelector) return false;
```

---

#### Pattern: `Optional Chaining` at line 313:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!textData?.animators) return false;
  
        const animator = textData.animators.find((a) => a.id === animatorId);
> if (!animator?.expressionSelector) return false;
  
        store.pushHistory();
        animator.expressionSelector.enabled = false;
```

---

#### Pattern: `Optional Chaining` at line 326:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!layer) return false;
  
        const textData = getTextData(layer);
> if (!textData?.animators) return false;
  
        const animator = textData.animators.find((a) => a.id === animatorId);
        if (!animator) return false;
```

---

#### Pattern: `Optional Chaining` at line 351:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!layer) return false;
  
        const textData = getTextData(layer);
> if (!textData?.animators) return false;
  
        const animator = textData.animators.find((a) => a.id === animatorId);
        if (!animator?.wigglySelector) return false;
```

---

#### Pattern: `Optional Chaining` at line 354:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!textData?.animators) return false;
  
        const animator = textData.animators.find((a) => a.id === animatorId);
> if (!animator?.wigglySelector) return false;
  
        store.pushHistory();
        animator.wigglySelector.enabled = false;
```

---

#### Pattern: `Optional Chaining` at line 378:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (totalChars === 0) return [];
  
        const animators = textData.animators || [];
> const fps = store.getActiveComp()?.settings?.fps || 16;
  
        const transforms: CharacterTransform[] = [];
        for (let i = 0; i < totalChars; i++) {
```

---

#### Pattern: `Optional Chaining` at line 378:50

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (totalChars === 0) return [];
  
        const animators = textData.animators || [];
> const fps = store.getActiveComp()?.settings?.fps || 16;
  
        const transforms: CharacterTransform[] = [];
        for (let i = 0; i < totalChars; i++) {
```

---

#### Pattern: `Optional Chaining` at line 466:42

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const totalChars = text.length;
        if (totalChars === 0) return [];
  
> const animator = textData.animators?.find((a) => a.id === animatorId);
        if (!animator) return [];
  
        const fps = store.getActiveComp()?.settings?.fps || 16;
```

---

#### Pattern: `Optional Chaining` at line 469:40

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const animator = textData.animators?.find((a) => a.id === animatorId);
        if (!animator) return [];
  
> const fps = store.getActiveComp()?.settings?.fps || 16;
        const values: number[] = [];
  
        for (let i = 0; i < totalChars; i++) {
```

---

#### Pattern: `Optional Chaining` at line 469:50

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const animator = textData.animators?.find((a) => a.id === animatorId);
        if (!animator) return [];
  
> const fps = store.getActiveComp()?.settings?.fps || 16;
        const values: number[] = [];
  
        for (let i = 0; i < totalChars; i++) {
```

---

#### Pattern: `Optional Chaining` at line 491:42

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const totalChars = text.length;
        if (totalChars === 0 || charIndex < 0 || charIndex >= totalChars) return 0;
  
> const animator = textData.animators?.find((a) => a.id === animatorId);
        if (!animator) return 0;
  
        return calculateCharacterInfluence(charIndex, totalChars, animator.rangeSelector, frame) * 100;
```

---

#### Pattern: `Optional Chaining` at line 506:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!layer) return false;
  
        const textData = getTextData(layer);
> if (!textData?.animators) return false;
  
        const animator = textData.animators.find((a) => a.id === animatorId);
        if (!animator) return false;
```

---

#### Pattern: `Optional Chaining` at line 542:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const layer = getTextLayer(store, layerId);
        if (!layer) return false;
        const textData = getTextData(layer);
> return !!(textData?.animators && textData.animators.length > 0);
      },
  
      getTextContent(store: TextAnimatorStoreAccess, layerId: string): string | null {
```

---

#### Pattern: `Optional Chaining` at line 548:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      getTextContent(store: TextAnimatorStoreAccess, layerId: string): string | null {
        const layer = getTextLayer(store, layerId);
        if (!layer) return null;
> return getTextData(layer)?.text ?? null;
      },
  
      setTextContent(store: TextAnimatorStoreAccess, layerId: string, text: string): boolean {
```

---

#### Pattern: `Optional Chaining` at line 597:66

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      getTextPathConfig(store: TextAnimatorStoreAccess, layerId: string): TextPathConfig | null {
        const layer = getTextLayer(store, layerId);
        if (!layer) return null;
> return (getTextData(layer) as TextDataWithPath | undefined)?.pathConfig ?? null;
      },
  
      updateTextPath(store: TextAnimatorStoreAccess, layerId: string, updates: Partial<TextPathConfig>): boolean {
```

---

#### Pattern: `Optional Chaining` at line 605:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!layer) return false;
  
        const textData = getTextData(layer) as TextDataWithPath | undefined;
> if (!textData?.pathConfig) return false;
  
        store.pushHistory();
        Object.assign(textData.pathConfig, updates);
```

---

#### Pattern: `Optional Chaining` at line 624:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!layer) return [];
  
        const textData = getTextData(layer) as TextDataWithPath | undefined;
> if (!textData?.pathConfig?.pathPoints || textData.pathConfig.pathPoints.length < 2) return [];
  
        const text = textData.text || "";
        if (text.length === 0) return [];
```

---

#### Pattern: `Optional Chaining` at line 624:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!layer) return [];
  
        const textData = getTextData(layer) as TextDataWithPath | undefined;
> if (!textData?.pathConfig?.pathPoints || textData.pathConfig.pathPoints.length < 2) return [];
  
        const text = textData.text || "";
        if (text.length === 0) return [];
```

---

#### Pattern: `Optional Chaining` at line 655:20

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!layer) return 0;
  
        const textData = getTextData(layer) as TextDataWithPath | undefined;
> if (!textData?.pathConfig?.pathPoints || textData.pathConfig.pathPoints.length < 2) return 0;
  
        const service = getPathService(layerId);
        if (!service.hasPath()) service.setPath(textData.pathConfig.pathPoints, textData.pathConfig.closed ?? false);
```

---

#### Pattern: `Optional Chaining` at line 655:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!layer) return 0;
  
        const textData = getTextData(layer) as TextDataWithPath | undefined;
> if (!textData?.pathConfig?.pathPoints || textData.pathConfig.pathPoints.length < 2) return 0;
  
        const service = getPathService(layerId);
        if (!service.hasPath()) service.setPath(textData.pathConfig.pathPoints, textData.pathConfig.closed ?? false);
```

---

#### Pattern: `Optional Chaining` at line 668:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!layer) return false;
  
        const textData = getTextData(layer) as TextDataWithPath | undefined;
> return !!(textData?.pathConfig?.pathPoints && textData.pathConfig.pathPoints.length >= 2);
      },
  
      clearTextPath(store: TextAnimatorStoreAccess, layerId: string): boolean {
```

---

#### Pattern: `Optional Chaining` at line 668:37

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        if (!layer) return false;
  
        const textData = getTextData(layer) as TextDataWithPath | undefined;
> return !!(textData?.pathConfig?.pathPoints && textData.pathConfig.pathPoints.length >= 2);
      },
  
      clearTextPath(store: TextAnimatorStoreAccess, layerId: string): boolean {
```

---

### `stores/toastStore.ts` (2 pattern(s))

#### Pattern: `: void` at line 55:35

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      return id;
    }
  
> function removeToast(id: string): void {
      const index = toasts.value.findIndex((t) => t.id === id);
      if (index !== -1) {
        toasts.value.splice(index, 1);
```

---

#### Pattern: `: void` at line 62:22

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      }
    }
  
> function clearAll(): void {
      toasts.value = [];
    }
  
```

---

### `stores/uiStore.ts` (5 pattern(s))

#### Pattern: `: void` at line 56:44

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set curve editor visibility
       */
> setCurveEditorVisible(visible: boolean): void {
        this.curveEditorVisible = visible;
      },
  
```

---

#### Pattern: `: void` at line 63:31

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Toggle curve editor visibility
       */
> toggleCurveEditorVisible(): void {
        this.curveEditorVisible = !this.curveEditorVisible;
      },
  
```

---

#### Pattern: `: void` at line 70:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Set hide minimized layers state
       */
> setHideMinimizedLayers(hide: boolean): void {
        this.hideMinimizedLayers = hide;
      },
  
```

---

#### Pattern: `: void` at line 77:32

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Toggle hide minimized layers
       */
> toggleHideMinimizedLayers(): void {
        this.hideMinimizedLayers = !this.hideMinimizedLayers;
      },
  
```

---

#### Pattern: `: void` at line 84:71

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Update shape tool options
       */
> setShapeToolOptions(options: Partial<UIState["shapeToolOptions"]>): void {
        this.shapeToolOptions = { ...this.shapeToolOptions, ...options };
      },
    },
```

---

### `stores/videoStore.ts` (6 pattern(s))

#### Pattern: `isFinite()` at line 362:16

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const videoFps = metadata.fps!;
  
        const safeCompFps =
> Number.isFinite(compositionFps) && compositionFps > 0 ? compositionFps : 16;
        const safeVideoFps =
          Number.isFinite(videoFps) && videoFps > 0 ? videoFps : safeCompFps;
  
```

---

#### Pattern: `isFinite()` at line 364:16

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const safeCompFps =
          Number.isFinite(compositionFps) && compositionFps > 0 ? compositionFps : 16;
        const safeVideoFps =
> Number.isFinite(videoFps) && videoFps > 0 ? videoFps : safeCompFps;
  
        const timeStretch = (safeVideoFps / safeCompFps) * 100;
  
```

---

#### Pattern: `: void` at line 404:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        pendingImport:
          | VideoImportFpsMismatch["pendingImport"]
          | VideoImportFpsUnknown["pendingImport"],
> ): void {
        delete store.project.assets[pendingImport.assetId];
        URL.revokeObjectURL(pendingImport.videoUrl);
        storeLogger.debug("Cancelled video import:", { assetId: pendingImport.assetId });
```

---

#### Pattern: `: void` at line 495:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        store: VideoStoreAccess,
        layerId: string,
        updates: Partial<VideoData>,
> ): void {
        const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
        if (!layer || layer.type !== "video") return;
  
```

---

#### Pattern: `: void` at line 511:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        store: VideoStoreAccess,
        layerId: string,
        metadata: VideoMetadata,
> ): void {
        const layer = store.getActiveCompLayers().find((l) => l.id === layerId);
        if (!layer || layer.type !== "video") return;
  
```

---

#### Pattern: `: void` at line 543:6

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        width: number,
        height: number,
        frameCount?: number,
> ): void {
        const comp = store.getActiveComp();
        if (!comp) return;
  
```

---

### `types/animation.ts` (1 pattern(s))

#### Pattern: `isFinite()` at line 179:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  ): Keyframe<T> {
    // Validate frame to prevent silent interpolation failures
    // NaN/Infinity frames cause incorrect animation output without any error
> if (!Number.isFinite(frame)) {
      throw new Error(
        `Invalid keyframe frame: ${frame}. Frame must be a finite number.`,
      );
```

---

### `types/spline.ts` (1 pattern(s))

#### Pattern: `Optional Chaining` at line 333:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      id: acp.id,
      x: acp.x.value,
      y: acp.y.value,
> depth: acp.depth?.value,
      handleIn: acp.handleIn
        ? {
            x: acp.handleIn.x.value,
```

---

### `types/transform.ts` (34 pattern(s))

#### Pattern: `: void` at line 256:70

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * Separate position into individual X, Y, Z properties.
   * Copies keyframes from the combined position property to separate dimension properties.
   */
> export function separatePositionDimensions(transform: LayerTransform): void {
    const pos = transform.position;
    const currentValue = pos.value;
  
```

---

#### Pattern: `Optional Chaining` at line 287:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        const val = kf.value;
  
        // X keyframe
> transform.positionX?.keyframes.push({
          ...kf,
          id: `${kf.id}_x`,
          value: val.x,
```

---

#### Pattern: `Optional Chaining` at line 294:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        });
  
        // Y keyframe
> transform.positionY?.keyframes.push({
          ...kf,
          id: `${kf.id}_y`,
          value: val.y,
```

---

#### Pattern: `Optional Chaining` at line 301:26

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        });
  
        // Z keyframe
> transform.positionZ?.keyframes.push({
          ...kf,
          id: `${kf.id}_z`,
          value: val.z ?? 0,
```

---

#### Pattern: `: void` at line 320:66

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * Link position dimensions back into a combined property.
   * Merges keyframes from X, Y, Z into the combined position property.
   */
> export function linkPositionDimensions(transform: LayerTransform): void {
    if (!transform.positionX || !transform.positionY) return;
  
    const posX = transform.positionX;
```

---

#### Pattern: `Optional Chaining` at line 331:12

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    transform.position.value = {
      x: posX.value,
      y: posY.value,
> z: posZ?.value ?? 0,
    };
  
    // Merge keyframes - collect all unique frames
```

---

#### Pattern: `Optional Chaining` at line 338:7

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const allFrames = new Set<number>();
    posX.keyframes.forEach((kf) => allFrames.add(kf.frame));
    posY.keyframes.forEach((kf) => allFrames.add(kf.frame));
> posZ?.keyframes.forEach((kf) => allFrames.add(kf.frame));
  
    // Clear existing keyframes
    transform.position.keyframes = [];
```

---

#### Pattern: `Optional Chaining` at line 350:21

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    sortedFrames.forEach((frame) => {
      const xKf = posX.keyframes.find((k) => k.frame === frame);
      const yKf = posY.keyframes.find((k) => k.frame === frame);
> const zKf = posZ?.keyframes.find((k) => k.frame === frame);
  
      // Get values (interpolate if keyframe doesn't exist at this frame)
      const xVal =
```

---

#### Pattern: `Optional Chaining` at line 354:10

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
      // Get values (interpolate if keyframe doesn't exist at this frame)
      const xVal =
> xKf?.value ?? getInterpolatedValue(posX.keyframes, frame) ?? posX.value;
      const yVal =
        yKf?.value ?? getInterpolatedValue(posY.keyframes, frame) ?? posY.value;
      const zVal =
```

---

#### Pattern: `Optional Chaining` at line 356:10

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const xVal =
        xKf?.value ?? getInterpolatedValue(posX.keyframes, frame) ?? posX.value;
      const yVal =
> yKf?.value ?? getInterpolatedValue(posY.keyframes, frame) ?? posY.value;
      const zVal =
        zKf?.value ??
        getInterpolatedValue(posZ?.keyframes ?? [], frame) ??
```

---

#### Pattern: `Optional Chaining` at line 358:10

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const yVal =
        yKf?.value ?? getInterpolatedValue(posY.keyframes, frame) ?? posY.value;
      const zVal =
> zKf?.value ??
        getInterpolatedValue(posZ?.keyframes ?? [], frame) ??
        posZ?.value ??
        0;
```

---

#### Pattern: `Optional Chaining` at line 359:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        yKf?.value ?? getInterpolatedValue(posY.keyframes, frame) ?? posY.value;
      const zVal =
        zKf?.value ??
> getInterpolatedValue(posZ?.keyframes ?? [], frame) ??
        posZ?.value ??
        0;
  
```

---

#### Pattern: `Optional Chaining` at line 360:11

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const zVal =
        zKf?.value ??
        getInterpolatedValue(posZ?.keyframes ?? [], frame) ??
> posZ?.value ??
        0;
  
      // Use the first available keyframe as template for handles/interpolation
```

---

#### Pattern: `Optional Chaining` at line 370:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        id: `kf_pos_${frame}_${Date.now()}`,
        frame,
        value: { x: xVal, y: yVal, z: zVal },
> interpolation: templateKf?.interpolation ?? "linear",
        inHandle: templateKf?.inHandle ?? { frame: -5, value: 0, enabled: false },
        outHandle: templateKf?.outHandle ?? {
          frame: 5,
```

---

#### Pattern: `Optional Chaining` at line 371:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        frame,
        value: { x: xVal, y: yVal, z: zVal },
        interpolation: templateKf?.interpolation ?? "linear",
> inHandle: templateKf?.inHandle ?? { frame: -5, value: 0, enabled: false },
        outHandle: templateKf?.outHandle ?? {
          frame: 5,
          value: 0,
```

---

#### Pattern: `Optional Chaining` at line 372:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        value: { x: xVal, y: yVal, z: zVal },
        interpolation: templateKf?.interpolation ?? "linear",
        inHandle: templateKf?.inHandle ?? { frame: -5, value: 0, enabled: false },
> outHandle: templateKf?.outHandle ?? {
          frame: 5,
          value: 0,
          enabled: false,
```

---

#### Pattern: `Optional Chaining` at line 377:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          value: 0,
          enabled: false,
        },
> controlMode: templateKf?.controlMode ?? "smooth",
      });
    });
  
```

---

#### Pattern: `: void` at line 395:67

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Separate scale into individual X, Y, Z properties.
   */
> export function separateScaleDimensions(transform: LayerTransform): void {
    const scale = transform.scale;
    const currentValue = scale.value;
  
```

---

#### Pattern: `Optional Chaining` at line 423:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      scale.keyframes.forEach((kf) => {
        const val = kf.value;
  
> transform.scaleX?.keyframes.push({
          ...kf,
          id: `${kf.id}_x`,
          value: val.x,
```

---

#### Pattern: `Optional Chaining` at line 429:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          value: val.x,
        });
  
> transform.scaleY?.keyframes.push({
          ...kf,
          id: `${kf.id}_y`,
          value: val.y,
```

---

#### Pattern: `Optional Chaining` at line 435:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          value: val.y,
        });
  
> transform.scaleZ?.keyframes.push({
          ...kf,
          id: `${kf.id}_z`,
          value: val.z ?? 100,
```

---

#### Pattern: `: void` at line 452:63

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Link scale dimensions back into a combined property.
   */
> export function linkScaleDimensions(transform: LayerTransform): void {
    if (!transform.scaleX || !transform.scaleY) return;
  
    const scaleX = transform.scaleX;
```

---

#### Pattern: `Optional Chaining` at line 462:14

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    transform.scale.value = {
      x: scaleX.value,
      y: scaleY.value,
> z: scaleZ?.value ?? 100,
    };
  
    const allFrames = new Set<number>();
```

---

#### Pattern: `Optional Chaining` at line 468:9

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    const allFrames = new Set<number>();
    scaleX.keyframes.forEach((kf) => allFrames.add(kf.frame));
    scaleY.keyframes.forEach((kf) => allFrames.add(kf.frame));
> scaleZ?.keyframes.forEach((kf) => allFrames.add(kf.frame));
  
    transform.scale.keyframes = [];
    transform.scale.animated = allFrames.size > 0;
```

---

#### Pattern: `Optional Chaining` at line 478:23

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
    sortedFrames.forEach((frame) => {
      const xKf = scaleX.keyframes.find((k) => k.frame === frame);
      const yKf = scaleY.keyframes.find((k) => k.frame === frame);
> const zKf = scaleZ?.keyframes.find((k) => k.frame === frame);
  
      const xVal =
        xKf?.value ??
```

---

#### Pattern: `Optional Chaining` at line 481:10

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const zKf = scaleZ?.keyframes.find((k) => k.frame === frame);
  
      const xVal =
> xKf?.value ??
        getInterpolatedValue(scaleX.keyframes, frame) ??
        scaleX.value;
      const yVal =
```

---

#### Pattern: `Optional Chaining` at line 485:10

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        getInterpolatedValue(scaleX.keyframes, frame) ??
        scaleX.value;
      const yVal =
> yKf?.value ??
        getInterpolatedValue(scaleY.keyframes, frame) ??
        scaleY.value;
      const zVal =
```

---

#### Pattern: `Optional Chaining` at line 489:10

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        getInterpolatedValue(scaleY.keyframes, frame) ??
        scaleY.value;
      const zVal =
> zKf?.value ??
        getInterpolatedValue(scaleZ?.keyframes ?? [], frame) ??
        scaleZ?.value ??
        100;
```

---

#### Pattern: `Optional Chaining` at line 490:34

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        scaleY.value;
      const zVal =
        zKf?.value ??
> getInterpolatedValue(scaleZ?.keyframes ?? [], frame) ??
        scaleZ?.value ??
        100;
  
```

---

#### Pattern: `Optional Chaining` at line 491:13

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
      const zVal =
        zKf?.value ??
        getInterpolatedValue(scaleZ?.keyframes ?? [], frame) ??
> scaleZ?.value ??
        100;
  
      const templateKf = xKf || yKf || zKf;
```

---

#### Pattern: `Optional Chaining` at line 500:32

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        id: `kf_scale_${frame}_${Date.now()}`,
        frame,
        value: { x: xVal, y: yVal, z: zVal },
> interpolation: templateKf?.interpolation ?? "linear",
        inHandle: templateKf?.inHandle ?? { frame: -5, value: 0, enabled: false },
        outHandle: templateKf?.outHandle ?? {
          frame: 5,
```

---

#### Pattern: `Optional Chaining` at line 501:27

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        frame,
        value: { x: xVal, y: yVal, z: zVal },
        interpolation: templateKf?.interpolation ?? "linear",
> inHandle: templateKf?.inHandle ?? { frame: -5, value: 0, enabled: false },
        outHandle: templateKf?.outHandle ?? {
          frame: 5,
          value: 0,
```

---

#### Pattern: `Optional Chaining` at line 502:28

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
        value: { x: xVal, y: yVal, z: zVal },
        interpolation: templateKf?.interpolation ?? "linear",
        inHandle: templateKf?.inHandle ?? { frame: -5, value: 0, enabled: false },
> outHandle: templateKf?.outHandle ?? {
          frame: 5,
          value: 0,
          enabled: false,
```

---

#### Pattern: `Optional Chaining` at line 507:30

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
          value: 0,
          enabled: false,
        },
> controlMode: templateKf?.controlMode ?? "smooth",
      });
    });
  
```

---

### `utils/canvasPool.ts` (3 pattern(s))

#### Pattern: `: void` at line 73:37

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
     * Release a canvas back to the pool
     * Call this when done with an effect result
     */
> release(canvas: HTMLCanvasElement): void {
      const item = this.pool.find((p) => p.canvas === canvas);
      if (item) {
        item.inUse = false;
```

---

#### Pattern: `: void` at line 84:12

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clean up old unused canvases to free memory
     */
> cleanup(): void {
      const now = Date.now();
      this.pool = this.pool.filter((item) => {
        if (!item.inUse && now - item.lastUsed > this.maxAge) {
```

---

#### Pattern: `: void` at line 98:10

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
    /**
     * Clear all pooled canvases
     */
> clear(): void {
      this.pool = [];
    }
  
```

---

### `utils/colorUtils.ts` (7 pattern(s))

#### Pattern: `isNaN()` at line 205:17

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isNaN() for more accurate type checking

**Code:**
```typescript
      const g = parseInt(hex.slice(2, 4), 16);
      const b = parseInt(hex.slice(4, 6), 16);
  
> if (!Number.isNaN(r) && !Number.isNaN(g) && !Number.isNaN(b)) {
        return [r, g, b];
      }
    }
```

---

#### Pattern: `isNaN()` at line 205:37

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isNaN() for more accurate type checking

**Code:**
```typescript
      const g = parseInt(hex.slice(2, 4), 16);
      const b = parseInt(hex.slice(4, 6), 16);
  
> if (!Number.isNaN(r) && !Number.isNaN(g) && !Number.isNaN(b)) {
        return [r, g, b];
      }
    }
```

---

#### Pattern: `isNaN()` at line 205:57

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isNaN() for more accurate type checking

**Code:**
```typescript
      const g = parseInt(hex.slice(2, 4), 16);
      const b = parseInt(hex.slice(4, 6), 16);
  
> if (!Number.isNaN(r) && !Number.isNaN(g) && !Number.isNaN(b)) {
        return [r, g, b];
      }
    }
```

---

#### Pattern: `isNaN()` at line 238:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isNaN() for more accurate type checking

**Code:**
```typescript
      const a = parseInt(hex.slice(6, 8), 16) / 255;
  
      if (
> !Number.isNaN(r) &&
        !Number.isNaN(g) &&
        !Number.isNaN(b) &&
        !Number.isNaN(a)
```

---

#### Pattern: `isNaN()` at line 239:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isNaN() for more accurate type checking

**Code:**
```typescript
  
      if (
        !Number.isNaN(r) &&
> !Number.isNaN(g) &&
        !Number.isNaN(b) &&
        !Number.isNaN(a)
      ) {
```

---

#### Pattern: `isNaN()` at line 240:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isNaN() for more accurate type checking

**Code:**
```typescript
      if (
        !Number.isNaN(r) &&
        !Number.isNaN(g) &&
> !Number.isNaN(b) &&
        !Number.isNaN(a)
      ) {
        return [r, g, b, a];
```

---

#### Pattern: `isNaN()` at line 241:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isNaN() for more accurate type checking

**Code:**
```typescript
        !Number.isNaN(r) &&
        !Number.isNaN(g) &&
        !Number.isNaN(b) &&
> !Number.isNaN(a)
      ) {
        return [r, g, b, a];
      }
```

---

### `utils/fpsUtils.ts` (2 pattern(s))

#### Pattern: `isFinite()` at line 37:52

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    fps: number | null | undefined,
    fallback: number = DEFAULT_FPS,
  ): number {
> if (fps === null || fps === undefined || !Number.isFinite(fps) || fps <= 0) {
      return fallback;
    }
    return Math.max(MIN_FPS, Math.min(MAX_FPS, fps));
```

---

#### Pattern: `isFinite()` at line 145:52

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    fps: number | null | undefined,
    context?: string,
  ): asserts fps is number {
> if (fps === null || fps === undefined || !Number.isFinite(fps) || fps <= 0) {
      const ctx = context ? ` in ${context}` : "";
      throw new Error(
        `Invalid fps value${ctx}: ${fps}. FPS must be a positive number.`,
```

---

### `utils/logger.ts` (14 pattern(s))

#### Pattern: `Optional Chaining` at line 27:25

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
  // Default configuration - can be overridden
  const config: LoggerConfig = {
> level: import.meta.env?.DEV ? "debug" : "warn",
    prefix: "[Lattice]",
    enableTimestamp: false,
  };
```

---

#### Pattern: `: void` at line 35:45

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Set the global log level
   */
> export function setLogLevel(level: LogLevel): void {
    config.level = level;
  }
  
```

---

#### Pattern: `: void` at line 42:45

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Set the log prefix
   */
> export function setLogPrefix(prefix: string): void {
    config.prefix = prefix;
  }
  
```

---

#### Pattern: `: void` at line 49:54

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  /**
   * Enable/disable timestamps in logs
   */
> export function setTimestampEnabled(enabled: boolean): void {
    config.enableTimestamp = enabled;
  }
  
```

---

#### Pattern: `: void` at line 93:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
   */
  export function createLogger(context: string) {
    return {
> debug(message: string, ...args: any[]): void {
        if (shouldLog("debug")) {
          console.log(formatMessage("DEBUG", context, message), ...args);
        }
```

---

#### Pattern: `: void` at line 99:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
        }
      },
  
> info(message: string, ...args: any[]): void {
        if (shouldLog("info")) {
          console.info(formatMessage("INFO", context, message), ...args);
        }
```

---

#### Pattern: `: void` at line 105:42

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
        }
      },
  
> warn(message: string, ...args: any[]): void {
        if (shouldLog("warn")) {
          console.warn(formatMessage("WARN", context, message), ...args);
        }
```

---

#### Pattern: `: void` at line 111:43

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
        }
      },
  
> error(message: string, ...args: any[]): void {
        if (shouldLog("error")) {
          console.error(formatMessage("ERROR", context, message), ...args);
        }
```

---

#### Pattern: `: void` at line 120:58

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
      /**
       * Log with a specific level
       */
> log(level: LogLevel, message: string, ...args: any[]): void {
        switch (level) {
          case "debug":
            this.debug(message, ...args);
```

---

#### Pattern: `: void` at line 140:25

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Group related logs (collapsible in console)
       */
> group(label: string): void {
        if (shouldLog("debug")) {
          console.group(formatMessage("", context, label));
        }
```

---

#### Pattern: `: void` at line 146:15

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        }
      },
  
> groupEnd(): void {
        if (shouldLog("debug")) {
          console.groupEnd();
        }
```

---

#### Pattern: `: void` at line 155:21

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead
- **Type Info:** Type is explicitly 'any'

**Code:**
```typescript
      /**
       * Log a table (useful for arrays/objects)
       */
> table(data: any): void {
        if (shouldLog("debug")) {
          console.log(formatMessage("", context, "Table:"));
          console.table(data);
```

---

#### Pattern: `: void` at line 165:24

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
      /**
       * Measure time for an operation
       */
> time(label: string): void {
        if (shouldLog("debug")) {
          console.time(`${config.prefix} [${context}] ${label}`);
        }
```

---

#### Pattern: `: void` at line 171:27

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
        }
      },
  
> timeEnd(label: string): void {
        if (shouldLog("debug")) {
          console.timeEnd(`${config.prefix} [${context}] ${label}`);
        }
```

---

### `utils/numericSafety.ts` (11 pattern(s))

#### Pattern: `isFinite()` at line 18:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
   */
  export function ensureFinite(value: unknown, fallback: number): number {
    if (typeof value !== "number") return fallback;
> if (!Number.isFinite(value)) return fallback;
    return value;
  }
  
```

---

#### Pattern: `isNaN()` at line 30:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isNaN() for more accurate type checking

**Code:**
```typescript
    if (typeof value !== "number") {
      throw new TypeError(`${name} must be a number, got ${typeof value}`);
    }
> if (Number.isNaN(value)) {
      throw new TypeError(`${name} must not be NaN`);
    }
    if (!Number.isFinite(value)) {
```

---

#### Pattern: `isFinite()` at line 33:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
    if (Number.isNaN(value)) {
      throw new TypeError(`${name} must not be NaN`);
    }
> if (!Number.isFinite(value)) {
      throw new TypeError(`${name} must be finite, got ${value}`);
    }
    return value;
```

---

#### Pattern: `isFinite()` at line 53:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  ): number {
    if (denominator === 0) return fallback;
    const result = numerator / denominator;
> if (!Number.isFinite(result)) return fallback;
    return result;
  }
  
```

---

#### Pattern: `isFinite()` at line 64:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  export function safeMod(value: number, divisor: number): number {
    if (divisor === 0) return 0;
    const result = ((value % divisor) + divisor) % divisor;
> if (!Number.isFinite(result)) return 0;
    return result;
  }
  
```

---

#### Pattern: `isFinite()` at line 73:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
   */
  export function safeSqrt(value: number): number {
    if (value < 0) return 0;
> if (!Number.isFinite(value)) return 0;
    return Math.sqrt(value);
  }
  
```

---

#### Pattern: `isFinite()` at line 82:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
   */
  export function safePow(base: number, exponent: number, fallback = 0): number {
    const result = Math.pow(base, exponent);
> if (!Number.isFinite(result)) return fallback;
    return result;
  }
  
```

---

#### Pattern: `isFinite()` at line 92:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  export function safeLog(value: number, fallback = 0): number {
    if (value <= 0) return fallback;
    const result = Math.log(value);
> if (!Number.isFinite(result)) return fallback;
    return result;
  }
  
```

---

#### Pattern: `isNaN()` at line 105:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isNaN() for more accurate type checking

**Code:**
```typescript
   * Handles NaN by returning min.
   */
  export function clamp(value: number, min: number, max: number): number {
> if (Number.isNaN(value)) return min;
    if (value < min) return min;
    if (value > max) return max;
    return value;
```

---

#### Pattern: `isFinite()` at line 153:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    // Check for overflow in (b - a)
    const diff = safeB - safeA;
> if (!Number.isFinite(diff)) {
      // Fallback: use the mathematically equivalent but more stable formula
      // lerp(a, b, t) = a*(1-t) + b*t
      const result = safeA * (1 - safeT) + safeB * safeT;
```

---

#### Pattern: `isFinite()` at line 173:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
  
    // Check for overflow in (b - a)
    const diff = safeB - safeA;
> if (!Number.isFinite(diff)) {
      // Fallback: use the mathematically equivalent but more stable formula
      const result = safeA * (1 - safeT) + safeB * safeT;
      return ensureFinite(result, safeA);
```

---

### `utils/schemaValidation.ts` (1 pattern(s))

#### Pattern: `Optional Chaining` at line 478:44

- **Category:** Optional Chaining
- **Severity:** LOW
- **Suggestion:** Review if optional chaining is necessary or if null check should be explicit

**Code:**
```typescript
  
    // Limit length (most filesystems have 255 char limit)
    if (sanitized.length > 200) {
> const ext = sanitized.match(/\.[^.]+$/)?.[0] || "";
      sanitized = sanitized.slice(0, 200 - ext.length) + ext;
    }
  
```

---

### `utils/security.ts` (5 pattern(s))

#### Pattern: `: void` at line 344:2

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
  export function validateProjectStructure(
    data: unknown,
    context: string = "Project",
> ): void {
    if (!isObject(data)) {
      throw new ValidationError(
        `${context}: Expected object, got ${typeof data}`,
```

---

#### Pattern: `isFinite()` at line 389:18

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        const settings = comp.settings as Record<string, unknown>;
        if (
          settings.width !== undefined &&
> (!Number.isFinite(settings.width) || (settings.width as number) <= 0)
        ) {
          throw new ValidationError(
            `${context}: compositions.${compId}.settings.width must be a positive finite number`,
```

---

#### Pattern: `isFinite()` at line 397:18

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        }
        if (
          settings.height !== undefined &&
> (!Number.isFinite(settings.height) || (settings.height as number) <= 0)
        ) {
          throw new ValidationError(
            `${context}: compositions.${compId}.settings.height must be a positive finite number`,
```

---

#### Pattern: `isFinite()` at line 405:18

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        }
        if (
          settings.frameCount !== undefined &&
> (!Number.isFinite(settings.frameCount) ||
            (settings.frameCount as number) <= 0)
        ) {
          throw new ValidationError(
```

---

#### Pattern: `isFinite()` at line 414:18

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
        }
        if (
          settings.fps !== undefined &&
> (!Number.isFinite(settings.fps) || (settings.fps as number) <= 0)
        ) {
          throw new ValidationError(
            `${context}: compositions.${compId}.settings.fps must be a positive finite number`,
```

---

### `utils/typeGuards.ts` (1 pattern(s))

#### Pattern: `isFinite()` at line 23:46

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
   * Check if value is a finite number (not NaN, not Infinity)
   */
  export function isFiniteNumber(value: unknown): value is number {
> return typeof value === "number" && Number.isFinite(value);
  }
  
  /**
```

---

### `utils/validation.ts` (2 pattern(s))

#### Pattern: `isNaN()` at line 66:14

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isNaN() for more accurate type checking

**Code:**
```typescript
  ): ValidationResult<number> {
    const num = typeof value === "number" ? value : Number(value);
  
> if (Number.isNaN(num)) {
      if (options.allowNaN) return ok(num);
      return fail(`${name} must be a valid number, got NaN`);
    }
```

---

#### Pattern: `isFinite()` at line 71:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      return fail(`${name} must be a valid number, got NaN`);
    }
  
> if (!Number.isFinite(num)) {
      return fail(`${name} must be a finite number, got ${value}`);
    }
  
```

---

### `workers/audioWorker.ts` (2 pattern(s))

#### Pattern: `: void` at line 117:53

- **Category:** Return Type
- **Severity:** LOW
- **Suggestion:** Review if function should return boolean/number/object instead

**Code:**
```typescript
   * Radix-2 Cooley-Tukey FFT
   * Much faster than naive DFT for power-of-2 sizes
   */
> function fft(real: Float32Array, imag: Float32Array): void {
    const n = real.length;
  
    // Bit-reversal permutation
```

---

#### Pattern: `isFinite()` at line 203:15

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
   * Returns validated fps or default if invalid.
   */
  function validateFps(fps: number): number {
> if (!Number.isFinite(fps) || fps <= 0) {
      return DEFAULT_FPS;
    }
    return Math.max(1, Math.min(120, fps));
```

---

### `workers/expressionWorker.ts` (1 pattern(s))

#### Pattern: `isFinite()` at line 144:47

- **Category:** Legacy Function
- **Severity:** LOW
- **Suggestion:** Replace with Number.isFinite() for more accurate type checking

**Code:**
```typescript
      const result = compartment.evaluate(req.code);
  
      // Validate result is a number
> if (typeof result !== "number" || !Number.isFinite(result)) {
        return { id: req.id, success: true, result: 0 };
      }
  
```

---

