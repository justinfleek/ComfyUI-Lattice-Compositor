# BUG-143: opacityOverride NaN Bypass (SYSTEMIC-005)

## Summary
applyMaterialOverrideToMesh() uses comparison `< 1` which fails for NaN. When opacityOverride is NaN, transparent is incorrectly set to false and opacity becomes NaN.

## Severity: LOW

## Location
- File: /ui/src/engine/layers/ModelLayer.ts
- Lines: 586-589
- Function: applyMaterialOverrideToMesh()

## Crash Path Trace
```
Function: applyMaterialOverrideToMesh(mesh, override)

Line 586-589:
  if (override.opacityOverride !== undefined) {
    material.transparent = override.opacityOverride < 1;  // NaN < 1 = false
    material.opacity = override.opacityOverride;  // NaN stored
  }

  - opacityOverride=NaN:
    - NaN !== undefined = true → enters block
    - NaN < 1 = false → material.transparent = false
    - material.opacity = NaN → NaN stored

  - opacityOverride=Infinity:
    - Infinity < 1 = false → transparent = false
    - material.opacity = Infinity → stored

Result: SILENT CORRUPTION (SYSTEMIC-005) - material opacity NaN
```

## Code Evidence
```typescript
// Line 586-589
if (override.opacityOverride !== undefined) {
  material.transparent = override.opacityOverride < 1;  // NaN fails comparison
  material.opacity = override.opacityOverride;  // No validation
}
```

## Impact
- Material appearance becomes undefined with NaN opacity
- Three.js may render incorrectly or crash
- Same SYSTEMIC-005 pattern as many other bugs

## Suggested Fix
```typescript
if (override.opacityOverride !== undefined) {
  const opacity = Number.isFinite(override.opacityOverride)
    ? Math.max(0, Math.min(1, override.opacityOverride))
    : 1;
  material.transparent = opacity < 1;
  material.opacity = opacity;
}
```
