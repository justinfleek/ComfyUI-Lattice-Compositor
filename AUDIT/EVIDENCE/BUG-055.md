# BUG-055: Grid Division by Zero Causes Infinite Step

## Summary
The `updateCompositionGrid()` function calculates step sizes by dividing composition dimensions by divisions. If divisions=0, the step becomes Infinity, causing the loop to create only edge lines and skip the entire grid interior.

## Severity: LOW

## Location
- File: /ui/src/engine/core/SceneManager.ts
- Lines: 757, 783-784, 796-797
- Function: updateCompositionGrid

## The Bug
```typescript
// Line 757
updateCompositionGrid(divisions: number = 20): void {
  // No validation on divisions parameter

  const w = this.compositionWidth;
  const h = this.compositionHeight;

  // Line 783-784
  const stepX = w / divisions;  // If divisions=0: stepX = Infinity
  for (let i = 0; i <= divisions; i++) {  // i <= 0: only i=0 runs
    const x = i * stepX;  // x = 0 * Infinity = NaN
    // Creates line at x=NaN (invisible/offscreen)
  }

  // Line 796-797 - same issue
  const stepY = h / divisions;
  for (let i = 0; i <= divisions; i++) {
    const y = -i * stepY;
    // y = 0 * Infinity = NaN for i=0
  }
}
```

## Proof of Failure
```typescript
sceneManager.updateCompositionGrid(0);

// stepX = 1920 / 0 = Infinity
// stepY = 1080 / 0 = Infinity

// First vertical loop iteration (i=0):
// x = 0 * Infinity = NaN
// Creates line from (NaN, 0) to (NaN, -1080) - invisible

// Loop exits because i <= 0 only allows i=0

// Result: No visible grid lines (or NaN-positioned invisible lines)
// User sees empty grid when they expected 0 divisions (edge case)
```

## Additional NaN Vector
```typescript
// divisions = NaN
sceneManager.updateCompositionGrid(NaN);

// stepX = 1920 / NaN = NaN
// Loop: i <= NaN is always false
// Loop never executes
// Result: Empty grid group (no lines at all)
```

## Impact
- Incorrect grid rendering with divisions=0 or NaN
- Visual confusion for users
- No crash, but unexpected behavior

## Suggested Fix
```typescript
updateCompositionGrid(divisions: number = 20): void {
  // Validate divisions
  if (!Number.isFinite(divisions) || divisions < 1) {
    console.warn('updateCompositionGrid: Invalid divisions, using default', divisions);
    divisions = 20;
  }

  // ... rest of function
}
```
