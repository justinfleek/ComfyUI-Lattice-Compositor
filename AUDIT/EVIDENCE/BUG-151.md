# BUG-151: DepthflowLayer.setDimensions() No Validation

## Summary
setDimensions() creates PlaneGeometry with width/height values without validation. NaN, zero, negative, and Infinity values create degenerate or invalid geometry.

## Severity: LOW

## Location
- File: /ui/src/engine/layers/DepthflowLayer.ts
- Lines: 246-256
- Function: setDimensions()

## Crash Path Trace
```
Function: setDimensions(width: number, height: number)

Line 247: if (width === this.width && height === this.height) return;
  - NaN === this.width = false (NaN !== NaN) → continues

Line 249-250:
  this.width = width;   // NaN stored
  this.height = height; // NaN stored

Line 253-255:
  this.geometry.dispose();
  this.geometry = new THREE.PlaneGeometry(width, height);  // Degenerate
  this.mesh.geometry = this.geometry;

Test cases:
  - width=NaN → PlaneGeometry(NaN, height) → vertices are NaN
  - width=0 → PlaneGeometry(0, height) → zero-area plane (invisible)
  - width=-100 → PlaneGeometry(-100, height) → inverted/negative plane
  - width=Infinity → PlaneGeometry(Infinity, height) → huge geometry

Result: SILENT CORRUPTION - geometry invalid, mesh invisible or broken
```

## Code Evidence
```typescript
// Line 246-256
setDimensions(width: number, height: number): void {
  if (width === this.width && height === this.height) return;

  this.width = width;
  this.height = height;

  // Recreate geometry
  this.geometry.dispose();
  this.geometry = new THREE.PlaneGeometry(width, height);  // No validation
  this.mesh.geometry = this.geometry;
}
```

## Impact
- Depthflow effect becomes invisible (width=0)
- Geometry contains NaN vertices (rendering undefined)
- Memory issues with Infinity dimensions

## Suggested Fix
```typescript
setDimensions(width: number, height: number): void {
  if (!Number.isFinite(width) || !Number.isFinite(height) || width <= 0 || height <= 0) {
    console.warn(`setDimensions: invalid dimensions ${width}x${height}`);
    return;
  }
  if (width === this.width && height === this.height) return;
  // ...
}
```
