# BUG-042: NaN Index Bypasses Bounds Check in reorderEffects

## Summary
The `reorderEffects()` function checks `if (fromIndex < 0 || fromIndex >= length)` but this doesn't catch NaN. Since `NaN < 0` and `NaN >= length` are both false, NaN bypasses the guard. `splice(NaN, 1)` then treats NaN as 0, moving the wrong effect.

## Severity: LOW

## Location
- File: /ui/src/stores/actions/effectActions.ts
- Lines: 150-154
- Function: reorderEffects

## The Bug
```typescript
export function reorderEffects(
  store: EffectStore,
  layerId: string,
  fromIndex: number,
  toIndex: number
): void {
  const layer = store.getActiveCompLayers().find(l => l.id === layerId);
  if (!layer || !layer.effects) return;

  // Line 150-151 - NaN bypasses both checks
  if (fromIndex < 0 || fromIndex >= layer.effects.length) return;
  if (toIndex < 0 || toIndex >= layer.effects.length) return;
  // NaN < 0 = false
  // NaN >= 5 = false
  // Both conditions false → continues execution

  // Line 153-154 - splice with NaN
  const [effect] = layer.effects.splice(fromIndex, 1);  // splice(NaN, 1) = splice(0, 1)
  layer.effects.splice(toIndex, 0, effect);  // splice(NaN, 0, ...) = splice(0, 0, ...)
  // ...
}
```

## Proof of Failure
```typescript
const layer = {
  effects: [
    { id: 'blur', name: 'Blur' },      // index 0
    { id: 'glow', name: 'Glow' },      // index 1
    { id: 'color', name: 'Color' }     // index 2
  ]
};

reorderEffects(store, layerId, NaN, 2);
// fromIndex < 0 → false (NaN < 0 is false)
// fromIndex >= 3 → false (NaN >= 3 is false)
// toIndex < 0 → false
// toIndex >= 3 → false
// All checks pass!

// splice(NaN, 1) = splice(0, 1) → removes 'Blur' (WRONG - user intended different index)
// splice(2, 0, blur) → inserts Blur at index 2
// Result: ['Glow', 'Color', 'Blur'] - wrong effect was moved
```

## Impact
- Wrong effect gets reordered instead of intended effect
- User's effect stack gets corrupted silently
- Low severity because NaN index requires upstream bug
- Same pattern as BUG-040

## Suggested Fix
Add NaN check:
```typescript
export function reorderEffects(
  store: EffectStore,
  layerId: string,
  fromIndex: number,
  toIndex: number
): void {
  // ...
  if (!Number.isInteger(fromIndex) || fromIndex < 0 || fromIndex >= layer.effects.length) return;
  if (!Number.isInteger(toIndex) || toIndex < 0 || toIndex >= layer.effects.length) return;
  // ...
}
```
