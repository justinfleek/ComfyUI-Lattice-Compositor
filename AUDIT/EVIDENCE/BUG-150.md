# BUG-150: pathParameter NaN Stored Without Validation

## Summary
onApplyEvaluatedState() stores the pathParameter value directly without validation. NaN values corrupt the path following parameter and propagate to subsequent path calculations.

## Severity: LOW

## Location
- File: /ui/src/engine/layers/CameraLayer.ts
- Lines: 483-486
- Function: onApplyEvaluatedState()

## Crash Path Trace
```
Function: onApplyEvaluatedState(state)

Line 483-486:
  if (props['pathParameter'] !== undefined && this.cameraData.pathFollowing?.enabled) {
    this.cameraData.pathFollowing.parameter.value = props['pathParameter'] as number;
  }

  - props['pathParameter']=NaN:
    - NaN !== undefined = true → enters block
    - this.cameraData.pathFollowing.parameter.value = NaN
    - Stored without validation

Later in applyPathFollowing() at line 511:
  t = interpolateProperty(pathFollowing.parameter, frame, ...);
  - parameter.value=NaN → interpolation returns NaN
  - NaN propagates through path following (triggers BUG-148)

Result: SILENT CORRUPTION - path parameter value corrupted, propagates to path following
```

## Code Evidence
```typescript
// Line 479-489
protected override onApplyEvaluatedState(state: import('../MotionEngine').EvaluatedLayer): void {
  const props = state.properties;

  // Apply evaluated path parameter if using path following
  if (props['pathParameter'] !== undefined && this.cameraData.pathFollowing?.enabled) {
    // Update the parameter value directly for the next evaluation
    this.cameraData.pathFollowing.parameter.value = props['pathParameter'] as number;  // No validation
  }
  // ...
}
```

## Impact
- Path following parameter becomes NaN
- Camera snaps to invalid position
- Path following completely broken
- Cascades into BUG-148 (NaN bypasses clamp)

## Suggested Fix
```typescript
if (props['pathParameter'] !== undefined && this.cameraData.pathFollowing?.enabled) {
  const param = props['pathParameter'] as number;
  if (Number.isFinite(param)) {
    this.cameraData.pathFollowing.parameter.value = Math.max(0, Math.min(1, param));
  } else {
    console.warn(`onApplyEvaluatedState: invalid pathParameter ${param}`);
  }
}
```
