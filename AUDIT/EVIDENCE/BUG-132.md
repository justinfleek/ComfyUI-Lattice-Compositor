# BUG-132: PathLayer.setGuideDashPattern() No Validation

## Summary
The `setGuideDashPattern(pattern)` method passes dash/gap values directly to LineMaterial without validating the array contents or length.

## Severity: LOW

## Location
- File: /ui/src/engine/layers/PathLayer.ts
- Lines: 411-420
- Function: setGuideDashPattern

## The Bug
```typescript
// Lines 411-420
setGuideDashPattern(pattern: [number, number]): void {
  this.pathData.guideDashPattern = pattern;
  if (this.guideLine) {
    const mat = this.guideLine.material as LineMaterial;
    mat.dashSize = pattern[0];  // No validation!
    mat.gapSize = pattern[1];   // No validation!
    mat.needsUpdate = true;
    this.guideLine.computeLineDistances();
  }
}
```

Also in createGuideLine() at lines 197-198:
```typescript
dashSize: this.pathData.guideDashPattern[0],  // Undefined if array too short
gapSize: this.pathData.guideDashPattern[1],
```

## Proof of Failure
```typescript
const pathLayer = new PathLayer(layerData);

// Attack: NaN values
pathLayer.setGuideDashPattern([NaN, 5]);
// dashSize = NaN - undefined line rendering

// Attack: zero values
pathLayer.setGuideDashPattern([0, 0]);
// Both dash and gap are 0 - undefined behavior

// Attack: negative values
pathLayer.setGuideDashPattern([-10, -5]);
// Negative dash pattern - undefined behavior

// Attack: empty array (TypeScript type says [number, number] but runtime may differ)
pathLayer.setGuideDashPattern([] as any);
// pattern[0] = undefined, pattern[1] = undefined
```

## Impact
- Guide line dash pattern may be corrupted
- Visual glitches in editor
- Low severity: Editor visual only, not rendering output

## Related
- 14A: Numeric inputs - 0, NaN testing
- 14C: Arrays - empty array testing

## Suggested Fix
```typescript
setGuideDashPattern(pattern: [number, number]): void {
  // Validate array
  if (!Array.isArray(pattern) || pattern.length < 2) {
    console.warn('PathLayer.setGuideDashPattern: Invalid pattern');
    return;
  }

  const [dash, gap] = pattern;

  // Validate values
  if (!Number.isFinite(dash) || !Number.isFinite(gap) ||
      dash <= 0 || gap <= 0) {
    console.warn('PathLayer.setGuideDashPattern: Invalid values');
    return;
  }

  this.pathData.guideDashPattern = [dash, gap];
  if (this.guideLine) {
    const mat = this.guideLine.material as LineMaterial;
    mat.dashSize = dash;
    mat.gapSize = gap;
    mat.needsUpdate = true;
    this.guideLine.computeLineDistances();
  }
}
```
