# BUG-039: createComposition() Does Not Validate fps (Unlike updateCompositionSettings)

## Summary
The `createComposition()` function uses `settings?.fps` directly without validation, while `updateCompositionSettings()` validates fps via `validateFps()`. If fps=0 is passed to createComposition, `duration = frameCount / 0 = Infinity`, corrupting the composition.

## Severity: LOW

## Location
- File: /ui/src/stores/actions/compositionActions.ts
- Lines: 64, 70
- Function: createComposition

## The Bug

### Inconsistent validation
```typescript
// createComposition() - Line 64 - NO validation
const defaultSettings: CompositionSettings = {
  // ...
  fps: settings?.fps ?? activeComp?.settings.fps ?? 16,  // fps=0 passes through!
  duration: 0,
  // ...
};
defaultSettings.duration = defaultSettings.frameCount / defaultSettings.fps;  // Line 70
// fps=0 â†’ duration = 81 / 0 = Infinity

// updateCompositionSettings() - Line 155-157 - HAS validation
if (settings.fps !== undefined) {
  settings.fps = validateFps(settings.fps);  // Validates!
}
```

## Proof of Failure
```typescript
const store = createCompositionStore();

// Create composition with fps=0
const comp = createComposition(store, "Bad Comp", { fps: 0 });

console.log(comp.settings.fps);       // 0
console.log(comp.settings.duration);  // Infinity

// Subsequent calculations using duration will fail
const progress = currentFrame / (comp.settings.duration * comp.settings.fps);
// progress = 10 / (Infinity * 0) = 10 / NaN = NaN
```

## Contrast with updateCompositionSettings
```typescript
// This correctly validates fps
updateCompositionSettings(store, compId, { fps: 0 });
// validateFps(0) returns DEFAULT_FPS (e.g., 24)
```

## Impact
- Composition created with infinite duration
- Progress calculations produce NaN
- Low severity because explicit fps=0 is unusual, but inconsistency is problematic

## Suggested Fix
Add validation in createComposition:
```typescript
export function createComposition(
  store: CompositionStore,
  name: string,
  settings?: Partial<CompositionSettings>,
  isNestedComp: boolean = false
): Composition {
  // Validate fps if provided
  const validatedFps = settings?.fps !== undefined
    ? validateFps(settings.fps)
    : (activeComp?.settings.fps ?? DEFAULT_FPS);

  const defaultSettings: CompositionSettings = {
    // ...
    fps: validatedFps,
    // ...
  };
  // ...
}
```
