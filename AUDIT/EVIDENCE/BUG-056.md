# BUG-056: Circular Easing Functions Return NaN for Out-of-Range Input

## Summary
The circular easing functions (`easeInCirc`, `easeOutCirc`, `easeInOutCirc`) use `Math.sqrt(1 - t²)`. When `t > 1` or `t < 0`, the expression under the square root becomes negative, producing NaN. There's no input validation to clamp t to [0,1].

## Severity: LOW

## Location
- File: /ui/src/engine/animation/EasingFunctions.ts
- Lines: 99, 101, 103-105
- Functions: easeInCirc, easeOutCirc, easeInOutCirc

## The Bug
```typescript
// Line 99
easeInCirc: (t) => 1 - Math.sqrt(1 - Math.pow(t, 2)),
// If t = 2: 1 - Math.sqrt(1 - 4) = 1 - Math.sqrt(-3) = 1 - NaN = NaN

// Line 101
easeOutCirc: (t) => Math.sqrt(1 - Math.pow(t - 1, 2)),
// If t = -1: Math.sqrt(1 - 4) = Math.sqrt(-3) = NaN

// Lines 103-105
easeInOutCirc: (t) => t < 0.5
  ? (1 - Math.sqrt(1 - Math.pow(2 * t, 2))) / 2
  : (Math.sqrt(1 - Math.pow(-2 * t + 2, 2)) + 1) / 2,
// If t = 1.5: Math.sqrt(1 - Math.pow(-1, 2)) = Math.sqrt(0) = 0... wait that's fine
// If t = 2: Math.sqrt(1 - Math.pow(-2, 2)) = Math.sqrt(-3) = NaN
```

## Proof of Failure
```typescript
import { easingFunctions } from './EasingFunctions';

// Out-of-range values from interpolation overshoot, timing errors, etc.
console.log(easingFunctions.easeInCirc(1.5));    // NaN
console.log(easingFunctions.easeInCirc(2));      // NaN
console.log(easingFunctions.easeOutCirc(-0.5));  // NaN
console.log(easingFunctions.easeInOutCirc(2));   // NaN

// NaN propagates to animation values
// layer.opacity = NaN → invisible layer
// layer.position.x = NaN → layer disappears from render
```

## How t Can Be Out of Range
1. Interpolation overshoot (some easing functions intentionally go beyond 0-1)
2. Floating-point accumulation errors: `0.1 + 0.1 + ... + 0.1` may exceed 1.0
3. Manual keyframe evaluation with unclamped progress
4. Nested easing: `easeOutBack` returns values > 1 for mid-animation

## Impact
- Animation values become NaN
- Layers may disappear or render incorrectly
- NaN propagates through calculations
- Low severity: requires t outside [0,1], usually clamped upstream

## Suggested Fix
Clamp input at function start:
```typescript
easeInCirc: (t) => {
  t = Math.max(0, Math.min(1, t));
  return 1 - Math.sqrt(1 - t * t);
},

easeOutCirc: (t) => {
  t = Math.max(0, Math.min(1, t));
  return Math.sqrt(1 - Math.pow(t - 1, 2));
},

easeInOutCirc: (t) => {
  t = Math.max(0, Math.min(1, t));
  return t < 0.5
    ? (1 - Math.sqrt(1 - Math.pow(2 * t, 2))) / 2
    : (Math.sqrt(1 - Math.pow(-2 * t + 2, 2)) + 1) / 2;
},
```

Or validate once in `getEasing()` wrapper.
