# BUG-105: LatticeEngine.setResolution() NaN Bypass

## Summary
The `setResolution()` method has the identical NaN bypass bug as `resize()`. It checks `width <= 0 || height <= 0` but NaN passes this check because `NaN <= 0` evaluates to `false`.

## Severity: MEDIUM

## Location
- File: /ui/src/engine/LatticeEngine.ts
- Lines: 769-786
- Function: setResolution

## The Bug
```typescript
// Lines 769-786
setResolution(width: number, height: number): void {
  this.assertNotDisposed();

  if (width <= 0 || height <= 0) {  // NaN <= 0 is FALSE!
    engineLogger.warn('Invalid resolution dimensions:', width, height);
    return;
  }

  engineLogger.debug(`[LatticeEngine] setResolution: ${width}x${height}`);

  // NaN propagates to:
  this.renderer.resize(width, height);  // WebGL with NaN dimensions
  this.updateSplineResolutions(width, height);  // All splines get NaN

  this.emit('resolutionChange', { width, height });  // Broadcasts bad values
}
```

## Proof of Failure
```typescript
const engine = new LatticeEngine(config);

// Attack: NaN resolution (e.g., from bad calculation)
const badWidth = parseInt("abc");  // NaN
engine.setResolution(badWidth, 1080);

// Validation passes because NaN <= 0 is false
// NaN propagates to:
// - renderer.resize(NaN, 1080) → WebGL render buffer undefined
// - updateSplineResolutions(NaN, 1080) → Line2 materials broken
// - Event emitted with NaN → other components receive bad data

// UI dropdown scenario:
// User selects "50%" resolution, calculation goes wrong → NaN
// engine.setResolution(NaN, NaN)
// Entire preview becomes corrupted
```

## Impact
- WebGL render buffer with NaN dimensions
- All Line2/spline materials receive NaN resolution
- Event broadcast with invalid data affects other components
- Related to BUG-044 which this method was created to fix
- Preview quality system completely broken if triggered

## Related
- BUG-101: validateConfig() NaN bypass
- BUG-103: resize() identical pattern
- SYSTEMIC-005: NaN bypass via comparison operators
- 14A: Numeric inputs - NaN testing

## Suggested Fix
```typescript
setResolution(width: number, height: number): void {
  this.assertNotDisposed();

  if (!Number.isFinite(width) || !Number.isFinite(height) ||
      width <= 0 || height <= 0) {
    engineLogger.warn('Invalid resolution dimensions:', width, height);
    return;
  }

  // ... rest of method
}
```
