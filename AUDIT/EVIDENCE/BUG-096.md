# BUG-096: ParticleLayer.setCacheInterval() No Validation

## Summary
`setCacheInterval(interval)` accepts any value (0, NaN, negative, Infinity) without validation and delegates directly to GPUParticleSystem. Invalid values could cause caching system malfunction.

## Severity: LOW

## Location
- File: /ui/src/engine/layers/ParticleLayer.ts
- Lines: 934-936
- Function: setCacheInterval

## The Bug
```typescript
// Lines 934-936
setCacheInterval(interval: number): void {
  this.particleSystem.setCacheInterval(interval);  // NO VALIDATION!
}
```

## How cacheInterval is Used
The cache interval determines how often particle state snapshots are saved:
- interval=1: Cache every frame (high memory, fast scrubbing)
- interval=10: Cache every 10 frames (balanced)
- interval=0: Would mean "cache every 0 frames" - undefined behavior
- interval=NaN: NaN comparisons always false - cache never created
- interval=-1: Negative interval - modulo arithmetic breaks

## Proof of Failure
```typescript
const layer = new ParticleLayer(layerData);
layer.initializeWithRenderer(renderer);

// Set invalid cache interval
layer.setCacheInterval(0);
// -> GPUParticleSystem receives 0
// -> frame % 0 is NaN (any number mod 0 is NaN in JS)
// -> Cache condition check fails unpredictably

layer.setCacheInterval(NaN);
// -> frame % NaN is NaN
// -> NaN === 0 is false, caching never triggers

layer.setCacheInterval(-5);
// -> Negative modulo behavior: 10 % -5 = 0, but meaning is unclear
```

## Impact
- interval=0: Modulo by zero produces NaN, cache never works
- interval=NaN: Cache system silently disabled
- interval<0: Unexpected caching behavior
- Low severity: Only affects scrubbing performance, not visual output

## Related
- BUG-085: setFPS() same pattern (no validation)
- SYSTEMIC-003: Division/modulo by zero pattern
- Rule 14: "Delegates to X is NOT an excuse - wrappers must validate"

## Suggested Fix
```typescript
setCacheInterval(interval: number): void {
  if (!Number.isFinite(interval) || interval < 1) {
    console.warn('ParticleLayer.setCacheInterval: Invalid interval, using 10');
    interval = 10;
  }
  this.particleSystem.setCacheInterval(Math.floor(interval));
}
```
