# BUG-125: ShapeLayer.setSize() No Validation

## Summary
The `setSize(width, height)` method passes dimensions directly to `OffscreenCanvas` constructor without validation. Invalid values (0, negative, NaN, Infinity) cause the constructor to throw an exception.

## Severity: LOW

## Location
- File: /ui/src/engine/layers/ShapeLayer.ts
- Lines: 193-213
- Function: setSize

## The Bug
```typescript
// Lines 193-213
setSize(width: number, height: number): void {
  if (width === this.canvasWidth && height === this.canvasHeight) return;

  this.canvasWidth = width;  // No validation!
  this.canvasHeight = height;

  // Recreate canvas
  this.canvas = new OffscreenCanvas(width, height);  // THROWS if invalid!
  this.ctx = this.canvas.getContext('2d')!;

  // Update texture
  this.texture.image = this.canvas as any;
  this.texture.needsUpdate = true;

  // Update mesh geometry
  this.mesh.geometry.dispose();
  this.mesh.geometry = new THREE.PlaneGeometry(width, height);
  this.mesh.position.set(width / 2, height / 2, 0);

  this.renderShape();
}
```

## Proof of Failure
```typescript
const shapeLayer = new ShapeLayer(layerData);

// Attack: width = 0
shapeLayer.setSize(0, 1080);
// new OffscreenCanvas(0, 1080) - throws IndexSizeError

// Attack: width = NaN
shapeLayer.setSize(NaN, 1080);
// new OffscreenCanvas(NaN, 1080) - throws

// Attack: width = -1
shapeLayer.setSize(-1, 1080);
// new OffscreenCanvas(-1, 1080) - throws RangeError

// Attack: width = Infinity
shapeLayer.setSize(Infinity, 1080);
// May throw or create unusable canvas
```

## Impact
- Uncaught exception crashes the layer
- Subsequent render calls fail
- Low severity: Typically called with composition dimensions from trusted source

## Related
- SYSTEMIC-005: NaN bypass via comparison operators
- 14A: Numeric inputs - 0, NaN testing

## Suggested Fix
```typescript
setSize(width: number, height: number): void {
  // Validate dimensions
  if (!Number.isFinite(width) || !Number.isFinite(height) ||
      width <= 0 || height <= 0) {
    console.warn('ShapeLayer.setSize: Invalid dimensions');
    return;
  }

  // Clamp to reasonable max
  width = Math.min(width, 16384);
  height = Math.min(height, 16384);

  if (width === this.canvasWidth && height === this.canvasHeight) return;

  this.canvasWidth = width;
  this.canvasHeight = height;

  // ... rest of method
}
```
