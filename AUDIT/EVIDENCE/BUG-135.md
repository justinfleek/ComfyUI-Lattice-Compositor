# BUG-135: EffectLayer.resizeMesh() No Validation

## Summary
The `resizeMesh(width, height)` method creates geometry and canvas with dimensions that are not validated. Invalid values cause errors or degenerate resources.

## Severity: LOW

## Location
- File: /ui/src/engine/layers/EffectLayer.ts
- Lines: 106-120
- Function: resizeMesh

## The Bug
```typescript
// Lines 106-120
private resizeMesh(width: number, height: number): void {
  if (!this.mesh) return;

  this.compWidth = width;   // No validation!
  this.compHeight = height;

  this.mesh.geometry.dispose();
  this.mesh.geometry = new THREE.PlaneGeometry(width, height);  // Degenerate if invalid

  // Create/resize effect canvas
  this.effectCanvas = document.createElement('canvas');
  this.effectCanvas.width = width;   // DOM throws if invalid!
  this.effectCanvas.height = height;
  this.effectCtx = this.effectCanvas.getContext('2d');
}
```

## Proof of Failure
```typescript
const effectLayer = new EffectLayer(layerData);
effectLayer.setRenderContext({
  getCanvasDimensions: () => ({ width: 0, height: 0 }),  // Invalid!
  renderLayersBelow: () => null,
  markLayersHandled: () => {}
});

// In resizeMesh(0, 0):
// - PlaneGeometry(0, 0) - degenerate mesh
// - canvas.width = 0 - some browsers throw

// Attack: NaN dimensions
// getCanvasDimensions: () => ({ width: NaN, height: NaN })
// PlaneGeometry(NaN, NaN) - corrupted geometry
// canvas.width = NaN â†’ canvas.width = 0 (DOM coerces to int)
```

## Impact
- Degenerate geometry causes effect layer to be invisible
- Canvas with 0 dimensions may throw in some browsers
- Low severity: Dimensions typically come from composition

## Related
- BUG-127: SolidLayer.setDimensions no validation (same pattern)
- BUG-125: ShapeLayer.setSize no validation

## Suggested Fix
```typescript
private resizeMesh(width: number, height: number): void {
  if (!this.mesh) return;

  // Validate dimensions
  if (!Number.isFinite(width) || !Number.isFinite(height) ||
      width <= 0 || height <= 0) {
    layerLogger.warn('EffectLayer.resizeMesh: Invalid dimensions');
    return;
  }

  this.compWidth = width;
  this.compHeight = height;

  this.mesh.geometry.dispose();
  this.mesh.geometry = new THREE.PlaneGeometry(width, height);

  // Create/resize effect canvas
  this.effectCanvas = document.createElement('canvas');
  this.effectCanvas.width = width;
  this.effectCanvas.height = height;
  this.effectCtx = this.effectCanvas.getContext('2d');
}
```
