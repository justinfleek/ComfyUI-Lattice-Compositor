# BUG-023: NaN Parameters Cause Undefined Lookup Table Access

## Summary
The blur renderers use nullish coalescing (`??`) to provide defaults, but this doesn't catch NaN values. When `blurriness=NaN`, the value passes through validation and causes undefined lookup table access, producing corrupted output.

## Severity: LOW

## Location
- File: /ui/src/services/effects/blurRenderer.ts
- Lines: 802, 866, 918, 995, 1126, 1217
- Functions: gaussianBlurRenderer, directionalBlurRenderer, radialBlurRenderer, boxBlurRenderer, sharpenRenderer

## The Bug
```typescript
// Line 802
const blurriness = params.blurriness ?? 10;  // ?? only catches null/undefined, NOT NaN

// If blurriness = NaN:
// Line 451: radiusX = Math.max(0, Math.min(255, Math.round(NaN))) = NaN
// Line 478: mulSum = MUL_TABLE[NaN] = undefined
// Line 479: shgSum = SHG_TABLE[NaN] = undefined

// Line 564: pixels[pOffset] = (rSum * undefined) >>> undefined
// undefined * anything = NaN
// NaN >>> 0 = 0
// All pixels become 0 (black output)
```

## Proof of Failure
```typescript
const params = { blurriness: NaN };
gaussianBlurRenderer(input, params);

// Trace:
// blurriness = NaN (not caught by ??)
// radiusX = NaN
// MUL_TABLE[NaN] = undefined
// SHG_TABLE[NaN] = undefined
// All pixel calculations produce 0 or NaN
// Output: black image or corrupted pixels
```

## Similar Issues
Same pattern in other renderers:
- `params.blur_length ?? 10` at line 919
- `params.amount ?? 10` at line 995
- `params.radius ?? 5` at line 1126
- `params.amount ?? 50` at line 1217

## Impact
- NaN params produce black or corrupted output
- No error thrown - silent visual corruption
- Low severity because NaN params are unusual (but possible via expressions)

## Suggested Fix
Use explicit NaN check:
```typescript
const blurriness = Number.isFinite(params.blurriness) ? params.blurriness : 10;
```

Or use helper function:
```typescript
function safeNumber(value: unknown, fallback: number): number {
  return typeof value === 'number' && Number.isFinite(value) ? value : fallback;
}
const blurriness = safeNumber(params.blurriness, 10);
```
