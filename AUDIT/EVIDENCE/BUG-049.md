# BUG-049: removePathAnimator Deletes Without Calling dispose()

## Summary
The `removePathAnimator` function deletes an animator from the Map without calling its dispose() method. Any resources held by the AudioPathAnimator (event listeners, timers, DOM references) are not cleaned up.

## Severity: MEDIUM

## Location
- File: /ui/src/stores/actions/audioActions.ts
- Lines: 332-334
- Function: `removePathAnimator`

## The Bug
Line 333 deletes from Map without disposing the animator.

## Code Evidence
```typescript
// Lines 332-334
export function removePathAnimator(store: AudioStore, layerId: string): void {
  store.pathAnimators.delete(layerId);  // Does NOT call animator.dispose()!
}
```

## Compare to resetPathAnimators
```typescript
// Lines 364-368 - Uses animator but doesn't dispose
export function resetPathAnimators(store: AudioStore): void {
  for (const animator of store.pathAnimators.values()) {
    animator.reset();  // Resets state, but animator still exists
  }
}
```

## Crash Path Trace
```
1. createPathAnimator(store, 'layer1', config)
2. animator#1 created, registers requestAnimationFrame loop
3. setPathAnimatorPath(store, 'layer1', svgPath)
4. animator#1 parses SVG, stores DOM elements internally
5. User deletes layer 'layer1' from project
6. removePathAnimator(store, 'layer1')
7. Map.delete('layer1') removes reference
8. animator#1 still has active RAF callback registered
9. RAF callback fires -> tries to access deleted animator data
10. May cause errors or continue consuming CPU
```

## Impact
- Resource leak (animator not properly cleaned up)
- Potential requestAnimationFrame callback leak
- CPU consumption from orphaned animation loops
- May cause errors when callback fires after deletion

## Suggested Fix
```typescript
export function removePathAnimator(store: AudioStore, layerId: string): void {
  // BUG-049 FIX: Dispose animator before removing
  const animator = store.pathAnimators.get(layerId);
  if (animator?.dispose) {
    animator.dispose();
  }
  store.pathAnimators.delete(layerId);
}
```

## Additional: Add clearAllPathAnimators
```typescript
export function clearAllPathAnimators(store: AudioStore): void {
  for (const animator of store.pathAnimators.values()) {
    if (animator?.dispose) {
      animator.dispose();
    }
  }
  store.pathAnimators.clear();
}
```
