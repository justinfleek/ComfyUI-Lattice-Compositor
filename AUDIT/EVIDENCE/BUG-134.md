# BUG-134: DepthLayer.contourLevels No Validation

## Summary
The `contourLevels` uniform is set directly from depthData without validation. Invalid values (0, NaN, Infinity) corrupt shader calculations.

## Severity: LOW

## Location
- File: /ui/src/engine/layers/DepthLayer.ts
- Lines: 228 (uniform update), 125-127 (shader usage)
- Function: onUpdate, fragment shader

## The Bug
```typescript
// Line 228
if (data.contourLevels !== undefined) {
  this.material.uniforms.contourLevels.value = data.contourLevels;  // No validation!
}
```

```glsl
// Fragment shader, lines 125-127
float contourValue = fract(normalizedDepth * contourLevels);
// contourLevels = 0: contourValue = 0 for all pixels (no contours)
// contourLevels = NaN: contourValue = NaN → color = NaN → black
// contourLevels = Infinity: contourValue = NaN (fract(Infinity) is undefined)
```

## Proof of Failure
```typescript
const depthLayer = new DepthLayer(layerData);

// Update with invalid values via onUpdate
depthLayer.update({
  data: { contourLevels: NaN }
});
// uniform.contourLevels = NaN
// In shader: fract(normalizedDepth * NaN) = NaN
// smoothstep with NaN produces NaN
// Final color = NaN → renders as black

// Attack: contourLevels = 0
// contourValue = fract(0) = 0 for all pixels
// No contours visible, but no error

// Attack: contourLevels = Infinity
// fract(Infinity) behavior is undefined in GLSL
// May return 0, NaN, or garbage depending on GPU
```

## Impact
- NaN produces black output
- 0 produces no contours (may be intended)
- Infinity produces GPU-dependent garbage
- Low severity: Contour visualization only

## Related
- 14A: Numeric inputs - 0, NaN, Infinity testing
- 14P: WebGL/GPU - shader edge cases

## Suggested Fix
```typescript
if (data.contourLevels !== undefined) {
  // Validate contour levels
  const levels = data.contourLevels;
  if (!Number.isFinite(levels) || levels < 1) {
    console.warn('DepthLayer: Invalid contourLevels, using default');
    this.material.uniforms.contourLevels.value = 10;
  } else {
    this.material.uniforms.contourLevels.value = Math.floor(levels);
  }
}
```
