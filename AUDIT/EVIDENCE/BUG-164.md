# BUG-164: PointCloudLayer.getGradientTexture() Division by Zero

## Summary
getGradientTexture() calculates color interpolation between gradient stops by dividing by position difference. If two stops have the same position, division by zero produces NaN/Infinity, corrupting the gradient texture.

## Severity: LOW

## Location
- File: /ui/src/engine/layers/PointCloudLayer.ts
- Lines: 654-658
- Function: getGradientTexture()

## Crash Path Trace
```
Function: getGradientTexture(): THREE.DataTexture

Line 633-637:
  const stops = this.cloudData.colorGradient?.stops ?? [
    { position: 0, color: '#0000ff' },
    { position: 0.5, color: '#00ff00' },
    { position: 1, color: '#ff0000' },
  ];

Line 646-651:
  for (let j = 0; j < stops.length - 1; j++) {
    if (t >= stops[j].position && t <= stops[j + 1].position) {
      stop1 = stops[j];
      stop2 = stops[j + 1];
      break;
    }
  }

Line 655:
  const localT = (t - stop1.position) / (stop2.position - stop1.position);

Test case: stops = [{ position: 0.5, color: '#ff0000' }, { position: 0.5, color: '#00ff00' }]
  - stop1.position = 0.5, stop2.position = 0.5
  - stop2.position - stop1.position = 0
  - localT = (t - 0.5) / 0 = ±Infinity or NaN

Line 658:
  const color = color1.lerp(color2, localT);
  - lerp with NaN/Infinity produces NaN color components

Line 660-662:
  data[i * 4] = Math.floor(color.r * 255);  // NaN → 0 (but inconsistent)

Result: SILENT CORRUPTION - gradient texture has incorrect/NaN colors
```

## Code Evidence
```typescript
// Lines 654-658
// Interpolate color
const localT = (t - stop1.position) / (stop2.position - stop1.position);  // DIV/0 if same position
const color1 = new THREE.Color(stop1.color);
const color2 = new THREE.Color(stop2.color);
const color = color1.lerp(color2, localT);  // lerp with NaN/Infinity
```

## Impact
- User-defined gradients can have duplicate position stops
- Division by zero produces Infinity or NaN
- Color.lerp() with bad t value produces corrupt colors
- Gradient texture contains wrong colors
- Height/depth coloring modes affected

## Suggested Fix
```typescript
// Calculate position difference with safety check
const posDiff = stop2.position - stop1.position;
const localT = posDiff > 0.0001 ? (t - stop1.position) / posDiff : 0;
```
