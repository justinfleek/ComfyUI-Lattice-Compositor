# BUG-061: Infinite Loop When maxParticles is Infinity (ConnectionSystem)

## Summary
Same pattern as BUG-059 in SpatialHashGrid. The update() loop uses maxParticles as its bound. If maxParticles is Infinity, the loop runs forever.

## Severity: LOW

## Location
- File: /ui/src/engine/particles/ParticleConnectionSystem.ts
- Line: 87
- Function: update

## The Bug
```typescript
// Line 87-106
for (let i = 0; i < this.maxParticles; i++) {  // If maxParticles = Infinity â†’ infinite loop
  const offset = i * PARTICLE_STRIDE;
  const lifetime = particleBuffer[offset + 7];
  const age = particleBuffer[offset + 6];

  if (lifetime > 0 && age < lifetime) {
    activeParticles.push({ ... });
  }
}
```

## Proof of Failure
```typescript
const connectionSystem = new ParticleConnectionSystem(
  Infinity,  // maxParticles
  { enabled: true, maxConnections: 5, maxDistance: 100, ... }
);

connectionSystem.initialize();

// This never returns - infinite loop
connectionSystem.update(particleBuffer);
```

## Related
- BUG-059: Same pattern in SpatialHashGrid.rebuild()

## Impact
- Browser freeze when rendering particle connections
- Low severity: Requires specific bad input

## Suggested Fix
```typescript
constructor(maxParticles: number, config: ConnectionConfig) {
  if (!Number.isFinite(maxParticles) || maxParticles < 0) {
    console.warn('ParticleConnectionSystem: Invalid maxParticles, using 10000');
    this.maxParticles = 10000;
  } else {
    this.maxParticles = maxParticles;
  }
  this.config = config;
}
```
