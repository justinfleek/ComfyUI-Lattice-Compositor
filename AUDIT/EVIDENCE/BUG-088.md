# BUG-088: NestedCompLayer.setFPS() Lacks Validation (SYSTEMIC-003)

## Summary
NestedCompLayer.setFPS() stores the parentFPS value without validation. When fps=0 is passed AND overrideFrameRate is enabled, calculateNestedFrame() performs `childFps / parentFps` division, causing division by zero.

## Severity: LOW

## Location
- File: /ui/src/engine/layers/NestedCompLayer.ts
- Lines: 149-151
- Function: setFPS

## The Bug
```typescript
// Lines 149-151
setFPS(fps: number): void {
  this.parentFPS = fps;  // NO VALIDATION! Accepts 0, NaN
}
```

## How parentFPS is Used
```typescript
// Lines 226-229 in calculateNestedFrame()
if (this.nestedCompData.overrideFrameRate && this.nestedCompData.frameRate) {
  const parentFps = this.parentFPS;
  const childFps = this.nestedCompData.frameRate;
  nestedFrame = layerFrame * stretchFactor * (childFps / parentFps);
  // ^^^ Division by zero when parentFps=0!
}
```

## Proof of Failure
```typescript
const layer = new NestedCompLayer(layerData);
layer.setFPS(0);  // parentFPS = 0 (no validation)

// Enable frame rate override
layer.setFrameRateOverride(true, 30);  // childFps = 30

// Evaluate a frame
layer.evaluateFrame(100);
// -> calculateNestedFrame(100)
// -> nestedFrame = ... * (30 / 0) = Infinity
// -> Frame calculation corrupted
```

## NaN Case
```typescript
layer.setFPS(NaN);
// -> parentFPS = NaN
// -> childFps / NaN = NaN
// -> nestedFrame = NaN
// -> Propagates to Math.max/min (BUG-089)
```

## Impact
- When parentFPS=0 and overrideFrameRate=true: Infinity frame calculation
- When parentFPS=NaN: NaN propagation through frame calculation
- Low severity: Requires specific combination of conditions

## Related
- BUG-079: BaseLayer.setCompositionFps (ROOT CAUSE)
- BUG-085: ParticleLayer.setFPS (same pattern)
- BUG-089: NaN frame propagation in this file
- SYSTEMIC-003: Division by Zero / fps=0 pattern

## Suggested Fix
```typescript
setFPS(fps: number): void {
  if (!Number.isFinite(fps) || fps <= 0) {
    console.warn('NestedCompLayer.setFPS: Invalid fps, using default 30');
    fps = 30;
  }
  this.parentFPS = fps;
}
```
