# BUG-154: Division by fps=0 in calculatePresetValues and onEvaluateFrame

## Summary
Both calculatePresetValues() and onEvaluateFrame() divide by fps without validation. When compositionFps=0, this causes division by zero producing NaN/Infinity that corrupts shader uniforms.

## Severity: LOW

## Location
- File: /ui/src/engine/layers/DepthflowLayer.ts
- Lines: 320, 442
- Functions: calculatePresetValues(), onEvaluateFrame()

## Crash Path Trace
```
Function: onEvaluateFrame(frame: number)

Line 402: const fps = this.compositionFps;
  - compositionFps=0 (uninitialized or misconfigured)

Line 405: const presetValues = this.calculatePresetValues(frame, fps);
  → Inside calculatePresetValues(frame, fps=0):
  Line 320: const time = frame / fps;
    - frame=30, fps=0 → time=Infinity
    - Used in swing animations (lines 379, 383)

Line 442: this.material.uniforms.time.value = frame / fps;
  - frame=30, fps=0 → time=Infinity stored to uniform

Test cases:
  - fps=0, frame=30 → time=Infinity → shader calculates sin(Infinity)=NaN
  - fps=0, frame=0 → time=NaN (0/0) → shader produces NaN colors

Result: SILENT CORRUPTION - time uniform is Infinity/NaN, animations break
```

## Code Evidence
```typescript
// Lines 311-320
private calculatePresetValues(frame: number, fps: number = 16): {
  // ...
  const time = frame / fps;  // fps=0 → time=Infinity or NaN
  // ...
}

// Lines 398-442
protected onEvaluateFrame(frame: number): void {
  // ...
  const fps = this.compositionFps;  // Could be 0
  const presetValues = this.calculatePresetValues(frame, fps);  // fps=0 passed
  // ...
  this.material.uniforms.time.value = frame / fps;  // Direct division by zero
  // ...
}
```

## Impact
- time uniform becomes Infinity or NaN
- Shader math involving time produces NaN colors
- Swing and orbit presets produce garbage output
- SYSTEMIC-003: fps=0 division pattern repeated across codebase

## Suggested Fix
```typescript
protected onEvaluateFrame(frame: number): void {
  const fps = this.compositionFps || 30;  // Default to 30 if zero/undefined
  // ... rest of method
}

private calculatePresetValues(frame: number, fps: number = 16): {
  const safeFps = fps || 16;  // Ensure non-zero
  const time = frame / safeFps;
  // ...
}
```
