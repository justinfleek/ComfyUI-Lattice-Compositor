# BUG-109: SplineLayer.setStrokeWidth() No Validation

## Summary
The `setStrokeWidth(width)` method accepts the width parameter and passes it directly to `LineMaterial.linewidth` without any validation. Negative values, zero, NaN, and Infinity cause visual glitches or undefined rendering behavior.

## Severity: LOW

## Location
- File: /ui/src/engine/layers/SplineLayer.ts
- Lines: 670-676
- Function: setStrokeWidth

## The Bug
```typescript
// Lines 670-676
setStrokeWidth(width: number): void {
  this.splineData.strokeWidth = width;  // No validation!
  if (this.lineMesh) {
    (this.lineMesh.material as LineMaterial).linewidth = width;  // Direct assignment
    (this.lineMesh.material as LineMaterial).needsUpdate = true;
  }
}
```

## Proof of Failure
```typescript
const spline = new SplineLayer(layerData);

// Attack 1: Negative width
spline.setStrokeWidth(-10);
// LineMaterial.linewidth = -10
// WebGL behavior undefined - may render inverted or not at all

// Attack 2: Zero width
spline.setStrokeWidth(0);
// Line becomes invisible or single-pixel
// Could be intentional but often indicates a bug

// Attack 3: NaN width
spline.setStrokeWidth(NaN);
// LineMaterial.linewidth = NaN
// WebGL shader calculations with NaN - undefined visual result

// Attack 4: Infinity width
spline.setStrokeWidth(Infinity);
// Line width becomes infinite
// May fill entire viewport or cause GPU issues

// Attack 5: Very large values
spline.setStrokeWidth(1e10);
// Potential performance issues or visual corruption
```

## Impact
- Visual glitches with invalid values
- WebGL undefined behavior with NaN/Infinity
- Low severity: Usually set from UI with valid values

## Related
- 14A: Numeric inputs - 0, NaN, Infinity testing
- 14G: Boundary conditions

## Suggested Fix
```typescript
setStrokeWidth(width: number): void {
  // Validate and clamp width
  if (!Number.isFinite(width) || width < 0) {
    console.warn('SplineLayer.setStrokeWidth: Invalid width, using default');
    width = 2;  // Default width
  }
  // Clamp to reasonable range
  width = Math.min(width, 1000);  // Reasonable max

  this.splineData.strokeWidth = width;
  if (this.lineMesh) {
    (this.lineMesh.material as LineMaterial).linewidth = width;
    (this.lineMesh.material as LineMaterial).needsUpdate = true;
  }
}
```
