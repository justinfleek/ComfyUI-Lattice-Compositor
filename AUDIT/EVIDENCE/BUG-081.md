# BUG-081: NaN from Math.log in kelvinToRGB with Invalid Temperature

## Summary
In LightLayer's kelvinToRGB() function, when colorTemperature is 0 or negative, Math.log() is called with invalid values, producing NaN that corrupts light colors.

## Severity: LOW

## Location
- File: /ui/src/engine/layers/LightLayer.ts
- Lines: 195, 209
- Function: kelvinToRGB

## The Bug
```typescript
function kelvinToRGB(kelvin: number): { r: number; g: number; b: number } {
  const temp = kelvin / 100;  // If kelvin <= 0, temp <= 0

  // ...

  // Line 193-196
  if (temp <= 66) {
    g = temp;  // Could be <= 0!
    g = 99.4708025861 * Math.log(g) - 161.1195681661;  // Math.log(0) = -Infinity, Math.log(negative) = NaN!
  }

  // Line 207-210
  } else {
    b = temp - 10;  // Could be <= 0 if temp <= 10
    b = 138.5177312231 * Math.log(b) - 305.0447927307;  // Same issue!
  }
```

JavaScript behavior:
- `Math.log(0)` = -Infinity
- `Math.log(-1)` = NaN
- Both corrupt the color calculation

## Proof of Failure
```typescript
const lightLayer = new LightLayer({
  data: {
    lightType: 'point',
    colorTemperature: -100,  // Corrupt data
    useColorTemperature: true,
  }
});

// Line 195: temp = -1, g = -1, Math.log(-1) = NaN
// Light color becomes NaN â†’ rendering corruption
```

## Impact
- Light color corrupted with NaN
- May cause rendering artifacts or black output
- Low severity: Requires invalid colorTemperature (rare)

## Suggested Fix
```typescript
function kelvinToRGB(kelvin: number): { r: number; g: number; b: number } {
  // Clamp to valid range (1900K candle to 10000K blue sky)
  kelvin = Math.max(1000, Math.min(15000, kelvin));
  const temp = kelvin / 100;
  // ...
}
```
