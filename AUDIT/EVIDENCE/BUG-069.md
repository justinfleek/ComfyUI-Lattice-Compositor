# BUG-069: Infinite Loop When warmupFrames is Infinity

## Summary
simulateToFrame() iterates `for (let w = 0; w < warmupFrames; w++)` during warmup. If warmupFrames is Infinity, this loop runs forever, freezing the browser.

## Severity: LOW

## Location
- File: /ui/src/engine/particles/GPUParticleSystem.ts
- Line: 1536
- Function: simulateToFrame

## The Bug
```typescript
// Lines 1532-1544
// If starting from 0, reset first
if (startFrame === 0) {
  this.reset();
  const warmupFrames = this.config.warmupFrames || 0;
  if (warmupFrames > 0) {
    for (let w = 0; w < warmupFrames; w++) {  // Line 1536 - Infinite if warmupFrames = Infinity
      this.step(deltaTime);
    }
  }
  this.state.frameCount = 0;
  this.state.simulationTime = 0;
}
```

## Proof of Failure
```typescript
const system = new GPUParticleSystem({
  maxParticles: 1000,
  warmupFrames: Infinity  // Malicious or accidental config
});
system.initialize(renderer);

// Scrub to frame 100 - triggers warmup loop
system.simulateToFrame(100, 16);
// Line 1536: for (w = 0; w < Infinity; w++) - infinite loop
// Browser tab freezes
```

## Impact
- Browser freeze during timeline scrubbing
- Requires force-close of browser tab
- User loses unsaved work
- Low severity: Requires specific config (warmupFrames = Infinity)

## Suggested Fix
```typescript
if (startFrame === 0) {
  this.reset();
  // Validate warmupFrames - use || to catch 0, and cap at reasonable max
  const warmupFrames = this.config.warmupFrames || 0;
  const safeWarmup = Number.isFinite(warmupFrames) ? Math.min(warmupFrames, 10000) : 0;
  if (safeWarmup > 0) {
    for (let w = 0; w < safeWarmup; w++) {
      this.step(deltaTime);
    }
  }
  // ...
}
```
