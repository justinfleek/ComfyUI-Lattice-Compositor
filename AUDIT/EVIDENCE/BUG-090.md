# BUG-090: BaseLayer.setCompositionFps() No Validation

## Summary
`setCompositionFps(fps)` accepts any value (0, NaN, Infinity, negative) without validation. This fps value is used in effect processing and mask rendering, causing downstream failures.

## Severity: MEDIUM

## Location
- File: /ui/src/engine/layers/BaseLayer.ts
- Lines: 1558-1560
- Function: setCompositionFps

## The Bug
```typescript
// Lines 1558-1560
setCompositionFps(fps: number): void {
  this.compositionFps = fps;  // NO VALIDATION!
}
```

## How compositionFps is Used
```typescript
// Line 1036 - passed to effect processor
const effectContext = {
  frame,
  fps: this.compositionFps,  // fps=0 or NaN passed here
  layerId: this.id
};

// Line 1398 - passed to mask renderer
result = applyMasksToLayer(result, this.masks, frame, this.compositionFps);
```

## Proof of Failure
```typescript
const layer = new ImageLayer(layerData);
layer.setCompositionFps(0);  // Stored without validation

// Later in effect processing:
// processEffectStack receives fps=0
// Time-based effects like Echo divide by fps
// Result: Infinity or NaN propagation
```

## Impact
- fps=0: Division by zero in time-based effects (Echo, Posterize Time)
- fps=NaN: NaN propagation through all time calculations
- fps=Infinity: Time calculations produce 0 (silent failure)
- fps=-30: Negative time values, undefined behavior

## Related
- SYSTEMIC-003: Division by Zero / fps=0 pattern
- BUG-034, BUG-046, BUG-088: Same pattern in other files

## Suggested Fix
```typescript
setCompositionFps(fps: number): void {
  if (!Number.isFinite(fps) || fps <= 0) {
    console.warn('BaseLayer.setCompositionFps: Invalid fps, using default 30');
    fps = 30;
  }
  this.compositionFps = fps;
}
```
