#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

cd ui

echo "ğŸ” Running pre-commit checks..."

# Format code
echo "ğŸ“ Formatting code..."
npm run format

# Fix linting issues
echo "ğŸ”§ Fixing linting issues..."
npm run lint:fix

# Type check
echo "âœ… Type checking..."
npm run typecheck || {
  echo "âŒ Type check failed. Please fix type errors before committing."
  exit 1
}

# Check for lazy patterns
echo "ğŸ” Checking for lazy code patterns..."
npm run check:lazy || {
  echo "âŒ Lazy code patterns detected. Please fix before committing."
  echo "   Run 'npm run check:lazy:strict' for detailed report."
  exit 1
}

echo "âœ… All pre-commit checks passed!"
