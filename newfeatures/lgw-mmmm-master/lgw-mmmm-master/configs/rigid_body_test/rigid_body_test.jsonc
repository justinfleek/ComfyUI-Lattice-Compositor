{
    "Output": {
        // Optional, default `out`,
        "Directory": "../../sim_results/rigid_body_test_",
        "Frequency": 1
    },

    "Initial volume": [
        {
            // Closed mesh
            "Type": "Mesh",
            "Filename": "block.obj",
			// Translation of the object
            "Offset": [0.0, 0.0, 0.0],
            // Resolution of the grid used to compute SDF to the object
            "Resolution": [64, 64, 64]
        },
        {
            "Type": "Box",
			"Min corner": [0.25, 0.25, 0.8],
			"Max corner": [0.75, 0.75, 0.9],
            "Resolution": [64, 64, 64]
        }
    ],

    "Obstacle": [
        {
            // Closed mesh
            "Type": "Mesh",
            "Filename": "floor.obj",
            // default: (0, 0, 0)
            "Offset": [0.0, 0.0, 0.031],
            // Resolution of the grid used to compute SDF to the object
            "Resolution": [64, 64, 64],
            "Velocity": [0, 0, 0]
        },
        {
            "Type": "Mesh",
            "Filename": "bunny_1.obj",
            "Offset": [0.0, 0.0, -0.0],
            "Resolution": [32, 32, 32],
            "Velocity": [0, 0, -1],
            "AngularVelocity": [0, 0, 1],
            "Density": 230.0,
            "Active": true
        },
        {
            "Type": "Mesh",
            "Filename": "bunny_2.obj",
            "Offset": [0.0, 0.0, -0.0],
            "Resolution": [32, 32, 32],
            "Velocity": [0, 0, -1],
            "AngularVelocity": [0, 0, 1],
            "Density": 2300.0,
            "Active": true
        },
    ],

    "Particles": {
        // Size for the sampling, the lower the more,
        "Size": 6e-3
    },

	"Rigid body solver": {
		"Friction": 0.6,
		"Tolerance": 1e-4,
		"Max iterations": 50,

		// Spring based
		"Spring-based": true,
		"Area-weighted": true,
		"Spring K": 1e10,
		"Spring damp": 0.1,

		// Fully non-smooth
		// "Restitution": 0.0,
	},
    // "Geometry grid": {
    //     // Grid resolution for initial volume and surface reconstruction
    //     "Resolution": [128, 128, 128]
    // },
    //
    "Physics": {
        // Rigid body settings
        // "Rigid config": "../default_rigid_body.yaml",
        // Grid resolution for the simulation
        "Size": [1.0, 1.0, 1.0],
        "Resolution": [64, 64, 64],
        // Mass density (kg.m^-3)
        "rho": 1.093e3,
        // Timestep (s),
        "dt": 8.33333333333e-3,
        // Default to 0 (no limit). Max sim time (s)
        "T max": 5.0,
		/* Waves in the MPM simulation will not propagate faster than this number of
		 * grid nodes in one timestep. Must be between 0.0 and 1.0.
		 * Default: 0.85
		 */ 
        "CFL": 0.85,
		/* Amount of ASFLIP mixing. 0.0 corresponds to APIC.
		 * Default: 0.95. Fluids typically require a smaller value.
		 */
        "ASFLIP": 0.1,
        "Elasticity": {
            // Elasticity type: FixedCorotated, HenckyStVK, HenckyStVKCutting, HenckyMeasured
            "Type": "HenckyStVK",
            // Young modulus (Pa). Only for FixedCorotated, and HenckyStVK[Cutting].
            "E": 5.5e5,
            // Poisson ratio. Only for FixedCorotated, and HenckyStVK[Cutting].
            "nu": 0.3,
            // File name to elasticity file (only for homogenized data)
            //"Filename": "../elasticity/hexapods_f08_elasticity.txt",
            // Scale of the elasticity (only for homogenized data)
            //"Scale": 1.0
        },
        "Plasticity": {
            // Plastic return: None, Fluid, Snow, SandDP, SandMC, MeasuredMC
            "Type": "Fluid",
            // Optional, default to 0.6. Friction, Only for SandMC and SandDP.
            "mu": 0.7,
            // File name to plasticity file (only for homogenized data)
            //"Filename": "../yields/hexapods_f08_yield.txt",
            // Scale of the plasticity (only for homogenized data)
            //"Scale": 1.0
        },
        "Viscosity": {
            // Linear viscosity. Set to 0.0 to disable
            "eta": 0.0
        },
		// Volume correction scheme: None, Tampoubolon (default), Gao
		"Volume correction": "Gao",
        "Boundaries": {
            // Optional, default 0. Friction with the wall (.)
            "mu wall": 0.0,
            // Optional, default to true. Enforce Dirichlet BCs at particle level
            "Wall particles": true
        }
    },

    "GUI": {
        // Window title (optional)
        "Name": "MPM sim",
        // Window size
        "Size": [1000, 1000],
        // Camera position
        "Camera position": [-1.2, -1.4, 1.0],
        // Camera lookat
        "Camera lookat": [0.5, 0.5, 0.35],
        /*
		Optional. MPM display data:
        ParticleVolume, ParticlePlasticVolume, ParticleAltitude,
        ParticlePackingFraction.
		*/
        "MPM display": "ParticleSpeed",
        // Optional, default to 1. Particle scale,
        "Particle scale": 1.0
    }

}
