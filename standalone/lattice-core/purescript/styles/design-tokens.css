/* ============================================================
   LATTICE COMPOSITOR - DESIGN TOKENS
   ============================================================
   
   This file defines the visual design system for the Lattice
   Compositor Standalone Edition. It matches the Vue/ComfyUI 
   Edition exactly.
   
   Usage: Import this file at the root of your application.
   All components use CSS custom properties for styling.
   ============================================================ */

:root {
  /* ============================================================
     SURFACE COLORS (Dark Grey Base)
     ============================================================ */
  --lattice-void: #0a0a0a; /* App background (very dark grey) */
  --lattice-surface-0: #0e0e0e; /* Canvas background */
  --lattice-surface-1: #141414; /* Panel backgrounds */
  --lattice-surface-2: #1a1a1a; /* Headers, elevated surfaces */
  --lattice-surface-3: #222222; /* Hover states */
  --lattice-surface-4: #2a2a2a; /* Active/pressed states */

  /* ============================================================
     ACCENT COLORS (Themeable - Default: Violet)
     ============================================================ */
  --lattice-accent: #8b5cf6;
  --lattice-accent-hover: #9d7afa;
  --lattice-accent-secondary: #a78bfa;
  --lattice-accent-gradient: linear-gradient(135deg, #8b5cf6, #a78bfa);
  --lattice-accent-glow: rgba(139, 92, 246, 0.3);
  --lattice-accent-muted: rgba(139, 92, 246, 0.15);

  /* ============================================================
     TEXT COLORS
     ============================================================ */
  --lattice-text-primary: #e5e5e5; /* Main text (NOT pure white) */
  --lattice-text-secondary: #9ca3af; /* Labels, hints */
  --lattice-text-muted: #6b7280; /* Placeholders, disabled */
  --lattice-text-inverse: #050505; /* Text on light backgrounds */

  /* ============================================================
     SEMANTIC COLORS
     ============================================================ */
  --lattice-success: #10b981; /* Emerald */
  --lattice-warning: #f59e0b; /* Amber */
  --lattice-error: #f43f5e; /* Rose */
  --lattice-info: #3b82f6; /* Blue */

  /* Semantic backgrounds (15% opacity) */
  --lattice-success-bg: rgba(16, 185, 129, 0.15);
  --lattice-warning-bg: rgba(245, 158, 11, 0.15);
  --lattice-error-bg: rgba(244, 63, 94, 0.15);
  --lattice-info-bg: rgba(59, 130, 246, 0.15);

  /* ============================================================
     TIMELINE / LAYER TYPE COLORS
     ============================================================ */
  --lattice-timeline-video: #ffd700; /* Gold */
  --lattice-timeline-audio: #9b59b6; /* Purple */
  --lattice-timeline-text: #8b5cf6; /* Purple */
  --lattice-timeline-effect: #ff6b9d; /* Pink */
  --lattice-timeline-shape: #2ecc71; /* Green */
  --lattice-timeline-camera: #06b6d4; /* Cyan */
  --lattice-timeline-null: #6b7280; /* Gray */
  --lattice-timeline-particle: #f59e0b; /* Amber */

  /* ============================================================
     BORDER COLORS
     ============================================================ */
  --lattice-border-subtle: #1a1a1a; /* Nearly invisible */
  --lattice-border-default: #2a2a2a; /* Subtle separation */
  --lattice-border-hover: #3a3a3a; /* Visible on hover */
  --lattice-border-accent: var(--lattice-accent);

  /* ============================================================
     TYPOGRAPHY
     ============================================================ */
  --lattice-font-sans:
    "Inter", "Plus Jakarta Sans", -apple-system, BlinkMacSystemFont, "Segoe UI",
    sans-serif;
  --lattice-font-mono: "JetBrains Mono", "SF Mono", Monaco, Consolas, monospace;

  /* Font Sizes (compact for dense UI) */
  --lattice-text-xs: 11px;
  --lattice-text-sm: 12px;
  --lattice-text-base: 13px;
  --lattice-text-md: 14px;
  --lattice-text-lg: 15px;
  --lattice-text-xl: 17px;
  --lattice-text-2xl: 20px;
  --lattice-text-3xl: 26px;

  /* Font Weights */
  --lattice-font-normal: 400;
  --lattice-font-medium: 500;
  --lattice-font-semibold: 600;
  --lattice-font-bold: 700;

  /* ============================================================
     SPACING SYSTEM
     ============================================================ */
  --lattice-space-0: 0;
  --lattice-space-1: 4px;
  --lattice-space-2: 8px;
  --lattice-space-3: 12px;
  --lattice-space-4: 16px;
  --lattice-space-5: 20px;
  --lattice-space-6: 24px;
  --lattice-space-8: 32px;
  --lattice-space-10: 40px;
  --lattice-space-12: 48px;

  --lattice-gutter: 20px; /* Panel gaps */

  /* ============================================================
     BORDER RADIUS
     ============================================================ */
  --lattice-radius-none: 0;
  --lattice-radius-sm: 2px;
  --lattice-radius-md: 4px;
  --lattice-radius-lg: 6px;
  --lattice-radius-xl: 8px; /* Panels */
  --lattice-radius-2xl: 12px; /* Large cards */
  --lattice-radius-full: 999px; /* Pills only */

  /* ============================================================
     SHADOWS
     ============================================================ */
  --lattice-shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.2);
  --lattice-shadow-md: 0 4px 8px rgba(0, 0, 0, 0.25);
  --lattice-shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.3);
  --lattice-shadow-xl: 0 12px 24px rgba(0, 0, 0, 0.35);
  --lattice-shadow-panel: 0 8px 32px rgba(0, 0, 0, 0.4);
  --lattice-shadow-dropdown: 0 4px 16px rgba(0, 0, 0, 0.3);
  --lattice-shadow-glow: 0 0 20px var(--lattice-accent-glow);

  /* ============================================================
     TRANSITIONS
     ============================================================ */
  --lattice-transition-fast: 100ms ease;
  --lattice-transition-normal: 200ms ease;
  --lattice-transition-slow: 300ms ease;
  --lattice-transition-spring: 400ms cubic-bezier(0.34, 1.56, 0.64, 1);

  /* ============================================================
     Z-INDEX LAYERS
     ============================================================ */
  --lattice-z-base: 0;
  --lattice-z-dropdown: 100;
  --lattice-z-sticky: 200;
  --lattice-z-overlay: 300;
  --lattice-z-modal: 400;
  --lattice-z-popover: 500;
  --lattice-z-tooltip: 600;
  --lattice-z-notification: 700;

  /* ============================================================
     COMPONENT SIZES
     ============================================================ */
  /* Buttons */
  --lattice-btn-height-sm: 24px;
  --lattice-btn-height-md: 32px;
  --lattice-btn-height-lg: 40px;

  /* Inputs */
  --lattice-input-height-sm: 24px;
  --lattice-input-height-md: 32px;
  --lattice-input-height-lg: 40px;

  /* Icons */
  --lattice-icon-sm: 14px;
  --lattice-icon-md: 18px;
  --lattice-icon-lg: 24px;

  /* Timeline */
  --lattice-track-height: 32px;
  --lattice-keyframe-size: 12px;
  --lattice-playhead-width: 2px;

  /* Panels */
  --lattice-panel-min-width: 200px;
  --lattice-panel-max-width: 400px;
  --lattice-sidebar-width: 280px;
}

/* ============================================================
   THEME VARIANTS
   ============================================================
   Apply data-theme attribute to :root or body to switch themes
   ============================================================ */

/* Ocean Theme */
[data-theme="ocean"] {
  --lattice-accent: #06b6d4;
  --lattice-accent-hover: #22d3ee;
  --lattice-accent-secondary: #3b82f6;
  --lattice-accent-gradient: linear-gradient(135deg, #06b6d4, #3b82f6);
  --lattice-accent-glow: rgba(6, 182, 212, 0.3);
  --lattice-accent-muted: rgba(6, 182, 212, 0.15);
}

/* Rose/Sunset Theme */
[data-theme="rose"] {
  --lattice-accent: #fb7185;
  --lattice-accent-hover: #fda4af;
  --lattice-accent-secondary: #f43f5e;
  --lattice-accent-gradient: linear-gradient(135deg, #fb7185, #f43f5e);
  --lattice-accent-glow: rgba(251, 113, 133, 0.3);
  --lattice-accent-muted: rgba(251, 113, 133, 0.15);
}

/* Forest Theme */
[data-theme="forest"] {
  --lattice-accent: #10b981;
  --lattice-accent-hover: #34d399;
  --lattice-accent-secondary: #06b6d4;
  --lattice-accent-gradient: linear-gradient(135deg, #10b981, #06b6d4);
  --lattice-accent-glow: rgba(16, 185, 129, 0.3);
  --lattice-accent-muted: rgba(16, 185, 129, 0.15);
}

/* Ember Theme */
[data-theme="ember"] {
  --lattice-accent: #ef4444;
  --lattice-accent-hover: #f87171;
  --lattice-accent-secondary: #f97316;
  --lattice-accent-gradient: linear-gradient(135deg, #ef4444, #f97316);
  --lattice-accent-glow: rgba(239, 68, 68, 0.3);
  --lattice-accent-muted: rgba(239, 68, 68, 0.15);
}

/* Mono Theme */
[data-theme="mono"] {
  --lattice-accent: #6b7280;
  --lattice-accent-hover: #9ca3af;
  --lattice-accent-secondary: #9ca3af;
  --lattice-accent-gradient: linear-gradient(135deg, #4b5563, #6b7280);
  --lattice-accent-glow: rgba(107, 114, 128, 0.3);
  --lattice-accent-muted: rgba(107, 114, 128, 0.15);
}

/* ============================================================
   BASE STYLES
   ============================================================ */

*,
*::before,
*::after {
  box-sizing: border-box;
}

html {
  font-family: var(--lattice-font-sans);
  font-size: var(--lattice-text-base);
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  margin: 0;
  padding: 0;
  background: var(--lattice-void);
  color: var(--lattice-text-primary);
}

/* ============================================================
   COMPONENT BASE STYLES
   ============================================================ */

/* Floating Panel Pattern */
.lattice-panel {
  background: var(--lattice-surface-1);
  border-radius: var(--lattice-radius-xl);
  border: 1px solid var(--lattice-border-subtle);
  overflow: hidden;
}

/* Button Base */
.lattice-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--lattice-space-2);
  padding: 0 var(--lattice-space-3);
  height: var(--lattice-btn-height-md);
  font-size: var(--lattice-text-sm);
  font-weight: var(--lattice-font-medium);
  border-radius: var(--lattice-radius-md);
  border: none;
  cursor: pointer;
  transition: all var(--lattice-transition-fast);
}

.lattice-btn-primary {
  background: var(--lattice-accent);
  color: white;
}

.lattice-btn-primary:hover {
  background: var(--lattice-accent-hover);
}

.lattice-btn-ghost {
  background: transparent;
  color: var(--lattice-text-secondary);
}

.lattice-btn-ghost:hover {
  background: var(--lattice-surface-3);
  color: var(--lattice-text-primary);
}

/* Input Base */
.lattice-input {
  height: var(--lattice-input-height-md);
  padding: 0 var(--lattice-space-3);
  background: var(--lattice-surface-0);
  border: 1px solid var(--lattice-border-default);
  border-radius: var(--lattice-radius-md);
  color: var(--lattice-text-primary);
  font-size: var(--lattice-text-sm);
  font-family: var(--lattice-font-sans);
  transition: border-color var(--lattice-transition-fast);
}

.lattice-input:focus {
  outline: none;
  border-color: var(--lattice-accent);
}

.lattice-input::placeholder {
  color: var(--lattice-text-muted);
}

/* Tab Button Pattern */
.lattice-tabs-trigger {
  padding: var(--lattice-space-1) var(--lattice-space-3);
  background: transparent;
  border: none;
  border-bottom: 2px solid transparent;
  color: var(--lattice-text-secondary);
  font-size: var(--lattice-text-xs);
  font-weight: var(--lattice-font-medium);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  cursor: pointer;
  transition: all var(--lattice-transition-fast);
}

.lattice-tabs-trigger:hover {
  color: var(--lattice-text-primary);
}

.lattice-tabs-trigger[data-state="active"] {
  color: var(--lattice-accent);
  border-bottom-color: var(--lattice-accent);
}

/* Tool Button Pattern */
.lattice-tool-btn {
  min-width: 34px;
  height: 34px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--lattice-radius-lg);
  background: transparent;
  color: var(--lattice-text-secondary);
  border: none;
  cursor: pointer;
  transition: all var(--lattice-transition-fast);
}

.lattice-tool-btn:hover {
  background: var(--lattice-surface-3);
  color: var(--lattice-text-primary);
}

.lattice-tool-btn[data-state="active"] {
  background: var(--lattice-accent);
  color: white;
}

/* Menu/Dropdown Pattern */
.lattice-menu {
  min-width: 220px;
  background: var(--lattice-surface-1);
  border: 1px solid var(--lattice-surface-3);
  border-radius: var(--lattice-radius-lg);
  padding: var(--lattice-space-1) 0;
  box-shadow: var(--lattice-shadow-dropdown);
}

.lattice-menu-item {
  padding: var(--lattice-space-2) var(--lattice-space-3);
  display: flex;
  justify-content: space-between;
  align-items: center;
  color: var(--lattice-text-primary);
  font-size: var(--lattice-text-sm);
  cursor: pointer;
  transition: background var(--lattice-transition-fast);
}

.lattice-menu-item:hover {
  background: var(--lattice-accent-muted);
}

.lattice-menu-shortcut {
  color: var(--lattice-text-muted);
  font-size: var(--lattice-text-xs);
}

/* Collapsible Panel Pattern */
.lattice-collapsible-header {
  display: flex;
  align-items: center;
  gap: var(--lattice-space-2);
  padding: var(--lattice-space-2) var(--lattice-space-3);
  background: var(--lattice-surface-0);
  border-left: 3px solid transparent;
  cursor: pointer;
  transition: all var(--lattice-transition-fast);
}

.lattice-collapsible-header[data-state="open"] {
  border-left-color: var(--lattice-accent);
}

.lattice-collapsible-title {
  font-size: var(--lattice-text-base);
  font-weight: var(--lattice-font-semibold);
  color: var(--lattice-text-primary);
}

.lattice-collapsible-content {
  max-height: 400px;
  overflow-y: auto;
}

/* Dialog Styles */
.lattice-dialog-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.7);
  z-index: var(--lattice-z-overlay);
}

.lattice-dialog-content {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: var(--lattice-surface-1);
  border-radius: var(--lattice-radius-xl);
  border: 1px solid var(--lattice-border-default);
  padding: var(--lattice-space-6);
  max-width: 500px;
  width: 90%;
  z-index: var(--lattice-z-modal);
  box-shadow: var(--lattice-shadow-panel);
}

.lattice-dialog-title {
  margin: 0 0 var(--lattice-space-2);
  font-size: var(--lattice-text-xl);
  font-weight: var(--lattice-font-semibold);
  color: var(--lattice-text-primary);
}

.lattice-dialog-description {
  margin: 0 0 var(--lattice-space-4);
  color: var(--lattice-text-secondary);
  font-size: var(--lattice-text-sm);
}

/* Timeline Playhead */
.lattice-playhead {
  position: absolute;
  width: var(--lattice-playhead-width);
  background: var(--lattice-accent);
  box-shadow: var(--lattice-shadow-glow);
  z-index: 10;
}

.lattice-playhead::before {
  content: "";
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  border-left: 8px solid transparent;
  border-right: 8px solid transparent;
  border-top: 8px solid var(--lattice-accent);
}

/* Keyframe Diamond */
.lattice-keyframe {
  width: 8px;
  height: 8px;
  background: #ffc107;
  transform: rotate(45deg);
  cursor: pointer;
  transition: all var(--lattice-transition-fast);
}

.lattice-keyframe:hover {
  transform: rotate(45deg) scale(1.2);
}

.lattice-keyframe[data-selected="true"] {
  background: white;
  box-shadow: 0 0 0 2px var(--lattice-accent);
}

/* Slider */
.lattice-slider-track {
  height: 4px;
  background: #3a3a3a;
  border-radius: var(--lattice-radius-full);
  position: relative;
}

.lattice-slider-fill {
  height: 100%;
  background: var(--lattice-accent);
  border-radius: var(--lattice-radius-full);
}

.lattice-slider-thumb {
  width: 12px;
  height: 12px;
  background: white;
  border: 2px solid var(--lattice-accent);
  border-radius: 50%;
  position: absolute;
  top: 50%;
  transform: translate(-50%, -50%);
  cursor: grab;
}

.lattice-slider-thumb:active {
  cursor: grabbing;
}

/* Scrollbar Styling */
.lattice-scrollbar::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.lattice-scrollbar::-webkit-scrollbar-track {
  background: var(--lattice-surface-0);
}

.lattice-scrollbar::-webkit-scrollbar-thumb {
  background: var(--lattice-surface-3);
  border-radius: var(--lattice-radius-full);
}

.lattice-scrollbar::-webkit-scrollbar-thumb:hover {
  background: var(--lattice-surface-4);
}
