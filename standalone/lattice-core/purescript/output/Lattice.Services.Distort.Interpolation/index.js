// Generated by purs version 0.15.15
import * as Data_Int from "../Data.Int/index.js";
import * as Data_Ord from "../Data.Ord/index.js";
import * as Data_Tuple from "../Data.Tuple/index.js";
var max = /* #__PURE__ */ Data_Ord.max(Data_Ord.ordNumber);
var min = /* #__PURE__ */ Data_Ord.min(Data_Ord.ordNumber);
var min1 = /* #__PURE__ */ Data_Ord.min(Data_Ord.ordInt);
var max1 = /* #__PURE__ */ Data_Ord.max(Data_Ord.ordInt);
var toNumber = Data_Int.toNumber;
var rgbaOffset = function (pixelIdx) {
    return pixelIdx * 4 | 0;
};
var pixelIndex = function (x) {
    return function (y) {
        return function (width) {
            return (y * width | 0) + x | 0;
        };
    };
};
var interpolateValue = function (v00) {
    return function (v10) {
        return function (v01) {
            return function (v11) {
                return function (weights) {
                    return v00 * weights.w00 + v10 * weights.w10 + v01 * weights.w01 + v11 * weights.w11;
                };
            };
        };
    };
};
var interpolateRound = function (v00) {
    return function (v10) {
        return function (v01) {
            return function (v11) {
                return function (weights) {
                    return Data_Int.round(interpolateValue(v00)(v10)(v01)(v11)(weights));
                };
            };
        };
    };
};
var cornerIndices = function (coords) {
    return function (width) {
        var idx11 = pixelIndex(coords.x1)(coords.y1)(width);
        var idx10 = pixelIndex(coords.x1)(coords.y0)(width);
        var idx01 = pixelIndex(coords.x0)(coords.y1)(width);
        var idx00 = pixelIndex(coords.x0)(coords.y0)(width);
        return {
            idx00: idx00,
            idx10: idx10,
            idx01: idx01,
            idx11: idx11
        };
    };
};
var clampCoord = function (coord) {
    return function (maxVal) {
        return max(0.0)(min(toNumber(maxVal))(coord));
    };
};
var clampToBounds = function (srcX) {
    return function (srcY) {
        return function (width) {
            return function (height) {
                var maxY = (function () {
                    var $11 = height > 0;
                    if ($11) {
                        return height - 1 | 0;
                    };
                    return 0;
                })();
                var maxX = (function () {
                    var $12 = width > 0;
                    if ($12) {
                        return width - 1 | 0;
                    };
                    return 0;
                })();
                return new Data_Tuple.Tuple(clampCoord(srcX)(maxX), clampCoord(srcY)(maxY));
            };
        };
    };
};
var bilinearWeights = function (fx) {
    return function (fy) {
        var invFy = 1.0 - fy;
        var invFx = 1.0 - fx;
        return {
            w00: invFx * invFy,
            w10: fx * invFy,
            w01: invFx * fy,
            w11: fx * fy
        };
    };
};
var weightsFromCoords = function (coords) {
    return bilinearWeights(coords.fx)(coords.fy);
};
var bilinearCoords = function (srcX) {
    return function (srcY) {
        return function (width) {
            return function (height) {
                var y0f = toNumber(Data_Int.floor(srcY));
                var x0f = toNumber(Data_Int.floor(srcX));
                var maxY = (function () {
                    var $13 = height > 0;
                    if ($13) {
                        return height - 1 | 0;
                    };
                    return 0;
                })();
                var y0 = min1(maxY)(max1(0)(Data_Int.floor(srcY)));
                var y1 = min1(maxY)(y0 + 1 | 0);
                var maxX = (function () {
                    var $14 = width > 0;
                    if ($14) {
                        return width - 1 | 0;
                    };
                    return 0;
                })();
                var x0 = min1(maxX)(max1(0)(Data_Int.floor(srcX)));
                var x1 = min1(maxX)(x0 + 1 | 0);
                var fy = srcY - y0f;
                var fx = srcX - x0f;
                return {
                    x0: x0,
                    y0: y0,
                    x1: x1,
                    y1: y1,
                    fx: fx,
                    fy: fy
                };
            };
        };
    };
};
export {
    clampCoord,
    clampToBounds,
    bilinearCoords,
    bilinearWeights,
    weightsFromCoords,
    pixelIndex,
    rgbaOffset,
    cornerIndices,
    interpolateValue,
    interpolateRound
};
//# sourceMappingURL=index.js.map
