{"builtWith":"0.15.15","comments":[{"BlockComment":"\n  Lattice.Services.Distort.Interpolation - Bilinear Interpolation Mathematics\n\n  Pure mathematical functions for pixel interpolation:\n  - Bilinear interpolation weights\n  - Coordinate clamping\n  - Index calculation\n\n  This is used by all distortion effects for smooth pixel sampling.\n\n  Source: ui/src/services/effects/distortRenderer.ts (lines 376-401, 792-816)\n"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[157,33],"start":[157,32]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[157,35],"start":[157,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringInt","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[150,35],"start":[150,34]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[150,37],"start":[150,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringInt","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[186,62],"start":[186,61]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[186,80],"start":[186,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[186,8],"start":[186,7]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[186,80],"start":[186,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[67,6],"start":[67,3]}},"type":"Var","value":{"identifier":"max","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[67,10],"start":[67,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"max"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[67,15],"start":[67,12]}},"type":"Var","value":{"identifier":"min","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[67,33],"start":[67,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"min"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[79,25],"start":[79,24]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[79,27],"start":[79,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[79,41],"start":[79,40]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[79,43],"start":[79,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringInt","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[125,20],"start":[125,19]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[125,23],"start":[125,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[102,15],"start":[102,12]}},"type":"Var","value":{"identifier":"min","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[102,20],"start":[102,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"min1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[102,25],"start":[102,22]}},"type":"Var","value":{"identifier":"max","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[102,27],"start":[102,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"max1"},{"annotation":{"meta":null,"sourceSpan":{"end":[201,26],"start":[201,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[202,24],"start":[202,12]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"identifier":"toNumber"},{"annotation":{"meta":null,"sourceSpan":{"end":[156,25],"start":[156,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[156,25],"start":[156,1]}},"argument":"pixelIdx","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[157,35],"start":[157,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[157,31],"start":[157,23]}},"type":"Var","value":{"identifier":"pixelIdx","sourcePos":[157,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[157,35],"start":[157,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[157,35],"start":[157,34]}},"type":"Literal","value":{"literalType":"IntLiteral","value":4}},"type":"App"},"type":"Abs"},"identifier":"rgbaOffset"},{"annotation":{"meta":null,"sourceSpan":{"end":[149,39],"start":[149,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[149,39],"start":[149,1]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[149,39],"start":[149,1]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[149,39],"start":[149,1]}},"argument":"width","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[150,37],"start":[150,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[150,37],"start":[150,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,25],"start":[150,24]}},"type":"Var","value":{"identifier":"y","sourcePos":[150,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[150,37],"start":[150,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,33],"start":[150,28]}},"type":"Var","value":{"identifier":"width","sourcePos":[150,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[150,37],"start":[150,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,37],"start":[150,36]}},"type":"Var","value":{"identifier":"x","sourcePos":[150,1]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"pixelIndex"},{"annotation":{"meta":null,"sourceSpan":{"end":[184,86],"start":[184,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[184,86],"start":[184,1]}},"argument":"v00","body":{"annotation":{"meta":null,"sourceSpan":{"end":[184,86],"start":[184,1]}},"argument":"v10","body":{"annotation":{"meta":null,"sourceSpan":{"end":[184,86],"start":[184,1]}},"argument":"v01","body":{"annotation":{"meta":null,"sourceSpan":{"end":[184,86],"start":[184,1]}},"argument":"v11","body":{"annotation":{"meta":null,"sourceSpan":{"end":[184,86],"start":[184,1]}},"argument":"weights","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[186,80],"start":[186,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[186,80],"start":[186,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[186,80],"start":[186,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul1","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[186,80],"start":[186,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[186,6],"start":[186,3]}},"type":"Var","value":{"identifier":"v00","sourcePos":[185,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[186,80],"start":[186,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[186,20],"start":[186,9]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[186,16],"start":[186,9]}},"type":"Var","value":{"identifier":"weights","sourcePos":[185,1]}},"fieldName":"w00","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[186,80],"start":[186,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul1","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[186,80],"start":[186,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[186,26],"start":[186,23]}},"type":"Var","value":{"identifier":"v10","sourcePos":[185,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[186,80],"start":[186,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[186,40],"start":[186,29]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[186,36],"start":[186,29]}},"type":"Var","value":{"identifier":"weights","sourcePos":[185,1]}},"fieldName":"w10","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[186,80],"start":[186,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul1","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[186,80],"start":[186,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[186,46],"start":[186,43]}},"type":"Var","value":{"identifier":"v01","sourcePos":[185,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[186,80],"start":[186,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[186,60],"start":[186,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[186,56],"start":[186,49]}},"type":"Var","value":{"identifier":"weights","sourcePos":[185,1]}},"fieldName":"w01","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[186,80],"start":[186,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul1","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[186,80],"start":[186,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[186,66],"start":[186,63]}},"type":"Var","value":{"identifier":"v11","sourcePos":[185,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[186,80],"start":[186,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[186,80],"start":[186,69]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[186,76],"start":[186,69]}},"type":"Var","value":{"identifier":"weights","sourcePos":[185,1]}},"fieldName":"w11","type":"Accessor"},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"interpolateValue"},{"annotation":{"meta":null,"sourceSpan":{"end":[193,83],"start":[193,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[193,83],"start":[193,1]}},"argument":"v00","body":{"annotation":{"meta":null,"sourceSpan":{"end":[193,83],"start":[193,1]}},"argument":"v10","body":{"annotation":{"meta":null,"sourceSpan":{"end":[193,83],"start":[193,1]}},"argument":"v01","body":{"annotation":{"meta":null,"sourceSpan":{"end":[193,83],"start":[193,1]}},"argument":"v11","body":{"annotation":{"meta":null,"sourceSpan":{"end":[193,83],"start":[193,1]}},"argument":"weights","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[195,12],"start":[195,3]}},"type":"Var","value":{"identifier":"round","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[195,55],"start":[195,3]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[195,30],"start":[195,14]}},"type":"Var","value":{"identifier":"interpolateValue","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[195,34],"start":[195,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[195,34],"start":[195,31]}},"type":"Var","value":{"identifier":"v00","sourcePos":[194,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[195,38],"start":[195,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[195,38],"start":[195,35]}},"type":"Var","value":{"identifier":"v10","sourcePos":[194,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[195,42],"start":[195,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[195,42],"start":[195,39]}},"type":"Var","value":{"identifier":"v01","sourcePos":[194,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[195,46],"start":[195,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[195,46],"start":[195,43]}},"type":"Var","value":{"identifier":"v11","sourcePos":[194,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[195,54],"start":[195,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[195,54],"start":[195,47]}},"type":"Var","value":{"identifier":"weights","sourcePos":[194,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"interpolateRound"},{"annotation":{"meta":null,"sourceSpan":{"end":[164,101],"start":[164,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[164,101],"start":[164,1]}},"argument":"coords","body":{"annotation":{"meta":null,"sourceSpan":{"end":[164,101],"start":[164,1]}},"argument":"width","body":{"annotation":{"meta":null,"sourceSpan":{"end":[170,36],"start":[166,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[169,51],"start":[169,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[169,25],"start":[169,15]}},"type":"Var","value":{"identifier":"pixelIndex","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[169,35],"start":[169,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,35],"start":[169,26]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[169,32],"start":[169,26]}},"type":"Var","value":{"identifier":"coords","sourcePos":[165,1]}},"fieldName":"x1","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[169,45],"start":[169,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,45],"start":[169,36]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[169,42],"start":[169,36]}},"type":"Var","value":{"identifier":"coords","sourcePos":[165,1]}},"fieldName":"y1","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[169,51],"start":[169,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,51],"start":[169,46]}},"type":"Var","value":{"identifier":"width","sourcePos":[165,1]}},"type":"App"},"identifier":"idx11"},{"annotation":{"meta":null,"sourceSpan":{"end":[167,51],"start":[167,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[167,25],"start":[167,15]}},"type":"Var","value":{"identifier":"pixelIndex","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[167,35],"start":[167,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[167,35],"start":[167,26]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[167,32],"start":[167,26]}},"type":"Var","value":{"identifier":"coords","sourcePos":[165,1]}},"fieldName":"x1","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[167,45],"start":[167,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[167,45],"start":[167,36]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[167,42],"start":[167,36]}},"type":"Var","value":{"identifier":"coords","sourcePos":[165,1]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[167,51],"start":[167,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[167,51],"start":[167,46]}},"type":"Var","value":{"identifier":"width","sourcePos":[165,1]}},"type":"App"},"identifier":"idx10"},{"annotation":{"meta":null,"sourceSpan":{"end":[168,51],"start":[168,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[168,25],"start":[168,15]}},"type":"Var","value":{"identifier":"pixelIndex","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[168,35],"start":[168,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[168,35],"start":[168,26]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[168,32],"start":[168,26]}},"type":"Var","value":{"identifier":"coords","sourcePos":[165,1]}},"fieldName":"x0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[168,45],"start":[168,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[168,45],"start":[168,36]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[168,42],"start":[168,36]}},"type":"Var","value":{"identifier":"coords","sourcePos":[165,1]}},"fieldName":"y1","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[168,51],"start":[168,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[168,51],"start":[168,46]}},"type":"Var","value":{"identifier":"width","sourcePos":[165,1]}},"type":"App"},"identifier":"idx01"},{"annotation":{"meta":null,"sourceSpan":{"end":[166,51],"start":[166,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[166,25],"start":[166,15]}},"type":"Var","value":{"identifier":"pixelIndex","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[166,35],"start":[166,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,35],"start":[166,26]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[166,32],"start":[166,26]}},"type":"Var","value":{"identifier":"coords","sourcePos":[165,1]}},"fieldName":"x0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[166,45],"start":[166,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,45],"start":[166,36]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[166,42],"start":[166,36]}},"type":"Var","value":{"identifier":"coords","sourcePos":[165,1]}},"fieldName":"y0","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[166,51],"start":[166,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,51],"start":[166,46]}},"type":"Var","value":{"identifier":"width","sourcePos":[165,1]}},"type":"App"},"identifier":"idx00"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[170,36],"start":[170,6]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["idx00",{"annotation":{"meta":null,"sourceSpan":{"end":[170,13],"start":[170,8]}},"type":"Var","value":{"identifier":"idx00","sourcePos":[166,7]}}],["idx10",{"annotation":{"meta":null,"sourceSpan":{"end":[170,20],"start":[170,15]}},"type":"Var","value":{"identifier":"idx10","sourcePos":[167,7]}}],["idx01",{"annotation":{"meta":null,"sourceSpan":{"end":[170,27],"start":[170,22]}},"type":"Var","value":{"identifier":"idx01","sourcePos":[168,7]}}],["idx11",{"annotation":{"meta":null,"sourceSpan":{"end":[170,34],"start":[170,29]}},"type":"Var","value":{"identifier":"idx11","sourcePos":[169,7]}}]]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"cornerIndices"},{"annotation":{"meta":null,"sourceSpan":{"end":[65,38],"start":[65,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[65,38],"start":[65,1]}},"argument":"coord","body":{"annotation":{"meta":null,"sourceSpan":{"end":[65,38],"start":[65,1]}},"argument":"maxVal","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[67,10],"start":[67,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[67,10],"start":[67,7]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[67,40],"start":[67,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[67,33],"start":[67,12]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[67,25],"start":[67,17]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[67,32],"start":[67,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[67,32],"start":[67,26]}},"type":"Var","value":{"identifier":"maxVal","sourcePos":[66,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[67,39],"start":[67,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[67,39],"start":[67,34]}},"type":"Var","value":{"identifier":"coord","sourcePos":[66,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"clampCoord"},{"annotation":{"meta":null,"sourceSpan":{"end":[76,71],"start":[76,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[76,71],"start":[76,1]}},"argument":"srcX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[76,71],"start":[76,1]}},"argument":"srcY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[76,71],"start":[76,1]}},"argument":"width","body":{"annotation":{"meta":null,"sourceSpan":{"end":[76,71],"start":[76,1]}},"argument":"height","body":{"annotation":{"meta":null,"sourceSpan":{"end":[80,57],"start":[78,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[79,50],"start":[79,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[79,50],"start":[79,14]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[79,50],"start":[79,14]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[79,43],"start":[79,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[79,39],"start":[79,33]}},"type":"Var","value":{"identifier":"height","sourcePos":[77,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[79,43],"start":[79,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[79,43],"start":[79,42]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[79,50],"start":[79,14]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[79,50],"start":[79,49]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[79,27],"start":[79,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[79,23],"start":[79,17]}},"type":"Var","value":{"identifier":"height","sourcePos":[77,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[79,27],"start":[79,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[79,27],"start":[79,26]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}],"type":"Case"},"identifier":"maxY"},{"annotation":{"meta":null,"sourceSpan":{"end":[78,48],"start":[78,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[78,48],"start":[78,14]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[78,48],"start":[78,14]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[78,41],"start":[78,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[78,37],"start":[78,32]}},"type":"Var","value":{"identifier":"width","sourcePos":[77,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[78,41],"start":[78,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[78,41],"start":[78,40]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[78,48],"start":[78,14]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[78,48],"start":[78,47]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[78,26],"start":[78,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[78,22],"start":[78,17]}},"type":"Var","value":{"identifier":"width","sourcePos":[77,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[78,26],"start":[78,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[78,26],"start":[78,25]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}],"type":"Case"},"identifier":"maxX"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[80,11],"start":[80,6]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[80,34],"start":[80,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[80,23],"start":[80,13]}},"type":"Var","value":{"identifier":"clampCoord","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[80,28],"start":[80,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[80,28],"start":[80,24]}},"type":"Var","value":{"identifier":"srcX","sourcePos":[77,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[80,33],"start":[80,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[80,33],"start":[80,29]}},"type":"Var","value":{"identifier":"maxX","sourcePos":[78,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[80,57],"start":[80,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[80,46],"start":[80,36]}},"type":"Var","value":{"identifier":"clampCoord","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[80,51],"start":[80,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[80,51],"start":[80,47]}},"type":"Var","value":{"identifier":"srcY","sourcePos":[77,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[80,56],"start":[80,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[80,56],"start":[80,52]}},"type":"Var","value":{"identifier":"maxY","sourcePos":[79,7]}},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"clampToBounds"},{"annotation":{"meta":null,"sourceSpan":{"end":[122,55],"start":[122,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[122,55],"start":[122,1]}},"argument":"fx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[122,55],"start":[122,1]}},"argument":"fy","body":{"annotation":{"meta":null,"sourceSpan":{"end":[130,7],"start":[124,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[125,23],"start":[125,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[125,23],"start":[125,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,18],"start":[125,15]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[125,23],"start":[125,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,23],"start":[125,21]}},"type":"Var","value":{"identifier":"fy","sourcePos":[123,1]}},"type":"App"},"identifier":"invFy"},{"annotation":{"meta":null,"sourceSpan":{"end":[124,23],"start":[124,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,23],"start":[124,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,18],"start":[124,15]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[124,23],"start":[124,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,23],"start":[124,21]}},"type":"Var","value":{"identifier":"fx","sourcePos":[123,1]}},"type":"App"},"identifier":"invFx"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[130,7],"start":[126,6]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["w00",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul1","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[126,26],"start":[126,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,18],"start":[126,13]}},"type":"Var","value":{"identifier":"invFx","sourcePos":[124,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[126,26],"start":[126,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,26],"start":[126,21]}},"type":"Var","value":{"identifier":"invFy","sourcePos":[125,7]}},"type":"App"}],["w10",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul1","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[127,23],"start":[127,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,15],"start":[127,13]}},"type":"Var","value":{"identifier":"fx","sourcePos":[123,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[127,23],"start":[127,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,23],"start":[127,18]}},"type":"Var","value":{"identifier":"invFy","sourcePos":[125,7]}},"type":"App"}],["w01",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul1","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[128,23],"start":[128,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[128,18],"start":[128,13]}},"type":"Var","value":{"identifier":"invFx","sourcePos":[124,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[128,23],"start":[128,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[128,23],"start":[128,21]}},"type":"Var","value":{"identifier":"fy","sourcePos":[123,1]}},"type":"App"}],["w11",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul1","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[129,20],"start":[129,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,15],"start":[129,13]}},"type":"Var","value":{"identifier":"fx","sourcePos":[123,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[129,20],"start":[129,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,20],"start":[129,18]}},"type":"Var","value":{"identifier":"fy","sourcePos":[123,1]}},"type":"App"}]]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"bilinearWeights"},{"annotation":{"meta":null,"sourceSpan":{"end":[136,55],"start":[136,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[136,55],"start":[136,1]}},"argument":"coords","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[137,43],"start":[137,28]}},"type":"Var","value":{"identifier":"bilinearWeights","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[137,53],"start":[137,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[137,53],"start":[137,44]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[137,50],"start":[137,44]}},"type":"Var","value":{"identifier":"coords","sourcePos":[137,1]}},"fieldName":"fx","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[137,63],"start":[137,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[137,63],"start":[137,54]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[137,60],"start":[137,54]}},"type":"Var","value":{"identifier":"coords","sourcePos":[137,1]}},"fieldName":"fy","type":"Accessor"},"type":"App"},"type":"Abs"},"identifier":"weightsFromCoords"},{"annotation":{"meta":null,"sourceSpan":{"end":[93,67],"start":[93,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[93,67],"start":[93,1]}},"argument":"srcX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[93,67],"start":[93,1]}},"argument":"srcY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[93,67],"start":[93,1]}},"argument":"width","body":{"annotation":{"meta":null,"sourceSpan":{"end":[93,67],"start":[93,1]}},"argument":"height","body":{"annotation":{"meta":null,"sourceSpan":{"end":[109,32],"start":[95,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[99,38],"start":[99,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[99,21],"start":[99,13]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[99,38],"start":[99,13]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[99,32],"start":[99,23]}},"type":"Var","value":{"identifier":"floor","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[99,37],"start":[99,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[99,37],"start":[99,33]}},"type":"Var","value":{"identifier":"srcY","sourcePos":[94,1]}},"type":"App"},"type":"App"},"identifier":"y0f"},{"annotation":{"meta":null,"sourceSpan":{"end":[98,38],"start":[98,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[98,21],"start":[98,13]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[98,38],"start":[98,13]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[98,32],"start":[98,23]}},"type":"Var","value":{"identifier":"floor","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[98,37],"start":[98,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[98,37],"start":[98,33]}},"type":"Var","value":{"identifier":"srcX","sourcePos":[94,1]}},"type":"App"},"type":"App"},"identifier":"x0f"},{"annotation":{"meta":null,"sourceSpan":{"end":[96,50],"start":[96,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[96,50],"start":[96,14]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[96,50],"start":[96,14]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[96,43],"start":[96,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[96,39],"start":[96,33]}},"type":"Var","value":{"identifier":"height","sourcePos":[94,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[96,43],"start":[96,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[96,43],"start":[96,42]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[96,50],"start":[96,14]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[96,50],"start":[96,49]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[96,27],"start":[96,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[96,23],"start":[96,17]}},"type":"Var","value":{"identifier":"height","sourcePos":[94,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[96,27],"start":[96,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[96,27],"start":[96,26]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}],"type":"Case"},"identifier":"maxY"},{"annotation":{"meta":null,"sourceSpan":{"end":[102,45],"start":[102,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min1","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,20],"start":[102,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,20],"start":[102,16]}},"type":"Var","value":{"identifier":"maxY","sourcePos":[96,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[102,45],"start":[102,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max1","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,27],"start":[102,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,27],"start":[102,26]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[102,44],"start":[102,22]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[102,38],"start":[102,29]}},"type":"Var","value":{"identifier":"floor","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,43],"start":[102,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,43],"start":[102,39]}},"type":"Var","value":{"identifier":"srcY","sourcePos":[94,1]}},"type":"App"},"type":"App"},"type":"App"},"identifier":"y0"},{"annotation":{"meta":null,"sourceSpan":{"end":[104,29],"start":[104,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min1","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[104,20],"start":[104,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,20],"start":[104,16]}},"type":"Var","value":{"identifier":"maxY","sourcePos":[96,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[104,29],"start":[104,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[104,28],"start":[104,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,24],"start":[104,22]}},"type":"Var","value":{"identifier":"y0","sourcePos":[102,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[104,28],"start":[104,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,28],"start":[104,27]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"identifier":"y1"},{"annotation":{"meta":null,"sourceSpan":{"end":[95,48],"start":[95,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[95,48],"start":[95,14]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[95,48],"start":[95,14]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[95,41],"start":[95,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[95,37],"start":[95,32]}},"type":"Var","value":{"identifier":"width","sourcePos":[94,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[95,41],"start":[95,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[95,41],"start":[95,40]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[95,48],"start":[95,14]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[95,48],"start":[95,47]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[95,26],"start":[95,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[95,22],"start":[95,17]}},"type":"Var","value":{"identifier":"width","sourcePos":[94,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[95,26],"start":[95,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[95,26],"start":[95,25]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}],"type":"Case"},"identifier":"maxX"},{"annotation":{"meta":null,"sourceSpan":{"end":[101,45],"start":[101,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min1","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[101,20],"start":[101,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[101,20],"start":[101,16]}},"type":"Var","value":{"identifier":"maxX","sourcePos":[95,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[101,45],"start":[101,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max1","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[101,27],"start":[101,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[101,27],"start":[101,26]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[101,44],"start":[101,22]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[101,38],"start":[101,29]}},"type":"Var","value":{"identifier":"floor","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[101,43],"start":[101,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[101,43],"start":[101,39]}},"type":"Var","value":{"identifier":"srcX","sourcePos":[94,1]}},"type":"App"},"type":"App"},"type":"App"},"identifier":"x0"},{"annotation":{"meta":null,"sourceSpan":{"end":[103,29],"start":[103,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min1","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,20],"start":[103,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,20],"start":[103,16]}},"type":"Var","value":{"identifier":"maxX","sourcePos":[95,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,29],"start":[103,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,28],"start":[103,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,24],"start":[103,22]}},"type":"Var","value":{"identifier":"x0","sourcePos":[101,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,28],"start":[103,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,28],"start":[103,27]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"identifier":"x1"},{"annotation":{"meta":null,"sourceSpan":{"end":[107,22],"start":[107,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[107,22],"start":[107,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[107,16],"start":[107,12]}},"type":"Var","value":{"identifier":"srcY","sourcePos":[94,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[107,22],"start":[107,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[107,22],"start":[107,19]}},"type":"Var","value":{"identifier":"y0f","sourcePos":[99,7]}},"type":"App"},"identifier":"fy"},{"annotation":{"meta":null,"sourceSpan":{"end":[106,22],"start":[106,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Distort","Interpolation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[106,22],"start":[106,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[106,16],"start":[106,12]}},"type":"Var","value":{"identifier":"srcX","sourcePos":[94,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[106,22],"start":[106,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[106,22],"start":[106,19]}},"type":"Var","value":{"identifier":"x0f","sourcePos":[98,7]}},"type":"App"},"identifier":"fx"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[109,32],"start":[109,6]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x0",{"annotation":{"meta":null,"sourceSpan":{"end":[109,10],"start":[109,8]}},"type":"Var","value":{"identifier":"x0","sourcePos":[101,7]}}],["y0",{"annotation":{"meta":null,"sourceSpan":{"end":[109,14],"start":[109,12]}},"type":"Var","value":{"identifier":"y0","sourcePos":[102,7]}}],["x1",{"annotation":{"meta":null,"sourceSpan":{"end":[109,18],"start":[109,16]}},"type":"Var","value":{"identifier":"x1","sourcePos":[103,7]}}],["y1",{"annotation":{"meta":null,"sourceSpan":{"end":[109,22],"start":[109,20]}},"type":"Var","value":{"identifier":"y1","sourcePos":[104,7]}}],["fx",{"annotation":{"meta":null,"sourceSpan":{"end":[109,26],"start":[109,24]}},"type":"Var","value":{"identifier":"fx","sourcePos":[106,7]}}],["fy",{"annotation":{"meta":null,"sourceSpan":{"end":[109,30],"start":[109,28]}},"type":"Var","value":{"identifier":"fy","sourcePos":[107,7]}}]]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"bilinearCoords"}],"exports":["clampCoord","clampToBounds","bilinearCoords","bilinearWeights","weightsFromCoords","pixelIndex","rgbaOffset","cornerIndices","interpolateValue","interpolateRound"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[202,24],"start":[14,1]}},"moduleName":["Data","Int"]},{"annotation":{"meta":null,"sourceSpan":{"end":[202,24],"start":[14,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[202,24],"start":[14,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[202,24],"start":[14,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[202,24],"start":[14,1]}},"moduleName":["Data","Tuple"]},{"annotation":{"meta":null,"sourceSpan":{"end":[202,24],"start":[14,1]}},"moduleName":["Lattice","Services","Distort","Interpolation"]},{"annotation":{"meta":null,"sourceSpan":{"end":[29,15],"start":[29,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[202,24],"start":[14,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","Distort","Interpolation"],"modulePath":"src/Lattice/Services/Distort/Interpolation.purs","reExports":{},"sourceSpan":{"end":[202,24],"start":[14,1]}}