{"builtWith":"0.15.15","comments":[{"BlockComment":"\n  Lattice.Services.Blur.Directional - Directional/Motion Blur Mathematics\n\n  Pure mathematical functions for directional blur calculations:\n  - Direction vector from angle\n  - Sample position calculation\n  - Motion blur trajectory\n\n  Source: ui/src/services/effects/blurRenderer.ts (lines 1106-1148)\n"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[71,46],"start":[71,45]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[71,50],"start":[71,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[72,49],"start":[72,48]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[72,56],"start":[72,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[74,22],"start":[74,21]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[74,29],"start":[74,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[76,39],"start":[76,38]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[76,43],"start":[76,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[51,45],"start":[51,44]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[51,57],"start":[51,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[83,9],"start":[83,6]}},"type":"Var","value":{"identifier":"max","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[83,11],"start":[83,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"max"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[93,21],"start":[93,18]}},"type":"Var","value":{"identifier":"max","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[93,25],"start":[93,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"max1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[93,30],"start":[93,27]}},"type":"Var","value":{"identifier":"min","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[93,58],"start":[93,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"min"},{"annotation":{"meta":null,"sourceSpan":{"end":[68,48],"start":[68,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[68,48],"start":[68,1]}},"argument":"sampleIndex","body":{"annotation":{"meta":null,"sourceSpan":{"end":[68,48],"start":[68,1]}},"argument":"sampleCount","body":{"annotation":{"meta":null,"sourceSpan":{"end":[68,48],"start":[68,1]}},"argument":"tapered","body":{"annotation":{"meta":null,"sourceSpan":{"end":[68,48],"start":[68,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[69,25],"start":[69,14]}},"binderType":"VarBinder","identifier":"sampleIndex1"},{"annotation":{"meta":null,"sourceSpan":{"end":[69,37],"start":[69,26]}},"binderType":"VarBinder","identifier":"sampleCount1"},{"annotation":{"meta":null,"sourceSpan":{"end":[69,45],"start":[69,38]}},"binderType":"VarBinder","identifier":"tapered1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[76,43],"start":[71,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[71,50],"start":[71,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[71,50],"start":[71,20]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[71,32],"start":[71,20]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[71,44],"start":[71,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[71,44],"start":[71,33]}},"type":"Var","value":{"identifier":"sampleCount1","sourcePos":[69,26]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[71,50],"start":[71,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[71,50],"start":[71,47]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"identifier":"center"},{"annotation":{"meta":null,"sourceSpan":{"end":[72,57],"start":[72,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[72,21],"start":[72,18]}},"type":"Var","value":{"identifier":"abs","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[72,57],"start":[72,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[72,56],"start":[72,23]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[72,35],"start":[72,23]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[72,47],"start":[72,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[72,47],"start":[72,36]}},"type":"Var","value":{"identifier":"sampleIndex1","sourcePos":[69,14]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[72,56],"start":[72,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[72,56],"start":[72,50]}},"type":"Var","value":{"identifier":"center","sourcePos":[71,11]}},"type":"App"},"type":"App"},"identifier":"dist"},{"annotation":{"meta":null,"sourceSpan":{"end":[73,27],"start":[73,11]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[73,27],"start":[73,21]}},"type":"Var","value":{"identifier":"center","sourcePos":[71,11]}},"identifier":"maxDist"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[76,43],"start":[74,10]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[76,43],"start":[74,10]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[75,18],"start":[75,15]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[76,43],"start":[74,10]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[76,43],"start":[76,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[76,18],"start":[76,15]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[76,43],"start":[76,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[76,43],"start":[76,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[76,36],"start":[76,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[76,26],"start":[76,22]}},"type":"Var","value":{"identifier":"dist","sourcePos":[72,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[76,36],"start":[76,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[76,36],"start":[76,29]}},"type":"Var","value":{"identifier":"maxDist","sourcePos":[73,11]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[76,43],"start":[76,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[76,43],"start":[76,40]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[74,29],"start":[74,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[74,20],"start":[74,13]}},"type":"Var","value":{"identifier":"maxDist","sourcePos":[73,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[74,29],"start":[74,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[74,29],"start":[74,23]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-4}},"type":"App"}],"type":"Case"},"type":"Let"},"guard":{"annotation":{"meta":null,"sourceSpan":{"end":[70,12],"start":[70,5]}},"type":"Var","value":{"identifier":"tapered1","sourcePos":[69,38]}}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[77,20],"start":[77,17]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[77,14],"start":[77,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[77,20],"start":[69,1]}},"type":"Var","value":{"identifier":"sampleIndex","sourcePos":[69,14]}},{"annotation":{"meta":null,"sourceSpan":{"end":[77,20],"start":[69,1]}},"type":"Var","value":{"identifier":"sampleCount","sourcePos":[69,26]}},{"annotation":{"meta":null,"sourceSpan":{"end":[77,20],"start":[69,1]}},"type":"Var","value":{"identifier":"tapered","sourcePos":[69,38]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"sampleWeight"},{"annotation":{"meta":null,"sourceSpan":{"end":[50,88],"start":[50,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[50,88],"start":[50,1]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[50,88],"start":[50,1]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[50,88],"start":[50,1]}},"argument":"dx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[50,88],"start":[50,1]}},"argument":"dy","body":{"annotation":{"meta":null,"sourceSpan":{"end":[50,88],"start":[50,1]}},"argument":"offset","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[51,40],"start":[51,35]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[51,58],"start":[51,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[51,57],"start":[51,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[51,43],"start":[51,42]}},"type":"Var","value":{"identifier":"x","sourcePos":[51,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[51,57],"start":[51,42]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[51,57],"start":[51,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[51,48],"start":[51,46]}},"type":"Var","value":{"identifier":"dx","sourcePos":[51,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[51,57],"start":[51,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[51,57],"start":[51,51]}},"type":"Var","value":{"identifier":"offset","sourcePos":[51,1]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[51,76],"start":[51,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[51,75],"start":[51,60]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[51,61],"start":[51,60]}},"type":"Var","value":{"identifier":"y","sourcePos":[51,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[51,75],"start":[51,60]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[51,75],"start":[51,60]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[51,66],"start":[51,64]}},"type":"Var","value":{"identifier":"dy","sourcePos":[51,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[51,75],"start":[51,60]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[51,75],"start":[51,69]}},"type":"Var","value":{"identifier":"offset","sourcePos":[51,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"samplePosition"},{"annotation":{"meta":null,"sourceSpan":{"end":[80,36],"start":[80,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[80,36],"start":[80,1]}},"argument":"blurLength","body":{"annotation":{"meta":null,"sourceSpan":{"end":[83,19],"start":[82,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[82,36],"start":[82,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[82,25],"start":[82,17]}},"type":"Var","value":{"identifier":"ceil","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[82,36],"start":[82,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[82,36],"start":[82,26]}},"type":"Var","value":{"identifier":"blurLength","sourcePos":[81,1]}},"type":"App"},"identifier":"samples"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[83,11],"start":[83,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[83,11],"start":[83,10]}},"type":"Literal","value":{"literalType":"IntLiteral","value":3}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[83,19],"start":[83,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[83,19],"start":[83,12]}},"type":"Var","value":{"identifier":"samples","sourcePos":[82,7]}},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"optimalSampleCount"},{"annotation":{"meta":null,"sourceSpan":{"end":[55,89],"start":[54,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[55,89],"start":[54,1]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[55,89],"start":[54,1]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[55,89],"start":[54,1]}},"argument":"dx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[55,89],"start":[54,1]}},"argument":"dy","body":{"annotation":{"meta":null,"sourceSpan":{"end":[55,89],"start":[54,1]}},"argument":"blurLength","body":{"annotation":{"meta":null,"sourceSpan":{"end":[55,89],"start":[54,1]}},"argument":"sampleCount","body":{"annotation":{"meta":null,"sourceSpan":{"end":[55,89],"start":[54,1]}},"argument":"sampleIndex","body":{"annotation":{"meta":null,"sourceSpan":{"end":[61,37],"start":[57,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[59,51],"start":[59,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[59,51],"start":[59,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[59,24],"start":[59,14]}},"type":"Var","value":{"identifier":"blurLength","sourcePos":[56,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[59,51],"start":[59,14]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[59,39],"start":[59,27]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[59,51],"start":[59,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[59,51],"start":[59,40]}},"type":"Var","value":{"identifier":"sampleCount","sourcePos":[56,1]}},"type":"App"},"type":"App"},"identifier":"step"},{"annotation":{"meta":null,"sourceSpan":{"end":[57,51],"start":[57,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[57,51],"start":[57,21]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[57,33],"start":[57,21]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[57,45],"start":[57,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[57,45],"start":[57,34]}},"type":"Var","value":{"identifier":"sampleCount","sourcePos":[56,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[57,51],"start":[57,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[57,51],"start":[57,48]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"identifier":"halfSamples"},{"annotation":{"meta":null,"sourceSpan":{"end":[58,49],"start":[58,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[58,49],"start":[58,11]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[58,23],"start":[58,11]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[58,35],"start":[58,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[58,35],"start":[58,24]}},"type":"Var","value":{"identifier":"sampleIndex","sourcePos":[56,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[58,49],"start":[58,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[58,49],"start":[58,38]}},"type":"Var","value":{"identifier":"halfSamples","sourcePos":[57,7]}},"type":"App"},"identifier":"i"},{"annotation":{"meta":null,"sourceSpan":{"end":[60,24],"start":[60,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[60,24],"start":[60,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[60,17],"start":[60,16]}},"type":"Var","value":{"identifier":"i","sourcePos":[58,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[60,24],"start":[60,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[60,24],"start":[60,20]}},"type":"Var","value":{"identifier":"step","sourcePos":[59,7]}},"type":"App"},"identifier":"offset"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[61,20],"start":[61,6]}},"type":"Var","value":{"identifier":"samplePosition","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[61,22],"start":[61,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[61,22],"start":[61,21]}},"type":"Var","value":{"identifier":"x","sourcePos":[56,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[61,24],"start":[61,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[61,24],"start":[61,23]}},"type":"Var","value":{"identifier":"y","sourcePos":[56,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[61,27],"start":[61,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[61,27],"start":[61,25]}},"type":"Var","value":{"identifier":"dx","sourcePos":[56,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[61,30],"start":[61,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[61,30],"start":[61,28]}},"type":"Var","value":{"identifier":"dy","sourcePos":[56,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[61,37],"start":[61,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[61,37],"start":[61,31]}},"type":"Var","value":{"identifier":"offset","sourcePos":[60,7]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"directionalSamplePosition"},{"annotation":{"meta":null,"sourceSpan":{"end":[34,49],"start":[34,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[34,49],"start":[34,1]}},"argument":"angleRad","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[35,33],"start":[35,28]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[35,48],"start":[35,28]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[35,38],"start":[35,35]}},"type":"Var","value":{"identifier":"cos","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[35,47],"start":[35,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[35,47],"start":[35,39]}},"type":"Var","value":{"identifier":"angleRad","sourcePos":[35,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[35,63],"start":[35,28]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[35,53],"start":[35,50]}},"type":"Var","value":{"identifier":"sin","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[35,62],"start":[35,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[35,62],"start":[35,54]}},"type":"Var","value":{"identifier":"angleRad","sourcePos":[35,1]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"directionVector"},{"annotation":{"meta":null,"sourceSpan":{"end":[38,37],"start":[38,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[38,37],"start":[38,1]}},"argument":"degrees","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[39,48],"start":[39,28]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[39,48],"start":[39,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[39,35],"start":[39,28]}},"type":"Var","value":{"identifier":"degrees","sourcePos":[39,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[39,48],"start":[39,28]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[39,40],"start":[39,38]}},"type":"Var","value":{"identifier":"pi","moduleName":["Math"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[39,48],"start":[39,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[39,48],"start":[39,43]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":180}},"type":"App"},"type":"Abs"},"identifier":"degreesToRadians"},{"annotation":{"meta":null,"sourceSpan":{"end":[42,52],"start":[42,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[42,52],"start":[42,1]}},"argument":"angleDeg","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[43,46],"start":[43,31]}},"type":"Var","value":{"identifier":"directionVector","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[43,74],"start":[43,31]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[43,64],"start":[43,48]}},"type":"Var","value":{"identifier":"degreesToRadians","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[43,73],"start":[43,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[43,73],"start":[43,65]}},"type":"Var","value":{"identifier":"angleDeg","sourcePos":[43,1]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"directionVectorDeg"},{"annotation":{"meta":null,"sourceSpan":{"end":[90,77],"start":[90,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[90,77],"start":[90,1]}},"argument":"sampleX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[90,77],"start":[90,1]}},"argument":"sampleY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[90,77],"start":[90,1]}},"argument":"width","body":{"annotation":{"meta":null,"sourceSpan":{"end":[90,77],"start":[90,1]}},"argument":"height","body":{"annotation":{"meta":null,"sourceSpan":{"end":[94,29],"start":[92,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[93,67],"start":[93,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max1","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[93,25],"start":[93,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[93,25],"start":[93,22]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[93,67],"start":[93,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[93,58],"start":[93,27]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[93,57],"start":[93,32]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[93,44],"start":[93,32]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[93,51],"start":[93,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[93,51],"start":[93,45]}},"type":"Var","value":{"identifier":"height","sourcePos":[91,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[93,57],"start":[93,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[93,57],"start":[93,54]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[93,66],"start":[93,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[93,66],"start":[93,59]}},"type":"Var","value":{"identifier":"sampleY","sourcePos":[91,1]}},"type":"App"},"type":"App"},"identifier":"clampedY"},{"annotation":{"meta":null,"sourceSpan":{"end":[92,66],"start":[92,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max1","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[92,25],"start":[92,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[92,25],"start":[92,22]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[92,66],"start":[92,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[92,57],"start":[92,27]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Blur","Directional"]}},"annotation":{"meta":null,"sourceSpan":{"end":[92,56],"start":[92,32]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[92,44],"start":[92,32]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[92,50],"start":[92,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[92,50],"start":[92,45]}},"type":"Var","value":{"identifier":"width","sourcePos":[91,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[92,56],"start":[92,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[92,56],"start":[92,53]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[92,65],"start":[92,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[92,65],"start":[92,58]}},"type":"Var","value":{"identifier":"sampleX","sourcePos":[91,1]}},"type":"App"},"type":"App"},"identifier":"clampedX"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[94,11],"start":[94,6]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[94,20],"start":[94,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,20],"start":[94,12]}},"type":"Var","value":{"identifier":"clampedX","sourcePos":[92,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[94,29],"start":[94,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,29],"start":[94,21]}},"type":"Var","value":{"identifier":"clampedY","sourcePos":[93,7]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"clampSamplePosition"}],"exports":["directionVector","degreesToRadians","directionVectorDeg","samplePosition","directionalSamplePosition","sampleWeight","optimalSampleCount","clampSamplePosition"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[94,29],"start":[12,1]}},"moduleName":["Data","Boolean"]},{"annotation":{"meta":null,"sourceSpan":{"end":[94,29],"start":[12,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[94,29],"start":[12,1]}},"moduleName":["Data","Int"]},{"annotation":{"meta":null,"sourceSpan":{"end":[94,29],"start":[12,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[94,29],"start":[12,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[94,29],"start":[12,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[94,29],"start":[12,1]}},"moduleName":["Data","Tuple"]},{"annotation":{"meta":null,"sourceSpan":{"end":[94,29],"start":[12,1]}},"moduleName":["Lattice","Services","Blur","Directional"]},{"annotation":{"meta":null,"sourceSpan":{"end":[94,29],"start":[12,1]}},"moduleName":["Math"]},{"annotation":{"meta":null,"sourceSpan":{"end":[23,15],"start":[23,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[94,29],"start":[12,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","Blur","Directional"],"modulePath":"src/Lattice/Services/Blur/Directional.purs","reExports":{},"sourceSpan":{"end":[94,29],"start":[12,1]}}