// Generated by purs version 0.15.15
import * as Data_Int from "../Data.Int/index.js";
import * as Data_Tuple from "../Data.Tuple/index.js";
import * as $$Math from "../Math/index.js";
var vibranceAmount = function (currentSat) {
    return function (skinProt) {
        return function (vibrance) {
            return vibrance * (1.0 - currentSat) * (1.0 - skinProt * 0.5);
        };
    };
};
var threshold = function (luminance) {
    return function (thresh) {
        var $7 = luminance >= thresh;
        if ($7) {
            return 255.0;
        };
        return 0.0;
    };
};
var skinProtection = function (r) {
    return function (g) {
        return function (b) {
            var distance = $$Math.abs(r - 0.8) * 2.0 + $$Math.abs(g - 0.5) * 2.0 + $$Math.abs(b - 0.3) * 3.0;
            return 1.0 - $$Math.max(0.0)($$Math.min(1.0)(distance));
        };
    };
};
var shadowWeight = function (luminance) {
    return $$Math.max(0.0)(1.0 - luminance * 3.0);
};
var posterize = function (value) {
    return function (levels) {
        var $8 = levels < 2;
        if ($8) {
            return value;
        };
        var levelsF = Data_Int.toNumber(levels);
        var step = 255.0 / (levelsF - 1.0);
        var level = $$Math.round((value / 255.0) * (levelsF - 1.0));
        return $$Math.round(level * step);
    };
};
var midtoneWeight = function (shadowW) {
    return function (highlightW) {
        return 1.0 - shadowW - highlightW;
    };
};
var highlightWeight = function (luminance) {
    return $$Math.max(0.0)((luminance - 0.67) * 3.0);
};
var contrastFactorLegacy = function (contrast) {
    return 1.0 + contrast;
};
var contrastFactor = function (contrast) {
    var c255 = contrast * 255.0;
    return (259.0 * (c255 + 255.0)) / (255.0 * (259.0 - c255));
};
var applySaturationAdjustment = function (r) {
    return function (g) {
        return function (b) {
            return function (lum) {
                return function (satAdjust) {
                    var r$prime = lum + (r - lum) * satAdjust;
                    var g$prime = lum + (g - lum) * satAdjust;
                    var b$prime = lum + (b - lum) * satAdjust;
                    return new Data_Tuple.Tuple($$Math.max(0.0)($$Math.min(1.0)(r$prime)), new Data_Tuple.Tuple($$Math.max(0.0)($$Math.min(1.0)(g$prime)), $$Math.max(0.0)($$Math.min(1.0)(b$prime))));
                };
            };
        };
    };
};
var applyLevels = function (value) {
    return function (inputBlack) {
        return function (inputWhite) {
            return function (gamma) {
                return function (outputBlack) {
                    return function (outputWhite) {
                        var outputRange = outputWhite - outputBlack;
                        var inputRange = inputWhite - inputBlack;
                        var normalized = (function () {
                            var $9 = inputRange < 1.0e-2;
                            if ($9) {
                                return 0.0;
                            };
                            return (value - inputBlack) / inputRange;
                        })();
                        var gammaInv = 1.0 / gamma;
                        var clamped = $$Math.max(0.0)($$Math.min(1.0)(normalized));
                        var gammaCorrected = $$Math.pow(clamped)(gammaInv);
                        var output = outputBlack + gammaCorrected * outputRange;
                        return $$Math.max(0.0)($$Math.min(255.0)(output));
                    };
                };
            };
        };
    };
};
var applyExposure = function (value) {
    return function (exposure) {
        return function (offset) {
            return function (gamma) {
                var gammaInv = 1.0 / gamma;
                var exposureMultiplier = $$Math.pow(2.0)(exposure);
                var withExposure = value * exposureMultiplier;
                var withOffset = withExposure + offset;
                var clamped = $$Math.max(0.0)($$Math.min(1.0)(withOffset));
                return $$Math.pow(clamped)(gammaInv);
            };
        };
    };
};
var applyBrightnessContrast = function (value) {
    return function (brightness) {
        return function (factor) {
            var withBrightness = value + brightness * 255.0;
            var withContrast = factor * (withBrightness - 128.0) + 128.0;
            return $$Math.max(0.0)($$Math.min(255.0)(withContrast));
        };
    };
};
export {
    contrastFactor,
    contrastFactorLegacy,
    applyBrightnessContrast,
    applyLevels,
    applyExposure,
    skinProtection,
    vibranceAmount,
    applySaturationAdjustment,
    shadowWeight,
    highlightWeight,
    midtoneWeight,
    posterize,
    threshold
};
//# sourceMappingURL=index.js.map
