{"builtWith":"0.15.15","comments":[{"BlockComment":"\n  Lattice.Services.LayerStyles.BevelLighting - Bevel/Emboss Lighting Math\n\n  Pure mathematical functions for bevel and emboss lighting:\n  - Light direction vector from angle and altitude\n  - Surface normal from alpha gradients\n  - Lambertian diffuse lighting (dot product)\n\n  Source: ui/src/services/effects/layerStyleRenderer.ts (lines 570-696)\n"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[109,14],"start":[109,13]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[109,18],"start":[109,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[110,11],"start":[110,8]}},"type":"Var","value":{"identifier":"min","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[110,17],"start":[110,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"min"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[110,53],"start":[110,52]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[110,59],"start":[110,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[110,27],"start":[110,20]}},"type":"Var","value":{"identifier":"negate","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[110,27],"start":[110,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"negate"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[85,50],"start":[85,49]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[85,58],"start":[85,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[97,16],"start":[97,15]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[97,20],"start":[97,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[47,29],"start":[47,28]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[47,34],"start":[47,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[102,14],"start":[102,13]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[102,18],"start":[102,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[107,56],"start":[107,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[107,56],"start":[107,1]}},"argument":"dotVal","body":{"annotation":{"meta":null,"sourceSpan":{"end":[107,56],"start":[107,1]}},"argument":"opacity","body":{"annotation":{"meta":null,"sourceSpan":{"end":[107,56],"start":[107,1]}},"argument":"pixelAlpha","body":{"annotation":{"meta":null,"sourceSpan":{"end":[111,11],"start":[109,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[111,11],"start":[109,3]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[110,17],"start":[110,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[110,17],"start":[110,12]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":255}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[110,60],"start":[110,8]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[110,59],"start":[110,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[110,59],"start":[110,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[110,59],"start":[110,19]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"negate","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[110,27],"start":[110,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[110,27],"start":[110,21]}},"type":"Var","value":{"identifier":"dotVal","sourcePos":[108,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[110,59],"start":[110,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[110,38],"start":[110,31]}},"type":"Var","value":{"identifier":"opacity","sourcePos":[108,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[110,59],"start":[110,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[110,51],"start":[110,41]}},"type":"Var","value":{"identifier":"pixelAlpha","sourcePos":[108,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[110,59],"start":[110,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[110,59],"start":[110,54]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":255}},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[111,11],"start":[109,3]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[111,11],"start":[111,8]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[109,18],"start":[109,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[109,12],"start":[109,6]}},"type":"Var","value":{"identifier":"dotVal","sourcePos":[108,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[109,18],"start":[109,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[109,18],"start":[109,15]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"shadowIntensity"},{"annotation":{"meta":null,"sourceSpan":{"end":[80,18],"start":[80,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[81,14],"start":[81,11]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"identifier":"normalZ"},{"annotation":{"meta":null,"sourceSpan":{"end":[76,48],"start":[76,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[76,48],"start":[76,1]}},"argument":"gradY_","body":{"annotation":{"meta":null,"sourceSpan":{"end":[76,48],"start":[76,1]}},"argument":"size","body":{"annotation":{"meta":null,"sourceSpan":{"end":[76,48],"start":[76,1]}},"argument":"depth","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[77,51],"start":[77,29]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[77,51],"start":[77,29]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"negate","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[77,36],"start":[77,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[77,36],"start":[77,30]}},"type":"Var","value":{"identifier":"gradY_","sourcePos":[77,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[77,51],"start":[77,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[77,43],"start":[77,39]}},"type":"Var","value":{"identifier":"size","sourcePos":[77,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[77,51],"start":[77,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[77,51],"start":[77,46]}},"type":"Var","value":{"identifier":"depth","sourcePos":[77,1]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"normalY"},{"annotation":{"meta":null,"sourceSpan":{"end":[72,48],"start":[72,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[72,48],"start":[72,1]}},"argument":"gradX_","body":{"annotation":{"meta":null,"sourceSpan":{"end":[72,48],"start":[72,1]}},"argument":"size","body":{"annotation":{"meta":null,"sourceSpan":{"end":[72,48],"start":[72,1]}},"argument":"depth","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[73,51],"start":[73,29]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[73,51],"start":[73,29]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"negate","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[73,36],"start":[73,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[73,36],"start":[73,30]}},"type":"Var","value":{"identifier":"gradX_","sourcePos":[73,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[73,51],"start":[73,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[73,43],"start":[73,39]}},"type":"Var","value":{"identifier":"size","sourcePos":[73,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[73,51],"start":[73,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[73,51],"start":[73,46]}},"type":"Var","value":{"identifier":"depth","sourcePos":[73,1]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"normalX"},{"annotation":{"meta":null,"sourceSpan":{"end":[84,53],"start":[84,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[84,53],"start":[84,1]}},"argument":"nx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[84,53],"start":[84,1]}},"argument":"ny","body":{"annotation":{"meta":null,"sourceSpan":{"end":[84,53],"start":[84,1]}},"argument":"nz","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[85,29],"start":[85,25]}},"type":"Var","value":{"identifier":"sqrt","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[85,59],"start":[85,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[85,58],"start":[85,31]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[85,58],"start":[85,31]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[85,58],"start":[85,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[85,33],"start":[85,31]}},"type":"Var","value":{"identifier":"nx","sourcePos":[85,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[85,58],"start":[85,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[85,38],"start":[85,36]}},"type":"Var","value":{"identifier":"nx","sourcePos":[85,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[85,58],"start":[85,31]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[85,58],"start":[85,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[85,43],"start":[85,41]}},"type":"Var","value":{"identifier":"ny","sourcePos":[85,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[85,58],"start":[85,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[85,48],"start":[85,46]}},"type":"Var","value":{"identifier":"ny","sourcePos":[85,1]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[85,58],"start":[85,31]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[85,58],"start":[85,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[85,53],"start":[85,51]}},"type":"Var","value":{"identifier":"nz","sourcePos":[85,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[85,58],"start":[85,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[85,58],"start":[85,56]}},"type":"Var","value":{"identifier":"nz","sourcePos":[85,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"normalLength"},{"annotation":{"meta":null,"sourceSpan":{"end":[92,82],"start":[92,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[92,82],"start":[92,1]}},"argument":"nx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[92,82],"start":[92,1]}},"argument":"ny","body":{"annotation":{"meta":null,"sourceSpan":{"end":[92,82],"start":[92,1]}},"argument":"nz","body":{"annotation":{"meta":null,"sourceSpan":{"end":[92,82],"start":[92,1]}},"argument":"lx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[92,82],"start":[92,1]}},"argument":"ly","body":{"annotation":{"meta":null,"sourceSpan":{"end":[92,82],"start":[92,1]}},"argument":"lz","body":{"annotation":{"meta":null,"sourceSpan":{"end":[97,62],"start":[94,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[94,34],"start":[94,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[94,25],"start":[94,13]}},"type":"Var","value":{"identifier":"normalLength","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[94,28],"start":[94,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,28],"start":[94,26]}},"type":"Var","value":{"identifier":"nx","sourcePos":[93,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[94,31],"start":[94,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,31],"start":[94,29]}},"type":"Var","value":{"identifier":"ny","sourcePos":[93,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[94,34],"start":[94,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,34],"start":[94,32]}},"type":"Var","value":{"identifier":"nz","sourcePos":[93,1]}},"type":"App"},"identifier":"len"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[97,62],"start":[95,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[97,62],"start":[95,6]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[96,14],"start":[96,11]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[97,62],"start":[95,6]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[97,62],"start":[97,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[97,62],"start":[97,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[97,62],"start":[97,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[97,20],"start":[97,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[97,14],"start":[97,12]}},"type":"Var","value":{"identifier":"nx","sourcePos":[93,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[97,20],"start":[97,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[97,20],"start":[97,17]}},"type":"Var","value":{"identifier":"len","sourcePos":[94,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[97,62],"start":[97,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[97,26],"start":[97,24]}},"type":"Var","value":{"identifier":"lx","sourcePos":[93,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[97,62],"start":[97,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[97,62],"start":[97,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[97,38],"start":[97,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[97,32],"start":[97,30]}},"type":"Var","value":{"identifier":"ny","sourcePos":[93,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[97,38],"start":[97,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[97,38],"start":[97,35]}},"type":"Var","value":{"identifier":"len","sourcePos":[94,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[97,62],"start":[97,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[97,44],"start":[97,42]}},"type":"Var","value":{"identifier":"ly","sourcePos":[93,1]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[97,62],"start":[97,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[97,62],"start":[97,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[97,56],"start":[97,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[97,50],"start":[97,48]}},"type":"Var","value":{"identifier":"nz","sourcePos":[93,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[97,56],"start":[97,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[97,56],"start":[97,53]}},"type":"Var","value":{"identifier":"len","sourcePos":[94,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[97,62],"start":[97,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[97,62],"start":[97,60]}},"type":"Var","value":{"identifier":"lz","sourcePos":[93,1]}},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[95,21],"start":[95,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[95,12],"start":[95,9]}},"type":"Var","value":{"identifier":"len","sourcePos":[94,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[95,21],"start":[95,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[95,21],"start":[95,15]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-4}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"lightingDot"},{"annotation":{"meta":null,"sourceSpan":{"end":[51,27],"start":[51,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[51,27],"start":[51,1]}},"argument":"altitudeDeg","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[52,25],"start":[52,22]}},"type":"Var","value":{"identifier":"sin","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[52,52],"start":[52,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[52,51],"start":[52,27]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[52,51],"start":[52,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[52,38],"start":[52,27]}},"type":"Var","value":{"identifier":"altitudeDeg","sourcePos":[52,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[52,51],"start":[52,27]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[52,43],"start":[52,41]}},"type":"Var","value":{"identifier":"pi","moduleName":["Math"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[52,51],"start":[52,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[52,51],"start":[52,46]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":180}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"lightZ"},{"annotation":{"meta":null,"sourceSpan":{"end":[45,27],"start":[45,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[45,27],"start":[45,1]}},"argument":"angleDeg","body":{"annotation":{"meta":null,"sourceSpan":{"end":[48,21],"start":[47,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[47,48],"start":[47,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[47,48],"start":[47,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[47,48],"start":[47,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[47,34],"start":[47,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[47,27],"start":[47,19]}},"type":"Var","value":{"identifier":"angleDeg","sourcePos":[46,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[47,34],"start":[47,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[47,34],"start":[47,30]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":90}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[47,48],"start":[47,18]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[47,40],"start":[47,38]}},"type":"Var","value":{"identifier":"pi","moduleName":["Math"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[47,48],"start":[47,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[47,48],"start":[47,43]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":180}},"type":"App"},"identifier":"angleRad"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"negate","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[48,21],"start":[48,6]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[48,11],"start":[48,8]}},"type":"Var","value":{"identifier":"sin","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[48,20],"start":[48,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[48,20],"start":[48,12]}},"type":"Var","value":{"identifier":"angleRad","sourcePos":[47,7]}},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"lightY"},{"annotation":{"meta":null,"sourceSpan":{"end":[39,27],"start":[39,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[39,27],"start":[39,1]}},"argument":"angleDeg","body":{"annotation":{"meta":null,"sourceSpan":{"end":[42,18],"start":[41,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[41,48],"start":[41,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[41,48],"start":[41,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[41,48],"start":[41,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[41,34],"start":[41,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[41,27],"start":[41,19]}},"type":"Var","value":{"identifier":"angleDeg","sourcePos":[40,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[41,34],"start":[41,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[41,34],"start":[41,30]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":90}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[41,48],"start":[41,18]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[41,40],"start":[41,38]}},"type":"Var","value":{"identifier":"pi","moduleName":["Math"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[41,48],"start":[41,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[41,48],"start":[41,43]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":180}},"type":"App"},"identifier":"angleRad"}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[42,9],"start":[42,6]}},"type":"Var","value":{"identifier":"cos","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[42,18],"start":[42,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[42,18],"start":[42,10]}},"type":"Var","value":{"identifier":"angleRad","sourcePos":[41,7]}},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"lightX"},{"annotation":{"meta":null,"sourceSpan":{"end":[55,80],"start":[55,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[55,80],"start":[55,1]}},"argument":"angleDeg","body":{"annotation":{"meta":null,"sourceSpan":{"end":[55,80],"start":[55,1]}},"argument":"altitudeDeg","body":{"annotation":{"meta":null,"sourceSpan":{"end":[57,68],"start":[57,3]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[57,14],"start":[57,8]}},"type":"Var","value":{"identifier":"lightX","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[57,23],"start":[57,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[57,23],"start":[57,15]}},"type":"Var","value":{"identifier":"angleDeg","sourcePos":[56,1]}},"type":"App"}],["y",{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[57,34],"start":[57,28]}},"type":"Var","value":{"identifier":"lightY","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[57,43],"start":[57,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[57,43],"start":[57,35]}},"type":"Var","value":{"identifier":"angleDeg","sourcePos":[56,1]}},"type":"App"}],["z",{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[57,54],"start":[57,48]}},"type":"Var","value":{"identifier":"lightZ","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[57,66],"start":[57,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[57,66],"start":[57,55]}},"type":"Var","value":{"identifier":"altitudeDeg","sourcePos":[56,1]}},"type":"App"}]]}},"type":"Abs"},"type":"Abs"},"identifier":"lightDirection"},{"annotation":{"meta":null,"sourceSpan":{"end":[100,59],"start":[100,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[100,59],"start":[100,1]}},"argument":"dotVal","body":{"annotation":{"meta":null,"sourceSpan":{"end":[100,59],"start":[100,1]}},"argument":"opacity","body":{"annotation":{"meta":null,"sourceSpan":{"end":[100,59],"start":[100,1]}},"argument":"pixelAlpha","body":{"annotation":{"meta":null,"sourceSpan":{"end":[104,11],"start":[102,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[104,11],"start":[102,3]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,17],"start":[103,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,17],"start":[103,12]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":255}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,57],"start":[103,8]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,56],"start":[103,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,56],"start":[103,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,56],"start":[103,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,25],"start":[103,19]}},"type":"Var","value":{"identifier":"dotVal","sourcePos":[101,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,56],"start":[103,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,35],"start":[103,28]}},"type":"Var","value":{"identifier":"opacity","sourcePos":[101,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,56],"start":[103,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,48],"start":[103,38]}},"type":"Var","value":{"identifier":"pixelAlpha","sourcePos":[101,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,56],"start":[103,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,56],"start":[103,51]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":255}},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[104,11],"start":[102,3]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[104,11],"start":[104,8]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,18],"start":[102,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,12],"start":[102,6]}},"type":"Var","value":{"identifier":"dotVal","sourcePos":[101,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[102,18],"start":[102,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,18],"start":[102,15]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"highlightIntensity"},{"annotation":{"meta":null,"sourceSpan":{"end":[68,40],"start":[68,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[68,40],"start":[68,1]}},"argument":"topAlpha","body":{"annotation":{"meta":null,"sourceSpan":{"end":[68,40],"start":[68,1]}},"argument":"bottomAlpha","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[69,56],"start":[69,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[69,45],"start":[69,34]}},"type":"Var","value":{"identifier":"bottomAlpha","sourcePos":[69,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[69,56],"start":[69,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[69,56],"start":[69,48]}},"type":"Var","value":{"identifier":"topAlpha","sourcePos":[69,1]}},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"gradientY"},{"annotation":{"meta":null,"sourceSpan":{"end":[64,40],"start":[64,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[64,40],"start":[64,1]}},"argument":"leftAlpha","body":{"annotation":{"meta":null,"sourceSpan":{"end":[64,40],"start":[64,1]}},"argument":"rightAlpha","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[65,56],"start":[65,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[65,44],"start":[65,34]}},"type":"Var","value":{"identifier":"rightAlpha","sourcePos":[65,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[65,56],"start":[65,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[65,56],"start":[65,47]}},"type":"Var","value":{"identifier":"leftAlpha","sourcePos":[65,1]}},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"gradientX"},{"annotation":{"meta":null,"sourceSpan":{"end":[120,37],"start":[118,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[120,37],"start":[118,1]}},"argument":"leftAlpha","body":{"annotation":{"meta":null,"sourceSpan":{"end":[120,37],"start":[118,1]}},"argument":"rightAlpha","body":{"annotation":{"meta":null,"sourceSpan":{"end":[120,37],"start":[118,1]}},"argument":"topAlpha","body":{"annotation":{"meta":null,"sourceSpan":{"end":[120,37],"start":[118,1]}},"argument":"bottomAlpha","body":{"annotation":{"meta":null,"sourceSpan":{"end":[120,37],"start":[118,1]}},"argument":"pixelAlpha","body":{"annotation":{"meta":null,"sourceSpan":{"end":[120,37],"start":[118,1]}},"argument":"size","body":{"annotation":{"meta":null,"sourceSpan":{"end":[120,37],"start":[118,1]}},"argument":"depth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[120,37],"start":[118,1]}},"argument":"angleDeg","body":{"annotation":{"meta":null,"sourceSpan":{"end":[120,37],"start":[118,1]}},"argument":"altitudeDeg","body":{"annotation":{"meta":null,"sourceSpan":{"end":[141,45],"start":[124,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[130,19],"start":[130,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[130,19],"start":[130,12]}},"type":"Var","value":{"identifier":"normalZ","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"identifier":"nz"},{"annotation":{"meta":null,"sourceSpan":{"end":[133,50],"start":[133,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[133,29],"start":[133,15]}},"type":"Var","value":{"identifier":"lightDirection","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[133,38],"start":[133,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[133,38],"start":[133,30]}},"type":"Var","value":{"identifier":"angleDeg","sourcePos":[121,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[133,50],"start":[133,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[133,50],"start":[133,39]}},"type":"Var","value":{"identifier":"altitudeDeg","sourcePos":[121,1]}},"type":"App"},"identifier":"light"},{"annotation":{"meta":null,"sourceSpan":{"end":[125,46],"start":[125,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[125,25],"start":[125,16]}},"type":"Var","value":{"identifier":"gradientY","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[125,34],"start":[125,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,34],"start":[125,26]}},"type":"Var","value":{"identifier":"topAlpha","sourcePos":[121,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[125,46],"start":[125,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,46],"start":[125,35]}},"type":"Var","value":{"identifier":"bottomAlpha","sourcePos":[121,1]}},"type":"App"},"identifier":"gradY_"},{"annotation":{"meta":null,"sourceSpan":{"end":[129,37],"start":[129,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[129,19],"start":[129,12]}},"type":"Var","value":{"identifier":"normalY","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[129,26],"start":[129,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,26],"start":[129,20]}},"type":"Var","value":{"identifier":"gradY_","sourcePos":[125,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[129,31],"start":[129,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,31],"start":[129,27]}},"type":"Var","value":{"identifier":"size","sourcePos":[121,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[129,37],"start":[129,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,37],"start":[129,32]}},"type":"Var","value":{"identifier":"depth","sourcePos":[121,1]}},"type":"App"},"identifier":"ny"},{"annotation":{"meta":null,"sourceSpan":{"end":[124,46],"start":[124,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[124,25],"start":[124,16]}},"type":"Var","value":{"identifier":"gradientX","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,35],"start":[124,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,35],"start":[124,26]}},"type":"Var","value":{"identifier":"leftAlpha","sourcePos":[121,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[124,46],"start":[124,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,46],"start":[124,36]}},"type":"Var","value":{"identifier":"rightAlpha","sourcePos":[121,1]}},"type":"App"},"identifier":"gradX_"},{"annotation":{"meta":null,"sourceSpan":{"end":[128,37],"start":[128,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[128,19],"start":[128,12]}},"type":"Var","value":{"identifier":"normalX","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[128,26],"start":[128,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[128,26],"start":[128,20]}},"type":"Var","value":{"identifier":"gradX_","sourcePos":[124,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[128,31],"start":[128,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[128,31],"start":[128,27]}},"type":"Var","value":{"identifier":"size","sourcePos":[121,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[128,37],"start":[128,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[128,37],"start":[128,32]}},"type":"Var","value":{"identifier":"depth","sourcePos":[121,1]}},"type":"App"},"identifier":"nx"},{"annotation":{"meta":null,"sourceSpan":{"end":[136,60],"start":[136,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[136,27],"start":[136,16]}},"type":"Var","value":{"identifier":"lightingDot","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[136,30],"start":[136,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[136,30],"start":[136,28]}},"type":"Var","value":{"identifier":"nx","sourcePos":[128,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[136,33],"start":[136,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[136,33],"start":[136,31]}},"type":"Var","value":{"identifier":"ny","sourcePos":[129,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[136,36],"start":[136,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[136,36],"start":[136,34]}},"type":"Var","value":{"identifier":"nz","sourcePos":[130,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[136,44],"start":[136,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[136,44],"start":[136,37]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[136,42],"start":[136,37]}},"type":"Var","value":{"identifier":"light","sourcePos":[133,7]}},"fieldName":"x","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[136,52],"start":[136,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[136,52],"start":[136,45]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[136,50],"start":[136,45]}},"type":"Var","value":{"identifier":"light","sourcePos":[133,7]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[136,60],"start":[136,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[136,60],"start":[136,53]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[136,58],"start":[136,53]}},"type":"Var","value":{"identifier":"light","sourcePos":[133,7]}},"fieldName":"z","type":"Accessor"},"type":"App"},"identifier":"dotVal"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[141,45],"start":[139,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[141,45],"start":[139,6]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[140,16],"start":[140,11]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[140,38],"start":[140,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[140,37],"start":[140,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[140,24],"start":[140,18]}},"type":"Var","value":{"identifier":"dotVal","sourcePos":[136,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[140,37],"start":[140,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[140,37],"start":[140,27]}},"type":"Var","value":{"identifier":"pixelAlpha","sourcePos":[121,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[140,42],"start":[140,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[140,42],"start":[140,39]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[141,45],"start":[139,6]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[141,16],"start":[141,11]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[141,20],"start":[141,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[141,20],"start":[141,17]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[141,45],"start":[141,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[141,44],"start":[141,22]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"negate","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[141,30],"start":[141,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[141,30],"start":[141,24]}},"type":"Var","value":{"identifier":"dotVal","sourcePos":[136,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[141,44],"start":[141,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[141,44],"start":[141,34]}},"type":"Var","value":{"identifier":"pixelAlpha","sourcePos":[121,1]}},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","LayerStyles","BevelLighting"]}},"annotation":{"meta":null,"sourceSpan":{"end":[139,21],"start":[139,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[139,15],"start":[139,9]}},"type":"Var","value":{"identifier":"dotVal","sourcePos":[136,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[139,21],"start":[139,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[139,21],"start":[139,18]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"bevelLighting"}],"exports":["lightX","lightY","lightZ","lightDirection","gradientX","gradientY","normalX","normalY","normalZ","normalLength","lightingDot","highlightIntensity","shadowIntensity","bevelLighting"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[141,45],"start":[12,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[141,45],"start":[12,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[141,45],"start":[12,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[141,45],"start":[12,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[141,45],"start":[12,1]}},"moduleName":["Data","Tuple"]},{"annotation":{"meta":null,"sourceSpan":{"end":[141,45],"start":[12,1]}},"moduleName":["Lattice","Services","LayerStyles","BevelLighting"]},{"annotation":{"meta":null,"sourceSpan":{"end":[141,45],"start":[12,1]}},"moduleName":["Math"]},{"annotation":{"meta":null,"sourceSpan":{"end":[29,15],"start":[29,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[141,45],"start":[12,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","LayerStyles","BevelLighting"],"modulePath":"src/Lattice/Services/LayerStyles/BevelLighting.purs","reExports":{},"sourceSpan":{"end":[141,45],"start":[12,1]}}