{"builtWith":"0.15.15","comments":[{"LineComment":" | Port of ui/src/__tests__/services/PhysicsEngine.test.ts"},{"LineComment":" |"},{"LineComment":" | Tests physics body inverse mass calculations."},{"LineComment":" | BUG-005 FIX: Prevents division by zero when mass is 0 for dynamic bodies."}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[27,19],"start":[27,17]}},"type":"Var","value":{"identifier":"disj","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[27,37],"start":[27,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"disj"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[27,12],"start":[27,10]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[27,37],"start":[27,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqNumber","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"eq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[28,22],"start":[28,21]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[28,27],"start":[28,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[32,11],"start":[32,3]}},"type":"Var","value":{"identifier":"describe","moduleName":["Test","Spec"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[32,45],"start":[32,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"monadIdentity","moduleName":["Data","Identity"]}},"type":"App"},"identifier":"describe"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[36,58],"start":[34,7]}},"type":"Var","value":{"identifier":"discard","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[36,58],"start":[34,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discardUnit","moduleName":["Control","Bind"]}},"type":"App"},"identifier":"discard"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[36,58],"start":[34,7]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindSpecT","moduleName":["Test","Spec"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[36,58],"start":[34,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindIdentity","moduleName":["Data","Identity"]}},"type":"App"},"type":"App"},"identifier":"discard1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[34,9],"start":[34,7]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Spec"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[34,48],"start":[34,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"monadIdentity","moduleName":["Data","Identity"]}},"type":"App"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[34,48],"start":[34,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"exampleMUnit","moduleName":["Test","Spec"]}},"type":"App"},"identifier":"it"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[35,59],"start":[35,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindAff","moduleName":["Effect","Aff"]}},"type":"App"},"identifier":"discard2"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[35,54],"start":[35,43]}},"type":"Var","value":{"identifier":"shouldEqual","moduleName":["Test","Spec","Assertions"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[35,59],"start":[35,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"monadThrowAff","moduleName":["Effect","Aff"]}},"type":"App"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[35,59],"start":[35,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"showNumber","moduleName":["Data","Show"]}},"type":"App"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[35,59],"start":[35,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqNumber","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"shouldEqual"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[67,13],"start":[67,9]}},"type":"Var","value":{"identifier":"for_","moduleName":["Data","Foldable"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[67,23],"start":[67,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeAff","moduleName":["Effect","Aff"]}},"type":"App"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[67,23],"start":[67,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"foldableArray","moduleName":["Data","Foldable"]}},"type":"App"},"identifier":"for_"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[74,26],"start":[74,25]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[74,30],"start":[74,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[76,28],"start":[76,24]}},"type":"Var","value":{"identifier":"pure","moduleName":["Control","Applicative"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[76,33],"start":[76,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeAff","moduleName":["Effect","Aff"]}},"type":"App"},"identifier":"pure"},{"annotation":{"meta":null,"sourceSpan":{"end":[18,52],"start":[18,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[18,52],"start":[18,1]}},"constructorName":"Static","fieldNames":[],"type":"Constructor","typeName":"BodyType"},"identifier":"Static"},{"annotation":{"meta":null,"sourceSpan":{"end":[18,52],"start":[18,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[18,52],"start":[18,1]}},"constructorName":"Dead","fieldNames":[],"type":"Constructor","typeName":"BodyType"},"identifier":"Dead"},{"annotation":{"meta":null,"sourceSpan":{"end":[18,52],"start":[18,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[18,52],"start":[18,1]}},"constructorName":"Dynamic","fieldNames":[],"type":"Constructor","typeName":"BodyType"},"identifier":"Dynamic"},{"annotation":{"meta":null,"sourceSpan":{"end":[18,52],"start":[18,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[18,52],"start":[18,1]}},"constructorName":"Kinematic","fieldNames":[],"type":"Constructor","typeName":"BodyType"},"identifier":"Kinematic"},{"annotation":{"meta":null,"sourceSpan":{"end":[23,53],"start":[23,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[23,53],"start":[23,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[23,53],"start":[23,1]}},"argument":"v1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[23,53],"start":[23,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[24,28],"start":[24,22]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Static","moduleName":["Test","Lattice","Services","PhysicsEngine"]},"typeName":{"identifier":"BodyType","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},{"annotation":{"meta":null,"sourceSpan":{"end":[24,30],"start":[24,29]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[24,36],"start":[24,33]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[25,26],"start":[25,22]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Dead","moduleName":["Test","Lattice","Services","PhysicsEngine"]},"typeName":{"identifier":"BodyType","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},{"annotation":{"meta":null,"sourceSpan":{"end":[25,28],"start":[25,27]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[25,34],"start":[25,31]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[26,23],"start":[26,22]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[26,28],"start":[26,24]}},"binderType":"VarBinder","identifier":"mass"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[27,43],"start":[27,40]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"disj","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[27,37],"start":[27,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[27,37],"start":[27,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[27,9],"start":[27,5]}},"type":"Var","value":{"identifier":"mass","sourcePos":[26,24]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[27,37],"start":[27,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[27,16],"start":[27,13]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[27,37],"start":[27,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[27,32],"start":[27,20]}},"type":"Var","value":{"identifier":"isNaN","moduleName":["Data","Number"]}},"annotation":{"meta":null,"sourceSpan":{"end":[27,37],"start":[27,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[27,37],"start":[27,33]}},"type":"Var","value":{"identifier":"mass","sourcePos":[26,24]}},"type":"App"},"type":"App"}},{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[28,27],"start":[28,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[28,20],"start":[28,17]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[28,27],"start":[28,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[28,27],"start":[28,23]}},"type":"Var","value":{"identifier":"mass","sourcePos":[26,24]}},"type":"App"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[28,14],"start":[28,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[24,36],"start":[24,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[24,36],"start":[24,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"calculateInverseMass"},{"annotation":{"meta":null,"sourceSpan":{"end":[30,18],"start":[30,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"describe","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[32,45],"start":[32,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[32,45],"start":[32,12]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"PhysicsEngine body calculations"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[80,63],"start":[32,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"describe","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[33,39],"start":[33,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[33,39],"start":[33,14]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"inverseMass calculation"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[80,63],"start":[33,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[36,58],"start":[34,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[34,48],"start":[34,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[34,48],"start":[34,10]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"static bodies have zero inverse mass"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[36,58],"start":[34,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[35,59],"start":[35,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[35,59],"start":[35,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[35,29],"start":[35,9]}},"type":"Var","value":{"identifier":"calculateInverseMass","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[35,36],"start":[35,9]}},"argument":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[35,36],"start":[35,30]}},"type":"Var","value":{"identifier":"Static","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[35,41],"start":[35,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[35,41],"start":[35,37]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":10}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[35,59],"start":[35,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[35,59],"start":[35,56]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[35,59],"start":[35,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[35,59],"start":[35,9]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[36,58],"start":[36,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[36,29],"start":[36,9]}},"type":"Var","value":{"identifier":"calculateInverseMass","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[36,36],"start":[36,9]}},"argument":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[36,36],"start":[36,30]}},"type":"Var","value":{"identifier":"Static","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[36,40],"start":[36,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[36,40],"start":[36,37]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[36,58],"start":[36,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[36,58],"start":[36,55]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[36,58],"start":[34,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[36,58],"start":[34,7]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[40,56],"start":[38,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[38,46],"start":[38,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[38,46],"start":[38,10]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"dead bodies have zero inverse mass"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[40,56],"start":[38,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[39,57],"start":[39,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[39,57],"start":[39,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[39,29],"start":[39,9]}},"type":"Var","value":{"identifier":"calculateInverseMass","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[39,34],"start":[39,9]}},"argument":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[39,34],"start":[39,30]}},"type":"Var","value":{"identifier":"Dead","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[39,39],"start":[39,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[39,39],"start":[39,35]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":10}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[39,57],"start":[39,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[39,57],"start":[39,54]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[39,57],"start":[39,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[39,57],"start":[39,9]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[40,56],"start":[40,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[40,29],"start":[40,9]}},"type":"Var","value":{"identifier":"calculateInverseMass","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[40,34],"start":[40,9]}},"argument":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[40,34],"start":[40,30]}},"type":"Var","value":{"identifier":"Dead","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[40,38],"start":[40,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[40,38],"start":[40,35]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[40,56],"start":[40,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[40,56],"start":[40,53]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[40,56],"start":[38,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[40,56],"start":[38,7]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[45,60],"start":[42,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[42,59],"start":[42,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[42,59],"start":[42,10]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"dynamic bodies calculate inverse mass correctly"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[45,60],"start":[42,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[43,59],"start":[43,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[43,59],"start":[43,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[43,29],"start":[43,9]}},"type":"Var","value":{"identifier":"calculateInverseMass","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[43,37],"start":[43,9]}},"argument":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[43,37],"start":[43,30]}},"type":"Var","value":{"identifier":"Dynamic","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[43,41],"start":[43,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[43,41],"start":[43,38]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[43,59],"start":[43,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[43,59],"start":[43,56]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[43,59],"start":[43,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[43,59],"start":[43,9]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[44,59],"start":[44,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[44,59],"start":[44,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[44,29],"start":[44,9]}},"type":"Var","value":{"identifier":"calculateInverseMass","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[44,37],"start":[44,9]}},"argument":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[44,37],"start":[44,30]}},"type":"Var","value":{"identifier":"Dynamic","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[44,41],"start":[44,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[44,41],"start":[44,38]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[44,59],"start":[44,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[44,59],"start":[44,56]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[44,59],"start":[44,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[44,59],"start":[44,9]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[45,60],"start":[45,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[45,29],"start":[45,9]}},"type":"Var","value":{"identifier":"calculateInverseMass","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[45,37],"start":[45,9]}},"argument":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[45,37],"start":[45,30]}},"type":"Var","value":{"identifier":"Dynamic","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[45,42],"start":[45,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[45,42],"start":[45,38]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":10}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[45,60],"start":[45,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[45,60],"start":[45,57]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.1}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[45,60],"start":[42,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[45,60],"start":[42,7]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[51,56],"start":[47,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[47,80],"start":[47,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[47,80],"start":[47,10]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"BUG #5 FIXED: dynamic body with mass=0 returns 1 instead of Infinity"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[51,56],"start":[47,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[50,59],"start":[50,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[50,59],"start":[50,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[50,29],"start":[50,9]}},"type":"Var","value":{"identifier":"calculateInverseMass","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[50,37],"start":[50,9]}},"argument":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[50,37],"start":[50,30]}},"type":"Var","value":{"identifier":"Dynamic","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[50,41],"start":[50,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[50,41],"start":[50,38]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[50,59],"start":[50,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[50,59],"start":[50,56]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[50,59],"start":[50,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[50,59],"start":[50,9]}},"argument":"$__unused","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[51,21],"start":[51,9]}},"type":"Var","value":{"identifier":"assertFinite","moduleName":["Test","Lattice","TestHelpers"]}},"annotation":{"meta":null,"sourceSpan":{"end":[51,56],"start":[51,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[51,43],"start":[51,23]}},"type":"Var","value":{"identifier":"calculateInverseMass","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[51,51],"start":[51,23]}},"argument":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[51,51],"start":[51,44]}},"type":"Var","value":{"identifier":"Dynamic","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[51,55],"start":[51,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[51,55],"start":[51,52]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[51,56],"start":[47,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[51,56],"start":[47,7]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[56,58],"start":[53,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[53,62],"start":[53,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[53,62],"start":[53,10]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"BUG #5 FIXED: kinematic body with mass=0 returns 1"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[56,58],"start":[53,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[55,61],"start":[55,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[55,61],"start":[55,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[55,29],"start":[55,9]}},"type":"Var","value":{"identifier":"calculateInverseMass","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[55,39],"start":[55,9]}},"argument":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[55,39],"start":[55,30]}},"type":"Var","value":{"identifier":"Kinematic","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[55,43],"start":[55,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[55,43],"start":[55,40]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[55,61],"start":[55,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[55,61],"start":[55,58]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[55,61],"start":[55,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[55,61],"start":[55,9]}},"argument":"$__unused","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[56,21],"start":[56,9]}},"type":"Var","value":{"identifier":"assertFinite","moduleName":["Test","Lattice","TestHelpers"]}},"annotation":{"meta":null,"sourceSpan":{"end":[56,58],"start":[56,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[56,43],"start":[56,23]}},"type":"Var","value":{"identifier":"calculateInverseMass","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[56,53],"start":[56,23]}},"argument":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[56,53],"start":[56,44]}},"type":"Var","value":{"identifier":"Kinematic","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[56,57],"start":[56,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[56,57],"start":[56,54]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[56,58],"start":[53,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[56,58],"start":[53,7]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[76,33],"start":[58,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[58,59],"start":[58,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[58,59],"start":[58,10]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"inverse mass is always finite for any body type"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[76,33],"start":[58,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[66,50],"start":[59,9]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[66,50],"start":[66,11]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[66,50],"start":[66,20]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[66,25],"start":[66,22]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},{"annotation":{"meta":null,"sourceSpan":{"end":[66,30],"start":[66,27]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.1}},{"annotation":{"meta":null,"sourceSpan":{"end":[66,35],"start":[66,32]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},{"annotation":{"meta":null,"sourceSpan":{"end":[66,41],"start":[66,37]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":10}},{"annotation":{"meta":null,"sourceSpan":{"end":[66,48],"start":[66,43]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":100}}]}},"identifier":"masses"},{"annotation":{"meta":null,"sourceSpan":{"end":[65,14],"start":[60,11]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[65,14],"start":[61,13]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[61,20],"start":[61,15]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[61,29],"start":[61,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[61,29],"start":[61,21]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"static"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[61,36],"start":[61,15]}},"argument":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[61,36],"start":[61,30]}},"type":"Var","value":{"identifier":"Static","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"type":"App"},{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[62,20],"start":[62,15]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[62,27],"start":[62,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[62,27],"start":[62,21]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"dead"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[62,32],"start":[62,15]}},"argument":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[62,32],"start":[62,28]}},"type":"Var","value":{"identifier":"Dead","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"type":"App"},{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[63,20],"start":[63,15]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[63,30],"start":[63,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[63,30],"start":[63,21]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"dynamic"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[63,38],"start":[63,15]}},"argument":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[63,38],"start":[63,31]}},"type":"Var","value":{"identifier":"Dynamic","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"type":"App"},{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[64,20],"start":[64,15]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[64,32],"start":[64,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[64,32],"start":[64,21]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"kinematic"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[64,42],"start":[64,15]}},"argument":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[64,42],"start":[64,33]}},"type":"Var","value":{"identifier":"Kinematic","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"type":"App"}]}},"identifier":"bodyTypes"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"for_","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[67,23],"start":[67,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[67,23],"start":[67,14]}},"type":"Var","value":{"identifier":"bodyTypes","sourcePos":[60,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[76,33],"start":[67,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[76,33],"start":[67,24]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[76,33],"start":[67,24]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[67,42],"start":[67,26]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[67,33],"start":[67,32]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[67,42],"start":[67,34]}},"binderType":"VarBinder","identifier":"bodyType"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"for_","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[68,22],"start":[68,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[68,22],"start":[68,16]}},"type":"Var","value":{"identifier":"masses","sourcePos":[66,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[76,33],"start":[68,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[76,33],"start":[68,23]}},"argument":"mass","body":{"annotation":{"meta":null,"sourceSpan":{"end":[69,60],"start":[69,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[69,60],"start":[69,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[69,46],"start":[69,26]}},"type":"Var","value":{"identifier":"calculateInverseMass","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[69,55],"start":[69,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[69,55],"start":[69,47]}},"type":"Var","value":{"identifier":"bodyType","sourcePos":[67,34]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[69,60],"start":[69,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[69,60],"start":[69,56]}},"type":"Var","value":{"identifier":"mass","sourcePos":[68,24]}},"type":"App"},"identifier":"result"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[76,33],"start":[70,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[71,21],"start":[71,15]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Static","moduleName":["Test","Lattice","Services","PhysicsEngine"]},"typeName":{"identifier":"BodyType","moduleName":["Test","Lattice","Services","PhysicsEngine"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[71,49],"start":[71,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[71,31],"start":[71,25]}},"type":"Var","value":{"identifier":"result","sourcePos":[69,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[71,49],"start":[71,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[71,49],"start":[71,46]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[72,19],"start":[72,15]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Dead","moduleName":["Test","Lattice","Services","PhysicsEngine"]},"typeName":{"identifier":"BodyType","moduleName":["Test","Lattice","Services","PhysicsEngine"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[72,47],"start":[72,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[72,29],"start":[72,23]}},"type":"Var","value":{"identifier":"result","sourcePos":[69,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[72,47],"start":[72,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[72,47],"start":[72,44]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[73,16],"start":[73,15]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[76,33],"start":[74,17]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[76,33],"start":[74,17]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[75,36],"start":[75,24]}},"type":"Var","value":{"identifier":"assertFinite","moduleName":["Test","Lattice","TestHelpers"]}},"annotation":{"meta":null,"sourceSpan":{"end":[75,43],"start":[75,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,43],"start":[75,37]}},"type":"Var","value":{"identifier":"result","sourcePos":[69,17]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[76,33],"start":[74,17]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[76,33],"start":[76,24]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[76,33],"start":[76,29]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[74,30],"start":[74,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[74,24],"start":[74,20]}},"type":"Var","value":{"identifier":"mass","sourcePos":[68,24]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[74,30],"start":[74,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[74,30],"start":[74,27]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[70,26],"start":[70,18]}},"type":"Var","value":{"identifier":"bodyType","sourcePos":[67,34]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[76,33],"start":[58,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[76,33],"start":[58,7]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[78,55],"start":[78,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[78,55],"start":[78,10]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"NaN mass falls back to 1 for dynamic bodies"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[80,63],"start":[78,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[79,66],"start":[79,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[79,66],"start":[79,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[79,29],"start":[79,9]}},"type":"Var","value":{"identifier":"calculateInverseMass","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[79,37],"start":[79,9]}},"argument":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[79,37],"start":[79,30]}},"type":"Var","value":{"identifier":"Dynamic","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[79,48],"start":[79,9]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[79,48],"start":[79,38]}},"type":"Var","value":{"identifier":"nan","moduleName":["Data","Number"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[79,66],"start":[79,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[79,66],"start":[79,63]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[79,66],"start":[79,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[79,66],"start":[79,9]}},"argument":"$__unused","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[80,21],"start":[80,9]}},"type":"Var","value":{"identifier":"assertFinite","moduleName":["Test","Lattice","TestHelpers"]}},"annotation":{"meta":null,"sourceSpan":{"end":[80,63],"start":[80,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[80,43],"start":[80,23]}},"type":"Var","value":{"identifier":"calculateInverseMass","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"annotation":{"meta":null,"sourceSpan":{"end":[80,51],"start":[80,23]}},"argument":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[80,51],"start":[80,44]}},"type":"Var","value":{"identifier":"Dynamic","moduleName":["Test","Lattice","Services","PhysicsEngine"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[80,62],"start":[80,23]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[80,62],"start":[80,52]}},"type":"Var","value":{"identifier":"nan","moduleName":["Data","Number"]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"type":"App"},"identifier":"spec"}],"exports":["spec"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[80,63],"start":[6,1]}},"moduleName":["Control","Applicative"]},{"annotation":{"meta":null,"sourceSpan":{"end":[80,63],"start":[6,1]}},"moduleName":["Control","Bind"]},{"annotation":{"meta":null,"sourceSpan":{"end":[80,63],"start":[6,1]}},"moduleName":["Data","Boolean"]},{"annotation":{"meta":null,"sourceSpan":{"end":[80,63],"start":[6,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[80,63],"start":[6,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[80,63],"start":[6,1]}},"moduleName":["Data","Foldable"]},{"annotation":{"meta":null,"sourceSpan":{"end":[80,63],"start":[6,1]}},"moduleName":["Data","HeytingAlgebra"]},{"annotation":{"meta":null,"sourceSpan":{"end":[80,63],"start":[6,1]}},"moduleName":["Data","Identity"]},{"annotation":{"meta":null,"sourceSpan":{"end":[80,63],"start":[6,1]}},"moduleName":["Data","Number"]},{"annotation":{"meta":null,"sourceSpan":{"end":[80,63],"start":[6,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[80,63],"start":[6,1]}},"moduleName":["Data","Show"]},{"annotation":{"meta":null,"sourceSpan":{"end":[80,63],"start":[6,1]}},"moduleName":["Data","Tuple"]},{"annotation":{"meta":null,"sourceSpan":{"end":[80,63],"start":[6,1]}},"moduleName":["Data","Unit"]},{"annotation":{"meta":null,"sourceSpan":{"end":[80,63],"start":[6,1]}},"moduleName":["Effect","Aff"]},{"annotation":{"meta":null,"sourceSpan":{"end":[8,15],"start":[8,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[80,63],"start":[6,1]}},"moduleName":["Prim"]},{"annotation":{"meta":null,"sourceSpan":{"end":[80,63],"start":[6,1]}},"moduleName":["Test","Lattice","Services","PhysicsEngine"]},{"annotation":{"meta":null,"sourceSpan":{"end":[80,63],"start":[6,1]}},"moduleName":["Test","Lattice","TestHelpers"]},{"annotation":{"meta":null,"sourceSpan":{"end":[80,63],"start":[6,1]}},"moduleName":["Test","Spec"]},{"annotation":{"meta":null,"sourceSpan":{"end":[80,63],"start":[6,1]}},"moduleName":["Test","Spec","Assertions"]}],"moduleName":["Test","Lattice","Services","PhysicsEngine"],"modulePath":"test/Lattice/Services/PhysicsEngine.purs","reExports":{},"sourceSpan":{"end":[80,63],"start":[6,1]}}