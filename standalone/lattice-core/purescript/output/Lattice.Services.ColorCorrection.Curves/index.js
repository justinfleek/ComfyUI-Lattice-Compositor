// Generated by purs version 0.15.15
import * as $$Math from "../Math/index.js";
var segmentParameter = function (value) {
    return function (segmentStart) {
        return function (segmentEnd) {
            var range = segmentEnd - segmentStart;
            var $5 = range < 1.0e-4;
            if ($5) {
                return 0.0;
            };
            return $$Math.max(0.0)($$Math.min(1.0)((value - segmentStart) / range));
        };
    };
};
var identityCurve = [ {
    x: 0.0,
    y: 0.0
}, {
    x: 255.0,
    y: 255.0
} ];
var cubicBezier = function (p0) {
    return function (p1) {
        return function (p2) {
            return function (p3) {
                return function (t) {
                    var t2 = t * t;
                    var t3 = t2 * t;
                    var mt = 1.0 - t;
                    var mt2 = mt * mt;
                    var mt3 = mt2 * mt;
                    return mt3 * p0 + 3.0 * mt2 * t * p1 + 3.0 * mt * t2 * p2 + t3 * p3;
                };
            };
        };
    };
};
var createSCurve = function (amount) {
    var adjustment = amount * 50.0;
    return [ {
        x: 0.0,
        y: 0.0
    }, {
        x: 64.0,
        y: $$Math.max(0.0)(64.0 - adjustment)
    }, {
        x: 128.0,
        y: 128.0
    }, {
        x: 192.0,
        y: $$Math.min(255.0)(192.0 + adjustment)
    }, {
        x: 255.0,
        y: 255.0
    } ];
};
var createLiftCurve = function (shadowLift) {
    return function (highlightLift) {
        return [ {
            x: 0.0,
            y: $$Math.max(0.0)($$Math.min(128.0)(shadowLift))
        }, {
            x: 128.0,
            y: 128.0
        }, {
            x: 255.0,
            y: $$Math.max(128.0)($$Math.min(255.0)(255.0 + highlightLift))
        } ];
    };
};
var clampToUint8 = function (value) {
    return $$Math.round($$Math.max(0.0)($$Math.min(255.0)(value)));
};
var catmullRomTangent = function (prevY) {
    return function (prevX) {
        return function (nextY) {
            return function (nextX) {
                return function (segmentWidth) {
                    var dx = nextX - prevX;
                    var $6 = dx < 1.0e-4;
                    if ($6) {
                        return 0.0;
                    };
                    return ((nextY - prevY) / dx) * segmentWidth;
                };
            };
        };
    };
};
var evaluateCurveSegment = function (p0x) {
    return function (p0y) {
        return function (p1x) {
            return function (p1y) {
                return function (hasPrev) {
                    return function (prevX) {
                        return function (prevY) {
                            return function (hasNext) {
                                return function (nextX) {
                                    return function (nextY) {
                                        return function (t) {
                                            var segWidth = p1x - p0x;
                                            var tangent0 = (function () {
                                                if (hasPrev) {
                                                    return catmullRomTangent(prevY)(prevX)(p1y)(p1x)(segWidth);
                                                };
                                                return 0.0;
                                            })();
                                            var tangent1 = (function () {
                                                if (hasNext) {
                                                    return catmullRomTangent(p0y)(p0x)(nextY)(nextX)(segWidth);
                                                };
                                                return 0.0;
                                            })();
                                            var cp2y = p1y - tangent1 / 3.0;
                                            var cp1y = p0y + tangent0 / 3.0;
                                            var result = cubicBezier(p0y)(cp1y)(cp2y)(p1y)(t);
                                            return $$Math.max(0.0)($$Math.min(255.0)(result));
                                        };
                                    };
                                };
                            };
                        };
                    };
                };
            };
        };
    };
};
export {
    cubicBezier,
    catmullRomTangent,
    segmentParameter,
    evaluateCurveSegment,
    createSCurve,
    createLiftCurve,
    identityCurve,
    clampToUint8
};
//# sourceMappingURL=index.js.map
