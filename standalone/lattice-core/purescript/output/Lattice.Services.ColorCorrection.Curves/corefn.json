{"builtWith":"0.15.15","comments":[{"LineComment":" | Lattice.Services.ColorCorrection.Curves - Curve Interpolation Functions"},{"LineComment":" |"},{"LineComment":" | Pure mathematical functions for curve-based color adjustment:"},{"LineComment":" | - Cubic Bezier evaluation"},{"LineComment":" | - Catmull-Rom tangent calculation"},{"LineComment":" | - S-curve generation"},{"LineComment":" | - Lift curve generation"},{"LineComment":" |"},{"LineComment":" | All functions are total and deterministic."},{"LineComment":" |"},{"LineComment":" | Source: ui/src/services/effects/colorRenderer.ts (lines 468-705)"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[73,27],"start":[73,26]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[73,40],"start":[73,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[74,16],"start":[74,15]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[74,23],"start":[74,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[75,53],"start":[75,52]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[75,59],"start":[75,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[48,15],"start":[48,14]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[48,17],"start":[48,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[53,58],"start":[53,57]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[53,66],"start":[53,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[71,57],"start":[71,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[71,57],"start":[71,1]}},"argument":"value","body":{"annotation":{"meta":null,"sourceSpan":{"end":[71,57],"start":[71,1]}},"argument":"segmentStart","body":{"annotation":{"meta":null,"sourceSpan":{"end":[71,57],"start":[71,1]}},"argument":"segmentEnd","body":{"annotation":{"meta":null,"sourceSpan":{"end":[75,61],"start":[73,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[73,40],"start":[73,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[73,40],"start":[73,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[73,25],"start":[73,15]}},"type":"Var","value":{"identifier":"segmentEnd","sourcePos":[72,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[73,40],"start":[73,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[73,40],"start":[73,28]}},"type":"Var","value":{"identifier":"segmentStart","sourcePos":[72,1]}},"type":"App"},"identifier":"range"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[75,61],"start":[74,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[75,61],"start":[74,6]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[74,32],"start":[74,29]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[75,61],"start":[74,6]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[75,14],"start":[75,11]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[75,18],"start":[75,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,18],"start":[75,15]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[75,61],"start":[75,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[75,23],"start":[75,20]}},"type":"Var","value":{"identifier":"min","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[75,27],"start":[75,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,27],"start":[75,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[75,60],"start":[75,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[75,59],"start":[75,29]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[75,50],"start":[75,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,35],"start":[75,30]}},"type":"Var","value":{"identifier":"value","sourcePos":[72,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[75,50],"start":[75,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,50],"start":[75,38]}},"type":"Var","value":{"identifier":"segmentStart","sourcePos":[72,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[75,59],"start":[75,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,59],"start":[75,54]}},"type":"Var","value":{"identifier":"range","sourcePos":[73,7]}},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[74,23],"start":[74,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[74,14],"start":[74,9]}},"type":"Var","value":{"identifier":"range","sourcePos":[73,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[74,23],"start":[74,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[74,23],"start":[74,17]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-4}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"segmentParameter"},{"annotation":{"meta":null,"sourceSpan":{"end":[119,34],"start":[119,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[120,61],"start":[120,17]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[120,36],"start":[120,18]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[120,26],"start":[120,23]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[120,34],"start":[120,31]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}},{"annotation":{"meta":null,"sourceSpan":{"end":[120,60],"start":[120,38]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[120,48],"start":[120,43]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":255}}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[120,58],"start":[120,53]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":255}}]]}}]}},"identifier":"identityCurve"},{"annotation":{"meta":null,"sourceSpan":{"end":[46,72],"start":[46,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[46,72],"start":[46,1]}},"argument":"p0","body":{"annotation":{"meta":null,"sourceSpan":{"end":[46,72],"start":[46,1]}},"argument":"p1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[46,72],"start":[46,1]}},"argument":"p2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[46,72],"start":[46,1]}},"argument":"p3","body":{"annotation":{"meta":null,"sourceSpan":{"end":[46,72],"start":[46,1]}},"argument":"t","body":{"annotation":{"meta":null,"sourceSpan":{"end":[53,66],"start":[48,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[48,17],"start":[48,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[48,17],"start":[48,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[48,13],"start":[48,12]}},"type":"Var","value":{"identifier":"t","sourcePos":[47,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[48,17],"start":[48,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[48,17],"start":[48,16]}},"type":"Var","value":{"identifier":"t","sourcePos":[47,1]}},"type":"App"},"identifier":"t2"},{"annotation":{"meta":null,"sourceSpan":{"end":[49,18],"start":[49,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[49,18],"start":[49,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[49,14],"start":[49,12]}},"type":"Var","value":{"identifier":"t2","sourcePos":[48,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[49,18],"start":[49,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[49,18],"start":[49,17]}},"type":"Var","value":{"identifier":"t","sourcePos":[47,1]}},"type":"App"},"identifier":"t3"},{"annotation":{"meta":null,"sourceSpan":{"end":[50,19],"start":[50,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[50,19],"start":[50,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[50,15],"start":[50,12]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[50,19],"start":[50,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[50,19],"start":[50,18]}},"type":"Var","value":{"identifier":"t","sourcePos":[47,1]}},"type":"App"},"identifier":"mt"},{"annotation":{"meta":null,"sourceSpan":{"end":[51,20],"start":[51,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[51,20],"start":[51,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[51,15],"start":[51,13]}},"type":"Var","value":{"identifier":"mt","sourcePos":[50,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[51,20],"start":[51,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[51,20],"start":[51,18]}},"type":"Var","value":{"identifier":"mt","sourcePos":[50,7]}},"type":"App"},"identifier":"mt2"},{"annotation":{"meta":null,"sourceSpan":{"end":[52,21],"start":[52,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[52,21],"start":[52,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[52,16],"start":[52,13]}},"type":"Var","value":{"identifier":"mt2","sourcePos":[51,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[52,21],"start":[52,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[52,21],"start":[52,19]}},"type":"Var","value":{"identifier":"mt","sourcePos":[50,7]}},"type":"App"},"identifier":"mt3"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[53,66],"start":[53,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[53,66],"start":[53,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[53,66],"start":[53,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[53,66],"start":[53,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[53,9],"start":[53,6]}},"type":"Var","value":{"identifier":"mt3","sourcePos":[52,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[53,66],"start":[53,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[53,14],"start":[53,12]}},"type":"Var","value":{"identifier":"p0","sourcePos":[47,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[53,66],"start":[53,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[53,66],"start":[53,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[53,66],"start":[53,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[53,66],"start":[53,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[53,20],"start":[53,17]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":3}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[53,66],"start":[53,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[53,26],"start":[53,23]}},"type":"Var","value":{"identifier":"mt2","sourcePos":[51,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[53,66],"start":[53,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[53,30],"start":[53,29]}},"type":"Var","value":{"identifier":"t","sourcePos":[47,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[53,66],"start":[53,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[53,35],"start":[53,33]}},"type":"Var","value":{"identifier":"p1","sourcePos":[47,1]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[53,66],"start":[53,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[53,66],"start":[53,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[53,66],"start":[53,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[53,66],"start":[53,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[53,41],"start":[53,38]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":3}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[53,66],"start":[53,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[53,46],"start":[53,44]}},"type":"Var","value":{"identifier":"mt","sourcePos":[50,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[53,66],"start":[53,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[53,51],"start":[53,49]}},"type":"Var","value":{"identifier":"t2","sourcePos":[48,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[53,66],"start":[53,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[53,56],"start":[53,54]}},"type":"Var","value":{"identifier":"p2","sourcePos":[47,1]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[53,66],"start":[53,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[53,66],"start":[53,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[53,61],"start":[53,59]}},"type":"Var","value":{"identifier":"t3","sourcePos":[49,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[53,66],"start":[53,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[53,66],"start":[53,64]}},"type":"Var","value":{"identifier":"p3","sourcePos":[47,1]}},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"cubicBezier"},{"annotation":{"meta":null,"sourceSpan":{"end":[99,43],"start":[99,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[99,43],"start":[99,1]}},"argument":"amount","body":{"annotation":{"meta":null,"sourceSpan":{"end":[108,7],"start":[101,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[101,23],"start":[101,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[101,23],"start":[101,18]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":128}},"identifier":"midPoint"},{"annotation":{"meta":null,"sourceSpan":{"end":[102,33],"start":[102,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,33],"start":[102,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,26],"start":[102,20]}},"type":"Var","value":{"identifier":"amount","sourcePos":[100,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[102,33],"start":[102,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,33],"start":[102,29]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":50}},"type":"App"},"identifier":"adjustment"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[108,7],"start":[103,6]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[103,28],"start":[103,8]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[103,16],"start":[103,13]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[103,26],"start":[103,23]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}},{"annotation":{"meta":null,"sourceSpan":{"end":[104,52],"start":[104,8]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[104,17],"start":[104,13]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":64}}],["y",{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[104,26],"start":[104,23]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[104,30],"start":[104,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,30],"start":[104,27]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[104,50],"start":[104,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[104,49],"start":[104,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,36],"start":[104,32]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":64}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[104,49],"start":[104,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,49],"start":[104,39]}},"type":"Var","value":{"identifier":"adjustment","sourcePos":[102,7]}},"type":"App"},"type":"App"}]]}},{"annotation":{"meta":null,"sourceSpan":{"end":[105,36],"start":[105,8]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[105,21],"start":[105,13]}},"type":"Var","value":{"identifier":"midPoint","sourcePos":[101,7]}}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[105,34],"start":[105,26]}},"type":"Var","value":{"identifier":"midPoint","sourcePos":[101,7]}}]]}},{"annotation":{"meta":null,"sourceSpan":{"end":[106,55],"start":[106,8]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[106,18],"start":[106,13]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":192}}],["y",{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[106,26],"start":[106,23]}},"type":"Var","value":{"identifier":"min","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[106,32],"start":[106,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[106,32],"start":[106,27]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":255}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[106,53],"start":[106,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[106,52],"start":[106,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[106,39],"start":[106,34]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":192}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[106,52],"start":[106,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[106,52],"start":[106,42]}},"type":"Var","value":{"identifier":"adjustment","sourcePos":[102,7]}},"type":"App"},"type":"App"}]]}},{"annotation":{"meta":null,"sourceSpan":{"end":[107,30],"start":[107,8]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[107,18],"start":[107,13]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":255}}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[107,28],"start":[107,23]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":255}}]]}}]}},"type":"Let"},"type":"Abs"},"identifier":"createSCurve"},{"annotation":{"meta":null,"sourceSpan":{"end":[111,56],"start":[111,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[111,56],"start":[111,1]}},"argument":"shadowLift","body":{"annotation":{"meta":null,"sourceSpan":{"end":[111,56],"start":[111,1]}},"argument":"highlightLift","body":{"annotation":{"meta":null,"sourceSpan":{"end":[116,4],"start":[113,3]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[113,52],"start":[113,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[113,13],"start":[113,10]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["y",{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[113,23],"start":[113,20]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[113,27],"start":[113,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[113,27],"start":[113,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[113,50],"start":[113,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[113,32],"start":[113,29]}},"type":"Var","value":{"identifier":"min","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[113,38],"start":[113,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[113,38],"start":[113,33]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":128}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[113,49],"start":[113,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[113,49],"start":[113,39]}},"type":"Var","value":{"identifier":"shadowLift","sourcePos":[112,1]}},"type":"App"},"type":"App"}]]}},{"annotation":{"meta":null,"sourceSpan":{"end":[114,27],"start":[114,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[114,15],"start":[114,10]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":128}}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[114,25],"start":[114,20]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":128}}]]}},{"annotation":{"meta":null,"sourceSpan":{"end":[115,67],"start":[115,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[115,15],"start":[115,10]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":255}}],["y",{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[115,23],"start":[115,20]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[115,29],"start":[115,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,29],"start":[115,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":128}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[115,65],"start":[115,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[115,34],"start":[115,31]}},"type":"Var","value":{"identifier":"min","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[115,40],"start":[115,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,40],"start":[115,35]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":255}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[115,64],"start":[115,31]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[115,63],"start":[115,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,47],"start":[115,42]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":255}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[115,63],"start":[115,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,63],"start":[115,50]}},"type":"Var","value":{"identifier":"highlightLift","sourcePos":[112,1]}},"type":"App"},"type":"App"},"type":"App"}]]}}]}},"type":"Abs"},"type":"Abs"},"identifier":"createLiftCurve"},{"annotation":{"meta":null,"sourceSpan":{"end":[127,33],"start":[127,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[127,33],"start":[127,1]}},"argument":"value","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[128,27],"start":[128,22]}},"type":"Var","value":{"identifier":"round","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[128,55],"start":[128,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[128,32],"start":[128,29]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[128,36],"start":[128,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[128,36],"start":[128,33]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[128,54],"start":[128,29]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[128,41],"start":[128,38]}},"type":"Var","value":{"identifier":"min","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[128,47],"start":[128,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[128,47],"start":[128,42]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":255}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[128,53],"start":[128,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[128,53],"start":[128,48]}},"type":"Var","value":{"identifier":"value","sourcePos":[128,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"clampToUint8"},{"annotation":{"meta":null,"sourceSpan":{"end":[60,78],"start":[60,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[60,78],"start":[60,1]}},"argument":"prevY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[60,78],"start":[60,1]}},"argument":"prevX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[60,78],"start":[60,1]}},"argument":"nextY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[60,78],"start":[60,1]}},"argument":"nextX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[60,78],"start":[60,1]}},"argument":"segmentWidth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[64,48],"start":[62,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[62,25],"start":[62,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[62,25],"start":[62,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[62,17],"start":[62,12]}},"type":"Var","value":{"identifier":"nextX","sourcePos":[61,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[62,25],"start":[62,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[62,25],"start":[62,20]}},"type":"Var","value":{"identifier":"prevX","sourcePos":[61,1]}},"type":"App"},"identifier":"dx"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[64,48],"start":[63,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[64,48],"start":[63,6]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[63,29],"start":[63,26]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[64,48],"start":[63,6]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[64,48],"start":[64,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[64,32],"start":[64,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[64,26],"start":[64,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[64,18],"start":[64,13]}},"type":"Var","value":{"identifier":"nextY","sourcePos":[61,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[64,26],"start":[64,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[64,26],"start":[64,21]}},"type":"Var","value":{"identifier":"prevY","sourcePos":[61,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[64,32],"start":[64,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[64,32],"start":[64,30]}},"type":"Var","value":{"identifier":"dx","sourcePos":[62,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[64,48],"start":[64,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[64,48],"start":[64,36]}},"type":"Var","value":{"identifier":"segmentWidth","sourcePos":[61,1]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[63,20],"start":[63,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[63,11],"start":[63,9]}},"type":"Var","value":{"identifier":"dx","sourcePos":[62,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[63,20],"start":[63,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[63,20],"start":[63,14]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-4}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"catmullRomTangent"},{"annotation":{"meta":null,"sourceSpan":{"end":[80,41],"start":[78,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[80,41],"start":[78,1]}},"argument":"p0x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[80,41],"start":[78,1]}},"argument":"p0y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[80,41],"start":[78,1]}},"argument":"p1x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[80,41],"start":[78,1]}},"argument":"p1y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[80,41],"start":[78,1]}},"argument":"hasPrev","body":{"annotation":{"meta":null,"sourceSpan":{"end":[80,41],"start":[78,1]}},"argument":"prevX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[80,41],"start":[78,1]}},"argument":"prevY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[80,41],"start":[78,1]}},"argument":"hasNext","body":{"annotation":{"meta":null,"sourceSpan":{"end":[80,41],"start":[78,1]}},"argument":"nextX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[80,41],"start":[78,1]}},"argument":"nextY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[80,41],"start":[78,1]}},"argument":"t","body":{"annotation":{"meta":null,"sourceSpan":{"end":[92,32],"start":[82,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[82,27],"start":[82,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[82,27],"start":[82,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[82,21],"start":[82,18]}},"type":"Var","value":{"identifier":"p1x","sourcePos":[81,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[82,27],"start":[82,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[82,27],"start":[82,24]}},"type":"Var","value":{"identifier":"p0x","sourcePos":[81,1]}},"type":"App"},"identifier":"segWidth"},{"annotation":{"meta":null,"sourceSpan":{"end":[85,26],"start":[83,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[85,26],"start":[83,18]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[85,26],"start":[83,18]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[84,40],"start":[84,23]}},"type":"Var","value":{"identifier":"catmullRomTangent","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[84,46],"start":[84,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[84,46],"start":[84,41]}},"type":"Var","value":{"identifier":"prevY","sourcePos":[81,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[84,52],"start":[84,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[84,52],"start":[84,47]}},"type":"Var","value":{"identifier":"prevX","sourcePos":[81,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[84,56],"start":[84,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[84,56],"start":[84,53]}},"type":"Var","value":{"identifier":"p1y","sourcePos":[81,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[84,60],"start":[84,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[84,60],"start":[84,57]}},"type":"Var","value":{"identifier":"p1x","sourcePos":[81,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[84,69],"start":[84,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[84,69],"start":[84,61]}},"type":"Var","value":{"identifier":"segWidth","sourcePos":[82,7]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[85,26],"start":[83,18]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[85,26],"start":[85,23]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[83,28],"start":[83,21]}},"type":"Var","value":{"identifier":"hasPrev","sourcePos":[81,1]}}],"type":"Case"},"identifier":"tangent0"},{"annotation":{"meta":null,"sourceSpan":{"end":[88,26],"start":[86,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[88,26],"start":[86,18]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[88,26],"start":[86,18]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[87,40],"start":[87,23]}},"type":"Var","value":{"identifier":"catmullRomTangent","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[87,44],"start":[87,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[87,44],"start":[87,41]}},"type":"Var","value":{"identifier":"p0y","sourcePos":[81,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[87,48],"start":[87,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[87,48],"start":[87,45]}},"type":"Var","value":{"identifier":"p0x","sourcePos":[81,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[87,54],"start":[87,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[87,54],"start":[87,49]}},"type":"Var","value":{"identifier":"nextY","sourcePos":[81,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[87,60],"start":[87,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[87,60],"start":[87,55]}},"type":"Var","value":{"identifier":"nextX","sourcePos":[81,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[87,69],"start":[87,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[87,69],"start":[87,61]}},"type":"Var","value":{"identifier":"segWidth","sourcePos":[82,7]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[88,26],"start":[86,18]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[88,26],"start":[88,23]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[86,28],"start":[86,21]}},"type":"Var","value":{"identifier":"hasNext","sourcePos":[81,1]}}],"type":"Case"},"identifier":"tangent1"},{"annotation":{"meta":null,"sourceSpan":{"end":[90,34],"start":[90,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[90,34],"start":[90,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[90,17],"start":[90,14]}},"type":"Var","value":{"identifier":"p1y","sourcePos":[81,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[90,34],"start":[90,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[90,34],"start":[90,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[90,28],"start":[90,20]}},"type":"Var","value":{"identifier":"tangent1","sourcePos":[86,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[90,34],"start":[90,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[90,34],"start":[90,31]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":3}},"type":"App"},"type":"App"},"identifier":"cp2y"},{"annotation":{"meta":null,"sourceSpan":{"end":[89,34],"start":[89,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[89,34],"start":[89,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[89,17],"start":[89,14]}},"type":"Var","value":{"identifier":"p0y","sourcePos":[81,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[89,34],"start":[89,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[89,34],"start":[89,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[89,28],"start":[89,20]}},"type":"Var","value":{"identifier":"tangent0","sourcePos":[83,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[89,34],"start":[89,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[89,34],"start":[89,31]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":3}},"type":"App"},"type":"App"},"identifier":"cp1y"},{"annotation":{"meta":null,"sourceSpan":{"end":[91,47],"start":[91,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[91,27],"start":[91,16]}},"type":"Var","value":{"identifier":"cubicBezier","moduleName":["Lattice","Services","ColorCorrection","Curves"]}},"annotation":{"meta":null,"sourceSpan":{"end":[91,31],"start":[91,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[91,31],"start":[91,28]}},"type":"Var","value":{"identifier":"p0y","sourcePos":[81,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[91,36],"start":[91,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[91,36],"start":[91,32]}},"type":"Var","value":{"identifier":"cp1y","sourcePos":[89,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[91,41],"start":[91,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[91,41],"start":[91,37]}},"type":"Var","value":{"identifier":"cp2y","sourcePos":[90,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[91,45],"start":[91,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[91,45],"start":[91,42]}},"type":"Var","value":{"identifier":"p1y","sourcePos":[81,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[91,47],"start":[91,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[91,47],"start":[91,46]}},"type":"Var","value":{"identifier":"t","sourcePos":[81,1]}},"type":"App"},"identifier":"result"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[92,9],"start":[92,6]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[92,13],"start":[92,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[92,13],"start":[92,10]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[92,32],"start":[92,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[92,18],"start":[92,15]}},"type":"Var","value":{"identifier":"min","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[92,24],"start":[92,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[92,24],"start":[92,19]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":255}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[92,31],"start":[92,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[92,31],"start":[92,25]}},"type":"Var","value":{"identifier":"result","sourcePos":[91,7]}},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"evaluateCurveSegment"}],"exports":["cubicBezier","catmullRomTangent","segmentParameter","evaluateCurveSegment","createSCurve","createLiftCurve","identityCurve","clampToUint8"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[128,55],"start":[13,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[128,55],"start":[13,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[128,55],"start":[13,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[128,55],"start":[13,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[128,55],"start":[13,1]}},"moduleName":["Lattice","Services","ColorCorrection","Curves"]},{"annotation":{"meta":null,"sourceSpan":{"end":[128,55],"start":[13,1]}},"moduleName":["Math"]},{"annotation":{"meta":null,"sourceSpan":{"end":[25,15],"start":[25,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[128,55],"start":[13,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","ColorCorrection","Curves"],"modulePath":"src/Lattice/Services/ColorCorrection/Curves.purs","reExports":{},"sourceSpan":{"end":[128,55],"start":[13,1]}}