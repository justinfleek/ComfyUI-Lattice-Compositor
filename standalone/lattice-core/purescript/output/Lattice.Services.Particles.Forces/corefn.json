{"builtWith":"0.15.15","comments":[{"LineComment":" | Lattice.Services.Particles.Forces - Particle Force Field Calculations"},{"LineComment":" |"},{"LineComment":" | Pure mathematical functions for particle force fields:"},{"LineComment":" | - Gravity wells with falloff (linear, quadratic, constant)"},{"LineComment":" | - Vortex fields with tangential force and inward pull"},{"LineComment":" | - Lorenz strange attractor (2D approximation)"},{"LineComment":" | - Wind force from direction/strength"},{"LineComment":" | - Friction damping"},{"LineComment":" |"},{"LineComment":" | All functions operate on normalized coordinates (0-1) and return"},{"LineComment":" | velocity deltas to be applied to particles."},{"LineComment":" |"},{"LineComment":" | Source: ui/src/services/particleSystem.ts"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[221,33],"start":[221,32]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[221,39],"start":[221,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[221,28],"start":[221,27]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[221,39],"start":[221,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[110,24],"start":[110,23]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[110,28],"start":[110,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[162,22],"start":[162,21]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[162,25],"start":[162,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[164,33],"start":[164,31]}},"type":"Var","value":{"identifier":"disj","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[164,47],"start":[164,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"disj"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[164,16],"start":[164,14]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[164,47],"start":[164,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[164,41],"start":[164,39]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[164,47],"start":[164,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[173,23],"start":[173,20]}},"type":"Var","value":{"identifier":"negate","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[173,23],"start":[173,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"negate"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[104,14],"start":[104,13]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[104,21],"start":[104,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[50,21],"start":[47,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[50,21],"start":[47,1]}},"constructorName":"FalloffConstant","fieldNames":[],"type":"Constructor","typeName":"FalloffType"},"identifier":"FalloffConstant"},{"annotation":{"meta":null,"sourceSpan":{"end":[50,21],"start":[47,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[50,21],"start":[47,1]}},"constructorName":"FalloffLinear","fieldNames":[],"type":"Constructor","typeName":"FalloffType"},"identifier":"FalloffLinear"},{"annotation":{"meta":null,"sourceSpan":{"end":[50,21],"start":[47,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[50,21],"start":[47,1]}},"constructorName":"FalloffQuadratic","fieldNames":[],"type":"Constructor","typeName":"FalloffType"},"identifier":"FalloffQuadratic"},{"annotation":{"meta":null,"sourceSpan":{"end":[219,48],"start":[219,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[219,48],"start":[219,1]}},"argument":"direction","body":{"annotation":{"meta":null,"sourceSpan":{"end":[219,48],"start":[219,1]}},"argument":"strength","body":{"annotation":{"meta":null,"sourceSpan":{"end":[219,48],"start":[219,1]}},"argument":"deltaTime","body":{"annotation":{"meta":null,"sourceSpan":{"end":[224,52],"start":[221,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[221,39],"start":[221,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[221,39],"start":[221,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[221,39],"start":[221,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[221,26],"start":[221,17]}},"type":"Var","value":{"identifier":"direction","sourcePos":[220,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[221,39],"start":[221,17]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[221,31],"start":[221,29]}},"type":"Var","value":{"identifier":"pi","moduleName":["Math"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[221,39],"start":[221,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[221,39],"start":[221,34]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":180}},"type":"App"},"identifier":"radians"},{"annotation":{"meta":null,"sourceSpan":{"end":[222,45],"start":[222,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[222,45],"start":[222,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[222,45],"start":[222,15]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[222,18],"start":[222,15]}},"type":"Var","value":{"identifier":"cos","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[222,26],"start":[222,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[222,26],"start":[222,19]}},"type":"Var","value":{"identifier":"radians","sourcePos":[221,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[222,45],"start":[222,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[222,37],"start":[222,29]}},"type":"Var","value":{"identifier":"strength","sourcePos":[220,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[222,45],"start":[222,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[222,45],"start":[222,40]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-3}},"type":"App"},"identifier":"windX"},{"annotation":{"meta":null,"sourceSpan":{"end":[223,45],"start":[223,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[223,45],"start":[223,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[223,45],"start":[223,15]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[223,18],"start":[223,15]}},"type":"Var","value":{"identifier":"sin","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[223,26],"start":[223,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[223,26],"start":[223,19]}},"type":"Var","value":{"identifier":"radians","sourcePos":[221,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[223,45],"start":[223,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[223,37],"start":[223,29]}},"type":"Var","value":{"identifier":"strength","sourcePos":[220,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[223,45],"start":[223,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[223,45],"start":[223,40]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-3}},"type":"App"},"identifier":"windY"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[224,52],"start":[224,6]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[224,28],"start":[224,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[224,16],"start":[224,11]}},"type":"Var","value":{"identifier":"windX","sourcePos":[222,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[224,28],"start":[224,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[224,28],"start":[224,19]}},"type":"Var","value":{"identifier":"deltaTime","sourcePos":[220,1]}},"type":"App"}],["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[224,50],"start":[224,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[224,38],"start":[224,33]}},"type":"Var","value":{"identifier":"windY","sourcePos":[223,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[224,50],"start":[224,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[224,50],"start":[224,41]}},"type":"Var","value":{"identifier":"deltaTime","sourcePos":[220,1]}},"type":"App"}]]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"windForce"},{"annotation":{"meta":null,"sourceSpan":{"end":[113,35],"start":[113,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[113,35],"start":[113,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[113,35],"start":[113,1]}},"argument":"s","body":{"annotation":{"meta":null,"sourceSpan":{"end":[114,42],"start":[114,16]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[114,28],"start":[114,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[114,24],"start":[114,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[114,22],"start":[114,21]}},"type":"Var","value":{"identifier":"v","sourcePos":[114,1]}},"fieldName":"x","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[114,28],"start":[114,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[114,28],"start":[114,27]}},"type":"Var","value":{"identifier":"s","sourcePos":[114,1]}},"type":"App"}],["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[114,40],"start":[114,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[114,36],"start":[114,33]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[114,34],"start":[114,33]}},"type":"Var","value":{"identifier":"v","sourcePos":[114,1]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[114,40],"start":[114,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[114,40],"start":[114,39]}},"type":"Var","value":{"identifier":"s","sourcePos":[114,1]}},"type":"App"}]]}},"type":"Abs"},"type":"Abs"},"identifier":"vecScale"},{"annotation":{"meta":null,"sourceSpan":{"end":[109,31],"start":[109,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[109,31],"start":[109,1]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[109,31],"start":[109,1]}},"argument":"b","body":{"annotation":{"meta":null,"sourceSpan":{"end":[110,44],"start":[110,14]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[110,28],"start":[110,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[110,22],"start":[110,19]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[110,20],"start":[110,19]}},"type":"Var","value":{"identifier":"a","sourcePos":[110,1]}},"fieldName":"x","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[110,28],"start":[110,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[110,28],"start":[110,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[110,26],"start":[110,25]}},"type":"Var","value":{"identifier":"b","sourcePos":[110,1]}},"fieldName":"x","type":"Accessor"},"type":"App"}],["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[110,42],"start":[110,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[110,36],"start":[110,33]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[110,34],"start":[110,33]}},"type":"Var","value":{"identifier":"a","sourcePos":[110,1]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[110,42],"start":[110,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[110,42],"start":[110,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[110,40],"start":[110,39]}},"type":"Var","value":{"identifier":"b","sourcePos":[110,1]}},"fieldName":"y","type":"Accessor"},"type":"App"}]]}},"type":"Abs"},"type":"Abs"},"identifier":"vecAdd"},{"annotation":{"meta":null,"sourceSpan":{"end":[159,60],"start":[159,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[159,60],"start":[159,1]}},"argument":"px","body":{"annotation":{"meta":null,"sourceSpan":{"end":[159,60],"start":[159,1]}},"argument":"py","body":{"annotation":{"meta":null,"sourceSpan":{"end":[159,60],"start":[159,1]}},"argument":"vortex","body":{"annotation":{"meta":null,"sourceSpan":{"end":[159,60],"start":[159,1]}},"argument":"deltaTime","body":{"annotation":{"meta":null,"sourceSpan":{"end":[182,42],"start":[161,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[162,25],"start":[162,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[162,25],"start":[162,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,20],"start":[162,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[162,18],"start":[162,12]}},"type":"Var","value":{"identifier":"vortex","sourcePos":[160,1]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[162,25],"start":[162,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,25],"start":[162,23]}},"type":"Var","value":{"identifier":"py","sourcePos":[160,1]}},"type":"App"},"identifier":"dy"},{"annotation":{"meta":null,"sourceSpan":{"end":[161,25],"start":[161,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[161,25],"start":[161,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[161,20],"start":[161,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[161,18],"start":[161,12]}},"type":"Var","value":{"identifier":"vortex","sourcePos":[160,1]}},"fieldName":"x","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[161,25],"start":[161,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[161,25],"start":[161,23]}},"type":"Var","value":{"identifier":"px","sourcePos":[160,1]}},"type":"App"},"identifier":"dx"},{"annotation":{"meta":null,"sourceSpan":{"end":[163,38],"start":[163,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[163,18],"start":[163,14]}},"type":"Var","value":{"identifier":"sqrt","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[163,38],"start":[163,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[163,37],"start":[163,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[163,37],"start":[163,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,22],"start":[163,20]}},"type":"Var","value":{"identifier":"dx","sourcePos":[161,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[163,37],"start":[163,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,27],"start":[163,25]}},"type":"Var","value":{"identifier":"dx","sourcePos":[161,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[163,37],"start":[163,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[163,37],"start":[163,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,32],"start":[163,30]}},"type":"Var","value":{"identifier":"dy","sourcePos":[162,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[163,37],"start":[163,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,37],"start":[163,35]}},"type":"Var","value":{"identifier":"dy","sourcePos":[162,7]}},"type":"App"},"type":"App"},"type":"App"},"identifier":"dist"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[182,42],"start":[164,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[182,42],"start":[164,6]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[165,29],"start":[165,11]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[165,19],"start":[165,16]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[165,27],"start":[165,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[182,42],"start":[164,6]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[182,42],"start":[167,8]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[171,26],"start":[171,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[171,26],"start":[171,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,19],"start":[171,17]}},"type":"Var","value":{"identifier":"dy","sourcePos":[162,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[171,26],"start":[171,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,26],"start":[171,22]}},"type":"Var","value":{"identifier":"dist","sourcePos":[163,7]}},"type":"App"},"identifier":"ny"},{"annotation":{"meta":null,"sourceSpan":{"end":[173,23],"start":[173,12]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"negate","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[173,23],"start":[173,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[173,23],"start":[173,21]}},"type":"Var","value":{"identifier":"ny","sourcePos":[171,12]}},"type":"App"},"identifier":"perpX"},{"annotation":{"meta":null,"sourceSpan":{"end":[170,26],"start":[170,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[170,26],"start":[170,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,19],"start":[170,17]}},"type":"Var","value":{"identifier":"dx","sourcePos":[161,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[170,26],"start":[170,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,26],"start":[170,22]}},"type":"Var","value":{"identifier":"dist","sourcePos":[163,7]}},"type":"App"},"identifier":"nx"},{"annotation":{"meta":null,"sourceSpan":{"end":[174,22],"start":[174,12]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[174,22],"start":[174,20]}},"type":"Var","value":{"identifier":"nx","sourcePos":[170,12]}},"identifier":"perpY"},{"annotation":{"meta":null,"sourceSpan":{"end":[167,50],"start":[167,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[167,50],"start":[167,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[167,27],"start":[167,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[167,50],"start":[167,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[167,50],"start":[167,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[167,34],"start":[167,30]}},"type":"Var","value":{"identifier":"dist","sourcePos":[163,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[167,50],"start":[167,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[167,50],"start":[167,37]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[167,43],"start":[167,37]}},"type":"Var","value":{"identifier":"vortex","sourcePos":[160,1]}},"fieldName":"radius","type":"Accessor"},"type":"App"},"type":"App"},"identifier":"influence"},{"annotation":{"meta":null,"sourceSpan":{"end":[179,67],"start":[179,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[179,67],"start":[179,29]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[179,67],"start":[179,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[179,46],"start":[179,29]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[179,35],"start":[179,29]}},"type":"Var","value":{"identifier":"vortex","sourcePos":[160,1]}},"fieldName":"inwardPull","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[179,67],"start":[179,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[179,55],"start":[179,49]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-4}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[179,67],"start":[179,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[179,67],"start":[179,58]}},"type":"Var","value":{"identifier":"influence","sourcePos":[167,12]}},"type":"App"},"identifier":"inwardStrength"},{"annotation":{"meta":null,"sourceSpan":{"end":[181,63],"start":[180,12]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[181,63],"start":[180,26]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[180,62],"start":[180,31]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[180,62],"start":[180,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[180,33],"start":[180,31]}},"type":"Var","value":{"identifier":"nx","sourcePos":[170,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[180,62],"start":[180,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[180,50],"start":[180,36]}},"type":"Var","value":{"identifier":"inwardStrength","sourcePos":[179,12]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[180,62],"start":[180,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[180,62],"start":[180,53]}},"type":"Var","value":{"identifier":"deltaTime","sourcePos":[160,1]}},"type":"App"}],["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[181,61],"start":[181,30]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[181,61],"start":[181,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,32],"start":[181,30]}},"type":"Var","value":{"identifier":"ny","sourcePos":[171,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[181,61],"start":[181,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,49],"start":[181,35]}},"type":"Var","value":{"identifier":"inwardStrength","sourcePos":[179,12]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[181,61],"start":[181,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,61],"start":[181,52]}},"type":"Var","value":{"identifier":"deltaTime","sourcePos":[160,1]}},"type":"App"}]]}},"identifier":"inwardForce"},{"annotation":{"meta":null,"sourceSpan":{"end":[168,69],"start":[168,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[168,69],"start":[168,33]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[168,69],"start":[168,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[168,48],"start":[168,33]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[168,39],"start":[168,33]}},"type":"Var","value":{"identifier":"vortex","sourcePos":[160,1]}},"fieldName":"strength","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[168,69],"start":[168,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[168,57],"start":[168,51]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-4}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[168,69],"start":[168,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[168,69],"start":[168,60]}},"type":"Var","value":{"identifier":"influence","sourcePos":[167,12]}},"type":"App"},"identifier":"tangentialStrength"},{"annotation":{"meta":null,"sourceSpan":{"end":[177,71],"start":[176,12]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[177,71],"start":[176,27]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[176,70],"start":[176,32]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[176,70],"start":[176,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[176,37],"start":[176,32]}},"type":"Var","value":{"identifier":"perpX","sourcePos":[173,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[176,70],"start":[176,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[176,58],"start":[176,40]}},"type":"Var","value":{"identifier":"tangentialStrength","sourcePos":[168,12]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[176,70],"start":[176,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[176,70],"start":[176,61]}},"type":"Var","value":{"identifier":"deltaTime","sourcePos":[160,1]}},"type":"App"}],["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[177,69],"start":[177,31]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[177,69],"start":[177,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[177,36],"start":[177,31]}},"type":"Var","value":{"identifier":"perpY","sourcePos":[174,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[177,69],"start":[177,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[177,57],"start":[177,39]}},"type":"Var","value":{"identifier":"tangentialStrength","sourcePos":[168,12]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[177,69],"start":[177,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[177,69],"start":[177,60]}},"type":"Var","value":{"identifier":"deltaTime","sourcePos":[160,1]}},"type":"App"}]]}},"identifier":"tangentForce"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[182,17],"start":[182,11]}},"type":"Var","value":{"identifier":"vecAdd","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[182,30],"start":[182,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[182,30],"start":[182,18]}},"type":"Var","value":{"identifier":"tangentForce","sourcePos":[176,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[182,42],"start":[182,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[182,42],"start":[182,31]}},"type":"Var","value":{"identifier":"inwardForce","sourcePos":[180,12]}},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"disj","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[164,47],"start":[164,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[164,47],"start":[164,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,13],"start":[164,9]}},"type":"Var","value":{"identifier":"dist","sourcePos":[163,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[164,47],"start":[164,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,30],"start":[164,17]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[164,23],"start":[164,17]}},"type":"Var","value":{"identifier":"vortex","sourcePos":[160,1]}},"fieldName":"radius","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[164,47],"start":[164,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[164,47],"start":[164,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,38],"start":[164,34]}},"type":"Var","value":{"identifier":"dist","sourcePos":[163,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[164,47],"start":[164,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,47],"start":[164,42]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-3}},"type":"App"},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"vortexForce"},{"annotation":{"meta":null,"sourceSpan":{"end":[101,38],"start":[101,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[101,38],"start":[101,1]}},"argument":"dx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[101,38],"start":[101,1]}},"argument":"dy","body":{"annotation":{"meta":null,"sourceSpan":{"end":[106,29],"start":[103,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[103,37],"start":[103,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[103,17],"start":[103,13]}},"type":"Var","value":{"identifier":"sqrt","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,37],"start":[103,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,36],"start":[103,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,36],"start":[103,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,21],"start":[103,19]}},"type":"Var","value":{"identifier":"dx","sourcePos":[102,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,36],"start":[103,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,26],"start":[103,24]}},"type":"Var","value":{"identifier":"dx","sourcePos":[102,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,36],"start":[103,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,36],"start":[103,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,31],"start":[103,29]}},"type":"Var","value":{"identifier":"dy","sourcePos":[102,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,36],"start":[103,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,36],"start":[103,34]}},"type":"Var","value":{"identifier":"dy","sourcePos":[102,1]}},"type":"App"},"type":"App"},"type":"App"},"identifier":"mag"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[106,29],"start":[104,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[106,29],"start":[104,6]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[105,39],"start":[105,11]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[105,24],"start":[105,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[105,18],"start":[105,16]}},"type":"Var","value":{"identifier":"dx","sourcePos":[102,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[105,24],"start":[105,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[105,24],"start":[105,21]}},"type":"Var","value":{"identifier":"mag","sourcePos":[103,7]}},"type":"App"}],["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[105,37],"start":[105,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[105,31],"start":[105,29]}},"type":"Var","value":{"identifier":"dy","sourcePos":[102,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[105,37],"start":[105,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[105,37],"start":[105,34]}},"type":"Var","value":{"identifier":"mag","sourcePos":[103,7]}},"type":"App"}]]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[106,29],"start":[104,6]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[106,29],"start":[106,11]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[106,19],"start":[106,16]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[106,27],"start":[106,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[104,21],"start":[104,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,12],"start":[104,9]}},"type":"Var","value":{"identifier":"mag","sourcePos":[103,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[104,21],"start":[104,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,21],"start":[104,15]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-4}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"normalize"},{"annotation":{"meta":null,"sourceSpan":{"end":[196,69],"start":[196,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[196,69],"start":[196,1]}},"argument":"px","body":{"annotation":{"meta":null,"sourceSpan":{"end":[196,69],"start":[196,1]}},"argument":"py","body":{"annotation":{"meta":null,"sourceSpan":{"end":[196,69],"start":[196,1]}},"argument":"attractor","body":{"annotation":{"meta":null,"sourceSpan":{"end":[196,69],"start":[196,1]}},"argument":"deltaTime","body":{"annotation":{"meta":null,"sourceSpan":{"end":[212,85],"start":[198,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[199,28],"start":[199,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[199,28],"start":[199,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[199,14],"start":[199,12]}},"type":"Var","value":{"identifier":"py","sourcePos":[197,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[199,28],"start":[199,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[199,28],"start":[199,17]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[199,26],"start":[199,17]}},"type":"Var","value":{"identifier":"attractor","sourcePos":[197,1]}},"fieldName":"y","type":"Accessor"},"type":"App"},"identifier":"dy"},{"annotation":{"meta":null,"sourceSpan":{"end":[198,28],"start":[198,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[198,28],"start":[198,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[198,14],"start":[198,12]}},"type":"Var","value":{"identifier":"px","sourcePos":[197,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[198,28],"start":[198,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[198,28],"start":[198,17]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[198,26],"start":[198,17]}},"type":"Var","value":{"identifier":"attractor","sourcePos":[197,1]}},"fieldName":"x","type":"Accessor"},"type":"App"},"identifier":"dx"},{"annotation":{"meta":null,"sourceSpan":{"end":[200,38],"start":[200,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[200,18],"start":[200,14]}},"type":"Var","value":{"identifier":"sqrt","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[200,38],"start":[200,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[200,37],"start":[200,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[200,37],"start":[200,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[200,22],"start":[200,20]}},"type":"Var","value":{"identifier":"dx","sourcePos":[198,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[200,37],"start":[200,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[200,27],"start":[200,25]}},"type":"Var","value":{"identifier":"dx","sourcePos":[198,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[200,37],"start":[200,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[200,37],"start":[200,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[200,32],"start":[200,30]}},"type":"Var","value":{"identifier":"dy","sourcePos":[199,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[200,37],"start":[200,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[200,37],"start":[200,35]}},"type":"Var","value":{"identifier":"dy","sourcePos":[199,7]}},"type":"App"},"type":"App"},"type":"App"},"identifier":"dist"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[212,85],"start":[201,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[212,85],"start":[201,6]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[202,29],"start":[202,11]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[202,19],"start":[202,16]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[202,27],"start":[202,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[212,85],"start":[201,6]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[212,85],"start":[204,8]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[206,32],"start":[206,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[206,32],"start":[206,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[206,26],"start":[206,22]}},"type":"Var","value":{"identifier":"dist","sourcePos":[200,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[206,32],"start":[206,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[206,32],"start":[206,29]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.1}},"type":"App"},"identifier":"pseudoZ"},{"annotation":{"meta":null,"sourceSpan":{"end":[209,53],"start":[209,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[209,53],"start":[209,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[209,53],"start":[209,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[209,20],"start":[209,18]}},"type":"Var","value":{"identifier":"dx","sourcePos":[198,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[209,53],"start":[209,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[209,47],"start":[209,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[209,37],"start":[209,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[209,33],"start":[209,24]}},"type":"Var","value":{"identifier":"attractor","sourcePos":[197,1]}},"fieldName":"rho","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[209,47],"start":[209,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[209,47],"start":[209,40]}},"type":"Var","value":{"identifier":"pseudoZ","sourcePos":[206,12]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[209,53],"start":[209,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[209,53],"start":[209,51]}},"type":"Var","value":{"identifier":"dy","sourcePos":[199,7]}},"type":"App"},"identifier":"ldy"},{"annotation":{"meta":null,"sourceSpan":{"end":[208,45],"start":[208,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[208,45],"start":[208,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[208,33],"start":[208,18]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[208,27],"start":[208,18]}},"type":"Var","value":{"identifier":"attractor","sourcePos":[197,1]}},"fieldName":"sigma","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[208,45],"start":[208,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[208,44],"start":[208,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[208,39],"start":[208,37]}},"type":"Var","value":{"identifier":"dy","sourcePos":[199,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[208,44],"start":[208,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[208,44],"start":[208,42]}},"type":"Var","value":{"identifier":"dx","sourcePos":[198,7]}},"type":"App"},"type":"App"},"identifier":"ldx"},{"annotation":{"meta":null,"sourceSpan":{"end":[204,53],"start":[204,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[204,53],"start":[204,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[204,27],"start":[204,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[204,53],"start":[204,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[204,53],"start":[204,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[204,34],"start":[204,30]}},"type":"Var","value":{"identifier":"dist","sourcePos":[200,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[204,53],"start":[204,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[204,53],"start":[204,37]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[204,46],"start":[204,37]}},"type":"Var","value":{"identifier":"attractor","sourcePos":[197,1]}},"fieldName":"radius","type":"Accessor"},"type":"App"},"type":"App"},"identifier":"influence"},{"annotation":{"meta":null,"sourceSpan":{"end":[211,66],"start":[211,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[211,66],"start":[211,28]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[211,66],"start":[211,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[211,46],"start":[211,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[211,37],"start":[211,28]}},"type":"Var","value":{"identifier":"attractor","sourcePos":[197,1]}},"fieldName":"strength","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[211,66],"start":[211,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[211,54],"start":[211,49]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-3}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[211,66],"start":[211,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[211,66],"start":[211,57]}},"type":"Var","value":{"identifier":"influence","sourcePos":[204,12]}},"type":"App"},"identifier":"forceStrength"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[212,85],"start":[212,11]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[212,47],"start":[212,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[212,47],"start":[212,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[212,19],"start":[212,16]}},"type":"Var","value":{"identifier":"ldx","sourcePos":[208,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[212,47],"start":[212,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[212,35],"start":[212,22]}},"type":"Var","value":{"identifier":"forceStrength","sourcePos":[211,12]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[212,47],"start":[212,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[212,47],"start":[212,38]}},"type":"Var","value":{"identifier":"deltaTime","sourcePos":[197,1]}},"type":"App"}],["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[212,83],"start":[212,52]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[212,83],"start":[212,52]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[212,55],"start":[212,52]}},"type":"Var","value":{"identifier":"ldy","sourcePos":[209,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[212,83],"start":[212,52]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[212,71],"start":[212,58]}},"type":"Var","value":{"identifier":"forceStrength","sourcePos":[211,12]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[212,83],"start":[212,52]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[212,83],"start":[212,74]}},"type":"Var","value":{"identifier":"deltaTime","sourcePos":[197,1]}},"type":"App"}]]}},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"disj","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[201,50],"start":[201,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[201,50],"start":[201,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,13],"start":[201,9]}},"type":"Var","value":{"identifier":"dist","sourcePos":[200,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[201,50],"start":[201,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,33],"start":[201,17]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[201,26],"start":[201,17]}},"type":"Var","value":{"identifier":"attractor","sourcePos":[197,1]}},"fieldName":"radius","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[201,50],"start":[201,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[201,50],"start":[201,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,41],"start":[201,37]}},"type":"Var","value":{"identifier":"dist","sourcePos":[200,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[201,50],"start":[201,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,50],"start":[201,45]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-3}},"type":"App"},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"lorenzForce"},{"annotation":{"meta":null,"sourceSpan":{"end":[231,41],"start":[231,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[231,41],"start":[231,1]}},"argument":"gravity","body":{"annotation":{"meta":null,"sourceSpan":{"end":[231,41],"start":[231,1]}},"argument":"deltaTime","body":{"annotation":{"meta":null,"sourceSpan":{"end":[233,45],"start":[233,3]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[233,11],"start":[233,8]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[233,43],"start":[233,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[233,43],"start":[233,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[233,23],"start":[233,16]}},"type":"Var","value":{"identifier":"gravity","sourcePos":[232,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[233,43],"start":[233,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[233,31],"start":[233,26]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-3}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[233,43],"start":[233,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[233,43],"start":[233,34]}},"type":"Var","value":{"identifier":"deltaTime","sourcePos":[232,1]}},"type":"App"}]]}},"type":"Abs"},"type":"Abs"},"identifier":"gravityForce"},{"annotation":{"meta":null,"sourceSpan":{"end":[52,48],"start":[52,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"Eq$Dict","moduleName":["Data","Eq"]}},"annotation":{"meta":null,"sourceSpan":{"end":[52,48],"start":[52,1]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["eq",{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"FalloffConstant","moduleName":["Lattice","Services","Particles","Forces"]},"typeName":{"identifier":"FalloffType","moduleName":["Lattice","Services","Particles","Forces"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"FalloffConstant","moduleName":["Lattice","Services","Particles","Forces"]},"typeName":{"identifier":"FalloffType","moduleName":["Lattice","Services","Particles","Forces"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"FalloffLinear","moduleName":["Lattice","Services","Particles","Forces"]},"typeName":{"identifier":"FalloffType","moduleName":["Lattice","Services","Particles","Forces"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"FalloffLinear","moduleName":["Lattice","Services","Particles","Forces"]},"typeName":{"identifier":"FalloffType","moduleName":["Lattice","Services","Particles","Forces"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"FalloffQuadratic","moduleName":["Lattice","Services","Particles","Forces"]},"typeName":{"identifier":"FalloffType","moduleName":["Lattice","Services","Particles","Forces"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"FalloffQuadratic","moduleName":["Lattice","Services","Particles","Forces"]},"typeName":{"identifier":"FalloffType","moduleName":["Lattice","Services","Particles","Forces"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"x","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"y","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"}]]}},"type":"App"},"identifier":"eqFalloffType"},{"annotation":{"meta":null,"sourceSpan":{"end":[94,59],"start":[94,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[94,59],"start":[94,1]}},"argument":"x1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[94,59],"start":[94,1]}},"argument":"y1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[94,59],"start":[94,1]}},"argument":"x2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[94,59],"start":[94,1]}},"argument":"y2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[98,30],"start":[96,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[97,19],"start":[97,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[97,19],"start":[97,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[97,14],"start":[97,12]}},"type":"Var","value":{"identifier":"y2","sourcePos":[95,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[97,19],"start":[97,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[97,19],"start":[97,17]}},"type":"Var","value":{"identifier":"y1","sourcePos":[95,1]}},"type":"App"},"identifier":"dy"},{"annotation":{"meta":null,"sourceSpan":{"end":[96,19],"start":[96,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[96,19],"start":[96,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[96,14],"start":[96,12]}},"type":"Var","value":{"identifier":"x2","sourcePos":[95,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[96,19],"start":[96,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[96,19],"start":[96,17]}},"type":"Var","value":{"identifier":"x1","sourcePos":[95,1]}},"type":"App"},"identifier":"dx"}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[98,10],"start":[98,6]}},"type":"Var","value":{"identifier":"sqrt","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[98,30],"start":[98,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[98,29],"start":[98,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[98,29],"start":[98,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[98,14],"start":[98,12]}},"type":"Var","value":{"identifier":"dx","sourcePos":[96,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[98,29],"start":[98,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[98,19],"start":[98,17]}},"type":"Var","value":{"identifier":"dx","sourcePos":[96,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[98,29],"start":[98,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[98,29],"start":[98,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[98,24],"start":[98,22]}},"type":"Var","value":{"identifier":"dy","sourcePos":[97,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[98,29],"start":[98,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[98,29],"start":[98,27]}},"type":"Var","value":{"identifier":"dy","sourcePos":[97,7]}},"type":"App"},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"distance"},{"annotation":{"meta":null,"sourceSpan":{"end":[259,68],"start":[259,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[259,68],"start":[259,1]}},"argument":"px","body":{"annotation":{"meta":null,"sourceSpan":{"end":[259,68],"start":[259,1]}},"argument":"py","body":{"annotation":{"meta":null,"sourceSpan":{"end":[259,68],"start":[259,1]}},"argument":"vortices","body":{"annotation":{"meta":null,"sourceSpan":{"end":[259,68],"start":[259,1]}},"argument":"deltaTime","body":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[261,8],"start":[261,3]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[261,63],"start":[261,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[261,62],"start":[261,10]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[261,62],"start":[261,10]}},"argument":"v","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[261,26],"start":[261,20]}},"type":"Var","value":{"identifier":"vecAdd","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[261,30],"start":[261,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[261,30],"start":[261,27]}},"type":"Var","value":{"identifier":"acc","sourcePos":[261,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[261,62],"start":[261,20]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[261,43],"start":[261,32]}},"type":"Var","value":{"identifier":"vortexForce","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[261,46],"start":[261,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[261,46],"start":[261,44]}},"type":"Var","value":{"identifier":"px","sourcePos":[260,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[261,49],"start":[261,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[261,49],"start":[261,47]}},"type":"Var","value":{"identifier":"py","sourcePos":[260,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[261,51],"start":[261,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[261,51],"start":[261,50]}},"type":"Var","value":{"identifier":"v","sourcePos":[261,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[261,61],"start":[261,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[261,61],"start":[261,52]}},"type":"Var","value":{"identifier":"deltaTime","sourcePos":[260,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[261,82],"start":[261,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[261,82],"start":[261,64]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[261,72],"start":[261,69]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[261,80],"start":[261,77]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[261,91],"start":[261,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[261,91],"start":[261,83]}},"type":"Var","value":{"identifier":"vortices","sourcePos":[260,1]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"applyVortices"},{"annotation":{"meta":null,"sourceSpan":{"end":[264,85],"start":[264,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[264,85],"start":[264,1]}},"argument":"px","body":{"annotation":{"meta":null,"sourceSpan":{"end":[264,85],"start":[264,1]}},"argument":"py","body":{"annotation":{"meta":null,"sourceSpan":{"end":[264,85],"start":[264,1]}},"argument":"attractors","body":{"annotation":{"meta":null,"sourceSpan":{"end":[264,85],"start":[264,1]}},"argument":"deltaTime","body":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[266,8],"start":[266,3]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[266,63],"start":[266,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[266,62],"start":[266,10]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[266,62],"start":[266,10]}},"argument":"a","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[266,26],"start":[266,20]}},"type":"Var","value":{"identifier":"vecAdd","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[266,30],"start":[266,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[266,30],"start":[266,27]}},"type":"Var","value":{"identifier":"acc","sourcePos":[266,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[266,62],"start":[266,20]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[266,43],"start":[266,32]}},"type":"Var","value":{"identifier":"lorenzForce","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[266,46],"start":[266,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[266,46],"start":[266,44]}},"type":"Var","value":{"identifier":"px","sourcePos":[265,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[266,49],"start":[266,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[266,49],"start":[266,47]}},"type":"Var","value":{"identifier":"py","sourcePos":[265,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[266,51],"start":[266,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[266,51],"start":[266,50]}},"type":"Var","value":{"identifier":"a","sourcePos":[266,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[266,61],"start":[266,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[266,61],"start":[266,52]}},"type":"Var","value":{"identifier":"deltaTime","sourcePos":[265,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[266,82],"start":[266,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[266,82],"start":[266,64]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[266,72],"start":[266,69]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[266,80],"start":[266,77]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[266,93],"start":[266,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[266,93],"start":[266,83]}},"type":"Var","value":{"identifier":"attractors","sourcePos":[265,1]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"applyLorenzAttractors"},{"annotation":{"meta":null,"sourceSpan":{"end":[244,52],"start":[244,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[244,52],"start":[244,1]}},"argument":"vxIn","body":{"annotation":{"meta":null,"sourceSpan":{"end":[244,52],"start":[244,1]}},"argument":"vyIn","body":{"annotation":{"meta":null,"sourceSpan":{"end":[244,52],"start":[244,1]}},"argument":"friction","body":{"annotation":{"meta":null,"sourceSpan":{"end":[247,44],"start":[246,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[246,48],"start":[246,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[246,48],"start":[246,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[246,19],"start":[246,16]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[246,48],"start":[246,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[246,25],"start":[246,22]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[246,29],"start":[246,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[246,29],"start":[246,26]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[246,48],"start":[246,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[246,34],"start":[246,31]}},"type":"Var","value":{"identifier":"min","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[246,38],"start":[246,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[246,38],"start":[246,35]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[246,47],"start":[246,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[246,47],"start":[246,39]}},"type":"Var","value":{"identifier":"friction","sourcePos":[245,1]}},"type":"App"},"type":"App"},"type":"App"},"identifier":"factor"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[247,44],"start":[247,6]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[247,24],"start":[247,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[247,15],"start":[247,11]}},"type":"Var","value":{"identifier":"vxIn","sourcePos":[245,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[247,24],"start":[247,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[247,24],"start":[247,18]}},"type":"Var","value":{"identifier":"factor","sourcePos":[246,7]}},"type":"App"}],["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[247,42],"start":[247,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[247,33],"start":[247,29]}},"type":"Var","value":{"identifier":"vyIn","sourcePos":[245,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[247,42],"start":[247,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[247,42],"start":[247,36]}},"type":"Var","value":{"identifier":"factor","sourcePos":[246,7]}},"type":"App"}]]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"applyFriction"},{"annotation":{"meta":null,"sourceSpan":{"end":[121,48],"start":[121,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[121,48],"start":[121,1]}},"argument":"distRatio","body":{"annotation":{"meta":null,"sourceSpan":{"end":[121,48],"start":[121,1]}},"argument":"falloff","body":{"annotation":{"meta":null,"sourceSpan":{"end":[125,60],"start":[122,34]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[123,18],"start":[123,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"FalloffConstant","moduleName":["Lattice","Services","Particles","Forces"]},"typeName":{"identifier":"FalloffType","moduleName":["Lattice","Services","Particles","Forces"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[123,26],"start":[123,23]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[124,16],"start":[124,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"FalloffLinear","moduleName":["Lattice","Services","Particles","Forces"]},"typeName":{"identifier":"FalloffType","moduleName":["Lattice","Services","Particles","Forces"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,38],"start":[124,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,26],"start":[124,23]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[124,38],"start":[124,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,38],"start":[124,29]}},"type":"Var","value":{"identifier":"distRatio","sourcePos":[122,1]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[125,19],"start":[125,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"FalloffQuadratic","moduleName":["Lattice","Services","Particles","Forces"]},"typeName":{"identifier":"FalloffType","moduleName":["Lattice","Services","Particles","Forces"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[125,60],"start":[125,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[125,39],"start":[125,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,27],"start":[125,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[125,39],"start":[125,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,39],"start":[125,30]}},"type":"Var","value":{"identifier":"distRatio","sourcePos":[122,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[125,60],"start":[125,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[125,59],"start":[125,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,47],"start":[125,44]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[125,59],"start":[125,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,59],"start":[125,50]}},"type":"Var","value":{"identifier":"distRatio","sourcePos":[122,1]}},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[122,46],"start":[122,39]}},"type":"Var","value":{"identifier":"falloff","sourcePos":[122,1]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"applyFalloff"},{"annotation":{"meta":null,"sourceSpan":{"end":[135,70],"start":[135,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[135,70],"start":[135,1]}},"argument":"px","body":{"annotation":{"meta":null,"sourceSpan":{"end":[135,70],"start":[135,1]}},"argument":"py","body":{"annotation":{"meta":null,"sourceSpan":{"end":[135,70],"start":[135,1]}},"argument":"well","body":{"annotation":{"meta":null,"sourceSpan":{"end":[135,70],"start":[135,1]}},"argument":"deltaTime","body":{"annotation":{"meta":null,"sourceSpan":{"end":[148,67],"start":[137,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[138,23],"start":[138,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[138,23],"start":[138,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,18],"start":[138,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[138,16],"start":[138,12]}},"type":"Var","value":{"identifier":"well","sourcePos":[136,1]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,23],"start":[138,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,23],"start":[138,21]}},"type":"Var","value":{"identifier":"py","sourcePos":[136,1]}},"type":"App"},"identifier":"dy"},{"annotation":{"meta":null,"sourceSpan":{"end":[137,23],"start":[137,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[137,23],"start":[137,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[137,18],"start":[137,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[137,16],"start":[137,12]}},"type":"Var","value":{"identifier":"well","sourcePos":[136,1]}},"fieldName":"x","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[137,23],"start":[137,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[137,23],"start":[137,21]}},"type":"Var","value":{"identifier":"px","sourcePos":[136,1]}},"type":"App"},"identifier":"dx"},{"annotation":{"meta":null,"sourceSpan":{"end":[139,38],"start":[139,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[139,18],"start":[139,14]}},"type":"Var","value":{"identifier":"sqrt","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[139,38],"start":[139,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[139,37],"start":[139,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[139,37],"start":[139,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[139,22],"start":[139,20]}},"type":"Var","value":{"identifier":"dx","sourcePos":[137,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[139,37],"start":[139,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[139,27],"start":[139,25]}},"type":"Var","value":{"identifier":"dx","sourcePos":[137,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[139,37],"start":[139,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[139,37],"start":[139,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[139,32],"start":[139,30]}},"type":"Var","value":{"identifier":"dy","sourcePos":[138,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[139,37],"start":[139,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[139,37],"start":[139,35]}},"type":"Var","value":{"identifier":"dy","sourcePos":[138,7]}},"type":"App"},"type":"App"},"type":"App"},"identifier":"dist"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[148,67],"start":[140,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[148,67],"start":[140,6]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[141,29],"start":[141,11]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[141,19],"start":[141,16]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[141,27],"start":[141,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[148,67],"start":[140,6]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[148,67],"start":[143,8]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[147,26],"start":[147,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,26],"start":[147,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,19],"start":[147,17]}},"type":"Var","value":{"identifier":"dy","sourcePos":[138,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[147,26],"start":[147,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,26],"start":[147,22]}},"type":"Var","value":{"identifier":"dist","sourcePos":[139,7]}},"type":"App"},"identifier":"ny"},{"annotation":{"meta":null,"sourceSpan":{"end":[146,26],"start":[146,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[146,26],"start":[146,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[146,19],"start":[146,17]}},"type":"Var","value":{"identifier":"dx","sourcePos":[137,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[146,26],"start":[146,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[146,26],"start":[146,22]}},"type":"Var","value":{"identifier":"dist","sourcePos":[139,7]}},"type":"App"},"identifier":"nx"},{"annotation":{"meta":null,"sourceSpan":{"end":[143,42],"start":[143,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[143,42],"start":[143,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[143,28],"start":[143,24]}},"type":"Var","value":{"identifier":"dist","sourcePos":[139,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[143,42],"start":[143,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[143,42],"start":[143,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[143,35],"start":[143,31]}},"type":"Var","value":{"identifier":"well","sourcePos":[136,1]}},"fieldName":"radius","type":"Accessor"},"type":"App"},"identifier":"distRatio"},{"annotation":{"meta":null,"sourceSpan":{"end":[144,63],"start":[144,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[144,40],"start":[144,28]}},"type":"Var","value":{"identifier":"applyFalloff","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[144,50],"start":[144,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[144,50],"start":[144,41]}},"type":"Var","value":{"identifier":"distRatio","sourcePos":[143,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[144,63],"start":[144,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[144,63],"start":[144,51]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[144,55],"start":[144,51]}},"type":"Var","value":{"identifier":"well","sourcePos":[136,1]}},"fieldName":"falloff","type":"Accessor"},"type":"App"},"identifier":"falloffFactor"},{"annotation":{"meta":null,"sourceSpan":{"end":[145,58],"start":[145,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[145,58],"start":[145,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[145,58],"start":[145,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[145,33],"start":[145,20]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[145,24],"start":[145,20]}},"type":"Var","value":{"identifier":"well","sourcePos":[136,1]}},"fieldName":"strength","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[145,58],"start":[145,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[145,42],"start":[145,36]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-4}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[145,58],"start":[145,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[145,58],"start":[145,45]}},"type":"Var","value":{"identifier":"falloffFactor","sourcePos":[144,12]}},"type":"App"},"identifier":"force"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[148,67],"start":[148,11]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[148,38],"start":[148,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[148,38],"start":[148,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[148,18],"start":[148,16]}},"type":"Var","value":{"identifier":"nx","sourcePos":[146,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[148,38],"start":[148,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[148,26],"start":[148,21]}},"type":"Var","value":{"identifier":"force","sourcePos":[145,12]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[148,38],"start":[148,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[148,38],"start":[148,29]}},"type":"Var","value":{"identifier":"deltaTime","sourcePos":[136,1]}},"type":"App"}],["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[148,65],"start":[148,43]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[148,65],"start":[148,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[148,45],"start":[148,43]}},"type":"Var","value":{"identifier":"ny","sourcePos":[147,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[148,65],"start":[148,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[148,53],"start":[148,48]}},"type":"Var","value":{"identifier":"force","sourcePos":[145,12]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[148,65],"start":[148,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[148,65],"start":[148,56]}},"type":"Var","value":{"identifier":"deltaTime","sourcePos":[136,1]}},"type":"App"}]]}},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"disj","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[140,45],"start":[140,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[140,45],"start":[140,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[140,13],"start":[140,9]}},"type":"Var","value":{"identifier":"dist","sourcePos":[139,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[140,45],"start":[140,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[140,28],"start":[140,17]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[140,21],"start":[140,17]}},"type":"Var","value":{"identifier":"well","sourcePos":[136,1]}},"fieldName":"radius","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[140,45],"start":[140,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[140,45],"start":[140,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[140,36],"start":[140,32]}},"type":"Var","value":{"identifier":"dist","sourcePos":[139,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[140,45],"start":[140,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[140,45],"start":[140,40]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-3}},"type":"App"},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"gravityWellForce"},{"annotation":{"meta":null,"sourceSpan":{"end":[254,77],"start":[254,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[254,77],"start":[254,1]}},"argument":"px","body":{"annotation":{"meta":null,"sourceSpan":{"end":[254,77],"start":[254,1]}},"argument":"py","body":{"annotation":{"meta":null,"sourceSpan":{"end":[254,77],"start":[254,1]}},"argument":"wells","body":{"annotation":{"meta":null,"sourceSpan":{"end":[254,77],"start":[254,1]}},"argument":"deltaTime","body":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[256,8],"start":[256,3]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[256,68],"start":[256,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[256,67],"start":[256,10]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[256,67],"start":[256,10]}},"argument":"w","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[256,26],"start":[256,20]}},"type":"Var","value":{"identifier":"vecAdd","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[256,30],"start":[256,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[256,30],"start":[256,27]}},"type":"Var","value":{"identifier":"acc","sourcePos":[256,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[256,67],"start":[256,20]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[256,48],"start":[256,32]}},"type":"Var","value":{"identifier":"gravityWellForce","moduleName":["Lattice","Services","Particles","Forces"]}},"annotation":{"meta":null,"sourceSpan":{"end":[256,51],"start":[256,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[256,51],"start":[256,49]}},"type":"Var","value":{"identifier":"px","sourcePos":[255,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[256,54],"start":[256,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[256,54],"start":[256,52]}},"type":"Var","value":{"identifier":"py","sourcePos":[255,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[256,56],"start":[256,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[256,56],"start":[256,55]}},"type":"Var","value":{"identifier":"w","sourcePos":[256,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[256,66],"start":[256,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[256,66],"start":[256,57]}},"type":"Var","value":{"identifier":"deltaTime","sourcePos":[255,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[256,87],"start":[256,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[256,87],"start":[256,69]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[256,77],"start":[256,74]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[256,85],"start":[256,82]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[256,93],"start":[256,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[256,93],"start":[256,88]}},"type":"Var","value":{"identifier":"wells","sourcePos":[255,1]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"applyGravityWells"}],"exports":["FalloffConstant","FalloffLinear","FalloffQuadratic","distance","normalize","vecAdd","vecScale","applyFalloff","gravityWellForce","vortexForce","lorenzForce","windForce","gravityForce","applyFriction","applyGravityWells","applyVortices","applyLorenzAttractors","eqFalloffType"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[266,93],"start":[15,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[266,93],"start":[15,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[266,93],"start":[15,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[266,93],"start":[15,1]}},"moduleName":["Data","HeytingAlgebra"]},{"annotation":{"meta":null,"sourceSpan":{"end":[266,93],"start":[15,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[266,93],"start":[15,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[266,93],"start":[15,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[266,93],"start":[15,1]}},"moduleName":["Lattice","Services","Particles","Forces"]},{"annotation":{"meta":null,"sourceSpan":{"end":[266,93],"start":[15,1]}},"moduleName":["Math"]},{"annotation":{"meta":null,"sourceSpan":{"end":[37,15],"start":[37,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[266,93],"start":[15,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","Particles","Forces"],"modulePath":"src/Lattice/Services/Particles/Forces.purs","reExports":{},"sourceSpan":{"end":[266,93],"start":[15,1]}}