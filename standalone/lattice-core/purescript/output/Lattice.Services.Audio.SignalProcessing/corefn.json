{"builtWith":"0.15.15","comments":[{"LineComment":" | Lattice.Services.Audio.SignalProcessing - Audio Signal Processing Math"},{"LineComment":" |"},{"LineComment":" | Pure mathematical functions for audio feature extraction:"},{"LineComment":" | - DFT (Discrete Fourier Transform) with windowing"},{"LineComment":" | - Spectral features (centroid, flux, rolloff, flatness)"},{"LineComment":" | - Mel scale conversions"},{"LineComment":" | - DCT (Discrete Cosine Transform)"},{"LineComment":" | - Feature curves and normalization"},{"LineComment":" | - Peak detection algorithms"},{"LineComment":" | - Envelope following"},{"LineComment":" |"},{"LineComment":" | Features:"},{"LineComment":" | - All computations are pure (no AudioContext dependency)"},{"LineComment":" | - Suitable for deterministic audio-reactive animations"},{"LineComment":" | - Operates on pre-extracted sample arrays"},{"LineComment":" |"},{"LineComment":" | Source: ui/src/services/audioFeatures.ts"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[412,32],"start":[412,30]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[412,36],"start":[412,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqInt","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"eq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[392,26],"start":[392,25]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[392,46],"start":[392,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[392,43],"start":[392,42]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[392,45],"start":[392,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringInt","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[388,20],"start":[388,19]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[388,22],"start":[388,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[388,34],"start":[388,28]}},"type":"Var","value":{"identifier":"negate","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[388,59],"start":[388,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"negate"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[388,55],"start":[388,49]}},"type":"Var","value":{"identifier":"negate","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[388,57],"start":[388,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringInt","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"negate1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[165,22],"start":[165,20]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[165,24],"start":[165,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[169,54],"start":[169,53]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[169,56],"start":[169,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringInt","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[171,49],"start":[171,47]}},"type":"Var","value":{"identifier":"disj","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[171,77],"start":[171,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"disj"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[171,34],"start":[171,32]}},"type":"Var","value":{"identifier":"conj","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[171,45],"start":[171,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"conj"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[171,27],"start":[171,25]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[171,45],"start":[171,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[171,41],"start":[171,40]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[171,45],"start":[171,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThan1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[174,21],"start":[174,20]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[174,38],"start":[174,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[401,35],"start":[401,34]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[401,39],"start":[401,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[136,32],"start":[136,31]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[136,47],"start":[136,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[124,19],"start":[124,16]}},"type":"Var","value":{"identifier":"min","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[124,44],"start":[124,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"min"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[129,20],"start":[129,19]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[129,24],"start":[129,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[270,29],"start":[270,26]}},"type":"Var","value":{"identifier":"min","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[270,29],"start":[270,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"min1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[271,29],"start":[271,26]}},"type":"Var","value":{"identifier":"max","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[271,29],"start":[271,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"max"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[272,34],"start":[272,32]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[272,41],"start":[272,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqNumber","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"eq1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[274,13],"start":[274,10]}},"type":"Var","value":{"identifier":"map","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[274,67],"start":[274,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorArray","moduleName":["Data","Functor"]}},"type":"App"},"identifier":"map"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[203,10],"start":[203,8]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[203,14],"start":[203,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThanOrEq1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[213,18],"start":[213,15]}},"type":"Var","value":{"identifier":"mod","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[213,22],"start":[213,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingInt","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"mod"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[347,54],"start":[347,47]}},"type":"Var","value":{"identifier":"abs","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[347,65],"start":[347,47]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[347,65],"start":[347,47]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringInt","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"abs"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[349,29],"start":[349,27]}},"type":"Var","value":{"identifier":"append","moduleName":["Data","Semigroup"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[349,45],"start":[349,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupArray","moduleName":["Data","Semigroup"]}},"type":"App"},"identifier":"append"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[354,53],"start":[354,51]}},"type":"Var","value":{"identifier":"notEq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[354,61],"start":[354,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqInt","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"notEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[343,61],"start":[343,54]}},"type":"Var","value":{"identifier":"compare","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[343,64],"start":[343,54]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"compare"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[309,22],"start":[309,19]}},"type":"Var","value":{"identifier":"max","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[309,24],"start":[309,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"max1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[100,18],"start":[100,17]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[100,20],"start":[100,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingInt","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div1"},{"annotation":{"meta":null,"sourceSpan":{"end":[247,20],"start":[243,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[247,20],"start":[243,1]}},"constructorName":"CurveLinear","fieldNames":[],"type":"Constructor","typeName":"FeatureCurve"},"identifier":"CurveLinear"},{"annotation":{"meta":null,"sourceSpan":{"end":[247,20],"start":[243,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[247,20],"start":[243,1]}},"constructorName":"CurveExponential","fieldNames":[],"type":"Constructor","typeName":"FeatureCurve"},"identifier":"CurveExponential"},{"annotation":{"meta":null,"sourceSpan":{"end":[247,20],"start":[243,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[247,20],"start":[243,1]}},"constructorName":"CurveLogarithmic","fieldNames":[],"type":"Constructor","typeName":"FeatureCurve"},"identifier":"CurveLogarithmic"},{"annotation":{"meta":null,"sourceSpan":{"end":[247,20],"start":[243,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[247,20],"start":[243,1]}},"constructorName":"CurveSmoothstep","fieldNames":[],"type":"Constructor","typeName":"FeatureCurve"},"identifier":"CurveSmoothstep"},{"annotation":{"meta":null,"sourceSpan":{"end":[410,53],"start":[410,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[410,53],"start":[410,1]}},"argument":"idx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[410,53],"start":[410,1]}},"argument":"val","body":{"annotation":{"meta":null,"sourceSpan":{"end":[410,53],"start":[410,1]}},"argument":"arr","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[412,15],"start":[412,3]}},"type":"Var","value":{"identifier":"mapWithIndex","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[412,53],"start":[412,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[412,52],"start":[412,17]}},"argument":"i","body":{"annotation":{"meta":null,"sourceSpan":{"end":[412,52],"start":[412,17]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[412,52],"start":[412,25]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[412,52],"start":[412,25]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[412,45],"start":[412,42]}},"type":"Var","value":{"identifier":"val","sourcePos":[411,1]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[412,52],"start":[412,25]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[412,52],"start":[412,51]}},"type":"Var","value":{"identifier":"x","sourcePos":[412,20]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[412,36],"start":[412,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[412,29],"start":[412,28]}},"type":"Var","value":{"identifier":"i","sourcePos":[412,18]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[412,36],"start":[412,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[412,36],"start":[412,33]}},"type":"Var","value":{"identifier":"idx","sourcePos":[411,1]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[412,57],"start":[412,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[412,57],"start":[412,54]}},"type":"Var","value":{"identifier":"arr","sourcePos":[411,1]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"updateAt"},{"annotation":{"meta":null,"sourceSpan":{"end":[387,26],"start":[387,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[387,26],"start":[387,1]}},"argument":"n","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[388,78],"start":[388,14]}},"binds":[{"bindType":"Rec","binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[390,33],"start":[390,5]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[390,33],"start":[390,5]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[390,33],"start":[390,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[391,18],"start":[391,17]}},"binderType":"LiteralBinder","literal":{"literalType":"IntLiteral","value":0}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[391,24],"start":[391,21]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[392,18],"start":[392,17]}},"binderType":"VarBinder","identifier":"i"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[392,46],"start":[392,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[392,24],"start":[392,21]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[392,46],"start":[392,21]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[392,38],"start":[392,27]}},"type":"Var","value":{"identifier":"toNumberPos","sourcePos":[390,5]}},"annotation":{"meta":null,"sourceSpan":{"end":[392,46],"start":[392,27]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[392,45],"start":[392,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[392,41],"start":[392,40]}},"type":"Var","value":{"identifier":"i","sourcePos":[392,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[392,45],"start":[392,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[392,45],"start":[392,44]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[391,24],"start":[391,5]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"identifier":"toNumberPos"}]}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[388,78],"start":[388,14]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[388,78],"start":[388,14]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"negate","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[388,59],"start":[388,28]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[388,47],"start":[388,36]}},"type":"Var","value":{"identifier":"toNumberPos","sourcePos":[390,5]}},"annotation":{"meta":null,"sourceSpan":{"end":[388,58],"start":[388,36]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"negate1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[388,57],"start":[388,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[388,57],"start":[388,56]}},"type":"Var","value":{"identifier":"n","sourcePos":[388,1]}},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[388,78],"start":[388,14]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[388,76],"start":[388,65]}},"type":"Var","value":{"identifier":"toNumberPos","sourcePos":[390,5]}},"annotation":{"meta":null,"sourceSpan":{"end":[388,78],"start":[388,65]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[388,78],"start":[388,77]}},"type":"Var","value":{"identifier":"n","sourcePos":[388,1]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[388,22],"start":[388,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[388,18],"start":[388,17]}},"type":"Var","value":{"identifier":"n","sourcePos":[388,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[388,22],"start":[388,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[388,22],"start":[388,21]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"identifier":"toNumber"},{"annotation":{"meta":null,"sourceSpan":{"end":[163,43],"start":[163,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[163,43],"start":[163,1]}},"argument":"samples","body":{"annotation":{"meta":null,"sourceSpan":{"end":[163,43],"start":[163,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[164,25],"start":[164,18]}},"binderType":"VarBinder","identifier":"samples1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[165,30],"start":[165,27]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[165,24],"start":[165,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[165,11],"start":[165,5]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[165,19],"start":[165,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[165,19],"start":[165,12]}},"type":"Var","value":{"identifier":"samples1","sourcePos":[164,18]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[165,24],"start":[165,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[165,24],"start":[165,23]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[174,38],"start":[167,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[167,29],"start":[167,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[167,21],"start":[167,15]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[167,29],"start":[167,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[167,29],"start":[167,22]}},"type":"Var","value":{"identifier":"samples1","sourcePos":[164,18]}},"type":"App"},"identifier":"n"},{"annotation":{"meta":null,"sourceSpan":{"end":[173,34],"start":[168,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[168,28],"start":[168,23]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[173,12],"start":[168,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,39],"start":[168,30]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[172,39],"start":[168,30]}},"argument":"i","body":{"annotation":{"meta":null,"sourceSpan":{"end":[172,39],"start":[169,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[170,52],"start":[170,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[170,33],"start":[170,24]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[170,37],"start":[170,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,37],"start":[170,34]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[170,52],"start":[170,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[170,49],"start":[170,47]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[170,51],"start":[170,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,46],"start":[170,39]}},"type":"Var","value":{"identifier":"samples1","sourcePos":[164,18]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[170,51],"start":[170,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,51],"start":[170,50]}},"type":"Var","value":{"identifier":"i","sourcePos":[168,35]}},"type":"App"},"type":"App"},"identifier":"prev"},{"annotation":{"meta":null,"sourceSpan":{"end":[169,58],"start":[169,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[169,33],"start":[169,24]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[169,37],"start":[169,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,37],"start":[169,34]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[169,58],"start":[169,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[169,49],"start":[169,47]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[169,57],"start":[169,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,46],"start":[169,39]}},"type":"Var","value":{"identifier":"samples1","sourcePos":[164,18]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[169,57],"start":[169,39]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[169,56],"start":[169,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,52],"start":[169,51]}},"type":"Var","value":{"identifier":"i","sourcePos":[168,35]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[169,56],"start":[169,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,56],"start":[169,55]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"identifier":"curr"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[172,39],"start":[171,16]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[172,39],"start":[171,16]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[172,30],"start":[172,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,24],"start":[172,21]}},"type":"Var","value":{"identifier":"acc","sourcePos":[168,31]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[172,30],"start":[172,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,30],"start":[172,27]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[172,39],"start":[171,16]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[172,39],"start":[172,36]}},"type":"Var","value":{"identifier":"acc","sourcePos":[168,31]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"disj","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[171,77],"start":[171,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[171,45],"start":[171,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[171,45],"start":[171,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,24],"start":[171,20]}},"type":"Var","value":{"identifier":"curr","sourcePos":[169,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[171,45],"start":[171,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,31],"start":[171,28]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[171,45],"start":[171,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[171,45],"start":[171,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,39],"start":[171,35]}},"type":"Var","value":{"identifier":"prev","sourcePos":[170,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[171,45],"start":[171,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,45],"start":[171,42]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[171,77],"start":[171,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[171,76],"start":[171,51]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[171,76],"start":[171,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,55],"start":[171,51]}},"type":"Var","value":{"identifier":"curr","sourcePos":[169,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[171,76],"start":[171,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,61],"start":[171,58]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[171,76],"start":[171,51]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[171,76],"start":[171,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,69],"start":[171,65]}},"type":"Var","value":{"identifier":"prev","sourcePos":[170,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[171,76],"start":[171,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,76],"start":[171,73]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[173,16],"start":[168,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[173,16],"start":[173,13]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[173,34],"start":[168,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[173,23],"start":[173,18]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[173,25],"start":[173,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[173,25],"start":[173,24]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[173,33],"start":[173,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[173,32],"start":[173,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[173,28],"start":[173,27]}},"type":"Var","value":{"identifier":"n","sourcePos":[167,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[173,32],"start":[173,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[173,32],"start":[173,31]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"},"type":"App"},"type":"App"},"identifier":"crossings"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[174,38],"start":[174,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[174,19],"start":[174,10]}},"type":"Var","value":{"identifier":"crossings","sourcePos":[168,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[174,38],"start":[174,10]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[174,30],"start":[174,22]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[174,38],"start":[174,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[174,37],"start":[174,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[174,33],"start":[174,32]}},"type":"Var","value":{"identifier":"n","sourcePos":[167,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[174,37],"start":[174,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[174,37],"start":[174,36]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"type":"Let"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[166,14],"start":[166,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[174,38],"start":[164,1]}},"type":"Var","value":{"identifier":"samples","sourcePos":[164,18]}}],"type":"Case"},"type":"Abs"},"identifier":"zeroCrossingRate"},{"annotation":{"meta":null,"sourceSpan":{"end":[395,23],"start":[395,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[395,23],"start":[395,1]}},"argument":"n","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[396,24],"start":[396,11]}},"binds":[{"bindType":"Rec","binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[398,38],"start":[398,5]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[398,38],"start":[398,5]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[398,38],"start":[398,5]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[398,38],"start":[398,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[399,16],"start":[399,15]}},"binderType":"VarBinder","identifier":"x1"},{"annotation":{"meta":null,"sourceSpan":{"end":[399,20],"start":[399,17]}},"binderType":"VarBinder","identifier":"acc1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[400,22],"start":[400,19]}},"type":"Var","value":{"identifier":"acc1","sourcePos":[399,17]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[400,16],"start":[400,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[400,10],"start":[400,9]}},"type":"Var","value":{"identifier":"x1","sourcePos":[399,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[400,16],"start":[400,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[400,16],"start":[400,13]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"}},{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[401,30],"start":[401,21]}},"type":"Var","value":{"identifier":"toIntImpl","sourcePos":[398,5]}},"annotation":{"meta":null,"sourceSpan":{"end":[401,40],"start":[401,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[401,39],"start":[401,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[401,33],"start":[401,32]}},"type":"Var","value":{"identifier":"x1","sourcePos":[399,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[401,39],"start":[401,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[401,39],"start":[401,36]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[401,50],"start":[401,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[401,49],"start":[401,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[401,45],"start":[401,42]}},"type":"Var","value":{"identifier":"acc1","sourcePos":[399,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[401,49],"start":[401,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[401,49],"start":[401,48]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[401,18],"start":[401,9]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[401,50],"start":[399,5]}},"type":"Var","value":{"identifier":"x","sourcePos":[399,15]}},{"annotation":{"meta":null,"sourceSpan":{"end":[401,50],"start":[399,5]}},"type":"Var","value":{"identifier":"acc","sourcePos":[399,17]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"toIntImpl"}]}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[396,20],"start":[396,11]}},"type":"Var","value":{"identifier":"toIntImpl","sourcePos":[398,5]}},"annotation":{"meta":null,"sourceSpan":{"end":[396,22],"start":[396,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[396,22],"start":[396,21]}},"type":"Var","value":{"identifier":"n","sourcePos":[396,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[396,24],"start":[396,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[396,24],"start":[396,23]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"toInt"},{"annotation":{"meta":null,"sourceSpan":{"end":[133,62],"start":[133,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[133,62],"start":[133,1]}},"argument":"magnitudes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[133,62],"start":[133,1]}},"argument":"rolloffPercent","body":{"annotation":{"meta":null,"sourceSpan":{"end":[133,62],"start":[133,1]}},"argument":"binFrequency","body":{"annotation":{"meta":null,"sourceSpan":{"end":[141,40],"start":[135,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[135,45],"start":[135,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[135,26],"start":[135,21]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[135,30],"start":[135,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[135,34],"start":[135,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[135,34],"start":[135,31]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[135,45],"start":[135,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[135,45],"start":[135,35]}},"type":"Var","value":{"identifier":"magnitudes","sourcePos":[134,1]}},"type":"App"},"identifier":"totalEnergy"},{"annotation":{"meta":null,"sourceSpan":{"end":[136,47],"start":[136,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[136,47],"start":[136,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[136,30],"start":[136,19]}},"type":"Var","value":{"identifier":"totalEnergy","sourcePos":[135,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[136,47],"start":[136,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[136,47],"start":[136,33]}},"type":"Var","value":{"identifier":"rolloffPercent","sourcePos":[134,1]}},"type":"App"},"identifier":"threshold"},{"annotation":{"meta":null,"sourceSpan":{"end":[140,47],"start":[137,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[137,21],"start":[137,16]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[140,8],"start":[137,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[139,68],"start":[137,23]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[139,68],"start":[137,23]}},"argument":"mag","body":{"annotation":{"meta":null,"sourceSpan":{"end":[139,68],"start":[138,9]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[139,68],"start":[138,9]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[138,48],"start":[138,45]}},"type":"Var","value":{"identifier":"acc","sourcePos":[137,24]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[139,68],"start":[138,9]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[139,68],"start":[139,14]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["cumulative",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[139,48],"start":[139,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[139,42],"start":[139,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[139,31],"start":[139,28]}},"type":"Var","value":{"identifier":"acc","sourcePos":[137,24]}},"fieldName":"cumulative","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[139,48],"start":[139,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[139,48],"start":[139,45]}},"type":"Var","value":{"identifier":"mag","sourcePos":[137,28]}},"type":"App"}],["bin",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[139,66],"start":[139,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[139,62],"start":[139,55]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[139,58],"start":[139,55]}},"type":"Var","value":{"identifier":"acc","sourcePos":[137,24]}},"fieldName":"bin","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[139,66],"start":[139,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[139,66],"start":[139,65]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"}]]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[138,39],"start":[138,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,26],"start":[138,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[138,15],"start":[138,12]}},"type":"Var","value":{"identifier":"acc","sourcePos":[137,24]}},"fieldName":"cumulative","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,39],"start":[138,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,39],"start":[138,30]}},"type":"Var","value":{"identifier":"threshold","sourcePos":[136,7]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[140,36],"start":[137,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[140,36],"start":[140,9]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["cumulative",{"annotation":{"meta":null,"sourceSpan":{"end":[140,26],"start":[140,23]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["bin",{"annotation":{"meta":null,"sourceSpan":{"end":[140,34],"start":[140,33]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[140,47],"start":[137,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[140,47],"start":[140,37]}},"type":"Var","value":{"identifier":"magnitudes","sourcePos":[134,1]}},"type":"App"},"identifier":"result"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[141,40],"start":[141,6]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[141,14],"start":[141,6]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[141,25],"start":[141,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[141,25],"start":[141,15]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[141,21],"start":[141,15]}},"type":"Var","value":{"identifier":"result","sourcePos":[137,7]}},"fieldName":"bin","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[141,40],"start":[141,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[141,40],"start":[141,28]}},"type":"Var","value":{"identifier":"binFrequency","sourcePos":[134,1]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"spectralRolloff"},{"annotation":{"meta":null,"sourceSpan":{"end":[122,55],"start":[122,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[122,55],"start":[122,1]}},"argument":"currentSpectrum","body":{"annotation":{"meta":null,"sourceSpan":{"end":[122,55],"start":[122,1]}},"argument":"prevSpectrum","body":{"annotation":{"meta":null,"sourceSpan":{"end":[130,34],"start":[124,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[124,66],"start":[124,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,44],"start":[124,16]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[124,27],"start":[124,21]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,43],"start":[124,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,43],"start":[124,28]}},"type":"Var","value":{"identifier":"currentSpectrum","sourcePos":[123,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[124,66],"start":[124,16]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[124,52],"start":[124,46]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,65],"start":[124,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,65],"start":[124,53]}},"type":"Var","value":{"identifier":"prevSpectrum","sourcePos":[123,1]}},"type":"App"},"type":"App"},"identifier":"minLen"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[125,11],"start":[125,6]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[130,7],"start":[125,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,49],"start":[125,13]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[129,49],"start":[125,13]}},"argument":"k","body":{"annotation":{"meta":null,"sourceSpan":{"end":[129,49],"start":[126,8]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[127,52],"start":[127,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[127,28],"start":[127,19]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[127,32],"start":[127,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,32],"start":[127,29]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[127,52],"start":[127,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[127,49],"start":[127,47]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[127,51],"start":[127,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,46],"start":[127,34]}},"type":"Var","value":{"identifier":"prevSpectrum","sourcePos":[123,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[127,51],"start":[127,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,51],"start":[127,50]}},"type":"Var","value":{"identifier":"k","sourcePos":[125,18]}},"type":"App"},"type":"App"},"identifier":"prev"},{"annotation":{"meta":null,"sourceSpan":{"end":[126,55],"start":[126,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[126,28],"start":[126,19]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[126,32],"start":[126,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,32],"start":[126,29]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[126,55],"start":[126,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[126,52],"start":[126,50]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[126,54],"start":[126,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,49],"start":[126,34]}},"type":"Var","value":{"identifier":"currentSpectrum","sourcePos":[123,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[126,54],"start":[126,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,54],"start":[126,53]}},"type":"Var","value":{"identifier":"k","sourcePos":[125,18]}},"type":"App"},"type":"App"},"identifier":"curr"},{"annotation":{"meta":null,"sourceSpan":{"end":[128,30],"start":[128,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[128,30],"start":[128,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[128,23],"start":[128,19]}},"type":"Var","value":{"identifier":"curr","sourcePos":[126,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[128,30],"start":[128,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[128,30],"start":[128,26]}},"type":"Var","value":{"identifier":"prev","sourcePos":[127,12]}},"type":"App"},"identifier":"diff"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[129,49],"start":[129,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[129,49],"start":[129,11]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[129,40],"start":[129,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,33],"start":[129,30]}},"type":"Var","value":{"identifier":"acc","sourcePos":[125,14]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[129,40],"start":[129,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,40],"start":[129,36]}},"type":"Var","value":{"identifier":"diff","sourcePos":[128,12]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[129,49],"start":[129,11]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[129,49],"start":[129,46]}},"type":"Var","value":{"identifier":"acc","sourcePos":[125,14]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[129,24],"start":[129,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,18],"start":[129,14]}},"type":"Var","value":{"identifier":"diff","sourcePos":[128,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[129,24],"start":[129,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,24],"start":[129,21]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[130,11],"start":[125,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,11],"start":[130,8]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[130,34],"start":[125,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[130,18],"start":[130,13]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[130,20],"start":[130,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,20],"start":[130,19]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[130,33],"start":[130,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[130,32],"start":[130,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,28],"start":[130,22]}},"type":"Var","value":{"identifier":"minLen","sourcePos":[124,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[130,32],"start":[130,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,32],"start":[130,31]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"spectralFlux"},{"annotation":{"meta":null,"sourceSpan":{"end":[146,43],"start":[146,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[146,43],"start":[146,1]}},"argument":"magnitudes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[156,79],"start":[148,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[148,48],"start":[148,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[148,23],"start":[148,17]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[148,37],"start":[148,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[148,37],"start":[148,24]}},"argument":"v","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[148,37],"start":[148,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[148,37],"start":[148,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[148,36],"start":[148,29]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-10}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[148,48],"start":[148,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[148,48],"start":[148,38]}},"type":"Var","value":{"identifier":"magnitudes","sourcePos":[147,1]}},"type":"App"},"identifier":"nonZero"},{"annotation":{"meta":null,"sourceSpan":{"end":[149,25],"start":[149,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[149,17],"start":[149,11]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[149,25],"start":[149,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,25],"start":[149,18]}},"type":"Var","value":{"identifier":"nonZero","sourcePos":[148,7]}},"type":"App"},"identifier":"n"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[156,79],"start":[150,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[156,79],"start":[150,6]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[150,24],"start":[150,21]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[156,79],"start":[150,6]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[156,79],"start":[152,8]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[152,27],"start":[152,12]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[152,25],"start":[152,17]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[152,27],"start":[152,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[152,27],"start":[152,26]}},"type":"Var","value":{"identifier":"n","sourcePos":[149,7]}},"type":"App"},"identifier":"nf"},{"annotation":{"meta":null,"sourceSpan":{"end":[153,67],"start":[153,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[153,26],"start":[153,21]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[153,55],"start":[153,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,54],"start":[153,28]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[153,54],"start":[153,28]}},"argument":"m","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[153,54],"start":[153,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,41],"start":[153,38]}},"type":"Var","value":{"identifier":"acc","sourcePos":[153,29]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[153,54],"start":[153,38]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[153,52],"start":[153,44]}},"type":"Var","value":{"identifier":"log","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[153,54],"start":[153,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,54],"start":[153,53]}},"type":"Var","value":{"identifier":"m","sourcePos":[153,33]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[153,59],"start":[153,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,59],"start":[153,56]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[153,67],"start":[153,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,67],"start":[153,60]}},"type":"Var","value":{"identifier":"nonZero","sourcePos":[148,7]}},"type":"App"},"identifier":"logSum"},{"annotation":{"meta":null,"sourceSpan":{"end":[154,50],"start":[154,12]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[154,36],"start":[154,28]}},"type":"Var","value":{"identifier":"exp","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[154,50],"start":[154,28]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[154,49],"start":[154,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,44],"start":[154,38]}},"type":"Var","value":{"identifier":"logSum","sourcePos":[153,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[154,49],"start":[154,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,49],"start":[154,47]}},"type":"Var","value":{"identifier":"nf","sourcePos":[152,12]}},"type":"App"},"type":"App"},"identifier":"geometricMean"},{"annotation":{"meta":null,"sourceSpan":{"end":[155,55],"start":[155,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,55],"start":[155,29]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[155,34],"start":[155,29]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,38],"start":[155,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[155,42],"start":[155,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,42],"start":[155,39]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[155,50],"start":[155,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,50],"start":[155,43]}},"type":"Var","value":{"identifier":"nonZero","sourcePos":[148,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[155,55],"start":[155,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,55],"start":[155,53]}},"type":"Var","value":{"identifier":"nf","sourcePos":[152,12]}},"type":"App"},"identifier":"arithmeticMean"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[156,79],"start":[156,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[156,79],"start":[156,11]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[156,70],"start":[156,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[156,53],"start":[156,40]}},"type":"Var","value":{"identifier":"geometricMean","sourcePos":[154,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[156,70],"start":[156,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[156,70],"start":[156,56]}},"type":"Var","value":{"identifier":"arithmeticMean","sourcePos":[155,12]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[156,79],"start":[156,11]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[156,79],"start":[156,76]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[156,34],"start":[156,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[156,28],"start":[156,14]}},"type":"Var","value":{"identifier":"arithmeticMean","sourcePos":[155,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[156,34],"start":[156,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[156,34],"start":[156,31]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[150,15],"start":[150,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,10],"start":[150,9]}},"type":"Var","value":{"identifier":"n","sourcePos":[149,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[150,15],"start":[150,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,15],"start":[150,14]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"identifier":"spectralFlatness"},{"annotation":{"meta":null,"sourceSpan":{"end":[363,32],"start":[363,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[364,84],"start":[364,19]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[364,23],"start":[364,20]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"C"}},{"annotation":{"meta":null,"sourceSpan":{"end":[364,29],"start":[364,25]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"C#"}},{"annotation":{"meta":null,"sourceSpan":{"end":[364,34],"start":[364,31]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"D"}},{"annotation":{"meta":null,"sourceSpan":{"end":[364,40],"start":[364,36]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"D#"}},{"annotation":{"meta":null,"sourceSpan":{"end":[364,45],"start":[364,42]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"E"}},{"annotation":{"meta":null,"sourceSpan":{"end":[364,50],"start":[364,47]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"F"}},{"annotation":{"meta":null,"sourceSpan":{"end":[364,56],"start":[364,52]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"F#"}},{"annotation":{"meta":null,"sourceSpan":{"end":[364,61],"start":[364,58]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"G"}},{"annotation":{"meta":null,"sourceSpan":{"end":[364,67],"start":[364,63]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"G#"}},{"annotation":{"meta":null,"sourceSpan":{"end":[364,72],"start":[364,69]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"A"}},{"annotation":{"meta":null,"sourceSpan":{"end":[364,78],"start":[364,74]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"A#"}},{"annotation":{"meta":null,"sourceSpan":{"end":[364,83],"start":[364,80]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"B"}}]}},"identifier":"pitchClassNames"},{"annotation":{"meta":null,"sourceSpan":{"end":[266,67],"start":[266,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[266,67],"start":[266,1]}},"argument":"values","body":{"annotation":{"meta":null,"sourceSpan":{"end":[266,67],"start":[266,1]}},"argument":"minOut","body":{"annotation":{"meta":null,"sourceSpan":{"end":[266,67],"start":[266,1]}},"argument":"maxOut","body":{"annotation":{"meta":null,"sourceSpan":{"end":[266,67],"start":[266,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[267,22],"start":[267,16]}},"binderType":"VarBinder","identifier":"values1"},{"annotation":{"meta":null,"sourceSpan":{"end":[267,29],"start":[267,23]}},"binderType":"VarBinder","identifier":"minOut1"},{"annotation":{"meta":null,"sourceSpan":{"end":[267,36],"start":[267,30]}},"binderType":"VarBinder","identifier":"maxOut1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[268,28],"start":[268,26]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[268,23],"start":[268,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[268,11],"start":[268,5]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[268,18],"start":[268,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[268,18],"start":[268,12]}},"type":"Var","value":{"identifier":"values1","sourcePos":[267,16]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[268,23],"start":[268,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[268,23],"start":[268,22]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[274,74],"start":[270,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[273,37],"start":[273,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[273,37],"start":[273,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[273,28],"start":[273,22]}},"type":"Var","value":{"identifier":"maxOut1","sourcePos":[267,30]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[273,37],"start":[273,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[273,37],"start":[273,31]}},"type":"Var","value":{"identifier":"minOut1","sourcePos":[267,23]}},"type":"App"},"identifier":"outRange"},{"annotation":{"meta":null,"sourceSpan":{"end":[270,66],"start":[270,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[270,25],"start":[270,20]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[270,29],"start":[270,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[270,59],"start":[270,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[270,40],"start":[270,31]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[270,44],"start":[270,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[270,44],"start":[270,41]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[270,58],"start":[270,31]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[270,55],"start":[270,53]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[270,57],"start":[270,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[270,52],"start":[270,46]}},"type":"Var","value":{"identifier":"values1","sourcePos":[267,16]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[270,57],"start":[270,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[270,57],"start":[270,56]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[270,66],"start":[270,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[270,66],"start":[270,60]}},"type":"Var","value":{"identifier":"values1","sourcePos":[267,16]}},"type":"App"},"identifier":"minVal"},{"annotation":{"meta":null,"sourceSpan":{"end":[271,66],"start":[271,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[271,25],"start":[271,20]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[271,29],"start":[271,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[271,59],"start":[271,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[271,40],"start":[271,31]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[271,44],"start":[271,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[271,44],"start":[271,41]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[271,58],"start":[271,31]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[271,55],"start":[271,53]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[271,57],"start":[271,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[271,52],"start":[271,46]}},"type":"Var","value":{"identifier":"values1","sourcePos":[267,16]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[271,57],"start":[271,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[271,57],"start":[271,56]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[271,66],"start":[271,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[271,66],"start":[271,60]}},"type":"Var","value":{"identifier":"values1","sourcePos":[267,16]}},"type":"App"},"identifier":"maxVal"},{"annotation":{"meta":null,"sourceSpan":{"end":[272,71],"start":[272,11]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[272,71],"start":[272,22]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[272,71],"start":[272,22]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[272,50],"start":[272,47]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[272,71],"start":[272,22]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[272,71],"start":[272,56]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[272,62],"start":[272,56]}},"type":"Var","value":{"identifier":"maxVal","sourcePos":[271,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[272,71],"start":[272,56]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[272,71],"start":[272,65]}},"type":"Var","value":{"identifier":"minVal","sourcePos":[270,11]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[272,41],"start":[272,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[272,31],"start":[272,25]}},"type":"Var","value":{"identifier":"maxVal","sourcePos":[271,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[272,41],"start":[272,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[272,41],"start":[272,35]}},"type":"Var","value":{"identifier":"minVal","sourcePos":[270,11]}},"type":"App"}],"type":"Case"},"identifier":"rangeVal"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[274,67],"start":[274,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[274,66],"start":[274,15]}},"argument":"v","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[274,66],"start":[274,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[274,27],"start":[274,21]}},"type":"Var","value":{"identifier":"minOut1","sourcePos":[267,23]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[274,66],"start":[274,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[274,66],"start":[274,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[274,54],"start":[274,31]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[274,42],"start":[274,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[274,33],"start":[274,32]}},"type":"Var","value":{"identifier":"v","sourcePos":[274,16]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[274,42],"start":[274,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[274,42],"start":[274,36]}},"type":"Var","value":{"identifier":"minVal","sourcePos":[270,11]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[274,54],"start":[274,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[274,54],"start":[274,46]}},"type":"Var","value":{"identifier":"rangeVal","sourcePos":[272,11]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[274,66],"start":[274,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[274,66],"start":[274,58]}},"type":"Var","value":{"identifier":"outRange","sourcePos":[273,11]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[274,74],"start":[274,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[274,74],"start":[274,68]}},"type":"Var","value":{"identifier":"values1","sourcePos":[267,16]}},"type":"App"},"type":"Let"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[269,14],"start":[269,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[274,74],"start":[267,1]}},"type":"Var","value":{"identifier":"values","sourcePos":[267,16]}},{"annotation":{"meta":null,"sourceSpan":{"end":[274,74],"start":[267,1]}},"type":"Var","value":{"identifier":"minOut","sourcePos":[267,23]}},{"annotation":{"meta":null,"sourceSpan":{"end":[274,74],"start":[267,1]}},"type":"Var","value":{"identifier":"maxOut","sourcePos":[267,30]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"normalizeArray"},{"annotation":{"meta":null,"sourceSpan":{"end":[277,44],"start":[277,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[277,44],"start":[277,1]}},"argument":"values","body":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[278,36],"start":[278,22]}},"type":"Var","value":{"identifier":"normalizeArray","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[278,43],"start":[278,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[278,43],"start":[278,37]}},"type":"Var","value":{"identifier":"values","sourcePos":[278,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[278,47],"start":[278,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[278,47],"start":[278,44]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[278,51],"start":[278,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[278,51],"start":[278,48]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"Abs"},"identifier":"normalize01"},{"annotation":{"meta":null,"sourceSpan":{"end":[195,29],"start":[195,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[195,29],"start":[195,1]}},"argument":"midi","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[196,71],"start":[196,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[196,22],"start":[196,17]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":440}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[196,71],"start":[196,17]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[196,33],"start":[196,25]}},"type":"Var","value":{"identifier":"exp","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[196,71],"start":[196,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[196,70],"start":[196,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[196,70],"start":[196,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[196,47],"start":[196,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[196,40],"start":[196,36]}},"type":"Var","value":{"identifier":"midi","sourcePos":[196,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[196,47],"start":[196,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[196,47],"start":[196,43]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":69}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[196,70],"start":[196,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[196,55],"start":[196,51]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":12}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[196,70],"start":[196,35]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[196,66],"start":[196,58]}},"type":"Var","value":{"identifier":"log","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[196,70],"start":[196,58]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[196,70],"start":[196,67]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"midiToHz"},{"annotation":{"meta":null,"sourceSpan":{"end":[189,28],"start":[189,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[189,28],"start":[189,1]}},"argument":"mel","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,70],"start":[190,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,20],"start":[190,15]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":700}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[190,70],"start":[190,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,69],"start":[190,24]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[190,32],"start":[190,24]}},"type":"Var","value":{"identifier":"exp","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,63],"start":[190,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,62],"start":[190,34]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,62],"start":[190,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,37],"start":[190,34]}},"type":"Var","value":{"identifier":"mel","sourcePos":[190,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[190,62],"start":[190,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,46],"start":[190,40]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2595}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[190,62],"start":[190,34]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[190,57],"start":[190,49]}},"type":"Var","value":{"identifier":"log","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,62],"start":[190,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,62],"start":[190,58]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":10}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[190,69],"start":[190,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,69],"start":[190,66]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"melToHz"},{"annotation":{"meta":null,"sourceSpan":{"end":[201,29],"start":[201,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[201,29],"start":[201,1]}},"argument":"hz","body":{"annotation":{"meta":null,"sourceSpan":{"end":[201,29],"start":[201,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[202,12],"start":[202,10]}},"binderType":"VarBinder","identifier":"hz1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[203,20],"start":[203,17]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[203,14],"start":[203,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[203,7],"start":[203,5]}},"type":"Var","value":{"identifier":"hz1","sourcePos":[202,10]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[203,14],"start":[203,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[203,14],"start":[203,11]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}},{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[204,67],"start":[204,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[204,21],"start":[204,17]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":69}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[204,67],"start":[204,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[204,67],"start":[204,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[204,67],"start":[204,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[204,28],"start":[204,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":12}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[204,67],"start":[204,17]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[204,39],"start":[204,31]}},"type":"Var","value":{"identifier":"log","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[204,52],"start":[204,31]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[204,51],"start":[204,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[204,43],"start":[204,41]}},"type":"Var","value":{"identifier":"hz1","sourcePos":[202,10]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[204,51],"start":[204,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[204,51],"start":[204,46]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":440}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[204,67],"start":[204,17]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[204,63],"start":[204,55]}},"type":"Var","value":{"identifier":"log","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[204,67],"start":[204,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[204,67],"start":[204,64]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"type":"App"},"type":"App"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[204,14],"start":[204,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[204,67],"start":[202,1]}},"type":"Var","value":{"identifier":"hz","sourcePos":[202,10]}}],"type":"Case"},"type":"Abs"},"identifier":"hzToMidi"},{"annotation":{"meta":null,"sourceSpan":{"end":[209,32],"start":[209,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[209,32],"start":[209,1]}},"argument":"hz","body":{"annotation":{"meta":null,"sourceSpan":{"end":[213,22],"start":[211,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[211,25],"start":[211,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[211,22],"start":[211,14]}},"type":"Var","value":{"identifier":"hzToMidi","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[211,25],"start":[211,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[211,25],"start":[211,23]}},"type":"Var","value":{"identifier":"hz","sourcePos":[210,1]}},"type":"App"},"identifier":"midi"},{"annotation":{"meta":null,"sourceSpan":{"end":[212,27],"start":[212,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[212,22],"start":[212,17]}},"type":"Var","value":{"identifier":"toInt","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[212,27],"start":[212,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[212,27],"start":[212,23]}},"type":"Var","value":{"identifier":"midi","sourcePos":[211,7]}},"type":"App"},"identifier":"rounded"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mod","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[213,22],"start":[213,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[213,13],"start":[213,6]}},"type":"Var","value":{"identifier":"rounded","sourcePos":[212,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[213,22],"start":[213,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[213,22],"start":[213,20]}},"type":"Literal","value":{"literalType":"IntLiteral","value":12}},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"hzToPitchClass"},{"annotation":{"meta":null,"sourceSpan":{"end":[183,28],"start":[183,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[183,28],"start":[183,1]}},"argument":"hz","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[184,66],"start":[184,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[184,66],"start":[184,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[184,20],"start":[184,14]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2595}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[184,66],"start":[184,14]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[184,31],"start":[184,23]}},"type":"Var","value":{"identifier":"log","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[184,50],"start":[184,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[184,49],"start":[184,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[184,36],"start":[184,33]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[184,49],"start":[184,33]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[184,49],"start":[184,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[184,41],"start":[184,39]}},"type":"Var","value":{"identifier":"hz","sourcePos":[184,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[184,49],"start":[184,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[184,49],"start":[184,44]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":700}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[184,66],"start":[184,14]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[184,61],"start":[184,53]}},"type":"Var","value":{"identifier":"log","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[184,66],"start":[184,53]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[184,66],"start":[184,62]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":10}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"hzToMel"},{"annotation":{"meta":null,"sourceSpan":{"end":[63,37],"start":[63,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[63,37],"start":[63,1]}},"argument":"i","body":{"annotation":{"meta":null,"sourceSpan":{"end":[63,37],"start":[63,1]}},"argument":"n","body":{"annotation":{"meta":null,"sourceSpan":{"end":[63,37],"start":[63,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[64,15],"start":[64,14]}},"binderType":"VarBinder","identifier":"i1"},{"annotation":{"meta":null,"sourceSpan":{"end":[64,17],"start":[64,16]}},"binderType":"VarBinder","identifier":"n1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[65,17],"start":[65,14]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[65,11],"start":[65,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[65,6],"start":[65,5]}},"type":"Var","value":{"identifier":"n1","sourcePos":[64,16]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[65,11],"start":[65,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[65,11],"start":[65,10]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"}},{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[66,87],"start":[66,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[66,20],"start":[66,17]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[66,87],"start":[66,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[66,86],"start":[66,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[66,27],"start":[66,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[66,86],"start":[66,24]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[66,38],"start":[66,30]}},"type":"Var","value":{"identifier":"cos","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[66,86],"start":[66,30]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[66,85],"start":[66,40]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[66,85],"start":[66,40]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[66,85],"start":[66,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[66,43],"start":[66,40]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[66,85],"start":[66,40]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[66,53],"start":[66,46]}},"type":"Var","value":{"identifier":"pi","moduleName":["Math"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[66,85],"start":[66,40]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[66,64],"start":[66,56]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[66,66],"start":[66,56]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[66,66],"start":[66,65]}},"type":"Var","value":{"identifier":"i1","sourcePos":[64,14]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[66,85],"start":[66,40]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[66,77],"start":[66,69]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[66,85],"start":[66,69]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[66,84],"start":[66,79]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[66,80],"start":[66,79]}},"type":"Var","value":{"identifier":"n1","sourcePos":[64,16]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[66,84],"start":[66,79]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[66,84],"start":[66,83]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[66,14],"start":[66,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[66,87],"start":[64,1]}},"type":"Var","value":{"identifier":"i","sourcePos":[64,14]}},{"annotation":{"meta":null,"sourceSpan":{"end":[66,87],"start":[64,1]}},"type":"Var","value":{"identifier":"n","sourcePos":[64,16]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"hanningCoeff"},{"annotation":{"meta":null,"sourceSpan":{"end":[404,72],"start":[404,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[404,72],"start":[404,1]}},"argument":"f","body":{"annotation":{"meta":null,"sourceSpan":{"end":[404,72],"start":[404,1]}},"argument":"init","body":{"annotation":{"meta":null,"sourceSpan":{"end":[404,72],"start":[404,1]}},"argument":"arr","body":{"annotation":{"meta":null,"sourceSpan":{"end":[407,16],"start":[406,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[406,106],"start":[406,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[406,21],"start":[406,16]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[406,80],"start":[406,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[406,79],"start":[406,23]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[406,79],"start":[406,23]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[406,79],"start":[406,33]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["val",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[406,41],"start":[406,40]}},"type":"Var","value":{"identifier":"f","sourcePos":[405,1]}},"annotation":{"meta":null,"sourceSpan":{"end":[406,49],"start":[406,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[406,49],"start":[406,42]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[406,45],"start":[406,42]}},"type":"Var","value":{"identifier":"acc","sourcePos":[406,24]}},"fieldName":"val","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[406,57],"start":[406,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[406,57],"start":[406,50]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[406,53],"start":[406,50]}},"type":"Var","value":{"identifier":"acc","sourcePos":[406,24]}},"fieldName":"idx","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[406,59],"start":[406,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[406,59],"start":[406,58]}},"type":"Var","value":{"identifier":"x","sourcePos":[406,28]}},"type":"App"}],["idx",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[406,77],"start":[406,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[406,73],"start":[406,66]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[406,69],"start":[406,66]}},"type":"Var","value":{"identifier":"acc","sourcePos":[406,24]}},"fieldName":"idx","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[406,77],"start":[406,66]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[406,77],"start":[406,76]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"}]]}},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[406,102],"start":[406,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[406,102],"start":[406,81]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["val",{"annotation":{"meta":null,"sourceSpan":{"end":[406,92],"start":[406,88]}},"type":"Var","value":{"identifier":"init","sourcePos":[405,1]}}],["idx",{"annotation":{"meta":null,"sourceSpan":{"end":[406,100],"start":[406,99]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[406,106],"start":[406,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[406,106],"start":[406,103]}},"type":"Var","value":{"identifier":"arr","sourcePos":[405,1]}},"type":"App"},"identifier":"result"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[407,16],"start":[407,6]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[407,12],"start":[407,6]}},"type":"Var","value":{"identifier":"result","sourcePos":[406,7]}},"fieldName":"val","type":"Accessor"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"foldlWithIndex"},{"annotation":{"meta":null,"sourceSpan":{"end":[111,53],"start":[111,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[111,53],"start":[111,1]}},"argument":"magnitudes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[111,53],"start":[111,1]}},"argument":"binFrequency","body":{"annotation":{"meta":null,"sourceSpan":{"end":[117,60],"start":[113,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[116,40],"start":[113,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[113,30],"start":[113,16]}},"type":"Var","value":{"identifier":"foldlWithIndex","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[116,8],"start":[113,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,57],"start":[113,32]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[115,57],"start":[113,32]}},"argument":"idx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[115,57],"start":[113,32]}},"argument":"mag","body":{"annotation":{"meta":null,"sourceSpan":{"end":[115,57],"start":[114,9]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[114,47],"start":[114,13]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[114,47],"start":[114,20]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[114,28],"start":[114,20]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[114,32],"start":[114,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[114,32],"start":[114,29]}},"type":"Var","value":{"identifier":"idx","sourcePos":[113,37]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[114,47],"start":[114,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[114,47],"start":[114,35]}},"type":"Var","value":{"identifier":"binFrequency","sourcePos":[112,1]}},"type":"App"},"identifier":"freq"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[115,57],"start":[115,12]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["ws",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[115,37],"start":[115,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,24],"start":[115,18]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[115,21],"start":[115,18]}},"type":"Var","value":{"identifier":"acc","sourcePos":[113,33]}},"fieldName":"ws","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[115,37],"start":[115,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[115,37],"start":[115,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,31],"start":[115,27]}},"type":"Var","value":{"identifier":"freq","sourcePos":[114,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[115,37],"start":[115,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,37],"start":[115,34]}},"type":"Var","value":{"identifier":"mag","sourcePos":[113,41]}},"type":"App"},"type":"App"}],["tm",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[115,55],"start":[115,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,49],"start":[115,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[115,46],"start":[115,43]}},"type":"Var","value":{"identifier":"acc","sourcePos":[113,33]}},"fieldName":"tm","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[115,55],"start":[115,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,55],"start":[115,52]}},"type":"Var","value":{"identifier":"mag","sourcePos":[113,41]}},"type":"App"}]]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[116,29],"start":[113,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[116,29],"start":[116,9]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["ws",{"annotation":{"meta":null,"sourceSpan":{"end":[116,18],"start":[116,15]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["tm",{"annotation":{"meta":null,"sourceSpan":{"end":[116,27],"start":[116,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[116,40],"start":[113,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[116,40],"start":[116,30]}},"type":"Var","value":{"identifier":"magnitudes","sourcePos":[112,1]}},"type":"App"},"identifier":"result"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[117,60],"start":[117,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[117,60],"start":[117,6]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[117,51],"start":[117,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[117,39],"start":[117,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[117,36],"start":[117,30]}},"type":"Var","value":{"identifier":"result","sourcePos":[113,7]}},"fieldName":"ws","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[117,51],"start":[117,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[117,51],"start":[117,42]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[117,48],"start":[117,42]}},"type":"Var","value":{"identifier":"result","sourcePos":[113,7]}},"fieldName":"tm","type":"Accessor"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[117,60],"start":[117,6]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[117,60],"start":[117,57]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[117,24],"start":[117,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[117,18],"start":[117,9]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[117,15],"start":[117,9]}},"type":"Var","value":{"identifier":"result","sourcePos":[113,7]}},"fieldName":"tm","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[117,24],"start":[117,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[117,24],"start":[117,21]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"spectralCentroid"},{"annotation":{"meta":null,"sourceSpan":{"end":[249,50],"start":[249,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"Eq$Dict","moduleName":["Data","Eq"]}},"annotation":{"meta":null,"sourceSpan":{"end":[249,50],"start":[249,1]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["eq",{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"CurveLinear","moduleName":["Lattice","Services","Audio","SignalProcessing"]},"typeName":{"identifier":"FeatureCurve","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"CurveLinear","moduleName":["Lattice","Services","Audio","SignalProcessing"]},"typeName":{"identifier":"FeatureCurve","moduleName":["Lattice","Services","Audio","SignalProcessing"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"CurveExponential","moduleName":["Lattice","Services","Audio","SignalProcessing"]},"typeName":{"identifier":"FeatureCurve","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"CurveExponential","moduleName":["Lattice","Services","Audio","SignalProcessing"]},"typeName":{"identifier":"FeatureCurve","moduleName":["Lattice","Services","Audio","SignalProcessing"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"CurveLogarithmic","moduleName":["Lattice","Services","Audio","SignalProcessing"]},"typeName":{"identifier":"FeatureCurve","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"CurveLogarithmic","moduleName":["Lattice","Services","Audio","SignalProcessing"]},"typeName":{"identifier":"FeatureCurve","moduleName":["Lattice","Services","Audio","SignalProcessing"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"CurveSmoothstep","moduleName":["Lattice","Services","Audio","SignalProcessing"]},"typeName":{"identifier":"FeatureCurve","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"CurveSmoothstep","moduleName":["Lattice","Services","Audio","SignalProcessing"]},"typeName":{"identifier":"FeatureCurve","moduleName":["Lattice","Services","Audio","SignalProcessing"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"x","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"y","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"}]]}},"type":"App"},"identifier":"eqFeatureCurve"},{"annotation":{"meta":null,"sourceSpan":{"end":[341,86],"start":[341,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[341,86],"start":[341,1]}},"argument":"peaks","body":{"annotation":{"meta":null,"sourceSpan":{"end":[341,86],"start":[341,1]}},"argument":"minDistance","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[344,29],"start":[343,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[356,35],"start":[346,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[356,35],"start":[346,5]}},"argument":"filtered","body":{"annotation":{"meta":null,"sourceSpan":{"end":[356,35],"start":[346,5]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[356,35],"start":[346,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[346,21],"start":[346,13]}},"binderType":"VarBinder","identifier":"filtered1"},{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[346,36],"start":[346,23]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[346,32],"start":[346,29]}},"binderType":"VarBinder","identifier":"idx"},{"annotation":{"meta":null,"sourceSpan":{"end":[346,36],"start":[346,33]}},"binderType":"VarBinder","identifier":"val"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[356,35],"start":[347,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[347,89],"start":[347,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[347,28],"start":[347,22]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[347,80],"start":[347,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[347,79],"start":[347,30]}},"argument":"v1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[347,79],"start":[347,30]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[347,42],"start":[347,32]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[347,40],"start":[347,38]}},"binderType":"VarBinder","identifier":"pi"},{"annotation":{"meta":null,"sourceSpan":{"end":[347,42],"start":[347,41]}},"binderType":"NullBinder"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[347,79],"start":[347,47]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"abs","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[347,65],"start":[347,47]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[347,64],"start":[347,56]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[347,58],"start":[347,56]}},"type":"Var","value":{"identifier":"pi","sourcePos":[347,38]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[347,64],"start":[347,56]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[347,64],"start":[347,61]}},"type":"Var","value":{"identifier":"idx","sourcePos":[346,29]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[347,79],"start":[347,47]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[347,79],"start":[347,68]}},"type":"Var","value":{"identifier":"minDistance","sourcePos":[342,1]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[347,89],"start":[347,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[347,89],"start":[347,81]}},"type":"Var","value":{"identifier":"filtered1","sourcePos":[346,13]}},"type":"App"},"identifier":"conflict"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[356,35],"start":[348,10]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[349,14],"start":[349,12]}},"binderType":"LiteralBinder","literal":{"literalType":"ArrayLiteral","value":[]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[349,45],"start":[349,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[349,26],"start":[349,18]}},"type":"Var","value":{"identifier":"filtered1","sourcePos":[346,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[349,45],"start":[349,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[349,45],"start":[349,30]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[349,36],"start":[349,31]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[349,40],"start":[349,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[349,40],"start":[349,37]}},"type":"Var","value":{"identifier":"idx","sourcePos":[346,29]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[349,44],"start":[349,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[349,44],"start":[349,41]}},"type":"Var","value":{"identifier":"val","sourcePos":[346,33]}},"type":"App"}]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[350,13],"start":[350,12]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[356,35],"start":[351,14]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[341,86],"start":[341,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[351,30],"start":[351,28]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[351,32],"start":[351,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[351,27],"start":[351,19]}},"type":"Var","value":{"identifier":"conflict","sourcePos":[347,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[351,32],"start":[351,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[351,32],"start":[351,31]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[356,35],"start":[351,14]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[352,44],"start":[352,16]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[352,43],"start":[352,22]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[352,35],"start":[352,28]}},"binderType":"VarBinder","identifier":"prevIdx"},{"annotation":{"meta":null,"sourceSpan":{"end":[352,43],"start":[352,36]}},"binderType":"VarBinder","identifier":"prevVal"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[355,31],"start":[353,18]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[355,31],"start":[353,18]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[354,90],"start":[354,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[354,29],"start":[354,23]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[354,62],"start":[354,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[354,61],"start":[354,31]}},"argument":"v2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[354,61],"start":[354,31]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[354,43],"start":[354,33]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[354,41],"start":[354,39]}},"binderType":"VarBinder","identifier":"pi"},{"annotation":{"meta":null,"sourceSpan":{"end":[354,43],"start":[354,42]}},"binderType":"NullBinder"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"notEq","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[354,61],"start":[354,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[354,50],"start":[354,48]}},"type":"Var","value":{"identifier":"pi","sourcePos":[354,39]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[354,61],"start":[354,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[354,61],"start":[354,54]}},"type":"Var","value":{"identifier":"prevIdx","sourcePos":[352,28]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v2","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[354,71],"start":[354,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[354,71],"start":[354,63]}},"type":"Var","value":{"identifier":"filtered1","sourcePos":[346,13]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[354,90],"start":[354,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[354,90],"start":[354,75]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[354,81],"start":[354,76]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[354,85],"start":[354,76]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[354,85],"start":[354,82]}},"type":"Var","value":{"identifier":"idx","sourcePos":[346,29]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[354,89],"start":[354,76]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[354,89],"start":[354,86]}},"type":"Var","value":{"identifier":"val","sourcePos":[346,33]}},"type":"App"}]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[355,31],"start":[353,18]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[355,31],"start":[355,23]}},"type":"Var","value":{"identifier":"filtered1","sourcePos":[346,13]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[353,34],"start":[353,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[353,24],"start":[353,21]}},"type":"Var","value":{"identifier":"val","sourcePos":[346,33]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[353,34],"start":[353,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[353,34],"start":[353,27]}},"type":"Var","value":{"identifier":"prevVal","sourcePos":[352,36]}},"type":"App"}],"type":"Case"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[356,23],"start":[356,16]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[356,35],"start":[356,27]}},"type":"Var","value":{"identifier":"filtered1","sourcePos":[346,13]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[341,86],"start":[341,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[348,23],"start":[348,15]}},"type":"Var","value":{"identifier":"conflict","sourcePos":[347,11]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[356,35],"start":[346,5]}},"type":"Var","value":{"identifier":"filtered","sourcePos":[346,13]}},{"annotation":{"meta":null,"sourceSpan":{"end":[356,35],"start":[346,5]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"addPeak"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[344,29],"start":[343,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[343,74],"start":[343,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[343,22],"start":[343,16]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[343,68],"start":[343,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[343,67],"start":[343,24]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[343,67],"start":[343,24]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[343,36],"start":[343,26]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[343,34],"start":[343,32]}},"binderType":"VarBinder","identifier":"i1"},{"annotation":{"meta":null,"sourceSpan":{"end":[343,36],"start":[343,35]}},"binderType":"NullBinder"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[343,67],"start":[343,24]}},"argument":"v1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[343,67],"start":[343,24]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[343,49],"start":[343,39]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[343,47],"start":[343,45]}},"binderType":"VarBinder","identifier":"i2"},{"annotation":{"meta":null,"sourceSpan":{"end":[343,49],"start":[343,48]}},"binderType":"NullBinder"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[343,64],"start":[343,54]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[343,64],"start":[343,62]}},"type":"Var","value":{"identifier":"i1","sourcePos":[343,32]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[343,67],"start":[343,54]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[343,67],"start":[343,65]}},"type":"Var","value":{"identifier":"i2","sourcePos":[343,45]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[343,74],"start":[343,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[343,74],"start":[343,69]}},"type":"Var","value":{"identifier":"peaks","sourcePos":[342,1]}},"type":"App"},"identifier":"sorted"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[344,11],"start":[344,6]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[344,19],"start":[344,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[344,19],"start":[344,12]}},"type":"Var","value":{"identifier":"addPeak","sourcePos":[346,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[344,22],"start":[344,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[344,22],"start":[344,20]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[344,29],"start":[344,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[344,29],"start":[344,23]}},"type":"Var","value":{"identifier":"sorted","sourcePos":[343,7]}},"type":"App"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"enforceMinPeakDistance"},{"annotation":{"meta":null,"sourceSpan":{"end":[327,72],"start":[327,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[327,72],"start":[327,1]}},"argument":"values","body":{"annotation":{"meta":null,"sourceSpan":{"end":[327,72],"start":[327,1]}},"argument":"threshold","body":{"annotation":{"meta":null,"sourceSpan":{"end":[327,72],"start":[327,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[328,25],"start":[328,19]}},"binderType":"VarBinder","identifier":"values1"},{"annotation":{"meta":null,"sourceSpan":{"end":[328,35],"start":[328,26]}},"binderType":"VarBinder","identifier":"threshold1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[329,28],"start":[329,26]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[329,23],"start":[329,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[329,11],"start":[329,5]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[329,18],"start":[329,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[329,18],"start":[329,12]}},"type":"Var","value":{"identifier":"values1","sourcePos":[328,19]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[329,23],"start":[329,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[329,23],"start":[329,22]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"}},{"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[331,12],"start":[331,7]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[338,8],"start":[331,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[337,20],"start":[331,14]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[337,20],"start":[331,14]}},"argument":"i","body":{"annotation":{"meta":null,"sourceSpan":{"end":[337,20],"start":[332,9]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[332,47],"start":[332,13]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[332,29],"start":[332,20]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[332,33],"start":[332,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[332,33],"start":[332,30]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[332,47],"start":[332,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[332,44],"start":[332,42]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[332,46],"start":[332,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[332,41],"start":[332,35]}},"type":"Var","value":{"identifier":"values1","sourcePos":[328,19]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[332,46],"start":[332,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[332,46],"start":[332,45]}},"type":"Var","value":{"identifier":"i","sourcePos":[331,19]}},"type":"App"},"type":"App"},"identifier":"prev"},{"annotation":{"meta":null,"sourceSpan":{"end":[334,53],"start":[334,13]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[334,29],"start":[334,20]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[334,33],"start":[334,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[334,33],"start":[334,30]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[334,53],"start":[334,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[334,44],"start":[334,42]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[334,52],"start":[334,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[334,41],"start":[334,35]}},"type":"Var","value":{"identifier":"values1","sourcePos":[328,19]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[334,52],"start":[334,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[334,51],"start":[334,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[334,47],"start":[334,46]}},"type":"Var","value":{"identifier":"i","sourcePos":[331,19]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[334,51],"start":[334,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[334,51],"start":[334,50]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"},"type":"App"},"type":"App"},"identifier":"next"},{"annotation":{"meta":null,"sourceSpan":{"end":[333,53],"start":[333,13]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[333,29],"start":[333,20]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[333,33],"start":[333,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[333,33],"start":[333,30]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[333,53],"start":[333,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[333,44],"start":[333,42]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[333,52],"start":[333,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[333,41],"start":[333,35]}},"type":"Var","value":{"identifier":"values1","sourcePos":[328,19]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[333,52],"start":[333,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[333,51],"start":[333,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[333,47],"start":[333,46]}},"type":"Var","value":{"identifier":"i","sourcePos":[331,19]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[333,51],"start":[333,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[333,51],"start":[333,50]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"identifier":"curr"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[337,20],"start":[335,12]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[337,20],"start":[335,12]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[336,44],"start":[336,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[336,20],"start":[336,17]}},"type":"Var","value":{"identifier":"acc","sourcePos":[331,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[336,44],"start":[336,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[336,44],"start":[336,24]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[336,30],"start":[336,25]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[336,38],"start":[336,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[336,37],"start":[336,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[336,33],"start":[336,32]}},"type":"Var","value":{"identifier":"i","sourcePos":[331,19]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[336,37],"start":[336,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[336,37],"start":[336,36]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[336,43],"start":[336,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[336,43],"start":[336,39]}},"type":"Var","value":{"identifier":"curr","sourcePos":[333,13]}},"type":"App"}]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[337,20],"start":[335,12]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[337,20],"start":[337,17]}},"type":"Var","value":{"identifier":"acc","sourcePos":[331,15]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[335,62],"start":[335,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[335,62],"start":[335,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[335,19],"start":[335,15]}},"type":"Var","value":{"identifier":"curr","sourcePos":[333,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[335,62],"start":[335,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[335,26],"start":[335,22]}},"type":"Var","value":{"identifier":"prev","sourcePos":[332,13]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[335,62],"start":[335,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[335,62],"start":[335,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[335,62],"start":[335,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[335,34],"start":[335,30]}},"type":"Var","value":{"identifier":"curr","sourcePos":[333,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[335,62],"start":[335,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[335,41],"start":[335,37]}},"type":"Var","value":{"identifier":"next","sourcePos":[334,13]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[335,62],"start":[335,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[335,62],"start":[335,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[335,49],"start":[335,45]}},"type":"Var","value":{"identifier":"curr","sourcePos":[333,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[335,62],"start":[335,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[335,62],"start":[335,53]}},"type":"Var","value":{"identifier":"threshold1","sourcePos":[328,26]}},"type":"App"},"type":"App"},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[338,11],"start":[331,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[338,11],"start":[338,9]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[338,41],"start":[331,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[338,18],"start":[338,13]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[338,20],"start":[338,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[338,20],"start":[338,19]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[338,40],"start":[338,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[338,39],"start":[338,22]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[338,28],"start":[338,22]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[338,35],"start":[338,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[338,35],"start":[338,29]}},"type":"Var","value":{"identifier":"values1","sourcePos":[328,19]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[338,39],"start":[338,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[338,39],"start":[338,38]}},"type":"Literal","value":{"literalType":"IntLiteral","value":3}},"type":"App"},"type":"App"},"type":"App"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[330,14],"start":[330,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[338,41],"start":[328,1]}},"type":"Var","value":{"identifier":"values","sourcePos":[328,19]}},{"annotation":{"meta":null,"sourceSpan":{"end":[338,41],"start":[328,1]}},"type":"Var","value":{"identifier":"threshold","sourcePos":[328,26]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"detectLocalMaxima"},{"annotation":{"meta":null,"sourceSpan":{"end":[222,42],"start":[222,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[222,42],"start":[222,1]}},"argument":"logMelEnergies","body":{"annotation":{"meta":null,"sourceSpan":{"end":[222,42],"start":[222,1]}},"argument":"c","body":{"annotation":{"meta":null,"sourceSpan":{"end":[222,42],"start":[222,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[223,24],"start":[223,10]}},"binderType":"VarBinder","identifier":"logMelEnergies1"},{"annotation":{"meta":null,"sourceSpan":{"end":[223,26],"start":[223,25]}},"binderType":"VarBinder","identifier":"c1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[224,37],"start":[224,34]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[224,31],"start":[224,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[224,11],"start":[224,5]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[224,26],"start":[224,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[224,26],"start":[224,12]}},"type":"Var","value":{"identifier":"logMelEnergies1","sourcePos":[223,10]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[224,31],"start":[224,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[224,31],"start":[224,30]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[231,30],"start":[226,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[226,36],"start":[226,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[226,21],"start":[226,15]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[226,36],"start":[226,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[226,36],"start":[226,22]}},"type":"Var","value":{"identifier":"logMelEnergies1","sourcePos":[223,10]}},"type":"App"},"identifier":"n"},{"annotation":{"meta":null,"sourceSpan":{"end":[227,26],"start":[227,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[227,24],"start":[227,16]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[227,26],"start":[227,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[227,26],"start":[227,25]}},"type":"Var","value":{"identifier":"n","sourcePos":[226,11]}},"type":"App"},"identifier":"nf"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[228,24],"start":[228,10]}},"type":"Var","value":{"identifier":"foldlWithIndex","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[231,11],"start":[228,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[230,44],"start":[228,26]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[230,44],"start":[228,26]}},"argument":"m","body":{"annotation":{"meta":null,"sourceSpan":{"end":[230,44],"start":[228,26]}},"argument":"energy","body":{"annotation":{"meta":null,"sourceSpan":{"end":[230,44],"start":[229,12]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[229,70],"start":[229,16]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[229,70],"start":[229,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[229,70],"start":[229,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[229,70],"start":[229,24]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[229,31],"start":[229,24]}},"type":"Var","value":{"identifier":"pi","moduleName":["Math"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[229,70],"start":[229,24]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[229,42],"start":[229,34]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[229,44],"start":[229,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[229,44],"start":[229,43]}},"type":"Var","value":{"identifier":"c1","sourcePos":[223,25]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[229,70],"start":[229,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[229,64],"start":[229,48]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[229,56],"start":[229,48]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[229,58],"start":[229,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[229,58],"start":[229,57]}},"type":"Var","value":{"identifier":"m","sourcePos":[228,31]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[229,64],"start":[229,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[229,64],"start":[229,61]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[229,70],"start":[229,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[229,70],"start":[229,68]}},"type":"Var","value":{"identifier":"nf","sourcePos":[227,11]}},"type":"App"},"identifier":"angle"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[230,44],"start":[230,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[230,18],"start":[230,15]}},"type":"Var","value":{"identifier":"acc","sourcePos":[228,27]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[230,44],"start":[230,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[230,44],"start":[230,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[230,27],"start":[230,21]}},"type":"Var","value":{"identifier":"energy","sourcePos":[228,33]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[230,44],"start":[230,15]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[230,38],"start":[230,30]}},"type":"Var","value":{"identifier":"cos","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[230,44],"start":[230,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[230,44],"start":[230,39]}},"type":"Var","value":{"identifier":"angle","sourcePos":[229,16]}},"type":"App"},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[231,15],"start":[228,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[231,15],"start":[231,12]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[231,30],"start":[228,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[231,30],"start":[231,16]}},"type":"Var","value":{"identifier":"logMelEnergies1","sourcePos":[223,10]}},"type":"App"},"type":"Let"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[225,14],"start":[225,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[231,30],"start":[223,1]}},"type":"Var","value":{"identifier":"logMelEnergies","sourcePos":[223,10]}},{"annotation":{"meta":null,"sourceSpan":{"end":[231,30],"start":[223,1]}},"type":"Var","value":{"identifier":"c","sourcePos":[223,25]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"dctCoeff"},{"annotation":{"meta":null,"sourceSpan":{"end":[234,51],"start":[234,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[234,51],"start":[234,1]}},"argument":"logMelEnergies","body":{"annotation":{"meta":null,"sourceSpan":{"end":[234,51],"start":[234,1]}},"argument":"numCoeffs","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[236,32],"start":[236,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[236,16],"start":[236,8]}},"type":"Var","value":{"identifier":"dctCoeff","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[236,31],"start":[236,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[236,31],"start":[236,17]}},"type":"Var","value":{"identifier":"logMelEnergies","sourcePos":[235,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[236,58],"start":[236,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[236,39],"start":[236,34]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[236,41],"start":[236,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[236,41],"start":[236,40]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[236,57],"start":[236,34]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[236,56],"start":[236,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[236,52],"start":[236,43]}},"type":"Var","value":{"identifier":"numCoeffs","sourcePos":[235,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[236,56],"start":[236,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[236,56],"start":[236,55]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"computeMFCC"},{"annotation":{"meta":null,"sourceSpan":{"end":[367,56],"start":[367,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[367,56],"start":[367,1]}},"argument":"magnitudes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[367,56],"start":[367,1]}},"argument":"binFrequency","body":{"annotation":{"meta":null,"sourceSpan":{"end":[380,12],"start":[369,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[369,21],"start":[369,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[369,21],"start":[369,17]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":27.5}},"identifier":"minFreq"},{"annotation":{"meta":null,"sourceSpan":{"end":[370,23],"start":[370,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[370,23],"start":[370,17]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":4186}},"identifier":"maxFreq"},{"annotation":{"meta":null,"sourceSpan":{"end":[371,80],"start":[371,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[371,80],"start":[371,20]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[371,24],"start":[371,21]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},{"annotation":{"meta":null,"sourceSpan":{"end":[371,29],"start":[371,26]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},{"annotation":{"meta":null,"sourceSpan":{"end":[371,34],"start":[371,31]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},{"annotation":{"meta":null,"sourceSpan":{"end":[371,39],"start":[371,36]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},{"annotation":{"meta":null,"sourceSpan":{"end":[371,44],"start":[371,41]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},{"annotation":{"meta":null,"sourceSpan":{"end":[371,49],"start":[371,46]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},{"annotation":{"meta":null,"sourceSpan":{"end":[371,54],"start":[371,51]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},{"annotation":{"meta":null,"sourceSpan":{"end":[371,59],"start":[371,56]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},{"annotation":{"meta":null,"sourceSpan":{"end":[371,64],"start":[371,61]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},{"annotation":{"meta":null,"sourceSpan":{"end":[371,69],"start":[371,66]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},{"annotation":{"meta":null,"sourceSpan":{"end":[371,74],"start":[371,71]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},{"annotation":{"meta":null,"sourceSpan":{"end":[371,79],"start":[371,76]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]}},"identifier":"initChroma"},{"annotation":{"meta":null,"sourceSpan":{"end":[379,30],"start":[372,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[372,30],"start":[372,16]}},"type":"Var","value":{"identifier":"foldlWithIndex","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[379,8],"start":[372,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[378,48],"start":[372,32]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[378,48],"start":[372,32]}},"argument":"bin","body":{"annotation":{"meta":null,"sourceSpan":{"end":[378,48],"start":[372,32]}},"argument":"mag","body":{"annotation":{"meta":null,"sourceSpan":{"end":[378,48],"start":[373,9]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[373,47],"start":[373,13]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[373,47],"start":[373,20]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[373,28],"start":[373,20]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[373,32],"start":[373,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[373,32],"start":[373,29]}},"type":"Var","value":{"identifier":"bin","sourcePos":[372,37]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[373,47],"start":[373,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[373,47],"start":[373,35]}},"type":"Var","value":{"identifier":"binFrequency","sourcePos":[368,1]}},"type":"App"},"identifier":"freq"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[378,48],"start":[374,12]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[378,48],"start":[374,12]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[374,56],"start":[374,53]}},"type":"Var","value":{"identifier":"acc","sourcePos":[372,33]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[378,48],"start":[374,12]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[378,48],"start":[376,14]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[376,42],"start":[376,18]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[376,37],"start":[376,23]}},"type":"Var","value":{"identifier":"hzToPitchClass","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[376,42],"start":[376,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[376,42],"start":[376,38]}},"type":"Var","value":{"identifier":"freq","sourcePos":[373,13]}},"type":"App"},"identifier":"pc"},{"annotation":{"meta":null,"sourceSpan":{"end":[377,53],"start":[377,18]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[377,37],"start":[377,28]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[377,41],"start":[377,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[377,41],"start":[377,38]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[377,53],"start":[377,28]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[377,49],"start":[377,47]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[377,52],"start":[377,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[377,46],"start":[377,43]}},"type":"Var","value":{"identifier":"acc","sourcePos":[372,33]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[377,52],"start":[377,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[377,52],"start":[377,50]}},"type":"Var","value":{"identifier":"pc","sourcePos":[376,18]}},"type":"App"},"type":"App"},"identifier":"current"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[378,25],"start":[378,17]}},"type":"Var","value":{"identifier":"updateAt","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[378,28],"start":[378,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[378,28],"start":[378,26]}},"type":"Var","value":{"identifier":"pc","sourcePos":[376,18]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[378,44],"start":[378,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[378,43],"start":[378,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[378,37],"start":[378,30]}},"type":"Var","value":{"identifier":"current","sourcePos":[377,18]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[378,43],"start":[378,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[378,43],"start":[378,40]}},"type":"Var","value":{"identifier":"mag","sourcePos":[372,41]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[378,48],"start":[378,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[378,48],"start":[378,45]}},"type":"Var","value":{"identifier":"acc","sourcePos":[372,33]}},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"disj","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[374,47],"start":[374,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[374,47],"start":[374,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[374,19],"start":[374,15]}},"type":"Var","value":{"identifier":"freq","sourcePos":[373,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[374,47],"start":[374,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[374,29],"start":[374,22]}},"type":"Var","value":{"identifier":"minFreq","sourcePos":[369,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[374,47],"start":[374,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[374,47],"start":[374,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[374,37],"start":[374,33]}},"type":"Var","value":{"identifier":"freq","sourcePos":[373,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[374,47],"start":[374,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[374,47],"start":[374,40]}},"type":"Var","value":{"identifier":"maxFreq","sourcePos":[370,7]}},"type":"App"},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[379,19],"start":[372,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[379,19],"start":[379,9]}},"type":"Var","value":{"identifier":"initChroma","sourcePos":[371,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[379,30],"start":[372,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[379,30],"start":[379,20]}},"type":"Var","value":{"identifier":"magnitudes","sourcePos":[368,1]}},"type":"App"},"identifier":"result"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[380,12],"start":[380,6]}},"type":"Var","value":{"identifier":"result","sourcePos":[372,7]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"computeChroma"},{"annotation":{"meta":null,"sourceSpan":{"end":[82,53],"start":[82,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[82,53],"start":[82,1]}},"argument":"samples","body":{"annotation":{"meta":null,"sourceSpan":{"end":[82,53],"start":[82,1]}},"argument":"k","body":{"annotation":{"meta":null,"sourceSpan":{"end":[94,88],"start":[84,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[84,25],"start":[84,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[84,17],"start":[84,11]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[84,25],"start":[84,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[84,25],"start":[84,18]}},"type":"Var","value":{"identifier":"samples","sourcePos":[83,1]}},"type":"App"},"identifier":"n"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[94,88],"start":[85,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[94,88],"start":[85,6]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[85,24],"start":[85,21]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[94,88],"start":[85,6]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[94,88],"start":[87,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[87,63],"start":[87,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[87,63],"start":[87,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[87,63],"start":[87,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[87,63],"start":[87,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[87,27],"start":[87,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[87,63],"start":[87,24]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[87,37],"start":[87,30]}},"type":"Var","value":{"identifier":"pi","moduleName":["Math"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[87,63],"start":[87,24]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[87,48],"start":[87,40]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[87,50],"start":[87,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[87,50],"start":[87,49]}},"type":"Var","value":{"identifier":"k","sourcePos":[83,1]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[87,63],"start":[87,24]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[87,61],"start":[87,53]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[87,63],"start":[87,53]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[87,63],"start":[87,62]}},"type":"Var","value":{"identifier":"n","sourcePos":[84,7]}},"type":"App"},"type":"App"},"identifier":"angleCoeff"},{"annotation":{"meta":null,"sourceSpan":{"end":[93,45],"start":[88,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[88,34],"start":[88,20]}},"type":"Var","value":{"identifier":"foldlWithIndex","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[93,12],"start":[88,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[92,36],"start":[88,36]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[92,36],"start":[88,36]}},"argument":"t","body":{"annotation":{"meta":null,"sourceSpan":{"end":[92,36],"start":[88,36]}},"argument":"sample","body":{"annotation":{"meta":null,"sourceSpan":{"end":[92,36],"start":[89,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[89,48],"start":[89,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[89,48],"start":[89,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[89,35],"start":[89,25]}},"type":"Var","value":{"identifier":"angleCoeff","sourcePos":[87,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[89,48],"start":[89,25]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[89,46],"start":[89,38]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[89,48],"start":[89,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[89,48],"start":[89,47]}},"type":"Var","value":{"identifier":"t","sourcePos":[88,41]}},"type":"App"},"type":"App"},"identifier":"angle"},{"annotation":{"meta":null,"sourceSpan":{"end":[91,55],"start":[91,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[91,55],"start":[91,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[91,29],"start":[91,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[91,24],"start":[91,21]}},"type":"Var","value":{"identifier":"acc","sourcePos":[88,37]}},"fieldName":"imag","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[91,55],"start":[91,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[91,55],"start":[91,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[91,38],"start":[91,32]}},"type":"Var","value":{"identifier":"sample","sourcePos":[88,43]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[91,55],"start":[91,21]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[91,49],"start":[91,41]}},"type":"Var","value":{"identifier":"sin","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[91,55],"start":[91,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[91,55],"start":[91,50]}},"type":"Var","value":{"identifier":"angle","sourcePos":[89,17]}},"type":"App"},"type":"App"},"type":"App"},"identifier":"i"},{"annotation":{"meta":null,"sourceSpan":{"end":[90,55],"start":[90,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[90,55],"start":[90,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[90,29],"start":[90,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[90,24],"start":[90,21]}},"type":"Var","value":{"identifier":"acc","sourcePos":[88,37]}},"fieldName":"real","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[90,55],"start":[90,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[90,55],"start":[90,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[90,38],"start":[90,32]}},"type":"Var","value":{"identifier":"sample","sourcePos":[88,43]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[90,55],"start":[90,21]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[90,49],"start":[90,41]}},"type":"Var","value":{"identifier":"cos","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[90,55],"start":[90,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[90,55],"start":[90,50]}},"type":"Var","value":{"identifier":"angle","sourcePos":[89,17]}},"type":"App"},"type":"App"},"type":"App"},"identifier":"r"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[92,36],"start":[92,16]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["real",{"annotation":{"meta":null,"sourceSpan":{"end":[92,25],"start":[92,24]}},"type":"Var","value":{"identifier":"r","sourcePos":[90,17]}}],["imag",{"annotation":{"meta":null,"sourceSpan":{"end":[92,34],"start":[92,33]}},"type":"Var","value":{"identifier":"i","sourcePos":[91,17]}}]]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[93,37],"start":[88,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[93,37],"start":[93,13]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["real",{"annotation":{"meta":null,"sourceSpan":{"end":[93,24],"start":[93,21]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["imag",{"annotation":{"meta":null,"sourceSpan":{"end":[93,35],"start":[93,32]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[93,45],"start":[88,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[93,45],"start":[93,38]}},"type":"Var","value":{"identifier":"samples","sourcePos":[83,1]}},"type":"App"},"identifier":"result"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[94,88],"start":[94,10]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[94,19],"start":[94,10]}},"type":"Var","value":{"identifier":"sqrt","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[94,75],"start":[94,10]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[94,74],"start":[94,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[94,74],"start":[94,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,32],"start":[94,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[94,27],"start":[94,21]}},"type":"Var","value":{"identifier":"result","sourcePos":[88,11]}},"fieldName":"real","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[94,74],"start":[94,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,46],"start":[94,35]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[94,41],"start":[94,35]}},"type":"Var","value":{"identifier":"result","sourcePos":[88,11]}},"fieldName":"real","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[94,74],"start":[94,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[94,74],"start":[94,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,60],"start":[94,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[94,55],"start":[94,49]}},"type":"Var","value":{"identifier":"result","sourcePos":[88,11]}},"fieldName":"imag","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[94,74],"start":[94,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,74],"start":[94,63]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[94,69],"start":[94,63]}},"type":"Var","value":{"identifier":"result","sourcePos":[88,11]}},"fieldName":"imag","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[94,88],"start":[94,10]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[94,86],"start":[94,78]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[94,88],"start":[94,78]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,88],"start":[94,87]}},"type":"Var","value":{"identifier":"n","sourcePos":[84,7]}},"type":"App"},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[85,15],"start":[85,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[85,10],"start":[85,9]}},"type":"Var","value":{"identifier":"n","sourcePos":[84,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[85,15],"start":[85,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[85,15],"start":[85,14]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"computeBinMagnitude"},{"annotation":{"meta":null,"sourceSpan":{"end":[304,76],"start":[304,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[304,76],"start":[304,1]}},"argument":"flux","body":{"annotation":{"meta":null,"sourceSpan":{"end":[304,76],"start":[304,1]}},"argument":"windowSize","body":{"annotation":{"meta":null,"sourceSpan":{"end":[304,76],"start":[304,1]}},"argument":"sensitivityFactor","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[306,37],"start":[306,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[320,45],"start":[308,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[320,45],"start":[308,5]}},"argument":"i","body":{"annotation":{"meta":null,"sourceSpan":{"end":[320,45],"start":[308,5]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[320,45],"start":[309,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[309,41],"start":[309,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[309,24],"start":[309,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[309,24],"start":[309,23]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[309,41],"start":[309,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[309,40],"start":[309,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[309,27],"start":[309,26]}},"type":"Var","value":{"identifier":"i","sourcePos":[308,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[309,40],"start":[309,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[309,40],"start":[309,30]}},"type":"Var","value":{"identifier":"windowSize","sourcePos":[305,1]}},"type":"App"},"type":"App"},"identifier":"start"},{"annotation":{"meta":null,"sourceSpan":{"end":[310,58],"start":[310,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[310,37],"start":[310,20]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[310,31],"start":[310,25]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[310,36],"start":[310,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[310,36],"start":[310,32]}},"type":"Var","value":{"identifier":"flux","sourcePos":[305,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[310,58],"start":[310,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[310,57],"start":[310,39]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[310,57],"start":[310,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[310,40],"start":[310,39]}},"type":"Var","value":{"identifier":"i","sourcePos":[308,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[310,57],"start":[310,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[310,53],"start":[310,43]}},"type":"Var","value":{"identifier":"windowSize","sourcePos":[305,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[310,57],"start":[310,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[310,57],"start":[310,56]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"identifier":"endIdx"},{"annotation":{"meta":null,"sourceSpan":{"end":[311,84],"start":[311,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[311,57],"start":[311,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[311,56],"start":[311,25]}},"argument":"j","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[311,40],"start":[311,31]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[311,44],"start":[311,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[311,44],"start":[311,41]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[311,56],"start":[311,31]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[311,53],"start":[311,51]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[311,55],"start":[311,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[311,50],"start":[311,46]}},"type":"Var","value":{"identifier":"flux","sourcePos":[305,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[311,55],"start":[311,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[311,55],"start":[311,54]}},"type":"Var","value":{"identifier":"j","sourcePos":[311,26]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[311,84],"start":[311,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[311,64],"start":[311,59]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[311,70],"start":[311,59]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[311,70],"start":[311,65]}},"type":"Var","value":{"identifier":"start","sourcePos":[309,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[311,83],"start":[311,59]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[311,82],"start":[311,72]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[311,78],"start":[311,72]}},"type":"Var","value":{"identifier":"endIdx","sourcePos":[310,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[311,82],"start":[311,72]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[311,82],"start":[311,81]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"identifier":"window"},{"annotation":{"meta":null,"sourceSpan":{"end":[312,28],"start":[312,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[312,21],"start":[312,15]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[312,28],"start":[312,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[312,28],"start":[312,22]}},"type":"Var","value":{"identifier":"window","sourcePos":[311,11]}},"type":"App"},"identifier":"n"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[320,45],"start":[313,10]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[320,45],"start":[313,10]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[313,28],"start":[313,25]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[320,45],"start":[313,10]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[320,45],"start":[315,12]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[316,45],"start":[316,16]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[316,30],"start":[316,25]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[316,34],"start":[316,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[316,38],"start":[316,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[316,38],"start":[316,35]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[316,45],"start":[316,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[316,45],"start":[316,39]}},"type":"Var","value":{"identifier":"window","sourcePos":[311,11]}},"type":"App"},"identifier":"sumVal"},{"annotation":{"meta":null,"sourceSpan":{"end":[315,31],"start":[315,16]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[315,29],"start":[315,21]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[315,31],"start":[315,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[315,31],"start":[315,30]}},"type":"Var","value":{"identifier":"n","sourcePos":[312,11]}},"type":"App"},"identifier":"nf"},{"annotation":{"meta":null,"sourceSpan":{"end":[317,34],"start":[317,16]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[317,34],"start":[317,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[317,29],"start":[317,23]}},"type":"Var","value":{"identifier":"sumVal","sourcePos":[316,16]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[317,34],"start":[317,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[317,34],"start":[317,32]}},"type":"Var","value":{"identifier":"nf","sourcePos":[315,16]}},"type":"App"},"identifier":"mean"},{"annotation":{"meta":null,"sourceSpan":{"end":[318,86],"start":[318,16]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[318,33],"start":[318,28]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[318,75],"start":[318,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[318,74],"start":[318,35]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[318,74],"start":[318,35]}},"argument":"v1","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[318,74],"start":[318,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[318,48],"start":[318,45]}},"type":"Var","value":{"identifier":"acc","sourcePos":[318,36]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[318,74],"start":[318,45]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[318,74],"start":[318,45]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[318,60],"start":[318,52]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[318,53],"start":[318,52]}},"type":"Var","value":{"identifier":"v1","sourcePos":[318,40]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[318,60],"start":[318,52]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[318,60],"start":[318,56]}},"type":"Var","value":{"identifier":"mean","sourcePos":[317,16]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[318,74],"start":[318,45]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[318,73],"start":[318,65]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[318,66],"start":[318,65]}},"type":"Var","value":{"identifier":"v1","sourcePos":[318,40]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[318,73],"start":[318,65]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[318,73],"start":[318,69]}},"type":"Var","value":{"identifier":"mean","sourcePos":[317,16]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[318,79],"start":[318,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[318,79],"start":[318,76]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[318,86],"start":[318,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[318,86],"start":[318,80]}},"type":"Var","value":{"identifier":"window","sourcePos":[311,11]}},"type":"App"},"identifier":"sqDiffSum"},{"annotation":{"meta":null,"sourceSpan":{"end":[319,48],"start":[319,16]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[319,31],"start":[319,22]}},"type":"Var","value":{"identifier":"sqrt","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[319,48],"start":[319,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[319,47],"start":[319,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[319,42],"start":[319,33]}},"type":"Var","value":{"identifier":"sqDiffSum","sourcePos":[318,16]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[319,47],"start":[319,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[319,47],"start":[319,45]}},"type":"Var","value":{"identifier":"nf","sourcePos":[315,16]}},"type":"App"},"type":"App"},"identifier":"std"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[320,45],"start":[320,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[320,19],"start":[320,15]}},"type":"Var","value":{"identifier":"mean","sourcePos":[317,16]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[320,45],"start":[320,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[320,45],"start":[320,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[320,39],"start":[320,22]}},"type":"Var","value":{"identifier":"sensitivityFactor","sourcePos":[305,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[320,45],"start":[320,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[320,45],"start":[320,42]}},"type":"Var","value":{"identifier":"std","sourcePos":[319,16]}},"type":"App"},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[313,19],"start":[313,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[313,14],"start":[313,13]}},"type":"Var","value":{"identifier":"n","sourcePos":[312,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[313,19],"start":[313,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[313,19],"start":[313,18]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"computeThreshold"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[306,15],"start":[306,3]}},"type":"Var","value":{"identifier":"mapWithIndex","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[306,32],"start":[306,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[306,32],"start":[306,16]}},"type":"Var","value":{"identifier":"computeThreshold","sourcePos":[308,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[306,37],"start":[306,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[306,37],"start":[306,33]}},"type":"Var","value":{"identifier":"flux","sourcePos":[305,1]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"calculateAdaptiveThreshold"},{"annotation":{"meta":null,"sourceSpan":{"end":[69,51],"start":[69,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[69,51],"start":[69,1]}},"argument":"samples","body":{"annotation":{"meta":null,"sourceSpan":{"end":[72,57],"start":[71,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[71,25],"start":[71,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[71,17],"start":[71,11]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[71,25],"start":[71,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[71,25],"start":[71,18]}},"type":"Var","value":{"identifier":"samples","sourcePos":[70,1]}},"type":"App"},"identifier":"n"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[72,18],"start":[72,6]}},"type":"Var","value":{"identifier":"mapWithIndex","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[72,49],"start":[72,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[72,48],"start":[72,20]}},"argument":"i","body":{"annotation":{"meta":null,"sourceSpan":{"end":[72,48],"start":[72,20]}},"argument":"s","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[72,48],"start":[72,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[72,29],"start":[72,28]}},"type":"Var","value":{"identifier":"s","sourcePos":[72,23]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[72,48],"start":[72,28]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[72,44],"start":[72,32]}},"type":"Var","value":{"identifier":"hanningCoeff","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[72,46],"start":[72,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[72,46],"start":[72,45]}},"type":"Var","value":{"identifier":"i","sourcePos":[72,21]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[72,48],"start":[72,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[72,48],"start":[72,47]}},"type":"Var","value":{"identifier":"n","sourcePos":[71,7]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[72,57],"start":[72,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[72,57],"start":[72,50]}},"type":"Var","value":{"identifier":"samples","sourcePos":[70,1]}},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"applyHanningWindow"},{"annotation":{"meta":null,"sourceSpan":{"end":[97,42],"start":[97,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[97,42],"start":[97,1]}},"argument":"samples","body":{"annotation":{"meta":null,"sourceSpan":{"end":[102,62],"start":[99,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[101,44],"start":[101,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[101,36],"start":[101,18]}},"type":"Var","value":{"identifier":"applyHanningWindow","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[101,44],"start":[101,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[101,44],"start":[101,37]}},"type":"Var","value":{"identifier":"samples","sourcePos":[98,1]}},"type":"App"},"identifier":"windowed"},{"annotation":{"meta":null,"sourceSpan":{"end":[99,25],"start":[99,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[99,17],"start":[99,11]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[99,25],"start":[99,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[99,25],"start":[99,18]}},"type":"Var","value":{"identifier":"samples","sourcePos":[98,1]}},"type":"App"},"identifier":"n"},{"annotation":{"meta":null,"sourceSpan":{"end":[100,20],"start":[100,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[100,20],"start":[100,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[100,16],"start":[100,15]}},"type":"Var","value":{"identifier":"n","sourcePos":[99,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[100,20],"start":[100,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[100,20],"start":[100,19]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"},"identifier":"halfN"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,40],"start":[102,6]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[102,30],"start":[102,11]}},"type":"Var","value":{"identifier":"computeBinMagnitude","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,39],"start":[102,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,39],"start":[102,31]}},"type":"Var","value":{"identifier":"windowed","sourcePos":[101,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[102,62],"start":[102,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[102,47],"start":[102,42]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,49],"start":[102,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,49],"start":[102,48]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[102,61],"start":[102,42]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,60],"start":[102,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,56],"start":[102,51]}},"type":"Var","value":{"identifier":"halfN","sourcePos":[100,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[102,60],"start":[102,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,60],"start":[102,59]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"simpleDFT"},{"annotation":{"meta":null,"sourceSpan":{"end":[252,54],"start":[252,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[252,54],"start":[252,1]}},"argument":"value","body":{"annotation":{"meta":null,"sourceSpan":{"end":[252,54],"start":[252,1]}},"argument":"curve","body":{"annotation":{"meta":null,"sourceSpan":{"end":[259,69],"start":[254,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[254,40],"start":[254,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[254,24],"start":[254,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[254,24],"start":[254,21]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[254,40],"start":[254,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[254,33],"start":[254,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[254,33],"start":[254,30]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[254,39],"start":[254,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[254,39],"start":[254,34]}},"type":"Var","value":{"identifier":"value","sourcePos":[253,1]}},"type":"App"},"type":"App"},"identifier":"clamped"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[259,69],"start":[255,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[256,19],"start":[256,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"CurveLinear","moduleName":["Lattice","Services","Audio","SignalProcessing"]},"typeName":{"identifier":"FeatureCurve","moduleName":["Lattice","Services","Audio","SignalProcessing"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[256,35],"start":[256,28]}},"type":"Var","value":{"identifier":"clamped","sourcePos":[254,7]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[257,24],"start":[257,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"CurveExponential","moduleName":["Lattice","Services","Audio","SignalProcessing"]},"typeName":{"identifier":"FeatureCurve","moduleName":["Lattice","Services","Audio","SignalProcessing"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[257,45],"start":[257,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[257,35],"start":[257,28]}},"type":"Var","value":{"identifier":"clamped","sourcePos":[254,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[257,45],"start":[257,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[257,45],"start":[257,38]}},"type":"Var","value":{"identifier":"clamped","sourcePos":[254,7]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[258,24],"start":[258,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"CurveLogarithmic","moduleName":["Lattice","Services","Audio","SignalProcessing"]},"typeName":{"identifier":"FeatureCurve","moduleName":["Lattice","Services","Audio","SignalProcessing"]}}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[258,37],"start":[258,28]}},"type":"Var","value":{"identifier":"sqrt","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[258,45],"start":[258,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[258,45],"start":[258,38]}},"type":"Var","value":{"identifier":"clamped","sourcePos":[254,7]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[259,23],"start":[259,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"CurveSmoothstep","moduleName":["Lattice","Services","Audio","SignalProcessing"]},"typeName":{"identifier":"FeatureCurve","moduleName":["Lattice","Services","Audio","SignalProcessing"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[259,69],"start":[259,28]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[259,69],"start":[259,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[259,35],"start":[259,28]}},"type":"Var","value":{"identifier":"clamped","sourcePos":[254,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[259,69],"start":[259,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[259,45],"start":[259,38]}},"type":"Var","value":{"identifier":"clamped","sourcePos":[254,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[259,69],"start":[259,28]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[259,68],"start":[259,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[259,52],"start":[259,49]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":3}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[259,68],"start":[259,49]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[259,68],"start":[259,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[259,58],"start":[259,55]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[259,68],"start":[259,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[259,68],"start":[259,61]}},"type":"Var","value":{"identifier":"clamped","sourcePos":[254,7]}},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[255,16],"start":[255,11]}},"type":"Var","value":{"identifier":"curve","sourcePos":[253,1]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"applyFeatureCurve"},{"annotation":{"meta":null,"sourceSpan":{"end":[285,64],"start":[285,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[285,64],"start":[285,1]}},"argument":"samples","body":{"annotation":{"meta":null,"sourceSpan":{"end":[285,64],"start":[285,1]}},"argument":"smoothing","body":{"annotation":{"meta":null,"sourceSpan":{"end":[285,64],"start":[285,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[286,30],"start":[286,23]}},"binderType":"VarBinder","identifier":"samples1"},{"annotation":{"meta":null,"sourceSpan":{"end":[286,40],"start":[286,31]}},"binderType":"VarBinder","identifier":"smoothing1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[287,29],"start":[287,27]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[287,24],"start":[287,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[287,11],"start":[287,5]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[287,19],"start":[287,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[287,19],"start":[287,12]}},"type":"Var","value":{"identifier":"samples1","sourcePos":[286,23]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[287,24],"start":[287,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[287,24],"start":[287,23]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[297,23],"start":[289,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[289,42],"start":[289,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[289,22],"start":[289,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[289,22],"start":[289,19]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[289,42],"start":[289,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[289,31],"start":[289,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[289,31],"start":[289,28]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[289,41],"start":[289,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[289,41],"start":[289,32]}},"type":"Var","value":{"identifier":"smoothing1","sourcePos":[286,31]}},"type":"App"},"type":"App"},"identifier":"s"},{"annotation":{"meta":null,"sourceSpan":{"end":[292,46],"start":[290,11]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[292,46],"start":[290,11]}},"argument":"env","body":{"annotation":{"meta":null,"sourceSpan":{"end":[292,46],"start":[290,11]}},"argument":"sample","body":{"annotation":{"meta":null,"sourceSpan":{"end":[292,46],"start":[291,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[292,46],"start":[291,13]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[291,40],"start":[291,34]}},"type":"Var","value":{"identifier":"sample","sourcePos":[290,11]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[292,46],"start":[291,13]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[292,46],"start":[292,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[292,46],"start":[292,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[292,21],"start":[292,18]}},"type":"Var","value":{"identifier":"env","sourcePos":[290,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[292,46],"start":[292,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[292,32],"start":[292,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[292,28],"start":[292,25]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[292,32],"start":[292,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[292,32],"start":[292,31]}},"type":"Var","value":{"identifier":"s","sourcePos":[289,11]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[292,46],"start":[292,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[292,46],"start":[292,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[292,42],"start":[292,36]}},"type":"Var","value":{"identifier":"sample","sourcePos":[290,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[292,46],"start":[292,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[292,46],"start":[292,45]}},"type":"Var","value":{"identifier":"s","sourcePos":[289,11]}},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[291,28],"start":[291,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[291,22],"start":[291,16]}},"type":"Var","value":{"identifier":"sample","sourcePos":[290,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[291,28],"start":[291,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[291,28],"start":[291,25]}},"type":"Var","value":{"identifier":"env","sourcePos":[290,11]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"step"},{"annotation":{"meta":null,"sourceSpan":{"end":[296,45],"start":[293,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[293,25],"start":[293,20]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[296,12],"start":[293,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[295,63],"start":[293,27]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[295,63],"start":[293,27]}},"argument":"sample","body":{"annotation":{"meta":null,"sourceSpan":{"end":[295,63],"start":[294,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[294,45],"start":[294,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[294,30],"start":[294,26]}},"type":"Var","value":{"identifier":"step","sourcePos":[290,11]}},"annotation":{"meta":null,"sourceSpan":{"end":[294,38],"start":[294,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[294,38],"start":[294,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[294,34],"start":[294,31]}},"type":"Var","value":{"identifier":"acc","sourcePos":[293,28]}},"fieldName":"env","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[294,45],"start":[294,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[294,45],"start":[294,39]}},"type":"Var","value":{"identifier":"sample","sourcePos":[293,32]}},"type":"App"},"identifier":"newEnv"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[295,63],"start":[295,16]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["result",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","Audio","SignalProcessing"]}},"annotation":{"meta":null,"sourceSpan":{"end":[295,48],"start":[295,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[295,36],"start":[295,26]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[295,29],"start":[295,26]}},"type":"Var","value":{"identifier":"acc","sourcePos":[293,28]}},"fieldName":"result","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[295,48],"start":[295,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[295,48],"start":[295,40]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[295,47],"start":[295,41]}},"type":"Var","value":{"identifier":"newEnv","sourcePos":[294,17]}}]}},"type":"App"}],["env",{"annotation":{"meta":null,"sourceSpan":{"end":[295,61],"start":[295,55]}},"type":"Var","value":{"identifier":"newEnv","sourcePos":[294,17]}}]]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[296,37],"start":[293,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[296,37],"start":[296,13]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["result",{"annotation":{"meta":null,"sourceSpan":{"end":[296,25],"start":[296,23]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}],["env",{"annotation":{"meta":null,"sourceSpan":{"end":[296,35],"start":[296,32]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[296,45],"start":[293,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[296,45],"start":[296,38]}},"type":"Var","value":{"identifier":"samples1","sourcePos":[286,23]}},"type":"App"},"identifier":"result"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[297,23],"start":[297,10]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[297,16],"start":[297,10]}},"type":"Var","value":{"identifier":"result","sourcePos":[293,11]}},"fieldName":"result","type":"Accessor"},"type":"Let"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[288,14],"start":[288,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[297,23],"start":[286,1]}},"type":"Var","value":{"identifier":"samples","sourcePos":[286,23]}},{"annotation":{"meta":null,"sourceSpan":{"end":[297,23],"start":[286,1]}},"type":"Var","value":{"identifier":"smoothing","sourcePos":[286,31]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"applyEnvelopeFollower"}],"exports":["CurveLinear","CurveExponential","CurveLogarithmic","CurveSmoothstep","hanningCoeff","applyHanningWindow","computeBinMagnitude","simpleDFT","spectralCentroid","spectralFlux","spectralRolloff","spectralFlatness","zeroCrossingRate","hzToMel","melToHz","midiToHz","hzToMidi","hzToPitchClass","dctCoeff","computeMFCC","applyFeatureCurve","normalizeArray","normalize01","applyEnvelopeFollower","calculateAdaptiveThreshold","detectLocalMaxima","enforceMinPeakDistance","pitchClassNames","computeChroma","eqFeatureCurve"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[412,57],"start":[19,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[412,57],"start":[19,1]}},"moduleName":["Data","Boolean"]},{"annotation":{"meta":null,"sourceSpan":{"end":[412,57],"start":[19,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[412,57],"start":[19,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[412,57],"start":[19,1]}},"moduleName":["Data","Functor"]},{"annotation":{"meta":null,"sourceSpan":{"end":[412,57],"start":[19,1]}},"moduleName":["Data","HeytingAlgebra"]},{"annotation":{"meta":null,"sourceSpan":{"end":[412,57],"start":[19,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[412,57],"start":[19,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[412,57],"start":[19,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[412,57],"start":[19,1]}},"moduleName":["Data","Semigroup"]},{"annotation":{"meta":null,"sourceSpan":{"end":[412,57],"start":[19,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[412,57],"start":[19,1]}},"moduleName":["Data","Tuple"]},{"annotation":{"meta":null,"sourceSpan":{"end":[412,57],"start":[19,1]}},"moduleName":["Lattice","Services","Audio","SignalProcessing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[412,57],"start":[19,1]}},"moduleName":["Math"]},{"annotation":{"meta":null,"sourceSpan":{"end":[48,15],"start":[48,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[412,57],"start":[19,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","Audio","SignalProcessing"],"modulePath":"src/Lattice/Services/Audio/SignalProcessing.purs","reExports":{},"sourceSpan":{"end":[412,57],"start":[19,1]}}