{"builtWith":"0.15.15","comments":[{"LineComment":" | Lattice.Services.Particles.Turbulence - Noise-Based Force Fields"},{"LineComment":" |"},{"LineComment":" | Pure mathematical functions for turbulence/noise force fields:"},{"LineComment":" | - Simplex noise sampling (noise value provided as input)"},{"LineComment":" | - Multi-octave turbulence"},{"LineComment":" | - Curl noise for divergence-free flow"},{"LineComment":" |"},{"LineComment":" | All functions are total and deterministic."},{"LineComment":" | Noise generation happens externally using seeded simplex noise."},{"LineComment":" |"},{"LineComment":" | Source: ui/src/services/particleSystem.ts (applyTurbulence)"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[137,20],"start":[137,19]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[137,23],"start":[137,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[138,27],"start":[138,26]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[138,35],"start":[138,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[138,22],"start":[138,21]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[138,35],"start":[138,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[140,11],"start":[140,10]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[140,25],"start":[140,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[166,16],"start":[166,10]}},"type":"Var","value":{"identifier":"negate","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[166,16],"start":[166,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"negate"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[105,27],"start":[105,25]}},"type":"Var","value":{"identifier":"disj","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[105,65],"start":[105,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"disj"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[105,9],"start":[105,6]}},"type":"Var","value":{"identifier":"not","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[105,24],"start":[105,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"not"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[113,31],"start":[113,30]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[113,42],"start":[113,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[45,23],"start":[42,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[45,23],"start":[42,1]}},"constructorName":"TurbulenceNormal","fieldNames":[],"type":"Constructor","typeName":"TurbulenceType"},"identifier":"TurbulenceNormal"},{"annotation":{"meta":null,"sourceSpan":{"end":[45,23],"start":[42,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[45,23],"start":[42,1]}},"constructorName":"TurbulenceCurl","fieldNames":[],"type":"Constructor","typeName":"TurbulenceType"},"identifier":"TurbulenceCurl"},{"annotation":{"meta":null,"sourceSpan":{"end":[45,23],"start":[42,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[45,23],"start":[42,1]}},"constructorName":"TurbulenceDirected","fieldNames":[],"type":"Constructor","typeName":"TurbulenceType"},"identifier":"TurbulenceDirected"},{"annotation":{"meta":null,"sourceSpan":{"end":[133,70],"start":[133,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[133,70],"start":[133,1]}},"argument":"px","body":{"annotation":{"meta":null,"sourceSpan":{"end":[133,70],"start":[133,1]}},"argument":"py","body":{"annotation":{"meta":null,"sourceSpan":{"end":[133,70],"start":[133,1]}},"argument":"config","body":{"annotation":{"meta":null,"sourceSpan":{"end":[140,25],"start":[135,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[137,23],"start":[137,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[137,23],"start":[137,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[137,18],"start":[137,10]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[137,16],"start":[137,10]}},"type":"Var","value":{"identifier":"config","sourcePos":[134,1]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[137,23],"start":[137,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[137,23],"start":[137,21]}},"type":"Var","value":{"identifier":"py","sourcePos":[134,1]}},"type":"App"},"identifier":"dy"},{"annotation":{"meta":null,"sourceSpan":{"end":[136,23],"start":[136,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[136,23],"start":[136,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[136,18],"start":[136,10]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[136,16],"start":[136,10]}},"type":"Var","value":{"identifier":"config","sourcePos":[134,1]}},"fieldName":"x","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[136,23],"start":[136,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[136,23],"start":[136,21]}},"type":"Var","value":{"identifier":"px","sourcePos":[134,1]}},"type":"App"},"identifier":"dx"},{"annotation":{"meta":null,"sourceSpan":{"end":[138,36],"start":[138,5]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[138,16],"start":[138,12]}},"type":"Var","value":{"identifier":"sqrt","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[138,36],"start":[138,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[138,35],"start":[138,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[138,35],"start":[138,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,20],"start":[138,18]}},"type":"Var","value":{"identifier":"dx","sourcePos":[136,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,35],"start":[138,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,25],"start":[138,23]}},"type":"Var","value":{"identifier":"dx","sourcePos":[136,5]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,35],"start":[138,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[138,35],"start":[138,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,30],"start":[138,28]}},"type":"Var","value":{"identifier":"dy","sourcePos":[137,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,35],"start":[138,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,35],"start":[138,33]}},"type":"Var","value":{"identifier":"dy","sourcePos":[137,5]}},"type":"App"},"type":"App"},"type":"App"},"identifier":"dist"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[140,25],"start":[140,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[140,9],"start":[140,5]}},"type":"Var","value":{"identifier":"dist","sourcePos":[138,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[140,25],"start":[140,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[140,25],"start":[140,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[140,18],"start":[140,12]}},"type":"Var","value":{"identifier":"config","sourcePos":[134,1]}},"fieldName":"radius","type":"Accessor"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"turbulenceInBounds"},{"annotation":{"meta":null,"sourceSpan":{"end":[52,49],"start":[49,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[52,49],"start":[49,1]}},"type":"Var","value":{"identifier":"Show$Dict","moduleName":["Data","Show"]}},"annotation":{"meta":null,"sourceSpan":{"end":[52,49],"start":[49,1]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[52,49],"start":[49,1]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["show",{"annotation":{"meta":null,"sourceSpan":{"end":[52,49],"start":[49,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[52,49],"start":[49,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[50,24],"start":[50,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"TurbulenceNormal","moduleName":["Lattice","Services","Particles","Turbulence"]},"typeName":{"identifier":"TurbulenceType","moduleName":["Lattice","Services","Particles","Turbulence"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[50,45],"start":[50,27]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"TurbulenceNormal"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[51,22],"start":[51,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"TurbulenceCurl","moduleName":["Lattice","Services","Particles","Turbulence"]},"typeName":{"identifier":"TurbulenceType","moduleName":["Lattice","Services","Particles","Turbulence"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[51,41],"start":[51,25]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"TurbulenceCurl"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[52,26],"start":[52,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"TurbulenceDirected","moduleName":["Lattice","Services","Particles","Turbulence"]},"typeName":{"identifier":"TurbulenceType","moduleName":["Lattice","Services","Particles","Turbulence"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[52,49],"start":[52,29]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"TurbulenceDirected"}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[50,45],"start":[50,3]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"}]]}},"type":"App"},"identifier":"showTurbulenceType"},{"annotation":{"meta":null,"sourceSpan":{"end":[147,81],"start":[147,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[147,81],"start":[147,1]}},"argument":"persistence","body":{"annotation":{"meta":null,"sourceSpan":{"end":[147,81],"start":[147,1]}},"argument":"octaves","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[149,56],"start":[149,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[151,106],"start":[151,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[151,106],"start":[151,5]}},"argument":"octaveArr","body":{"annotation":{"meta":null,"sourceSpan":{"end":[154,17],"start":[153,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[153,101],"start":[153,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[153,33],"start":[153,21]}},"type":"Var","value":{"identifier":"mapWithIndex","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[153,91],"start":[153,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,90],"start":[153,35]}},"argument":"i","body":{"annotation":{"meta":null,"sourceSpan":{"end":[153,90],"start":[153,35]}},"argument":"n","body":{"annotation":{"meta":null,"sourceSpan":{"end":[153,90],"start":[153,43]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["noise",{"annotation":{"meta":null,"sourceSpan":{"end":[153,53],"start":[153,52]}},"type":"Var","value":{"identifier":"n","sourcePos":[153,38]}}],["amp",{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[153,63],"start":[153,60]}},"type":"Var","value":{"identifier":"pow","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[153,75],"start":[153,60]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,75],"start":[153,64]}},"type":"Var","value":{"identifier":"persistence","sourcePos":[148,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[153,88],"start":[153,60]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[153,85],"start":[153,77]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[153,87],"start":[153,77]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,87],"start":[153,86]}},"type":"Var","value":{"identifier":"i","sourcePos":[153,36]}},"type":"App"},"type":"App"}]]}},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[153,101],"start":[153,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,101],"start":[153,92]}},"type":"Var","value":{"identifier":"octaveArr","sourcePos":[152,5]}},"type":"App"},"identifier":"indexed"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[154,17],"start":[154,10]}},"type":"Var","value":{"identifier":"indexed","sourcePos":[153,11]}},"type":"Let"},"type":"Abs"},"identifier":"withAmplitude"},{"annotation":{"meta":null,"sourceSpan":{"end":[156,109],"start":[156,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[156,109],"start":[156,5]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[156,109],"start":[156,5]}},"argument":"v1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[156,109],"start":[156,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[157,29],"start":[157,14]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[157,24],"start":[157,20]}},"binderType":"VarBinder","identifier":"accX"},{"annotation":{"meta":null,"sourceSpan":{"end":[157,29],"start":[157,25]}},"binderType":"VarBinder","identifier":"accY"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},{"annotation":{"meta":null,"sourceSpan":{"end":[157,58],"start":[157,31]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["noise",{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[157,51],"start":[157,40]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[157,48],"start":[157,46]}},"binderType":"VarBinder","identifier":"nx"},{"annotation":{"meta":null,"sourceSpan":{"end":[157,51],"start":[157,49]}},"binderType":"VarBinder","identifier":"ny"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],["amp",{"annotation":{"meta":null,"sourceSpan":{"end":[157,56],"start":[157,53]}},"binderType":"VarBinder","identifier":"amp"}]]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[158,12],"start":[158,7]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[158,30],"start":[158,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[158,29],"start":[158,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[158,18],"start":[158,14]}},"type":"Var","value":{"identifier":"accX","sourcePos":[157,20]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[158,29],"start":[158,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[158,29],"start":[158,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[158,23],"start":[158,21]}},"type":"Var","value":{"identifier":"nx","sourcePos":[157,46]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[158,29],"start":[158,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[158,29],"start":[158,26]}},"type":"Var","value":{"identifier":"amp","sourcePos":[157,53]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[158,48],"start":[158,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[158,47],"start":[158,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[158,36],"start":[158,32]}},"type":"Var","value":{"identifier":"accY","sourcePos":[157,25]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[158,47],"start":[158,32]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[158,47],"start":[158,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[158,41],"start":[158,39]}},"type":"Var","value":{"identifier":"ny","sourcePos":[157,49]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[158,47],"start":[158,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[158,47],"start":[158,44]}},"type":"Var","value":{"identifier":"amp","sourcePos":[157,53]}},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[158,48],"start":[157,5]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[158,48],"start":[157,5]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"combine"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[149,8],"start":[149,3]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[149,16],"start":[149,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,16],"start":[149,9]}},"type":"Var","value":{"identifier":"combine","sourcePos":[156,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[149,32],"start":[149,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[149,23],"start":[149,18]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[149,27],"start":[149,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,27],"start":[149,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[149,31],"start":[149,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,31],"start":[149,28]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[149,56],"start":[149,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[149,47],"start":[149,34]}},"type":"Var","value":{"identifier":"withAmplitude","sourcePos":[151,5]}},"annotation":{"meta":null,"sourceSpan":{"end":[149,55],"start":[149,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,55],"start":[149,48]}},"type":"Var","value":{"identifier":"octaves","sourcePos":[148,1]}},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"multiOctaveNoise"},{"annotation":{"meta":null,"sourceSpan":{"end":[47,54],"start":[47,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"Eq$Dict","moduleName":["Data","Eq"]}},"annotation":{"meta":null,"sourceSpan":{"end":[47,54],"start":[47,1]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["eq",{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"TurbulenceNormal","moduleName":["Lattice","Services","Particles","Turbulence"]},"typeName":{"identifier":"TurbulenceType","moduleName":["Lattice","Services","Particles","Turbulence"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"TurbulenceNormal","moduleName":["Lattice","Services","Particles","Turbulence"]},"typeName":{"identifier":"TurbulenceType","moduleName":["Lattice","Services","Particles","Turbulence"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"TurbulenceCurl","moduleName":["Lattice","Services","Particles","Turbulence"]},"typeName":{"identifier":"TurbulenceType","moduleName":["Lattice","Services","Particles","Turbulence"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"TurbulenceCurl","moduleName":["Lattice","Services","Particles","Turbulence"]},"typeName":{"identifier":"TurbulenceType","moduleName":["Lattice","Services","Particles","Turbulence"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"TurbulenceDirected","moduleName":["Lattice","Services","Particles","Turbulence"]},"typeName":{"identifier":"TurbulenceType","moduleName":["Lattice","Services","Particles","Turbulence"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"TurbulenceDirected","moduleName":["Lattice","Services","Particles","Turbulence"]},"typeName":{"identifier":"TurbulenceType","moduleName":["Lattice","Services","Particles","Turbulence"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"x","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"y","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"}]]}},"type":"App"},"identifier":"eqTurbulenceType"},{"annotation":{"meta":null,"sourceSpan":{"end":[74,44],"start":[74,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[87,4],"start":[76,3]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[76,11],"start":[76,8]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[77,11],"start":[77,8]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}}],["radius",{"annotation":{"meta":null,"sourceSpan":{"end":[78,16],"start":[78,13]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}}],["strength",{"annotation":{"meta":null,"sourceSpan":{"end":[79,18],"start":[79,15]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}}],["frequency",{"annotation":{"meta":null,"sourceSpan":{"end":[80,19],"start":[80,16]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":4}}],["octaves",{"annotation":{"meta":null,"sourceSpan":{"end":[81,15],"start":[81,14]}},"type":"Literal","value":{"literalType":"IntLiteral","value":4}}],["persistence",{"annotation":{"meta":null,"sourceSpan":{"end":[82,21],"start":[82,18]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}}],["lacunarity",{"annotation":{"meta":null,"sourceSpan":{"end":[83,20],"start":[83,17]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}}],["turbulenceType",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[84,37],"start":[84,21]}},"type":"Var","value":{"identifier":"TurbulenceNormal","moduleName":["Lattice","Services","Particles","Turbulence"]}}],["evolutionSpeed",{"annotation":{"meta":null,"sourceSpan":{"end":[85,25],"start":[85,21]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-2}}],["enabled",{"annotation":{"meta":null,"sourceSpan":{"end":[86,18],"start":[86,14]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}}]]}},"identifier":"defaultTurbulenceConfig"},{"annotation":{"meta":null,"sourceSpan":{"end":[163,56],"start":[163,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[163,56],"start":[163,1]}},"argument":"gradX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[163,56],"start":[163,1]}},"argument":"gradY","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[166,8],"start":[166,3]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[166,17],"start":[166,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"negate","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[166,16],"start":[166,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,16],"start":[166,11]}},"type":"Var","value":{"identifier":"gradY","sourcePos":[164,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[166,23],"start":[166,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,23],"start":[166,18]}},"type":"Var","value":{"identifier":"gradX","sourcePos":[164,1]}},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"curlGradient"},{"annotation":{"meta":null,"sourceSpan":{"end":[103,10],"start":[96,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[103,10],"start":[96,1]}},"argument":"px","body":{"annotation":{"meta":null,"sourceSpan":{"end":[103,10],"start":[96,1]}},"argument":"py","body":{"annotation":{"meta":null,"sourceSpan":{"end":[103,10],"start":[96,1]}},"argument":"config","body":{"annotation":{"meta":null,"sourceSpan":{"end":[103,10],"start":[96,1]}},"argument":"noiseX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[103,10],"start":[96,1]}},"argument":"noiseY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[103,10],"start":[96,1]}},"argument":"deltaTime","body":{"annotation":{"meta":null,"sourceSpan":{"end":[130,12],"start":[105,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[130,12],"start":[105,3]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[106,26],"start":[106,8]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[106,16],"start":[106,13]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[106,24],"start":[106,21]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[130,12],"start":[105,3]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[130,12],"start":[108,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[112,43],"start":[112,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[112,23],"start":[112,20]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[112,29],"start":[112,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[112,29],"start":[112,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-3}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[112,43],"start":[112,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[112,43],"start":[112,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[112,36],"start":[112,30]}},"type":"Var","value":{"identifier":"config","sourcePos":[104,1]}},"fieldName":"radius","type":"Accessor"},"type":"App"},"identifier":"safeRadius"},{"annotation":{"meta":null,"sourceSpan":{"end":[110,25],"start":[110,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[110,25],"start":[110,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[110,20],"start":[110,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[110,18],"start":[110,12]}},"type":"Var","value":{"identifier":"config","sourcePos":[104,1]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[110,25],"start":[110,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[110,25],"start":[110,23]}},"type":"Var","value":{"identifier":"py","sourcePos":[104,1]}},"type":"App"},"identifier":"dy"},{"annotation":{"meta":null,"sourceSpan":{"end":[109,25],"start":[109,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[109,25],"start":[109,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[109,20],"start":[109,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[109,18],"start":[109,12]}},"type":"Var","value":{"identifier":"config","sourcePos":[104,1]}},"fieldName":"x","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[109,25],"start":[109,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[109,25],"start":[109,23]}},"type":"Var","value":{"identifier":"px","sourcePos":[104,1]}},"type":"App"},"identifier":"dx"},{"annotation":{"meta":null,"sourceSpan":{"end":[111,38],"start":[111,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[111,18],"start":[111,14]}},"type":"Var","value":{"identifier":"sqrt","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[111,38],"start":[111,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[111,37],"start":[111,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[111,37],"start":[111,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[111,22],"start":[111,20]}},"type":"Var","value":{"identifier":"dx","sourcePos":[109,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[111,37],"start":[111,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[111,27],"start":[111,25]}},"type":"Var","value":{"identifier":"dx","sourcePos":[109,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[111,37],"start":[111,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[111,37],"start":[111,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[111,32],"start":[111,30]}},"type":"Var","value":{"identifier":"dy","sourcePos":[110,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[111,37],"start":[111,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[111,37],"start":[111,35]}},"type":"Var","value":{"identifier":"dy","sourcePos":[110,7]}},"type":"App"},"type":"App"},"type":"App"},"identifier":"dist"},{"annotation":{"meta":null,"sourceSpan":{"end":[113,42],"start":[113,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[113,42],"start":[113,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[113,22],"start":[113,19]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[113,42],"start":[113,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[113,42],"start":[113,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[113,29],"start":[113,25]}},"type":"Var","value":{"identifier":"dist","sourcePos":[111,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[113,42],"start":[113,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[113,42],"start":[113,32]}},"type":"Var","value":{"identifier":"safeRadius","sourcePos":[112,7]}},"type":"App"},"type":"App"},"identifier":"influence"},{"annotation":{"meta":null,"sourceSpan":{"end":[114,54],"start":[114,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[114,54],"start":[114,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[114,54],"start":[114,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[114,33],"start":[114,18]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[114,24],"start":[114,18]}},"type":"Var","value":{"identifier":"config","sourcePos":[104,1]}},"fieldName":"strength","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[114,54],"start":[114,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[114,42],"start":[114,36]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-4}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[114,54],"start":[114,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[114,54],"start":[114,45]}},"type":"Var","value":{"identifier":"influence","sourcePos":[113,7]}},"type":"App"},"identifier":"strength"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[130,12],"start":[116,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[117,25],"start":[117,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"TurbulenceNormal","moduleName":["Lattice","Services","Particles","Turbulence"]},"typeName":{"identifier":"TurbulenceType","moduleName":["Lattice","Services","Particles","Turbulence"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[120,12],"start":[118,11]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[118,45],"start":[118,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[118,45],"start":[118,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[118,22],"start":[118,16]}},"type":"Var","value":{"identifier":"noiseX","sourcePos":[104,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[118,45],"start":[118,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[118,33],"start":[118,25]}},"type":"Var","value":{"identifier":"strength","sourcePos":[114,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[118,45],"start":[118,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[118,45],"start":[118,36]}},"type":"Var","value":{"identifier":"deltaTime","sourcePos":[104,1]}},"type":"App"}],["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[119,45],"start":[119,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[119,45],"start":[119,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,22],"start":[119,16]}},"type":"Var","value":{"identifier":"noiseY","sourcePos":[104,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[119,45],"start":[119,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,33],"start":[119,25]}},"type":"Var","value":{"identifier":"strength","sourcePos":[114,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[119,45],"start":[119,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,45],"start":[119,36]}},"type":"Var","value":{"identifier":"deltaTime","sourcePos":[104,1]}},"type":"App"}]]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[121,23],"start":[121,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"TurbulenceCurl","moduleName":["Lattice","Services","Particles","Turbulence"]},"typeName":{"identifier":"TurbulenceType","moduleName":["Lattice","Services","Particles","Turbulence"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[126,14],"start":[122,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[122,48],"start":[122,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[122,34],"start":[122,22]}},"type":"Var","value":{"identifier":"curlGradient","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[122,41],"start":[122,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[122,41],"start":[122,35]}},"type":"Var","value":{"identifier":"noiseX","sourcePos":[104,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[122,48],"start":[122,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[122,48],"start":[122,42]}},"type":"Var","value":{"identifier":"noiseY","sourcePos":[104,1]}},"type":"App"},"identifier":"curl"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[126,14],"start":[124,13]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,49],"start":[124,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,49],"start":[124,18]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[124,21],"start":[124,18]}},"type":"Var","value":{"identifier":"fst","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,26],"start":[124,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,26],"start":[124,22]}},"type":"Var","value":{"identifier":"curl","sourcePos":[122,15]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[124,49],"start":[124,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,37],"start":[124,29]}},"type":"Var","value":{"identifier":"strength","sourcePos":[114,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[124,49],"start":[124,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,49],"start":[124,40]}},"type":"Var","value":{"identifier":"deltaTime","sourcePos":[104,1]}},"type":"App"}],["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[125,49],"start":[125,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[125,49],"start":[125,18]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[125,21],"start":[125,18]}},"type":"Var","value":{"identifier":"snd","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[125,26],"start":[125,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,26],"start":[125,22]}},"type":"Var","value":{"identifier":"curl","sourcePos":[122,15]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[125,49],"start":[125,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,37],"start":[125,29]}},"type":"Var","value":{"identifier":"strength","sourcePos":[114,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[125,49],"start":[125,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,49],"start":[125,40]}},"type":"Var","value":{"identifier":"deltaTime","sourcePos":[104,1]}},"type":"App"}]]}},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[127,27],"start":[127,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"TurbulenceDirected","moduleName":["Lattice","Services","Particles","Turbulence"]},"typeName":{"identifier":"TurbulenceType","moduleName":["Lattice","Services","Particles","Turbulence"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[130,12],"start":[128,11]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[128,45],"start":[128,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[128,45],"start":[128,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[128,22],"start":[128,16]}},"type":"Var","value":{"identifier":"noiseX","sourcePos":[104,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[128,45],"start":[128,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[128,33],"start":[128,25]}},"type":"Var","value":{"identifier":"strength","sourcePos":[114,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[128,45],"start":[128,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[128,45],"start":[128,36]}},"type":"Var","value":{"identifier":"deltaTime","sourcePos":[104,1]}},"type":"App"}],["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[129,45],"start":[129,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[129,45],"start":[129,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,22],"start":[129,16]}},"type":"Var","value":{"identifier":"noiseY","sourcePos":[104,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[129,45],"start":[129,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,33],"start":[129,25]}},"type":"Var","value":{"identifier":"strength","sourcePos":[114,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[129,45],"start":[129,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,45],"start":[129,36]}},"type":"Var","value":{"identifier":"deltaTime","sourcePos":[104,1]}},"type":"App"}]]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[116,33],"start":[116,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[116,18],"start":[116,12]}},"type":"Var","value":{"identifier":"config","sourcePos":[104,1]}},"fieldName":"turbulenceType","type":"Accessor"}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"disj","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[105,65],"start":[105,6]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"not","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[105,24],"start":[105,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[105,24],"start":[105,10]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[105,16],"start":[105,10]}},"type":"Var","value":{"identifier":"config","sourcePos":[104,1]}},"fieldName":"enabled","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[105,65],"start":[105,6]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"not","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[105,65],"start":[105,28]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[105,51],"start":[105,33]}},"type":"Var","value":{"identifier":"turbulenceInBounds","moduleName":["Lattice","Services","Particles","Turbulence"]}},"annotation":{"meta":null,"sourceSpan":{"end":[105,54],"start":[105,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[105,54],"start":[105,52]}},"type":"Var","value":{"identifier":"px","sourcePos":[104,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[105,57],"start":[105,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[105,57],"start":[105,55]}},"type":"Var","value":{"identifier":"py","sourcePos":[104,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[105,64],"start":[105,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[105,64],"start":[105,58]}},"type":"Var","value":{"identifier":"config","sourcePos":[104,1]}},"type":"App"},"type":"App"},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"turbulenceForce"}],"exports":["TurbulenceNormal","TurbulenceCurl","TurbulenceDirected","defaultTurbulenceConfig","turbulenceForce","turbulenceInBounds","multiOctaveNoise","curlGradient","eqTurbulenceType","showTurbulenceType"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[166,23],"start":[13,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[166,23],"start":[13,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[166,23],"start":[13,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[166,23],"start":[13,1]}},"moduleName":["Data","HeytingAlgebra"]},{"annotation":{"meta":null,"sourceSpan":{"end":[166,23],"start":[13,1]}},"moduleName":["Data","Int"]},{"annotation":{"meta":null,"sourceSpan":{"end":[166,23],"start":[13,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[166,23],"start":[13,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[166,23],"start":[13,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[166,23],"start":[13,1]}},"moduleName":["Data","Show"]},{"annotation":{"meta":null,"sourceSpan":{"end":[166,23],"start":[13,1]}},"moduleName":["Data","Tuple"]},{"annotation":{"meta":null,"sourceSpan":{"end":[166,23],"start":[13,1]}},"moduleName":["Lattice","Services","Particles","Turbulence"]},{"annotation":{"meta":null,"sourceSpan":{"end":[166,23],"start":[13,1]}},"moduleName":["Math"]},{"annotation":{"meta":null,"sourceSpan":{"end":[24,15],"start":[24,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[166,23],"start":[13,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","Particles","Turbulence"],"modulePath":"src/Lattice/Services/Particles/Turbulence.purs","reExports":{},"sourceSpan":{"end":[166,23],"start":[13,1]}}