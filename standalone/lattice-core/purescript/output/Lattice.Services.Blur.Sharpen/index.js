// Generated by purs version 0.15.15
import * as Data_Boolean from "../Data.Boolean/index.js";
import * as Data_Ord from "../Data.Ord/index.js";
import * as $$Math from "../Math/index.js";
var max = /* #__PURE__ */ Data_Ord.max(Data_Ord.ordNumber);
var min = /* #__PURE__ */ Data_Ord.min(Data_Ord.ordNumber);
var unsharpMask = function (original) {
    return function (blurred) {
        return function (amount) {
            var difference = original - blurred;
            var sharpened = original + difference * amount;
            return max(0.0)(min(255.0)(sharpened));
        };
    };
};
var percentToMultiplier = function (percent) {
    return percent / 100.0;
};
var highPassComponent = function (original) {
    return function (blurred) {
        return original - blurred;
    };
};
var exceedsThreshold = function (original) {
    return function (blurred) {
        return function (threshold) {
            return $$Math.abs(original - blurred) >= threshold;
        };
    };
};
var unsharpMaskWithThreshold = function (original) {
    return function (blurred) {
        return function (amount) {
            return function (threshold) {
                if (exceedsThreshold(original)(blurred)(threshold)) {
                    return unsharpMask(original)(blurred)(amount);
                };
                if (Data_Boolean.otherwise) {
                    return original;
                };
                throw new Error("Failed pattern match at Lattice.Services.Blur.Sharpen (line 57, column 1 - line 57, column 75): " + [ original.constructor.name, blurred.constructor.name, amount.constructor.name, threshold.constructor.name ]);
            };
        };
    };
};
var edgeStrength = function (original) {
    return function (blurred) {
        return $$Math.abs(original - blurred);
    };
};
var isEdgePixel = function (original) {
    return function (blurred) {
        return function (edgeThreshold) {
            return edgeStrength(original)(blurred) >= edgeThreshold;
        };
    };
};
var clampAmount = function (amount) {
    return max(0.0)(min(5.0)(amount));
};
var adaptiveAmount = function (original) {
    return function (blurred) {
        return function (baseAmount) {
            var contrast = edgeStrength(original)(blurred);
            var contrastNorm = min(1.0)(contrast / 128.0);
            return baseAmount * (1.0 - contrastNorm * 0.5);
        };
    };
};
export {
    unsharpMask,
    highPassComponent,
    exceedsThreshold,
    unsharpMaskWithThreshold,
    percentToMultiplier,
    clampAmount,
    edgeStrength,
    isEdgePixel,
    adaptiveAmount
};
//# sourceMappingURL=index.js.map
