{"builtWith":"0.15.15","comments":[{"BlockComment":"\n  Lattice.Services.Stylize.Dither - Dithering Mathematics\n\n  Pure mathematical functions for dithering:\n  - Bayer matrices (2x2, 4x4, 8x8)\n  - Ordered dithering threshold calculation\n  - Color quantization\n  - Error diffusion coefficients\n\n  Source: ui/src/services/effects/stylizeRenderer.ts (lines 790-948)\n"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[129,21],"start":[129,20]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[129,47],"start":[129,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[129,44],"start":[129,43]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[129,46],"start":[129,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringInt","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[130,45],"start":[130,44]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[130,50],"start":[130,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[134,19],"start":[134,16]}},"type":"Var","value":{"identifier":"max","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[134,23],"start":[134,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"max"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[134,28],"start":[134,25]}},"type":"Var","value":{"identifier":"min","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[134,34],"start":[134,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"min"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[99,19],"start":[99,16]}},"type":"Var","value":{"identifier":"mod","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[99,22],"start":[99,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingInt","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"mod"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[62,15],"start":[62,13]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[62,17],"start":[62,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqInt","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"eq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[118,45],"start":[118,44]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[118,56],"start":[118,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringInt","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[120,30],"start":[120,29]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[120,34],"start":[120,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub1"},{"annotation":{"meta":null,"sourceSpan":{"end":[44,13],"start":[41,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[44,13],"start":[41,1]}},"constructorName":"Ordered","fieldNames":[],"type":"Constructor","typeName":"DitherMethod"},"identifier":"Ordered"},{"annotation":{"meta":null,"sourceSpan":{"end":[44,13],"start":[41,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[44,13],"start":[41,1]}},"constructorName":"FloydSteinberg","fieldNames":[],"type":"Constructor","typeName":"DitherMethod"},"identifier":"FloydSteinberg"},{"annotation":{"meta":null,"sourceSpan":{"end":[44,13],"start":[41,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[44,13],"start":[41,1]}},"constructorName":"Atkinson","fieldNames":[],"type":"Constructor","typeName":"DitherMethod"},"identifier":"Atkinson"},{"annotation":{"meta":null,"sourceSpan":{"end":[51,29],"start":[48,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[51,29],"start":[48,1]}},"type":"Var","value":{"identifier":"Show$Dict","moduleName":["Data","Show"]}},"annotation":{"meta":null,"sourceSpan":{"end":[51,29],"start":[48,1]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[51,29],"start":[48,1]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["show",{"annotation":{"meta":null,"sourceSpan":{"end":[51,29],"start":[48,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[51,29],"start":[48,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[49,15],"start":[49,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Ordered","moduleName":["Lattice","Services","Stylize","Dither"]},"typeName":{"identifier":"DitherMethod","moduleName":["Lattice","Services","Stylize","Dither"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[49,27],"start":[49,18]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"Ordered"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[50,22],"start":[50,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"FloydSteinberg","moduleName":["Lattice","Services","Stylize","Dither"]},"typeName":{"identifier":"DitherMethod","moduleName":["Lattice","Services","Stylize","Dither"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[50,41],"start":[50,25]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"FloydSteinberg"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[51,16],"start":[51,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Atkinson","moduleName":["Lattice","Services","Stylize","Dither"]},"typeName":{"identifier":"DitherMethod","moduleName":["Lattice","Services","Stylize","Dither"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[51,29],"start":[51,19]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"Atkinson"}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[49,27],"start":[49,3]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"}]]}},"type":"App"},"identifier":"showDitherMethod"},{"annotation":{"meta":null,"sourceSpan":{"end":[127,36],"start":[127,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[127,36],"start":[127,1]}},"argument":"val","body":{"annotation":{"meta":null,"sourceSpan":{"end":[127,36],"start":[127,1]}},"argument":"levels","body":{"annotation":{"meta":null,"sourceSpan":{"end":[130,50],"start":[129,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[129,47],"start":[129,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[129,47],"start":[129,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,19],"start":[129,14]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":255}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[129,47],"start":[129,14]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[129,34],"start":[129,22]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[129,47],"start":[129,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[129,46],"start":[129,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,42],"start":[129,36]}},"type":"Var","value":{"identifier":"levels","sourcePos":[128,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[129,46],"start":[129,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,46],"start":[129,45]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"identifier":"step"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[130,50],"start":[130,6]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[130,18],"start":[130,6]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[130,43],"start":[130,6]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[130,29],"start":[130,20]}},"type":"Var","value":{"identifier":"round","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[130,42],"start":[130,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[130,41],"start":[130,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,34],"start":[130,31]}},"type":"Var","value":{"identifier":"val","sourcePos":[128,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[130,41],"start":[130,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,41],"start":[130,37]}},"type":"Var","value":{"identifier":"step","sourcePos":[129,7]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[130,50],"start":[130,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,50],"start":[130,46]}},"type":"Var","value":{"identifier":"step","sourcePos":[129,7]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"quantize"},{"annotation":{"meta":null,"sourceSpan":{"end":[149,45],"start":[149,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[155,4],"start":[151,3]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["right",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[151,28],"start":[151,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[151,21],"start":[151,18]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":7}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[151,28],"start":[151,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[151,28],"start":[151,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":16}},"type":"App"}],["bottomLeft",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[152,28],"start":[152,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[152,21],"start":[152,18]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":3}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[152,28],"start":[152,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[152,28],"start":[152,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":16}},"type":"App"}],["bottom",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[153,28],"start":[153,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,21],"start":[153,18]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":5}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[153,28],"start":[153,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,28],"start":[153,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":16}},"type":"App"}],["bottomRight",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[154,28],"start":[154,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,21],"start":[154,18]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[154,28],"start":[154,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,28],"start":[154,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":16}},"type":"App"}]]}},"identifier":"floydSteinbergCoeffs"},{"annotation":{"meta":null,"sourceSpan":{"end":[46,50],"start":[46,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"Eq$Dict","moduleName":["Data","Eq"]}},"annotation":{"meta":null,"sourceSpan":{"end":[46,50],"start":[46,1]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["eq",{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Ordered","moduleName":["Lattice","Services","Stylize","Dither"]},"typeName":{"identifier":"DitherMethod","moduleName":["Lattice","Services","Stylize","Dither"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Ordered","moduleName":["Lattice","Services","Stylize","Dither"]},"typeName":{"identifier":"DitherMethod","moduleName":["Lattice","Services","Stylize","Dither"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"FloydSteinberg","moduleName":["Lattice","Services","Stylize","Dither"]},"typeName":{"identifier":"DitherMethod","moduleName":["Lattice","Services","Stylize","Dither"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"FloydSteinberg","moduleName":["Lattice","Services","Stylize","Dither"]},"typeName":{"identifier":"DitherMethod","moduleName":["Lattice","Services","Stylize","Dither"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Atkinson","moduleName":["Lattice","Services","Stylize","Dither"]},"typeName":{"identifier":"DitherMethod","moduleName":["Lattice","Services","Stylize","Dither"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Atkinson","moduleName":["Lattice","Services","Stylize","Dither"]},"typeName":{"identifier":"DitherMethod","moduleName":["Lattice","Services","Stylize","Dither"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"x","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"y","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"}]]}},"type":"App"},"identifier":"eqDitherMethod"},{"annotation":{"meta":null,"sourceSpan":{"end":[158,114],"start":[158,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[158,114],"start":[158,1]}},"argument":"err","body":{"annotation":{"meta":null,"sourceSpan":{"end":[165,7],"start":[160,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[160,31],"start":[160,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[160,31],"start":[160,11]}},"type":"Var","value":{"identifier":"floydSteinbergCoeffs","moduleName":["Lattice","Services","Stylize","Dither"]}},"identifier":"c"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[165,7],"start":[161,6]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["right",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[161,34],"start":[161,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[161,24],"start":[161,21]}},"type":"Var","value":{"identifier":"err","sourcePos":[159,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[161,34],"start":[161,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[161,34],"start":[161,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[161,28],"start":[161,27]}},"type":"Var","value":{"identifier":"c","sourcePos":[160,7]}},"fieldName":"right","type":"Accessor"},"type":"App"}],["bottomLeft",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[162,39],"start":[162,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,24],"start":[162,21]}},"type":"Var","value":{"identifier":"err","sourcePos":[159,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[162,39],"start":[162,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,39],"start":[162,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[162,28],"start":[162,27]}},"type":"Var","value":{"identifier":"c","sourcePos":[160,7]}},"fieldName":"bottomLeft","type":"Accessor"},"type":"App"}],["bottom",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[163,35],"start":[163,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,24],"start":[163,21]}},"type":"Var","value":{"identifier":"err","sourcePos":[159,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[163,35],"start":[163,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,35],"start":[163,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[163,28],"start":[163,27]}},"type":"Var","value":{"identifier":"c","sourcePos":[160,7]}},"fieldName":"bottom","type":"Accessor"},"type":"App"}],["bottomRight",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[164,40],"start":[164,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,24],"start":[164,21]}},"type":"Var","value":{"identifier":"err","sourcePos":[159,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[164,40],"start":[164,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,40],"start":[164,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[164,28],"start":[164,27]}},"type":"Var","value":{"identifier":"c","sourcePos":[160,7]}},"fieldName":"bottomRight","type":"Accessor"},"type":"App"}]]}},"type":"Let"},"type":"Abs"},"identifier":"distributeErrorFS"},{"annotation":{"meta":null,"sourceSpan":{"end":[133,29],"start":[133,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[133,29],"start":[133,1]}},"argument":"val","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[134,23],"start":[134,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[134,23],"start":[134,20]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[134,39],"start":[134,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[134,34],"start":[134,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[134,34],"start":[134,29]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":255}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[134,38],"start":[134,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[134,38],"start":[134,35]}},"type":"Var","value":{"identifier":"val","sourcePos":[134,1]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"clamp255"},{"annotation":{"meta":null,"sourceSpan":{"end":[84,34],"start":[84,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[94,4],"start":[86,3]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[86,34],"start":[86,5]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[86,7],"start":[86,6]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},{"annotation":{"meta":null,"sourceSpan":{"end":[86,11],"start":[86,9]}},"type":"Literal","value":{"literalType":"IntLiteral","value":32}},{"annotation":{"meta":null,"sourceSpan":{"end":[86,14],"start":[86,13]}},"type":"Literal","value":{"literalType":"IntLiteral","value":8}},{"annotation":{"meta":null,"sourceSpan":{"end":[86,18],"start":[86,16]}},"type":"Literal","value":{"literalType":"IntLiteral","value":40}},{"annotation":{"meta":null,"sourceSpan":{"end":[86,21],"start":[86,20]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},{"annotation":{"meta":null,"sourceSpan":{"end":[86,25],"start":[86,23]}},"type":"Literal","value":{"literalType":"IntLiteral","value":34}},{"annotation":{"meta":null,"sourceSpan":{"end":[86,29],"start":[86,27]}},"type":"Literal","value":{"literalType":"IntLiteral","value":10}},{"annotation":{"meta":null,"sourceSpan":{"end":[86,33],"start":[86,31]}},"type":"Literal","value":{"literalType":"IntLiteral","value":42}}]}},{"annotation":{"meta":null,"sourceSpan":{"end":[87,37],"start":[87,5]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[87,8],"start":[87,6]}},"type":"Literal","value":{"literalType":"IntLiteral","value":48}},{"annotation":{"meta":null,"sourceSpan":{"end":[87,12],"start":[87,10]}},"type":"Literal","value":{"literalType":"IntLiteral","value":16}},{"annotation":{"meta":null,"sourceSpan":{"end":[87,16],"start":[87,14]}},"type":"Literal","value":{"literalType":"IntLiteral","value":56}},{"annotation":{"meta":null,"sourceSpan":{"end":[87,20],"start":[87,18]}},"type":"Literal","value":{"literalType":"IntLiteral","value":24}},{"annotation":{"meta":null,"sourceSpan":{"end":[87,24],"start":[87,22]}},"type":"Literal","value":{"literalType":"IntLiteral","value":50}},{"annotation":{"meta":null,"sourceSpan":{"end":[87,28],"start":[87,26]}},"type":"Literal","value":{"literalType":"IntLiteral","value":18}},{"annotation":{"meta":null,"sourceSpan":{"end":[87,32],"start":[87,30]}},"type":"Literal","value":{"literalType":"IntLiteral","value":58}},{"annotation":{"meta":null,"sourceSpan":{"end":[87,36],"start":[87,34]}},"type":"Literal","value":{"literalType":"IntLiteral","value":26}}]}},{"annotation":{"meta":null,"sourceSpan":{"end":[88,35],"start":[88,5]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[88,8],"start":[88,6]}},"type":"Literal","value":{"literalType":"IntLiteral","value":12}},{"annotation":{"meta":null,"sourceSpan":{"end":[88,12],"start":[88,10]}},"type":"Literal","value":{"literalType":"IntLiteral","value":44}},{"annotation":{"meta":null,"sourceSpan":{"end":[88,15],"start":[88,14]}},"type":"Literal","value":{"literalType":"IntLiteral","value":4}},{"annotation":{"meta":null,"sourceSpan":{"end":[88,19],"start":[88,17]}},"type":"Literal","value":{"literalType":"IntLiteral","value":36}},{"annotation":{"meta":null,"sourceSpan":{"end":[88,23],"start":[88,21]}},"type":"Literal","value":{"literalType":"IntLiteral","value":14}},{"annotation":{"meta":null,"sourceSpan":{"end":[88,27],"start":[88,25]}},"type":"Literal","value":{"literalType":"IntLiteral","value":46}},{"annotation":{"meta":null,"sourceSpan":{"end":[88,30],"start":[88,29]}},"type":"Literal","value":{"literalType":"IntLiteral","value":6}},{"annotation":{"meta":null,"sourceSpan":{"end":[88,34],"start":[88,32]}},"type":"Literal","value":{"literalType":"IntLiteral","value":38}}]}},{"annotation":{"meta":null,"sourceSpan":{"end":[89,37],"start":[89,5]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[89,8],"start":[89,6]}},"type":"Literal","value":{"literalType":"IntLiteral","value":60}},{"annotation":{"meta":null,"sourceSpan":{"end":[89,12],"start":[89,10]}},"type":"Literal","value":{"literalType":"IntLiteral","value":28}},{"annotation":{"meta":null,"sourceSpan":{"end":[89,16],"start":[89,14]}},"type":"Literal","value":{"literalType":"IntLiteral","value":52}},{"annotation":{"meta":null,"sourceSpan":{"end":[89,20],"start":[89,18]}},"type":"Literal","value":{"literalType":"IntLiteral","value":20}},{"annotation":{"meta":null,"sourceSpan":{"end":[89,24],"start":[89,22]}},"type":"Literal","value":{"literalType":"IntLiteral","value":62}},{"annotation":{"meta":null,"sourceSpan":{"end":[89,28],"start":[89,26]}},"type":"Literal","value":{"literalType":"IntLiteral","value":30}},{"annotation":{"meta":null,"sourceSpan":{"end":[89,32],"start":[89,30]}},"type":"Literal","value":{"literalType":"IntLiteral","value":54}},{"annotation":{"meta":null,"sourceSpan":{"end":[89,36],"start":[89,34]}},"type":"Literal","value":{"literalType":"IntLiteral","value":22}}]}},{"annotation":{"meta":null,"sourceSpan":{"end":[90,34],"start":[90,5]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[90,7],"start":[90,6]}},"type":"Literal","value":{"literalType":"IntLiteral","value":3}},{"annotation":{"meta":null,"sourceSpan":{"end":[90,11],"start":[90,9]}},"type":"Literal","value":{"literalType":"IntLiteral","value":35}},{"annotation":{"meta":null,"sourceSpan":{"end":[90,15],"start":[90,13]}},"type":"Literal","value":{"literalType":"IntLiteral","value":11}},{"annotation":{"meta":null,"sourceSpan":{"end":[90,19],"start":[90,17]}},"type":"Literal","value":{"literalType":"IntLiteral","value":43}},{"annotation":{"meta":null,"sourceSpan":{"end":[90,22],"start":[90,21]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},{"annotation":{"meta":null,"sourceSpan":{"end":[90,26],"start":[90,24]}},"type":"Literal","value":{"literalType":"IntLiteral","value":33}},{"annotation":{"meta":null,"sourceSpan":{"end":[90,29],"start":[90,28]}},"type":"Literal","value":{"literalType":"IntLiteral","value":9}},{"annotation":{"meta":null,"sourceSpan":{"end":[90,33],"start":[90,31]}},"type":"Literal","value":{"literalType":"IntLiteral","value":41}}]}},{"annotation":{"meta":null,"sourceSpan":{"end":[91,37],"start":[91,5]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[91,8],"start":[91,6]}},"type":"Literal","value":{"literalType":"IntLiteral","value":51}},{"annotation":{"meta":null,"sourceSpan":{"end":[91,12],"start":[91,10]}},"type":"Literal","value":{"literalType":"IntLiteral","value":19}},{"annotation":{"meta":null,"sourceSpan":{"end":[91,16],"start":[91,14]}},"type":"Literal","value":{"literalType":"IntLiteral","value":59}},{"annotation":{"meta":null,"sourceSpan":{"end":[91,20],"start":[91,18]}},"type":"Literal","value":{"literalType":"IntLiteral","value":27}},{"annotation":{"meta":null,"sourceSpan":{"end":[91,24],"start":[91,22]}},"type":"Literal","value":{"literalType":"IntLiteral","value":49}},{"annotation":{"meta":null,"sourceSpan":{"end":[91,28],"start":[91,26]}},"type":"Literal","value":{"literalType":"IntLiteral","value":17}},{"annotation":{"meta":null,"sourceSpan":{"end":[91,32],"start":[91,30]}},"type":"Literal","value":{"literalType":"IntLiteral","value":57}},{"annotation":{"meta":null,"sourceSpan":{"end":[91,36],"start":[91,34]}},"type":"Literal","value":{"literalType":"IntLiteral","value":25}}]}},{"annotation":{"meta":null,"sourceSpan":{"end":[92,35],"start":[92,5]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[92,8],"start":[92,6]}},"type":"Literal","value":{"literalType":"IntLiteral","value":15}},{"annotation":{"meta":null,"sourceSpan":{"end":[92,12],"start":[92,10]}},"type":"Literal","value":{"literalType":"IntLiteral","value":47}},{"annotation":{"meta":null,"sourceSpan":{"end":[92,15],"start":[92,14]}},"type":"Literal","value":{"literalType":"IntLiteral","value":7}},{"annotation":{"meta":null,"sourceSpan":{"end":[92,19],"start":[92,17]}},"type":"Literal","value":{"literalType":"IntLiteral","value":39}},{"annotation":{"meta":null,"sourceSpan":{"end":[92,23],"start":[92,21]}},"type":"Literal","value":{"literalType":"IntLiteral","value":13}},{"annotation":{"meta":null,"sourceSpan":{"end":[92,27],"start":[92,25]}},"type":"Literal","value":{"literalType":"IntLiteral","value":45}},{"annotation":{"meta":null,"sourceSpan":{"end":[92,30],"start":[92,29]}},"type":"Literal","value":{"literalType":"IntLiteral","value":5}},{"annotation":{"meta":null,"sourceSpan":{"end":[92,34],"start":[92,32]}},"type":"Literal","value":{"literalType":"IntLiteral","value":37}}]}},{"annotation":{"meta":null,"sourceSpan":{"end":[93,37],"start":[93,5]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[93,8],"start":[93,6]}},"type":"Literal","value":{"literalType":"IntLiteral","value":63}},{"annotation":{"meta":null,"sourceSpan":{"end":[93,12],"start":[93,10]}},"type":"Literal","value":{"literalType":"IntLiteral","value":31}},{"annotation":{"meta":null,"sourceSpan":{"end":[93,16],"start":[93,14]}},"type":"Literal","value":{"literalType":"IntLiteral","value":55}},{"annotation":{"meta":null,"sourceSpan":{"end":[93,20],"start":[93,18]}},"type":"Literal","value":{"literalType":"IntLiteral","value":23}},{"annotation":{"meta":null,"sourceSpan":{"end":[93,24],"start":[93,22]}},"type":"Literal","value":{"literalType":"IntLiteral","value":61}},{"annotation":{"meta":null,"sourceSpan":{"end":[93,28],"start":[93,26]}},"type":"Literal","value":{"literalType":"IntLiteral","value":29}},{"annotation":{"meta":null,"sourceSpan":{"end":[93,32],"start":[93,30]}},"type":"Literal","value":{"literalType":"IntLiteral","value":53}},{"annotation":{"meta":null,"sourceSpan":{"end":[93,36],"start":[93,34]}},"type":"Literal","value":{"literalType":"IntLiteral","value":21}}]}}]}},"identifier":"bayer8Matrix"},{"annotation":{"meta":null,"sourceSpan":{"end":[97,28],"start":[97,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[97,28],"start":[97,1]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[97,28],"start":[97,1]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[102,33],"start":[99,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[99,22],"start":[99,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mod","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[99,22],"start":[99,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[99,14],"start":[99,13]}},"type":"Var","value":{"identifier":"y","sourcePos":[98,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[99,22],"start":[99,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[99,22],"start":[99,21]}},"type":"Literal","value":{"literalType":"IntLiteral","value":8}},"type":"App"},"identifier":"row"},{"annotation":{"meta":null,"sourceSpan":{"end":[101,50],"start":[101,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[101,25],"start":[101,16]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[101,28],"start":[101,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[101,28],"start":[101,26]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[101,50],"start":[101,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[101,45],"start":[101,43]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[101,49],"start":[101,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[101,42],"start":[101,30]}},"type":"Var","value":{"identifier":"bayer8Matrix","moduleName":["Lattice","Services","Stylize","Dither"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[101,49],"start":[101,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[101,49],"start":[101,46]}},"type":"Var","value":{"identifier":"row","sourcePos":[99,7]}},"type":"App"},"type":"App"},"identifier":"rowArr"},{"annotation":{"meta":null,"sourceSpan":{"end":[100,22],"start":[100,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mod","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[100,22],"start":[100,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[100,14],"start":[100,13]}},"type":"Var","value":{"identifier":"x","sourcePos":[98,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[100,22],"start":[100,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[100,22],"start":[100,21]}},"type":"Literal","value":{"literalType":"IntLiteral","value":8}},"type":"App"},"identifier":"col"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[102,15],"start":[102,6]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,17],"start":[102,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,17],"start":[102,16]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[102,33],"start":[102,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[102,28],"start":[102,26]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,32],"start":[102,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,25],"start":[102,19]}},"type":"Var","value":{"identifier":"rowArr","sourcePos":[101,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[102,32],"start":[102,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,32],"start":[102,29]}},"type":"Var","value":{"identifier":"col","sourcePos":[100,7]}},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"bayer8"},{"annotation":{"meta":null,"sourceSpan":{"end":[67,34],"start":[67,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[73,4],"start":[69,3]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[69,18],"start":[69,5]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[69,7],"start":[69,6]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},{"annotation":{"meta":null,"sourceSpan":{"end":[69,10],"start":[69,9]}},"type":"Literal","value":{"literalType":"IntLiteral","value":8}},{"annotation":{"meta":null,"sourceSpan":{"end":[69,13],"start":[69,12]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},{"annotation":{"meta":null,"sourceSpan":{"end":[69,17],"start":[69,15]}},"type":"Literal","value":{"literalType":"IntLiteral","value":10}}]}},{"annotation":{"meta":null,"sourceSpan":{"end":[70,19],"start":[70,5]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[70,8],"start":[70,6]}},"type":"Literal","value":{"literalType":"IntLiteral","value":12}},{"annotation":{"meta":null,"sourceSpan":{"end":[70,11],"start":[70,10]}},"type":"Literal","value":{"literalType":"IntLiteral","value":4}},{"annotation":{"meta":null,"sourceSpan":{"end":[70,15],"start":[70,13]}},"type":"Literal","value":{"literalType":"IntLiteral","value":14}},{"annotation":{"meta":null,"sourceSpan":{"end":[70,18],"start":[70,17]}},"type":"Literal","value":{"literalType":"IntLiteral","value":6}}]}},{"annotation":{"meta":null,"sourceSpan":{"end":[71,18],"start":[71,5]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[71,7],"start":[71,6]}},"type":"Literal","value":{"literalType":"IntLiteral","value":3}},{"annotation":{"meta":null,"sourceSpan":{"end":[71,11],"start":[71,9]}},"type":"Literal","value":{"literalType":"IntLiteral","value":11}},{"annotation":{"meta":null,"sourceSpan":{"end":[71,14],"start":[71,13]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},{"annotation":{"meta":null,"sourceSpan":{"end":[71,17],"start":[71,16]}},"type":"Literal","value":{"literalType":"IntLiteral","value":9}}]}},{"annotation":{"meta":null,"sourceSpan":{"end":[72,19],"start":[72,5]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[72,8],"start":[72,6]}},"type":"Literal","value":{"literalType":"IntLiteral","value":15}},{"annotation":{"meta":null,"sourceSpan":{"end":[72,11],"start":[72,10]}},"type":"Literal","value":{"literalType":"IntLiteral","value":7}},{"annotation":{"meta":null,"sourceSpan":{"end":[72,15],"start":[72,13]}},"type":"Literal","value":{"literalType":"IntLiteral","value":13}},{"annotation":{"meta":null,"sourceSpan":{"end":[72,18],"start":[72,17]}},"type":"Literal","value":{"literalType":"IntLiteral","value":5}}]}}]}},"identifier":"bayer4Matrix"},{"annotation":{"meta":null,"sourceSpan":{"end":[76,28],"start":[76,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[76,28],"start":[76,1]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[76,28],"start":[76,1]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[81,33],"start":[78,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[78,22],"start":[78,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mod","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[78,22],"start":[78,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[78,14],"start":[78,13]}},"type":"Var","value":{"identifier":"y","sourcePos":[77,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[78,22],"start":[78,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[78,22],"start":[78,21]}},"type":"Literal","value":{"literalType":"IntLiteral","value":4}},"type":"App"},"identifier":"row"},{"annotation":{"meta":null,"sourceSpan":{"end":[80,50],"start":[80,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[80,25],"start":[80,16]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[80,28],"start":[80,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[80,28],"start":[80,26]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[80,50],"start":[80,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[80,45],"start":[80,43]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[80,49],"start":[80,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[80,42],"start":[80,30]}},"type":"Var","value":{"identifier":"bayer4Matrix","moduleName":["Lattice","Services","Stylize","Dither"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[80,49],"start":[80,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[80,49],"start":[80,46]}},"type":"Var","value":{"identifier":"row","sourcePos":[78,7]}},"type":"App"},"type":"App"},"identifier":"rowArr"},{"annotation":{"meta":null,"sourceSpan":{"end":[79,22],"start":[79,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mod","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[79,22],"start":[79,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[79,14],"start":[79,13]}},"type":"Var","value":{"identifier":"x","sourcePos":[77,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[79,22],"start":[79,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[79,22],"start":[79,21]}},"type":"Literal","value":{"literalType":"IntLiteral","value":4}},"type":"App"},"identifier":"col"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[81,15],"start":[81,6]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[81,17],"start":[81,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[81,17],"start":[81,16]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[81,33],"start":[81,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[81,28],"start":[81,26]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[81,32],"start":[81,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[81,25],"start":[81,19]}},"type":"Var","value":{"identifier":"rowArr","sourcePos":[80,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[81,32],"start":[81,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[81,32],"start":[81,29]}},"type":"Var","value":{"identifier":"col","sourcePos":[79,7]}},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"bayer4"},{"annotation":{"meta":null,"sourceSpan":{"end":[58,28],"start":[58,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[58,28],"start":[58,1]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[58,28],"start":[58,1]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[64,36],"start":[60,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[60,22],"start":[60,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mod","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[60,22],"start":[60,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[60,14],"start":[60,13]}},"type":"Var","value":{"identifier":"y","sourcePos":[59,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[60,22],"start":[60,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[60,22],"start":[60,21]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"},"identifier":"row"},{"annotation":{"meta":null,"sourceSpan":{"end":[61,22],"start":[61,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mod","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[61,22],"start":[61,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[61,14],"start":[61,13]}},"type":"Var","value":{"identifier":"x","sourcePos":[59,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[61,22],"start":[61,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[61,22],"start":[61,21]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"},"identifier":"col"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[64,36],"start":[62,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[64,36],"start":[62,6]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[63,36],"start":[63,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[63,36],"start":[63,11]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[63,29],"start":[63,28]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[63,36],"start":[63,11]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[63,36],"start":[63,35]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[63,22],"start":[63,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[63,17],"start":[63,14]}},"type":"Var","value":{"identifier":"col","sourcePos":[61,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[63,22],"start":[63,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[63,22],"start":[63,21]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}],"type":"Case"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[64,36],"start":[62,6]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[64,36],"start":[64,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[64,36],"start":[64,11]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[64,29],"start":[64,28]}},"type":"Literal","value":{"literalType":"IntLiteral","value":3}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[64,36],"start":[64,11]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[64,36],"start":[64,35]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[64,22],"start":[64,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[64,17],"start":[64,14]}},"type":"Var","value":{"identifier":"col","sourcePos":[61,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[64,22],"start":[64,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[64,22],"start":[64,21]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}],"type":"Case"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[62,17],"start":[62,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[62,12],"start":[62,9]}},"type":"Var","value":{"identifier":"row","sourcePos":[60,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[62,17],"start":[62,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[62,17],"start":[62,16]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"bayer2"},{"annotation":{"meta":null,"sourceSpan":{"end":[105,39],"start":[105,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[105,39],"start":[105,1]}},"argument":"matrixSize","body":{"annotation":{"meta":null,"sourceSpan":{"end":[105,39],"start":[105,1]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[105,39],"start":[105,1]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[105,39],"start":[105,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[106,22],"start":[106,12]}},"binderType":"VarBinder","identifier":"matrixSize1"},{"annotation":{"meta":null,"sourceSpan":{"end":[106,24],"start":[106,23]}},"binderType":"VarBinder","identifier":"x1"},{"annotation":{"meta":null,"sourceSpan":{"end":[106,26],"start":[106,25]}},"binderType":"VarBinder","identifier":"y1"}],"expressions":[{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[107,29],"start":[107,23]}},"type":"Var","value":{"identifier":"bayer2","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[107,31],"start":[107,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[107,31],"start":[107,30]}},"type":"Var","value":{"identifier":"x1","sourcePos":[106,23]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[107,33],"start":[107,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[107,33],"start":[107,32]}},"type":"Var","value":{"identifier":"y1","sourcePos":[106,25]}},"type":"App"},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[107,20],"start":[107,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[107,15],"start":[107,5]}},"type":"Var","value":{"identifier":"matrixSize1","sourcePos":[106,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[107,20],"start":[107,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[107,20],"start":[107,19]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"}},{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[108,29],"start":[108,23]}},"type":"Var","value":{"identifier":"bayer8","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[108,31],"start":[108,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[108,31],"start":[108,30]}},"type":"Var","value":{"identifier":"x1","sourcePos":[106,23]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[108,33],"start":[108,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[108,33],"start":[108,32]}},"type":"Var","value":{"identifier":"y1","sourcePos":[106,25]}},"type":"App"},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[108,20],"start":[108,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[108,15],"start":[108,5]}},"type":"Var","value":{"identifier":"matrixSize1","sourcePos":[106,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[108,20],"start":[108,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[108,20],"start":[108,19]}},"type":"Literal","value":{"literalType":"IntLiteral","value":8}},"type":"App"}},{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[109,29],"start":[109,23]}},"type":"Var","value":{"identifier":"bayer4","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[109,31],"start":[109,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[109,31],"start":[109,30]}},"type":"Var","value":{"identifier":"x1","sourcePos":[106,23]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[109,33],"start":[109,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[109,33],"start":[109,32]}},"type":"Var","value":{"identifier":"y1","sourcePos":[106,25]}},"type":"App"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[109,14],"start":[109,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[109,33],"start":[106,1]}},"type":"Var","value":{"identifier":"matrixSize","sourcePos":[106,12]}},{"annotation":{"meta":null,"sourceSpan":{"end":[109,33],"start":[106,1]}},"type":"Var","value":{"identifier":"x","sourcePos":[106,23]}},{"annotation":{"meta":null,"sourceSpan":{"end":[109,33],"start":[106,1]}},"type":"Var","value":{"identifier":"y","sourcePos":[106,25]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"bayerValue"},{"annotation":{"meta":null,"sourceSpan":{"end":[116,55],"start":[116,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[116,55],"start":[116,1]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[116,55],"start":[116,1]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[116,55],"start":[116,1]}},"argument":"matrixSize","body":{"annotation":{"meta":null,"sourceSpan":{"end":[116,55],"start":[116,1]}},"argument":"levels","body":{"annotation":{"meta":null,"sourceSpan":{"end":[120,67],"start":[118,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[119,59],"start":[119,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[119,31],"start":[119,19]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[119,59],"start":[119,19]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[119,43],"start":[119,33]}},"type":"Var","value":{"identifier":"bayerValue","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[119,54],"start":[119,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,54],"start":[119,44]}},"type":"Var","value":{"identifier":"matrixSize","sourcePos":[117,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[119,56],"start":[119,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,56],"start":[119,55]}},"type":"Var","value":{"identifier":"x","sourcePos":[117,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[119,58],"start":[119,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,58],"start":[119,57]}},"type":"Var","value":{"identifier":"y","sourcePos":[117,1]}},"type":"App"},"type":"App"},"identifier":"matrixVal"},{"annotation":{"meta":null,"sourceSpan":{"end":[118,57],"start":[118,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[118,31],"start":[118,19]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[118,57],"start":[118,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul1","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[118,56],"start":[118,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[118,43],"start":[118,33]}},"type":"Var","value":{"identifier":"matrixSize","sourcePos":[117,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[118,56],"start":[118,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[118,56],"start":[118,46]}},"type":"Var","value":{"identifier":"matrixSize","sourcePos":[117,1]}},"type":"App"},"type":"App"},"identifier":"matrixMax"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[120,67],"start":[120,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[120,34],"start":[120,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[120,34],"start":[120,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[120,16],"start":[120,7]}},"type":"Var","value":{"identifier":"matrixVal","sourcePos":[119,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[120,34],"start":[120,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[120,28],"start":[120,19]}},"type":"Var","value":{"identifier":"matrixMax","sourcePos":[118,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[120,34],"start":[120,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[120,34],"start":[120,31]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[120,67],"start":[120,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[120,66],"start":[120,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[120,44],"start":[120,39]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":256}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[120,66],"start":[120,39]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[120,59],"start":[120,47]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[120,66],"start":[120,47]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[120,66],"start":[120,60]}},"type":"Var","value":{"identifier":"levels","sourcePos":[117,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"orderedThreshold"},{"annotation":{"meta":null,"sourceSpan":{"end":[176,41],"start":[176,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[184,4],"start":[178,3]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[178,10],"start":[178,5]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[178,12],"start":[178,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[178,12],"start":[178,11]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[178,14],"start":[178,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[178,14],"start":[178,13]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[179,10],"start":[179,5]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[179,12],"start":[179,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[179,12],"start":[179,11]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[179,14],"start":[179,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[179,14],"start":[179,13]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[180,10],"start":[180,5]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[180,15],"start":[180,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[180,14],"start":[180,12]}},"type":"Var","value":{"identifier":"negate","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[180,14],"start":[180,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringInt","moduleName":["Data","Ring"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[180,14],"start":[180,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[180,14],"start":[180,13]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[180,17],"start":[180,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[180,17],"start":[180,16]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[181,10],"start":[181,5]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[181,12],"start":[181,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,12],"start":[181,11]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[181,14],"start":[181,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,14],"start":[181,13]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[182,10],"start":[182,5]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[182,12],"start":[182,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[182,12],"start":[182,11]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[182,14],"start":[182,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[182,14],"start":[182,13]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[183,10],"start":[183,5]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[183,12],"start":[183,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[183,12],"start":[183,11]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[183,14],"start":[183,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[183,14],"start":[183,13]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"}]}},"identifier":"atkinsonOffsets"},{"annotation":{"meta":null,"sourceSpan":{"end":[172,45],"start":[172,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[172,45],"start":[172,1]}},"argument":"err","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Stylize","Dither"]}},"annotation":{"meta":null,"sourceSpan":{"end":[173,41],"start":[173,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[173,35],"start":[173,32]}},"type":"Var","value":{"identifier":"err","sourcePos":[173,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[173,41],"start":[173,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[173,41],"start":[173,38]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":8}},"type":"App"},"type":"Abs"},"identifier":"atkinsonErrorPerNeighbor"}],"exports":["Ordered","FloydSteinberg","Atkinson","bayer2","bayer4","bayer8","bayerValue","orderedThreshold","quantize","clamp255","floydSteinbergCoeffs","distributeErrorFS","atkinsonErrorPerNeighbor","atkinsonOffsets","eqDitherMethod","showDitherMethod"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[184,4],"start":[13,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[184,4],"start":[13,1]}},"moduleName":["Data","Boolean"]},{"annotation":{"meta":null,"sourceSpan":{"end":[184,4],"start":[13,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[184,4],"start":[13,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[184,4],"start":[13,1]}},"moduleName":["Data","Int"]},{"annotation":{"meta":null,"sourceSpan":{"end":[184,4],"start":[13,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[184,4],"start":[13,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[184,4],"start":[13,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[184,4],"start":[13,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[184,4],"start":[13,1]}},"moduleName":["Data","Show"]},{"annotation":{"meta":null,"sourceSpan":{"end":[184,4],"start":[13,1]}},"moduleName":["Data","Tuple"]},{"annotation":{"meta":null,"sourceSpan":{"end":[184,4],"start":[13,1]}},"moduleName":["Lattice","Services","Stylize","Dither"]},{"annotation":{"meta":null,"sourceSpan":{"end":[29,15],"start":[29,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[184,4],"start":[13,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","Stylize","Dither"],"modulePath":"src/Lattice/Services/Stylize/Dither.purs","reExports":{},"sourceSpan":{"end":[184,4],"start":[13,1]}}