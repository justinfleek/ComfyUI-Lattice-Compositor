{"builtWith":"0.15.15","comments":[{"LineComment":" | Lattice.Services.Mesh.Deformation - Mesh Warp Deformation"},{"LineComment":" |"},{"LineComment":" | Pure mathematical functions for mesh deformation using control pins."},{"LineComment":" | Uses inverse-distance weighting for smooth deformations."},{"LineComment":" |"},{"LineComment":" | Features:"},{"LineComment":" | - Inverse-distance weight calculation"},{"LineComment":" | - Point rotation around origin"},{"LineComment":" | - Point scaling around origin"},{"LineComment":" | - Weighted vertex blending"},{"LineComment":" |"},{"LineComment":" | Source: ui/src/services/meshWarpDeformation.ts"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[264,12],"start":[264,11]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[264,16],"start":[264,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[265,27],"start":[265,25]}},"type":"Var","value":{"identifier":"append","moduleName":["Data","Semigroup"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[265,49],"start":[265,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupArray","moduleName":["Data","Semigroup"]}},"type":"App"},"identifier":"append"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[265,42],"start":[265,41]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[265,44],"start":[265,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringInt","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[135,24],"start":[135,23]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[135,36],"start":[135,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[131,41],"start":[131,40]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[131,47],"start":[131,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[131,36],"start":[131,35]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[131,47],"start":[131,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[137,22],"start":[137,21]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[137,44],"start":[137,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[292,15],"start":[292,12]}},"type":"Var","value":{"identifier":"max","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[292,19],"start":[292,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"max"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[292,24],"start":[292,21]}},"type":"Var","value":{"identifier":"min","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[292,28],"start":[292,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"min"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"conj"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqNumber","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"eq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[166,17],"start":[166,16]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[166,23],"start":[166,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[167,17],"start":[167,16]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[167,30],"start":[167,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[181,28],"start":[181,26]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[181,30],"start":[181,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqInt","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"eq1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[185,36],"start":[185,33]}},"type":"Var","value":{"identifier":"map","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[188,20],"start":[185,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorArray","moduleName":["Data","Functor"]}},"type":"App"},"identifier":"map"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[243,68],"start":[243,67]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[243,81],"start":[243,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringInt","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[244,30],"start":[244,28]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[244,34],"start":[244,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[256,33],"start":[256,32]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[256,35],"start":[256,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringInt","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub1"},{"annotation":{"meta":null,"sourceSpan":{"end":[52,55],"start":[52,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[52,55],"start":[52,1]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[52,55],"start":[52,1]}},"type":"Var","value":{"identifier":"x","sourcePos":[0,0]}},"type":"Abs"},"identifier":"Point2D"},{"bindType":"Rec","binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[262,33],"start":[262,1]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[262,33],"start":[262,1]}},"argument":"start","body":{"annotation":{"meta":null,"sourceSpan":{"end":[262,33],"start":[262,1]}},"argument":"end","body":{"annotation":{"meta":null,"sourceSpan":{"end":[262,33],"start":[262,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[263,12],"start":[263,7]}},"binderType":"VarBinder","identifier":"start1"},{"annotation":{"meta":null,"sourceSpan":{"end":[263,16],"start":[263,13]}},"binderType":"VarBinder","identifier":"end1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[264,21],"start":[264,19]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[264,16],"start":[264,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[264,10],"start":[264,5]}},"type":"Var","value":{"identifier":"start1","sourcePos":[263,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[264,16],"start":[264,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[264,16],"start":[264,13]}},"type":"Var","value":{"identifier":"end1","sourcePos":[263,13]}},"type":"App"}},{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[265,49],"start":[265,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[265,24],"start":[265,17]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[265,23],"start":[265,18]}},"type":"Var","value":{"identifier":"start1","sourcePos":[263,7]}}]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[265,49],"start":[265,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[265,33],"start":[265,28]}},"type":"Var","value":{"identifier":"range","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[265,45],"start":[265,28]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[265,44],"start":[265,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[265,40],"start":[265,35]}},"type":"Var","value":{"identifier":"start1","sourcePos":[263,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[265,44],"start":[265,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[265,44],"start":[265,43]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[265,49],"start":[265,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[265,49],"start":[265,46]}},"type":"Var","value":{"identifier":"end1","sourcePos":[263,13]}},"type":"App"},"type":"App"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[265,14],"start":[265,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[265,49],"start":[263,1]}},"type":"Var","value":{"identifier":"start","sourcePos":[263,7]}},{"annotation":{"meta":null,"sourceSpan":{"end":[265,49],"start":[263,1]}},"type":"Var","value":{"identifier":"end","sourcePos":[263,13]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"range"}]},{"annotation":{"meta":null,"sourceSpan":{"end":[62,26],"start":[62,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[62,26],"start":[62,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[62,26],"start":[62,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[63,16],"start":[63,7]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[63,16],"start":[63,15]}},"binderType":"VarBinder","identifier":"p"}],"constructorName":{"identifier":"Point2D","moduleName":["Lattice","Services","Mesh","Deformation"]},"typeName":{"identifier":"Point2D","moduleName":["Lattice","Services","Mesh","Deformation"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[63,23],"start":[63,20]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[63,21],"start":[63,20]}},"type":"Var","value":{"identifier":"p","sourcePos":[63,15]}},"fieldName":"y","type":"Accessor"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[63,23],"start":[63,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"identifier":"p2dY"},{"annotation":{"meta":null,"sourceSpan":{"end":[59,26],"start":[59,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[59,26],"start":[59,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[59,26],"start":[59,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[60,16],"start":[60,7]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[60,16],"start":[60,15]}},"binderType":"VarBinder","identifier":"p"}],"constructorName":{"identifier":"Point2D","moduleName":["Lattice","Services","Mesh","Deformation"]},"typeName":{"identifier":"Point2D","moduleName":["Lattice","Services","Mesh","Deformation"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[60,23],"start":[60,20]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[60,21],"start":[60,20]}},"type":"Var","value":{"identifier":"p","sourcePos":[60,15]}},"fieldName":"x","type":"Accessor"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[60,23],"start":[60,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"identifier":"p2dX"},{"annotation":{"meta":null,"sourceSpan":{"end":[72,64],"start":[72,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[72,64],"start":[72,1]}},"argument":"falloffPower","body":{"annotation":{"meta":null,"sourceSpan":{"end":[72,64],"start":[72,1]}},"argument":"minWeight","body":{"annotation":{"meta":null,"sourceSpan":{"end":[72,64],"start":[72,1]}},"argument":"normalize","body":{"annotation":{"meta":null,"sourceSpan":{"end":[74,41],"start":[74,3]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["falloffPower",{"annotation":{"meta":null,"sourceSpan":{"end":[74,17],"start":[74,5]}},"type":"Var","value":{"identifier":"falloffPower","sourcePos":[73,1]}}],["minWeight",{"annotation":{"meta":null,"sourceSpan":{"end":[74,28],"start":[74,19]}},"type":"Var","value":{"identifier":"minWeight","sourcePos":[73,1]}}],["normalize",{"annotation":{"meta":null,"sourceSpan":{"end":[74,39],"start":[74,30]}},"type":"Var","value":{"identifier":"normalize","sourcePos":[73,1]}}]]}},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"mkWeightOptions"},{"annotation":{"meta":null,"sourceSpan":{"end":[56,41],"start":[56,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[56,41],"start":[56,1]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[56,41],"start":[56,1]}},"argument":"y","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[57,24],"start":[57,17]}},"type":"Var","value":{"identifier":"Point2D","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[57,33],"start":[57,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[57,33],"start":[57,25]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[57,28],"start":[57,27]}},"type":"Var","value":{"identifier":"x","sourcePos":[57,1]}}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[57,31],"start":[57,30]}},"type":"Var","value":{"identifier":"y","sourcePos":[57,1]}}]]}},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"mkPoint2D"},{"annotation":{"meta":null,"sourceSpan":{"end":[129,55],"start":[129,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[129,55],"start":[129,1]}},"argument":"point","body":{"annotation":{"meta":null,"sourceSpan":{"end":[129,55],"start":[129,1]}},"argument":"origin","body":{"annotation":{"meta":null,"sourceSpan":{"end":[129,55],"start":[129,1]}},"argument":"angleDegrees","body":{"annotation":{"meta":null,"sourceSpan":{"end":[138,45],"start":[131,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[135,36],"start":[135,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[135,36],"start":[135,12]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[135,16],"start":[135,12]}},"type":"Var","value":{"identifier":"p2dY","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[135,22],"start":[135,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[135,22],"start":[135,17]}},"type":"Var","value":{"identifier":"point","sourcePos":[130,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[135,36],"start":[135,12]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[135,29],"start":[135,25]}},"type":"Var","value":{"identifier":"p2dY","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[135,36],"start":[135,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[135,36],"start":[135,30]}},"type":"Var","value":{"identifier":"origin","sourcePos":[130,1]}},"type":"App"},"type":"App"},"identifier":"dy"},{"annotation":{"meta":null,"sourceSpan":{"end":[134,36],"start":[134,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[134,36],"start":[134,12]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[134,16],"start":[134,12]}},"type":"Var","value":{"identifier":"p2dX","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[134,22],"start":[134,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[134,22],"start":[134,17]}},"type":"Var","value":{"identifier":"point","sourcePos":[130,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[134,36],"start":[134,12]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[134,29],"start":[134,25]}},"type":"Var","value":{"identifier":"p2dX","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[134,36],"start":[134,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[134,36],"start":[134,30]}},"type":"Var","value":{"identifier":"origin","sourcePos":[130,1]}},"type":"App"},"type":"App"},"identifier":"dx"},{"annotation":{"meta":null,"sourceSpan":{"end":[131,47],"start":[131,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[131,47],"start":[131,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[131,47],"start":[131,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[131,34],"start":[131,22]}},"type":"Var","value":{"identifier":"angleDegrees","sourcePos":[130,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[131,47],"start":[131,22]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[131,39],"start":[131,37]}},"type":"Var","value":{"identifier":"pi","moduleName":["Math"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[131,47],"start":[131,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[131,47],"start":[131,42]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":180}},"type":"App"},"identifier":"angleRadians"},{"annotation":{"meta":null,"sourceSpan":{"end":[132,30],"start":[132,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[132,17],"start":[132,14]}},"type":"Var","value":{"identifier":"cos","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[132,30],"start":[132,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[132,30],"start":[132,18]}},"type":"Var","value":{"identifier":"angleRadians","sourcePos":[131,7]}},"type":"App"},"identifier":"cosA"},{"annotation":{"meta":null,"sourceSpan":{"end":[133,30],"start":[133,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[133,17],"start":[133,14]}},"type":"Var","value":{"identifier":"sin","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[133,30],"start":[133,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[133,30],"start":[133,18]}},"type":"Var","value":{"identifier":"angleRadians","sourcePos":[131,7]}},"type":"App"},"identifier":"sinA"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[136,15],"start":[136,6]}},"type":"Var","value":{"identifier":"mkPoint2D","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[137,45],"start":[136,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[137,44],"start":[137,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[137,44],"start":[137,9]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[137,13],"start":[137,9]}},"type":"Var","value":{"identifier":"p2dX","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[137,20],"start":[137,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[137,20],"start":[137,14]}},"type":"Var","value":{"identifier":"origin","sourcePos":[130,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[137,44],"start":[137,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[137,44],"start":[137,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[137,25],"start":[137,23]}},"type":"Var","value":{"identifier":"dx","sourcePos":[134,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[137,44],"start":[137,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[137,32],"start":[137,28]}},"type":"Var","value":{"identifier":"cosA","sourcePos":[132,7]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[137,44],"start":[137,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[137,44],"start":[137,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[137,37],"start":[137,35]}},"type":"Var","value":{"identifier":"dy","sourcePos":[135,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[137,44],"start":[137,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[137,44],"start":[137,40]}},"type":"Var","value":{"identifier":"sinA","sourcePos":[133,7]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,45],"start":[136,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[138,44],"start":[138,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[138,44],"start":[138,9]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[138,13],"start":[138,9]}},"type":"Var","value":{"identifier":"p2dY","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[138,20],"start":[138,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,20],"start":[138,14]}},"type":"Var","value":{"identifier":"origin","sourcePos":[130,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,44],"start":[138,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[138,44],"start":[138,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,25],"start":[138,23]}},"type":"Var","value":{"identifier":"dx","sourcePos":[134,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,44],"start":[138,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,32],"start":[138,28]}},"type":"Var","value":{"identifier":"sinA","sourcePos":[133,7]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,44],"start":[138,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[138,44],"start":[138,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,37],"start":[138,35]}},"type":"Var","value":{"identifier":"dy","sourcePos":[135,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,44],"start":[138,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,44],"start":[138,40]}},"type":"Var","value":{"identifier":"cosA","sourcePos":[132,7]}},"type":"App"},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"rotatePoint"},{"annotation":{"meta":null,"sourceSpan":{"end":[141,54],"start":[141,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[141,54],"start":[141,1]}},"argument":"point","body":{"annotation":{"meta":null,"sourceSpan":{"end":[141,54],"start":[141,1]}},"argument":"origin","body":{"annotation":{"meta":null,"sourceSpan":{"end":[141,54],"start":[141,1]}},"argument":"scale","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[142,42],"start":[142,33]}},"type":"Var","value":{"identifier":"mkPoint2D","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[143,53],"start":[142,33]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[143,52],"start":[143,4]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[143,8],"start":[143,4]}},"type":"Var","value":{"identifier":"p2dX","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[143,15],"start":[143,4]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[143,15],"start":[143,9]}},"type":"Var","value":{"identifier":"origin","sourcePos":[142,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[143,52],"start":[143,4]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[143,52],"start":[143,4]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[143,43],"start":[143,19]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[143,23],"start":[143,19]}},"type":"Var","value":{"identifier":"p2dX","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[143,29],"start":[143,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[143,29],"start":[143,24]}},"type":"Var","value":{"identifier":"point","sourcePos":[142,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[143,43],"start":[143,19]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[143,36],"start":[143,32]}},"type":"Var","value":{"identifier":"p2dX","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[143,43],"start":[143,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[143,43],"start":[143,37]}},"type":"Var","value":{"identifier":"origin","sourcePos":[142,1]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[143,52],"start":[143,4]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[143,52],"start":[143,47]}},"type":"Var","value":{"identifier":"scale","sourcePos":[142,1]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[144,53],"start":[142,33]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[144,52],"start":[144,4]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[144,8],"start":[144,4]}},"type":"Var","value":{"identifier":"p2dY","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[144,15],"start":[144,4]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[144,15],"start":[144,9]}},"type":"Var","value":{"identifier":"origin","sourcePos":[142,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[144,52],"start":[144,4]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[144,52],"start":[144,4]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[144,43],"start":[144,19]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[144,23],"start":[144,19]}},"type":"Var","value":{"identifier":"p2dY","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[144,29],"start":[144,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[144,29],"start":[144,24]}},"type":"Var","value":{"identifier":"point","sourcePos":[142,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[144,43],"start":[144,19]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[144,36],"start":[144,32]}},"type":"Var","value":{"identifier":"p2dY","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[144,43],"start":[144,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[144,43],"start":[144,37]}},"type":"Var","value":{"identifier":"origin","sourcePos":[142,1]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[144,52],"start":[144,4]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[144,52],"start":[144,47]}},"type":"Var","value":{"identifier":"scale","sourcePos":[142,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"scalePoint"},{"annotation":{"meta":null,"sourceSpan":{"end":[147,48],"start":[147,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[147,48],"start":[147,1]}},"argument":"point","body":{"annotation":{"meta":null,"sourceSpan":{"end":[147,48],"start":[147,1]}},"argument":"delta","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[148,39],"start":[148,30]}},"type":"Var","value":{"identifier":"mkPoint2D","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[149,28],"start":[148,30]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[149,27],"start":[149,4]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[149,8],"start":[149,4]}},"type":"Var","value":{"identifier":"p2dX","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[149,14],"start":[149,4]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,14],"start":[149,9]}},"type":"Var","value":{"identifier":"point","sourcePos":[148,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[149,27],"start":[149,4]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[149,21],"start":[149,17]}},"type":"Var","value":{"identifier":"p2dX","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[149,27],"start":[149,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,27],"start":[149,22]}},"type":"Var","value":{"identifier":"delta","sourcePos":[148,1]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[150,28],"start":[148,30]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[150,27],"start":[150,4]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[150,8],"start":[150,4]}},"type":"Var","value":{"identifier":"p2dY","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[150,14],"start":[150,4]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,14],"start":[150,9]}},"type":"Var","value":{"identifier":"point","sourcePos":[148,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[150,27],"start":[150,4]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[150,21],"start":[150,17]}},"type":"Var","value":{"identifier":"p2dY","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[150,27],"start":[150,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,27],"start":[150,22]}},"type":"Var","value":{"identifier":"delta","sourcePos":[148,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"translatePoint"},{"annotation":{"meta":null,"sourceSpan":{"end":[91,65],"start":[91,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[91,65],"start":[91,1]}},"argument":"position","body":{"annotation":{"meta":null,"sourceSpan":{"end":[91,65],"start":[91,1]}},"argument":"rotation","body":{"annotation":{"meta":null,"sourceSpan":{"end":[91,65],"start":[91,1]}},"argument":"scale","body":{"annotation":{"meta":null,"sourceSpan":{"end":[91,65],"start":[91,1]}},"argument":"delta","body":{"annotation":{"meta":null,"sourceSpan":{"end":[93,39],"start":[93,3]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["position",{"annotation":{"meta":null,"sourceSpan":{"end":[93,13],"start":[93,5]}},"type":"Var","value":{"identifier":"position","sourcePos":[92,1]}}],["rotation",{"annotation":{"meta":null,"sourceSpan":{"end":[93,23],"start":[93,15]}},"type":"Var","value":{"identifier":"rotation","sourcePos":[92,1]}}],["scale",{"annotation":{"meta":null,"sourceSpan":{"end":[93,30],"start":[93,25]}},"type":"Var","value":{"identifier":"scale","sourcePos":[92,1]}}],["delta",{"annotation":{"meta":null,"sourceSpan":{"end":[93,37],"start":[93,32]}},"type":"Var","value":{"identifier":"delta","sourcePos":[92,1]}}]]}},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"mkPinState"},{"annotation":{"meta":null,"sourceSpan":{"end":[104,82],"start":[104,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[104,82],"start":[104,1]}},"argument":"position","body":{"annotation":{"meta":null,"sourceSpan":{"end":[104,82],"start":[104,1]}},"argument":"rotation","body":{"annotation":{"meta":null,"sourceSpan":{"end":[104,82],"start":[104,1]}},"argument":"scale","body":{"annotation":{"meta":null,"sourceSpan":{"end":[104,82],"start":[104,1]}},"argument":"radius","body":{"annotation":{"meta":null,"sourceSpan":{"end":[104,82],"start":[104,1]}},"argument":"stiffness","body":{"annotation":{"meta":null,"sourceSpan":{"end":[106,51],"start":[106,3]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["position",{"annotation":{"meta":null,"sourceSpan":{"end":[106,13],"start":[106,5]}},"type":"Var","value":{"identifier":"position","sourcePos":[105,1]}}],["rotation",{"annotation":{"meta":null,"sourceSpan":{"end":[106,23],"start":[106,15]}},"type":"Var","value":{"identifier":"rotation","sourcePos":[105,1]}}],["scale",{"annotation":{"meta":null,"sourceSpan":{"end":[106,30],"start":[106,25]}},"type":"Var","value":{"identifier":"scale","sourcePos":[105,1]}}],["radius",{"annotation":{"meta":null,"sourceSpan":{"end":[106,38],"start":[106,32]}},"type":"Var","value":{"identifier":"radius","sourcePos":[105,1]}}],["stiffness",{"annotation":{"meta":null,"sourceSpan":{"end":[106,49],"start":[106,40]}},"type":"Var","value":{"identifier":"stiffness","sourcePos":[105,1]}}]]}},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"mkPinRestState"},{"annotation":{"meta":null,"sourceSpan":{"end":[290,53],"start":[290,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[290,53],"start":[290,1]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[290,53],"start":[290,1]}},"argument":"b","body":{"annotation":{"meta":null,"sourceSpan":{"end":[290,53],"start":[290,1]}},"argument":"t","body":{"annotation":{"meta":null,"sourceSpan":{"end":[295,41],"start":[292,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[292,31],"start":[292,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[292,19],"start":[292,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[292,19],"start":[292,16]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[292,31],"start":[292,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[292,28],"start":[292,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[292,28],"start":[292,25]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[292,30],"start":[292,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[292,30],"start":[292,29]}},"type":"Var","value":{"identifier":"t","sourcePos":[291,1]}},"type":"App"},"type":"App"},"identifier":"tc"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[293,15],"start":[293,6]}},"type":"Var","value":{"identifier":"mkPoint2D","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[294,41],"start":[293,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[294,40],"start":[294,9]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[294,13],"start":[294,9]}},"type":"Var","value":{"identifier":"p2dX","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[294,15],"start":[294,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[294,15],"start":[294,14]}},"type":"Var","value":{"identifier":"a","sourcePos":[291,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[294,40],"start":[294,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[294,40],"start":[294,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[294,34],"start":[294,19]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[294,23],"start":[294,19]}},"type":"Var","value":{"identifier":"p2dX","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[294,25],"start":[294,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[294,25],"start":[294,24]}},"type":"Var","value":{"identifier":"b","sourcePos":[291,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[294,34],"start":[294,19]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[294,32],"start":[294,28]}},"type":"Var","value":{"identifier":"p2dX","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[294,34],"start":[294,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[294,34],"start":[294,33]}},"type":"Var","value":{"identifier":"a","sourcePos":[291,1]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[294,40],"start":[294,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[294,40],"start":[294,38]}},"type":"Var","value":{"identifier":"tc","sourcePos":[292,7]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[295,41],"start":[293,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[295,40],"start":[295,9]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[295,13],"start":[295,9]}},"type":"Var","value":{"identifier":"p2dY","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[295,15],"start":[295,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[295,15],"start":[295,14]}},"type":"Var","value":{"identifier":"a","sourcePos":[291,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[295,40],"start":[295,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[295,40],"start":[295,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[295,34],"start":[295,19]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[295,23],"start":[295,19]}},"type":"Var","value":{"identifier":"p2dY","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[295,25],"start":[295,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[295,25],"start":[295,24]}},"type":"Var","value":{"identifier":"b","sourcePos":[291,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[295,34],"start":[295,19]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[295,32],"start":[295,28]}},"type":"Var","value":{"identifier":"p2dY","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[295,34],"start":[295,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[295,34],"start":[295,33]}},"type":"Var","value":{"identifier":"a","sourcePos":[291,1]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[295,40],"start":[295,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[295,40],"start":[295,38]}},"type":"Var","value":{"identifier":"tc","sourcePos":[292,7]}},"type":"App"},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"lerpPoint"},{"annotation":{"meta":null,"sourceSpan":{"end":[298,45],"start":[298,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[298,45],"start":[298,1]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[298,45],"start":[298,1]}},"argument":"b","body":{"annotation":{"meta":null,"sourceSpan":{"end":[298,45],"start":[298,1]}},"argument":"t","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[299,47],"start":[299,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[299,15],"start":[299,14]}},"type":"Var","value":{"identifier":"a","sourcePos":[299,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[299,47],"start":[299,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[299,47],"start":[299,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[299,24],"start":[299,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[299,20],"start":[299,19]}},"type":"Var","value":{"identifier":"b","sourcePos":[299,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[299,24],"start":[299,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[299,24],"start":[299,23]}},"type":"Var","value":{"identifier":"a","sourcePos":[299,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[299,47],"start":[299,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[299,35],"start":[299,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[299,35],"start":[299,32]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[299,47],"start":[299,28]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[299,44],"start":[299,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[299,44],"start":[299,41]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[299,46],"start":[299,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[299,46],"start":[299,45]}},"type":"Var","value":{"identifier":"t","sourcePos":[299,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"lerp"},{"annotation":{"meta":null,"sourceSpan":{"end":[54,40],"start":[54,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"Eq$Dict","moduleName":["Data","Eq"]}},"annotation":{"meta":null,"sourceSpan":{"end":[54,40],"start":[54,1]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["eq",{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"VarBinder","identifier":"l"}],"constructorName":{"identifier":"Point2D","moduleName":["Lattice","Services","Mesh","Deformation"]},"typeName":{"identifier":"Point2D","moduleName":["Lattice","Services","Mesh","Deformation"]}},{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"VarBinder","identifier":"r"}],"constructorName":{"identifier":"Point2D","moduleName":["Lattice","Services","Mesh","Deformation"]},"typeName":{"identifier":"Point2D","moduleName":["Lattice","Services","Mesh","Deformation"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"l","sourcePos":[0,0]}},"fieldName":"x","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"r","sourcePos":[0,0]}},"fieldName":"x","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"l","sourcePos":[0,0]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"r","sourcePos":[0,0]}},"fieldName":"y","type":"Accessor"},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"x","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"y","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"}]]}},"type":"App"},"identifier":"eqPoint2D"},{"annotation":{"meta":null,"sourceSpan":{"end":[122,41],"start":[122,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[122,41],"start":[122,1]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[122,41],"start":[122,1]}},"argument":"b","body":{"annotation":{"meta":null,"sourceSpan":{"end":[126,30],"start":[124,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[125,27],"start":[125,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[125,27],"start":[125,12]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[125,16],"start":[125,12]}},"type":"Var","value":{"identifier":"p2dY","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[125,18],"start":[125,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,18],"start":[125,17]}},"type":"Var","value":{"identifier":"b","sourcePos":[123,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[125,27],"start":[125,12]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[125,25],"start":[125,21]}},"type":"Var","value":{"identifier":"p2dY","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[125,27],"start":[125,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,27],"start":[125,26]}},"type":"Var","value":{"identifier":"a","sourcePos":[123,1]}},"type":"App"},"type":"App"},"identifier":"dy"},{"annotation":{"meta":null,"sourceSpan":{"end":[124,27],"start":[124,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,27],"start":[124,12]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[124,16],"start":[124,12]}},"type":"Var","value":{"identifier":"p2dX","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,18],"start":[124,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,18],"start":[124,17]}},"type":"Var","value":{"identifier":"b","sourcePos":[123,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[124,27],"start":[124,12]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[124,25],"start":[124,21]}},"type":"Var","value":{"identifier":"p2dX","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,27],"start":[124,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,27],"start":[124,26]}},"type":"Var","value":{"identifier":"a","sourcePos":[123,1]}},"type":"App"},"type":"App"},"identifier":"dx"}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[126,10],"start":[126,6]}},"type":"Var","value":{"identifier":"sqrt","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[126,30],"start":[126,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[126,29],"start":[126,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[126,29],"start":[126,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,14],"start":[126,12]}},"type":"Var","value":{"identifier":"dx","sourcePos":[124,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[126,29],"start":[126,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,19],"start":[126,17]}},"type":"Var","value":{"identifier":"dx","sourcePos":[124,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[126,29],"start":[126,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[126,29],"start":[126,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,24],"start":[126,22]}},"type":"Var","value":{"identifier":"dy","sourcePos":[125,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[126,29],"start":[126,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,29],"start":[126,27]}},"type":"Var","value":{"identifier":"dy","sourcePos":[125,7]}},"type":"App"},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"distance"},{"annotation":{"meta":null,"sourceSpan":{"end":[76,38],"start":[76,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[81,4],"start":[78,3]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["falloffPower",{"annotation":{"meta":null,"sourceSpan":{"end":[78,22],"start":[78,19]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}}],["minWeight",{"annotation":{"meta":null,"sourceSpan":{"end":[79,21],"start":[79,16]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-3}}],["normalize",{"annotation":{"meta":null,"sourceSpan":{"end":[80,20],"start":[80,16]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}}]]}},"identifier":"defaultWeightOptions"},{"annotation":{"meta":null,"sourceSpan":{"end":[108,47],"start":[108,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[108,47],"start":[108,1]}},"argument":"pos","body":{"annotation":{"meta":null,"sourceSpan":{"end":[115,4],"start":[110,3]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["position",{"annotation":{"meta":null,"sourceSpan":{"end":[110,18],"start":[110,15]}},"type":"Var","value":{"identifier":"pos","sourcePos":[109,1]}}],["rotation",{"annotation":{"meta":null,"sourceSpan":{"end":[111,18],"start":[111,15]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["scale",{"annotation":{"meta":null,"sourceSpan":{"end":[112,15],"start":[112,12]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}}],["radius",{"annotation":{"meta":null,"sourceSpan":{"end":[113,18],"start":[113,13]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":100}}],["stiffness",{"annotation":{"meta":null,"sourceSpan":{"end":[114,19],"start":[114,16]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}},"type":"Abs"},"identifier":"defaultPinRestState"},{"annotation":{"meta":null,"sourceSpan":{"end":[280,69],"start":[280,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[280,69],"start":[280,1]}},"argument":"position","body":{"annotation":{"meta":null,"sourceSpan":{"end":[280,69],"start":[280,1]}},"argument":"rotation","body":{"annotation":{"meta":null,"sourceSpan":{"end":[280,69],"start":[280,1]}},"argument":"scale","body":{"annotation":{"meta":null,"sourceSpan":{"end":[280,69],"start":[280,1]}},"argument":"restPosition","body":{"annotation":{"meta":null,"sourceSpan":{"end":[287,4],"start":[282,3]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["position",{"annotation":{"meta":null,"sourceSpan":{"end":[282,23],"start":[282,15]}},"type":"Var","value":{"identifier":"position","sourcePos":[281,1]}}],["rotation",{"annotation":{"meta":null,"sourceSpan":{"end":[283,23],"start":[283,15]}},"type":"Var","value":{"identifier":"rotation","sourcePos":[281,1]}}],["scale",{"annotation":{"meta":null,"sourceSpan":{"end":[284,17],"start":[284,12]}},"type":"Var","value":{"identifier":"scale","sourcePos":[281,1]}}],["delta",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[285,21],"start":[285,12]}},"type":"Var","value":{"identifier":"mkPoint2D","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[285,57],"start":[285,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[285,56],"start":[285,23]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[285,27],"start":[285,23]}},"type":"Var","value":{"identifier":"p2dX","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[285,36],"start":[285,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[285,36],"start":[285,28]}},"type":"Var","value":{"identifier":"position","sourcePos":[281,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[285,56],"start":[285,23]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[285,43],"start":[285,39]}},"type":"Var","value":{"identifier":"p2dX","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[285,56],"start":[285,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[285,56],"start":[285,44]}},"type":"Var","value":{"identifier":"restPosition","sourcePos":[281,1]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[286,57],"start":[285,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[286,56],"start":[286,23]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[286,27],"start":[286,23]}},"type":"Var","value":{"identifier":"p2dY","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[286,36],"start":[286,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[286,36],"start":[286,28]}},"type":"Var","value":{"identifier":"position","sourcePos":[281,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[286,56],"start":[286,23]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[286,43],"start":[286,39]}},"type":"Var","value":{"identifier":"p2dY","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[286,56],"start":[286,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[286,56],"start":[286,44]}},"type":"Var","value":{"identifier":"restPosition","sourcePos":[281,1]}},"type":"App"},"type":"App"},"type":"App"}]]}},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"createPinState"},{"annotation":{"meta":null,"sourceSpan":{"end":[162,88],"start":[162,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[162,88],"start":[162,1]}},"argument":"vertex","body":{"annotation":{"meta":null,"sourceSpan":{"end":[162,88],"start":[162,1]}},"argument":"pinPos","body":{"annotation":{"meta":null,"sourceSpan":{"end":[162,88],"start":[162,1]}},"argument":"radius","body":{"annotation":{"meta":null,"sourceSpan":{"end":[162,88],"start":[162,1]}},"argument":"stiffness","body":{"annotation":{"meta":null,"sourceSpan":{"end":[162,88],"start":[162,1]}},"argument":"options","body":{"annotation":{"meta":null,"sourceSpan":{"end":[174,56],"start":[164,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[164,36],"start":[164,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[164,22],"start":[164,14]}},"type":"Var","value":{"identifier":"distance","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[164,29],"start":[164,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,29],"start":[164,23]}},"type":"Var","value":{"identifier":"vertex","sourcePos":[163,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[164,36],"start":[164,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,36],"start":[164,30]}},"type":"Var","value":{"identifier":"pinPos","sourcePos":[163,1]}},"type":"App"},"identifier":"dist"},{"annotation":{"meta":null,"sourceSpan":{"end":[173,31],"start":[165,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[173,31],"start":[165,7]}},"caseAlternatives":[{"binders":[],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[166,32],"start":[166,26]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1000}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[166,23],"start":[166,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,15],"start":[166,11]}},"type":"Var","value":{"identifier":"dist","sourcePos":[164,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[166,23],"start":[166,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,23],"start":[166,18]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-3}},"type":"App"}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[167,36],"start":[167,33]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[167,30],"start":[167,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[167,15],"start":[167,11]}},"type":"Var","value":{"identifier":"dist","sourcePos":[164,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[167,30],"start":[167,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[167,30],"start":[167,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[167,24],"start":[167,18]}},"type":"Var","value":{"identifier":"radius","sourcePos":[163,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[167,30],"start":[167,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[167,30],"start":[167,27]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":3}},"type":"App"},"type":"App"}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[173,31],"start":[169,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[169,47],"start":[169,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[169,47],"start":[169,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,38],"start":[169,34]}},"type":"Var","value":{"identifier":"dist","sourcePos":[164,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[169,47],"start":[169,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,47],"start":[169,41]}},"type":"Var","value":{"identifier":"radius","sourcePos":[163,1]}},"type":"App"},"identifier":"normalizedDist"},{"annotation":{"meta":null,"sourceSpan":{"end":[170,85],"start":[170,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[170,33],"start":[170,30]}},"type":"Var","value":{"identifier":"pow","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[170,64],"start":[170,30]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[170,63],"start":[170,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,38],"start":[170,35]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[170,63],"start":[170,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[170,62],"start":[170,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,45],"start":[170,42]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[170,62],"start":[170,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,62],"start":[170,48]}},"type":"Var","value":{"identifier":"normalizedDist","sourcePos":[169,17]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[170,85],"start":[170,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,85],"start":[170,65]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[170,72],"start":[170,65]}},"type":"Var","value":{"identifier":"options","sourcePos":[163,1]}},"fieldName":"falloffPower","type":"Accessor"},"type":"App"},"identifier":"baseWeight"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[173,31],"start":[171,16]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[173,31],"start":[171,16]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[172,57],"start":[172,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,31],"start":[172,21]}},"type":"Var","value":{"identifier":"baseWeight","sourcePos":[170,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[172,57],"start":[172,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[172,56],"start":[172,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,38],"start":[172,35]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[172,56],"start":[172,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[172,56],"start":[172,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,50],"start":[172,41]}},"type":"Var","value":{"identifier":"stiffness","sourcePos":[163,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[172,56],"start":[172,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,56],"start":[172,53]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[173,31],"start":[171,16]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[173,31],"start":[173,21]}},"type":"Var","value":{"identifier":"baseWeight","sourcePos":[170,17]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[171,34],"start":[171,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,28],"start":[171,19]}},"type":"Var","value":{"identifier":"stiffness","sourcePos":[163,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[171,34],"start":[171,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,34],"start":[171,31]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[168,20],"start":[168,11]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[],"type":"Case"},"identifier":"weight"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[174,56],"start":[174,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[174,56],"start":[174,6]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[174,44],"start":[174,41]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[174,56],"start":[174,6]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[174,56],"start":[174,50]}},"type":"Var","value":{"identifier":"weight","sourcePos":[165,7]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[174,35],"start":[174,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[174,15],"start":[174,9]}},"type":"Var","value":{"identifier":"weight","sourcePos":[165,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[174,35],"start":[174,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[174,35],"start":[174,18]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[174,25],"start":[174,18]}},"type":"Var","value":{"identifier":"options","sourcePos":[163,1]}},"fieldName":"minWeight","type":"Accessor"},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"calculatePinWeight"},{"annotation":{"meta":null,"sourceSpan":{"end":[179,89],"start":[179,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[179,89],"start":[179,1]}},"argument":"vertices","body":{"annotation":{"meta":null,"sourceSpan":{"end":[179,89],"start":[179,1]}},"argument":"pinRestStates","body":{"annotation":{"meta":null,"sourceSpan":{"end":[179,89],"start":[179,1]}},"argument":"options","body":{"annotation":{"meta":null,"sourceSpan":{"end":[179,89],"start":[179,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[180,26],"start":[180,18]}},"binderType":"VarBinder","identifier":"vertices1"},{"annotation":{"meta":null,"sourceSpan":{"end":[180,40],"start":[180,27]}},"binderType":"VarBinder","identifier":"pinRestStates1"},{"annotation":{"meta":null,"sourceSpan":{"end":[180,48],"start":[180,41]}},"binderType":"VarBinder","identifier":"options1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[181,35],"start":[181,33]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[181,30],"start":[181,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[181,11],"start":[181,5]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[181,25],"start":[181,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,25],"start":[181,12]}},"type":"Var","value":{"identifier":"pinRestStates1","sourcePos":[180,27]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[181,30],"start":[181,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,30],"start":[181,29]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[195,62],"start":[183,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[194,33],"start":[184,11]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[194,33],"start":[184,11]}},"argument":"vertex","body":{"annotation":{"meta":null,"sourceSpan":{"end":[194,33],"start":[185,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[188,34],"start":[185,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[188,20],"start":[185,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[187,42],"start":[185,38]}},"argument":"pin","body":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[186,37],"start":[186,19]}},"type":"Var","value":{"identifier":"calculatePinWeight","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[186,44],"start":[186,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[186,44],"start":[186,38]}},"type":"Var","value":{"identifier":"vertex","sourcePos":[184,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[186,57],"start":[186,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[186,57],"start":[186,45]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[186,48],"start":[186,45]}},"type":"Var","value":{"identifier":"pin","sourcePos":[185,39]}},"fieldName":"position","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[186,68],"start":[186,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[186,68],"start":[186,58]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[186,61],"start":[186,58]}},"type":"Var","value":{"identifier":"pin","sourcePos":[185,39]}},"fieldName":"radius","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[187,34],"start":[186,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[187,34],"start":[187,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[187,24],"start":[187,21]}},"type":"Var","value":{"identifier":"pin","sourcePos":[185,39]}},"fieldName":"stiffness","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[187,42],"start":[186,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[187,42],"start":[187,35]}},"type":"Var","value":{"identifier":"options1","sourcePos":[180,41]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[188,34],"start":[185,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[188,34],"start":[188,21]}},"type":"Var","value":{"identifier":"pinRestStates1","sourcePos":[180,27]}},"type":"App"},"identifier":"vertexWeights"},{"annotation":{"meta":null,"sourceSpan":{"end":[189,58],"start":[189,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[189,36],"start":[189,31]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[189,40],"start":[189,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[189,44],"start":[189,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[189,44],"start":[189,41]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[189,58],"start":[189,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[189,58],"start":[189,45]}},"type":"Var","value":{"identifier":"vertexWeights","sourcePos":[185,17]}},"type":"App"},"identifier":"totalWeight"},{"annotation":{"meta":null,"sourceSpan":{"end":[193,37],"start":[190,17]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[193,37],"start":[191,19]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[193,37],"start":[191,19]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[192,51],"start":[192,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[192,50],"start":[192,29]}},"argument":"w","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[192,50],"start":[192,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[192,36],"start":[192,35]}},"type":"Var","value":{"identifier":"w","sourcePos":[192,30]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[192,50],"start":[192,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[192,50],"start":[192,39]}},"type":"Var","value":{"identifier":"totalWeight","sourcePos":[189,17]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[192,65],"start":[192,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[192,65],"start":[192,52]}},"type":"Var","value":{"identifier":"vertexWeights","sourcePos":[185,17]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[193,37],"start":[191,19]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[193,37],"start":[193,24]}},"type":"Var","value":{"identifier":"vertexWeights","sourcePos":[185,17]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,60],"start":[191,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,39],"start":[191,22]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[191,29],"start":[191,22]}},"type":"Var","value":{"identifier":"options1","sourcePos":[180,41]}},"fieldName":"normalize","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[191,60],"start":[191,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,60],"start":[191,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,54],"start":[191,43]}},"type":"Var","value":{"identifier":"totalWeight","sourcePos":[189,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[191,60],"start":[191,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,60],"start":[191,57]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"}],"type":"Case"},"identifier":"normalizedWeights"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[194,33],"start":[194,16]}},"type":"Var","value":{"identifier":"normalizedWeights","sourcePos":[190,17]}},"type":"Let"},"type":"Abs"},"identifier":"processVertex"},{"annotation":{"meta":null,"sourceSpan":{"end":[183,42],"start":[183,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[183,28],"start":[183,22]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[183,42],"start":[183,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[183,42],"start":[183,29]}},"type":"Var","value":{"identifier":"pinRestStates1","sourcePos":[180,27]}},"type":"App"},"identifier":"pinCount"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[195,15],"start":[195,10]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[195,50],"start":[195,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[195,49],"start":[195,17]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[195,49],"start":[195,17]}},"argument":"v","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[195,49],"start":[195,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[195,30],"start":[195,27]}},"type":"Var","value":{"identifier":"acc","sourcePos":[195,18]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[195,49],"start":[195,27]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[195,47],"start":[195,34]}},"type":"Var","value":{"identifier":"processVertex","sourcePos":[184,11]}},"annotation":{"meta":null,"sourceSpan":{"end":[195,49],"start":[195,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[195,49],"start":[195,48]}},"type":"Var","value":{"identifier":"v","sourcePos":[195,22]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[195,53],"start":[195,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[195,53],"start":[195,51]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[195,62],"start":[195,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[195,62],"start":[195,54]}},"type":"Var","value":{"identifier":"vertices1","sourcePos":[180,18]}},"type":"App"},"type":"Let"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[182,14],"start":[182,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[195,62],"start":[180,1]}},"type":"Var","value":{"identifier":"vertices","sourcePos":[180,18]}},{"annotation":{"meta":null,"sourceSpan":{"end":[195,62],"start":[180,1]}},"type":"Var","value":{"identifier":"pinRestStates","sourcePos":[180,27]}},{"annotation":{"meta":null,"sourceSpan":{"end":[195,62],"start":[180,1]}},"type":"Var","value":{"identifier":"options","sourcePos":[180,41]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"calculateWeights"},{"annotation":{"meta":null,"sourceSpan":{"end":[205,62],"start":[204,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[205,62],"start":[204,1]}},"argument":"vertex","body":{"annotation":{"meta":null,"sourceSpan":{"end":[205,62],"start":[204,1]}},"argument":"pinState","body":{"annotation":{"meta":null,"sourceSpan":{"end":[205,62],"start":[204,1]}},"argument":"restState","body":{"annotation":{"meta":null,"sourceSpan":{"end":[205,62],"start":[204,1]}},"argument":"applyTranslation","body":{"annotation":{"meta":null,"sourceSpan":{"end":[205,62],"start":[204,1]}},"argument":"applyRotation","body":{"annotation":{"meta":null,"sourceSpan":{"end":[205,62],"start":[204,1]}},"argument":"applyScale","body":{"annotation":{"meta":null,"sourceSpan":{"end":[229,8],"start":[208,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[212,23],"start":[210,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[212,23],"start":[210,12]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[212,23],"start":[210,12]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[211,31],"start":[211,17]}},"type":"Var","value":{"identifier":"translatePoint","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[211,38],"start":[211,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[211,38],"start":[211,32]}},"type":"Var","value":{"identifier":"vertex","sourcePos":[206,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[211,53],"start":[211,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[211,53],"start":[211,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[211,47],"start":[211,39]}},"type":"Var","value":{"identifier":"pinState","sourcePos":[206,1]}},"fieldName":"delta","type":"Accessor"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[212,23],"start":[210,12]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[212,23],"start":[212,17]}},"type":"Var","value":{"identifier":"vertex","sourcePos":[206,1]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[210,31],"start":[210,15]}},"type":"Var","value":{"identifier":"applyTranslation","sourcePos":[206,1]}}],"type":"Case"},"identifier":"v1"},{"annotation":{"meta":null,"sourceSpan":{"end":[220,19],"start":[215,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[220,19],"start":[215,12]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[220,19],"start":[215,12]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[219,27],"start":[216,17]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[216,75],"start":[216,21]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[216,75],"start":[216,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[216,54],"start":[216,37]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[216,45],"start":[216,37]}},"type":"Var","value":{"identifier":"pinState","sourcePos":[206,1]}},"fieldName":"rotation","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[216,75],"start":[216,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[216,75],"start":[216,57]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[216,66],"start":[216,57]}},"type":"Var","value":{"identifier":"restState","sourcePos":[206,1]}},"fieldName":"rotation","type":"Accessor"},"type":"App"},"identifier":"rotationDelta"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[219,27],"start":[217,20]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[219,27],"start":[217,20]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[218,36],"start":[218,25]}},"type":"Var","value":{"identifier":"rotatePoint","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[218,39],"start":[218,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[218,39],"start":[218,37]}},"type":"Var","value":{"identifier":"v1","sourcePos":[210,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[218,57],"start":[218,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[218,57],"start":[218,40]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[218,48],"start":[218,40]}},"type":"Var","value":{"identifier":"pinState","sourcePos":[206,1]}},"fieldName":"position","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[218,71],"start":[218,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[218,71],"start":[218,58]}},"type":"Var","value":{"identifier":"rotationDelta","sourcePos":[216,21]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[219,27],"start":[217,20]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[219,27],"start":[219,25]}},"type":"Var","value":{"identifier":"v1","sourcePos":[210,7]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[217,48],"start":[217,23]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[217,26],"start":[217,23]}},"type":"Var","value":{"identifier":"abs","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[217,40],"start":[217,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[217,40],"start":[217,27]}},"type":"Var","value":{"identifier":"rotationDelta","sourcePos":[216,21]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[217,48],"start":[217,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[217,48],"start":[217,43]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-3}},"type":"App"}],"type":"Case"},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[220,19],"start":[215,12]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[220,19],"start":[220,17]}},"type":"Var","value":{"identifier":"v1","sourcePos":[210,7]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[215,28],"start":[215,15]}},"type":"Var","value":{"identifier":"applyRotation","sourcePos":[206,1]}}],"type":"Case"},"identifier":"v2"},{"annotation":{"meta":null,"sourceSpan":{"end":[228,19],"start":[223,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[228,19],"start":[223,12]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[228,19],"start":[223,12]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[227,24],"start":[224,17]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[227,24],"start":[224,17]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[226,67],"start":[225,22]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[225,71],"start":[225,26]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[225,71],"start":[225,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[225,53],"start":[225,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[225,47],"start":[225,39]}},"type":"Var","value":{"identifier":"pinState","sourcePos":[206,1]}},"fieldName":"scale","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[225,71],"start":[225,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[225,71],"start":[225,56]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[225,65],"start":[225,56]}},"type":"Var","value":{"identifier":"restState","sourcePos":[206,1]}},"fieldName":"scale","type":"Accessor"},"type":"App"},"identifier":"scaleDelta"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[226,35],"start":[226,25]}},"type":"Var","value":{"identifier":"scalePoint","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[226,38],"start":[226,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[226,38],"start":[226,36]}},"type":"Var","value":{"identifier":"v2","sourcePos":[215,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[226,56],"start":[226,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[226,56],"start":[226,39]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[226,47],"start":[226,39]}},"type":"Var","value":{"identifier":"pinState","sourcePos":[206,1]}},"fieldName":"position","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[226,67],"start":[226,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[226,67],"start":[226,57]}},"type":"Var","value":{"identifier":"scaleDelta","sourcePos":[225,26]}},"type":"App"},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[227,24],"start":[224,17]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[227,24],"start":[227,22]}},"type":"Var","value":{"identifier":"v2","sourcePos":[215,7]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[224,66],"start":[224,20]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[224,23],"start":[224,20]}},"type":"Var","value":{"identifier":"abs","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[224,58],"start":[224,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[224,57],"start":[224,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[224,39],"start":[224,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[224,33],"start":[224,25]}},"type":"Var","value":{"identifier":"pinState","sourcePos":[206,1]}},"fieldName":"scale","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[224,57],"start":[224,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[224,57],"start":[224,42]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[224,51],"start":[224,42]}},"type":"Var","value":{"identifier":"restState","sourcePos":[206,1]}},"fieldName":"scale","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[224,66],"start":[224,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[224,66],"start":[224,61]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-3}},"type":"App"}],"type":"Case"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[228,19],"start":[223,12]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[228,19],"start":[228,17]}},"type":"Var","value":{"identifier":"v2","sourcePos":[215,7]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[223,25],"start":[223,15]}},"type":"Var","value":{"identifier":"applyScale","sourcePos":[206,1]}}],"type":"Case"},"identifier":"v3"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[229,8],"start":[229,6]}},"type":"Var","value":{"identifier":"v3","sourcePos":[223,7]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"applyPinTransform"},{"annotation":{"meta":null,"sourceSpan":{"end":[235,40],"start":[234,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[235,40],"start":[234,1]}},"argument":"vertex","body":{"annotation":{"meta":null,"sourceSpan":{"end":[235,40],"start":[234,1]}},"argument":"vertexIndex","body":{"annotation":{"meta":null,"sourceSpan":{"end":[235,40],"start":[234,1]}},"argument":"pinStates","body":{"annotation":{"meta":null,"sourceSpan":{"end":[235,40],"start":[234,1]}},"argument":"pinRestStates","body":{"annotation":{"meta":null,"sourceSpan":{"end":[235,40],"start":[234,1]}},"argument":"weights","body":{"annotation":{"meta":null,"sourceSpan":{"end":[235,40],"start":[234,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[236,20],"start":[236,14]}},"binderType":"VarBinder","identifier":"vertex1"},{"annotation":{"meta":null,"sourceSpan":{"end":[236,32],"start":[236,21]}},"binderType":"VarBinder","identifier":"vertexIndex1"},{"annotation":{"meta":null,"sourceSpan":{"end":[236,42],"start":[236,33]}},"binderType":"VarBinder","identifier":"pinStates1"},{"annotation":{"meta":null,"sourceSpan":{"end":[236,56],"start":[236,43]}},"binderType":"VarBinder","identifier":"pinRestStates1"},{"annotation":{"meta":null,"sourceSpan":{"end":[236,64],"start":[236,57]}},"binderType":"VarBinder","identifier":"weights1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[237,35],"start":[237,29]}},"type":"Var","value":{"identifier":"vertex1","sourcePos":[236,14]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[237,26],"start":[237,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[237,11],"start":[237,5]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[237,21],"start":[237,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[237,21],"start":[237,12]}},"type":"Var","value":{"identifier":"pinStates1","sourcePos":[236,33]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[237,26],"start":[237,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[237,26],"start":[237,25]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[259,21],"start":[239,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[239,38],"start":[239,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[239,28],"start":[239,22]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[239,38],"start":[239,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[239,38],"start":[239,29]}},"type":"Var","value":{"identifier":"pinStates1","sourcePos":[236,33]}},"type":"App"},"identifier":"pinCount"},{"annotation":{"meta":null,"sourceSpan":{"end":[256,37],"start":[241,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[241,25],"start":[241,20]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[255,14],"start":[241,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[254,28],"start":[242,14]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[254,28],"start":[242,14]}},"argument":"p","body":{"annotation":{"meta":null,"sourceSpan":{"end":[254,28],"start":[243,15]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[243,83],"start":[243,19]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[243,37],"start":[243,28]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[243,41],"start":[243,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,41],"start":[243,38]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[243,83],"start":[243,28]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[243,53],"start":[243,51]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[243,82],"start":[243,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,50],"start":[243,43]}},"type":"Var","value":{"identifier":"weights1","sourcePos":[236,57]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[243,82],"start":[243,43]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[243,81],"start":[243,55]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[243,81],"start":[243,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,66],"start":[243,55]}},"type":"Var","value":{"identifier":"vertexIndex1","sourcePos":[236,21]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[243,81],"start":[243,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,77],"start":[243,69]}},"type":"Var","value":{"identifier":"pinCount","sourcePos":[239,11]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[243,81],"start":[243,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,81],"start":[243,80]}},"type":"Var","value":{"identifier":"p","sourcePos":[242,19]}},"type":"App"},"type":"App"},"type":"App"},"identifier":"weight"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[254,28],"start":[244,18]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[254,28],"start":[244,18]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[245,26],"start":[245,23]}},"type":"Var","value":{"identifier":"acc","sourcePos":[242,15]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[254,28],"start":[244,18]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[254,28],"start":[246,23]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[235,40],"start":[234,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[246,33],"start":[246,28]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[246,50],"start":[246,28]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[246,47],"start":[246,45]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[246,49],"start":[246,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[246,44],"start":[246,35]}},"type":"Var","value":{"identifier":"pinStates1","sourcePos":[236,33]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[246,49],"start":[246,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[246,49],"start":[246,48]}},"type":"Var","value":{"identifier":"p","sourcePos":[242,19]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[246,71],"start":[246,28]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[246,68],"start":[246,66]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[246,70],"start":[246,52]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[246,65],"start":[246,52]}},"type":"Var","value":{"identifier":"pinRestStates1","sourcePos":[236,43]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[246,70],"start":[246,52]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[246,70],"start":[246,69]}},"type":"Var","value":{"identifier":"p","sourcePos":[242,19]}},"type":"App"},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[254,28],"start":[246,23]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[247,58],"start":[247,20]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[247,40],"start":[247,27]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[247,40],"start":[247,32]}},"binderType":"VarBinder","identifier":"pinState"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[247,57],"start":[247,43]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[247,57],"start":[247,48]}},"binderType":"VarBinder","identifier":"restState"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[253,26],"start":[248,22]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[249,53],"start":[248,26]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[248,54],"start":[248,37]}},"type":"Var","value":{"identifier":"applyPinTransform","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[248,61],"start":[248,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[248,61],"start":[248,55]}},"type":"Var","value":{"identifier":"vertex1","sourcePos":[236,14]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[248,70],"start":[248,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[248,70],"start":[248,62]}},"type":"Var","value":{"identifier":"pinState","sourcePos":[247,32]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[248,80],"start":[248,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[248,80],"start":[248,71]}},"type":"Var","value":{"identifier":"restState","sourcePos":[247,48]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[249,43],"start":[248,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[249,43],"start":[249,39]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[249,48],"start":[248,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[249,48],"start":[249,44]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[249,53],"start":[248,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[249,53],"start":[249,49]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"type":"App"},"identifier":"deformed"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[253,26],"start":[250,25]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["totalX",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[250,70],"start":[250,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[250,45],"start":[250,35]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[250,38],"start":[250,35]}},"type":"Var","value":{"identifier":"acc","sourcePos":[242,15]}},"fieldName":"totalX","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[250,70],"start":[250,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[250,70],"start":[250,35]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[250,52],"start":[250,48]}},"type":"Var","value":{"identifier":"p2dX","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[250,61],"start":[250,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[250,61],"start":[250,53]}},"type":"Var","value":{"identifier":"deformed","sourcePos":[248,26]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[250,70],"start":[250,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[250,70],"start":[250,64]}},"type":"Var","value":{"identifier":"weight","sourcePos":[243,19]}},"type":"App"},"type":"App"}],["totalY",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[251,70],"start":[251,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[251,45],"start":[251,35]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[251,38],"start":[251,35]}},"type":"Var","value":{"identifier":"acc","sourcePos":[242,15]}},"fieldName":"totalY","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[251,70],"start":[251,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[251,70],"start":[251,35]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[251,52],"start":[251,48]}},"type":"Var","value":{"identifier":"p2dY","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[251,61],"start":[251,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[251,61],"start":[251,53]}},"type":"Var","value":{"identifier":"deformed","sourcePos":[248,26]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[251,70],"start":[251,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[251,70],"start":[251,64]}},"type":"Var","value":{"identifier":"weight","sourcePos":[243,19]}},"type":"App"},"type":"App"}],["totalWeight",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[252,64],"start":[252,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[252,55],"start":[252,40]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[252,43],"start":[252,40]}},"type":"Var","value":{"identifier":"acc","sourcePos":[242,15]}},"fieldName":"totalWeight","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[252,64],"start":[252,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[252,64],"start":[252,58]}},"type":"Var","value":{"identifier":"weight","sourcePos":[243,19]}},"type":"App"}]]}},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[254,21],"start":[254,20]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[254,28],"start":[254,25]}},"type":"Var","value":{"identifier":"acc","sourcePos":[242,15]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[235,40],"start":[234,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[244,34],"start":[244,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,27],"start":[244,21]}},"type":"Var","value":{"identifier":"weight","sourcePos":[243,19]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[244,34],"start":[244,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,34],"start":[244,31]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[255,61],"start":[241,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[255,61],"start":[255,15]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["totalX",{"annotation":{"meta":null,"sourceSpan":{"end":[255,28],"start":[255,25]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["totalY",{"annotation":{"meta":null,"sourceSpan":{"end":[255,41],"start":[255,38]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["totalWeight",{"annotation":{"meta":null,"sourceSpan":{"end":[255,59],"start":[255,56]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[256,37],"start":[241,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[256,19],"start":[256,14]}},"type":"Var","value":{"identifier":"range","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[256,21],"start":[256,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[256,21],"start":[256,20]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[256,36],"start":[256,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[256,35],"start":[256,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[256,31],"start":[256,23]}},"type":"Var","value":{"identifier":"pinCount","sourcePos":[239,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[256,35],"start":[256,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[256,35],"start":[256,34]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"identifier":"result"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[259,21],"start":[257,10]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[259,21],"start":[257,10]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[258,24],"start":[258,15]}},"type":"Var","value":{"identifier":"mkPoint2D","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[258,61],"start":[258,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[258,60],"start":[258,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[258,39],"start":[258,26]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[258,32],"start":[258,26]}},"type":"Var","value":{"identifier":"result","sourcePos":[241,11]}},"fieldName":"totalX","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[258,60],"start":[258,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[258,60],"start":[258,42]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[258,48],"start":[258,42]}},"type":"Var","value":{"identifier":"result","sourcePos":[241,11]}},"fieldName":"totalWeight","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[258,98],"start":[258,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[258,97],"start":[258,63]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[258,76],"start":[258,63]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[258,69],"start":[258,63]}},"type":"Var","value":{"identifier":"result","sourcePos":[241,11]}},"fieldName":"totalY","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[258,97],"start":[258,63]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[258,97],"start":[258,79]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[258,85],"start":[258,79]}},"type":"Var","value":{"identifier":"result","sourcePos":[241,11]}},"fieldName":"totalWeight","type":"Accessor"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[259,21],"start":[257,10]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[259,21],"start":[259,15]}},"type":"Var","value":{"identifier":"vertex1","sourcePos":[236,14]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan1","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[257,37],"start":[257,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[257,31],"start":[257,13]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[257,19],"start":[257,13]}},"type":"Var","value":{"identifier":"result","sourcePos":[241,11]}},"fieldName":"totalWeight","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[257,37],"start":[257,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[257,37],"start":[257,34]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[238,14],"start":[238,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[259,21],"start":[236,1]}},"type":"Var","value":{"identifier":"vertex","sourcePos":[236,14]}},{"annotation":{"meta":null,"sourceSpan":{"end":[259,21],"start":[236,1]}},"type":"Var","value":{"identifier":"vertexIndex","sourcePos":[236,21]}},{"annotation":{"meta":null,"sourceSpan":{"end":[259,21],"start":[236,1]}},"type":"Var","value":{"identifier":"pinStates","sourcePos":[236,33]}},{"annotation":{"meta":null,"sourceSpan":{"end":[259,21],"start":[236,1]}},"type":"Var","value":{"identifier":"pinRestStates","sourcePos":[236,43]}},{"annotation":{"meta":null,"sourceSpan":{"end":[259,21],"start":[236,1]}},"type":"Var","value":{"identifier":"weights","sourcePos":[236,57]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"deformVertex"},{"annotation":{"meta":null,"sourceSpan":{"end":[271,44],"start":[270,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[271,44],"start":[270,1]}},"argument":"vertices","body":{"annotation":{"meta":null,"sourceSpan":{"end":[271,44],"start":[270,1]}},"argument":"pinStates","body":{"annotation":{"meta":null,"sourceSpan":{"end":[271,44],"start":[270,1]}},"argument":"pinRestStates","body":{"annotation":{"meta":null,"sourceSpan":{"end":[271,44],"start":[270,1]}},"argument":"weights","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[273,15],"start":[273,3]}},"type":"Var","value":{"identifier":"mapWithIndex","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[273,84],"start":[273,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[273,83],"start":[273,17]}},"argument":"i","body":{"annotation":{"meta":null,"sourceSpan":{"end":[273,83],"start":[273,17]}},"argument":"vertex","body":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[273,42],"start":[273,30]}},"type":"Var","value":{"identifier":"deformVertex","moduleName":["Lattice","Services","Mesh","Deformation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[273,49],"start":[273,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[273,49],"start":[273,43]}},"type":"Var","value":{"identifier":"vertex","sourcePos":[273,20]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[273,51],"start":[273,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[273,51],"start":[273,50]}},"type":"Var","value":{"identifier":"i","sourcePos":[273,18]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[273,61],"start":[273,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[273,61],"start":[273,52]}},"type":"Var","value":{"identifier":"pinStates","sourcePos":[272,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[273,75],"start":[273,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[273,75],"start":[273,62]}},"type":"Var","value":{"identifier":"pinRestStates","sourcePos":[272,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[273,83],"start":[273,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[273,83],"start":[273,76]}},"type":"Var","value":{"identifier":"weights","sourcePos":[272,1]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[273,93],"start":[273,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[273,93],"start":[273,85]}},"type":"Var","value":{"identifier":"vertices","sourcePos":[272,1]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"deformMesh"}],"exports":["mkPoint2D","p2dX","p2dY","mkWeightOptions","defaultWeightOptions","mkPinState","mkPinRestState","distance","rotatePoint","scalePoint","translatePoint","calculatePinWeight","calculateWeights","applyPinTransform","deformVertex","deformMesh","createPinState","lerpPoint","lerp","eqPoint2D"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[299,47],"start":[14,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[299,47],"start":[14,1]}},"moduleName":["Data","Boolean"]},{"annotation":{"meta":null,"sourceSpan":{"end":[299,47],"start":[14,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[299,47],"start":[14,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[299,47],"start":[14,1]}},"moduleName":["Data","Functor"]},{"annotation":{"meta":null,"sourceSpan":{"end":[299,47],"start":[14,1]}},"moduleName":["Data","HeytingAlgebra"]},{"annotation":{"meta":null,"sourceSpan":{"end":[299,47],"start":[14,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[299,47],"start":[14,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[299,47],"start":[14,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[299,47],"start":[14,1]}},"moduleName":["Data","Semigroup"]},{"annotation":{"meta":null,"sourceSpan":{"end":[299,47],"start":[14,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[299,47],"start":[14,1]}},"moduleName":["Data","Tuple"]},{"annotation":{"meta":null,"sourceSpan":{"end":[299,47],"start":[14,1]}},"moduleName":["Lattice","Services","Mesh","Deformation"]},{"annotation":{"meta":null,"sourceSpan":{"end":[299,47],"start":[14,1]}},"moduleName":["Math"]},{"annotation":{"meta":null,"sourceSpan":{"end":[40,15],"start":[40,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[299,47],"start":[14,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","Mesh","Deformation"],"modulePath":"src/Lattice/Services/Mesh/Deformation.purs","reExports":{},"sourceSpan":{"end":[299,47],"start":[14,1]}}