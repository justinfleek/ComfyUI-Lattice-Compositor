{"builtWith":"0.15.15","comments":[{"BlockComment":"\n  Lattice.Services.Time.FrameBlending - Frame Interpolation Math\n\n  Pure mathematical functions for time-based frame blending:\n  - Whole-frame selection (nearest)\n  - Frame mix (cross-fade)\n  - Echo intensity decay\n\n  Source: ui/src/services/effects/timeRenderer.ts (lines 746-808, 313-316)\n"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[51,45],"start":[51,44]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[51,49],"start":[51,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[93,24],"start":[93,22]}},"type":"Var","value":{"identifier":"disj","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[93,41],"start":[93,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"disj"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[93,17],"start":[93,15]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[93,41],"start":[93,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[95,35],"start":[95,34]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[95,45],"start":[95,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[96,67],"start":[96,66]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[96,78],"start":[96,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[127,19],"start":[127,17]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[127,45],"start":[127,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqNumber","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"eq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[60,32],"start":[60,31]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[60,52],"start":[60,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[60,23],"start":[60,22]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[60,29],"start":[60,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[84,42],"start":[84,41]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[84,48],"start":[84,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[41,16],"start":[38,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[41,16],"start":[38,1]}},"constructorName":"WholeFrames","fieldNames":[],"type":"Constructor","typeName":"TimewarpMethod"},"identifier":"WholeFrames"},{"annotation":{"meta":null,"sourceSpan":{"end":[41,16],"start":[38,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[41,16],"start":[38,1]}},"constructorName":"FrameMix","fieldNames":[],"type":"Constructor","typeName":"TimewarpMethod"},"identifier":"FrameMix"},{"annotation":{"meta":null,"sourceSpan":{"end":[41,16],"start":[38,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[41,16],"start":[38,1]}},"constructorName":"PixelMotion","fieldNames":[],"type":"Constructor","typeName":"TimewarpMethod"},"identifier":"PixelMotion"},{"annotation":{"meta":null,"sourceSpan":{"end":[50,38],"start":[50,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[50,38],"start":[50,1]}},"argument":"blendFactor","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[51,49],"start":[51,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[51,43],"start":[51,32]}},"type":"Var","value":{"identifier":"blendFactor","sourcePos":[51,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[51,49],"start":[51,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[51,49],"start":[51,46]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"type":"Abs"},"identifier":"selectWholeFrame"},{"annotation":{"meta":null,"sourceSpan":{"end":[91,50],"start":[91,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[91,50],"start":[91,1]}},"argument":"currentFrame","body":{"annotation":{"meta":null,"sourceSpan":{"end":[91,50],"start":[91,1]}},"argument":"sourceFps","body":{"annotation":{"meta":null,"sourceSpan":{"end":[91,50],"start":[91,1]}},"argument":"targetFps","body":{"annotation":{"meta":null,"sourceSpan":{"end":[91,50],"start":[91,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[92,29],"start":[92,17]}},"binderType":"VarBinder","identifier":"currentFrame1"},{"annotation":{"meta":null,"sourceSpan":{"end":[92,39],"start":[92,30]}},"binderType":"VarBinder","identifier":"sourceFps1"},{"annotation":{"meta":null,"sourceSpan":{"end":[92,49],"start":[92,40]}},"binderType":"VarBinder","identifier":"targetFps1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[93,56],"start":[93,44]}},"type":"Var","value":{"identifier":"currentFrame1","sourcePos":[92,17]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"disj","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[93,41],"start":[93,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[93,41],"start":[93,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[93,14],"start":[93,5]}},"type":"Var","value":{"identifier":"targetFps1","sourcePos":[92,40]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[93,41],"start":[93,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[93,21],"start":[93,18]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[93,41],"start":[93,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[93,41],"start":[93,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[93,34],"start":[93,25]}},"type":"Var","value":{"identifier":"sourceFps1","sourcePos":[92,30]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[93,41],"start":[93,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[93,41],"start":[93,38]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[97,25],"start":[95,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[95,45],"start":[95,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[95,45],"start":[95,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[95,33],"start":[95,24]}},"type":"Var","value":{"identifier":"sourceFps1","sourcePos":[92,30]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[95,45],"start":[95,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[95,45],"start":[95,36]}},"type":"Var","value":{"identifier":"targetFps1","sourcePos":[92,40]}},"type":"App"},"identifier":"frameRatio"},{"annotation":{"meta":null,"sourceSpan":{"end":[96,78],"start":[96,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[96,78],"start":[96,23]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[96,28],"start":[96,23]}},"type":"Var","value":{"identifier":"floor","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[96,65],"start":[96,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[96,64],"start":[96,30]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[96,38],"start":[96,30]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[96,51],"start":[96,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[96,51],"start":[96,39]}},"type":"Var","value":{"identifier":"currentFrame1","sourcePos":[92,17]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[96,64],"start":[96,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[96,64],"start":[96,54]}},"type":"Var","value":{"identifier":"frameRatio","sourcePos":[95,11]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[96,78],"start":[96,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[96,78],"start":[96,68]}},"type":"Var","value":{"identifier":"frameRatio","sourcePos":[95,11]}},"type":"App"},"identifier":"quantized"}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[97,15],"start":[97,10]}},"type":"Var","value":{"identifier":"round","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[97,25],"start":[97,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[97,25],"start":[97,16]}},"type":"Var","value":{"identifier":"quantized","sourcePos":[96,11]}},"type":"App"},"type":"Let"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[94,14],"start":[94,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[97,25],"start":[92,1]}},"type":"Var","value":{"identifier":"currentFrame","sourcePos":[92,17]}},{"annotation":{"meta":null,"sourceSpan":{"end":[97,25],"start":[92,1]}},"type":"Var","value":{"identifier":"sourceFps","sourcePos":[92,30]}},{"annotation":{"meta":null,"sourceSpan":{"end":[97,25],"start":[92,1]}},"type":"Var","value":{"identifier":"targetFps","sourcePos":[92,40]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"posterizedFrame"},{"annotation":{"meta":null,"sourceSpan":{"end":[125,40],"start":[125,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[125,40],"start":[125,1]}},"argument":"blendFactor","body":{"annotation":{"meta":null,"sourceSpan":{"end":[125,40],"start":[125,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[126,26],"start":[126,15]}},"binderType":"VarBinder","identifier":"blendFactor1"}],"expressions":[{"expression":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[127,55],"start":[127,48]}},"type":"Var","value":{"identifier":"Nothing","moduleName":["Data","Maybe"]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"disj","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[127,45],"start":[127,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[127,45],"start":[127,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,16],"start":[127,5]}},"type":"Var","value":{"identifier":"blendFactor1","sourcePos":[126,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[127,45],"start":[127,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,23],"start":[127,20]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[127,45],"start":[127,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[127,45],"start":[127,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,38],"start":[127,27]}},"type":"Var","value":{"identifier":"blendFactor1","sourcePos":[126,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[127,45],"start":[127,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,45],"start":[127,42]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"}},{"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[128,21],"start":[128,17]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[128,33],"start":[128,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[128,33],"start":[128,22]}},"type":"Var","value":{"identifier":"blendFactor1","sourcePos":[126,15]}},"type":"App"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[128,14],"start":[128,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[128,33],"start":[126,1]}},"type":"Var","value":{"identifier":"blendFactor","sourcePos":[126,15]}}],"type":"Case"},"type":"Abs"},"identifier":"needsBlending"},{"annotation":{"meta":null,"sourceSpan":{"end":[111,47],"start":[111,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[111,47],"start":[111,1]}},"argument":"motionBlurAmount","body":{"annotation":{"meta":null,"sourceSpan":{"end":[111,47],"start":[111,1]}},"argument":"motionMagnitude","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[113,6],"start":[113,3]}},"type":"Var","value":{"identifier":"min","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[113,10],"start":[113,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[113,10],"start":[113,7]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[113,54],"start":[113,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[113,53],"start":[113,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[113,53],"start":[113,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[113,28],"start":[113,12]}},"type":"Var","value":{"identifier":"motionBlurAmount","sourcePos":[112,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[113,53],"start":[113,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[113,46],"start":[113,31]}},"type":"Var","value":{"identifier":"motionMagnitude","sourcePos":[112,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[113,53],"start":[113,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[113,53],"start":[113,49]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":10}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"motionBlurFactor"},{"annotation":{"meta":null,"sourceSpan":{"end":[58,54],"start":[58,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[58,54],"start":[58,1]}},"argument":"frame1Value","body":{"annotation":{"meta":null,"sourceSpan":{"end":[58,54],"start":[58,1]}},"argument":"frame2Value","body":{"annotation":{"meta":null,"sourceSpan":{"end":[58,54],"start":[58,1]}},"argument":"blend","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[60,52],"start":[60,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[60,52],"start":[60,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[60,14],"start":[60,3]}},"type":"Var","value":{"identifier":"frame1Value","sourcePos":[59,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[60,52],"start":[60,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[60,29],"start":[60,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[60,21],"start":[60,18]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[60,29],"start":[60,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[60,29],"start":[60,24]}},"type":"Var","value":{"identifier":"blend","sourcePos":[59,1]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[60,52],"start":[60,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[60,52],"start":[60,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[60,44],"start":[60,33]}},"type":"Var","value":{"identifier":"frame2Value","sourcePos":[59,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[60,52],"start":[60,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[60,52],"start":[60,47]}},"type":"Var","value":{"identifier":"blend","sourcePos":[59,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"mixPixelValue"},{"annotation":{"meta":null,"sourceSpan":{"end":[66,65],"start":[63,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[66,65],"start":[63,1]}},"argument":"r1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[66,65],"start":[63,1]}},"argument":"g1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[66,65],"start":[63,1]}},"argument":"b1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[66,65],"start":[63,1]}},"argument":"a1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[66,65],"start":[63,1]}},"argument":"r2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[66,65],"start":[63,1]}},"argument":"g2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[66,65],"start":[63,1]}},"argument":"b2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[66,65],"start":[63,1]}},"argument":"a2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[66,65],"start":[63,1]}},"argument":"blend","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[68,8],"start":[68,3]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[68,36],"start":[68,3]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[68,23],"start":[68,10]}},"type":"Var","value":{"identifier":"mixPixelValue","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[68,26],"start":[68,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[68,26],"start":[68,24]}},"type":"Var","value":{"identifier":"r1","sourcePos":[67,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[68,29],"start":[68,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[68,29],"start":[68,27]}},"type":"Var","value":{"identifier":"r2","sourcePos":[67,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[68,35],"start":[68,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[68,35],"start":[68,30]}},"type":"Var","value":{"identifier":"blend","sourcePos":[67,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[71,38],"start":[68,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[69,11],"start":[69,6]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[69,39],"start":[69,6]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[69,26],"start":[69,13]}},"type":"Var","value":{"identifier":"mixPixelValue","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[69,29],"start":[69,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[69,29],"start":[69,27]}},"type":"Var","value":{"identifier":"g1","sourcePos":[67,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[69,32],"start":[69,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[69,32],"start":[69,30]}},"type":"Var","value":{"identifier":"g2","sourcePos":[67,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[69,38],"start":[69,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[69,38],"start":[69,33]}},"type":"Var","value":{"identifier":"blend","sourcePos":[67,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[71,37],"start":[69,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[70,13],"start":[70,8]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[70,41],"start":[70,8]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[70,28],"start":[70,15]}},"type":"Var","value":{"identifier":"mixPixelValue","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[70,31],"start":[70,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[70,31],"start":[70,29]}},"type":"Var","value":{"identifier":"b1","sourcePos":[67,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[70,34],"start":[70,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[70,34],"start":[70,32]}},"type":"Var","value":{"identifier":"b2","sourcePos":[67,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[70,40],"start":[70,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[70,40],"start":[70,35]}},"type":"Var","value":{"identifier":"blend","sourcePos":[67,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[71,36],"start":[70,8]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[71,23],"start":[71,10]}},"type":"Var","value":{"identifier":"mixPixelValue","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[71,26],"start":[71,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[71,26],"start":[71,24]}},"type":"Var","value":{"identifier":"a1","sourcePos":[67,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[71,29],"start":[71,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[71,29],"start":[71,27]}},"type":"Var","value":{"identifier":"a2","sourcePos":[67,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[71,35],"start":[71,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[71,35],"start":[71,30]}},"type":"Var","value":{"identifier":"blend","sourcePos":[67,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"mixPixelRGBA"},{"annotation":{"meta":null,"sourceSpan":{"end":[83,39],"start":[83,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[83,39],"start":[83,1]}},"argument":"intensity","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[84,48],"start":[84,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[84,40],"start":[84,31]}},"type":"Var","value":{"identifier":"intensity","sourcePos":[84,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[84,48],"start":[84,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[84,48],"start":[84,43]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-3}},"type":"App"},"type":"Abs"},"identifier":"isSignificantEcho"},{"annotation":{"meta":null,"sourceSpan":{"end":[100,59],"start":[100,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[100,59],"start":[100,1]}},"argument":"currentFrame","body":{"annotation":{"meta":null,"sourceSpan":{"end":[100,59],"start":[100,1]}},"argument":"sourceFps","body":{"annotation":{"meta":null,"sourceSpan":{"end":[100,59],"start":[100,1]}},"argument":"targetFps","body":{"annotation":{"meta":null,"sourceSpan":{"end":[104,16],"start":[102,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[102,68],"start":[102,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[102,35],"start":[102,20]}},"type":"Var","value":{"identifier":"posterizedFrame","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,48],"start":[102,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,48],"start":[102,36]}},"type":"Var","value":{"identifier":"currentFrame","sourcePos":[101,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[102,58],"start":[102,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,58],"start":[102,49]}},"type":"Var","value":{"identifier":"sourceFps","sourcePos":[101,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[102,68],"start":[102,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,68],"start":[102,59]}},"type":"Var","value":{"identifier":"targetFps","sourcePos":[101,1]}},"type":"App"},"identifier":"posterized"},{"annotation":{"meta":null,"sourceSpan":{"end":[103,63],"start":[103,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[103,17],"start":[103,14]}},"type":"Var","value":{"identifier":"abs","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,63],"start":[103,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,62],"start":[103,19]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[103,27],"start":[103,19]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,40],"start":[103,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,40],"start":[103,28]}},"type":"Var","value":{"identifier":"currentFrame","sourcePos":[101,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,62],"start":[103,19]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[103,51],"start":[103,43]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,62],"start":[103,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,62],"start":[103,52]}},"type":"Var","value":{"identifier":"posterized","sourcePos":[102,7]}},"type":"App"},"type":"App"},"type":"App"},"identifier":"diff"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[104,16],"start":[104,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,10],"start":[104,6]}},"type":"Var","value":{"identifier":"diff","sourcePos":[103,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[104,16],"start":[104,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,16],"start":[104,13]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"isNewPosterizedFrame"},{"annotation":{"meta":null,"sourceSpan":{"end":[43,54],"start":[43,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"Eq$Dict","moduleName":["Data","Eq"]}},"annotation":{"meta":null,"sourceSpan":{"end":[43,54],"start":[43,1]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["eq",{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"WholeFrames","moduleName":["Lattice","Services","Time","FrameBlending"]},"typeName":{"identifier":"TimewarpMethod","moduleName":["Lattice","Services","Time","FrameBlending"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"WholeFrames","moduleName":["Lattice","Services","Time","FrameBlending"]},"typeName":{"identifier":"TimewarpMethod","moduleName":["Lattice","Services","Time","FrameBlending"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"FrameMix","moduleName":["Lattice","Services","Time","FrameBlending"]},"typeName":{"identifier":"TimewarpMethod","moduleName":["Lattice","Services","Time","FrameBlending"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"FrameMix","moduleName":["Lattice","Services","Time","FrameBlending"]},"typeName":{"identifier":"TimewarpMethod","moduleName":["Lattice","Services","Time","FrameBlending"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"PixelMotion","moduleName":["Lattice","Services","Time","FrameBlending"]},"typeName":{"identifier":"TimewarpMethod","moduleName":["Lattice","Services","Time","FrameBlending"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"PixelMotion","moduleName":["Lattice","Services","Time","FrameBlending"]},"typeName":{"identifier":"TimewarpMethod","moduleName":["Lattice","Services","Time","FrameBlending"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"x","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"y","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"}]]}},"type":"App"},"identifier":"eqTimewarpMethod"},{"annotation":{"meta":null,"sourceSpan":{"end":[78,51],"start":[78,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[78,51],"start":[78,1]}},"argument":"startingIntensity","body":{"annotation":{"meta":null,"sourceSpan":{"end":[78,51],"start":[78,1]}},"argument":"decay","body":{"annotation":{"meta":null,"sourceSpan":{"end":[78,51],"start":[78,1]}},"argument":"echoIndex","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[80,61],"start":[80,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[80,20],"start":[80,3]}},"type":"Var","value":{"identifier":"startingIntensity","sourcePos":[79,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[80,61],"start":[80,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[80,26],"start":[80,23]}},"type":"Var","value":{"identifier":"pow","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[80,40],"start":[80,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[80,39],"start":[80,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[80,31],"start":[80,28]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[80,39],"start":[80,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[80,39],"start":[80,34]}},"type":"Var","value":{"identifier":"decay","sourcePos":[79,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[80,61],"start":[80,23]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[80,50],"start":[80,42]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[80,60],"start":[80,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[80,60],"start":[80,51]}},"type":"Var","value":{"identifier":"echoIndex","sourcePos":[79,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"echoIntensity"},{"annotation":{"meta":null,"sourceSpan":{"end":[116,53],"start":[116,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[116,53],"start":[116,1]}},"argument":"blend","body":{"annotation":{"meta":null,"sourceSpan":{"end":[116,53],"start":[116,1]}},"argument":"blurFactor","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[118,35],"start":[118,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[118,8],"start":[118,3]}},"type":"Var","value":{"identifier":"blend","sourcePos":[117,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[118,35],"start":[118,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[118,34],"start":[118,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[118,15],"start":[118,12]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[118,34],"start":[118,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Time","FrameBlending"]}},"annotation":{"meta":null,"sourceSpan":{"end":[118,34],"start":[118,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[118,28],"start":[118,18]}},"type":"Var","value":{"identifier":"blurFactor","sourcePos":[117,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[118,34],"start":[118,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[118,34],"start":[118,31]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"adjustedBlendForMotion"}],"exports":["WholeFrames","FrameMix","PixelMotion","selectWholeFrame","mixPixelValue","mixPixelRGBA","echoIntensity","isSignificantEcho","posterizedFrame","isNewPosterizedFrame","motionBlurFactor","adjustedBlendForMotion","needsBlending","eqTimewarpMethod"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[128,33],"start":[12,1]}},"moduleName":["Data","Boolean"]},{"annotation":{"meta":null,"sourceSpan":{"end":[128,33],"start":[12,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[128,33],"start":[12,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[128,33],"start":[12,1]}},"moduleName":["Data","HeytingAlgebra"]},{"annotation":{"meta":null,"sourceSpan":{"end":[128,33],"start":[12,1]}},"moduleName":["Data","Int"]},{"annotation":{"meta":null,"sourceSpan":{"end":[128,33],"start":[12,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[128,33],"start":[12,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[128,33],"start":[12,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[128,33],"start":[12,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[128,33],"start":[12,1]}},"moduleName":["Data","Tuple"]},{"annotation":{"meta":null,"sourceSpan":{"end":[128,33],"start":[12,1]}},"moduleName":["Lattice","Services","Time","FrameBlending"]},{"annotation":{"meta":null,"sourceSpan":{"end":[128,33],"start":[12,1]}},"moduleName":["Math"]},{"annotation":{"meta":null,"sourceSpan":{"end":[26,15],"start":[26,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[128,33],"start":[12,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","Time","FrameBlending"],"modulePath":"src/Lattice/Services/Time/FrameBlending.purs","reExports":{},"sourceSpan":{"end":[128,33],"start":[12,1]}}