{"builtWith":"0.15.15","comments":[{"LineComment":" | Lattice.Services.Depth.LayerTraversal - Layer Depth Extraction"},{"LineComment":" |"},{"LineComment":" | Pure functions for extracting depth information from layers:"},{"LineComment":" | - Layer Z position extraction (static and animated)"},{"LineComment":" | - Layer opacity extraction (static and animated)"},{"LineComment":" | - Screen bounds calculation with transform"},{"LineComment":" | - Layer sorting by depth"},{"LineComment":" |"},{"LineComment":" | Source: ui/src/services/export/depthRenderer.ts (lines 160-314)"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[244,60],"start":[244,59]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[244,79],"start":[244,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[244,29],"start":[244,28]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[244,79],"start":[244,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[244,43],"start":[244,42]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[244,79],"start":[244,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[244,75],"start":[244,74]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[244,79],"start":[244,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[291,44],"start":[291,37]}},"type":"Var","value":{"identifier":"compare","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[291,52],"start":[291,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"compare"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[152,24],"start":[152,22]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[152,26],"start":[152,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqInt","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"eq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[154,43],"start":[154,36]}},"type":"Var","value":{"identifier":"compare","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[154,51],"start":[154,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"compare1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[171,37],"start":[171,36]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[171,48],"start":[171,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringInt","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[162,29],"start":[162,27]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[162,35],"start":[162,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[163,81],"start":[163,78]}},"type":"Var","value":{"identifier":"map","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[163,139],"start":[163,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorMaybe","moduleName":["Data","Maybe"]}},"type":"App"},"identifier":"map"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[191,28],"start":[191,27]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[191,30],"start":[191,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[297,6],"start":[297,3]}},"type":"Var","value":{"identifier":"map","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[297,30],"start":[297,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorArray","moduleName":["Data","Functor"]}},"type":"App"},"identifier":"map1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[298,45],"start":[298,43]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[298,62],"start":[298,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[258,31],"start":[258,29]}},"type":"Var","value":{"identifier":"disj","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[258,52],"start":[258,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"disj"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[258,24],"start":[258,22]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[258,52],"start":[258,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThanOrEq1"},{"annotation":{"meta":null,"sourceSpan":{"end":[241,63],"start":[240,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[241,63],"start":[240,1]}},"argument":"position","body":{"annotation":{"meta":null,"sourceSpan":{"end":[241,63],"start":[240,1]}},"argument":"finalWidth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[241,63],"start":[240,1]}},"argument":"finalHeight","body":{"annotation":{"meta":null,"sourceSpan":{"end":[241,63],"start":[240,1]}},"argument":"anchor","body":{"annotation":{"meta":null,"sourceSpan":{"end":[241,63],"start":[240,1]}},"argument":"screenWidth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[241,63],"start":[240,1]}},"argument":"screenHeight","body":{"annotation":{"meta":null,"sourceSpan":{"end":[245,27],"start":[243,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[244,79],"start":[244,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[244,79],"start":[244,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[244,79],"start":[244,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,27],"start":[244,17]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[244,25],"start":[244,17]}},"type":"Var","value":{"identifier":"position","sourcePos":[242,1]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[244,79],"start":[244,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[244,79],"start":[244,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,41],"start":[244,30]}},"type":"Var","value":{"identifier":"finalHeight","sourcePos":[242,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[244,79],"start":[244,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,58],"start":[244,44]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[244,50],"start":[244,44]}},"type":"Var","value":{"identifier":"anchor","sourcePos":[242,1]}},"fieldName":"anchorY","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[244,79],"start":[244,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[244,79],"start":[244,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,73],"start":[244,61]}},"type":"Var","value":{"identifier":"screenHeight","sourcePos":[242,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[244,79],"start":[244,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,79],"start":[244,76]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"type":"App"},"identifier":"screenY"},{"annotation":{"meta":null,"sourceSpan":{"end":[243,77],"start":[243,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[243,77],"start":[243,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[243,77],"start":[243,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,27],"start":[243,17]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[243,25],"start":[243,17]}},"type":"Var","value":{"identifier":"position","sourcePos":[242,1]}},"fieldName":"x","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[243,77],"start":[243,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[243,77],"start":[243,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,40],"start":[243,30]}},"type":"Var","value":{"identifier":"finalWidth","sourcePos":[242,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[243,77],"start":[243,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,57],"start":[243,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[243,49],"start":[243,43]}},"type":"Var","value":{"identifier":"anchor","sourcePos":[242,1]}},"fieldName":"anchorX","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[243,77],"start":[243,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[243,77],"start":[243,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,71],"start":[243,60]}},"type":"Var","value":{"identifier":"screenWidth","sourcePos":[242,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[243,77],"start":[243,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,77],"start":[243,74]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"type":"App"},"identifier":"screenX"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[245,11],"start":[245,6]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[245,19],"start":[245,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[245,19],"start":[245,12]}},"type":"Var","value":{"identifier":"screenX","sourcePos":[243,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[245,27],"start":[245,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[245,27],"start":[245,20]}},"type":"Var","value":{"identifier":"screenY","sourcePos":[244,7]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"toScreenCoordinates"},{"annotation":{"meta":null,"sourceSpan":{"end":[290,84],"start":[290,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[291,27],"start":[291,21]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[291,61],"start":[291,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[291,60],"start":[291,29]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[291,60],"start":[291,29]}},"argument":"b","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[291,52],"start":[291,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[291,52],"start":[291,45]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[291,46],"start":[291,45]}},"type":"Var","value":{"identifier":"a","sourcePos":[291,30]}},"fieldName":"depth","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[291,60],"start":[291,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[291,60],"start":[291,53]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[291,54],"start":[291,53]}},"type":"Var","value":{"identifier":"b","sourcePos":[291,32]}},"fieldName":"depth","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"identifier":"sortLayersByDepth"},{"annotation":{"meta":null,"sourceSpan":{"end":[199,37],"start":[199,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[199,37],"start":[199,1]}},"argument":"percentOpacity","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[201,6],"start":[201,3]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[201,10],"start":[201,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,10],"start":[201,7]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[201,45],"start":[201,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[201,15],"start":[201,12]}},"type":"Var","value":{"identifier":"min","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[201,19],"start":[201,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,19],"start":[201,16]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[201,44],"start":[201,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[201,43],"start":[201,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,35],"start":[201,21]}},"type":"Var","value":{"identifier":"percentOpacity","sourcePos":[200,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[201,43],"start":[201,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,43],"start":[201,38]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":100}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"normalizeOpacity"},{"annotation":{"meta":null,"sourceSpan":{"end":[144,50],"start":[144,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[144,50],"start":[144,1]}},"argument":"prev","body":{"annotation":{"meta":null,"sourceSpan":{"end":[144,50],"start":[144,1]}},"argument":"next","body":{"annotation":{"meta":null,"sourceSpan":{"end":[144,50],"start":[144,1]}},"argument":"t","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[145,49],"start":[145,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[145,29],"start":[145,25]}},"type":"Var","value":{"identifier":"prev","sourcePos":[145,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[145,49],"start":[145,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[145,49],"start":[145,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[145,44],"start":[145,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[145,37],"start":[145,33]}},"type":"Var","value":{"identifier":"next","sourcePos":[145,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[145,44],"start":[145,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[145,44],"start":[145,40]}},"type":"Var","value":{"identifier":"prev","sourcePos":[145,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[145,49],"start":[145,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[145,49],"start":[145,48]}},"type":"Var","value":{"identifier":"t","sourcePos":[145,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"lerpValue"},{"annotation":{"meta":null,"sourceSpan":{"end":[139,39],"start":[139,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[139,39],"start":[139,1]}},"argument":"pos","body":{"annotation":{"meta":null,"sourceSpan":{"end":[140,27],"start":[140,22]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[140,25],"start":[140,22]}},"type":"Var","value":{"identifier":"pos","sourcePos":[140,1]}},"fieldName":"z","type":"Accessor"},"type":"Abs"},"identifier":"getStaticDepth"},{"annotation":{"meta":null,"sourceSpan":{"end":[150,96],"start":[149,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[150,96],"start":[149,1]}},"argument":"keyframes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[150,96],"start":[149,1]}},"argument":"frame","body":{"annotation":{"meta":null,"sourceSpan":{"end":[150,96],"start":[149,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[151,35],"start":[151,26]}},"binderType":"VarBinder","identifier":"keyframes1"},{"annotation":{"meta":null,"sourceSpan":{"end":[151,41],"start":[151,36]}},"binderType":"VarBinder","identifier":"frame1"}],"expressions":[{"expression":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[152,36],"start":[152,29]}},"type":"Var","value":{"identifier":"Nothing","moduleName":["Data","Maybe"]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[152,26],"start":[152,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[152,11],"start":[152,5]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[152,21],"start":[152,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[152,21],"start":[152,12]}},"type":"Var","value":{"identifier":"keyframes1","sourcePos":[151,26]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[152,26],"start":[152,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[152,26],"start":[152,25]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[173,32],"start":[154,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[154,70],"start":[154,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[154,26],"start":[154,20]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[154,60],"start":[154,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,59],"start":[154,28]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[154,59],"start":[154,28]}},"argument":"b","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[154,51],"start":[154,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,51],"start":[154,44]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[154,45],"start":[154,44]}},"type":"Var","value":{"identifier":"a","sourcePos":[154,29]}},"fieldName":"frame","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[154,59],"start":[154,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,59],"start":[154,52]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[154,53],"start":[154,52]}},"type":"Var","value":{"identifier":"b","sourcePos":[154,31]}},"fieldName":"frame","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[154,70],"start":[154,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,70],"start":[154,61]}},"type":"Var","value":{"identifier":"keyframes1","sourcePos":[151,26]}},"type":"App"},"identifier":"sorted"},{"annotation":{"meta":null,"sourceSpan":{"end":[155,67],"start":[155,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[155,28],"start":[155,19]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,53],"start":[155,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,53],"start":[155,29]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["frame",{"annotation":{"meta":null,"sourceSpan":{"end":[155,39],"start":[155,38]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}}],["values",{"annotation":{"meta":null,"sourceSpan":{"end":[155,51],"start":[155,49]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[155,67],"start":[155,19]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[155,59],"start":[155,55]}},"type":"Var","value":{"identifier":"head","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,66],"start":[155,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,66],"start":[155,60]}},"type":"Var","value":{"identifier":"sorted","sourcePos":[154,11]}},"type":"App"},"type":"App"},"identifier":"first"},{"annotation":{"meta":null,"sourceSpan":{"end":[156,49],"start":[156,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[156,29],"start":[156,20]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[156,35],"start":[156,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[156,35],"start":[156,30]}},"type":"Var","value":{"identifier":"first","sourcePos":[155,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[156,49],"start":[156,20]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[156,41],"start":[156,37]}},"type":"Var","value":{"identifier":"last","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[156,48],"start":[156,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[156,48],"start":[156,42]}},"type":"Var","value":{"identifier":"sorted","sourcePos":[154,11]}},"type":"App"},"type":"App"},"identifier":"lastKf"},{"annotation":{"meta":null,"sourceSpan":{"end":[167,24],"start":[167,11]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[167,24],"start":[167,18]}},"type":"Var","value":{"identifier":"lastKf","sourcePos":[156,11]}},"identifier":"next"},{"annotation":{"meta":null,"sourceSpan":{"end":[166,23],"start":[166,11]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[166,23],"start":[166,18]}},"type":"Var","value":{"identifier":"first","sourcePos":[155,11]}},"identifier":"prev"},{"annotation":{"meta":null,"sourceSpan":{"end":[172,54],"start":[169,11]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[172,54],"start":[169,15]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[172,54],"start":[169,15]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[170,23],"start":[170,20]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[172,54],"start":[169,15]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[172,54],"start":[171,20]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[171,28],"start":[171,20]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[171,49],"start":[171,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[171,48],"start":[171,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,35],"start":[171,30]}},"type":"Var","value":{"identifier":"frame1","sourcePos":[151,36]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[171,48],"start":[171,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,48],"start":[171,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[171,42],"start":[171,38]}},"type":"Var","value":{"identifier":"prev","sourcePos":[166,11]}},"fieldName":"frame","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[172,54],"start":[171,20]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[172,28],"start":[172,20]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[172,54],"start":[172,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[172,53],"start":[172,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,40],"start":[172,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[172,34],"start":[172,30]}},"type":"Var","value":{"identifier":"next","sourcePos":[167,11]}},"fieldName":"frame","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[172,53],"start":[172,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,53],"start":[172,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[172,47],"start":[172,43]}},"type":"Var","value":{"identifier":"prev","sourcePos":[166,11]}},"fieldName":"frame","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[169,42],"start":[169,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,28],"start":[169,18]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[169,22],"start":[169,18]}},"type":"Var","value":{"identifier":"prev","sourcePos":[166,11]}},"fieldName":"frame","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[169,42],"start":[169,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,42],"start":[169,32]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[169,36],"start":[169,32]}},"type":"Var","value":{"identifier":"next","sourcePos":[167,11]}},"fieldName":"frame","type":"Accessor"},"type":"App"}],"type":"Case"},"identifier":"t"},{"bindType":"Rec","binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[158,76],"start":[158,11]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[158,76],"start":[158,11]}},"argument":"kfs","body":{"annotation":{"meta":null,"sourceSpan":{"end":[158,76],"start":[158,11]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[164,23],"start":[159,30]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[150,96],"start":[149,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[159,39],"start":[159,35]}},"type":"Var","value":{"identifier":"head","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[159,43],"start":[159,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[159,43],"start":[159,40]}},"type":"Var","value":{"identifier":"kfs","sourcePos":[159,11]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[164,23],"start":[159,30]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[160,20],"start":[160,13]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[160,27],"start":[160,24]}},"type":"Var","value":{"identifier":"acc","sourcePos":[159,11]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[161,20],"start":[161,13]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[161,20],"start":[161,18]}},"binderType":"VarBinder","identifier":"kf"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[164,23],"start":[162,15]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[164,23],"start":[162,15]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[163,28],"start":[163,20]}},"type":"Var","value":{"identifier":"findPrev","sourcePos":[158,11]}},"annotation":{"meta":null,"sourceSpan":{"end":[163,141],"start":[163,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[163,39],"start":[163,30]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[163,42],"start":[163,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,42],"start":[163,40]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[163,140],"start":[163,30]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[163,139],"start":[163,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,76],"start":[163,45]}},"argument":"arr","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[163,59],"start":[163,53]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[163,72],"start":[163,53]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,71],"start":[163,61]}},"argument":"v1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[163,71],"start":[163,67]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[163,76],"start":[163,53]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,76],"start":[163,73]}},"type":"Var","value":{"identifier":"arr","sourcePos":[163,46]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[163,139],"start":[163,44]}},"argument":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[163,86],"start":[163,82]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[163,139],"start":[163,82]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[163,94],"start":[163,88]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[163,128],"start":[163,88]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,127],"start":[163,96]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[163,127],"start":[163,96]}},"argument":"b","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[163,119],"start":[163,104]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,119],"start":[163,112]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[163,113],"start":[163,112]}},"type":"Var","value":{"identifier":"a","sourcePos":[163,97]}},"fieldName":"frame","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[163,127],"start":[163,104]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,127],"start":[163,120]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[163,121],"start":[163,120]}},"type":"Var","value":{"identifier":"b","sourcePos":[163,99]}},"fieldName":"frame","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[163,138],"start":[163,88]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,138],"start":[163,129]}},"type":"Var","value":{"identifier":"keyframes1","sourcePos":[151,26]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[163,144],"start":[163,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,144],"start":[163,142]}},"type":"Var","value":{"identifier":"kf","sourcePos":[161,18]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[164,23],"start":[162,15]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[164,23],"start":[164,20]}},"type":"Var","value":{"identifier":"acc","sourcePos":[159,11]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[162,35],"start":[162,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,26],"start":[162,18]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[162,20],"start":[162,18]}},"type":"Var","value":{"identifier":"kf","sourcePos":[161,18]}},"fieldName":"frame","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[162,35],"start":[162,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,35],"start":[162,30]}},"type":"Var","value":{"identifier":"frame1","sourcePos":[151,36]}},"type":"App"}],"type":"Case"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[150,96],"start":[149,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"findPrev"}]}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[173,14],"start":[173,10]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[173,32],"start":[173,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[173,32],"start":[173,15]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["prev",{"annotation":{"meta":null,"sourceSpan":{"end":[173,21],"start":[173,17]}},"type":"Var","value":{"identifier":"prev","sourcePos":[166,11]}}],["next",{"annotation":{"meta":null,"sourceSpan":{"end":[173,27],"start":[173,23]}},"type":"Var","value":{"identifier":"next","sourcePos":[167,11]}}],["t",{"annotation":{"meta":null,"sourceSpan":{"end":[173,30],"start":[173,29]}},"type":"Var","value":{"identifier":"t","sourcePos":[169,11]}}]]}},"type":"App"},"type":"Let"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[153,14],"start":[153,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[173,32],"start":[151,1]}},"type":"Var","value":{"identifier":"keyframes","sourcePos":[151,26]}},{"annotation":{"meta":null,"sourceSpan":{"end":[173,32],"start":[151,1]}},"type":"Var","value":{"identifier":"frame","sourcePos":[151,36]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"findSurroundingKeyframes"},{"annotation":{"meta":null,"sourceSpan":{"end":[177,66],"start":[177,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[177,66],"start":[177,1]}},"argument":"keyframes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[177,66],"start":[177,1]}},"argument":"frame","body":{"annotation":{"meta":null,"sourceSpan":{"end":[184,33],"start":[179,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[177,66],"start":[177,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[179,32],"start":[179,8]}},"type":"Var","value":{"identifier":"findSurroundingKeyframes","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[179,42],"start":[179,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[179,42],"start":[179,33]}},"type":"Var","value":{"identifier":"keyframes","sourcePos":[178,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[179,48],"start":[179,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[179,48],"start":[179,43]}},"type":"Var","value":{"identifier":"frame","sourcePos":[178,1]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[184,33],"start":[179,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[180,12],"start":[180,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[180,19],"start":[180,16]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[181,27],"start":[181,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[181,27],"start":[181,10]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["prev",{"annotation":{"meta":null,"sourceSpan":{"end":[181,16],"start":[181,12]}},"binderType":"VarBinder","identifier":"prev"}],["next",{"annotation":{"meta":null,"sourceSpan":{"end":[181,22],"start":[181,18]}},"binderType":"VarBinder","identifier":"next"}],["t",{"annotation":{"meta":null,"sourceSpan":{"end":[181,25],"start":[181,24]}},"binderType":"VarBinder","identifier":"t"}]]}}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[184,33],"start":[182,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[182,51],"start":[182,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[182,28],"start":[182,19]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[182,32],"start":[182,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[182,32],"start":[182,29]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[182,51],"start":[182,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[182,48],"start":[182,46]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[182,50],"start":[182,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[182,45],"start":[182,34]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[182,38],"start":[182,34]}},"type":"Var","value":{"identifier":"prev","sourcePos":[181,12]}},"fieldName":"values","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[182,50],"start":[182,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[182,50],"start":[182,49]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"},"type":"App"},"identifier":"prevZ"},{"annotation":{"meta":null,"sourceSpan":{"end":[183,51],"start":[183,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[183,28],"start":[183,19]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[183,32],"start":[183,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[183,32],"start":[183,29]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[183,51],"start":[183,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[183,48],"start":[183,46]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[183,50],"start":[183,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[183,45],"start":[183,34]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[183,38],"start":[183,34]}},"type":"Var","value":{"identifier":"next","sourcePos":[181,18]}},"fieldName":"values","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[183,50],"start":[183,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[183,50],"start":[183,49]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"},"type":"App"},"identifier":"nextZ"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[184,19],"start":[184,10]}},"type":"Var","value":{"identifier":"lerpValue","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[184,25],"start":[184,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[184,25],"start":[184,20]}},"type":"Var","value":{"identifier":"prevZ","sourcePos":[182,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[184,31],"start":[184,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[184,31],"start":[184,26]}},"type":"Var","value":{"identifier":"nextZ","sourcePos":[183,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[184,33],"start":[184,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[184,33],"start":[184,32]}},"type":"Var","value":{"identifier":"t","sourcePos":[181,24]}},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[177,66],"start":[177,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"interpolateZFromKeyframes"},{"annotation":{"meta":null,"sourceSpan":{"end":[188,80],"start":[188,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[188,80],"start":[188,1]}},"argument":"transform","body":{"annotation":{"meta":null,"sourceSpan":{"end":[188,80],"start":[188,1]}},"argument":"maybeKeyframes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[188,80],"start":[188,1]}},"argument":"frame","body":{"annotation":{"meta":null,"sourceSpan":{"end":[192,30],"start":[190,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[191,13],"start":[191,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[191,13],"start":[191,10]}},"binderType":"VarBinder","identifier":"kfs"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expressions":[{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[191,59],"start":[191,34]}},"type":"Var","value":{"identifier":"interpolateZFromKeyframes","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,63],"start":[191,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,63],"start":[191,60]}},"type":"Var","value":{"identifier":"kfs","sourcePos":[191,10]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[191,69],"start":[191,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,69],"start":[191,64]}},"type":"Var","value":{"identifier":"frame","sourcePos":[189,1]}},"type":"App"},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,30],"start":[191,16]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[191,22],"start":[191,16]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,26],"start":[191,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,26],"start":[191,23]}},"type":"Var","value":{"identifier":"kfs","sourcePos":[191,10]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[191,30],"start":[191,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,30],"start":[191,29]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}}],"isGuarded":true},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[192,6],"start":[192,5]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[192,30],"start":[192,10]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[192,30],"start":[192,10]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[192,19],"start":[192,10]}},"type":"Var","value":{"identifier":"transform","sourcePos":[189,1]}},"fieldName":"position","type":"Accessor"},"fieldName":"z","type":"Accessor"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[190,22],"start":[190,8]}},"type":"Var","value":{"identifier":"maybeKeyframes","sourcePos":[189,1]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"getLayerDepth"},{"annotation":{"meta":null,"sourceSpan":{"end":[295,48],"start":[294,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[295,48],"start":[294,1]}},"argument":"layers","body":{"annotation":{"meta":null,"sourceSpan":{"end":[295,48],"start":[294,1]}},"argument":"opacityThreshold","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map1","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[297,30],"start":[297,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[297,29],"start":[297,8]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[297,29],"start":[297,8]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[297,21],"start":[297,10]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[297,19],"start":[297,16]}},"binderType":"VarBinder","identifier":"lwd"},{"annotation":{"meta":null,"sourceSpan":{"end":[297,21],"start":[297,20]}},"binderType":"NullBinder"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[297,29],"start":[297,26]}},"type":"Var","value":{"identifier":"lwd","sourcePos":[297,16]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[298,70],"start":[297,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[298,11],"start":[298,5]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[298,63],"start":[298,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[298,62],"start":[298,13]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[298,62],"start":[298,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[298,30],"start":[298,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[298,22],"start":[298,21]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[298,30],"start":[298,23]}},"binderType":"VarBinder","identifier":"opacity"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[298,62],"start":[298,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[298,42],"start":[298,35]}},"type":"Var","value":{"identifier":"opacity","sourcePos":[298,23]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[298,62],"start":[298,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[298,62],"start":[298,46]}},"type":"Var","value":{"identifier":"opacityThreshold","sourcePos":[296,1]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[298,70],"start":[298,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[298,70],"start":[298,64]}},"type":"Var","value":{"identifier":"layers","sourcePos":[296,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"filterVisibleLayers"},{"annotation":{"meta":null,"sourceSpan":{"end":[115,24],"start":[115,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[116,44],"start":[116,16]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["scaleX",{"annotation":{"meta":null,"sourceSpan":{"end":[116,29],"start":[116,26]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}}],["scaleY",{"annotation":{"meta":null,"sourceSpan":{"end":[116,42],"start":[116,39]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}}]]}},"identifier":"defaultScale"},{"annotation":{"meta":null,"sourceSpan":{"end":[111,30],"start":[111,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[112,45],"start":[112,19]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[112,27],"start":[112,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[112,35],"start":[112,32]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["z",{"annotation":{"meta":null,"sourceSpan":{"end":[112,43],"start":[112,40]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}},"identifier":"defaultPosition"},{"annotation":{"meta":null,"sourceSpan":{"end":[131,25],"start":[131,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[132,21],"start":[132,18]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"identifier":"defaultOpacity"},{"annotation":{"meta":null,"sourceSpan":{"end":[204,67],"start":[204,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[204,67],"start":[204,1]}},"argument":"keyframes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[204,67],"start":[204,1]}},"argument":"frame","body":{"annotation":{"meta":null,"sourceSpan":{"end":[204,67],"start":[204,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[205,42],"start":[205,33]}},"binderType":"VarBinder","identifier":"keyframes1"},{"annotation":{"meta":null,"sourceSpan":{"end":[205,48],"start":[205,43]}},"binderType":"VarBinder","identifier":"frame1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[206,43],"start":[206,29]}},"type":"Var","value":{"identifier":"defaultOpacity","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[206,26],"start":[206,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[206,11],"start":[206,5]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[206,21],"start":[206,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[206,21],"start":[206,12]}},"type":"Var","value":{"identifier":"keyframes1","sourcePos":[205,33]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[206,26],"start":[206,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[206,26],"start":[206,25]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[219,44],"start":[208,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[208,70],"start":[208,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[208,26],"start":[208,20]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[208,60],"start":[208,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[208,59],"start":[208,28]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[208,59],"start":[208,28]}},"argument":"b","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"compare1","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[208,51],"start":[208,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[208,51],"start":[208,44]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[208,45],"start":[208,44]}},"type":"Var","value":{"identifier":"a","sourcePos":[208,29]}},"fieldName":"frame","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[208,59],"start":[208,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[208,59],"start":[208,52]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[208,53],"start":[208,52]}},"type":"Var","value":{"identifier":"b","sourcePos":[208,31]}},"fieldName":"frame","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[208,70],"start":[208,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[208,70],"start":[208,61]}},"type":"Var","value":{"identifier":"keyframes1","sourcePos":[205,33]}},"type":"App"},"identifier":"sorted"},{"annotation":{"meta":null,"sourceSpan":{"end":[209,69],"start":[209,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[209,28],"start":[209,19]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[209,55],"start":[209,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[209,55],"start":[209,29]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["frame",{"annotation":{"meta":null,"sourceSpan":{"end":[209,39],"start":[209,38]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}}],["value",{"annotation":{"meta":null,"sourceSpan":{"end":[209,53],"start":[209,48]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":100}}]]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[209,69],"start":[209,19]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[209,61],"start":[209,57]}},"type":"Var","value":{"identifier":"head","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[209,68],"start":[209,57]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[209,68],"start":[209,62]}},"type":"Var","value":{"identifier":"sorted","sourcePos":[208,11]}},"type":"App"},"type":"App"},"identifier":"first"},{"annotation":{"meta":null,"sourceSpan":{"end":[210,49],"start":[210,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[210,29],"start":[210,20]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[210,35],"start":[210,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[210,35],"start":[210,30]}},"type":"Var","value":{"identifier":"first","sourcePos":[209,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[210,49],"start":[210,20]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[210,41],"start":[210,37]}},"type":"Var","value":{"identifier":"last","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[210,48],"start":[210,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[210,48],"start":[210,42]}},"type":"Var","value":{"identifier":"sorted","sourcePos":[208,11]}},"type":"App"},"type":"App"},"identifier":"lastKf"},{"annotation":{"meta":null,"sourceSpan":{"end":[212,24],"start":[212,11]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[212,24],"start":[212,18]}},"type":"Var","value":{"identifier":"lastKf","sourcePos":[210,11]}},"identifier":"next"},{"annotation":{"meta":null,"sourceSpan":{"end":[211,23],"start":[211,11]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[211,23],"start":[211,18]}},"type":"Var","value":{"identifier":"first","sourcePos":[209,11]}},"identifier":"prev"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[219,44],"start":[213,10]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[219,44],"start":[213,10]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[214,31],"start":[214,15]}},"type":"Var","value":{"identifier":"normalizeOpacity","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[214,42],"start":[214,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[214,42],"start":[214,32]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[214,36],"start":[214,32]}},"type":"Var","value":{"identifier":"prev","sourcePos":[211,11]}},"fieldName":"value","type":"Accessor"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[219,44],"start":[213,10]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[219,44],"start":[216,12]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[217,54],"start":[216,16]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[217,54],"start":[216,20]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[216,28],"start":[216,20]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[216,49],"start":[216,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[216,48],"start":[216,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[216,35],"start":[216,30]}},"type":"Var","value":{"identifier":"frame1","sourcePos":[205,43]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[216,48],"start":[216,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[216,48],"start":[216,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[216,42],"start":[216,38]}},"type":"Var","value":{"identifier":"prev","sourcePos":[211,11]}},"fieldName":"frame","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[217,54],"start":[216,20]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[217,28],"start":[217,20]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[217,54],"start":[217,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[217,53],"start":[217,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[217,40],"start":[217,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[217,34],"start":[217,30]}},"type":"Var","value":{"identifier":"next","sourcePos":[212,11]}},"fieldName":"frame","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[217,53],"start":[217,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[217,53],"start":[217,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[217,47],"start":[217,43]}},"type":"Var","value":{"identifier":"prev","sourcePos":[211,11]}},"fieldName":"frame","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"identifier":"t"},{"annotation":{"meta":null,"sourceSpan":{"end":[218,64],"start":[218,16]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[218,40],"start":[218,31]}},"type":"Var","value":{"identifier":"lerpValue","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[218,51],"start":[218,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[218,51],"start":[218,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[218,45],"start":[218,41]}},"type":"Var","value":{"identifier":"prev","sourcePos":[211,11]}},"fieldName":"value","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[218,62],"start":[218,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[218,62],"start":[218,52]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[218,56],"start":[218,52]}},"type":"Var","value":{"identifier":"next","sourcePos":[212,11]}},"fieldName":"value","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[218,64],"start":[218,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[218,64],"start":[218,63]}},"type":"Var","value":{"identifier":"t","sourcePos":[216,16]}},"type":"App"},"identifier":"interpolated"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[219,31],"start":[219,15]}},"type":"Var","value":{"identifier":"normalizeOpacity","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[219,44],"start":[219,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[219,44],"start":[219,32]}},"type":"Var","value":{"identifier":"interpolated","sourcePos":[218,16]}},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[213,37],"start":[213,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[213,23],"start":[213,13]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[213,17],"start":[213,13]}},"type":"Var","value":{"identifier":"prev","sourcePos":[211,11]}},"fieldName":"frame","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[213,37],"start":[213,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[213,37],"start":[213,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[213,31],"start":[213,27]}},"type":"Var","value":{"identifier":"next","sourcePos":[212,11]}},"fieldName":"frame","type":"Accessor"},"type":"App"}],"type":"Case"},"type":"Let"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[207,14],"start":[207,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[219,44],"start":[205,1]}},"type":"Var","value":{"identifier":"keyframes","sourcePos":[205,33]}},{"annotation":{"meta":null,"sourceSpan":{"end":[219,44],"start":[205,1]}},"type":"Var","value":{"identifier":"frame","sourcePos":[205,43]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"interpolateOpacityFromKeyframes"},{"annotation":{"meta":null,"sourceSpan":{"end":[223,69],"start":[223,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[223,69],"start":[223,1]}},"argument":"staticOpacity","body":{"annotation":{"meta":null,"sourceSpan":{"end":[223,69],"start":[223,1]}},"argument":"maybeKeyframes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[223,69],"start":[223,1]}},"argument":"frame","body":{"annotation":{"meta":null,"sourceSpan":{"end":[227,40],"start":[225,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[226,13],"start":[226,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[226,13],"start":[226,10]}},"binderType":"VarBinder","identifier":"kfs"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expressions":[{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[226,65],"start":[226,34]}},"type":"Var","value":{"identifier":"interpolateOpacityFromKeyframes","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[226,69],"start":[226,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[226,69],"start":[226,66]}},"type":"Var","value":{"identifier":"kfs","sourcePos":[226,10]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[226,75],"start":[226,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[226,75],"start":[226,70]}},"type":"Var","value":{"identifier":"frame","sourcePos":[224,1]}},"type":"App"},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[226,30],"start":[226,16]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[226,22],"start":[226,16]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[226,26],"start":[226,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[226,26],"start":[226,23]}},"type":"Var","value":{"identifier":"kfs","sourcePos":[226,10]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[226,30],"start":[226,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[226,30],"start":[226,29]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}}],"isGuarded":true},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[227,6],"start":[227,5]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[227,26],"start":[227,10]}},"type":"Var","value":{"identifier":"normalizeOpacity","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[227,40],"start":[227,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[227,40],"start":[227,27]}},"type":"Var","value":{"identifier":"staticOpacity","sourcePos":[224,1]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[225,22],"start":[225,8]}},"type":"Var","value":{"identifier":"maybeKeyframes","sourcePos":[224,1]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"getLayerOpacity"},{"annotation":{"meta":null,"sourceSpan":{"end":[119,29],"start":[119,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[120,47],"start":[120,17]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["anchorX",{"annotation":{"meta":null,"sourceSpan":{"end":[120,31],"start":[120,28]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}}],["anchorY",{"annotation":{"meta":null,"sourceSpan":{"end":[120,45],"start":[120,42]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}}]]}},"identifier":"defaultAnchor"},{"annotation":{"meta":null,"sourceSpan":{"end":[123,35],"start":[123,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[128,4],"start":[125,3]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["position",{"annotation":{"meta":null,"sourceSpan":{"end":[125,30],"start":[125,15]}},"type":"Var","value":{"identifier":"defaultPosition","moduleName":["Lattice","Services","Depth","LayerTraversal"]}}],["scale",{"annotation":{"meta":null,"sourceSpan":{"end":[126,24],"start":[126,12]}},"type":"Var","value":{"identifier":"defaultScale","moduleName":["Lattice","Services","Depth","LayerTraversal"]}}],["anchor",{"annotation":{"meta":null,"sourceSpan":{"end":[127,26],"start":[127,13]}},"type":"Var","value":{"identifier":"defaultAnchor","moduleName":["Lattice","Services","Depth","LayerTraversal"]}}]]}},"identifier":"defaultTransform"},{"annotation":{"meta":null,"sourceSpan":{"end":[250,61],"start":[249,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[250,61],"start":[249,1]}},"argument":"screenX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[250,61],"start":[249,1]}},"argument":"screenY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[250,61],"start":[249,1]}},"argument":"finalWidth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[250,61],"start":[249,1]}},"argument":"finalHeight","body":{"annotation":{"meta":null,"sourceSpan":{"end":[250,61],"start":[249,1]}},"argument":"screenWidth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[250,61],"start":[249,1]}},"argument":"screenHeight","body":{"annotation":{"meta":null,"sourceSpan":{"end":[260,88],"start":[252,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[253,52],"start":[253,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[253,21],"start":[253,18]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[253,25],"start":[253,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[253,25],"start":[253,22]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[253,52],"start":[253,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[253,30],"start":[253,27]}},"type":"Var","value":{"identifier":"min","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[253,43],"start":[253,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[253,43],"start":[253,31]}},"type":"Var","value":{"identifier":"screenHeight","sourcePos":[251,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[253,51],"start":[253,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[253,51],"start":[253,44]}},"type":"Var","value":{"identifier":"screenY","sourcePos":[251,1]}},"type":"App"},"type":"App"},"identifier":"clippedY"},{"annotation":{"meta":null,"sourceSpan":{"end":[252,51],"start":[252,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[252,21],"start":[252,18]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[252,25],"start":[252,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[252,25],"start":[252,22]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[252,51],"start":[252,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[252,30],"start":[252,27]}},"type":"Var","value":{"identifier":"min","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[252,42],"start":[252,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[252,42],"start":[252,31]}},"type":"Var","value":{"identifier":"screenWidth","sourcePos":[251,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[252,50],"start":[252,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[252,50],"start":[252,43]}},"type":"Var","value":{"identifier":"screenX","sourcePos":[251,1]}},"type":"App"},"type":"App"},"identifier":"clippedX"},{"annotation":{"meta":null,"sourceSpan":{"end":[255,73],"start":[254,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[254,25],"start":[254,22]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[254,29],"start":[254,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[254,29],"start":[254,26]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[255,73],"start":[254,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[255,12],"start":[255,9]}},"type":"Var","value":{"identifier":"min","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[255,37],"start":[255,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[255,36],"start":[255,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[255,25],"start":[255,14]}},"type":"Var","value":{"identifier":"screenWidth","sourcePos":[251,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[255,36],"start":[255,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[255,36],"start":[255,28]}},"type":"Var","value":{"identifier":"clippedX","sourcePos":[252,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[255,73],"start":[255,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[255,72],"start":[255,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[255,49],"start":[255,39]}},"type":"Var","value":{"identifier":"finalWidth","sourcePos":[251,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[255,72],"start":[255,39]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[255,71],"start":[255,53]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[255,61],"start":[255,53]}},"type":"Var","value":{"identifier":"clippedX","sourcePos":[252,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[255,71],"start":[255,53]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[255,71],"start":[255,64]}},"type":"Var","value":{"identifier":"screenX","sourcePos":[251,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"identifier":"clippedWidth"},{"annotation":{"meta":null,"sourceSpan":{"end":[257,75],"start":[256,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[256,26],"start":[256,23]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[256,30],"start":[256,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[256,30],"start":[256,27]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[257,75],"start":[256,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[257,12],"start":[257,9]}},"type":"Var","value":{"identifier":"min","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[257,38],"start":[257,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[257,37],"start":[257,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[257,26],"start":[257,14]}},"type":"Var","value":{"identifier":"screenHeight","sourcePos":[251,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[257,37],"start":[257,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[257,37],"start":[257,29]}},"type":"Var","value":{"identifier":"clippedY","sourcePos":[253,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[257,75],"start":[257,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[257,74],"start":[257,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[257,51],"start":[257,40]}},"type":"Var","value":{"identifier":"finalHeight","sourcePos":[251,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[257,74],"start":[257,40]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[257,73],"start":[257,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[257,63],"start":[257,55]}},"type":"Var","value":{"identifier":"clippedY","sourcePos":[253,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[257,73],"start":[257,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[257,73],"start":[257,66]}},"type":"Var","value":{"identifier":"screenY","sourcePos":[251,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"identifier":"clippedHeight"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[260,88],"start":[258,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[260,88],"start":[258,6]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[259,18],"start":[259,11]}},"type":"Var","value":{"identifier":"Nothing","moduleName":["Data","Maybe"]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[260,88],"start":[258,6]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[260,15],"start":[260,11]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[260,88],"start":[260,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[260,88],"start":[260,16]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[260,29],"start":[260,21]}},"type":"Var","value":{"identifier":"clippedX","sourcePos":[252,7]}}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[260,42],"start":[260,34]}},"type":"Var","value":{"identifier":"clippedY","sourcePos":[253,7]}}],["width",{"annotation":{"meta":null,"sourceSpan":{"end":[260,63],"start":[260,51]}},"type":"Var","value":{"identifier":"clippedWidth","sourcePos":[254,7]}}],["height",{"annotation":{"meta":null,"sourceSpan":{"end":[260,86],"start":[260,73]}},"type":"Var","value":{"identifier":"clippedHeight","sourcePos":[256,7]}}]]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"disj","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[258,52],"start":[258,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq1","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[258,52],"start":[258,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[258,21],"start":[258,9]}},"type":"Var","value":{"identifier":"clippedWidth","sourcePos":[254,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[258,52],"start":[258,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[258,28],"start":[258,25]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[258,52],"start":[258,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq1","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[258,52],"start":[258,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[258,45],"start":[258,32]}},"type":"Var","value":{"identifier":"clippedHeight","sourcePos":[256,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[258,52],"start":[258,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[258,52],"start":[258,49]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"clipBoundsToScreen"},{"annotation":{"meta":null,"sourceSpan":{"end":[234,80],"start":[234,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[234,80],"start":[234,1]}},"argument":"layerWidth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[234,80],"start":[234,1]}},"argument":"layerHeight","body":{"annotation":{"meta":null,"sourceSpan":{"end":[234,80],"start":[234,1]}},"argument":"scale","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[236,8],"start":[236,3]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[236,36],"start":[236,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[236,35],"start":[236,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[236,20],"start":[236,10]}},"type":"Var","value":{"identifier":"layerWidth","sourcePos":[235,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[236,35],"start":[236,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[236,35],"start":[236,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[236,28],"start":[236,23]}},"type":"Var","value":{"identifier":"scale","sourcePos":[235,1]}},"fieldName":"scaleX","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[236,65],"start":[236,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[236,64],"start":[236,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[236,49],"start":[236,38]}},"type":"Var","value":{"identifier":"layerHeight","sourcePos":[235,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[236,64],"start":[236,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[236,64],"start":[236,52]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[236,57],"start":[236,52]}},"type":"Var","value":{"identifier":"scale","sourcePos":[235,1]}},"fieldName":"scaleY","type":"Accessor"},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"calculateScaledDimensions"},{"annotation":{"meta":null,"sourceSpan":{"end":[263,76],"start":[263,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[263,76],"start":[263,1]}},"argument":"pixelAnchor","body":{"annotation":{"meta":null,"sourceSpan":{"end":[263,76],"start":[263,1]}},"argument":"layerWidth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[263,76],"start":[263,1]}},"argument":"layerHeight","body":{"annotation":{"meta":null,"sourceSpan":{"end":[267,4],"start":[265,3]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["anchorX",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[265,52],"start":[265,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[265,52],"start":[265,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[265,33],"start":[265,14]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[265,25],"start":[265,14]}},"type":"Var","value":{"identifier":"pixelAnchor","sourcePos":[264,1]}},"fieldName":"anchorX","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[265,52],"start":[265,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[265,46],"start":[265,36]}},"type":"Var","value":{"identifier":"layerWidth","sourcePos":[264,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[265,52],"start":[265,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[265,52],"start":[265,49]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"}],["anchorY",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[266,53],"start":[266,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[266,53],"start":[266,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[266,33],"start":[266,14]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[266,25],"start":[266,14]}},"type":"Var","value":{"identifier":"pixelAnchor","sourcePos":[264,1]}},"fieldName":"anchorY","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[266,53],"start":[266,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[266,47],"start":[266,36]}},"type":"Var","value":{"identifier":"layerHeight","sourcePos":[264,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[266,53],"start":[266,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[266,53],"start":[266,50]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"}]]}},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"calculateNormalizedAnchor"},{"annotation":{"meta":null,"sourceSpan":{"end":[271,63],"start":[270,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[271,63],"start":[270,1]}},"argument":"transform","body":{"annotation":{"meta":null,"sourceSpan":{"end":[271,63],"start":[270,1]}},"argument":"layerWidth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[271,63],"start":[270,1]}},"argument":"layerHeight","body":{"annotation":{"meta":null,"sourceSpan":{"end":[271,63],"start":[270,1]}},"argument":"screenWidth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[271,63],"start":[270,1]}},"argument":"screenHeight","body":{"annotation":{"meta":null,"sourceSpan":{"end":[274,73],"start":[273,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[271,63],"start":[270,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[274,34],"start":[274,9]}},"type":"Var","value":{"identifier":"calculateScaledDimensions","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[274,45],"start":[274,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[274,45],"start":[274,35]}},"type":"Var","value":{"identifier":"layerWidth","sourcePos":[272,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[274,57],"start":[274,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[274,57],"start":[274,46]}},"type":"Var","value":{"identifier":"layerHeight","sourcePos":[272,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[274,73],"start":[274,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[274,73],"start":[274,58]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[274,67],"start":[274,58]}},"type":"Var","value":{"identifier":"transform","sourcePos":[272,1]}},"fieldName":"scale","type":"Accessor"},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[274,73],"start":[273,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[273,35],"start":[273,7]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[273,23],"start":[273,13]}},"binderType":"VarBinder","identifier":"finalWidth"},{"annotation":{"meta":null,"sourceSpan":{"end":[273,35],"start":[273,24]}},"binderType":"VarBinder","identifier":"finalHeight"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[274,73],"start":[273,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[276,74],"start":[275,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[276,34],"start":[276,9]}},"type":"Var","value":{"identifier":"calculateNormalizedAnchor","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[276,51],"start":[276,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[276,51],"start":[276,35]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[276,44],"start":[276,35]}},"type":"Var","value":{"identifier":"transform","sourcePos":[272,1]}},"fieldName":"anchor","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[276,62],"start":[276,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[276,62],"start":[276,52]}},"type":"Var","value":{"identifier":"layerWidth","sourcePos":[272,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[276,74],"start":[276,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[276,74],"start":[276,63]}},"type":"Var","value":{"identifier":"layerHeight","sourcePos":[272,1]}},"type":"App"},"identifier":"normalizedAnchor"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[281,52],"start":[277,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[271,63],"start":[270,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[278,28],"start":[278,9]}},"type":"Var","value":{"identifier":"toScreenCoordinates","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[278,47],"start":[278,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[278,47],"start":[278,29]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[278,38],"start":[278,29]}},"type":"Var","value":{"identifier":"transform","sourcePos":[272,1]}},"fieldName":"position","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[279,38],"start":[278,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[279,38],"start":[279,28]}},"type":"Var","value":{"identifier":"finalWidth","sourcePos":[273,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[279,50],"start":[278,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[279,50],"start":[279,39]}},"type":"Var","value":{"identifier":"finalHeight","sourcePos":[273,24]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[280,44],"start":[278,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[280,44],"start":[280,28]}},"type":"Var","value":{"identifier":"normalizedAnchor","sourcePos":[275,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[281,39],"start":[278,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[281,39],"start":[281,28]}},"type":"Var","value":{"identifier":"screenWidth","sourcePos":[272,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[281,52],"start":[278,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[281,52],"start":[281,40]}},"type":"Var","value":{"identifier":"screenHeight","sourcePos":[272,1]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[281,52],"start":[277,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[277,28],"start":[277,7]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[277,20],"start":[277,13]}},"binderType":"VarBinder","identifier":"screenX"},{"annotation":{"meta":null,"sourceSpan":{"end":[277,28],"start":[277,21]}},"binderType":"VarBinder","identifier":"screenY"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[282,24],"start":[282,6]}},"type":"Var","value":{"identifier":"clipBoundsToScreen","moduleName":["Lattice","Services","Depth","LayerTraversal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[282,32],"start":[282,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[282,32],"start":[282,25]}},"type":"Var","value":{"identifier":"screenX","sourcePos":[277,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[282,40],"start":[282,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[282,40],"start":[282,33]}},"type":"Var","value":{"identifier":"screenY","sourcePos":[277,21]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[282,51],"start":[282,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[282,51],"start":[282,41]}},"type":"Var","value":{"identifier":"finalWidth","sourcePos":[273,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[282,63],"start":[282,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[282,63],"start":[282,52]}},"type":"Var","value":{"identifier":"finalHeight","sourcePos":[273,24]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[282,75],"start":[282,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[282,75],"start":[282,64]}},"type":"Var","value":{"identifier":"screenWidth","sourcePos":[272,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[282,88],"start":[282,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[282,88],"start":[282,76]}},"type":"Var","value":{"identifier":"screenHeight","sourcePos":[272,1]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[271,63],"start":[270,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[271,63],"start":[270,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"getLayerScreenBounds"}],"exports":["defaultPosition","defaultScale","defaultAnchor","defaultTransform","defaultOpacity","getStaticDepth","lerpValue","findSurroundingKeyframes","interpolateZFromKeyframes","getLayerDepth","normalizeOpacity","interpolateOpacityFromKeyframes","getLayerOpacity","calculateScaledDimensions","toScreenCoordinates","clipBoundsToScreen","calculateNormalizedAnchor","getLayerScreenBounds","sortLayersByDepth","filterVisibleLayers"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[298,70],"start":[11,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[298,70],"start":[11,1]}},"moduleName":["Data","Boolean"]},{"annotation":{"meta":null,"sourceSpan":{"end":[298,70],"start":[11,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[298,70],"start":[11,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[298,70],"start":[11,1]}},"moduleName":["Data","Function"]},{"annotation":{"meta":null,"sourceSpan":{"end":[298,70],"start":[11,1]}},"moduleName":["Data","Functor"]},{"annotation":{"meta":null,"sourceSpan":{"end":[298,70],"start":[11,1]}},"moduleName":["Data","HeytingAlgebra"]},{"annotation":{"meta":null,"sourceSpan":{"end":[298,70],"start":[11,1]}},"moduleName":["Data","Int"]},{"annotation":{"meta":null,"sourceSpan":{"end":[298,70],"start":[11,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[298,70],"start":[11,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[298,70],"start":[11,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[298,70],"start":[11,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[298,70],"start":[11,1]}},"moduleName":["Data","Tuple"]},{"annotation":{"meta":null,"sourceSpan":{"end":[298,70],"start":[11,1]}},"moduleName":["Lattice","Services","Depth","LayerTraversal"]},{"annotation":{"meta":null,"sourceSpan":{"end":[298,70],"start":[11,1]}},"moduleName":["Math"]},{"annotation":{"meta":null,"sourceSpan":{"end":[42,15],"start":[42,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[298,70],"start":[11,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","Depth","LayerTraversal"],"modulePath":"src/Lattice/Services/Depth/LayerTraversal.purs","reExports":{},"sourceSpan":{"end":[298,70],"start":[11,1]}}