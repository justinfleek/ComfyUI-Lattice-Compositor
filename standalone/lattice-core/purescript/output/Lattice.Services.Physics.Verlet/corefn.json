{"builtWith":"0.15.15","comments":[{"LineComment":" | Lattice.Services.Physics.Verlet - Verlet Integration for Soft Bodies"},{"LineComment":" |"},{"LineComment":" | Pure mathematical functions for position-based dynamics using Verlet"},{"LineComment":" | integration. Used for soft body and cloth simulation."},{"LineComment":" |"},{"LineComment":" | Features:"},{"LineComment":" | - Verlet integration (position-based)"},{"LineComment":" | - Distance constraint solving"},{"LineComment":" | - Constraint breaking (tearing)"},{"LineComment":" | - Damping"},{"LineComment":" |"},{"LineComment":" | Verlet integration formula:"},{"LineComment":" |   x_new = x_curr + (x_curr - x_prev) * damping + a * dtÂ²"},{"LineComment":" |"},{"LineComment":" | Source: ui/src/services/physics/PhysicsEngine.ts"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[133,34],"start":[133,33]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[133,45],"start":[133,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[134,29],"start":[134,27]}},"type":"Var","value":{"identifier":"disj","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[134,51],"start":[134,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"disj"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[134,19],"start":[134,18]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[134,51],"start":[134,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[143,33],"start":[143,32]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[143,46],"start":[143,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[139,29],"start":[139,28]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[139,40],"start":[139,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[141,42],"start":[141,41]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[141,46],"start":[141,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[125,35],"start":[125,34]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[125,69],"start":[125,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[80,22],"start":[80,20]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[80,26],"start":[80,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqNumber","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"eq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[172,40],"start":[172,39]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[172,46],"start":[172,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingInt","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[172,59],"start":[172,56]}},"type":"Var","value":{"identifier":"mod","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[172,66],"start":[172,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingInt","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"mod"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[168,40],"start":[168,39]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[168,44],"start":[168,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringInt","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[168,32],"start":[168,31]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[168,44],"start":[168,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringInt","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[183,13],"start":[183,11]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[183,21],"start":[183,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[155,41],"start":[155,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[155,41],"start":[155,1]}},"argument":"spacing","body":{"annotation":{"meta":null,"sourceSpan":{"end":[156,39],"start":[156,32]}},"type":"Var","value":{"identifier":"spacing","sourcePos":[156,1]}},"type":"Abs"},"identifier":"structuralRestLength"},{"annotation":{"meta":null,"sourceSpan":{"end":[131,125],"start":[131,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[131,125],"start":[131,1]}},"argument":"p1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[131,125],"start":[131,1]}},"argument":"p2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[131,125],"start":[131,1]}},"argument":"restLength","body":{"annotation":{"meta":null,"sourceSpan":{"end":[131,125],"start":[131,1]}},"argument":"stiffness","body":{"annotation":{"meta":null,"sourceSpan":{"end":[131,125],"start":[131,1]}},"argument":"dx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[131,125],"start":[131,1]}},"argument":"dy","body":{"annotation":{"meta":null,"sourceSpan":{"end":[131,125],"start":[131,1]}},"argument":"distance","body":{"annotation":{"meta":null,"sourceSpan":{"end":[148,28],"start":[133,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[133,45],"start":[133,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[133,45],"start":[133,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[133,32],"start":[133,22]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[133,24],"start":[133,22]}},"type":"Var","value":{"identifier":"p1","sourcePos":[132,1]}},"fieldName":"invMass","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[133,45],"start":[133,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[133,45],"start":[133,35]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[133,37],"start":[133,35]}},"type":"Var","value":{"identifier":"p2","sourcePos":[132,1]}},"fieldName":"invMass","type":"Accessor"},"type":"App"},"identifier":"totalInvMass"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[148,28],"start":[134,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[148,28],"start":[134,6]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[137,28],"start":[135,11]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["particle1PosX",{"annotation":{"meta":null,"sourceSpan":{"end":[135,35],"start":[135,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[135,30],"start":[135,28]}},"type":"Var","value":{"identifier":"p1","sourcePos":[132,1]}},"fieldName":"posX","type":"Accessor"}],["particle1PosY",{"annotation":{"meta":null,"sourceSpan":{"end":[135,59],"start":[135,52]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[135,54],"start":[135,52]}},"type":"Var","value":{"identifier":"p1","sourcePos":[132,1]}},"fieldName":"posY","type":"Accessor"}],["particle2PosX",{"annotation":{"meta":null,"sourceSpan":{"end":[136,35],"start":[136,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[136,30],"start":[136,28]}},"type":"Var","value":{"identifier":"p2","sourcePos":[132,1]}},"fieldName":"posX","type":"Accessor"}],["particle2PosY",{"annotation":{"meta":null,"sourceSpan":{"end":[136,59],"start":[136,52]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[136,54],"start":[136,52]}},"type":"Var","value":{"identifier":"p2","sourcePos":[132,1]}},"fieldName":"posY","type":"Accessor"}],["broken",{"annotation":{"meta":null,"sourceSpan":{"end":[137,26],"start":[137,21]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}]]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[148,28],"start":[134,6]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[148,28],"start":[139,8]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[143,46],"start":[143,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[143,46],"start":[143,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[143,31],"start":[143,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[143,23],"start":[143,21]}},"type":"Var","value":{"identifier":"p2","sourcePos":[132,1]}},"fieldName":"invMass","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[143,46],"start":[143,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[143,46],"start":[143,34]}},"type":"Var","value":{"identifier":"totalInvMass","sourcePos":[133,7]}},"type":"App"},"identifier":"ratio2"},{"annotation":{"meta":null,"sourceSpan":{"end":[142,46],"start":[142,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[142,46],"start":[142,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[142,31],"start":[142,21]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[142,23],"start":[142,21]}},"type":"Var","value":{"identifier":"p1","sourcePos":[132,1]}},"fieldName":"invMass","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[142,46],"start":[142,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[142,46],"start":[142,34]}},"type":"Var","value":{"identifier":"totalInvMass","sourcePos":[133,7]}},"type":"App"},"identifier":"ratio1"},{"annotation":{"meta":null,"sourceSpan":{"end":[139,52],"start":[139,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[139,52],"start":[139,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[139,40],"start":[139,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[139,27],"start":[139,19]}},"type":"Var","value":{"identifier":"distance","sourcePos":[132,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[139,40],"start":[139,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[139,40],"start":[139,30]}},"type":"Var","value":{"identifier":"restLength","sourcePos":[132,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[139,52],"start":[139,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[139,52],"start":[139,44]}},"type":"Var","value":{"identifier":"distance","sourcePos":[132,1]}},"type":"App"},"identifier":"err"},{"annotation":{"meta":null,"sourceSpan":{"end":[141,46],"start":[141,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[141,46],"start":[141,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[141,46],"start":[141,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[141,46],"start":[141,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[141,22],"start":[141,20]}},"type":"Var","value":{"identifier":"dy","sourcePos":[132,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[141,46],"start":[141,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[141,28],"start":[141,25]}},"type":"Var","value":{"identifier":"err","sourcePos":[139,12]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[141,46],"start":[141,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[141,40],"start":[141,31]}},"type":"Var","value":{"identifier":"stiffness","sourcePos":[132,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[141,46],"start":[141,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[141,46],"start":[141,43]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"identifier":"corrY"},{"annotation":{"meta":null,"sourceSpan":{"end":[140,46],"start":[140,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[140,46],"start":[140,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[140,46],"start":[140,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[140,46],"start":[140,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[140,22],"start":[140,20]}},"type":"Var","value":{"identifier":"dx","sourcePos":[132,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[140,46],"start":[140,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[140,28],"start":[140,25]}},"type":"Var","value":{"identifier":"err","sourcePos":[139,12]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[140,46],"start":[140,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[140,40],"start":[140,31]}},"type":"Var","value":{"identifier":"stiffness","sourcePos":[132,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[140,46],"start":[140,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[140,46],"start":[140,43]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"identifier":"corrX"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[148,28],"start":[144,11]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["particle1PosX",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[144,52],"start":[144,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[144,35],"start":[144,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[144,30],"start":[144,28]}},"type":"Var","value":{"identifier":"p1","sourcePos":[132,1]}},"fieldName":"posX","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[144,52],"start":[144,28]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[144,52],"start":[144,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[144,43],"start":[144,38]}},"type":"Var","value":{"identifier":"corrX","sourcePos":[140,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[144,52],"start":[144,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[144,52],"start":[144,46]}},"type":"Var","value":{"identifier":"ratio1","sourcePos":[142,12]}},"type":"App"},"type":"App"}],["particle1PosY",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[145,52],"start":[145,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[145,35],"start":[145,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[145,30],"start":[145,28]}},"type":"Var","value":{"identifier":"p1","sourcePos":[132,1]}},"fieldName":"posY","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[145,52],"start":[145,28]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[145,52],"start":[145,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[145,43],"start":[145,38]}},"type":"Var","value":{"identifier":"corrY","sourcePos":[141,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[145,52],"start":[145,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[145,52],"start":[145,46]}},"type":"Var","value":{"identifier":"ratio1","sourcePos":[142,12]}},"type":"App"},"type":"App"}],["particle2PosX",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[146,52],"start":[146,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[146,35],"start":[146,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[146,30],"start":[146,28]}},"type":"Var","value":{"identifier":"p2","sourcePos":[132,1]}},"fieldName":"posX","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[146,52],"start":[146,28]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[146,52],"start":[146,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[146,43],"start":[146,38]}},"type":"Var","value":{"identifier":"corrX","sourcePos":[140,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[146,52],"start":[146,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[146,52],"start":[146,46]}},"type":"Var","value":{"identifier":"ratio2","sourcePos":[143,12]}},"type":"App"},"type":"App"}],["particle2PosY",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,52],"start":[147,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,35],"start":[147,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[147,30],"start":[147,28]}},"type":"Var","value":{"identifier":"p2","sourcePos":[132,1]}},"fieldName":"posY","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[147,52],"start":[147,28]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,52],"start":[147,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,43],"start":[147,38]}},"type":"Var","value":{"identifier":"corrY","sourcePos":[141,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[147,52],"start":[147,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,52],"start":[147,46]}},"type":"Var","value":{"identifier":"ratio2","sourcePos":[143,12]}},"type":"App"},"type":"App"}],["broken",{"annotation":{"meta":null,"sourceSpan":{"end":[148,26],"start":[148,21]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}]]}},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"disj","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[134,51],"start":[134,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[134,51],"start":[134,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[134,17],"start":[134,9]}},"type":"Var","value":{"identifier":"distance","sourcePos":[132,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[134,51],"start":[134,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[134,26],"start":[134,20]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-4}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[134,51],"start":[134,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[134,51],"start":[134,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[134,42],"start":[134,30]}},"type":"Var","value":{"identifier":"totalInvMass","sourcePos":[133,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[134,51],"start":[134,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[134,51],"start":[134,45]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-4}},"type":"App"},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"solveConstraintInner"},{"annotation":{"meta":null,"sourceSpan":{"end":[119,84],"start":[119,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[119,84],"start":[119,1]}},"argument":"p1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[119,84],"start":[119,1]}},"argument":"p2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[119,84],"start":[119,1]}},"argument":"constraint","body":{"annotation":{"meta":null,"sourceSpan":{"end":[129,97],"start":[121,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[122,29],"start":[122,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[122,29],"start":[122,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[122,19],"start":[122,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[122,14],"start":[122,12]}},"type":"Var","value":{"identifier":"p2","sourcePos":[120,1]}},"fieldName":"posY","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[122,29],"start":[122,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[122,29],"start":[122,22]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[122,24],"start":[122,22]}},"type":"Var","value":{"identifier":"p1","sourcePos":[120,1]}},"fieldName":"posY","type":"Accessor"},"type":"App"},"identifier":"dy"},{"annotation":{"meta":null,"sourceSpan":{"end":[121,29],"start":[121,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[121,29],"start":[121,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[121,19],"start":[121,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[121,14],"start":[121,12]}},"type":"Var","value":{"identifier":"p2","sourcePos":[120,1]}},"fieldName":"posX","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[121,29],"start":[121,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[121,29],"start":[121,22]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[121,24],"start":[121,22]}},"type":"Var","value":{"identifier":"p1","sourcePos":[120,1]}},"fieldName":"posX","type":"Accessor"},"type":"App"},"identifier":"dx"},{"annotation":{"meta":null,"sourceSpan":{"end":[123,42],"start":[123,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[123,22],"start":[123,18]}},"type":"Var","value":{"identifier":"sqrt","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[123,42],"start":[123,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[123,41],"start":[123,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[123,41],"start":[123,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[123,26],"start":[123,24]}},"type":"Var","value":{"identifier":"dx","sourcePos":[121,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[123,41],"start":[123,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[123,31],"start":[123,29]}},"type":"Var","value":{"identifier":"dx","sourcePos":[121,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[123,41],"start":[123,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[123,41],"start":[123,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[123,36],"start":[123,34]}},"type":"Var","value":{"identifier":"dy","sourcePos":[122,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[123,41],"start":[123,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[123,41],"start":[123,39]}},"type":"Var","value":{"identifier":"dy","sourcePos":[122,7]}},"type":"App"},"type":"App"},"type":"App"},"identifier":"distance"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[129,97],"start":[124,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[125,22],"start":[125,8]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[125,22],"start":[125,13]}},"binderType":"VarBinder","identifier":"threshold"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[128,26],"start":[126,10]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["particle1PosX",{"annotation":{"meta":null,"sourceSpan":{"end":[126,34],"start":[126,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[126,29],"start":[126,27]}},"type":"Var","value":{"identifier":"p1","sourcePos":[120,1]}},"fieldName":"posX","type":"Accessor"}],["particle1PosY",{"annotation":{"meta":null,"sourceSpan":{"end":[126,58],"start":[126,51]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[126,53],"start":[126,51]}},"type":"Var","value":{"identifier":"p1","sourcePos":[120,1]}},"fieldName":"posY","type":"Accessor"}],["particle2PosX",{"annotation":{"meta":null,"sourceSpan":{"end":[127,34],"start":[127,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[127,29],"start":[127,27]}},"type":"Var","value":{"identifier":"p2","sourcePos":[120,1]}},"fieldName":"posX","type":"Accessor"}],["particle2PosY",{"annotation":{"meta":null,"sourceSpan":{"end":[127,58],"start":[127,51]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[127,53],"start":[127,51]}},"type":"Var","value":{"identifier":"p2","sourcePos":[120,1]}},"fieldName":"posY","type":"Accessor"}],["broken",{"annotation":{"meta":null,"sourceSpan":{"end":[128,24],"start":[128,20]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}}]]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[125,69],"start":[125,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,33],"start":[125,25]}},"type":"Var","value":{"identifier":"distance","sourcePos":[123,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[125,69],"start":[125,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[125,69],"start":[125,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,57],"start":[125,36]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[125,46],"start":[125,36]}},"type":"Var","value":{"identifier":"constraint","sourcePos":[120,1]}},"fieldName":"restLength","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[125,69],"start":[125,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,69],"start":[125,60]}},"type":"Var","value":{"identifier":"threshold","sourcePos":[125,13]}},"type":"App"},"type":"App"}}],"isGuarded":true},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[129,9],"start":[129,8]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[129,33],"start":[129,13]}},"type":"Var","value":{"identifier":"solveConstraintInner","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[129,36],"start":[129,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,36],"start":[129,34]}},"type":"Var","value":{"identifier":"p1","sourcePos":[120,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[129,39],"start":[129,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,39],"start":[129,37]}},"type":"Var","value":{"identifier":"p2","sourcePos":[120,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[129,61],"start":[129,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,61],"start":[129,40]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[129,50],"start":[129,40]}},"type":"Var","value":{"identifier":"constraint","sourcePos":[120,1]}},"fieldName":"restLength","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[129,82],"start":[129,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,82],"start":[129,62]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[129,72],"start":[129,62]}},"type":"Var","value":{"identifier":"constraint","sourcePos":[120,1]}},"fieldName":"stiffness","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[129,85],"start":[129,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,85],"start":[129,83]}},"type":"Var","value":{"identifier":"dx","sourcePos":[121,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[129,88],"start":[129,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,88],"start":[129,86]}},"type":"Var","value":{"identifier":"dy","sourcePos":[122,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[129,97],"start":[129,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,97],"start":[129,89]}},"type":"Var","value":{"identifier":"distance","sourcePos":[123,7]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[124,36],"start":[124,11]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[124,21],"start":[124,11]}},"type":"Var","value":{"identifier":"constraint","sourcePos":[120,1]}},"fieldName":"breakThreshold","type":"Accessor"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"solveConstraint"},{"annotation":{"meta":null,"sourceSpan":{"end":[159,36],"start":[159,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[159,36],"start":[159,1]}},"argument":"spacing","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[160,45],"start":[160,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[160,34],"start":[160,27]}},"type":"Var","value":{"identifier":"spacing","sourcePos":[160,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[160,45],"start":[160,27]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[160,41],"start":[160,37]}},"type":"Var","value":{"identifier":"sqrt","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[160,45],"start":[160,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[160,45],"start":[160,42]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"shearRestLength"},{"annotation":{"meta":null,"sourceSpan":{"end":[105,66],"start":[105,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[105,66],"start":[105,1]}},"argument":"state","body":{"annotation":{"meta":null,"sourceSpan":{"end":[105,66],"start":[105,1]}},"argument":"velX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[105,66],"start":[105,1]}},"argument":"velY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[109,10],"start":[107,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[109,10],"start":[106,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[107,8],"start":[107,3]}},"type":"Var","value":{"identifier":"state","sourcePos":[106,1]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[109,10],"start":[107,3]}},"copy":["posX","posY","accelX","accelY","invMass"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[106,1]}},"type":"ObjectUpdate","updates":[["prevX",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[107,36],"start":[107,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[107,29],"start":[107,19]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[107,24],"start":[107,19]}},"type":"Var","value":{"identifier":"state","sourcePos":[106,1]}},"fieldName":"posX","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[107,36],"start":[107,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[107,36],"start":[107,32]}},"type":"Var","value":{"identifier":"velX","sourcePos":[106,1]}},"type":"App"}],["prevY",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[108,36],"start":[108,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[108,29],"start":[108,19]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[108,24],"start":[108,19]}},"type":"Var","value":{"identifier":"state","sourcePos":[106,1]}},"fieldName":"posY","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[108,36],"start":[108,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[108,36],"start":[108,32]}},"type":"Var","value":{"identifier":"velY","sourcePos":[106,1]}},"type":"App"}]]},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"setVelocity"},{"annotation":{"meta":null,"sourceSpan":{"end":[78,72],"start":[78,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[78,72],"start":[78,1]}},"argument":"state","body":{"annotation":{"meta":null,"sourceSpan":{"end":[78,72],"start":[78,1]}},"argument":"damping","body":{"annotation":{"meta":null,"sourceSpan":{"end":[78,72],"start":[78,1]}},"argument":"dt","body":{"annotation":{"meta":null,"sourceSpan":{"end":[96,15],"start":[80,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[96,15],"start":[80,3]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[81,13],"start":[81,8]}},"type":"Var","value":{"identifier":"state","sourcePos":[79,1]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[96,15],"start":[80,3]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[96,15],"start":[83,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[85,40],"start":[85,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[85,40],"start":[85,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[85,26],"start":[85,16]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[85,21],"start":[85,16]}},"type":"Var","value":{"identifier":"state","sourcePos":[79,1]}},"fieldName":"posY","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[85,40],"start":[85,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[85,40],"start":[85,29]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[85,34],"start":[85,29]}},"type":"Var","value":{"identifier":"state","sourcePos":[79,1]}},"fieldName":"prevY","type":"Accessor"},"type":"App"},"identifier":"velY"},{"annotation":{"meta":null,"sourceSpan":{"end":[84,40],"start":[84,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[84,40],"start":[84,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[84,26],"start":[84,16]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[84,21],"start":[84,16]}},"type":"Var","value":{"identifier":"state","sourcePos":[79,1]}},"fieldName":"posX","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[84,40],"start":[84,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[84,40],"start":[84,29]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[84,34],"start":[84,29]}},"type":"Var","value":{"identifier":"state","sourcePos":[79,1]}},"fieldName":"prevX","type":"Accessor"},"type":"App"},"identifier":"velX"},{"annotation":{"meta":null,"sourceSpan":{"end":[83,23],"start":[83,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[83,23],"start":[83,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[83,18],"start":[83,16]}},"type":"Var","value":{"identifier":"dt","sourcePos":[79,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[83,23],"start":[83,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[83,23],"start":[83,21]}},"type":"Var","value":{"identifier":"dt","sourcePos":[79,1]}},"type":"App"},"identifier":"dtSq"},{"annotation":{"meta":null,"sourceSpan":{"end":[87,36],"start":[87,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[87,36],"start":[87,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[87,26],"start":[87,22]}},"type":"Var","value":{"identifier":"velY","sourcePos":[85,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[87,36],"start":[87,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[87,36],"start":[87,29]}},"type":"Var","value":{"identifier":"damping","sourcePos":[79,1]}},"type":"App"},"identifier":"dampedVelY"},{"annotation":{"meta":null,"sourceSpan":{"end":[89,64],"start":[89,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[89,64],"start":[89,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[89,64],"start":[89,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[89,29],"start":[89,19]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[89,24],"start":[89,19]}},"type":"Var","value":{"identifier":"state","sourcePos":[79,1]}},"fieldName":"posY","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[89,64],"start":[89,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[89,42],"start":[89,32]}},"type":"Var","value":{"identifier":"dampedVelY","sourcePos":[87,9]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[89,64],"start":[89,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[89,64],"start":[89,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[89,57],"start":[89,45]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[89,50],"start":[89,45]}},"type":"Var","value":{"identifier":"state","sourcePos":[79,1]}},"fieldName":"accelY","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[89,64],"start":[89,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[89,64],"start":[89,60]}},"type":"Var","value":{"identifier":"dtSq","sourcePos":[83,9]}},"type":"App"},"type":"App"},"identifier":"newPosY"},{"annotation":{"meta":null,"sourceSpan":{"end":[86,36],"start":[86,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[86,36],"start":[86,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[86,26],"start":[86,22]}},"type":"Var","value":{"identifier":"velX","sourcePos":[84,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[86,36],"start":[86,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[86,36],"start":[86,29]}},"type":"Var","value":{"identifier":"damping","sourcePos":[79,1]}},"type":"App"},"identifier":"dampedVelX"},{"annotation":{"meta":null,"sourceSpan":{"end":[88,64],"start":[88,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[88,64],"start":[88,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[88,64],"start":[88,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[88,29],"start":[88,19]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[88,24],"start":[88,19]}},"type":"Var","value":{"identifier":"state","sourcePos":[79,1]}},"fieldName":"posX","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[88,64],"start":[88,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[88,42],"start":[88,32]}},"type":"Var","value":{"identifier":"dampedVelX","sourcePos":[86,9]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[88,64],"start":[88,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[88,64],"start":[88,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[88,57],"start":[88,45]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[88,50],"start":[88,45]}},"type":"Var","value":{"identifier":"state","sourcePos":[79,1]}},"fieldName":"accelX","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[88,64],"start":[88,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[88,64],"start":[88,60]}},"type":"Var","value":{"identifier":"dtSq","sourcePos":[83,9]}},"type":"App"},"type":"App"},"identifier":"newPosX"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[96,15],"start":[90,8]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[96,15],"start":[79,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[90,13],"start":[90,8]}},"type":"Var","value":{"identifier":"state","sourcePos":[79,1]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[96,15],"start":[90,8]}},"copy":["invMass"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[79,1]}},"type":"ObjectUpdate","updates":[["posX",{"annotation":{"meta":null,"sourceSpan":{"end":[90,30],"start":[90,23]}},"type":"Var","value":{"identifier":"newPosX","sourcePos":[88,9]}}],["posY",{"annotation":{"meta":null,"sourceSpan":{"end":[91,30],"start":[91,23]}},"type":"Var","value":{"identifier":"newPosY","sourcePos":[89,9]}}],["prevX",{"annotation":{"meta":null,"sourceSpan":{"end":[92,34],"start":[92,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[92,29],"start":[92,24]}},"type":"Var","value":{"identifier":"state","sourcePos":[79,1]}},"fieldName":"posX","type":"Accessor"}],["prevY",{"annotation":{"meta":null,"sourceSpan":{"end":[93,34],"start":[93,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[93,29],"start":[93,24]}},"type":"Var","value":{"identifier":"state","sourcePos":[79,1]}},"fieldName":"posY","type":"Accessor"}],["accelX",{"annotation":{"meta":null,"sourceSpan":{"end":[94,28],"start":[94,25]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["accelY",{"annotation":{"meta":null,"sourceSpan":{"end":[95,28],"start":[95,25]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]},"type":"Let"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[80,26],"start":[80,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[80,19],"start":[80,6]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[80,11],"start":[80,6]}},"type":"Var","value":{"identifier":"state","sourcePos":[79,1]}},"fieldName":"invMass","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[80,26],"start":[80,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[80,26],"start":[80,23]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"integrateParticle"},{"annotation":{"meta":null,"sourceSpan":{"end":[171,42],"start":[171,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[171,42],"start":[171,1]}},"argument":"index","body":{"annotation":{"meta":null,"sourceSpan":{"end":[171,42],"start":[171,1]}},"argument":"width","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[172,31],"start":[172,26]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[172,47],"start":[172,26]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div1","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[172,46],"start":[172,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,38],"start":[172,33]}},"type":"Var","value":{"identifier":"index","sourcePos":[172,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[172,46],"start":[172,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,46],"start":[172,41]}},"type":"Var","value":{"identifier":"width","sourcePos":[172,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[172,67],"start":[172,26]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mod","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[172,66],"start":[172,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,54],"start":[172,49]}},"type":"Var","value":{"identifier":"index","sourcePos":[172,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[172,66],"start":[172,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,66],"start":[172,61]}},"type":"Var","value":{"identifier":"width","sourcePos":[172,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"gridRowCol"},{"annotation":{"meta":null,"sourceSpan":{"end":[167,38],"start":[167,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[167,38],"start":[167,1]}},"argument":"row","body":{"annotation":{"meta":null,"sourceSpan":{"end":[167,38],"start":[167,1]}},"argument":"col","body":{"annotation":{"meta":null,"sourceSpan":{"end":[167,38],"start":[167,1]}},"argument":"width","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[168,44],"start":[168,27]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul1","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[168,44],"start":[168,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[168,30],"start":[168,27]}},"type":"Var","value":{"identifier":"row","sourcePos":[168,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[168,44],"start":[168,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[168,38],"start":[168,33]}},"type":"Var","value":{"identifier":"width","sourcePos":[168,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[168,44],"start":[168,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[168,44],"start":[168,41]}},"type":"Var","value":{"identifier":"col","sourcePos":[168,1]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"gridIndex"},{"annotation":{"meta":null,"sourceSpan":{"end":[101,52],"start":[101,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[101,52],"start":[101,1]}},"argument":"state","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[102,26],"start":[102,21]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,53],"start":[102,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,52],"start":[102,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,38],"start":[102,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[102,33],"start":[102,28]}},"type":"Var","value":{"identifier":"state","sourcePos":[102,1]}},"fieldName":"posX","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[102,52],"start":[102,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,52],"start":[102,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[102,46],"start":[102,41]}},"type":"Var","value":{"identifier":"state","sourcePos":[102,1]}},"fieldName":"prevX","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[102,80],"start":[102,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,79],"start":[102,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,65],"start":[102,55]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[102,60],"start":[102,55]}},"type":"Var","value":{"identifier":"state","sourcePos":[102,1]}},"fieldName":"posY","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[102,79],"start":[102,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,79],"start":[102,68]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[102,73],"start":[102,68]}},"type":"Var","value":{"identifier":"state","sourcePos":[102,1]}},"fieldName":"prevY","type":"Accessor"},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"getVelocity"},{"annotation":{"meta":null,"sourceSpan":{"end":[198,90],"start":[195,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[198,90],"start":[195,1]}},"argument":"posX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[198,90],"start":[195,1]}},"argument":"posY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[198,90],"start":[195,1]}},"argument":"prevX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[198,90],"start":[195,1]}},"argument":"prevY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[198,90],"start":[195,1]}},"argument":"minX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[198,90],"start":[195,1]}},"argument":"minY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[198,90],"start":[195,1]}},"argument":"maxX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[198,90],"start":[195,1]}},"argument":"maxY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[198,90],"start":[195,1]}},"argument":"restitution","body":{"annotation":{"meta":null,"sourceSpan":{"end":[207,48],"start":[200,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[198,90],"start":[195,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[207,48],"start":[201,9]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[207,48],"start":[201,9]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[203,98],"start":[202,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[202,32],"start":[202,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[202,32],"start":[202,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[202,25],"start":[202,21]}},"type":"Var","value":{"identifier":"minX","sourcePos":[199,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[202,32],"start":[202,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[202,32],"start":[202,28]}},"type":"Var","value":{"identifier":"posX","sourcePos":[199,1]}},"type":"App"},"identifier":"pen"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[203,98],"start":[203,14]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["newPosX",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[203,49],"start":[203,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[203,29],"start":[203,25]}},"type":"Var","value":{"identifier":"minX","sourcePos":[199,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[203,49],"start":[203,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[203,49],"start":[203,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[203,35],"start":[203,32]}},"type":"Var","value":{"identifier":"pen","sourcePos":[202,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[203,49],"start":[203,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[203,49],"start":[203,38]}},"type":"Var","value":{"identifier":"restitution","sourcePos":[199,1]}},"type":"App"},"type":"App"}],["newPrevX",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[203,96],"start":[203,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[203,65],"start":[203,61]}},"type":"Var","value":{"identifier":"posX","sourcePos":[199,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[203,96],"start":[203,61]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[203,96],"start":[203,61]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[203,81],"start":[203,69]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[203,73],"start":[203,69]}},"type":"Var","value":{"identifier":"posX","sourcePos":[199,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[203,81],"start":[203,69]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[203,81],"start":[203,76]}},"type":"Var","value":{"identifier":"prevX","sourcePos":[199,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[203,96],"start":[203,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[203,96],"start":[203,85]}},"type":"Var","value":{"identifier":"restitution","sourcePos":[199,1]}},"type":"App"},"type":"App"}]]}},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[207,48],"start":[201,9]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[207,48],"start":[204,14]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[207,48],"start":[204,14]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[206,98],"start":[205,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[205,32],"start":[205,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[205,32],"start":[205,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[205,25],"start":[205,21]}},"type":"Var","value":{"identifier":"posX","sourcePos":[199,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[205,32],"start":[205,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[205,32],"start":[205,28]}},"type":"Var","value":{"identifier":"maxX","sourcePos":[199,1]}},"type":"App"},"identifier":"pen"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[206,98],"start":[206,14]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["newPosX",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[206,49],"start":[206,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[206,29],"start":[206,25]}},"type":"Var","value":{"identifier":"maxX","sourcePos":[199,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[206,49],"start":[206,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[206,49],"start":[206,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[206,35],"start":[206,32]}},"type":"Var","value":{"identifier":"pen","sourcePos":[205,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[206,49],"start":[206,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[206,49],"start":[206,38]}},"type":"Var","value":{"identifier":"restitution","sourcePos":[199,1]}},"type":"App"},"type":"App"}],["newPrevX",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[206,96],"start":[206,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[206,65],"start":[206,61]}},"type":"Var","value":{"identifier":"posX","sourcePos":[199,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[206,96],"start":[206,61]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[206,96],"start":[206,61]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[206,81],"start":[206,69]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[206,73],"start":[206,69]}},"type":"Var","value":{"identifier":"posX","sourcePos":[199,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[206,81],"start":[206,69]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[206,81],"start":[206,76]}},"type":"Var","value":{"identifier":"prevX","sourcePos":[199,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[206,96],"start":[206,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[206,96],"start":[206,85]}},"type":"Var","value":{"identifier":"restitution","sourcePos":[199,1]}},"type":"App"},"type":"App"}]]}},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[207,48],"start":[204,14]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[207,48],"start":[207,14]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["newPosX",{"annotation":{"meta":null,"sourceSpan":{"end":[207,29],"start":[207,25]}},"type":"Var","value":{"identifier":"posX","sourcePos":[199,1]}}],["newPrevX",{"annotation":{"meta":null,"sourceSpan":{"end":[207,46],"start":[207,41]}},"type":"Var","value":{"identifier":"prevX","sourcePos":[199,1]}}]]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[204,28],"start":[204,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[204,21],"start":[204,17]}},"type":"Var","value":{"identifier":"posX","sourcePos":[199,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[204,28],"start":[204,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[204,28],"start":[204,24]}},"type":"Var","value":{"identifier":"maxX","sourcePos":[199,1]}},"type":"App"}],"type":"Case"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[201,23],"start":[201,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,16],"start":[201,12]}},"type":"Var","value":{"identifier":"posX","sourcePos":[199,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[201,23],"start":[201,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,23],"start":[201,19]}},"type":"Var","value":{"identifier":"minX","sourcePos":[199,1]}},"type":"App"}],"type":"Case"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[207,48],"start":[200,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[200,28],"start":[200,7]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["newPosX",{"annotation":{"meta":null,"sourceSpan":{"end":[200,16],"start":[200,9]}},"binderType":"VarBinder","identifier":"newPosX"}],["newPrevX",{"annotation":{"meta":null,"sourceSpan":{"end":[200,26],"start":[200,18]}},"binderType":"VarBinder","identifier":"newPrevX"}]]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[216,48],"start":[209,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[198,90],"start":[195,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[216,48],"start":[210,9]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[216,48],"start":[210,9]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[212,98],"start":[211,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[211,32],"start":[211,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[211,32],"start":[211,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[211,25],"start":[211,21]}},"type":"Var","value":{"identifier":"minY","sourcePos":[199,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[211,32],"start":[211,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[211,32],"start":[211,28]}},"type":"Var","value":{"identifier":"posY","sourcePos":[199,1]}},"type":"App"},"identifier":"pen"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[212,98],"start":[212,14]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["newPosY",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[212,49],"start":[212,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[212,29],"start":[212,25]}},"type":"Var","value":{"identifier":"minY","sourcePos":[199,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[212,49],"start":[212,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[212,49],"start":[212,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[212,35],"start":[212,32]}},"type":"Var","value":{"identifier":"pen","sourcePos":[211,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[212,49],"start":[212,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[212,49],"start":[212,38]}},"type":"Var","value":{"identifier":"restitution","sourcePos":[199,1]}},"type":"App"},"type":"App"}],["newPrevY",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[212,96],"start":[212,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[212,65],"start":[212,61]}},"type":"Var","value":{"identifier":"posY","sourcePos":[199,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[212,96],"start":[212,61]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[212,96],"start":[212,61]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[212,81],"start":[212,69]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[212,73],"start":[212,69]}},"type":"Var","value":{"identifier":"posY","sourcePos":[199,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[212,81],"start":[212,69]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[212,81],"start":[212,76]}},"type":"Var","value":{"identifier":"prevY","sourcePos":[199,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[212,96],"start":[212,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[212,96],"start":[212,85]}},"type":"Var","value":{"identifier":"restitution","sourcePos":[199,1]}},"type":"App"},"type":"App"}]]}},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[216,48],"start":[210,9]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[216,48],"start":[213,14]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[216,48],"start":[213,14]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[215,98],"start":[214,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[214,32],"start":[214,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[214,32],"start":[214,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[214,25],"start":[214,21]}},"type":"Var","value":{"identifier":"posY","sourcePos":[199,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[214,32],"start":[214,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[214,32],"start":[214,28]}},"type":"Var","value":{"identifier":"maxY","sourcePos":[199,1]}},"type":"App"},"identifier":"pen"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[215,98],"start":[215,14]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["newPosY",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[215,49],"start":[215,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[215,29],"start":[215,25]}},"type":"Var","value":{"identifier":"maxY","sourcePos":[199,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[215,49],"start":[215,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[215,49],"start":[215,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[215,35],"start":[215,32]}},"type":"Var","value":{"identifier":"pen","sourcePos":[214,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[215,49],"start":[215,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[215,49],"start":[215,38]}},"type":"Var","value":{"identifier":"restitution","sourcePos":[199,1]}},"type":"App"},"type":"App"}],["newPrevY",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[215,96],"start":[215,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[215,65],"start":[215,61]}},"type":"Var","value":{"identifier":"posY","sourcePos":[199,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[215,96],"start":[215,61]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[215,96],"start":[215,61]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[215,81],"start":[215,69]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[215,73],"start":[215,69]}},"type":"Var","value":{"identifier":"posY","sourcePos":[199,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[215,81],"start":[215,69]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[215,81],"start":[215,76]}},"type":"Var","value":{"identifier":"prevY","sourcePos":[199,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[215,96],"start":[215,61]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[215,96],"start":[215,85]}},"type":"Var","value":{"identifier":"restitution","sourcePos":[199,1]}},"type":"App"},"type":"App"}]]}},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[216,48],"start":[213,14]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[216,48],"start":[216,14]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["newPosY",{"annotation":{"meta":null,"sourceSpan":{"end":[216,29],"start":[216,25]}},"type":"Var","value":{"identifier":"posY","sourcePos":[199,1]}}],["newPrevY",{"annotation":{"meta":null,"sourceSpan":{"end":[216,46],"start":[216,41]}},"type":"Var","value":{"identifier":"prevY","sourcePos":[199,1]}}]]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[213,28],"start":[213,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[213,21],"start":[213,17]}},"type":"Var","value":{"identifier":"posY","sourcePos":[199,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[213,28],"start":[213,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[213,28],"start":[213,24]}},"type":"Var","value":{"identifier":"maxY","sourcePos":[199,1]}},"type":"App"}],"type":"Case"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[210,23],"start":[210,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[210,16],"start":[210,12]}},"type":"Var","value":{"identifier":"posY","sourcePos":[199,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[210,23],"start":[210,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[210,23],"start":[210,19]}},"type":"Var","value":{"identifier":"minY","sourcePos":[199,1]}},"type":"App"}],"type":"Case"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[216,48],"start":[209,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[209,28],"start":[209,7]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["newPosY",{"annotation":{"meta":null,"sourceSpan":{"end":[209,16],"start":[209,9]}},"binderType":"VarBinder","identifier":"newPosY"}],["newPrevY",{"annotation":{"meta":null,"sourceSpan":{"end":[209,26],"start":[209,18]}},"binderType":"VarBinder","identifier":"newPrevY"}]]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[218,72],"start":[218,6]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["posX",{"annotation":{"meta":null,"sourceSpan":{"end":[218,21],"start":[218,14]}},"type":"Var","value":{"identifier":"newPosX","sourcePos":[200,9]}}],["posY",{"annotation":{"meta":null,"sourceSpan":{"end":[218,36],"start":[218,29]}},"type":"Var","value":{"identifier":"newPosY","sourcePos":[209,9]}}],["prevX",{"annotation":{"meta":null,"sourceSpan":{"end":[218,53],"start":[218,45]}},"type":"Var","value":{"identifier":"newPrevX","sourcePos":[200,18]}}],["prevY",{"annotation":{"meta":null,"sourceSpan":{"end":[218,70],"start":[218,62]}},"type":"Var","value":{"identifier":"newPrevY","sourcePos":[209,18]}}]]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[198,90],"start":[195,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[198,90],"start":[195,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"constrainToBounds"},{"annotation":{"meta":null,"sourceSpan":{"end":[181,90],"start":[179,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[181,90],"start":[179,1]}},"argument":"posX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[181,90],"start":[179,1]}},"argument":"posY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[181,90],"start":[179,1]}},"argument":"prevX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[181,90],"start":[179,1]}},"argument":"prevY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[181,90],"start":[179,1]}},"argument":"groundY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[181,90],"start":[179,1]}},"argument":"restitution","body":{"annotation":{"meta":null,"sourceSpan":{"end":[181,90],"start":[179,1]}},"argument":"friction","body":{"annotation":{"meta":null,"sourceSpan":{"end":[192,65],"start":[183,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[192,65],"start":[183,3]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[184,36],"start":[184,8]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["posX",{"annotation":{"meta":null,"sourceSpan":{"end":[184,14],"start":[184,10]}},"type":"Var","value":{"identifier":"posX","sourcePos":[182,1]}}],["posY",{"annotation":{"meta":null,"sourceSpan":{"end":[184,20],"start":[184,16]}},"type":"Var","value":{"identifier":"posY","sourcePos":[182,1]}}],["prevX",{"annotation":{"meta":null,"sourceSpan":{"end":[184,27],"start":[184,22]}},"type":"Var","value":{"identifier":"prevX","sourcePos":[182,1]}}],["prevY",{"annotation":{"meta":null,"sourceSpan":{"end":[184,34],"start":[184,29]}},"type":"Var","value":{"identifier":"prevY","sourcePos":[182,1]}}]]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[192,65],"start":[183,3]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[192,65],"start":[186,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[188,28],"start":[188,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[188,28],"start":[188,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[188,20],"start":[188,16]}},"type":"Var","value":{"identifier":"posY","sourcePos":[182,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[188,28],"start":[188,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[188,28],"start":[188,23]}},"type":"Var","value":{"identifier":"prevY","sourcePos":[182,1]}},"type":"App"},"identifier":"velY"},{"annotation":{"meta":null,"sourceSpan":{"end":[190,28],"start":[190,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,28],"start":[190,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,20],"start":[190,16]}},"type":"Var","value":{"identifier":"posX","sourcePos":[182,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[190,28],"start":[190,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,28],"start":[190,23]}},"type":"Var","value":{"identifier":"prevX","sourcePos":[182,1]}},"type":"App"},"identifier":"velX"},{"annotation":{"meta":null,"sourceSpan":{"end":[186,37],"start":[186,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[186,37],"start":[186,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[186,30],"start":[186,23]}},"type":"Var","value":{"identifier":"groundY","sourcePos":[182,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[186,37],"start":[186,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[186,37],"start":[186,33]}},"type":"Var","value":{"identifier":"posY","sourcePos":[182,1]}},"type":"App"},"identifier":"penetration"},{"annotation":{"meta":null,"sourceSpan":{"end":[191,50],"start":[191,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,50],"start":[191,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,24],"start":[191,20]}},"type":"Var","value":{"identifier":"posX","sourcePos":[182,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[191,50],"start":[191,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,50],"start":[191,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,31],"start":[191,27]}},"type":"Var","value":{"identifier":"velX","sourcePos":[190,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[191,50],"start":[191,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,49],"start":[191,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,38],"start":[191,35]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[191,49],"start":[191,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,49],"start":[191,41]}},"type":"Var","value":{"identifier":"friction","sourcePos":[182,1]}},"type":"App"},"type":"App"},"type":"App"},"identifier":"newPrevX"},{"annotation":{"meta":null,"sourceSpan":{"end":[187,54],"start":[187,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[187,54],"start":[187,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[187,26],"start":[187,19]}},"type":"Var","value":{"identifier":"groundY","sourcePos":[182,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[187,54],"start":[187,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[187,54],"start":[187,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[187,40],"start":[187,29]}},"type":"Var","value":{"identifier":"penetration","sourcePos":[186,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[187,54],"start":[187,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[187,54],"start":[187,43]}},"type":"Var","value":{"identifier":"restitution","sourcePos":[182,1]}},"type":"App"},"type":"App"},"identifier":"newPosY"},{"annotation":{"meta":null,"sourceSpan":{"end":[189,48],"start":[189,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[189,48],"start":[189,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[189,27],"start":[189,20]}},"type":"Var","value":{"identifier":"newPosY","sourcePos":[187,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[189,48],"start":[189,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[189,48],"start":[189,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[189,34],"start":[189,30]}},"type":"Var","value":{"identifier":"velY","sourcePos":[188,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[189,48],"start":[189,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[189,48],"start":[189,37]}},"type":"Var","value":{"identifier":"restitution","sourcePos":[182,1]}},"type":"App"},"type":"App"},"identifier":"newPrevY"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[192,65],"start":[192,8]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["posX",{"annotation":{"meta":null,"sourceSpan":{"end":[192,14],"start":[192,10]}},"type":"Var","value":{"identifier":"posX","sourcePos":[182,1]}}],["posY",{"annotation":{"meta":null,"sourceSpan":{"end":[192,29],"start":[192,22]}},"type":"Var","value":{"identifier":"newPosY","sourcePos":[187,9]}}],["prevX",{"annotation":{"meta":null,"sourceSpan":{"end":[192,46],"start":[192,38]}},"type":"Var","value":{"identifier":"newPrevX","sourcePos":[191,9]}}],["prevY",{"annotation":{"meta":null,"sourceSpan":{"end":[192,63],"start":[192,55]}},"type":"Var","value":{"identifier":"newPrevY","sourcePos":[189,9]}}]]}},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[183,21],"start":[183,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[183,10],"start":[183,6]}},"type":"Var","value":{"identifier":"posY","sourcePos":[182,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[183,21],"start":[183,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[183,21],"start":[183,14]}},"type":"Var","value":{"identifier":"groundY","sourcePos":[182,1]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"collideWithGround"},{"annotation":{"meta":null,"sourceSpan":{"end":[163,35],"start":[163,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[163,35],"start":[163,1]}},"argument":"spacing","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Verlet"]}},"annotation":{"meta":null,"sourceSpan":{"end":[164,39],"start":[164,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,33],"start":[164,26]}},"type":"Var","value":{"identifier":"spacing","sourcePos":[164,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[164,39],"start":[164,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,39],"start":[164,36]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"type":"Abs"},"identifier":"bendRestLength"}],"exports":["integrateParticle","getVelocity","setVelocity","solveConstraint","structuralRestLength","shearRestLength","bendRestLength","gridIndex","gridRowCol","collideWithGround","constrainToBounds"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[218,72],"start":[17,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,72],"start":[17,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,72],"start":[17,1]}},"moduleName":["Data","HeytingAlgebra"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,72],"start":[17,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,72],"start":[17,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,72],"start":[17,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,72],"start":[17,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,72],"start":[17,1]}},"moduleName":["Data","Tuple"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,72],"start":[17,1]}},"moduleName":["Lattice","Services","Physics","Verlet"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,72],"start":[17,1]}},"moduleName":["Math"]},{"annotation":{"meta":null,"sourceSpan":{"end":[34,15],"start":[34,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,72],"start":[17,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","Physics","Verlet"],"modulePath":"src/Lattice/Services/Physics/Verlet.purs","reExports":{},"sourceSpan":{"end":[218,72],"start":[17,1]}}