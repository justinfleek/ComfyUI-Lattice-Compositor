{"comments":"Lattice.Services.Render.SceneRenderer - 3D Scene Visualization\n\nGenerates geometry for camera wireframes, frustums, grids, and guides.\nPort of: comfyui/ui/src/services/camera3DVisualization.ts\n\nUsed by the ViewportRenderer component to draw 3D scene visualization\nwith multiple camera views (ortho, perspective, custom orbit).\n","declarations":[{"children":[],"comments":"A line segment in 3D space with color\n","info":{"arguments":[],"declType":"typeSynonym","type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Record"],"tag":"TypeConstructor"},{"annotation":[],"contents":["start",{"annotation":[],"contents":[["Lattice","Services","Math3D","Vec3"],"Vec3"],"tag":"TypeConstructor"},{"annotation":[],"contents":["end",{"annotation":[],"contents":[["Lattice","Services","Math3D","Vec3"],"Vec3"],"tag":"TypeConstructor"},{"annotation":[],"contents":["color",{"annotation":[],"contents":[["Prim"],"String"],"tag":"TypeConstructor"},{"annotation":[],"tag":"REmpty"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[50,4],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[46,1]},"title":"LineSegment"},{"children":[],"comments":"View and projection matrices for rendering\n","info":{"arguments":[],"declType":"typeSynonym","type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Record"],"tag":"TypeConstructor"},{"annotation":[],"contents":["view",{"annotation":[],"contents":[["Lattice","Services","Math3D","Mat4"],"Mat4"],"tag":"TypeConstructor"},{"annotation":[],"contents":["projection",{"annotation":[],"contents":[["Lattice","Services","Math3D","Mat4"],"Mat4"],"tag":"TypeConstructor"},{"annotation":[],"contents":["viewProjection",{"annotation":[],"contents":[["Lattice","Services","Math3D","Mat4"],"Mat4"],"tag":"TypeConstructor"},{"annotation":[],"tag":"REmpty"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[57,4],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[53,1]},"title":"ViewMatrices"},{"children":[],"comments":"Camera visualization geometry\n","info":{"arguments":[],"declType":"typeSynonym","type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Record"],"tag":"TypeConstructor"},{"annotation":[],"contents":["body",{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Lattice","Services","Render","SceneRenderer"],"LineSegment"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":["frustum",{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Lattice","Services","Render","SceneRenderer"],"LineSegment"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":["compositionBounds",{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Lattice","Services","Render","SceneRenderer"],"LineSegment"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":["poiLine",{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Maybe"],"Maybe"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Lattice","Services","Render","SceneRenderer"],"LineSegment"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":["focalPlane",{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Lattice","Services","Render","SceneRenderer"],"LineSegment"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"tag":"REmpty"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[66,4],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[60,1]},"title":"CameraVisualization"},{"children":[],"comments":"Custom view orbit state\n","info":{"arguments":[],"declType":"typeSynonym","type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Record"],"tag":"TypeConstructor"},{"annotation":[],"contents":["orbitCenter",{"annotation":[],"contents":[["Lattice","Services","Math3D","Vec3"],"Vec3"],"tag":"TypeConstructor"},{"annotation":[],"contents":["orbitDistance",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"contents":["orbitPhi",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"contents":["orbitTheta",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"contents":["orthoZoom",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"contents":["orthoOffset",{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Record"],"tag":"TypeConstructor"},{"annotation":[],"contents":["x",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"contents":["y",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"tag":"REmpty"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"TypeApp"},{"annotation":[],"tag":"REmpty"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[76,4],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[69,1]},"title":"CustomViewState"},{"children":[{"comments":null,"info":{"arguments":[],"declType":"dataConstructor"},"sourceSpan":{"end":[80,21],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[80,3]},"title":"ViewActiveCamera"},{"comments":null,"info":{"arguments":[],"declType":"dataConstructor"},"sourceSpan":{"end":[81,16],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[81,3]},"title":"ViewCustom1"},{"comments":null,"info":{"arguments":[],"declType":"dataConstructor"},"sourceSpan":{"end":[82,16],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[82,3]},"title":"ViewCustom2"},{"comments":null,"info":{"arguments":[],"declType":"dataConstructor"},"sourceSpan":{"end":[83,16],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[83,3]},"title":"ViewCustom3"},{"comments":null,"info":{"arguments":[],"declType":"dataConstructor"},"sourceSpan":{"end":[84,14],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[84,3]},"title":"ViewFront"},{"comments":null,"info":{"arguments":[],"declType":"dataConstructor"},"sourceSpan":{"end":[85,13],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[85,3]},"title":"ViewBack"},{"comments":null,"info":{"arguments":[],"declType":"dataConstructor"},"sourceSpan":{"end":[86,13],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[86,3]},"title":"ViewLeft"},{"comments":null,"info":{"arguments":[],"declType":"dataConstructor"},"sourceSpan":{"end":[87,14],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[87,3]},"title":"ViewRight"},{"comments":null,"info":{"arguments":[],"declType":"dataConstructor"},"sourceSpan":{"end":[88,12],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[88,3]},"title":"ViewTop"},{"comments":null,"info":{"arguments":[],"declType":"dataConstructor"},"sourceSpan":{"end":[89,15],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[89,3]},"title":"ViewBottom"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Eq"],"Eq"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Lattice","Services","Render","SceneRenderer"],"ViewType"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[91,42],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[91,1]},"title":"eqViewType"}],"comments":"View type selector\n","info":{"dataDeclType":"data","declType":"data","roles":[],"typeArguments":[]},"kind":null,"sourceSpan":{"end":[89,15],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[79,1]},"title":"ViewType"},{"children":[{"comments":null,"info":{"arguments":[],"declType":"dataConstructor"},"sourceSpan":{"end":[95,16],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[95,3]},"title":"Layout1View"},{"comments":null,"info":{"arguments":[],"declType":"dataConstructor"},"sourceSpan":{"end":[96,26],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[96,3]},"title":"Layout2ViewHorizontal"},{"comments":null,"info":{"arguments":[],"declType":"dataConstructor"},"sourceSpan":{"end":[97,24],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[97,3]},"title":"Layout2ViewVertical"},{"comments":null,"info":{"arguments":[],"declType":"dataConstructor"},"sourceSpan":{"end":[98,16],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[98,3]},"title":"Layout4View"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Eq"],"Eq"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Lattice","Services","Render","SceneRenderer"],"ViewLayout"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[100,46],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[100,1]},"title":"eqViewLayout"}],"comments":"Viewport layout\n","info":{"dataDeclType":"data","declType":"data","roles":[],"typeArguments":[]},"kind":null,"sourceSpan":{"end":[98,16],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[94,1]},"title":"ViewLayout"},{"children":[],"comments":"Generate a ground plane grid\n@param width - Composition width\n@param height - Composition height\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Int"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Int"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Lattice","Services","Render","SceneRenderer"],"LineSegment"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[154,48],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[154,1]},"title":"generateGrid"},{"children":[],"comments":"Generate 3D reference axes at origin\n@param origin - Center point for axes\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Lattice","Services","Math3D","Vec3"],"Vec3"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Lattice","Services","Render","SceneRenderer"],"LineSegment"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[187,44],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[187,1]},"title":"generate3DAxes"},{"children":[],"comments":"Generate camera body wireframe geometry\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Lattice","Services","Render","SceneRenderer"],"Camera3D"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Lattice","Services","Render","SceneRenderer"],"LineSegment"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[214,52],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[214,1]},"title":"generateCameraBody"},{"children":[],"comments":"Generate view frustum wireframe\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Lattice","Services","Render","SceneRenderer"],"Camera3D"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Int"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Int"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Lattice","Services","Render","SceneRenderer"],"LineSegment"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[285,63],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[285,1]},"title":"generateFrustum"},{"children":[],"comments":"Generate composition bounds as 3D rectangle at z=0\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Int"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Int"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Array"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Lattice","Services","Render","SceneRenderer"],"LineSegment"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[351,61],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[351,1]},"title":"generateCompositionBounds"},{"children":[],"comments":"Get view matrices for camera perspective view\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Lattice","Services","Render","SceneRenderer"],"Camera3D"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Int"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Int"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Lattice","Services","Render","SceneRenderer"],"ViewMatrices"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[374,64],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[374,1]},"title":"getCameraViewMatrices"},{"children":[],"comments":"Get view matrices for orthographic views (front, top, etc.)\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Lattice","Services","Render","SceneRenderer"],"ViewType"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Int"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Int"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Maybe"],"Maybe"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Lattice","Services","Render","SceneRenderer"],"CustomViewState"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Lattice","Services","Render","SceneRenderer"],"ViewMatrices"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[387,88],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[387,1]},"title":"getOrthoViewMatrices"},{"children":[],"comments":"Project a 3D point to screen coordinates\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Lattice","Services","Math3D","Vec3"],"Vec3"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Lattice","Services","Math3D","Mat4"],"Mat4"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Lattice","Services","Render","SceneRenderer"],"ScreenPoint"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[451,67],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[451,1]},"title":"projectToScreen"},{"children":[],"comments":"Projected screen point\n","info":{"arguments":[],"declType":"typeSynonym","type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Record"],"tag":"TypeConstructor"},{"annotation":[],"contents":["x",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"contents":["y",{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"},{"annotation":[],"contents":["visible",{"annotation":[],"contents":[["Prim"],"Boolean"],"tag":"TypeConstructor"},{"annotation":[],"tag":"REmpty"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"RCons"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[107,4],"name":"src/Lattice/Services/Render/SceneRenderer.purs","start":[103,1]},"title":"ScreenPoint"}],"name":"Lattice.Services.Render.SceneRenderer","reExports":[]}