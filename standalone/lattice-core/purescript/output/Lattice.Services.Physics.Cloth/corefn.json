{"builtWith":"0.15.15","comments":[{"LineComment":" | Lattice.Services.Physics.Cloth - Cloth Simulation Configuration"},{"LineComment":" |"},{"LineComment":" | Pure functions for cloth simulation:"},{"LineComment":" | - Cloth grid configuration"},{"LineComment":" | - Constraint generation (structural, shear, bend)"},{"LineComment":" | - Tearing detection"},{"LineComment":" | - State management"},{"LineComment":" |"},{"LineComment":" | All functions are total and deterministic."},{"LineComment":" |"},{"LineComment":" | Source: ui/src/services/physics/PhysicsEngine.ts (ClothSimulator)"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[129,22],"start":[129,21]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[129,52],"start":[129,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[129,37],"start":[129,36]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[129,52],"start":[129,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[123,41],"start":[123,40]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[123,47],"start":[123,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingInt","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[123,60],"start":[123,57]}},"type":"Var","value":{"identifier":"mod","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[123,67],"start":[123,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingInt","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"mod"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[119,42],"start":[119,41]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[119,46],"start":[119,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringInt","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[119,34],"start":[119,33]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[119,46],"start":[119,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringInt","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[146,26],"start":[146,9]}},"type":"Var","value":{"identifier":"bind","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[146,26],"start":[146,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindArray","moduleName":["Control","Bind"]}},"type":"App"},"identifier":"bind"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[146,23],"start":[146,22]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[146,25],"start":[146,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringInt","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[148,13],"start":[148,9]}},"type":"Var","value":{"identifier":"pure","moduleName":["Control","Applicative"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[156,12],"start":[148,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeArray","moduleName":["Control","Applicative"]}},"type":"App"},"identifier":"pure"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[149,27],"start":[149,25]}},"type":"Var","value":{"identifier":"append","moduleName":["Data","Semigroup"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[149,61],"start":[149,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupString","moduleName":["Data","Semigroup"]}},"type":"App"},"identifier":"append"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[149,41],"start":[149,37]}},"type":"Var","value":{"identifier":"show","moduleName":["Data","Show"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[149,61],"start":[149,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"showInt","moduleName":["Data","Show"]}},"type":"App"},"identifier":"show"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[170,19],"start":[170,17]}},"type":"Var","value":{"identifier":"append","moduleName":["Data","Semigroup"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[170,28],"start":[170,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupArray","moduleName":["Data","Semigroup"]}},"type":"App"},"identifier":"append1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[175,29],"start":[175,27]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[175,33],"start":[175,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[262,36],"start":[262,35]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[262,70],"start":[262,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[45,19],"start":[42,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[45,19],"start":[42,1]}},"constructorName":"ConstraintStructural","fieldNames":[],"type":"Constructor","typeName":"ClothConstraintType"},"identifier":"ConstraintStructural"},{"annotation":{"meta":null,"sourceSpan":{"end":[45,19],"start":[42,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[45,19],"start":[42,1]}},"constructorName":"ConstraintShear","fieldNames":[],"type":"Constructor","typeName":"ClothConstraintType"},"identifier":"ConstraintShear"},{"annotation":{"meta":null,"sourceSpan":{"end":[45,19],"start":[42,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[45,19],"start":[42,1]}},"constructorName":"ConstraintBend","fieldNames":[],"type":"Constructor","typeName":"ClothConstraintType"},"identifier":"ConstraintBend"},{"annotation":{"meta":null,"sourceSpan":{"end":[52,41],"start":[49,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[52,41],"start":[49,1]}},"type":"Var","value":{"identifier":"Show$Dict","moduleName":["Data","Show"]}},"annotation":{"meta":null,"sourceSpan":{"end":[52,41],"start":[49,1]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[52,41],"start":[49,1]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["show",{"annotation":{"meta":null,"sourceSpan":{"end":[52,41],"start":[49,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[52,41],"start":[49,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[50,28],"start":[50,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ConstraintStructural","moduleName":["Lattice","Services","Physics","Cloth"]},"typeName":{"identifier":"ClothConstraintType","moduleName":["Lattice","Services","Physics","Cloth"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[50,53],"start":[50,31]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"ConstraintStructural"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[51,23],"start":[51,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ConstraintShear","moduleName":["Lattice","Services","Physics","Cloth"]},"typeName":{"identifier":"ClothConstraintType","moduleName":["Lattice","Services","Physics","Cloth"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[51,43],"start":[51,26]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"ConstraintShear"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[52,22],"start":[52,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ConstraintBend","moduleName":["Lattice","Services","Physics","Cloth"]},"typeName":{"identifier":"ClothConstraintType","moduleName":["Lattice","Services","Physics","Cloth"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[52,41],"start":[52,25]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"ConstraintBend"}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[50,53],"start":[50,3]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"}]]}},"type":"App"},"identifier":"showClothConstraintType"},{"annotation":{"meta":null,"sourceSpan":{"end":[126,69],"start":[126,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[126,69],"start":[126,1]}},"argument":"config","body":{"annotation":{"meta":null,"sourceSpan":{"end":[126,69],"start":[126,1]}},"argument":"row","body":{"annotation":{"meta":null,"sourceSpan":{"end":[126,69],"start":[126,1]}},"argument":"col","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[128,8],"start":[128,3]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[129,53],"start":[128,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[129,52],"start":[129,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,20],"start":[129,6]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[129,12],"start":[129,6]}},"type":"Var","value":{"identifier":"config","sourcePos":[127,1]}},"fieldName":"originX","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[129,52],"start":[129,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[129,52],"start":[129,6]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[129,31],"start":[129,23]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[129,35],"start":[129,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,35],"start":[129,32]}},"type":"Var","value":{"identifier":"col","sourcePos":[127,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[129,52],"start":[129,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,52],"start":[129,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[129,44],"start":[129,38]}},"type":"Var","value":{"identifier":"config","sourcePos":[127,1]}},"fieldName":"spacing","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[130,53],"start":[128,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[130,52],"start":[130,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,20],"start":[130,6]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[130,12],"start":[130,6]}},"type":"Var","value":{"identifier":"config","sourcePos":[127,1]}},"fieldName":"originY","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[130,52],"start":[130,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[130,52],"start":[130,6]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[130,31],"start":[130,23]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[130,35],"start":[130,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,35],"start":[130,32]}},"type":"Var","value":{"identifier":"row","sourcePos":[127,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[130,52],"start":[130,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,52],"start":[130,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[130,44],"start":[130,38]}},"type":"Var","value":{"identifier":"config","sourcePos":[127,1]}},"fieldName":"spacing","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"particlePosition"},{"annotation":{"meta":null,"sourceSpan":{"end":[122,43],"start":[122,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[122,43],"start":[122,1]}},"argument":"index","body":{"annotation":{"meta":null,"sourceSpan":{"end":[122,43],"start":[122,1]}},"argument":"width","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[123,32],"start":[123,27]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[123,48],"start":[123,27]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[123,47],"start":[123,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[123,39],"start":[123,34]}},"type":"Var","value":{"identifier":"index","sourcePos":[123,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[123,47],"start":[123,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[123,47],"start":[123,42]}},"type":"Var","value":{"identifier":"width","sourcePos":[123,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[123,68],"start":[123,27]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mod","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[123,67],"start":[123,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[123,55],"start":[123,50]}},"type":"Var","value":{"identifier":"index","sourcePos":[123,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[123,67],"start":[123,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[123,67],"start":[123,62]}},"type":"Var","value":{"identifier":"width","sourcePos":[123,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"indexToGrid"},{"annotation":{"meta":null,"sourceSpan":{"end":[118,40],"start":[118,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[118,40],"start":[118,1]}},"argument":"row","body":{"annotation":{"meta":null,"sourceSpan":{"end":[118,40],"start":[118,1]}},"argument":"col","body":{"annotation":{"meta":null,"sourceSpan":{"end":[118,40],"start":[118,1]}},"argument":"width","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[119,46],"start":[119,29]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul1","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[119,46],"start":[119,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,32],"start":[119,29]}},"type":"Var","value":{"identifier":"row","sourcePos":[119,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[119,46],"start":[119,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,40],"start":[119,35]}},"type":"Var","value":{"identifier":"width","sourcePos":[119,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[119,46],"start":[119,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,46],"start":[119,43]}},"type":"Var","value":{"identifier":"col","sourcePos":[119,1]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"gridToIndex"},{"annotation":{"meta":null,"sourceSpan":{"end":[137,80],"start":[137,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[137,80],"start":[137,1]}},"argument":"config","body":{"annotation":{"meta":null,"sourceSpan":{"end":[137,80],"start":[137,1]}},"argument":"clothId","body":{"annotation":{"meta":null,"sourceSpan":{"end":[170,28],"start":[139,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[139,23],"start":[139,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[139,23],"start":[139,11]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[139,17],"start":[139,11]}},"type":"Var","value":{"identifier":"config","sourcePos":[138,1]}},"fieldName":"width","type":"Accessor"},"identifier":"w"},{"annotation":{"meta":null,"sourceSpan":{"end":[143,39],"start":[143,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[143,39],"start":[143,19]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[143,25],"start":[143,19]}},"type":"Var","value":{"identifier":"config","sourcePos":[138,1]}},"fieldName":"tearThreshold","type":"Accessor"},"identifier":"threshold"},{"annotation":{"meta":null,"sourceSpan":{"end":[142,45],"start":[142,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[142,45],"start":[142,19]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[142,25],"start":[142,19]}},"type":"Var","value":{"identifier":"config","sourcePos":[138,1]}},"fieldName":"structuralStiffness","type":"Accessor"},"identifier":"stiffness"},{"annotation":{"meta":null,"sourceSpan":{"end":[141,31],"start":[141,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[141,31],"start":[141,17]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[141,23],"start":[141,17]}},"type":"Var","value":{"identifier":"config","sourcePos":[138,1]}},"fieldName":"spacing","type":"Accessor"},"identifier":"spacing"},{"annotation":{"meta":null,"sourceSpan":{"end":[140,24],"start":[140,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[140,24],"start":[140,11]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[140,17],"start":[140,11]}},"type":"Var","value":{"identifier":"config","sourcePos":[138,1]}},"fieldName":"height","type":"Accessor"},"identifier":"h"},{"annotation":{"meta":null,"sourceSpan":{"end":[156,12],"start":[145,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[146,26],"start":[146,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[146,18],"start":[146,16]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[146,26],"start":[146,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[146,15],"start":[146,14]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[146,26],"start":[146,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[146,25],"start":[146,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[146,21],"start":[146,20]}},"type":"Var","value":{"identifier":"h","sourcePos":[140,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[146,25],"start":[146,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[146,25],"start":[146,24]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[146,26],"start":[146,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[146,26],"start":[146,9]}},"argument":"r","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,26],"start":[147,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[147,18],"start":[147,16]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,26],"start":[147,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,15],"start":[147,14]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[147,26],"start":[147,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,25],"start":[147,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,21],"start":[147,20]}},"type":"Var","value":{"identifier":"w","sourcePos":[139,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[147,25],"start":[147,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,25],"start":[147,24]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[147,26],"start":[147,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,26],"start":[147,9]}},"argument":"c","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[156,12],"start":[148,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[156,12],"start":[149,11]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["id",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[149,61],"start":[149,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,24],"start":[149,17]}},"type":"Var","value":{"identifier":"clothId","sourcePos":[138,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[149,61],"start":[149,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[149,61],"start":[149,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,33],"start":[149,28]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"_h_"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[149,61],"start":[149,17]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[149,61],"start":[149,37]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[149,54],"start":[149,43]}},"type":"Var","value":{"identifier":"gridToIndex","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[149,56],"start":[149,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,56],"start":[149,55]}},"type":"Var","value":{"identifier":"r","sourcePos":[146,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[149,58],"start":[149,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,58],"start":[149,57]}},"type":"Var","value":{"identifier":"c","sourcePos":[147,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[149,60],"start":[149,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,60],"start":[149,59]}},"type":"Var","value":{"identifier":"w","sourcePos":[139,7]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"}],["indexA",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[150,32],"start":[150,21]}},"type":"Var","value":{"identifier":"gridToIndex","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[150,34],"start":[150,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,34],"start":[150,33]}},"type":"Var","value":{"identifier":"r","sourcePos":[146,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[150,36],"start":[150,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,36],"start":[150,35]}},"type":"Var","value":{"identifier":"c","sourcePos":[147,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[150,38],"start":[150,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,38],"start":[150,37]}},"type":"Var","value":{"identifier":"w","sourcePos":[139,7]}},"type":"App"}],["indexB",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[151,32],"start":[151,21]}},"type":"Var","value":{"identifier":"gridToIndex","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[151,34],"start":[151,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[151,34],"start":[151,33]}},"type":"Var","value":{"identifier":"r","sourcePos":[146,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[151,42],"start":[151,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[151,41],"start":[151,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[151,37],"start":[151,36]}},"type":"Var","value":{"identifier":"c","sourcePos":[147,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[151,41],"start":[151,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[151,41],"start":[151,40]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[151,44],"start":[151,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[151,44],"start":[151,43]}},"type":"Var","value":{"identifier":"w","sourcePos":[139,7]}},"type":"App"}],["constraintType",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[152,49],"start":[152,29]}},"type":"Var","value":{"identifier":"ConstraintStructural","moduleName":["Lattice","Services","Physics","Cloth"]}}],["restLength",{"annotation":{"meta":null,"sourceSpan":{"end":[153,32],"start":[153,25]}},"type":"Var","value":{"identifier":"spacing","sourcePos":[141,7]}}],["stiffness",{"annotation":{"meta":null,"sourceSpan":{"end":[154,33],"start":[154,24]}},"type":"Var","value":{"identifier":"stiffness","sourcePos":[142,7]}}],["tearThreshold",{"annotation":{"meta":null,"sourceSpan":{"end":[155,37],"start":[155,28]}},"type":"Var","value":{"identifier":"threshold","sourcePos":[143,7]}}]]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"identifier":"horizontal"},{"annotation":{"meta":null,"sourceSpan":{"end":[169,12],"start":[158,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[159,26],"start":[159,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[159,18],"start":[159,16]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[159,26],"start":[159,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[159,15],"start":[159,14]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[159,26],"start":[159,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[159,25],"start":[159,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[159,21],"start":[159,20]}},"type":"Var","value":{"identifier":"h","sourcePos":[140,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[159,25],"start":[159,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[159,25],"start":[159,24]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[159,26],"start":[159,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[159,26],"start":[159,9]}},"argument":"r","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[160,26],"start":[160,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[160,18],"start":[160,16]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[160,26],"start":[160,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[160,15],"start":[160,14]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[160,26],"start":[160,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[160,25],"start":[160,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[160,21],"start":[160,20]}},"type":"Var","value":{"identifier":"w","sourcePos":[139,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[160,25],"start":[160,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[160,25],"start":[160,24]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[160,26],"start":[160,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[160,26],"start":[160,9]}},"argument":"c","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[169,12],"start":[161,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,12],"start":[162,11]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["id",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[162,61],"start":[162,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,24],"start":[162,17]}},"type":"Var","value":{"identifier":"clothId","sourcePos":[138,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[162,61],"start":[162,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[162,61],"start":[162,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,33],"start":[162,28]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"_v_"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[162,61],"start":[162,17]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[162,61],"start":[162,37]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[162,54],"start":[162,43]}},"type":"Var","value":{"identifier":"gridToIndex","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[162,56],"start":[162,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,56],"start":[162,55]}},"type":"Var","value":{"identifier":"r","sourcePos":[159,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[162,58],"start":[162,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,58],"start":[162,57]}},"type":"Var","value":{"identifier":"c","sourcePos":[160,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[162,60],"start":[162,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,60],"start":[162,59]}},"type":"Var","value":{"identifier":"w","sourcePos":[139,7]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"}],["indexA",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[163,32],"start":[163,21]}},"type":"Var","value":{"identifier":"gridToIndex","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[163,34],"start":[163,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,34],"start":[163,33]}},"type":"Var","value":{"identifier":"r","sourcePos":[159,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[163,36],"start":[163,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,36],"start":[163,35]}},"type":"Var","value":{"identifier":"c","sourcePos":[160,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[163,38],"start":[163,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,38],"start":[163,37]}},"type":"Var","value":{"identifier":"w","sourcePos":[139,7]}},"type":"App"}],["indexB",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[164,32],"start":[164,21]}},"type":"Var","value":{"identifier":"gridToIndex","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[164,40],"start":[164,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[164,39],"start":[164,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,35],"start":[164,34]}},"type":"Var","value":{"identifier":"r","sourcePos":[159,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[164,39],"start":[164,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,39],"start":[164,38]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[164,42],"start":[164,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,42],"start":[164,41]}},"type":"Var","value":{"identifier":"c","sourcePos":[160,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[164,44],"start":[164,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,44],"start":[164,43]}},"type":"Var","value":{"identifier":"w","sourcePos":[139,7]}},"type":"App"}],["constraintType",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[165,49],"start":[165,29]}},"type":"Var","value":{"identifier":"ConstraintStructural","moduleName":["Lattice","Services","Physics","Cloth"]}}],["restLength",{"annotation":{"meta":null,"sourceSpan":{"end":[166,32],"start":[166,25]}},"type":"Var","value":{"identifier":"spacing","sourcePos":[141,7]}}],["stiffness",{"annotation":{"meta":null,"sourceSpan":{"end":[167,33],"start":[167,24]}},"type":"Var","value":{"identifier":"stiffness","sourcePos":[142,7]}}],["tearThreshold",{"annotation":{"meta":null,"sourceSpan":{"end":[168,37],"start":[168,28]}},"type":"Var","value":{"identifier":"threshold","sourcePos":[143,7]}}]]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"identifier":"vertical"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append1","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[170,28],"start":[170,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,16],"start":[170,6]}},"type":"Var","value":{"identifier":"horizontal","sourcePos":[145,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[170,28],"start":[170,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,28],"start":[170,20]}},"type":"Var","value":{"identifier":"vertical","sourcePos":[158,7]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"generateStructuralConstraints"},{"annotation":{"meta":null,"sourceSpan":{"end":[173,75],"start":[173,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[173,75],"start":[173,1]}},"argument":"config","body":{"annotation":{"meta":null,"sourceSpan":{"end":[173,75],"start":[173,1]}},"argument":"clothId","body":{"annotation":{"meta":null,"sourceSpan":{"end":[173,75],"start":[173,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[174,32],"start":[174,26]}},"binderType":"VarBinder","identifier":"config1"},{"annotation":{"meta":null,"sourceSpan":{"end":[174,40],"start":[174,33]}},"binderType":"VarBinder","identifier":"clothId1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[175,38],"start":[175,36]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[175,33],"start":[175,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[175,26],"start":[175,5]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[175,11],"start":[175,5]}},"type":"Var","value":{"identifier":"config1","sourcePos":[174,26]}},"fieldName":"shearStiffness","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[175,33],"start":[175,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[175,33],"start":[175,30]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[207,32],"start":[177,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[177,27],"start":[177,11]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[177,27],"start":[177,15]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[177,21],"start":[177,15]}},"type":"Var","value":{"identifier":"config1","sourcePos":[174,26]}},"fieldName":"width","type":"Accessor"},"identifier":"w"},{"annotation":{"meta":null,"sourceSpan":{"end":[180,44],"start":[180,11]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[180,44],"start":[180,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[180,29],"start":[180,23]}},"type":"Var","value":{"identifier":"config1","sourcePos":[174,26]}},"fieldName":"shearStiffness","type":"Accessor"},"identifier":"stiffness"},{"annotation":{"meta":null,"sourceSpan":{"end":[178,28],"start":[178,11]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[178,28],"start":[178,15]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[178,21],"start":[178,15]}},"type":"Var","value":{"identifier":"config1","sourcePos":[174,26]}},"fieldName":"height","type":"Accessor"},"identifier":"h"},{"annotation":{"meta":null,"sourceSpan":{"end":[179,49],"start":[179,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[179,49],"start":[179,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[179,38],"start":[179,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[179,30],"start":[179,24]}},"type":"Var","value":{"identifier":"config1","sourcePos":[174,26]}},"fieldName":"spacing","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[179,49],"start":[179,24]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[179,45],"start":[179,41]}},"type":"Var","value":{"identifier":"sqrt","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[179,49],"start":[179,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[179,49],"start":[179,46]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"type":"App"},"identifier":"diagLength"},{"annotation":{"meta":null,"sourceSpan":{"end":[193,16],"start":[182,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[183,30],"start":[183,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[183,22],"start":[183,20]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[183,30],"start":[183,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[183,19],"start":[183,18]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[183,30],"start":[183,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[183,29],"start":[183,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[183,25],"start":[183,24]}},"type":"Var","value":{"identifier":"h","sourcePos":[178,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[183,29],"start":[183,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[183,29],"start":[183,28]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[183,30],"start":[183,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[183,30],"start":[183,13]}},"argument":"r","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[184,30],"start":[184,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[184,22],"start":[184,20]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[184,30],"start":[184,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[184,19],"start":[184,18]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[184,30],"start":[184,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[184,29],"start":[184,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[184,25],"start":[184,24]}},"type":"Var","value":{"identifier":"w","sourcePos":[177,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[184,29],"start":[184,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[184,29],"start":[184,28]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[184,30],"start":[184,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[184,30],"start":[184,13]}},"argument":"c","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[193,16],"start":[185,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[193,16],"start":[186,15]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["id",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[186,66],"start":[186,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[186,28],"start":[186,21]}},"type":"Var","value":{"identifier":"clothId1","sourcePos":[174,33]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[186,66],"start":[186,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[186,66],"start":[186,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[186,38],"start":[186,32]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"_s1_"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[186,66],"start":[186,21]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[186,66],"start":[186,42]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[186,59],"start":[186,48]}},"type":"Var","value":{"identifier":"gridToIndex","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[186,61],"start":[186,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[186,61],"start":[186,60]}},"type":"Var","value":{"identifier":"r","sourcePos":[183,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[186,63],"start":[186,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[186,63],"start":[186,62]}},"type":"Var","value":{"identifier":"c","sourcePos":[184,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[186,65],"start":[186,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[186,65],"start":[186,64]}},"type":"Var","value":{"identifier":"w","sourcePos":[177,11]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"}],["indexA",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[187,36],"start":[187,25]}},"type":"Var","value":{"identifier":"gridToIndex","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[187,38],"start":[187,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[187,38],"start":[187,37]}},"type":"Var","value":{"identifier":"r","sourcePos":[183,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[187,40],"start":[187,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[187,40],"start":[187,39]}},"type":"Var","value":{"identifier":"c","sourcePos":[184,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[187,42],"start":[187,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[187,42],"start":[187,41]}},"type":"Var","value":{"identifier":"w","sourcePos":[177,11]}},"type":"App"}],["indexB",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[188,36],"start":[188,25]}},"type":"Var","value":{"identifier":"gridToIndex","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[188,44],"start":[188,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[188,43],"start":[188,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[188,39],"start":[188,38]}},"type":"Var","value":{"identifier":"r","sourcePos":[183,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[188,43],"start":[188,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[188,43],"start":[188,42]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[188,52],"start":[188,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[188,51],"start":[188,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[188,47],"start":[188,46]}},"type":"Var","value":{"identifier":"c","sourcePos":[184,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[188,51],"start":[188,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[188,51],"start":[188,50]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[188,54],"start":[188,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[188,54],"start":[188,53]}},"type":"Var","value":{"identifier":"w","sourcePos":[177,11]}},"type":"App"}],["constraintType",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[189,48],"start":[189,33]}},"type":"Var","value":{"identifier":"ConstraintShear","moduleName":["Lattice","Services","Physics","Cloth"]}}],["restLength",{"annotation":{"meta":null,"sourceSpan":{"end":[190,39],"start":[190,29]}},"type":"Var","value":{"identifier":"diagLength","sourcePos":[179,11]}}],["stiffness",{"annotation":{"meta":null,"sourceSpan":{"end":[191,37],"start":[191,28]}},"type":"Var","value":{"identifier":"stiffness","sourcePos":[180,11]}}],["tearThreshold",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[192,39],"start":[192,32]}},"type":"Var","value":{"identifier":"Nothing","moduleName":["Data","Maybe"]}}]]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"identifier":"diagonal1"},{"annotation":{"meta":null,"sourceSpan":{"end":[206,16],"start":[195,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[196,30],"start":[196,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[196,22],"start":[196,20]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[196,30],"start":[196,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[196,19],"start":[196,18]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[196,30],"start":[196,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[196,29],"start":[196,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[196,25],"start":[196,24]}},"type":"Var","value":{"identifier":"h","sourcePos":[178,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[196,29],"start":[196,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[196,29],"start":[196,28]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[196,30],"start":[196,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[196,30],"start":[196,13]}},"argument":"r","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[197,30],"start":[197,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[197,22],"start":[197,20]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[197,30],"start":[197,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[197,19],"start":[197,18]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[197,30],"start":[197,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[197,29],"start":[197,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[197,25],"start":[197,24]}},"type":"Var","value":{"identifier":"w","sourcePos":[177,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[197,29],"start":[197,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[197,29],"start":[197,28]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[197,30],"start":[197,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[197,30],"start":[197,13]}},"argument":"c","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[206,16],"start":[198,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[206,16],"start":[199,15]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["id",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[199,66],"start":[199,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[199,28],"start":[199,21]}},"type":"Var","value":{"identifier":"clothId1","sourcePos":[174,33]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[199,66],"start":[199,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[199,66],"start":[199,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[199,38],"start":[199,32]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"_s2_"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[199,66],"start":[199,21]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[199,66],"start":[199,42]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[199,59],"start":[199,48]}},"type":"Var","value":{"identifier":"gridToIndex","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[199,61],"start":[199,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[199,61],"start":[199,60]}},"type":"Var","value":{"identifier":"r","sourcePos":[196,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[199,63],"start":[199,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[199,63],"start":[199,62]}},"type":"Var","value":{"identifier":"c","sourcePos":[197,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[199,65],"start":[199,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[199,65],"start":[199,64]}},"type":"Var","value":{"identifier":"w","sourcePos":[177,11]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"}],["indexA",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[200,36],"start":[200,25]}},"type":"Var","value":{"identifier":"gridToIndex","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[200,38],"start":[200,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[200,38],"start":[200,37]}},"type":"Var","value":{"identifier":"r","sourcePos":[196,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[200,46],"start":[200,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[200,45],"start":[200,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[200,41],"start":[200,40]}},"type":"Var","value":{"identifier":"c","sourcePos":[197,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[200,45],"start":[200,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[200,45],"start":[200,44]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[200,48],"start":[200,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[200,48],"start":[200,47]}},"type":"Var","value":{"identifier":"w","sourcePos":[177,11]}},"type":"App"}],["indexB",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[201,36],"start":[201,25]}},"type":"Var","value":{"identifier":"gridToIndex","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[201,44],"start":[201,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[201,43],"start":[201,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,39],"start":[201,38]}},"type":"Var","value":{"identifier":"r","sourcePos":[196,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[201,43],"start":[201,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,43],"start":[201,42]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[201,46],"start":[201,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,46],"start":[201,45]}},"type":"Var","value":{"identifier":"c","sourcePos":[197,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[201,48],"start":[201,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,48],"start":[201,47]}},"type":"Var","value":{"identifier":"w","sourcePos":[177,11]}},"type":"App"}],["constraintType",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[202,48],"start":[202,33]}},"type":"Var","value":{"identifier":"ConstraintShear","moduleName":["Lattice","Services","Physics","Cloth"]}}],["restLength",{"annotation":{"meta":null,"sourceSpan":{"end":[203,39],"start":[203,29]}},"type":"Var","value":{"identifier":"diagLength","sourcePos":[179,11]}}],["stiffness",{"annotation":{"meta":null,"sourceSpan":{"end":[204,37],"start":[204,28]}},"type":"Var","value":{"identifier":"stiffness","sourcePos":[180,11]}}],["tearThreshold",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[205,39],"start":[205,32]}},"type":"Var","value":{"identifier":"Nothing","moduleName":["Data","Maybe"]}}]]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"identifier":"diagonal2"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append1","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[207,32],"start":[207,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[207,19],"start":[207,10]}},"type":"Var","value":{"identifier":"diagonal1","sourcePos":[182,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[207,32],"start":[207,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[207,32],"start":[207,23]}},"type":"Var","value":{"identifier":"diagonal2","sourcePos":[195,11]}},"type":"App"},"type":"Let"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[176,14],"start":[176,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[207,32],"start":[174,1]}},"type":"Var","value":{"identifier":"config","sourcePos":[174,26]}},{"annotation":{"meta":null,"sourceSpan":{"end":[207,32],"start":[174,1]}},"type":"Var","value":{"identifier":"clothId","sourcePos":[174,33]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"generateShearConstraints"},{"annotation":{"meta":null,"sourceSpan":{"end":[210,74],"start":[210,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[210,74],"start":[210,1]}},"argument":"config","body":{"annotation":{"meta":null,"sourceSpan":{"end":[210,74],"start":[210,1]}},"argument":"clothId","body":{"annotation":{"meta":null,"sourceSpan":{"end":[210,74],"start":[210,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[211,31],"start":[211,25]}},"binderType":"VarBinder","identifier":"config1"},{"annotation":{"meta":null,"sourceSpan":{"end":[211,39],"start":[211,32]}},"binderType":"VarBinder","identifier":"clothId1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[212,37],"start":[212,35]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[212,32],"start":[212,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[212,25],"start":[212,5]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[212,11],"start":[212,5]}},"type":"Var","value":{"identifier":"config1","sourcePos":[211,25]}},"fieldName":"bendStiffness","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[212,32],"start":[212,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[212,32],"start":[212,29]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[244,24],"start":[214,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[214,27],"start":[214,11]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[214,27],"start":[214,15]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[214,21],"start":[214,15]}},"type":"Var","value":{"identifier":"config1","sourcePos":[211,25]}},"fieldName":"width","type":"Accessor"},"identifier":"w"},{"annotation":{"meta":null,"sourceSpan":{"end":[217,43],"start":[217,11]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[217,43],"start":[217,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[217,29],"start":[217,23]}},"type":"Var","value":{"identifier":"config1","sourcePos":[211,25]}},"fieldName":"bendStiffness","type":"Accessor"},"identifier":"stiffness"},{"annotation":{"meta":null,"sourceSpan":{"end":[216,44],"start":[216,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[216,44],"start":[216,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[216,38],"start":[216,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[216,30],"start":[216,24]}},"type":"Var","value":{"identifier":"config1","sourcePos":[211,25]}},"fieldName":"spacing","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[216,44],"start":[216,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[216,44],"start":[216,41]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"identifier":"skipLength"},{"annotation":{"meta":null,"sourceSpan":{"end":[215,28],"start":[215,11]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[215,28],"start":[215,15]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[215,21],"start":[215,15]}},"type":"Var","value":{"identifier":"config1","sourcePos":[211,25]}},"fieldName":"height","type":"Accessor"},"identifier":"h"},{"annotation":{"meta":null,"sourceSpan":{"end":[243,16],"start":[232,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[233,30],"start":[233,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[233,22],"start":[233,20]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[233,30],"start":[233,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[233,19],"start":[233,18]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[233,30],"start":[233,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[233,29],"start":[233,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[233,25],"start":[233,24]}},"type":"Var","value":{"identifier":"h","sourcePos":[215,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[233,29],"start":[233,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[233,29],"start":[233,28]}},"type":"Literal","value":{"literalType":"IntLiteral","value":3}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[233,30],"start":[233,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[233,30],"start":[233,13]}},"argument":"r","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[234,30],"start":[234,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[234,22],"start":[234,20]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[234,30],"start":[234,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[234,19],"start":[234,18]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[234,30],"start":[234,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[234,29],"start":[234,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[234,25],"start":[234,24]}},"type":"Var","value":{"identifier":"w","sourcePos":[214,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[234,29],"start":[234,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[234,29],"start":[234,28]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[234,30],"start":[234,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[234,30],"start":[234,13]}},"argument":"c","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[243,16],"start":[235,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,16],"start":[236,15]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["id",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[236,66],"start":[236,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[236,28],"start":[236,21]}},"type":"Var","value":{"identifier":"clothId1","sourcePos":[211,32]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[236,66],"start":[236,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[236,66],"start":[236,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[236,38],"start":[236,32]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"_bv_"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[236,66],"start":[236,21]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[236,66],"start":[236,42]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[236,59],"start":[236,48]}},"type":"Var","value":{"identifier":"gridToIndex","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[236,61],"start":[236,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[236,61],"start":[236,60]}},"type":"Var","value":{"identifier":"r","sourcePos":[233,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[236,63],"start":[236,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[236,63],"start":[236,62]}},"type":"Var","value":{"identifier":"c","sourcePos":[234,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[236,65],"start":[236,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[236,65],"start":[236,64]}},"type":"Var","value":{"identifier":"w","sourcePos":[214,11]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"}],["indexA",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[237,36],"start":[237,25]}},"type":"Var","value":{"identifier":"gridToIndex","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[237,38],"start":[237,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[237,38],"start":[237,37]}},"type":"Var","value":{"identifier":"r","sourcePos":[233,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[237,40],"start":[237,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[237,40],"start":[237,39]}},"type":"Var","value":{"identifier":"c","sourcePos":[234,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[237,42],"start":[237,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[237,42],"start":[237,41]}},"type":"Var","value":{"identifier":"w","sourcePos":[214,11]}},"type":"App"}],["indexB",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[238,36],"start":[238,25]}},"type":"Var","value":{"identifier":"gridToIndex","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[238,44],"start":[238,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[238,43],"start":[238,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[238,39],"start":[238,38]}},"type":"Var","value":{"identifier":"r","sourcePos":[233,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[238,43],"start":[238,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[238,43],"start":[238,42]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[238,46],"start":[238,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[238,46],"start":[238,45]}},"type":"Var","value":{"identifier":"c","sourcePos":[234,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[238,48],"start":[238,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[238,48],"start":[238,47]}},"type":"Var","value":{"identifier":"w","sourcePos":[214,11]}},"type":"App"}],["constraintType",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[239,47],"start":[239,33]}},"type":"Var","value":{"identifier":"ConstraintBend","moduleName":["Lattice","Services","Physics","Cloth"]}}],["restLength",{"annotation":{"meta":null,"sourceSpan":{"end":[240,39],"start":[240,29]}},"type":"Var","value":{"identifier":"skipLength","sourcePos":[216,11]}}],["stiffness",{"annotation":{"meta":null,"sourceSpan":{"end":[241,37],"start":[241,28]}},"type":"Var","value":{"identifier":"stiffness","sourcePos":[217,11]}}],["tearThreshold",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[242,39],"start":[242,32]}},"type":"Var","value":{"identifier":"Nothing","moduleName":["Data","Maybe"]}}]]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"identifier":"bendV"},{"annotation":{"meta":null,"sourceSpan":{"end":[230,16],"start":[219,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[220,30],"start":[220,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[220,22],"start":[220,20]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[220,30],"start":[220,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[220,19],"start":[220,18]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[220,30],"start":[220,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[220,29],"start":[220,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[220,25],"start":[220,24]}},"type":"Var","value":{"identifier":"h","sourcePos":[215,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[220,29],"start":[220,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[220,29],"start":[220,28]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[220,30],"start":[220,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[220,30],"start":[220,13]}},"argument":"r","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[221,30],"start":[221,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[221,22],"start":[221,20]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[221,30],"start":[221,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[221,19],"start":[221,18]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[221,30],"start":[221,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[221,29],"start":[221,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[221,25],"start":[221,24]}},"type":"Var","value":{"identifier":"w","sourcePos":[214,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[221,29],"start":[221,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[221,29],"start":[221,28]}},"type":"Literal","value":{"literalType":"IntLiteral","value":3}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[221,30],"start":[221,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[221,30],"start":[221,13]}},"argument":"c","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[230,16],"start":[222,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[230,16],"start":[223,15]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["id",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[223,66],"start":[223,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[223,28],"start":[223,21]}},"type":"Var","value":{"identifier":"clothId1","sourcePos":[211,32]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[223,66],"start":[223,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[223,66],"start":[223,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[223,38],"start":[223,32]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"_bh_"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[223,66],"start":[223,21]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[223,66],"start":[223,42]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[223,59],"start":[223,48]}},"type":"Var","value":{"identifier":"gridToIndex","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[223,61],"start":[223,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[223,61],"start":[223,60]}},"type":"Var","value":{"identifier":"r","sourcePos":[220,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[223,63],"start":[223,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[223,63],"start":[223,62]}},"type":"Var","value":{"identifier":"c","sourcePos":[221,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[223,65],"start":[223,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[223,65],"start":[223,64]}},"type":"Var","value":{"identifier":"w","sourcePos":[214,11]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"}],["indexA",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[224,36],"start":[224,25]}},"type":"Var","value":{"identifier":"gridToIndex","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[224,38],"start":[224,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[224,38],"start":[224,37]}},"type":"Var","value":{"identifier":"r","sourcePos":[220,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[224,40],"start":[224,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[224,40],"start":[224,39]}},"type":"Var","value":{"identifier":"c","sourcePos":[221,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[224,42],"start":[224,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[224,42],"start":[224,41]}},"type":"Var","value":{"identifier":"w","sourcePos":[214,11]}},"type":"App"}],["indexB",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[225,36],"start":[225,25]}},"type":"Var","value":{"identifier":"gridToIndex","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[225,38],"start":[225,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[225,38],"start":[225,37]}},"type":"Var","value":{"identifier":"r","sourcePos":[220,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[225,46],"start":[225,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[225,45],"start":[225,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[225,41],"start":[225,40]}},"type":"Var","value":{"identifier":"c","sourcePos":[221,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[225,45],"start":[225,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[225,45],"start":[225,44]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[225,48],"start":[225,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[225,48],"start":[225,47]}},"type":"Var","value":{"identifier":"w","sourcePos":[214,11]}},"type":"App"}],["constraintType",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[226,47],"start":[226,33]}},"type":"Var","value":{"identifier":"ConstraintBend","moduleName":["Lattice","Services","Physics","Cloth"]}}],["restLength",{"annotation":{"meta":null,"sourceSpan":{"end":[227,39],"start":[227,29]}},"type":"Var","value":{"identifier":"skipLength","sourcePos":[216,11]}}],["stiffness",{"annotation":{"meta":null,"sourceSpan":{"end":[228,37],"start":[228,28]}},"type":"Var","value":{"identifier":"stiffness","sourcePos":[217,11]}}],["tearThreshold",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[229,39],"start":[229,32]}},"type":"Var","value":{"identifier":"Nothing","moduleName":["Data","Maybe"]}}]]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"identifier":"bendH"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append1","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[244,24],"start":[244,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,15],"start":[244,10]}},"type":"Var","value":{"identifier":"bendH","sourcePos":[219,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[244,24],"start":[244,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,24],"start":[244,19]}},"type":"Var","value":{"identifier":"bendV","sourcePos":[232,11]}},"type":"App"},"type":"Let"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[213,14],"start":[213,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[244,24],"start":[211,1]}},"type":"Var","value":{"identifier":"config","sourcePos":[211,25]}},{"annotation":{"meta":null,"sourceSpan":{"end":[244,24],"start":[211,1]}},"type":"Var","value":{"identifier":"clothId","sourcePos":[211,32]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"generateBendConstraints"},{"annotation":{"meta":null,"sourceSpan":{"end":[247,73],"start":[247,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[247,73],"start":[247,1]}},"argument":"config","body":{"annotation":{"meta":null,"sourceSpan":{"end":[247,73],"start":[247,1]}},"argument":"clothId","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append1","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[251,44],"start":[249,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[249,32],"start":[249,3]}},"type":"Var","value":{"identifier":"generateStructuralConstraints","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[249,39],"start":[249,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[249,39],"start":[249,33]}},"type":"Var","value":{"identifier":"config","sourcePos":[248,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[249,47],"start":[249,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[249,47],"start":[249,40]}},"type":"Var","value":{"identifier":"clothId","sourcePos":[248,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[251,44],"start":[249,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append1","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[251,44],"start":[249,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[250,30],"start":[250,6]}},"type":"Var","value":{"identifier":"generateShearConstraints","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[250,37],"start":[250,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[250,37],"start":[250,31]}},"type":"Var","value":{"identifier":"config","sourcePos":[248,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[250,45],"start":[250,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[250,45],"start":[250,38]}},"type":"Var","value":{"identifier":"clothId","sourcePos":[248,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[251,44],"start":[249,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[251,29],"start":[251,6]}},"type":"Var","value":{"identifier":"generateBendConstraints","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[251,36],"start":[251,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[251,36],"start":[251,30]}},"type":"Var","value":{"identifier":"config","sourcePos":[248,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[251,44],"start":[251,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[251,44],"start":[251,37]}},"type":"Var","value":{"identifier":"clothId","sourcePos":[248,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"generateAllConstraints"},{"annotation":{"meta":null,"sourceSpan":{"end":[47,64],"start":[47,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"Eq$Dict","moduleName":["Data","Eq"]}},"annotation":{"meta":null,"sourceSpan":{"end":[47,64],"start":[47,1]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["eq",{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ConstraintStructural","moduleName":["Lattice","Services","Physics","Cloth"]},"typeName":{"identifier":"ClothConstraintType","moduleName":["Lattice","Services","Physics","Cloth"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ConstraintStructural","moduleName":["Lattice","Services","Physics","Cloth"]},"typeName":{"identifier":"ClothConstraintType","moduleName":["Lattice","Services","Physics","Cloth"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ConstraintShear","moduleName":["Lattice","Services","Physics","Cloth"]},"typeName":{"identifier":"ClothConstraintType","moduleName":["Lattice","Services","Physics","Cloth"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ConstraintShear","moduleName":["Lattice","Services","Physics","Cloth"]},"typeName":{"identifier":"ClothConstraintType","moduleName":["Lattice","Services","Physics","Cloth"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ConstraintBend","moduleName":["Lattice","Services","Physics","Cloth"]},"typeName":{"identifier":"ClothConstraintType","moduleName":["Lattice","Services","Physics","Cloth"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ConstraintBend","moduleName":["Lattice","Services","Physics","Cloth"]},"typeName":{"identifier":"ClothConstraintType","moduleName":["Lattice","Services","Physics","Cloth"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"x","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"y","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"}]]}},"type":"App"},"identifier":"eqClothConstraintType"},{"annotation":{"meta":null,"sourceSpan":{"end":[95,34],"start":[95,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[111,4],"start":[97,3]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["width",{"annotation":{"meta":null,"sourceSpan":{"end":[97,14],"start":[97,12]}},"type":"Literal","value":{"literalType":"IntLiteral","value":20}}],["height",{"annotation":{"meta":null,"sourceSpan":{"end":[98,15],"start":[98,13]}},"type":"Literal","value":{"literalType":"IntLiteral","value":20}}],["spacing",{"annotation":{"meta":null,"sourceSpan":{"end":[99,18],"start":[99,14]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":10}}],["originX",{"annotation":{"meta":null,"sourceSpan":{"end":[100,19],"start":[100,14]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":100}}],["originY",{"annotation":{"meta":null,"sourceSpan":{"end":[101,18],"start":[101,14]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":50}}],["particleMass",{"annotation":{"meta":null,"sourceSpan":{"end":[102,22],"start":[102,19]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}}],["structuralStiffness",{"annotation":{"meta":null,"sourceSpan":{"end":[103,29],"start":[103,26]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.9}}],["shearStiffness",{"annotation":{"meta":null,"sourceSpan":{"end":[104,24],"start":[104,21]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}}],["bendStiffness",{"annotation":{"meta":null,"sourceSpan":{"end":[105,23],"start":[105,20]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.3}}],["damping",{"annotation":{"meta":null,"sourceSpan":{"end":[106,18],"start":[106,14]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.98}}],["collisionRadius",{"annotation":{"meta":null,"sourceSpan":{"end":[107,25],"start":[107,22]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}}],["iterations",{"annotation":{"meta":null,"sourceSpan":{"end":[108,18],"start":[108,17]}},"type":"Literal","value":{"literalType":"IntLiteral","value":3}}],["tearThreshold",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[109,27],"start":[109,20]}},"type":"Var","value":{"identifier":"Nothing","moduleName":["Data","Maybe"]}}],["pinnedParticles",{"annotation":{"meta":null,"sourceSpan":{"end":[110,24],"start":[110,22]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}]]}},"identifier":"defaultClothConfig"},{"annotation":{"meta":null,"sourceSpan":{"end":[258,50],"start":[258,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[258,50],"start":[258,1]}},"argument":"constraint","body":{"annotation":{"meta":null,"sourceSpan":{"end":[258,50],"start":[258,1]}},"argument":"currentDist","body":{"annotation":{"meta":null,"sourceSpan":{"end":[262,70],"start":[260,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[261,12],"start":[261,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[261,21],"start":[261,16]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[262,19],"start":[262,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[262,19],"start":[262,10]}},"binderType":"VarBinder","identifier":"threshold"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[262,70],"start":[262,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[262,34],"start":[262,23]}},"type":"Var","value":{"identifier":"currentDist","sourcePos":[259,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[262,70],"start":[262,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Physics","Cloth"]}},"annotation":{"meta":null,"sourceSpan":{"end":[262,70],"start":[262,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[262,58],"start":[262,37]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[262,47],"start":[262,37]}},"type":"Var","value":{"identifier":"constraint","sourcePos":[259,1]}},"fieldName":"restLength","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[262,70],"start":[262,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[262,70],"start":[262,61]}},"type":"Var","value":{"identifier":"threshold","sourcePos":[262,10]}},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[260,32],"start":[260,8]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[260,18],"start":[260,8]}},"type":"Var","value":{"identifier":"constraint","sourcePos":[259,1]}},"fieldName":"tearThreshold","type":"Accessor"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"checkTear"}],"exports":["ConstraintStructural","ConstraintShear","ConstraintBend","defaultClothConfig","gridToIndex","indexToGrid","particlePosition","generateStructuralConstraints","generateShearConstraints","generateBendConstraints","generateAllConstraints","checkTear","eqClothConstraintType","showClothConstraintType"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[262,70],"start":[13,1]}},"moduleName":["Control","Applicative"]},{"annotation":{"meta":null,"sourceSpan":{"end":[262,70],"start":[13,1]}},"moduleName":["Control","Bind"]},{"annotation":{"meta":null,"sourceSpan":{"end":[262,70],"start":[13,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[262,70],"start":[13,1]}},"moduleName":["Data","Boolean"]},{"annotation":{"meta":null,"sourceSpan":{"end":[262,70],"start":[13,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[262,70],"start":[13,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[262,70],"start":[13,1]}},"moduleName":["Data","Int"]},{"annotation":{"meta":null,"sourceSpan":{"end":[262,70],"start":[13,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[262,70],"start":[13,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[262,70],"start":[13,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[262,70],"start":[13,1]}},"moduleName":["Data","Semigroup"]},{"annotation":{"meta":null,"sourceSpan":{"end":[262,70],"start":[13,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[262,70],"start":[13,1]}},"moduleName":["Data","Show"]},{"annotation":{"meta":null,"sourceSpan":{"end":[262,70],"start":[13,1]}},"moduleName":["Data","Tuple"]},{"annotation":{"meta":null,"sourceSpan":{"end":[262,70],"start":[13,1]}},"moduleName":["Lattice","Services","Physics","Cloth"]},{"annotation":{"meta":null,"sourceSpan":{"end":[262,70],"start":[13,1]}},"moduleName":["Math"]},{"annotation":{"meta":null,"sourceSpan":{"end":[29,15],"start":[29,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[262,70],"start":[13,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","Physics","Cloth"],"modulePath":"src/Lattice/Services/Physics/Cloth.purs","reExports":{},"sourceSpan":{"end":[262,70],"start":[13,1]}}