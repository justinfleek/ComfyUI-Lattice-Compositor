{"builtWith":"0.15.15","comments":[{"LineComment":" | Lattice.Services.Particles.Collision - Spatial Hashing and Collision Detection"},{"LineComment":" |"},{"LineComment":" | Pure mathematical functions for particle collision:"},{"LineComment":" | - Spatial hash grid construction"},{"LineComment":" | - Broad-phase neighbor queries"},{"LineComment":" | - Collision detection and response"},{"LineComment":" | - Environment collision (floor, ceiling, walls)"},{"LineComment":" |"},{"LineComment":" | All functions are total and deterministic."},{"LineComment":" |"},{"LineComment":" | Source: ui/src/services/particleSystem.ts (handleParticleCollisions)"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[197,14],"start":[197,13]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[197,17],"start":[197,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[198,27],"start":[198,26]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[198,35],"start":[198,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[198,22],"start":[198,21]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[198,35],"start":[198,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[200,25],"start":[200,23]}},"type":"Var","value":{"identifier":"conj","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[200,39],"start":[200,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"conj"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[200,14],"start":[200,13]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[200,39],"start":[200,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[200,32],"start":[200,31]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[200,39],"start":[200,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[205,18],"start":[205,17]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[205,23],"start":[205,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[243,46],"start":[243,43]}},"type":"Var","value":{"identifier":"negate","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[243,46],"start":[243,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"negate"},{"annotation":{"meta":null,"sourceSpan":{"end":[43,20],"start":[40,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[43,20],"start":[40,1]}},"constructorName":"ResponseBounce","fieldNames":[],"type":"Constructor","typeName":"CollisionResponse"},"identifier":"ResponseBounce"},{"annotation":{"meta":null,"sourceSpan":{"end":[43,20],"start":[40,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[43,20],"start":[40,1]}},"constructorName":"ResponseAbsorb","fieldNames":[],"type":"Constructor","typeName":"CollisionResponse"},"identifier":"ResponseAbsorb"},{"annotation":{"meta":null,"sourceSpan":{"end":[43,20],"start":[40,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[43,20],"start":[40,1]}},"constructorName":"ResponseExplode","fieldNames":[],"type":"Constructor","typeName":"CollisionResponse"},"identifier":"ResponseExplode"},{"annotation":{"meta":null,"sourceSpan":{"end":[50,43],"start":[47,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[50,43],"start":[47,1]}},"type":"Var","value":{"identifier":"Show$Dict","moduleName":["Data","Show"]}},"annotation":{"meta":null,"sourceSpan":{"end":[50,43],"start":[47,1]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[50,43],"start":[47,1]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["show",{"annotation":{"meta":null,"sourceSpan":{"end":[50,43],"start":[47,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[50,43],"start":[47,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[48,22],"start":[48,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ResponseBounce","moduleName":["Lattice","Services","Particles","Collision"]},"typeName":{"identifier":"CollisionResponse","moduleName":["Lattice","Services","Particles","Collision"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[48,41],"start":[48,25]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"ResponseBounce"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[49,22],"start":[49,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ResponseAbsorb","moduleName":["Lattice","Services","Particles","Collision"]},"typeName":{"identifier":"CollisionResponse","moduleName":["Lattice","Services","Particles","Collision"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[49,41],"start":[49,25]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"ResponseAbsorb"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[50,23],"start":[50,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ResponseExplode","moduleName":["Lattice","Services","Particles","Collision"]},"typeName":{"identifier":"CollisionResponse","moduleName":["Lattice","Services","Particles","Collision"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[50,43],"start":[50,26]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"ResponseExplode"}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[48,41],"start":[48,3]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"}]]}},"type":"App"},"identifier":"showCollisionResponse"},{"annotation":{"meta":null,"sourceSpan":{"end":[193,55],"start":[190,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[193,55],"start":[190,1]}},"argument":"x1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[193,55],"start":[190,1]}},"argument":"y1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[193,55],"start":[190,1]}},"argument":"x2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[193,55],"start":[190,1]}},"argument":"y2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[193,55],"start":[190,1]}},"argument":"minDist","body":{"annotation":{"meta":null,"sourceSpan":{"end":[211,40],"start":[195,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[197,17],"start":[197,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[197,17],"start":[197,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[197,12],"start":[197,10]}},"type":"Var","value":{"identifier":"y2","sourcePos":[194,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[197,17],"start":[197,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[197,17],"start":[197,15]}},"type":"Var","value":{"identifier":"y1","sourcePos":[194,1]}},"type":"App"},"identifier":"dy"},{"annotation":{"meta":null,"sourceSpan":{"end":[196,17],"start":[196,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[196,17],"start":[196,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[196,12],"start":[196,10]}},"type":"Var","value":{"identifier":"x2","sourcePos":[194,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[196,17],"start":[196,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[196,17],"start":[196,15]}},"type":"Var","value":{"identifier":"x1","sourcePos":[194,1]}},"type":"App"},"identifier":"dx"},{"annotation":{"meta":null,"sourceSpan":{"end":[198,36],"start":[198,5]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[198,16],"start":[198,12]}},"type":"Var","value":{"identifier":"sqrt","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[198,36],"start":[198,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[198,35],"start":[198,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[198,35],"start":[198,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[198,20],"start":[198,18]}},"type":"Var","value":{"identifier":"dx","sourcePos":[196,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[198,35],"start":[198,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[198,25],"start":[198,23]}},"type":"Var","value":{"identifier":"dx","sourcePos":[196,5]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[198,35],"start":[198,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[198,35],"start":[198,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[198,30],"start":[198,28]}},"type":"Var","value":{"identifier":"dy","sourcePos":[197,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[198,35],"start":[198,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[198,35],"start":[198,33]}},"type":"Var","value":{"identifier":"dy","sourcePos":[197,5]}},"type":"App"},"type":"App"},"type":"App"},"identifier":"dist"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[211,40],"start":[200,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[211,40],"start":[200,5]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[209,70],"start":[202,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[203,33],"start":[203,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[203,33],"start":[203,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[203,26],"start":[203,19]}},"type":"Var","value":{"identifier":"minDist","sourcePos":[194,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[203,33],"start":[203,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[203,33],"start":[203,29]}},"type":"Var","value":{"identifier":"dist","sourcePos":[198,5]}},"type":"App"},"identifier":"overlap"},{"annotation":{"meta":null,"sourceSpan":{"end":[205,23],"start":[205,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[205,23],"start":[205,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[205,16],"start":[205,14]}},"type":"Var","value":{"identifier":"dy","sourcePos":[197,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[205,23],"start":[205,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[205,23],"start":[205,19]}},"type":"Var","value":{"identifier":"dist","sourcePos":[198,5]}},"type":"App"},"identifier":"ny"},{"annotation":{"meta":null,"sourceSpan":{"end":[204,23],"start":[204,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[204,23],"start":[204,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[204,16],"start":[204,14]}},"type":"Var","value":{"identifier":"dx","sourcePos":[196,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[204,23],"start":[204,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[204,23],"start":[204,19]}},"type":"Var","value":{"identifier":"dist","sourcePos":[198,5]}},"type":"App"},"identifier":"nx"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[207,14],"start":[207,9]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[208,70],"start":[207,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[208,17],"start":[208,12]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[208,43],"start":[208,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[208,42],"start":[208,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[208,21],"start":[208,19]}},"type":"Var","value":{"identifier":"x1","sourcePos":[194,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[208,42],"start":[208,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[208,42],"start":[208,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[208,42],"start":[208,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[208,26],"start":[208,24]}},"type":"Var","value":{"identifier":"nx","sourcePos":[204,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[208,42],"start":[208,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[208,36],"start":[208,29]}},"type":"Var","value":{"identifier":"overlap","sourcePos":[203,9]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[208,42],"start":[208,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[208,42],"start":[208,39]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[208,69],"start":[208,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[208,68],"start":[208,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[208,47],"start":[208,45]}},"type":"Var","value":{"identifier":"y1","sourcePos":[194,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[208,68],"start":[208,45]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[208,68],"start":[208,45]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[208,68],"start":[208,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[208,52],"start":[208,50]}},"type":"Var","value":{"identifier":"ny","sourcePos":[205,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[208,68],"start":[208,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[208,62],"start":[208,55]}},"type":"Var","value":{"identifier":"overlap","sourcePos":[203,9]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[208,68],"start":[208,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[208,68],"start":[208,65]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[209,70],"start":[207,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[209,17],"start":[209,12]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[209,43],"start":[209,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[209,42],"start":[209,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[209,21],"start":[209,19]}},"type":"Var","value":{"identifier":"x2","sourcePos":[194,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[209,42],"start":[209,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[209,42],"start":[209,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[209,42],"start":[209,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[209,26],"start":[209,24]}},"type":"Var","value":{"identifier":"nx","sourcePos":[204,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[209,42],"start":[209,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[209,36],"start":[209,29]}},"type":"Var","value":{"identifier":"overlap","sourcePos":[203,9]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[209,42],"start":[209,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[209,42],"start":[209,39]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[209,69],"start":[209,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[209,68],"start":[209,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[209,47],"start":[209,45]}},"type":"Var","value":{"identifier":"y2","sourcePos":[194,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[209,68],"start":[209,45]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[209,68],"start":[209,45]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[209,68],"start":[209,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[209,52],"start":[209,50]}},"type":"Var","value":{"identifier":"ny","sourcePos":[205,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[209,68],"start":[209,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[209,62],"start":[209,55]}},"type":"Var","value":{"identifier":"overlap","sourcePos":[203,9]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[209,68],"start":[209,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[209,68],"start":[209,65]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[211,40],"start":[200,5]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[211,12],"start":[211,7]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[211,26],"start":[211,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[211,19],"start":[211,14]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[211,22],"start":[211,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[211,22],"start":[211,20]}},"type":"Var","value":{"identifier":"x1","sourcePos":[194,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[211,25],"start":[211,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[211,25],"start":[211,23]}},"type":"Var","value":{"identifier":"y1","sourcePos":[194,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[211,40],"start":[211,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[211,33],"start":[211,28]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[211,36],"start":[211,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[211,36],"start":[211,34]}},"type":"Var","value":{"identifier":"x2","sourcePos":[194,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[211,39],"start":[211,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[211,39],"start":[211,37]}},"type":"Var","value":{"identifier":"y2","sourcePos":[194,1]}},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[200,39],"start":[200,8]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[200,39],"start":[200,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[200,12],"start":[200,8]}},"type":"Var","value":{"identifier":"dist","sourcePos":[198,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[200,39],"start":[200,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[200,22],"start":[200,15]}},"type":"Var","value":{"identifier":"minDist","sourcePos":[194,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[200,39],"start":[200,8]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[200,39],"start":[200,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[200,30],"start":[200,26]}},"type":"Var","value":{"identifier":"dist","sourcePos":[198,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[200,39],"start":[200,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[200,39],"start":[200,33]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-4}},"type":"App"},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"separateOverlap"},{"annotation":{"meta":null,"sourceSpan":{"end":[174,111],"start":[174,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[174,111],"start":[174,1]}},"argument":"vx1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[174,111],"start":[174,1]}},"argument":"vy1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[174,111],"start":[174,1]}},"argument":"x1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[174,111],"start":[174,1]}},"argument":"y1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[174,111],"start":[174,1]}},"argument":"vx2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[174,111],"start":[174,1]}},"argument":"vy2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[174,111],"start":[174,1]}},"argument":"x2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[174,111],"start":[174,1]}},"argument":"y2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[187,4],"start":[176,3]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["collided",{"annotation":{"meta":null,"sourceSpan":{"end":[176,20],"start":[176,15]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}],["newVx1",{"annotation":{"meta":null,"sourceSpan":{"end":[177,16],"start":[177,13]}},"type":"Var","value":{"identifier":"vx1","sourcePos":[175,1]}}],["newVy1",{"annotation":{"meta":null,"sourceSpan":{"end":[178,16],"start":[178,13]}},"type":"Var","value":{"identifier":"vy1","sourcePos":[175,1]}}],["newVx2",{"annotation":{"meta":null,"sourceSpan":{"end":[179,16],"start":[179,13]}},"type":"Var","value":{"identifier":"vx2","sourcePos":[175,1]}}],["newVy2",{"annotation":{"meta":null,"sourceSpan":{"end":[180,16],"start":[180,13]}},"type":"Var","value":{"identifier":"vy2","sourcePos":[175,1]}}],["newX1",{"annotation":{"meta":null,"sourceSpan":{"end":[181,14],"start":[181,12]}},"type":"Var","value":{"identifier":"x1","sourcePos":[175,1]}}],["newY1",{"annotation":{"meta":null,"sourceSpan":{"end":[182,14],"start":[182,12]}},"type":"Var","value":{"identifier":"y1","sourcePos":[175,1]}}],["newX2",{"annotation":{"meta":null,"sourceSpan":{"end":[183,14],"start":[183,12]}},"type":"Var","value":{"identifier":"x2","sourcePos":[175,1]}}],["newY2",{"annotation":{"meta":null,"sourceSpan":{"end":[184,14],"start":[184,12]}},"type":"Var","value":{"identifier":"y2","sourcePos":[175,1]}}],["p1Killed",{"annotation":{"meta":null,"sourceSpan":{"end":[185,20],"start":[185,15]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}],["p2Killed",{"annotation":{"meta":null,"sourceSpan":{"end":[186,20],"start":[186,15]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}]]}},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"noCollision"},{"annotation":{"meta":null,"sourceSpan":{"end":[45,60],"start":[45,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"Eq$Dict","moduleName":["Data","Eq"]}},"annotation":{"meta":null,"sourceSpan":{"end":[45,60],"start":[45,1]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["eq",{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ResponseBounce","moduleName":["Lattice","Services","Particles","Collision"]},"typeName":{"identifier":"CollisionResponse","moduleName":["Lattice","Services","Particles","Collision"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ResponseBounce","moduleName":["Lattice","Services","Particles","Collision"]},"typeName":{"identifier":"CollisionResponse","moduleName":["Lattice","Services","Particles","Collision"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ResponseAbsorb","moduleName":["Lattice","Services","Particles","Collision"]},"typeName":{"identifier":"CollisionResponse","moduleName":["Lattice","Services","Particles","Collision"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ResponseAbsorb","moduleName":["Lattice","Services","Particles","Collision"]},"typeName":{"identifier":"CollisionResponse","moduleName":["Lattice","Services","Particles","Collision"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ResponseExplode","moduleName":["Lattice","Services","Particles","Collision"]},"typeName":{"identifier":"CollisionResponse","moduleName":["Lattice","Services","Particles","Collision"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ResponseExplode","moduleName":["Lattice","Services","Particles","Collision"]},"typeName":{"identifier":"CollisionResponse","moduleName":["Lattice","Services","Particles","Collision"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"x","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"y","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"}]]}},"type":"App"},"identifier":"eqCollisionResponse"},{"annotation":{"meta":null,"sourceSpan":{"end":[103,58],"start":[103,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[103,58],"start":[103,1]}},"argument":"size1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[103,58],"start":[103,1]}},"argument":"size2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[103,58],"start":[103,1]}},"argument":"radiusMult","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[105,64],"start":[105,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[105,31],"start":[105,4]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[105,31],"start":[105,4]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[105,9],"start":[105,4]}},"type":"Var","value":{"identifier":"size1","sourcePos":[104,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[105,31],"start":[105,4]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[105,18],"start":[105,12]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1000}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[105,31],"start":[105,4]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[105,31],"start":[105,21]}},"type":"Var","value":{"identifier":"radiusMult","sourcePos":[104,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[105,64],"start":[105,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[105,63],"start":[105,36]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[105,63],"start":[105,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[105,41],"start":[105,36]}},"type":"Var","value":{"identifier":"size2","sourcePos":[104,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[105,63],"start":[105,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[105,50],"start":[105,44]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1000}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[105,63],"start":[105,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[105,63],"start":[105,53]}},"type":"Var","value":{"identifier":"radiusMult","sourcePos":[104,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"collisionDistance"},{"annotation":{"meta":null,"sourceSpan":{"end":[241,55],"start":[238,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[241,55],"start":[238,1]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[241,55],"start":[238,1]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[241,55],"start":[238,1]}},"argument":"vx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[241,55],"start":[238,1]}},"argument":"vy","body":{"annotation":{"meta":null,"sourceSpan":{"end":[241,55],"start":[238,1]}},"argument":"bounciness","body":{"annotation":{"meta":null,"sourceSpan":{"end":[241,55],"start":[238,1]}},"argument":"friction","body":{"annotation":{"meta":null,"sourceSpan":{"end":[241,55],"start":[238,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[242,21],"start":[242,20]}},"binderType":"VarBinder","identifier":"x1"},{"annotation":{"meta":null,"sourceSpan":{"end":[242,23],"start":[242,22]}},"binderType":"VarBinder","identifier":"y1"},{"annotation":{"meta":null,"sourceSpan":{"end":[242,26],"start":[242,24]}},"binderType":"VarBinder","identifier":"vx1"},{"annotation":{"meta":null,"sourceSpan":{"end":[242,29],"start":[242,27]}},"binderType":"VarBinder","identifier":"vy1"},{"annotation":{"meta":null,"sourceSpan":{"end":[242,40],"start":[242,30]}},"binderType":"VarBinder","identifier":"bounciness1"},{"annotation":{"meta":null,"sourceSpan":{"end":[242,49],"start":[242,41]}},"binderType":"VarBinder","identifier":"friction1"}],"expressions":[{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[243,20],"start":[243,15]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[243,34],"start":[243,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[243,27],"start":[243,22]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[243,31],"start":[243,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,31],"start":[243,28]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[243,33],"start":[243,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,33],"start":[243,32]}},"type":"Var","value":{"identifier":"y1","sourcePos":[242,22]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[243,85],"start":[243,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[243,41],"start":[243,36]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[243,60],"start":[243,36]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[243,59],"start":[243,43]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"negate","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[243,46],"start":[243,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,46],"start":[243,44]}},"type":"Var","value":{"identifier":"vx1","sourcePos":[242,24]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[243,59],"start":[243,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,59],"start":[243,49]}},"type":"Var","value":{"identifier":"bounciness1","sourcePos":[242,30]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[243,84],"start":[243,36]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[243,83],"start":[243,62]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,64],"start":[243,62]}},"type":"Var","value":{"identifier":"vy1","sourcePos":[242,27]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[243,83],"start":[243,62]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[243,82],"start":[243,68]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,71],"start":[243,68]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[243,82],"start":[243,68]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,82],"start":[243,74]}},"type":"Var","value":{"identifier":"friction1","sourcePos":[242,41]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[243,12],"start":[243,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,6],"start":[243,5]}},"type":"Var","value":{"identifier":"x1","sourcePos":[242,20]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[243,12],"start":[243,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,12],"start":[243,9]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}},{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[244,20],"start":[244,15]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[244,34],"start":[244,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[244,27],"start":[244,22]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[244,31],"start":[244,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,31],"start":[244,28]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[244,33],"start":[244,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,33],"start":[244,32]}},"type":"Var","value":{"identifier":"y1","sourcePos":[242,22]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[244,85],"start":[244,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[244,41],"start":[244,36]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[244,60],"start":[244,36]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[244,59],"start":[244,43]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"negate","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[244,46],"start":[244,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,46],"start":[244,44]}},"type":"Var","value":{"identifier":"vx1","sourcePos":[242,24]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[244,59],"start":[244,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,59],"start":[244,49]}},"type":"Var","value":{"identifier":"bounciness1","sourcePos":[242,30]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[244,84],"start":[244,36]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[244,83],"start":[244,62]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,64],"start":[244,62]}},"type":"Var","value":{"identifier":"vy1","sourcePos":[242,27]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[244,83],"start":[244,62]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[244,82],"start":[244,68]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,71],"start":[244,68]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[244,82],"start":[244,68]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,82],"start":[244,74]}},"type":"Var","value":{"identifier":"friction1","sourcePos":[242,41]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[244,12],"start":[244,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,6],"start":[244,5]}},"type":"Var","value":{"identifier":"x1","sourcePos":[242,20]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[244,12],"start":[244,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,12],"start":[244,9]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"}},{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[245,22],"start":[245,17]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[245,34],"start":[245,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[245,29],"start":[245,24]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[245,31],"start":[245,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[245,31],"start":[245,30]}},"type":"Var","value":{"identifier":"x1","sourcePos":[242,20]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[245,33],"start":[245,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[245,33],"start":[245,32]}},"type":"Var","value":{"identifier":"y1","sourcePos":[242,22]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[245,48],"start":[245,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[245,41],"start":[245,36]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[245,44],"start":[245,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[245,44],"start":[245,42]}},"type":"Var","value":{"identifier":"vx1","sourcePos":[242,24]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[245,47],"start":[245,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[245,47],"start":[245,45]}},"type":"Var","value":{"identifier":"vy1","sourcePos":[242,27]}},"type":"App"},"type":"App"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[245,14],"start":[245,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[245,48],"start":[242,1]}},"type":"Var","value":{"identifier":"x","sourcePos":[242,20]}},{"annotation":{"meta":null,"sourceSpan":{"end":[245,48],"start":[242,1]}},"type":"Var","value":{"identifier":"y","sourcePos":[242,22]}},{"annotation":{"meta":null,"sourceSpan":{"end":[245,48],"start":[242,1]}},"type":"Var","value":{"identifier":"vx","sourcePos":[242,24]}},{"annotation":{"meta":null,"sourceSpan":{"end":[245,48],"start":[242,1]}},"type":"Var","value":{"identifier":"vy","sourcePos":[242,27]}},{"annotation":{"meta":null,"sourceSpan":{"end":[245,48],"start":[242,1]}},"type":"Var","value":{"identifier":"bounciness","sourcePos":[242,30]}},{"annotation":{"meta":null,"sourceSpan":{"end":[245,48],"start":[242,1]}},"type":"Var","value":{"identifier":"friction","sourcePos":[242,41]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"checkWallCollision"},{"annotation":{"meta":null,"sourceSpan":{"end":[114,58],"start":[110,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[114,58],"start":[110,1]}},"argument":"x1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[114,58],"start":[110,1]}},"argument":"y1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[114,58],"start":[110,1]}},"argument":"s1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[114,58],"start":[110,1]}},"argument":"x2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[114,58],"start":[110,1]}},"argument":"y2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[114,58],"start":[110,1]}},"argument":"s2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[114,58],"start":[110,1]}},"argument":"radiusMult","body":{"annotation":{"meta":null,"sourceSpan":{"end":[131,14],"start":[116,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[120,49],"start":[120,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[120,32],"start":[120,15]}},"type":"Var","value":{"identifier":"collisionDistance","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[120,35],"start":[120,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[120,35],"start":[120,33]}},"type":"Var","value":{"identifier":"s1","sourcePos":[115,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[120,38],"start":[120,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[120,38],"start":[120,36]}},"type":"Var","value":{"identifier":"s2","sourcePos":[115,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[120,49],"start":[120,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[120,49],"start":[120,39]}},"type":"Var","value":{"identifier":"radiusMult","sourcePos":[115,1]}},"type":"App"},"identifier":"minDist"},{"annotation":{"meta":null,"sourceSpan":{"end":[118,17],"start":[118,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[118,17],"start":[118,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[118,12],"start":[118,10]}},"type":"Var","value":{"identifier":"y2","sourcePos":[115,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[118,17],"start":[118,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[118,17],"start":[118,15]}},"type":"Var","value":{"identifier":"y1","sourcePos":[115,1]}},"type":"App"},"identifier":"dy"},{"annotation":{"meta":null,"sourceSpan":{"end":[117,17],"start":[117,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[117,17],"start":[117,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[117,12],"start":[117,10]}},"type":"Var","value":{"identifier":"x2","sourcePos":[115,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[117,17],"start":[117,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[117,17],"start":[117,15]}},"type":"Var","value":{"identifier":"x1","sourcePos":[115,1]}},"type":"App"},"identifier":"dx"},{"annotation":{"meta":null,"sourceSpan":{"end":[119,31],"start":[119,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[119,31],"start":[119,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[119,31],"start":[119,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,16],"start":[119,14]}},"type":"Var","value":{"identifier":"dx","sourcePos":[117,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[119,31],"start":[119,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,21],"start":[119,19]}},"type":"Var","value":{"identifier":"dx","sourcePos":[117,5]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[119,31],"start":[119,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[119,31],"start":[119,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,26],"start":[119,24]}},"type":"Var","value":{"identifier":"dy","sourcePos":[118,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[119,31],"start":[119,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,31],"start":[119,29]}},"type":"Var","value":{"identifier":"dy","sourcePos":[118,5]}},"type":"App"},"type":"App"},"identifier":"distSq"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[131,14],"start":[122,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[131,14],"start":[122,5]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[129,30],"start":[124,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[125,27],"start":[125,9]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[125,20],"start":[125,16]}},"type":"Var","value":{"identifier":"sqrt","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[125,27],"start":[125,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,27],"start":[125,21]}},"type":"Var","value":{"identifier":"distSq","sourcePos":[119,5]}},"type":"App"},"identifier":"dist"},{"annotation":{"meta":null,"sourceSpan":{"end":[126,23],"start":[126,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[126,23],"start":[126,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,16],"start":[126,14]}},"type":"Var","value":{"identifier":"dx","sourcePos":[117,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[126,23],"start":[126,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,23],"start":[126,19]}},"type":"Var","value":{"identifier":"dist","sourcePos":[125,9]}},"type":"App"},"identifier":"nx"},{"annotation":{"meta":null,"sourceSpan":{"end":[127,23],"start":[127,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[127,23],"start":[127,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,16],"start":[127,14]}},"type":"Var","value":{"identifier":"dy","sourcePos":[118,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[127,23],"start":[127,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,23],"start":[127,19]}},"type":"Var","value":{"identifier":"dist","sourcePos":[125,9]}},"type":"App"},"identifier":"ny"}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[129,13],"start":[129,9]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[129,30],"start":[129,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,30],"start":[129,14]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["dist",{"annotation":{"meta":null,"sourceSpan":{"end":[129,20],"start":[129,16]}},"type":"Var","value":{"identifier":"dist","sourcePos":[125,9]}}],["nx",{"annotation":{"meta":null,"sourceSpan":{"end":[129,24],"start":[129,22]}},"type":"Var","value":{"identifier":"nx","sourcePos":[126,9]}}],["ny",{"annotation":{"meta":null,"sourceSpan":{"end":[129,28],"start":[129,26]}},"type":"Var","value":{"identifier":"ny","sourcePos":[127,9]}}]]}},"type":"App"},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[131,14],"start":[122,5]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[131,14],"start":[131,7]}},"type":"Var","value":{"identifier":"Nothing","moduleName":["Data","Maybe"]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[122,55],"start":[122,8]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[122,55],"start":[122,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[122,14],"start":[122,8]}},"type":"Var","value":{"identifier":"distSq","sourcePos":[119,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[122,55],"start":[122,8]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[122,55],"start":[122,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[122,24],"start":[122,17]}},"type":"Var","value":{"identifier":"minDist","sourcePos":[120,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[122,55],"start":[122,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[122,34],"start":[122,27]}},"type":"Var","value":{"identifier":"minDist","sourcePos":[120,5]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[122,55],"start":[122,8]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[122,55],"start":[122,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[122,44],"start":[122,38]}},"type":"Var","value":{"identifier":"distSq","sourcePos":[119,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[122,55],"start":[122,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[122,55],"start":[122,47]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-6}},"type":"App"},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"checkPairCollision"},{"annotation":{"meta":null,"sourceSpan":{"end":[221,55],"start":[218,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[221,55],"start":[218,1]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[221,55],"start":[218,1]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[221,55],"start":[218,1]}},"argument":"vx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[221,55],"start":[218,1]}},"argument":"vy","body":{"annotation":{"meta":null,"sourceSpan":{"end":[221,55],"start":[218,1]}},"argument":"floorY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[221,55],"start":[218,1]}},"argument":"bounciness","body":{"annotation":{"meta":null,"sourceSpan":{"end":[221,55],"start":[218,1]}},"argument":"friction","body":{"annotation":{"meta":null,"sourceSpan":{"end":[225,39],"start":[223,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[225,39],"start":[223,3]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[224,13],"start":[224,8]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[224,30],"start":[224,8]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[224,20],"start":[224,15]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[224,22],"start":[224,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[224,22],"start":[224,21]}},"type":"Var","value":{"identifier":"x","sourcePos":[222,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[224,29],"start":[224,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[224,29],"start":[224,23]}},"type":"Var","value":{"identifier":"floorY","sourcePos":[222,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[224,81],"start":[224,8]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[224,37],"start":[224,32]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[224,61],"start":[224,32]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[224,60],"start":[224,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[224,41],"start":[224,39]}},"type":"Var","value":{"identifier":"vx","sourcePos":[222,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[224,60],"start":[224,39]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[224,59],"start":[224,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[224,48],"start":[224,45]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[224,59],"start":[224,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[224,59],"start":[224,51]}},"type":"Var","value":{"identifier":"friction","sourcePos":[222,1]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[224,80],"start":[224,32]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[224,79],"start":[224,63]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"negate","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[224,66],"start":[224,63]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[224,66],"start":[224,64]}},"type":"Var","value":{"identifier":"vy","sourcePos":[222,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[224,79],"start":[224,63]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[224,79],"start":[224,69]}},"type":"Var","value":{"identifier":"bounciness","sourcePos":[222,1]}},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[225,39],"start":[223,3]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[225,13],"start":[225,8]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[225,25],"start":[225,8]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[225,20],"start":[225,15]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[225,22],"start":[225,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[225,22],"start":[225,21]}},"type":"Var","value":{"identifier":"x","sourcePos":[222,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[225,24],"start":[225,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[225,24],"start":[225,23]}},"type":"Var","value":{"identifier":"y","sourcePos":[222,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[225,39],"start":[225,8]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[225,32],"start":[225,27]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[225,35],"start":[225,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[225,35],"start":[225,33]}},"type":"Var","value":{"identifier":"vx","sourcePos":[222,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[225,38],"start":[225,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[225,38],"start":[225,36]}},"type":"Var","value":{"identifier":"vy","sourcePos":[222,1]}},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[223,16],"start":[223,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[223,7],"start":[223,6]}},"type":"Var","value":{"identifier":"y","sourcePos":[222,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[223,16],"start":[223,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[223,16],"start":[223,10]}},"type":"Var","value":{"identifier":"floorY","sourcePos":[222,1]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"checkFloorCollision"},{"annotation":{"meta":null,"sourceSpan":{"end":[231,55],"start":[228,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[231,55],"start":[228,1]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[231,55],"start":[228,1]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[231,55],"start":[228,1]}},"argument":"vx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[231,55],"start":[228,1]}},"argument":"vy","body":{"annotation":{"meta":null,"sourceSpan":{"end":[231,55],"start":[228,1]}},"argument":"ceilingY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[231,55],"start":[228,1]}},"argument":"bounciness","body":{"annotation":{"meta":null,"sourceSpan":{"end":[231,55],"start":[228,1]}},"argument":"friction","body":{"annotation":{"meta":null,"sourceSpan":{"end":[235,39],"start":[233,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[235,39],"start":[233,3]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[234,13],"start":[234,8]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[234,32],"start":[234,8]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[234,20],"start":[234,15]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[234,22],"start":[234,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[234,22],"start":[234,21]}},"type":"Var","value":{"identifier":"x","sourcePos":[232,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[234,31],"start":[234,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[234,31],"start":[234,23]}},"type":"Var","value":{"identifier":"ceilingY","sourcePos":[232,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[234,83],"start":[234,8]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[234,39],"start":[234,34]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[234,63],"start":[234,34]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[234,62],"start":[234,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[234,43],"start":[234,41]}},"type":"Var","value":{"identifier":"vx","sourcePos":[232,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[234,62],"start":[234,41]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[234,61],"start":[234,47]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[234,50],"start":[234,47]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[234,61],"start":[234,47]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[234,61],"start":[234,53]}},"type":"Var","value":{"identifier":"friction","sourcePos":[232,1]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[234,82],"start":[234,34]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[234,81],"start":[234,65]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"negate","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[234,68],"start":[234,65]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[234,68],"start":[234,66]}},"type":"Var","value":{"identifier":"vy","sourcePos":[232,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[234,81],"start":[234,65]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[234,81],"start":[234,71]}},"type":"Var","value":{"identifier":"bounciness","sourcePos":[232,1]}},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[235,39],"start":[233,3]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[235,13],"start":[235,8]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[235,25],"start":[235,8]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[235,20],"start":[235,15]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[235,22],"start":[235,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[235,22],"start":[235,21]}},"type":"Var","value":{"identifier":"x","sourcePos":[232,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[235,24],"start":[235,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[235,24],"start":[235,23]}},"type":"Var","value":{"identifier":"y","sourcePos":[232,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[235,39],"start":[235,8]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[235,32],"start":[235,27]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[235,35],"start":[235,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[235,35],"start":[235,33]}},"type":"Var","value":{"identifier":"vx","sourcePos":[232,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[235,38],"start":[235,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[235,38],"start":[235,36]}},"type":"Var","value":{"identifier":"vy","sourcePos":[232,1]}},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[233,18],"start":[233,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[233,7],"start":[233,6]}},"type":"Var","value":{"identifier":"y","sourcePos":[232,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[233,18],"start":[233,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[233,18],"start":[233,10]}},"type":"Var","value":{"identifier":"ceilingY","sourcePos":[232,1]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"checkCeilingCollision"},{"annotation":{"meta":null,"sourceSpan":{"end":[89,55],"start":[89,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[89,55],"start":[89,1]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[89,55],"start":[89,1]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[89,55],"start":[89,1]}},"argument":"cellSize","body":{"annotation":{"meta":null,"sourceSpan":{"end":[96,16],"start":[91,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[92,38],"start":[92,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[92,23],"start":[92,20]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[92,29],"start":[92,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[92,29],"start":[92,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-3}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[92,38],"start":[92,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[92,38],"start":[92,30]}},"type":"Var","value":{"identifier":"cellSize","sourcePos":[90,1]}},"type":"App"},"identifier":"safeCellSize"},{"annotation":{"meta":null,"sourceSpan":{"end":[94,34],"start":[94,5]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[94,15],"start":[94,10]}},"type":"Var","value":{"identifier":"floor","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[94,34],"start":[94,10]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[94,33],"start":[94,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,18],"start":[94,17]}},"type":"Var","value":{"identifier":"y","sourcePos":[90,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[94,33],"start":[94,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,33],"start":[94,21]}},"type":"Var","value":{"identifier":"safeCellSize","sourcePos":[92,5]}},"type":"App"},"type":"App"},"identifier":"cy"},{"annotation":{"meta":null,"sourceSpan":{"end":[93,34],"start":[93,5]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[93,15],"start":[93,10]}},"type":"Var","value":{"identifier":"floor","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[93,34],"start":[93,10]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[93,33],"start":[93,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[93,18],"start":[93,17]}},"type":"Var","value":{"identifier":"x","sourcePos":[90,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[93,33],"start":[93,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[93,33],"start":[93,21]}},"type":"Var","value":{"identifier":"safeCellSize","sourcePos":[92,5]}},"type":"App"},"type":"App"},"identifier":"cx"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[96,10],"start":[96,5]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[96,13],"start":[96,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[96,13],"start":[96,11]}},"type":"Var","value":{"identifier":"cx","sourcePos":[93,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[96,16],"start":[96,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[96,16],"start":[96,14]}},"type":"Var","value":{"identifier":"cy","sourcePos":[94,5]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"cellKey"},{"annotation":{"meta":null,"sourceSpan":{"end":[143,21],"start":[138,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[143,21],"start":[138,1]}},"argument":"vx1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[143,21],"start":[138,1]}},"argument":"vy1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[143,21],"start":[138,1]}},"argument":"x1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[143,21],"start":[138,1]}},"argument":"y1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[143,21],"start":[138,1]}},"argument":"vx2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[143,21],"start":[138,1]}},"argument":"vy2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[143,21],"start":[138,1]}},"argument":"x2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[143,21],"start":[138,1]}},"argument":"y2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[143,21],"start":[138,1]}},"argument":"nx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[143,21],"start":[138,1]}},"argument":"ny","body":{"annotation":{"meta":null,"sourceSpan":{"end":[143,21],"start":[138,1]}},"argument":"minDist","body":{"annotation":{"meta":null,"sourceSpan":{"end":[143,21],"start":[138,1]}},"argument":"damping","body":{"annotation":{"meta":null,"sourceSpan":{"end":[171,46],"start":[145,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[147,20],"start":[147,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,20],"start":[147,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,14],"start":[147,11]}},"type":"Var","value":{"identifier":"vy1","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[147,20],"start":[147,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,20],"start":[147,17]}},"type":"Var","value":{"identifier":"vy2","sourcePos":[144,1]}},"type":"App"},"identifier":"dvy"},{"annotation":{"meta":null,"sourceSpan":{"end":[146,20],"start":[146,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[146,20],"start":[146,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[146,14],"start":[146,11]}},"type":"Var","value":{"identifier":"vx1","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[146,20],"start":[146,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[146,20],"start":[146,17]}},"type":"Var","value":{"identifier":"vx2","sourcePos":[144,1]}},"type":"App"},"identifier":"dvx"},{"annotation":{"meta":null,"sourceSpan":{"end":[148,33],"start":[148,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[148,33],"start":[148,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[148,33],"start":[148,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[148,17],"start":[148,14]}},"type":"Var","value":{"identifier":"dvx","sourcePos":[146,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[148,33],"start":[148,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[148,22],"start":[148,20]}},"type":"Var","value":{"identifier":"nx","sourcePos":[144,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[148,33],"start":[148,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[148,33],"start":[148,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[148,28],"start":[148,25]}},"type":"Var","value":{"identifier":"dvy","sourcePos":[147,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[148,33],"start":[148,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[148,33],"start":[148,31]}},"type":"Var","value":{"identifier":"ny","sourcePos":[144,1]}},"type":"App"},"type":"App"},"identifier":"dvDotN"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[171,46],"start":[150,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[171,46],"start":[150,5]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[169,10],"start":[152,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[154,41],"start":[154,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[154,41],"start":[154,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[154,41],"start":[154,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,26],"start":[154,20]}},"type":"Var","value":{"identifier":"dvDotN","sourcePos":[148,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[154,41],"start":[154,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,31],"start":[154,29]}},"type":"Var","value":{"identifier":"ny","sourcePos":[144,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[154,41],"start":[154,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,41],"start":[154,34]}},"type":"Var","value":{"identifier":"damping","sourcePos":[144,1]}},"type":"App"},"identifier":"impulseY"},{"annotation":{"meta":null,"sourceSpan":{"end":[153,41],"start":[153,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[153,41],"start":[153,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[153,41],"start":[153,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,26],"start":[153,20]}},"type":"Var","value":{"identifier":"dvDotN","sourcePos":[148,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[153,41],"start":[153,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,31],"start":[153,29]}},"type":"Var","value":{"identifier":"nx","sourcePos":[144,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[153,41],"start":[153,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,41],"start":[153,34]}},"type":"Var","value":{"identifier":"damping","sourcePos":[144,1]}},"type":"App"},"identifier":"impulseX"},{"annotation":{"meta":null,"sourceSpan":{"end":[155,68],"start":[155,9]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[155,20],"start":[155,16]}},"type":"Var","value":{"identifier":"sqrt","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,68],"start":[155,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,67],"start":[155,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,67],"start":[155,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,30],"start":[155,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,25],"start":[155,23]}},"type":"Var","value":{"identifier":"x2","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[155,30],"start":[155,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,30],"start":[155,28]}},"type":"Var","value":{"identifier":"x1","sourcePos":[144,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[155,67],"start":[155,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,42],"start":[155,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,37],"start":[155,35]}},"type":"Var","value":{"identifier":"x2","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[155,42],"start":[155,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,42],"start":[155,40]}},"type":"Var","value":{"identifier":"x1","sourcePos":[144,1]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[155,67],"start":[155,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,67],"start":[155,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,54],"start":[155,47]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,49],"start":[155,47]}},"type":"Var","value":{"identifier":"y2","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[155,54],"start":[155,47]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,54],"start":[155,52]}},"type":"Var","value":{"identifier":"y1","sourcePos":[144,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[155,67],"start":[155,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,66],"start":[155,59]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,61],"start":[155,59]}},"type":"Var","value":{"identifier":"y2","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[155,66],"start":[155,59]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,66],"start":[155,64]}},"type":"Var","value":{"identifier":"y1","sourcePos":[144,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"identifier":"dist"},{"annotation":{"meta":null,"sourceSpan":{"end":[156,64],"start":[156,9]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[156,64],"start":[156,19]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[156,64],"start":[156,19]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[156,55],"start":[156,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[156,48],"start":[156,41]}},"type":"Var","value":{"identifier":"minDist","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[156,55],"start":[156,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[156,55],"start":[156,51]}},"type":"Var","value":{"identifier":"dist","sourcePos":[155,9]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[156,64],"start":[156,19]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[156,64],"start":[156,61]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[156,35],"start":[156,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[156,26],"start":[156,22]}},"type":"Var","value":{"identifier":"dist","sourcePos":[155,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[156,35],"start":[156,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[156,35],"start":[156,29]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-4}},"type":"App"}],"type":"Case"},"identifier":"overlap"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[169,10],"start":[158,9]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["collided",{"annotation":{"meta":null,"sourceSpan":{"end":[158,25],"start":[158,21]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}}],["newVx1",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[159,33],"start":[159,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[159,22],"start":[159,19]}},"type":"Var","value":{"identifier":"vx1","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[159,33],"start":[159,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[159,33],"start":[159,25]}},"type":"Var","value":{"identifier":"impulseX","sourcePos":[153,9]}},"type":"App"}],["newVy1",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[160,33],"start":[160,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[160,22],"start":[160,19]}},"type":"Var","value":{"identifier":"vy1","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[160,33],"start":[160,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[160,33],"start":[160,25]}},"type":"Var","value":{"identifier":"impulseY","sourcePos":[154,9]}},"type":"App"}],["newVx2",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[161,33],"start":[161,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[161,22],"start":[161,19]}},"type":"Var","value":{"identifier":"vx2","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[161,33],"start":[161,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[161,33],"start":[161,25]}},"type":"Var","value":{"identifier":"impulseX","sourcePos":[153,9]}},"type":"App"}],["newVy2",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[162,33],"start":[162,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,22],"start":[162,19]}},"type":"Var","value":{"identifier":"vy2","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[162,33],"start":[162,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,33],"start":[162,25]}},"type":"Var","value":{"identifier":"impulseY","sourcePos":[154,9]}},"type":"App"}],["newX1",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[163,41],"start":[163,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,20],"start":[163,18]}},"type":"Var","value":{"identifier":"x1","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[163,41],"start":[163,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[163,41],"start":[163,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[163,41],"start":[163,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,25],"start":[163,23]}},"type":"Var","value":{"identifier":"nx","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[163,41],"start":[163,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,35],"start":[163,28]}},"type":"Var","value":{"identifier":"overlap","sourcePos":[156,9]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[163,41],"start":[163,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,41],"start":[163,38]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"type":"App"}],["newY1",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[164,41],"start":[164,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,20],"start":[164,18]}},"type":"Var","value":{"identifier":"y1","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[164,41],"start":[164,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[164,41],"start":[164,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[164,41],"start":[164,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,25],"start":[164,23]}},"type":"Var","value":{"identifier":"ny","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[164,41],"start":[164,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,35],"start":[164,28]}},"type":"Var","value":{"identifier":"overlap","sourcePos":[156,9]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[164,41],"start":[164,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,41],"start":[164,38]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"type":"App"}],["newX2",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[165,41],"start":[165,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[165,20],"start":[165,18]}},"type":"Var","value":{"identifier":"x2","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[165,41],"start":[165,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[165,41],"start":[165,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[165,41],"start":[165,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[165,25],"start":[165,23]}},"type":"Var","value":{"identifier":"nx","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[165,41],"start":[165,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[165,35],"start":[165,28]}},"type":"Var","value":{"identifier":"overlap","sourcePos":[156,9]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[165,41],"start":[165,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[165,41],"start":[165,38]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"type":"App"}],["newY2",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[166,41],"start":[166,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,20],"start":[166,18]}},"type":"Var","value":{"identifier":"y2","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[166,41],"start":[166,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[166,41],"start":[166,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[166,41],"start":[166,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,25],"start":[166,23]}},"type":"Var","value":{"identifier":"ny","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[166,41],"start":[166,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,35],"start":[166,28]}},"type":"Var","value":{"identifier":"overlap","sourcePos":[156,9]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[166,41],"start":[166,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,41],"start":[166,38]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"type":"App"}],["p1Killed",{"annotation":{"meta":null,"sourceSpan":{"end":[167,26],"start":[167,21]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}],["p2Killed",{"annotation":{"meta":null,"sourceSpan":{"end":[168,26],"start":[168,21]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}]]}},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[171,46],"start":[150,5]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[171,18],"start":[171,7]}},"type":"Var","value":{"identifier":"noCollision","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[171,22],"start":[171,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,22],"start":[171,19]}},"type":"Var","value":{"identifier":"vx1","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[171,26],"start":[171,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,26],"start":[171,23]}},"type":"Var","value":{"identifier":"vy1","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[171,29],"start":[171,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,29],"start":[171,27]}},"type":"Var","value":{"identifier":"x1","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[171,32],"start":[171,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,32],"start":[171,30]}},"type":"Var","value":{"identifier":"y1","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[171,36],"start":[171,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,36],"start":[171,33]}},"type":"Var","value":{"identifier":"vx2","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[171,40],"start":[171,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,40],"start":[171,37]}},"type":"Var","value":{"identifier":"vy2","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[171,43],"start":[171,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,43],"start":[171,41]}},"type":"Var","value":{"identifier":"x2","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[171,46],"start":[171,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,46],"start":[171,44]}},"type":"Var","value":{"identifier":"y2","sourcePos":[144,1]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[150,20],"start":[150,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,14],"start":[150,8]}},"type":"Var","value":{"identifier":"dvDotN","sourcePos":[148,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[150,20],"start":[150,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,20],"start":[150,17]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"bounceResponse"},{"annotation":{"meta":null,"sourceSpan":{"end":[251,55],"start":[248,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[251,55],"start":[248,1]}},"argument":"cfg","body":{"annotation":{"meta":null,"sourceSpan":{"end":[251,55],"start":[248,1]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[251,55],"start":[248,1]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[251,55],"start":[248,1]}},"argument":"vx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[251,55],"start":[248,1]}},"argument":"vy","body":{"annotation":{"meta":null,"sourceSpan":{"end":[257,43],"start":[254,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[251,55],"start":[248,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[257,43],"start":[255,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[257,43],"start":[255,7]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[256,31],"start":[256,12]}},"type":"Var","value":{"identifier":"checkFloorCollision","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[256,33],"start":[256,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[256,33],"start":[256,32]}},"type":"Var","value":{"identifier":"x","sourcePos":[252,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[256,35],"start":[256,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[256,35],"start":[256,34]}},"type":"Var","value":{"identifier":"y","sourcePos":[252,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[256,38],"start":[256,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[256,38],"start":[256,36]}},"type":"Var","value":{"identifier":"vx","sourcePos":[252,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[256,41],"start":[256,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[256,41],"start":[256,39]}},"type":"Var","value":{"identifier":"vy","sourcePos":[252,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[256,52],"start":[256,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[256,52],"start":[256,42]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[256,45],"start":[256,42]}},"type":"Var","value":{"identifier":"cfg","sourcePos":[252,1]}},"fieldName":"floorY","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[256,67],"start":[256,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[256,67],"start":[256,53]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[256,56],"start":[256,53]}},"type":"Var","value":{"identifier":"cfg","sourcePos":[252,1]}},"fieldName":"bounciness","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[256,80],"start":[256,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[256,80],"start":[256,68]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[256,71],"start":[256,68]}},"type":"Var","value":{"identifier":"cfg","sourcePos":[252,1]}},"fieldName":"friction","type":"Accessor"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[257,43],"start":[255,7]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[257,17],"start":[257,12]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[257,29],"start":[257,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[257,24],"start":[257,19]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[257,26],"start":[257,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[257,26],"start":[257,25]}},"type":"Var","value":{"identifier":"x","sourcePos":[252,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[257,28],"start":[257,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[257,28],"start":[257,27]}},"type":"Var","value":{"identifier":"y","sourcePos":[252,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[257,43],"start":[257,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[257,36],"start":[257,31]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[257,39],"start":[257,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[257,39],"start":[257,37]}},"type":"Var","value":{"identifier":"vx","sourcePos":[252,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[257,42],"start":[257,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[257,42],"start":[257,40]}},"type":"Var","value":{"identifier":"vy","sourcePos":[252,1]}},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[255,26],"start":[255,10]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[255,13],"start":[255,10]}},"type":"Var","value":{"identifier":"cfg","sourcePos":[252,1]}},"fieldName":"floorEnabled","type":"Accessor"}],"type":"Case"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[257,43],"start":[254,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[254,40],"start":[254,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[254,23],"start":[254,12]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[254,20],"start":[254,18]}},"binderType":"VarBinder","identifier":"x1"},{"annotation":{"meta":null,"sourceSpan":{"end":[254,23],"start":[254,21]}},"binderType":"VarBinder","identifier":"y1"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[254,39],"start":[254,26]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[254,35],"start":[254,32]}},"binderType":"VarBinder","identifier":"vx1"},{"annotation":{"meta":null,"sourceSpan":{"end":[254,39],"start":[254,36]}},"binderType":"VarBinder","identifier":"vy1"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[262,47],"start":[259,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[251,55],"start":[248,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[262,47],"start":[260,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[262,47],"start":[260,7]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[261,33],"start":[261,12]}},"type":"Var","value":{"identifier":"checkCeilingCollision","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[261,36],"start":[261,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[261,36],"start":[261,34]}},"type":"Var","value":{"identifier":"x1","sourcePos":[254,18]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[261,39],"start":[261,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[261,39],"start":[261,37]}},"type":"Var","value":{"identifier":"y1","sourcePos":[254,21]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[261,43],"start":[261,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[261,43],"start":[261,40]}},"type":"Var","value":{"identifier":"vx1","sourcePos":[254,32]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[261,47],"start":[261,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[261,47],"start":[261,44]}},"type":"Var","value":{"identifier":"vy1","sourcePos":[254,36]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[261,60],"start":[261,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[261,60],"start":[261,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[261,51],"start":[261,48]}},"type":"Var","value":{"identifier":"cfg","sourcePos":[252,1]}},"fieldName":"ceilingY","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[261,75],"start":[261,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[261,75],"start":[261,61]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[261,64],"start":[261,61]}},"type":"Var","value":{"identifier":"cfg","sourcePos":[252,1]}},"fieldName":"bounciness","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[261,88],"start":[261,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[261,88],"start":[261,76]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[261,79],"start":[261,76]}},"type":"Var","value":{"identifier":"cfg","sourcePos":[252,1]}},"fieldName":"friction","type":"Accessor"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[262,47],"start":[260,7]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[262,17],"start":[262,12]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[262,31],"start":[262,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[262,24],"start":[262,19]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[262,27],"start":[262,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[262,27],"start":[262,25]}},"type":"Var","value":{"identifier":"x1","sourcePos":[254,18]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[262,30],"start":[262,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[262,30],"start":[262,28]}},"type":"Var","value":{"identifier":"y1","sourcePos":[254,21]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[262,47],"start":[262,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[262,38],"start":[262,33]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[262,42],"start":[262,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[262,42],"start":[262,39]}},"type":"Var","value":{"identifier":"vx1","sourcePos":[254,32]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[262,46],"start":[262,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[262,46],"start":[262,43]}},"type":"Var","value":{"identifier":"vy1","sourcePos":[254,36]}},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[260,28],"start":[260,10]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[260,13],"start":[260,10]}},"type":"Var","value":{"identifier":"cfg","sourcePos":[252,1]}},"fieldName":"ceilingEnabled","type":"Accessor"}],"type":"Case"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[262,47],"start":[259,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[259,40],"start":[259,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[259,23],"start":[259,12]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[259,20],"start":[259,18]}},"binderType":"VarBinder","identifier":"x2"},{"annotation":{"meta":null,"sourceSpan":{"end":[259,23],"start":[259,21]}},"binderType":"VarBinder","identifier":"y2"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[259,39],"start":[259,26]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[259,35],"start":[259,32]}},"binderType":"VarBinder","identifier":"vx2"},{"annotation":{"meta":null,"sourceSpan":{"end":[259,39],"start":[259,36]}},"binderType":"VarBinder","identifier":"vy2"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[267,47],"start":[264,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[251,55],"start":[248,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[267,47],"start":[265,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[267,47],"start":[265,7]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[266,30],"start":[266,12]}},"type":"Var","value":{"identifier":"checkWallCollision","moduleName":["Lattice","Services","Particles","Collision"]}},"annotation":{"meta":null,"sourceSpan":{"end":[266,33],"start":[266,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[266,33],"start":[266,31]}},"type":"Var","value":{"identifier":"x2","sourcePos":[259,18]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[266,36],"start":[266,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[266,36],"start":[266,34]}},"type":"Var","value":{"identifier":"y2","sourcePos":[259,21]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[266,40],"start":[266,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[266,40],"start":[266,37]}},"type":"Var","value":{"identifier":"vx2","sourcePos":[259,32]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[266,44],"start":[266,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[266,44],"start":[266,41]}},"type":"Var","value":{"identifier":"vy2","sourcePos":[259,36]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[266,59],"start":[266,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[266,59],"start":[266,45]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[266,48],"start":[266,45]}},"type":"Var","value":{"identifier":"cfg","sourcePos":[252,1]}},"fieldName":"bounciness","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[266,72],"start":[266,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[266,72],"start":[266,60]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[266,63],"start":[266,60]}},"type":"Var","value":{"identifier":"cfg","sourcePos":[252,1]}},"fieldName":"friction","type":"Accessor"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[267,47],"start":[265,7]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[267,17],"start":[267,12]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[267,31],"start":[267,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[267,24],"start":[267,19]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[267,27],"start":[267,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[267,27],"start":[267,25]}},"type":"Var","value":{"identifier":"x2","sourcePos":[259,18]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[267,30],"start":[267,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[267,30],"start":[267,28]}},"type":"Var","value":{"identifier":"y2","sourcePos":[259,21]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[267,47],"start":[267,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[267,38],"start":[267,33]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[267,42],"start":[267,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[267,42],"start":[267,39]}},"type":"Var","value":{"identifier":"vx2","sourcePos":[259,32]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[267,46],"start":[267,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[267,46],"start":[267,43]}},"type":"Var","value":{"identifier":"vy2","sourcePos":[259,36]}},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[265,26],"start":[265,10]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[265,13],"start":[265,10]}},"type":"Var","value":{"identifier":"cfg","sourcePos":[252,1]}},"fieldName":"wallsEnabled","type":"Accessor"}],"type":"Case"},"identifier":"v2"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[267,47],"start":[264,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[264,40],"start":[264,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[264,23],"start":[264,12]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[264,20],"start":[264,18]}},"binderType":"VarBinder","identifier":"x3"},{"annotation":{"meta":null,"sourceSpan":{"end":[264,23],"start":[264,21]}},"binderType":"VarBinder","identifier":"y3"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[264,39],"start":[264,26]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[264,35],"start":[264,32]}},"binderType":"VarBinder","identifier":"vx3"},{"annotation":{"meta":null,"sourceSpan":{"end":[264,39],"start":[264,36]}},"binderType":"VarBinder","identifier":"vy3"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[269,10],"start":[269,5]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[269,24],"start":[269,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[269,17],"start":[269,12]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[269,20],"start":[269,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[269,20],"start":[269,18]}},"type":"Var","value":{"identifier":"x3","sourcePos":[264,18]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[269,23],"start":[269,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[269,23],"start":[269,21]}},"type":"Var","value":{"identifier":"y3","sourcePos":[264,21]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[269,40],"start":[269,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[269,31],"start":[269,26]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[269,35],"start":[269,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[269,35],"start":[269,32]}},"type":"Var","value":{"identifier":"vx3","sourcePos":[264,32]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[269,39],"start":[269,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[269,39],"start":[269,36]}},"type":"Var","value":{"identifier":"vy3","sourcePos":[264,36]}},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[251,55],"start":[248,1]}},"type":"Var","value":{"identifier":"v2","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[251,55],"start":[248,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[251,55],"start":[248,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"applyEnvironmentCollision"}],"exports":["ResponseBounce","ResponseAbsorb","ResponseExplode","cellKey","collisionDistance","checkPairCollision","bounceResponse","separateOverlap","checkFloorCollision","checkCeilingCollision","checkWallCollision","applyEnvironmentCollision","eqCollisionResponse","showCollisionResponse"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[269,40],"start":[13,1]}},"moduleName":["Data","Boolean"]},{"annotation":{"meta":null,"sourceSpan":{"end":[269,40],"start":[13,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[269,40],"start":[13,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[269,40],"start":[13,1]}},"moduleName":["Data","HeytingAlgebra"]},{"annotation":{"meta":null,"sourceSpan":{"end":[269,40],"start":[13,1]}},"moduleName":["Data","Int"]},{"annotation":{"meta":null,"sourceSpan":{"end":[269,40],"start":[13,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[269,40],"start":[13,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[269,40],"start":[13,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[269,40],"start":[13,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[269,40],"start":[13,1]}},"moduleName":["Data","Show"]},{"annotation":{"meta":null,"sourceSpan":{"end":[269,40],"start":[13,1]}},"moduleName":["Data","Tuple"]},{"annotation":{"meta":null,"sourceSpan":{"end":[269,40],"start":[13,1]}},"moduleName":["Lattice","Services","Particles","Collision"]},{"annotation":{"meta":null,"sourceSpan":{"end":[269,40],"start":[13,1]}},"moduleName":["Math"]},{"annotation":{"meta":null,"sourceSpan":{"end":[28,15],"start":[28,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[269,40],"start":[13,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","Particles","Collision"],"modulePath":"src/Lattice/Services/Particles/Collision.purs","reExports":{},"sourceSpan":{"end":[269,40],"start":[13,1]}}