{"builtWith":"0.15.15","comments":[{"LineComment":" | Lattice.Services.Particles.Modulation - Property Modulation Curves"},{"LineComment":" |"},{"LineComment":" | Pure mathematical functions for particle property modulation:"},{"LineComment":" | - Size curves over lifetime"},{"LineComment":" | - Opacity/alpha curves"},{"LineComment":" | - Color interpolation"},{"LineComment":" | - Velocity modulation"},{"LineComment":" |"},{"LineComment":" | All functions are total and deterministic."},{"LineComment":" |"},{"LineComment":" | Source: ui/src/services/particleSystem.ts (applyModulations)"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[96,17],"start":[96,16]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[96,29],"start":[96,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[96,27],"start":[96,26]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[96,29],"start":[96,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[96,22],"start":[96,21]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[96,24],"start":[96,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[104,17],"start":[104,15]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[104,19],"start":[104,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[104,12],"start":[104,11]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[104,19],"start":[104,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringInt","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[107,27],"start":[107,26]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[107,29],"start":[107,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[217,41],"start":[217,39]}},"type":"Var","value":{"identifier":"append","moduleName":["Data","Semigroup"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[217,45],"start":[217,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupArray","moduleName":["Data","Semigroup"]}},"type":"App"},"identifier":"append"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[115,28],"start":[115,25]}},"type":"Var","value":{"identifier":"map","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[115,36],"start":[115,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorMaybe","moduleName":["Data","Maybe"]}},"type":"App"},"identifier":"map"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[126,48],"start":[126,47]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[126,54],"start":[126,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[169,55],"start":[169,53]}},"type":"Var","value":{"identifier":"conj","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[169,98],"start":[169,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"conj"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[169,78],"start":[169,76]}},"type":"Var","value":{"identifier":"disj","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[169,97],"start":[169,57]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"disj"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[169,71],"start":[169,69]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[169,97],"start":[169,57]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqString","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"eq"},{"annotation":{"meta":null,"sourceSpan":{"end":[47,16],"start":[41,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[47,16],"start":[41,1]}},"constructorName":"ModSize","fieldNames":[],"type":"Constructor","typeName":"ModulationType"},"identifier":"ModSize"},{"annotation":{"meta":null,"sourceSpan":{"end":[47,16],"start":[41,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[47,16],"start":[41,1]}},"constructorName":"ModOpacity","fieldNames":[],"type":"Constructor","typeName":"ModulationType"},"identifier":"ModOpacity"},{"annotation":{"meta":null,"sourceSpan":{"end":[47,16],"start":[41,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[47,16],"start":[41,1]}},"constructorName":"ModColorR","fieldNames":[],"type":"Constructor","typeName":"ModulationType"},"identifier":"ModColorR"},{"annotation":{"meta":null,"sourceSpan":{"end":[47,16],"start":[41,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[47,16],"start":[41,1]}},"constructorName":"ModColorG","fieldNames":[],"type":"Constructor","typeName":"ModulationType"},"identifier":"ModColorG"},{"annotation":{"meta":null,"sourceSpan":{"end":[47,16],"start":[41,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[47,16],"start":[41,1]}},"constructorName":"ModColorB","fieldNames":[],"type":"Constructor","typeName":"ModulationType"},"identifier":"ModColorB"},{"annotation":{"meta":null,"sourceSpan":{"end":[47,16],"start":[41,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[47,16],"start":[41,1]}},"constructorName":"ModVelocity","fieldNames":[],"type":"Constructor","typeName":"ModulationType"},"identifier":"ModVelocity"},{"annotation":{"meta":null,"sourceSpan":{"end":[57,35],"start":[51,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[57,35],"start":[51,1]}},"type":"Var","value":{"identifier":"Show$Dict","moduleName":["Data","Show"]}},"annotation":{"meta":null,"sourceSpan":{"end":[57,35],"start":[51,1]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[57,35],"start":[51,1]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["show",{"annotation":{"meta":null,"sourceSpan":{"end":[57,35],"start":[51,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[57,35],"start":[51,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[52,15],"start":[52,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ModSize","moduleName":["Lattice","Services","Particles","Modulation"]},"typeName":{"identifier":"ModulationType","moduleName":["Lattice","Services","Particles","Modulation"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[52,27],"start":[52,18]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"ModSize"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[53,18],"start":[53,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ModOpacity","moduleName":["Lattice","Services","Particles","Modulation"]},"typeName":{"identifier":"ModulationType","moduleName":["Lattice","Services","Particles","Modulation"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[53,33],"start":[53,21]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"ModOpacity"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[54,17],"start":[54,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ModColorR","moduleName":["Lattice","Services","Particles","Modulation"]},"typeName":{"identifier":"ModulationType","moduleName":["Lattice","Services","Particles","Modulation"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[54,31],"start":[54,20]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"ModColorR"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[55,17],"start":[55,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ModColorG","moduleName":["Lattice","Services","Particles","Modulation"]},"typeName":{"identifier":"ModulationType","moduleName":["Lattice","Services","Particles","Modulation"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[55,31],"start":[55,20]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"ModColorG"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[56,17],"start":[56,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ModColorB","moduleName":["Lattice","Services","Particles","Modulation"]},"typeName":{"identifier":"ModulationType","moduleName":["Lattice","Services","Particles","Modulation"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[56,31],"start":[56,20]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"ModColorB"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[57,19],"start":[57,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ModVelocity","moduleName":["Lattice","Services","Particles","Modulation"]},"typeName":{"identifier":"ModulationType","moduleName":["Lattice","Services","Particles","Modulation"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[57,35],"start":[57,22]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"ModVelocity"}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[52,27],"start":[52,3]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"}]]}},"type":"App"},"identifier":"showModulationType"},{"annotation":{"meta":null,"sourceSpan":{"end":[206,30],"start":[206,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[212,4],"start":[208,3]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[208,27],"start":[208,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["t",{"annotation":{"meta":null,"sourceSpan":{"end":[208,13],"start":[208,10]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["value",{"annotation":{"meta":null,"sourceSpan":{"end":[208,25],"start":[208,22]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}},{"annotation":{"meta":null,"sourceSpan":{"end":[209,28],"start":[209,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["t",{"annotation":{"meta":null,"sourceSpan":{"end":[209,14],"start":[209,10]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.25}}],["value",{"annotation":{"meta":null,"sourceSpan":{"end":[209,26],"start":[209,23]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}}]]}},{"annotation":{"meta":null,"sourceSpan":{"end":[210,28],"start":[210,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["t",{"annotation":{"meta":null,"sourceSpan":{"end":[210,14],"start":[210,10]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.75}}],["value",{"annotation":{"meta":null,"sourceSpan":{"end":[210,26],"start":[210,23]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}}]]}},{"annotation":{"meta":null,"sourceSpan":{"end":[211,27],"start":[211,5]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["t",{"annotation":{"meta":null,"sourceSpan":{"end":[211,13],"start":[211,10]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}}],["value",{"annotation":{"meta":null,"sourceSpan":{"end":[211,25],"start":[211,22]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}}]}},"identifier":"pulseWave"},{"annotation":{"meta":null,"sourceSpan":{"end":[198,34],"start":[198,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[199,65],"start":[199,17]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[199,40],"start":[199,18]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["t",{"annotation":{"meta":null,"sourceSpan":{"end":[199,26],"start":[199,23]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["value",{"annotation":{"meta":null,"sourceSpan":{"end":[199,38],"start":[199,35]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}}]]}},{"annotation":{"meta":null,"sourceSpan":{"end":[199,64],"start":[199,42]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["t",{"annotation":{"meta":null,"sourceSpan":{"end":[199,50],"start":[199,47]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}}],["value",{"annotation":{"meta":null,"sourceSpan":{"end":[199,62],"start":[199,59]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}}]}},"identifier":"linearFadeOut"},{"annotation":{"meta":null,"sourceSpan":{"end":[202,33],"start":[202,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[203,64],"start":[203,16]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[203,39],"start":[203,17]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["t",{"annotation":{"meta":null,"sourceSpan":{"end":[203,25],"start":[203,22]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["value",{"annotation":{"meta":null,"sourceSpan":{"end":[203,37],"start":[203,34]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}},{"annotation":{"meta":null,"sourceSpan":{"end":[203,63],"start":[203,41]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["t",{"annotation":{"meta":null,"sourceSpan":{"end":[203,49],"start":[203,46]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}}],["value",{"annotation":{"meta":null,"sourceSpan":{"end":[203,61],"start":[203,58]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}}]]}}]}},"identifier":"linearFadeIn"},{"annotation":{"meta":null,"sourceSpan":{"end":[95,45],"start":[95,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[95,45],"start":[95,1]}},"argument":"a","body":{"annotation":{"meta":null,"sourceSpan":{"end":[95,45],"start":[95,1]}},"argument":"b","body":{"annotation":{"meta":null,"sourceSpan":{"end":[95,45],"start":[95,1]}},"argument":"t","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[96,29],"start":[96,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[96,15],"start":[96,14]}},"type":"Var","value":{"identifier":"a","sourcePos":[96,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[96,29],"start":[96,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[96,29],"start":[96,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[96,24],"start":[96,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[96,20],"start":[96,19]}},"type":"Var","value":{"identifier":"b","sourcePos":[96,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[96,24],"start":[96,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[96,24],"start":[96,23]}},"type":"Var","value":{"identifier":"a","sourcePos":[96,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[96,29],"start":[96,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[96,29],"start":[96,28]}},"type":"Var","value":{"identifier":"t","sourcePos":[96,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"lerp"},{"annotation":{"meta":null,"sourceSpan":{"end":[99,54],"start":[99,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[99,54],"start":[99,1]}},"argument":"points","body":{"annotation":{"meta":null,"sourceSpan":{"end":[99,54],"start":[99,1]}},"argument":"t","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[100,33],"start":[100,29]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[102,22],"start":[102,5]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[102,15],"start":[102,9]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,22],"start":[102,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,22],"start":[102,16]}},"type":"Var","value":{"identifier":"points","sourcePos":[100,1]}},"type":"App"},"identifier":"n"},{"bindType":"Rec","binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[108,28],"start":[103,5]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[108,28],"start":[103,5]}},"argument":"i","body":{"annotation":{"meta":null,"sourceSpan":{"end":[108,28],"start":[103,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[103,9],"start":[103,8]}},"binderType":"VarBinder","identifier":"i1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[104,23],"start":[104,22]}},"type":"Var","value":{"identifier":"i1","sourcePos":[103,8]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[104,19],"start":[104,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[104,19],"start":[104,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,10],"start":[104,9]}},"type":"Var","value":{"identifier":"i1","sourcePos":[103,8]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[104,19],"start":[104,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,14],"start":[104,13]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[104,19],"start":[104,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,19],"start":[104,18]}},"type":"Var","value":{"identifier":"n","sourcePos":[102,5]}},"type":"App"}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[108,28],"start":[106,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[99,54],"start":[99,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[106,25],"start":[106,23]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[106,33],"start":[106,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[106,22],"start":[106,16]}},"type":"Var","value":{"identifier":"points","sourcePos":[100,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[106,33],"start":[106,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[106,32],"start":[106,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[106,28],"start":[106,27]}},"type":"Var","value":{"identifier":"i1","sourcePos":[103,8]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[106,32],"start":[106,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[106,32],"start":[106,31]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[108,28],"start":[106,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[107,19],"start":[107,13]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[107,19],"start":[107,18]}},"binderType":"VarBinder","identifier":"p"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[107,34],"start":[107,33]}},"type":"Var","value":{"identifier":"i1","sourcePos":[103,8]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[107,29],"start":[107,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[107,25],"start":[107,22]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[107,23],"start":[107,22]}},"type":"Var","value":{"identifier":"p","sourcePos":[107,18]}},"fieldName":"t","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[107,29],"start":[107,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[107,29],"start":[107,28]}},"type":"Var","value":{"identifier":"t","sourcePos":[100,1]}},"type":"App"}}],"isGuarded":true},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[108,14],"start":[108,13]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[108,20],"start":[108,18]}},"type":"Var","value":{"identifier":"go","sourcePos":[103,5]}},"annotation":{"meta":null,"sourceSpan":{"end":[108,28],"start":[108,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[108,27],"start":[108,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[108,23],"start":[108,22]}},"type":"Var","value":{"identifier":"i1","sourcePos":[103,8]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[108,27],"start":[108,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[108,27],"start":[108,26]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[99,54],"start":[99,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[105,18],"start":[105,9]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[108,28],"start":[103,5]}},"type":"Var","value":{"identifier":"i","sourcePos":[103,8]}}],"type":"Case"},"type":"Abs"},"identifier":"go"}]}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[100,31],"start":[100,29]}},"type":"Var","value":{"identifier":"go","sourcePos":[103,5]}},"annotation":{"meta":null,"sourceSpan":{"end":[100,33],"start":[100,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[100,33],"start":[100,32]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"findSegmentIndex"},{"annotation":{"meta":null,"sourceSpan":{"end":[215,57],"start":[215,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[215,57],"start":[215,1]}},"argument":"pred","body":{"annotation":{"meta":null,"sourceSpan":{"end":[215,57],"start":[215,1]}},"argument":"arr","body":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[217,8],"start":[217,3]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[217,55],"start":[217,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[217,54],"start":[217,10]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[217,54],"start":[217,10]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[217,54],"start":[217,20]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[217,54],"start":[217,20]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[217,45],"start":[217,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[217,38],"start":[217,35]}},"type":"Var","value":{"identifier":"acc","sourcePos":[217,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[217,45],"start":[217,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[217,45],"start":[217,42]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[217,44],"start":[217,43]}},"type":"Var","value":{"identifier":"x","sourcePos":[217,15]}}]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[217,54],"start":[217,20]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[217,54],"start":[217,51]}},"type":"Var","value":{"identifier":"acc","sourcePos":[217,11]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[217,27],"start":[217,23]}},"type":"Var","value":{"identifier":"pred","sourcePos":[216,1]}},"annotation":{"meta":null,"sourceSpan":{"end":[217,29],"start":[217,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[217,29],"start":[217,28]}},"type":"Var","value":{"identifier":"x","sourcePos":[217,15]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[217,58],"start":[217,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[217,58],"start":[217,56]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[217,62],"start":[217,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[217,62],"start":[217,59]}},"type":"Var","value":{"identifier":"arr","sourcePos":[216,1]}},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"filter"},{"annotation":{"meta":null,"sourceSpan":{"end":[49,54],"start":[49,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"Eq$Dict","moduleName":["Data","Eq"]}},"annotation":{"meta":null,"sourceSpan":{"end":[49,54],"start":[49,1]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["eq",{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ModSize","moduleName":["Lattice","Services","Particles","Modulation"]},"typeName":{"identifier":"ModulationType","moduleName":["Lattice","Services","Particles","Modulation"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ModSize","moduleName":["Lattice","Services","Particles","Modulation"]},"typeName":{"identifier":"ModulationType","moduleName":["Lattice","Services","Particles","Modulation"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ModOpacity","moduleName":["Lattice","Services","Particles","Modulation"]},"typeName":{"identifier":"ModulationType","moduleName":["Lattice","Services","Particles","Modulation"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ModOpacity","moduleName":["Lattice","Services","Particles","Modulation"]},"typeName":{"identifier":"ModulationType","moduleName":["Lattice","Services","Particles","Modulation"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ModColorR","moduleName":["Lattice","Services","Particles","Modulation"]},"typeName":{"identifier":"ModulationType","moduleName":["Lattice","Services","Particles","Modulation"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ModColorR","moduleName":["Lattice","Services","Particles","Modulation"]},"typeName":{"identifier":"ModulationType","moduleName":["Lattice","Services","Particles","Modulation"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ModColorG","moduleName":["Lattice","Services","Particles","Modulation"]},"typeName":{"identifier":"ModulationType","moduleName":["Lattice","Services","Particles","Modulation"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ModColorG","moduleName":["Lattice","Services","Particles","Modulation"]},"typeName":{"identifier":"ModulationType","moduleName":["Lattice","Services","Particles","Modulation"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ModColorB","moduleName":["Lattice","Services","Particles","Modulation"]},"typeName":{"identifier":"ModulationType","moduleName":["Lattice","Services","Particles","Modulation"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ModColorB","moduleName":["Lattice","Services","Particles","Modulation"]},"typeName":{"identifier":"ModulationType","moduleName":["Lattice","Services","Particles","Modulation"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ModVelocity","moduleName":["Lattice","Services","Particles","Modulation"]},"typeName":{"identifier":"ModulationType","moduleName":["Lattice","Services","Particles","Modulation"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ModVelocity","moduleName":["Lattice","Services","Particles","Modulation"]},"typeName":{"identifier":"ModulationType","moduleName":["Lattice","Services","Particles","Modulation"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"x","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"y","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"}]]}},"type":"App"},"identifier":"eqModulationType"},{"annotation":{"meta":null,"sourceSpan":{"end":[78,44],"start":[78,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[84,4],"start":[80,3]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["sizeMult",{"annotation":{"meta":null,"sourceSpan":{"end":[80,18],"start":[80,15]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}}],["opacityMult",{"annotation":{"meta":null,"sourceSpan":{"end":[81,21],"start":[81,18]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}}],["colorMult",{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[82,21],"start":[82,16]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[82,25],"start":[82,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[82,25],"start":[82,22]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[82,41],"start":[82,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[82,32],"start":[82,27]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[82,36],"start":[82,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[82,36],"start":[82,33]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[82,40],"start":[82,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[82,40],"start":[82,37]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"}],["velocityMult",{"annotation":{"meta":null,"sourceSpan":{"end":[83,22],"start":[83,19]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}}]]}},"identifier":"defaultModulationResult"},{"annotation":{"meta":null,"sourceSpan":{"end":[91,28],"start":[91,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[91,28],"start":[91,1]}},"argument":"x","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[92,16],"start":[92,13]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[92,20],"start":[92,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[92,20],"start":[92,17]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[92,32],"start":[92,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[92,25],"start":[92,22]}},"type":"Var","value":{"identifier":"min","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[92,29],"start":[92,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[92,29],"start":[92,26]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[92,31],"start":[92,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[92,31],"start":[92,30]}},"type":"Var","value":{"identifier":"x","sourcePos":[92,1]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"clamp01"},{"annotation":{"meta":null,"sourceSpan":{"end":[111,55],"start":[111,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[111,55],"start":[111,1]}},"argument":"points","body":{"annotation":{"meta":null,"sourceSpan":{"end":[111,55],"start":[111,1]}},"argument":"t","body":{"annotation":{"meta":null,"sourceSpan":{"end":[131,19],"start":[113,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[111,55],"start":[111,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[113,14],"start":[113,8]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[113,21],"start":[113,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[113,21],"start":[113,15]}},"type":"Var","value":{"identifier":"points","sourcePos":[112,1]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[131,19],"start":[113,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[114,6],"start":[114,5]}},"binderType":"LiteralBinder","literal":{"literalType":"IntLiteral","value":0}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[114,13],"start":[114,10]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[115,6],"start":[115,5]}},"binderType":"LiteralBinder","literal":{"literalType":"IntLiteral","value":1}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[115,19],"start":[115,10]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[115,23],"start":[115,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,23],"start":[115,20]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[115,51],"start":[115,10]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[115,36],"start":[115,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,36],"start":[115,29]}},"argument":"v1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[115,36],"start":[115,29]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},"fieldName":"value","type":"Accessor"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[115,50],"start":[115,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[115,47],"start":[115,45]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[115,49],"start":[115,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,44],"start":[115,38]}},"type":"Var","value":{"identifier":"points","sourcePos":[112,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[115,49],"start":[115,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,49],"start":[115,48]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[116,6],"start":[116,5]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[131,19],"start":[117,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[118,29],"start":[118,9]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[118,27],"start":[118,20]}},"type":"Var","value":{"identifier":"clamp01","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[118,29],"start":[118,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[118,29],"start":[118,28]}},"type":"Var","value":{"identifier":"t","sourcePos":[112,1]}},"type":"App"},"identifier":"clampedT"},{"annotation":{"meta":null,"sourceSpan":{"end":[119,50],"start":[119,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[119,34],"start":[119,18]}},"type":"Var","value":{"identifier":"findSegmentIndex","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[119,41],"start":[119,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,41],"start":[119,35]}},"type":"Var","value":{"identifier":"points","sourcePos":[112,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[119,50],"start":[119,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,50],"start":[119,42]}},"type":"Var","value":{"identifier":"clampedT","sourcePos":[118,9]}},"type":"App"},"identifier":"segIdx"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[131,19],"start":[121,9]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[111,55],"start":[111,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[121,19],"start":[121,14]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[121,38],"start":[121,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[121,30],"start":[121,28]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[121,37],"start":[121,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[121,27],"start":[121,21]}},"type":"Var","value":{"identifier":"points","sourcePos":[112,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[121,37],"start":[121,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[121,37],"start":[121,31]}},"type":"Var","value":{"identifier":"segIdx","sourcePos":[119,9]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[121,63],"start":[121,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[121,49],"start":[121,47]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[121,62],"start":[121,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[121,46],"start":[121,40]}},"type":"Var","value":{"identifier":"points","sourcePos":[112,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[121,62],"start":[121,40]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[121,61],"start":[121,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[121,57],"start":[121,51]}},"type":"Var","value":{"identifier":"segIdx","sourcePos":[119,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[121,61],"start":[121,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[121,61],"start":[121,60]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[131,19],"start":[121,9]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[122,36],"start":[122,11]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[122,25],"start":[122,18]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[122,25],"start":[122,23]}},"binderType":"VarBinder","identifier":"p0"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[122,35],"start":[122,28]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[122,35],"start":[122,33]}},"binderType":"VarBinder","identifier":"p1"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[129,54],"start":[123,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[124,34],"start":[124,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,34],"start":[124,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,27],"start":[124,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[124,25],"start":[124,23]}},"type":"Var","value":{"identifier":"p1","sourcePos":[122,33]}},"fieldName":"t","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[124,34],"start":[124,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,34],"start":[124,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[124,32],"start":[124,30]}},"type":"Var","value":{"identifier":"p0","sourcePos":[122,23]}},"fieldName":"t","type":"Accessor"},"type":"App"},"identifier":"range"},{"annotation":{"meta":null,"sourceSpan":{"end":[127,32],"start":[125,15]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[127,32],"start":[125,24]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[127,32],"start":[125,24]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[126,54],"start":[126,29]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[126,45],"start":[126,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,38],"start":[126,30]}},"type":"Var","value":{"identifier":"clampedT","sourcePos":[118,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[126,45],"start":[126,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,45],"start":[126,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[126,43],"start":[126,41]}},"type":"Var","value":{"identifier":"p0","sourcePos":[122,23]}},"fieldName":"t","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[126,54],"start":[126,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,54],"start":[126,49]}},"type":"Var","value":{"identifier":"range","sourcePos":[124,15]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[127,32],"start":[125,24]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[127,32],"start":[127,29]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[125,41],"start":[125,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,32],"start":[125,27]}},"type":"Var","value":{"identifier":"range","sourcePos":[124,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[125,41],"start":[125,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,41],"start":[125,35]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-4}},"type":"App"}],"type":"Case"},"identifier":"localT"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[129,19],"start":[129,15]}},"type":"Var","value":{"identifier":"lerp","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[129,28],"start":[129,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,28],"start":[129,20]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[129,22],"start":[129,20]}},"type":"Var","value":{"identifier":"p0","sourcePos":[122,23]}},"fieldName":"value","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[129,37],"start":[129,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,37],"start":[129,29]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[129,31],"start":[129,29]}},"type":"Var","value":{"identifier":"p1","sourcePos":[122,33]}},"fieldName":"value","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[129,54],"start":[129,15]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[129,46],"start":[129,39]}},"type":"Var","value":{"identifier":"clamp01","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[129,53],"start":[129,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,53],"start":[129,47]}},"type":"Var","value":{"identifier":"localT","sourcePos":[125,15]}},"type":"App"},"type":"App"},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[130,34],"start":[130,11]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[130,25],"start":[130,18]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[130,25],"start":[130,23]}},"binderType":"VarBinder","identifier":"p0"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[130,34],"start":[130,27]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[130,46],"start":[130,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[130,40],"start":[130,38]}},"type":"Var","value":{"identifier":"p0","sourcePos":[130,23]}},"fieldName":"value","type":"Accessor"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[131,12],"start":[131,11]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[131,19],"start":[131,16]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[111,55],"start":[111,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[111,55],"start":[111,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"evaluateLinear"},{"annotation":{"meta":null,"sourceSpan":{"end":[138,53],"start":[138,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[138,53],"start":[138,1]}},"argument":"curve","body":{"annotation":{"meta":null,"sourceSpan":{"end":[138,53],"start":[138,1]}},"argument":"lifeRatio","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[139,35],"start":[139,32]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[139,39],"start":[139,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[139,39],"start":[139,36]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[139,72],"start":[139,32]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[139,55],"start":[139,41]}},"type":"Var","value":{"identifier":"evaluateLinear","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[139,61],"start":[139,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[139,61],"start":[139,56]}},"type":"Var","value":{"identifier":"curve","sourcePos":[139,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[139,71],"start":[139,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[139,71],"start":[139,62]}},"type":"Var","value":{"identifier":"lifeRatio","sourcePos":[139,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"modulateSize"},{"annotation":{"meta":null,"sourceSpan":{"end":[150,57],"start":[150,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[150,57],"start":[150,1]}},"argument":"curve","body":{"annotation":{"meta":null,"sourceSpan":{"end":[150,57],"start":[150,1]}},"argument":"lifeRatio","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[151,39],"start":[151,36]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[151,43],"start":[151,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[151,43],"start":[151,40]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[151,76],"start":[151,36]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[151,59],"start":[151,45]}},"type":"Var","value":{"identifier":"evaluateLinear","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[151,65],"start":[151,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[151,65],"start":[151,60]}},"type":"Var","value":{"identifier":"curve","sourcePos":[151,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[151,75],"start":[151,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[151,75],"start":[151,66]}},"type":"Var","value":{"identifier":"lifeRatio","sourcePos":[151,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"modulateVelocity"},{"annotation":{"meta":null,"sourceSpan":{"end":[146,54],"start":[146,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[146,54],"start":[146,1]}},"argument":"curve","body":{"annotation":{"meta":null,"sourceSpan":{"end":[146,54],"start":[146,1]}},"argument":"lifeRatio","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[147,40],"start":[147,33]}},"type":"Var","value":{"identifier":"clamp01","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,73],"start":[147,33]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[147,56],"start":[147,42]}},"type":"Var","value":{"identifier":"evaluateLinear","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,62],"start":[147,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,62],"start":[147,57]}},"type":"Var","value":{"identifier":"curve","sourcePos":[147,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[147,72],"start":[147,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,72],"start":[147,63]}},"type":"Var","value":{"identifier":"lifeRatio","sourcePos":[147,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"modulateColor"},{"annotation":{"meta":null,"sourceSpan":{"end":[142,56],"start":[142,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[142,56],"start":[142,1]}},"argument":"curve","body":{"annotation":{"meta":null,"sourceSpan":{"end":[142,56],"start":[142,1]}},"argument":"lifeRatio","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[143,42],"start":[143,35]}},"type":"Var","value":{"identifier":"clamp01","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[143,75],"start":[143,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[143,58],"start":[143,44]}},"type":"Var","value":{"identifier":"evaluateLinear","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[143,64],"start":[143,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[143,64],"start":[143,59]}},"type":"Var","value":{"identifier":"curve","sourcePos":[143,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[143,74],"start":[143,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[143,74],"start":[143,65]}},"type":"Var","value":{"identifier":"lifeRatio","sourcePos":[143,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"modulateOpacity"},{"annotation":{"meta":null,"sourceSpan":{"end":[162,22],"start":[158,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[162,22],"start":[158,1]}},"argument":"mods","body":{"annotation":{"meta":null,"sourceSpan":{"end":[162,22],"start":[158,1]}},"argument":"emitterId","body":{"annotation":{"meta":null,"sourceSpan":{"end":[162,22],"start":[158,1]}},"argument":"lifeRatio","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[164,75],"start":[164,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[168,51],"start":[168,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[168,51],"start":[168,5]}},"argument":"ms","body":{"annotation":{"meta":null,"sourceSpan":{"end":[168,51],"start":[168,5]}},"argument":"eid","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[169,35],"start":[169,29]}},"type":"Var","value":{"identifier":"filter","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[169,99],"start":[169,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,98],"start":[169,37]}},"argument":"m","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[169,98],"start":[169,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,52],"start":[169,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[169,44],"start":[169,43]}},"type":"Var","value":{"identifier":"m","sourcePos":[169,38]}},"fieldName":"enabled","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[169,98],"start":[169,43]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"disj","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[169,97],"start":[169,57]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[169,97],"start":[169,57]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,68],"start":[169,57]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[169,58],"start":[169,57]}},"type":"Var","value":{"identifier":"m","sourcePos":[169,38]}},"fieldName":"emitterId","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[169,97],"start":[169,57]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,75],"start":[169,72]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"*"}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[169,97],"start":[169,57]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[169,97],"start":[169,57]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,90],"start":[169,79]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[169,80],"start":[169,79]}},"type":"Var","value":{"identifier":"m","sourcePos":[169,38]}},"fieldName":"emitterId","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[169,97],"start":[169,57]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,97],"start":[169,94]}},"type":"Var","value":{"identifier":"eid","sourcePos":[169,5]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[169,102],"start":[169,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,102],"start":[169,100]}},"type":"Var","value":{"identifier":"ms","sourcePos":[169,5]}},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"filterRelevant"},{"annotation":{"meta":null,"sourceSpan":{"end":[166,49],"start":[166,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[166,34],"start":[166,20]}},"type":"Var","value":{"identifier":"filterRelevant","sourcePos":[168,5]}},"annotation":{"meta":null,"sourceSpan":{"end":[166,39],"start":[166,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,39],"start":[166,35]}},"type":"Var","value":{"identifier":"mods","sourcePos":[163,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[166,49],"start":[166,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,49],"start":[166,40]}},"type":"Var","value":{"identifier":"emitterId","sourcePos":[163,1]}},"type":"App"},"identifier":"relevantMods"},{"annotation":{"meta":null,"sourceSpan":{"end":[171,77],"start":[171,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[171,77],"start":[171,5]}},"argument":"lr","body":{"annotation":{"meta":null,"sourceSpan":{"end":[171,77],"start":[171,5]}},"argument":"result","body":{"annotation":{"meta":null,"sourceSpan":{"end":[171,77],"start":[171,5]}},"argument":"mod","body":{"annotation":{"meta":null,"sourceSpan":{"end":[191,88],"start":[173,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[174,16],"start":[174,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ModSize","moduleName":["Lattice","Services","Particles","Modulation"]},"typeName":{"identifier":"ModulationType","moduleName":["Lattice","Services","Particles","Modulation"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[175,76],"start":[175,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[191,88],"start":[163,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[175,17],"start":[175,11]}},"type":"Var","value":{"identifier":"result","sourcePos":[172,5]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[175,76],"start":[175,11]}},"copy":["opacityMult","colorMult","velocityMult"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[163,1]}},"type":"ObjectUpdate","updates":[["sizeMult",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[175,74],"start":[175,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[175,46],"start":[175,31]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[175,37],"start":[175,31]}},"type":"Var","value":{"identifier":"result","sourcePos":[172,5]}},"fieldName":"sizeMult","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[175,74],"start":[175,31]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[175,61],"start":[175,49]}},"type":"Var","value":{"identifier":"modulateSize","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[175,71],"start":[175,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[175,71],"start":[175,62]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[175,65],"start":[175,62]}},"type":"Var","value":{"identifier":"mod","sourcePos":[172,5]}},"fieldName":"curve","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[175,74],"start":[175,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[175,74],"start":[175,72]}},"type":"Var","value":{"identifier":"lr","sourcePos":[172,5]}},"type":"App"},"type":"App"}]]},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[176,19],"start":[176,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ModOpacity","moduleName":["Lattice","Services","Particles","Modulation"]},"typeName":{"identifier":"ModulationType","moduleName":["Lattice","Services","Particles","Modulation"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[177,85],"start":[177,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[191,88],"start":[163,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[177,17],"start":[177,11]}},"type":"Var","value":{"identifier":"result","sourcePos":[172,5]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[177,85],"start":[177,11]}},"copy":["sizeMult","colorMult","velocityMult"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[163,1]}},"type":"ObjectUpdate","updates":[["opacityMult",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[177,83],"start":[177,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[177,52],"start":[177,34]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[177,40],"start":[177,34]}},"type":"Var","value":{"identifier":"result","sourcePos":[172,5]}},"fieldName":"opacityMult","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[177,83],"start":[177,34]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[177,70],"start":[177,55]}},"type":"Var","value":{"identifier":"modulateOpacity","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[177,80],"start":[177,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[177,80],"start":[177,71]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[177,74],"start":[177,71]}},"type":"Var","value":{"identifier":"mod","sourcePos":[172,5]}},"fieldName":"curve","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[177,83],"start":[177,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[177,83],"start":[177,81]}},"type":"Var","value":{"identifier":"lr","sourcePos":[172,5]}},"type":"App"},"type":"App"}]]},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[178,18],"start":[178,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ModColorR","moduleName":["Lattice","Services","Particles","Modulation"]},"typeName":{"identifier":"ModulationType","moduleName":["Lattice","Services","Particles","Modulation"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[179,53],"start":[179,15]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[179,34],"start":[179,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[179,22],"start":[179,21]}},"binderType":"VarBinder","identifier":"r"},{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[179,33],"start":[179,24]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[179,31],"start":[179,30]}},"binderType":"VarBinder","identifier":"g"},{"annotation":{"meta":null,"sourceSpan":{"end":[179,33],"start":[179,32]}},"binderType":"VarBinder","identifier":"b"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[179,53],"start":[179,15]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[180,52],"start":[180,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[180,52],"start":[180,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[180,23],"start":[180,22]}},"type":"Var","value":{"identifier":"r","sourcePos":[179,21]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[180,52],"start":[180,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[180,39],"start":[180,26]}},"type":"Var","value":{"identifier":"modulateColor","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[180,49],"start":[180,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[180,49],"start":[180,40]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[180,43],"start":[180,40]}},"type":"Var","value":{"identifier":"mod","sourcePos":[172,5]}},"fieldName":"curve","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[180,52],"start":[180,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[180,52],"start":[180,50]}},"type":"Var","value":{"identifier":"lr","sourcePos":[172,5]}},"type":"App"},"type":"App"},"identifier":"newR"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[181,59],"start":[181,14]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[191,88],"start":[163,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[181,20],"start":[181,14]}},"type":"Var","value":{"identifier":"result","sourcePos":[172,5]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[181,59],"start":[181,14]}},"copy":["sizeMult","opacityMult","velocityMult"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[163,1]}},"type":"ObjectUpdate","updates":[["colorMult",{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[181,40],"start":[181,35]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[181,45],"start":[181,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,45],"start":[181,41]}},"type":"Var","value":{"identifier":"newR","sourcePos":[180,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[181,57],"start":[181,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[181,52],"start":[181,47]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[181,54],"start":[181,47]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,54],"start":[181,53]}},"type":"Var","value":{"identifier":"g","sourcePos":[179,30]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[181,56],"start":[181,47]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,56],"start":[181,55]}},"type":"Var","value":{"identifier":"b","sourcePos":[179,32]}},"type":"App"},"type":"App"}]]},"type":"Let"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[179,53],"start":[179,37]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[179,43],"start":[179,37]}},"type":"Var","value":{"identifier":"result","sourcePos":[172,5]}},"fieldName":"colorMult","type":"Accessor"}],"type":"Case"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[182,18],"start":[182,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ModColorG","moduleName":["Lattice","Services","Particles","Modulation"]},"typeName":{"identifier":"ModulationType","moduleName":["Lattice","Services","Particles","Modulation"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[183,53],"start":[183,15]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[183,34],"start":[183,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[183,22],"start":[183,21]}},"binderType":"VarBinder","identifier":"r"},{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[183,33],"start":[183,24]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[183,31],"start":[183,30]}},"binderType":"VarBinder","identifier":"g"},{"annotation":{"meta":null,"sourceSpan":{"end":[183,33],"start":[183,32]}},"binderType":"VarBinder","identifier":"b"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[183,53],"start":[183,15]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[184,52],"start":[184,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[184,52],"start":[184,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[184,23],"start":[184,22]}},"type":"Var","value":{"identifier":"g","sourcePos":[183,30]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[184,52],"start":[184,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[184,39],"start":[184,26]}},"type":"Var","value":{"identifier":"modulateColor","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[184,49],"start":[184,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[184,49],"start":[184,40]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[184,43],"start":[184,40]}},"type":"Var","value":{"identifier":"mod","sourcePos":[172,5]}},"fieldName":"curve","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[184,52],"start":[184,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[184,52],"start":[184,50]}},"type":"Var","value":{"identifier":"lr","sourcePos":[172,5]}},"type":"App"},"type":"App"},"identifier":"newG"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[185,59],"start":[185,14]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[191,88],"start":[163,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[185,20],"start":[185,14]}},"type":"Var","value":{"identifier":"result","sourcePos":[172,5]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[185,59],"start":[185,14]}},"copy":["sizeMult","opacityMult","velocityMult"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[163,1]}},"type":"ObjectUpdate","updates":[["colorMult",{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[185,40],"start":[185,35]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[185,42],"start":[185,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[185,42],"start":[185,41]}},"type":"Var","value":{"identifier":"r","sourcePos":[183,21]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[185,57],"start":[185,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[185,49],"start":[185,44]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[185,54],"start":[185,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[185,54],"start":[185,50]}},"type":"Var","value":{"identifier":"newG","sourcePos":[184,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[185,56],"start":[185,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[185,56],"start":[185,55]}},"type":"Var","value":{"identifier":"b","sourcePos":[183,32]}},"type":"App"},"type":"App"}]]},"type":"Let"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[183,53],"start":[183,37]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[183,43],"start":[183,37]}},"type":"Var","value":{"identifier":"result","sourcePos":[172,5]}},"fieldName":"colorMult","type":"Accessor"}],"type":"Case"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[186,18],"start":[186,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ModColorB","moduleName":["Lattice","Services","Particles","Modulation"]},"typeName":{"identifier":"ModulationType","moduleName":["Lattice","Services","Particles","Modulation"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[187,53],"start":[187,15]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[187,34],"start":[187,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[187,22],"start":[187,21]}},"binderType":"VarBinder","identifier":"r"},{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[187,33],"start":[187,24]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[187,31],"start":[187,30]}},"binderType":"VarBinder","identifier":"g"},{"annotation":{"meta":null,"sourceSpan":{"end":[187,33],"start":[187,32]}},"binderType":"VarBinder","identifier":"b"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[187,53],"start":[187,15]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[188,52],"start":[188,15]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[188,52],"start":[188,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[188,23],"start":[188,22]}},"type":"Var","value":{"identifier":"b","sourcePos":[187,32]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[188,52],"start":[188,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[188,39],"start":[188,26]}},"type":"Var","value":{"identifier":"modulateColor","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[188,49],"start":[188,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[188,49],"start":[188,40]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[188,43],"start":[188,40]}},"type":"Var","value":{"identifier":"mod","sourcePos":[172,5]}},"fieldName":"curve","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[188,52],"start":[188,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[188,52],"start":[188,50]}},"type":"Var","value":{"identifier":"lr","sourcePos":[172,5]}},"type":"App"},"type":"App"},"identifier":"newB"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[189,59],"start":[189,14]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[191,88],"start":[163,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[189,20],"start":[189,14]}},"type":"Var","value":{"identifier":"result","sourcePos":[172,5]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[189,59],"start":[189,14]}},"copy":["sizeMult","opacityMult","velocityMult"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[163,1]}},"type":"ObjectUpdate","updates":[["colorMult",{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[189,40],"start":[189,35]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[189,42],"start":[189,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[189,42],"start":[189,41]}},"type":"Var","value":{"identifier":"r","sourcePos":[187,21]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[189,57],"start":[189,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[189,49],"start":[189,44]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[189,51],"start":[189,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[189,51],"start":[189,50]}},"type":"Var","value":{"identifier":"g","sourcePos":[187,30]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[189,56],"start":[189,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[189,56],"start":[189,52]}},"type":"Var","value":{"identifier":"newB","sourcePos":[188,15]}},"type":"App"},"type":"App"}]]},"type":"Let"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[187,53],"start":[187,37]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[187,43],"start":[187,37]}},"type":"Var","value":{"identifier":"result","sourcePos":[172,5]}},"fieldName":"colorMult","type":"Accessor"}],"type":"Case"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[190,20],"start":[190,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"ModVelocity","moduleName":["Lattice","Services","Particles","Modulation"]},"typeName":{"identifier":"ModulationType","moduleName":["Lattice","Services","Particles","Modulation"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[191,88],"start":[191,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[191,88],"start":[163,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[191,17],"start":[191,11]}},"type":"Var","value":{"identifier":"result","sourcePos":[172,5]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[191,88],"start":[191,11]}},"copy":["sizeMult","opacityMult","colorMult"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[163,1]}},"type":"ObjectUpdate","updates":[["velocityMult",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,86],"start":[191,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,54],"start":[191,35]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[191,41],"start":[191,35]}},"type":"Var","value":{"identifier":"result","sourcePos":[172,5]}},"fieldName":"velocityMult","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[191,86],"start":[191,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[191,73],"start":[191,57]}},"type":"Var","value":{"identifier":"modulateVelocity","moduleName":["Lattice","Services","Particles","Modulation"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,83],"start":[191,57]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,83],"start":[191,74]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[191,77],"start":[191,74]}},"type":"Var","value":{"identifier":"mod","sourcePos":[172,5]}},"fieldName":"curve","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[191,86],"start":[191,57]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,86],"start":[191,84]}},"type":"Var","value":{"identifier":"lr","sourcePos":[172,5]}},"type":"App"},"type":"App"}]]},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[173,22],"start":[173,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[173,15],"start":[173,12]}},"type":"Var","value":{"identifier":"mod","sourcePos":[172,5]}},"fieldName":"target","type":"Accessor"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"combineModulation"}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[164,8],"start":[164,3]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[164,38],"start":[164,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[164,27],"start":[164,10]}},"type":"Var","value":{"identifier":"combineModulation","sourcePos":[171,5]}},"annotation":{"meta":null,"sourceSpan":{"end":[164,37],"start":[164,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,37],"start":[164,28]}},"type":"Var","value":{"identifier":"lifeRatio","sourcePos":[163,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[164,62],"start":[164,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,62],"start":[164,39]}},"type":"Var","value":{"identifier":"defaultModulationResult","moduleName":["Lattice","Services","Particles","Modulation"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[164,75],"start":[164,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,75],"start":[164,63]}},"type":"Var","value":{"identifier":"relevantMods","sourcePos":[166,5]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"applyModulations"}],"exports":["ModSize","ModOpacity","ModColorR","ModColorG","ModColorB","ModVelocity","defaultModulationResult","evaluateLinear","modulateSize","modulateOpacity","modulateColor","modulateVelocity","applyModulations","linearFadeOut","linearFadeIn","pulseWave","eqModulationType","showModulationType"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[217,62],"start":[13,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[217,62],"start":[13,1]}},"moduleName":["Data","Boolean"]},{"annotation":{"meta":null,"sourceSpan":{"end":[217,62],"start":[13,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[217,62],"start":[13,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[217,62],"start":[13,1]}},"moduleName":["Data","Functor"]},{"annotation":{"meta":null,"sourceSpan":{"end":[217,62],"start":[13,1]}},"moduleName":["Data","HeytingAlgebra"]},{"annotation":{"meta":null,"sourceSpan":{"end":[217,62],"start":[13,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[217,62],"start":[13,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[217,62],"start":[13,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[217,62],"start":[13,1]}},"moduleName":["Data","Semigroup"]},{"annotation":{"meta":null,"sourceSpan":{"end":[217,62],"start":[13,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[217,62],"start":[13,1]}},"moduleName":["Data","Show"]},{"annotation":{"meta":null,"sourceSpan":{"end":[217,62],"start":[13,1]}},"moduleName":["Data","Tuple"]},{"annotation":{"meta":null,"sourceSpan":{"end":[217,62],"start":[13,1]}},"moduleName":["Lattice","Services","Particles","Modulation"]},{"annotation":{"meta":null,"sourceSpan":{"end":[217,62],"start":[13,1]}},"moduleName":["Math"]},{"annotation":{"meta":null,"sourceSpan":{"end":[29,15],"start":[29,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[217,62],"start":[13,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","Particles","Modulation"],"modulePath":"src/Lattice/Services/Particles/Modulation.purs","reExports":{},"sourceSpan":{"end":[217,62],"start":[13,1]}}