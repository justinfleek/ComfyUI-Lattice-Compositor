{"builtWith":"0.15.15","comments":[{"LineComment":" | Lattice.Services.RenderQueue.Manager.Rendering - Frame rendering"},{"LineComment":" |"},{"LineComment":" | @module Lattice.Services.RenderQueue.Manager.Rendering"},{"LineComment":" | @description Process jobs and render frames."},{"LineComment":" |"},{"LineComment":" | Source: ui/src/services/renderQueue/RenderQueueManager.ts"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[177,39],"start":[177,3]}},"type":"Var","value":{"identifier":"bind","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[177,39],"start":[177,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"bind"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[180,20],"start":[180,16]}},"type":"Var","value":{"identifier":"pure","moduleName":["Control","Applicative"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[180,25],"start":[180,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeEffect","moduleName":["Effect"]}},"type":"App"},"identifier":"pure"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[169,42],"start":[169,3]}},"type":"Var","value":{"identifier":"bind","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[169,42],"start":[169,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindAff","moduleName":["Effect","Aff"]}},"type":"App"},"identifier":"bind1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[169,24],"start":[169,14]}},"type":"Var","value":{"identifier":"liftEffect","moduleName":["Effect","Class"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[169,24],"start":[169,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"monadEffectAff","moduleName":["Effect","Aff"]}},"type":"App"},"identifier":"liftEffect"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[172,20],"start":[172,16]}},"type":"Var","value":{"identifier":"pure","moduleName":["Control","Applicative"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[172,23],"start":[172,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeAff","moduleName":["Effect","Aff"]}},"type":"App"},"identifier":"pure1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[78,21],"start":[74,7]}},"type":"Var","value":{"identifier":"discard","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[78,21],"start":[74,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discardUnit","moduleName":["Control","Bind"]}},"type":"App"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[78,21],"start":[74,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindAff","moduleName":["Effect","Aff"]}},"type":"App"},"identifier":"discard"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[88,60],"start":[88,50]}},"type":"Var","value":{"identifier":"insert","moduleName":["Data","Map","Internal"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[88,67],"start":[88,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordString","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"insert"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[101,7],"start":[101,3]}},"type":"Var","value":{"identifier":"when","moduleName":["Control","Applicative"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[101,82],"start":[101,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeAff","moduleName":["Effect","Aff"]}},"type":"App"},"identifier":"when"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[101,27],"start":[101,25]}},"type":"Var","value":{"identifier":"conj","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[101,81],"start":[101,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"conj"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[101,31],"start":[101,28]}},"type":"Var","value":{"identifier":"not","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[101,46],"start":[101,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"not"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[101,70],"start":[101,68]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[101,81],"start":[101,9]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[101,81],"start":[101,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqString","moduleName":["Data","Eq"]}},"type":"App"},"type":"App"},"identifier":"eq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[102,20],"start":[102,10]}},"type":"Var","value":{"identifier":"lookup","moduleName":["Data","Map","Internal"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[102,26],"start":[102,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordString","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lookup"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[108,26],"start":[108,25]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[108,35],"start":[108,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[143,63],"start":[143,62]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[143,65],"start":[143,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringInt","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[143,46],"start":[143,45]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[143,65],"start":[143,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringInt","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[145,80],"start":[145,79]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[145,86],"start":[145,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[145,56],"start":[145,55]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[145,86],"start":[145,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[62,46],"start":[62,44]}},"type":"Var","value":{"identifier":"disj","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[62,82],"start":[62,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"disj"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[62,29],"start":[62,27]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[62,82],"start":[62,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqRenderJobStatus","moduleName":["Lattice","Services","RenderQueue","Types"]}},"type":"App"},"identifier":"eq1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[44,34],"start":[44,16]}},"type":"Var","value":{"identifier":"fromFoldable","moduleName":["Data","Array"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[44,58],"start":[44,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"foldableList","moduleName":["Data","List","Types"]}},"type":"App"},"identifier":"fromFoldable"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[46,45],"start":[46,36]}},"type":"Var","value":{"identifier":"comparing","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[46,56],"start":[46,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"comparing"},{"annotation":{"meta":null,"sourceSpan":{"end":[175,91],"start":[175,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[175,91],"start":[175,1]}},"argument":"mgr","body":{"annotation":{"meta":null,"sourceSpan":{"end":[175,91],"start":[175,1]}},"argument":"jobId","body":{"annotation":{"meta":null,"sourceSpan":{"end":[175,91],"start":[175,1]}},"argument":"progress","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[177,39],"start":[177,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[177,22],"start":[177,14]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[177,39],"start":[177,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[177,39],"start":[177,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[177,26],"start":[177,23]}},"type":"Var","value":{"identifier":"mgr","sourcePos":[176,1]}},"fieldName":"onProgressCb","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[177,39],"start":[177,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[177,39],"start":[177,3]}},"argument":"maybeCb","body":{"annotation":{"meta":null,"sourceSpan":{"end":[180,25],"start":[178,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[179,12],"start":[179,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[179,12],"start":[179,10]}},"binderType":"VarBinder","identifier":"cb"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[179,18],"start":[179,16]}},"type":"Var","value":{"identifier":"cb","sourcePos":[179,10]}},"annotation":{"meta":null,"sourceSpan":{"end":[179,24],"start":[179,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[179,24],"start":[179,19]}},"type":"Var","value":{"identifier":"jobId","sourcePos":[176,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[179,33],"start":[179,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[179,33],"start":[179,25]}},"type":"Var","value":{"identifier":"progress","sourcePos":[176,1]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[180,12],"start":[180,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[180,25],"start":[180,16]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[180,25],"start":[180,21]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[178,15],"start":[178,8]}},"type":"Var","value":{"identifier":"maybeCb","sourcePos":[177,3]}}],"type":"Case"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"notifyProgressInternal"},{"annotation":{"meta":null,"sourceSpan":{"end":[167,79],"start":[167,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[167,79],"start":[167,1]}},"argument":"mgr","body":{"annotation":{"meta":null,"sourceSpan":{"end":[167,79],"start":[167,1]}},"argument":"jobId","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind1","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[169,42],"start":[169,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"liftEffect","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[169,42],"start":[169,14]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[169,35],"start":[169,27]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[169,42],"start":[169,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,42],"start":[169,36]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[169,39],"start":[169,36]}},"type":"Var","value":{"identifier":"mgr","sourcePos":[168,1]}},"fieldName":"db","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[169,42],"start":[169,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,42],"start":[169,3]}},"argument":"maybeDb","body":{"annotation":{"meta":null,"sourceSpan":{"end":[172,23],"start":[170,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[171,12],"start":[171,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[171,12],"start":[171,10]}},"binderType":"VarBinder","identifier":"db"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[171,28],"start":[171,16]}},"type":"Var","value":{"identifier":"getFrames","moduleName":["Lattice","Services","RenderQueue","Database"]}},"annotation":{"meta":null,"sourceSpan":{"end":[171,31],"start":[171,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,31],"start":[171,29]}},"type":"Var","value":{"identifier":"db","sourcePos":[171,10]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[171,37],"start":[171,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,37],"start":[171,32]}},"type":"Var","value":{"identifier":"jobId","sourcePos":[168,1]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[172,12],"start":[172,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure1","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[172,23],"start":[172,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,23],"start":[172,21]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[170,15],"start":[170,8]}},"type":"Var","value":{"identifier":"maybeDb","sourcePos":[169,3]}}],"type":"Case"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"getFramesInternal"},{"bindType":"Rec","binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[67,66],"start":[67,1]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[67,66],"start":[67,1]}},"argument":"mgr","body":{"annotation":{"meta":null,"sourceSpan":{"end":[67,66],"start":[67,1]}},"argument":"job","body":{"annotation":{"meta":null,"sourceSpan":{"end":[67,66],"start":[67,1]}},"argument":"timestamp","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind1","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[69,59],"start":[69,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"liftEffect","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[69,59],"start":[69,20]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[69,41],"start":[69,33]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[69,59],"start":[69,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[69,59],"start":[69,42]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[69,45],"start":[69,42]}},"type":"Var","value":{"identifier":"mgr","sourcePos":[68,1]}},"fieldName":"frameRenderer","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[69,59],"start":[69,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[69,59],"start":[69,3]}},"argument":"maybeRenderer","body":{"annotation":{"meta":null,"sourceSpan":{"end":[91,47],"start":[70,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[71,12],"start":[71,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure1","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[71,25],"start":[71,16]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[71,25],"start":[71,21]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[72,18],"start":[72,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[72,18],"start":[72,10]}},"binderType":"VarBinder","identifier":"renderer"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[78,21],"start":[74,7]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"liftEffect","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[78,21],"start":[74,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[74,31],"start":[74,20]}},"type":"Var","value":{"identifier":"modify_","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[78,11],"start":[74,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[78,10],"start":[74,33]}},"argument":"s","body":{"annotation":{"meta":null,"sourceSpan":{"end":[78,10],"start":[74,39]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[91,47],"start":[68,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[74,40],"start":[74,39]}},"type":"Var","value":{"identifier":"s","sourcePos":[74,34]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[78,10],"start":[74,39]}},"copy":["isPaused","isRunning","jobs"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[68,1]}},"type":"ObjectUpdate","updates":[["activeJobId",{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[75,29],"start":[75,25]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[75,36],"start":[75,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,36],"start":[75,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[75,33],"start":[75,30]}},"type":"Var","value":{"identifier":"job","sourcePos":[68,1]}},"fieldName":"id","type":"Accessor"},"type":"App"}],["startTime",{"annotation":{"meta":null,"sourceSpan":{"end":[76,32],"start":[76,23]}},"type":"Var","value":{"identifier":"timestamp","sourcePos":[68,1]}}],["framesRenderedThisSession",{"annotation":{"meta":null,"sourceSpan":{"end":[77,40],"start":[77,39]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}}]]},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[78,21],"start":[74,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[78,21],"start":[78,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[78,15],"start":[78,12]}},"type":"Var","value":{"identifier":"mgr","sourcePos":[68,1]}},"fieldName":"state","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[78,21],"start":[74,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[78,21],"start":[74,7]}},"argument":"$__unused","body":{"annotation":{"meta":null,"sourceSpan":{"end":[86,14],"start":[81,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[86,14],"start":[81,11]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[86,14],"start":[81,24]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[91,47],"start":[68,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[81,27],"start":[81,24]}},"type":"Var","value":{"identifier":"job","sourcePos":[68,1]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[86,14],"start":[81,24]}},"copy":["checkpointFrame","completedAt","compositionId","createdAt","endFrame","format","fps","height","id","name","priority","quality","startFrame","width"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[68,1]}},"type":"ObjectUpdate","updates":[["progress",{"annotation":{"meta":null,"sourceSpan":{"end":[82,67],"start":[82,26]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[91,47],"start":[68,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[82,38],"start":[82,26]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[82,29],"start":[82,26]}},"type":"Var","value":{"identifier":"job","sourcePos":[68,1]}},"fieldName":"progress","type":"Accessor"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[82,67],"start":[82,26]}},"copy":["currentFrame","elapsedTime","error","estimatedTimeRemaining","framesPerSecond","percentage","totalFrames"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[68,1]}},"type":"ObjectUpdate","updates":[["status",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[82,65],"start":[82,50]}},"type":"Var","value":{"identifier":"StatusRendering","moduleName":["Lattice","Services","RenderQueue","Types"]}}]]},"type":"Let"}],["startedAt",{"annotation":{"meta":null,"sourceSpan":{"end":[85,42],"start":[83,27]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[84,23],"start":[84,17]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[84,23],"start":[84,22]}},"binderType":"VarBinder","identifier":"t"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[84,31],"start":[84,27]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[84,33],"start":[84,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[84,33],"start":[84,32]}},"type":"Var","value":{"identifier":"t","sourcePos":[84,22]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[85,24],"start":[85,17]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[85,32],"start":[85,28]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[85,42],"start":[85,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[85,42],"start":[85,33]}},"type":"Var","value":{"identifier":"timestamp","sourcePos":[68,1]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[83,45],"start":[83,32]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[83,35],"start":[83,32]}},"type":"Var","value":{"identifier":"job","sourcePos":[68,1]}},"fieldName":"startedAt","type":"Accessor"}],"type":"Case"}]]},"type":"Let"},"identifier":"startedJob"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[88,98],"start":[88,7]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"liftEffect","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[88,98],"start":[88,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[88,31],"start":[88,20]}},"type":"Var","value":{"identifier":"modify_","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[88,88],"start":[88,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[88,87],"start":[88,33]}},"argument":"s","body":{"annotation":{"meta":null,"sourceSpan":{"end":[88,87],"start":[88,39]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[91,47],"start":[68,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[88,40],"start":[88,39]}},"type":"Var","value":{"identifier":"s","sourcePos":[88,34]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[88,87],"start":[88,39]}},"copy":["activeJobId","framesRenderedThisSession","isPaused","isRunning","startTime"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[68,1]}},"type":"ObjectUpdate","updates":[["jobs",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"insert","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[88,67],"start":[88,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[88,67],"start":[88,61]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[88,64],"start":[88,61]}},"type":"Var","value":{"identifier":"job","sourcePos":[68,1]}},"fieldName":"id","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[88,78],"start":[88,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[88,78],"start":[88,68]}},"type":"Var","value":{"identifier":"startedJob","sourcePos":[81,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[88,85],"start":[88,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[88,85],"start":[88,79]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[88,80],"start":[88,79]}},"type":"Var","value":{"identifier":"s","sourcePos":[88,34]}},"fieldName":"jobs","type":"Accessor"},"type":"App"}]]},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[88,98],"start":[88,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[88,98],"start":[88,89]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[88,92],"start":[88,89]}},"type":"Var","value":{"identifier":"mgr","sourcePos":[68,1]}},"fieldName":"state","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[88,98],"start":[88,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[88,98],"start":[88,7]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[91,17],"start":[91,7]}},"type":"Var","value":{"identifier":"renderLoop","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[91,21],"start":[91,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[91,21],"start":[91,18]}},"type":"Var","value":{"identifier":"mgr","sourcePos":[68,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[91,28],"start":[91,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[91,28],"start":[91,22]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[91,25],"start":[91,22]}},"type":"Var","value":{"identifier":"job","sourcePos":[68,1]}},"fieldName":"id","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[91,37],"start":[91,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[91,37],"start":[91,29]}},"type":"Var","value":{"identifier":"renderer","sourcePos":[72,10]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[91,47],"start":[91,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[91,47],"start":[91,38]}},"type":"Var","value":{"identifier":"timestamp","sourcePos":[68,1]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[70,21],"start":[70,8]}},"type":"Var","value":{"identifier":"maybeRenderer","sourcePos":[69,3]}}],"type":"Case"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"startJob"},{"annotation":{"meta":null,"sourceSpan":{"end":[96,82],"start":[96,1]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[96,82],"start":[96,1]}},"argument":"mgr","body":{"annotation":{"meta":null,"sourceSpan":{"end":[96,82],"start":[96,1]}},"argument":"jobId","body":{"annotation":{"meta":null,"sourceSpan":{"end":[96,82],"start":[96,1]}},"argument":"renderer","body":{"annotation":{"meta":null,"sourceSpan":{"end":[96,82],"start":[96,1]}},"argument":"currentTime","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind1","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[98,43],"start":[98,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"liftEffect","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[98,43],"start":[98,12]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[98,33],"start":[98,25]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[98,43],"start":[98,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[98,43],"start":[98,34]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[98,37],"start":[98,34]}},"type":"Var","value":{"identifier":"mgr","sourcePos":[97,1]}},"fieldName":"state","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[98,43],"start":[98,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[98,43],"start":[98,3]}},"argument":"state","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"when","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[101,82],"start":[101,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[101,81],"start":[101,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[101,24],"start":[101,9]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[101,14],"start":[101,9]}},"type":"Var","value":{"identifier":"state","sourcePos":[98,3]}},"fieldName":"isRunning","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[101,81],"start":[101,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[101,81],"start":[101,9]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"not","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[101,46],"start":[101,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[101,46],"start":[101,32]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[101,37],"start":[101,32]}},"type":"Var","value":{"identifier":"state","sourcePos":[98,3]}},"fieldName":"isPaused","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[101,81],"start":[101,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[101,81],"start":[101,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[101,67],"start":[101,50]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[101,55],"start":[101,50]}},"type":"Var","value":{"identifier":"state","sourcePos":[98,3]}},"fieldName":"activeJobId","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[101,81],"start":[101,9]}},"argument":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[101,75],"start":[101,71]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[101,81],"start":[101,71]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[101,81],"start":[101,76]}},"type":"Var","value":{"identifier":"jobId","sourcePos":[97,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[164,54],"start":[101,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,54],"start":[102,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[67,66],"start":[67,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lookup","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,26],"start":[102,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,26],"start":[102,21]}},"type":"Var","value":{"identifier":"jobId","sourcePos":[97,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[102,37],"start":[102,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,37],"start":[102,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[102,32],"start":[102,27]}},"type":"Var","value":{"identifier":"state","sourcePos":[98,3]}},"fieldName":"jobs","type":"Accessor"},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[164,54],"start":[102,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[103,14],"start":[103,7]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure1","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,27],"start":[103,18]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[103,27],"start":[103,23]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[104,15],"start":[104,7]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[104,15],"start":[104,12]}},"binderType":"VarBinder","identifier":"job"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[106,36],"start":[105,9]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[106,36],"start":[106,13]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[106,36],"start":[106,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[106,27],"start":[106,24]}},"type":"Var","value":{"identifier":"job","sourcePos":[104,12]}},"fieldName":"endFrame","type":"Accessor"},"identifier":"endFrame"},{"annotation":{"meta":null,"sourceSpan":{"end":[105,53],"start":[105,13]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[105,53],"start":[105,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[105,53],"start":[105,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[105,31],"start":[105,28]}},"type":"Var","value":{"identifier":"job","sourcePos":[104,12]}},"fieldName":"progress","type":"Accessor"},"fieldName":"currentFrame","type":"Accessor"},"identifier":"currentFrame"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[164,54],"start":[108,9]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[164,54],"start":[108,9]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[114,20],"start":[111,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[114,20],"start":[111,17]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[114,20],"start":[111,32]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[164,54],"start":[97,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[111,35],"start":[111,32]}},"type":"Var","value":{"identifier":"job","sourcePos":[104,12]}},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[114,20],"start":[111,32]}},"copy":["checkpointFrame","compositionId","createdAt","endFrame","format","fps","height","id","name","priority","quality","startFrame","startedAt","width"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[97,1]}},"type":"ObjectUpdate","updates":[["progress",{"annotation":{"meta":null,"sourceSpan":{"end":[112,73],"start":[112,32]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[164,54],"start":[97,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[112,44],"start":[112,32]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[112,35],"start":[112,32]}},"type":"Var","value":{"identifier":"job","sourcePos":[104,12]}},"fieldName":"progress","type":"Accessor"},"identifier":"v2"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[112,73],"start":[112,32]}},"copy":["currentFrame","elapsedTime","error","estimatedTimeRemaining","framesPerSecond","percentage","totalFrames"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v2","sourcePos":[97,1]}},"type":"ObjectUpdate","updates":[["status",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[112,71],"start":[112,56]}},"type":"Var","value":{"identifier":"StatusCompleted","moduleName":["Lattice","Services","RenderQueue","Types"]}}]]},"type":"Let"}],["completedAt",{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[113,39],"start":[113,35]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[113,51],"start":[113,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[113,51],"start":[113,40]}},"type":"Var","value":{"identifier":"currentTime","sourcePos":[97,1]}},"type":"App"}]]},"type":"Let"},"identifier":"completedJob"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[118,27],"start":[115,13]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"liftEffect","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[118,27],"start":[115,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[115,37],"start":[115,26]}},"type":"Var","value":{"identifier":"modify_","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[118,17],"start":[115,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[118,16],"start":[115,39]}},"argument":"s","body":{"annotation":{"meta":null,"sourceSpan":{"end":[118,16],"start":[115,45]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[164,54],"start":[97,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[115,46],"start":[115,45]}},"type":"Var","value":{"identifier":"s","sourcePos":[115,40]}},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[118,16],"start":[115,45]}},"copy":["framesRenderedThisSession","isPaused","isRunning","startTime"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[97,1]}},"type":"ObjectUpdate","updates":[["jobs",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"insert","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[116,40],"start":[116,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[116,40],"start":[116,35]}},"type":"Var","value":{"identifier":"jobId","sourcePos":[97,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[116,53],"start":[116,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[116,53],"start":[116,41]}},"type":"Var","value":{"identifier":"completedJob","sourcePos":[111,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[116,60],"start":[116,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[116,60],"start":[116,54]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[116,55],"start":[116,54]}},"type":"Var","value":{"identifier":"s","sourcePos":[115,40]}},"fieldName":"jobs","type":"Accessor"},"type":"App"}],["activeJobId",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[117,38],"start":[117,31]}},"type":"Var","value":{"identifier":"Nothing","moduleName":["Data","Maybe"]}}]]},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[118,27],"start":[115,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[118,27],"start":[118,18]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[118,21],"start":[118,18]}},"type":"Var","value":{"identifier":"mgr","sourcePos":[97,1]}},"fieldName":"state","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[118,27],"start":[115,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[118,27],"start":[115,13]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind1","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[121,52],"start":[121,13]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"liftEffect","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[121,52],"start":[121,24]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[121,45],"start":[121,37]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[121,52],"start":[121,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[121,52],"start":[121,46]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[121,49],"start":[121,46]}},"type":"Var","value":{"identifier":"mgr","sourcePos":[97,1]}},"fieldName":"db","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[121,52],"start":[121,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[121,52],"start":[121,13]}},"argument":"maybeDb","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,35],"start":[122,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,35],"start":[122,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[123,22],"start":[123,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[123,22],"start":[123,20]}},"binderType":"VarBinder","identifier":"db"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[123,36],"start":[123,26]}},"type":"Var","value":{"identifier":"saveJob","moduleName":["Lattice","Services","RenderQueue","Database"]}},"annotation":{"meta":null,"sourceSpan":{"end":[123,39],"start":[123,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[123,39],"start":[123,37]}},"type":"Var","value":{"identifier":"db","sourcePos":[123,20]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[123,52],"start":[123,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[123,52],"start":[123,40]}},"type":"Var","value":{"identifier":"completedJob","sourcePos":[111,17]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[124,22],"start":[124,15]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure1","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,35],"start":[124,26]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[124,35],"start":[124,31]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[122,25],"start":[122,18]}},"type":"Var","value":{"identifier":"maybeDb","sourcePos":[121,13]}}],"type":"Case"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[124,35],"start":[122,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,35],"start":[122,13]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind1","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[127,50],"start":[127,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[127,40],"start":[127,23]}},"type":"Var","value":{"identifier":"getFramesInternal","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[127,44],"start":[127,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,44],"start":[127,41]}},"type":"Var","value":{"identifier":"mgr","sourcePos":[97,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[127,50],"start":[127,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,50],"start":[127,45]}},"type":"Var","value":{"identifier":"jobId","sourcePos":[97,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[127,50],"start":[127,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,50],"start":[127,13]}},"argument":"frames","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind1","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[128,65],"start":[128,13]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"liftEffect","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[128,65],"start":[128,24]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[128,45],"start":[128,37]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[128,65],"start":[128,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[128,65],"start":[128,46]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[128,49],"start":[128,46]}},"type":"Var","value":{"identifier":"mgr","sourcePos":[97,1]}},"fieldName":"onJobCompleteCb","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[128,65],"start":[128,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[128,65],"start":[128,13]}},"argument":"maybeCb","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[131,35],"start":[129,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[131,35],"start":[129,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[130,22],"start":[130,15]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[130,22],"start":[130,20]}},"binderType":"VarBinder","identifier":"cb"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"liftEffect","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[130,54],"start":[130,26]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[130,41],"start":[130,39]}},"type":"Var","value":{"identifier":"cb","sourcePos":[130,20]}},"annotation":{"meta":null,"sourceSpan":{"end":[130,47],"start":[130,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,47],"start":[130,42]}},"type":"Var","value":{"identifier":"jobId","sourcePos":[97,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[130,54],"start":[130,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,54],"start":[130,48]}},"type":"Var","value":{"identifier":"frames","sourcePos":[127,13]}},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[131,22],"start":[131,15]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure1","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[131,35],"start":[131,26]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[131,35],"start":[131,31]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[129,25],"start":[129,18]}},"type":"Var","value":{"identifier":"maybeCb","sourcePos":[128,13]}}],"type":"Case"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[131,35],"start":[129,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[131,35],"start":[129,13]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[134,27],"start":[134,13]}},"type":"Var","value":{"identifier":"processNextJob","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[134,31],"start":[134,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[134,31],"start":[134,28]}},"type":"Var","value":{"identifier":"mgr","sourcePos":[97,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[134,43],"start":[134,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[134,43],"start":[134,32]}},"type":"Var","value":{"identifier":"currentTime","sourcePos":[97,1]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[164,54],"start":[108,9]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind1","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[138,86],"start":[138,13]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[138,34],"start":[138,26]}},"type":"Var","value":{"identifier":"renderer","sourcePos":[97,1]}},"annotation":{"meta":null,"sourceSpan":{"end":[138,52],"start":[138,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,52],"start":[138,35]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[138,38],"start":[138,35]}},"type":"Var","value":{"identifier":"job","sourcePos":[104,12]}},"fieldName":"compositionId","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,65],"start":[138,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,65],"start":[138,53]}},"type":"Var","value":{"identifier":"currentFrame","sourcePos":[105,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,75],"start":[138,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,75],"start":[138,66]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[138,69],"start":[138,66]}},"type":"Var","value":{"identifier":"job","sourcePos":[104,12]}},"fieldName":"width","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,86],"start":[138,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,86],"start":[138,76]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[138,79],"start":[138,76]}},"type":"Var","value":{"identifier":"job","sourcePos":[104,12]}},"fieldName":"height","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,86],"start":[138,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,86],"start":[138,13]}},"argument":"frameData","body":{"annotation":{"meta":null,"sourceSpan":{"end":[153,64],"start":[141,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[143,65],"start":[143,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[143,65],"start":[143,32]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[143,65],"start":[143,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[143,44],"start":[143,32]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[143,35],"start":[143,32]}},"type":"Var","value":{"identifier":"job","sourcePos":[104,12]}},"fieldName":"endFrame","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[143,65],"start":[143,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[143,61],"start":[143,47]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[143,50],"start":[143,47]}},"type":"Var","value":{"identifier":"job","sourcePos":[104,12]}},"fieldName":"startFrame","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[143,65],"start":[143,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[143,65],"start":[143,64]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"identifier":"totalFrames'"},{"annotation":{"meta":null,"sourceSpan":{"end":[141,44],"start":[141,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[141,44],"start":[141,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[141,40],"start":[141,28]}},"type":"Var","value":{"identifier":"currentFrame","sourcePos":[105,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[141,44],"start":[141,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[141,44],"start":[141,43]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"identifier":"newFrame"},{"annotation":{"meta":null,"sourceSpan":{"end":[142,59],"start":[142,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[142,59],"start":[142,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[142,42],"start":[142,34]}},"type":"Var","value":{"identifier":"newFrame","sourcePos":[141,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[142,59],"start":[142,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[142,59],"start":[142,45]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[142,48],"start":[142,45]}},"type":"Var","value":{"identifier":"job","sourcePos":[104,12]}},"fieldName":"startFrame","type":"Accessor"},"type":"App"},"identifier":"framesComplete"},{"annotation":{"meta":null,"sourceSpan":{"end":[146,25],"start":[144,17]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[146,25],"start":[144,23]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[146,25],"start":[144,23]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[145,29],"start":[145,24]}},"type":"Var","value":{"identifier":"floor","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[145,87],"start":[145,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[145,86],"start":[145,31]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[145,86],"start":[145,31]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[145,39],"start":[145,31]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[145,54],"start":[145,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[145,54],"start":[145,40]}},"type":"Var","value":{"identifier":"framesComplete","sourcePos":[142,17]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[145,86],"start":[145,31]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[145,65],"start":[145,57]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[145,78],"start":[145,57]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[145,78],"start":[145,66]}},"type":"Var","value":{"identifier":"totalFrames'","sourcePos":[143,17]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[145,86],"start":[145,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[145,86],"start":[145,81]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":100}},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[146,25],"start":[144,23]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[146,25],"start":[146,24]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[144,42],"start":[144,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[144,38],"start":[144,26]}},"type":"Var","value":{"identifier":"totalFrames'","sourcePos":[143,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[144,42],"start":[144,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[144,42],"start":[144,41]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}],"type":"Case"},"identifier":"pct"},{"annotation":{"meta":null,"sourceSpan":{"end":[152,20],"start":[148,17]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[152,20],"start":[148,35]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[164,54],"start":[97,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[148,47],"start":[148,35]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[148,38],"start":[148,35]}},"type":"Var","value":{"identifier":"job","sourcePos":[104,12]}},"fieldName":"progress","type":"Accessor"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[152,20],"start":[148,35]}},"copy":["elapsedTime","error","estimatedTimeRemaining","framesPerSecond","status"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[97,1]}},"type":"ObjectUpdate","updates":[["currentFrame",{"annotation":{"meta":null,"sourceSpan":{"end":[149,44],"start":[149,36]}},"type":"Var","value":{"identifier":"newFrame","sourcePos":[141,17]}}],["totalFrames",{"annotation":{"meta":null,"sourceSpan":{"end":[150,47],"start":[150,35]}},"type":"Var","value":{"identifier":"totalFrames'","sourcePos":[143,17]}}],["percentage",{"annotation":{"meta":null,"sourceSpan":{"end":[151,37],"start":[151,34]}},"type":"Var","value":{"identifier":"pct","sourcePos":[144,17]}}]]},"type":"Let"},"identifier":"updatedProgress"},{"annotation":{"meta":null,"sourceSpan":{"end":[153,64],"start":[153,17]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[153,64],"start":[153,30]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[164,54],"start":[97,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[153,33],"start":[153,30]}},"type":"Var","value":{"identifier":"job","sourcePos":[104,12]}},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[153,64],"start":[153,30]}},"copy":["checkpointFrame","completedAt","compositionId","createdAt","endFrame","format","fps","height","id","name","priority","quality","startFrame","startedAt","width"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[97,1]}},"type":"ObjectUpdate","updates":[["progress",{"annotation":{"meta":null,"sourceSpan":{"end":[153,62],"start":[153,47]}},"type":"Var","value":{"identifier":"updatedProgress","sourcePos":[148,17]}}]]},"type":"Let"},"identifier":"updatedJob"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[158,27],"start":[155,13]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"liftEffect","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[158,27],"start":[155,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[155,37],"start":[155,26]}},"type":"Var","value":{"identifier":"modify_","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[158,17],"start":[155,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[158,16],"start":[155,39]}},"argument":"s","body":{"annotation":{"meta":null,"sourceSpan":{"end":[158,16],"start":[155,45]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[164,54],"start":[97,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[155,46],"start":[155,45]}},"type":"Var","value":{"identifier":"s","sourcePos":[155,40]}},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[158,16],"start":[155,45]}},"copy":["activeJobId","isPaused","isRunning","startTime"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[97,1]}},"type":"ObjectUpdate","updates":[["jobs",{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"insert","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[156,40],"start":[156,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[156,40],"start":[156,35]}},"type":"Var","value":{"identifier":"jobId","sourcePos":[97,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[156,51],"start":[156,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[156,51],"start":[156,41]}},"type":"Var","value":{"identifier":"updatedJob","sourcePos":[153,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[156,58],"start":[156,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[156,58],"start":[156,52]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[156,53],"start":[156,52]}},"type":"Var","value":{"identifier":"s","sourcePos":[155,40]}},"fieldName":"jobs","type":"Accessor"},"type":"App"}],["framesRenderedThisSession",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[157,76],"start":[157,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[157,72],"start":[157,45]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[157,46],"start":[157,45]}},"type":"Var","value":{"identifier":"s","sourcePos":[155,40]}},"fieldName":"framesRenderedThisSession","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[157,76],"start":[157,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[157,76],"start":[157,75]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"}]]},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[158,27],"start":[155,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[158,27],"start":[158,18]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[158,21],"start":[158,18]}},"type":"Var","value":{"identifier":"mgr","sourcePos":[97,1]}},"fieldName":"state","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[158,27],"start":[155,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[158,27],"start":[155,13]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[161,74],"start":[161,13]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"liftEffect","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[161,74],"start":[161,13]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[161,48],"start":[161,26]}},"type":"Var","value":{"identifier":"notifyProgressInternal","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[161,52],"start":[161,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[161,52],"start":[161,49]}},"type":"Var","value":{"identifier":"mgr","sourcePos":[97,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[161,58],"start":[161,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[161,58],"start":[161,53]}},"type":"Var","value":{"identifier":"jobId","sourcePos":[97,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[161,74],"start":[161,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[161,74],"start":[161,59]}},"type":"Var","value":{"identifier":"updatedProgress","sourcePos":[148,17]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[161,74],"start":[161,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[161,74],"start":[161,13]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[164,23],"start":[164,13]}},"type":"Var","value":{"identifier":"renderLoop","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[164,27],"start":[164,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,27],"start":[164,24]}},"type":"Var","value":{"identifier":"mgr","sourcePos":[97,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[164,33],"start":[164,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,33],"start":[164,28]}},"type":"Var","value":{"identifier":"jobId","sourcePos":[97,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[164,42],"start":[164,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,42],"start":[164,34]}},"type":"Var","value":{"identifier":"renderer","sourcePos":[97,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[164,54],"start":[164,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,54],"start":[164,43]}},"type":"Var","value":{"identifier":"currentTime","sourcePos":[97,1]}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[108,35],"start":[108,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[108,24],"start":[108,12]}},"type":"Var","value":{"identifier":"currentFrame","sourcePos":[105,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[108,35],"start":[108,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[108,35],"start":[108,27]}},"type":"Var","value":{"identifier":"endFrame","sourcePos":[106,13]}},"type":"App"}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[67,66],"start":[67,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"renderLoop"},{"annotation":{"meta":null,"sourceSpan":{"end":[39,59],"start":[39,1]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[39,59],"start":[39,1]}},"argument":"mgr","body":{"annotation":{"meta":null,"sourceSpan":{"end":[39,59],"start":[39,1]}},"argument":"currentTime","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[58,37],"start":[40,34]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[60,46],"start":[60,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[60,46],"start":[60,5]}},"argument":"job","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"disj","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[62,82],"start":[62,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[62,82],"start":[62,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[62,26],"start":[62,7]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[62,26],"start":[62,7]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[62,10],"start":[62,7]}},"type":"Var","value":{"identifier":"job","sourcePos":[61,5]}},"fieldName":"progress","type":"Accessor"},"fieldName":"status","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[62,82],"start":[62,7]}},"argument":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[62,43],"start":[62,30]}},"type":"Var","value":{"identifier":"StatusPending","moduleName":["Lattice","Services","RenderQueue","Types"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[62,82],"start":[62,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq1","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[62,82],"start":[62,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[62,66],"start":[62,47]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[62,66],"start":[62,47]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[62,50],"start":[62,47]}},"type":"Var","value":{"identifier":"job","sourcePos":[61,5]}},"fieldName":"progress","type":"Accessor"},"fieldName":"status","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[62,82],"start":[62,7]}},"argument":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[62,82],"start":[62,70]}},"type":"Var","value":{"identifier":"StatusPaused","moduleName":["Lattice","Services","RenderQueue","Types"]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"isPendingOrPaused"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind1","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[41,43],"start":[41,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"liftEffect","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[41,43],"start":[41,12]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[41,33],"start":[41,25]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[41,43],"start":[41,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[41,43],"start":[41,34]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[41,37],"start":[41,34]}},"type":"Var","value":{"identifier":"mgr","sourcePos":[40,1]}},"fieldName":"state","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[41,43],"start":[41,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[41,43],"start":[41,3]}},"argument":"state","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"when","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[42,78],"start":[42,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[42,77],"start":[42,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[42,24],"start":[42,9]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[42,14],"start":[42,9]}},"type":"Var","value":{"identifier":"state","sourcePos":[41,3]}},"fieldName":"isRunning","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[42,77],"start":[42,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[42,77],"start":[42,9]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"not","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[42,46],"start":[42,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[42,46],"start":[42,32]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[42,37],"start":[42,32]}},"type":"Var","value":{"identifier":"state","sourcePos":[41,3]}},"fieldName":"isPaused","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[42,77],"start":[42,9]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[42,59],"start":[42,50]}},"type":"Var","value":{"identifier":"isNothing","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[42,77],"start":[42,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[42,77],"start":[42,60]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[42,65],"start":[42,60]}},"type":"Var","value":{"identifier":"state","sourcePos":[41,3]}},"fieldName":"activeJobId","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[58,37],"start":[42,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[46,69],"start":[44,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[44,58],"start":[44,9]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"fromFoldable","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[44,58],"start":[44,16]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[44,46],"start":[44,36]}},"type":"Var","value":{"identifier":"values","moduleName":["Data","Map","Internal"]}},"annotation":{"meta":null,"sourceSpan":{"end":[44,57],"start":[44,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[44,57],"start":[44,47]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[44,52],"start":[44,47]}},"type":"Var","value":{"identifier":"state","sourcePos":[41,3]}},"fieldName":"jobs","type":"Accessor"},"type":"App"},"type":"App"},"identifier":"jobs"},{"annotation":{"meta":null,"sourceSpan":{"end":[45,58],"start":[45,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[45,35],"start":[45,23]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[45,53],"start":[45,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[45,53],"start":[45,36]}},"type":"Var","value":{"identifier":"isPendingOrPaused","sourcePos":[60,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[45,58],"start":[45,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[45,58],"start":[45,54]}},"type":"Var","value":{"identifier":"jobs","sourcePos":[44,9]}},"type":"App"},"identifier":"pendingJobs"},{"annotation":{"meta":null,"sourceSpan":{"end":[46,69],"start":[46,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[46,34],"start":[46,22]}},"type":"Var","value":{"identifier":"sortBy","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[46,57],"start":[46,22]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"comparing","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[46,56],"start":[46,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[46,56],"start":[46,46]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[46,56],"start":[46,46]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}},"fieldName":"priority","type":"Accessor"},"type":"Abs"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[46,69],"start":[46,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[46,69],"start":[46,58]}},"type":"Var","value":{"identifier":"pendingJobs","sourcePos":[45,9]}},"type":"App"},"identifier":"sortedJobs"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[58,37],"start":[48,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[67,66],"start":[67,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[48,20],"start":[48,10]}},"type":"Var","value":{"identifier":"head","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[48,31],"start":[48,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[48,31],"start":[48,21]}},"type":"Var","value":{"identifier":"sortedJobs","sourcePos":[46,9]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[58,37],"start":[48,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[49,14],"start":[49,7]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[51,75],"start":[51,9]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"liftEffect","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[51,75],"start":[51,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[51,33],"start":[51,22]}},"type":"Var","value":{"identifier":"modify_","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[51,65],"start":[51,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[51,64],"start":[51,35]}},"argument":"s","body":{"annotation":{"meta":null,"sourceSpan":{"end":[51,64],"start":[51,41]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[62,82],"start":[40,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[51,42],"start":[51,41]}},"type":"Var","value":{"identifier":"s","sourcePos":[51,36]}},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[51,64],"start":[51,41]}},"copy":["activeJobId","framesRenderedThisSession","isPaused","jobs","startTime"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[40,1]}},"type":"ObjectUpdate","updates":[["isRunning",{"annotation":{"meta":null,"sourceSpan":{"end":[51,62],"start":[51,57]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}]]},"type":"Let"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[51,75],"start":[51,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[51,75],"start":[51,66]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[51,69],"start":[51,66]}},"type":"Var","value":{"identifier":"mgr","sourcePos":[40,1]}},"fieldName":"state","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[51,75],"start":[51,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[51,75],"start":[51,9]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[52,57],"start":[52,9]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"liftEffect","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[52,57],"start":[52,9]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[52,31],"start":[52,22]}},"type":"Var","value":{"identifier":"write","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[52,39],"start":[52,22]}},"argument":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[52,39],"start":[52,32]}},"type":"Var","value":{"identifier":"Nothing","moduleName":["Data","Maybe"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[52,57],"start":[52,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[52,57],"start":[52,40]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[52,43],"start":[52,40]}},"type":"Var","value":{"identifier":"mgr","sourcePos":[40,1]}},"fieldName":"autoSaveTimer","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[52,57],"start":[52,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[52,57],"start":[52,9]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind1","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[53,60],"start":[53,9]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"liftEffect","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[53,60],"start":[53,20]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[53,41],"start":[53,33]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[53,60],"start":[53,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[53,60],"start":[53,42]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[53,45],"start":[53,42]}},"type":"Var","value":{"identifier":"mgr","sourcePos":[40,1]}},"fieldName":"onQueueEmptyCb","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[53,60],"start":[53,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[53,60],"start":[53,9]}},"argument":"maybeCb","body":{"annotation":{"meta":null,"sourceSpan":{"end":[56,31],"start":[54,9]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[55,18],"start":[55,11]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[55,18],"start":[55,16]}},"binderType":"VarBinder","identifier":"cb"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"liftEffect","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[55,35],"start":[55,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[55,35],"start":[55,33]}},"type":"Var","value":{"identifier":"cb","sourcePos":[55,16]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[56,18],"start":[56,11]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure1","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[56,31],"start":[56,22]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[56,31],"start":[56,27]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[54,21],"start":[54,14]}},"type":"Var","value":{"identifier":"maybeCb","sourcePos":[53,9]}}],"type":"Case"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[57,15],"start":[57,7]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[57,15],"start":[57,12]}},"binderType":"VarBinder","identifier":"job"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[58,17],"start":[58,9]}},"type":"Var","value":{"identifier":"startJob","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[58,21],"start":[58,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[58,21],"start":[58,18]}},"type":"Var","value":{"identifier":"mgr","sourcePos":[40,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[58,25],"start":[58,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[58,25],"start":[58,22]}},"type":"Var","value":{"identifier":"job","sourcePos":[57,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[58,37],"start":[58,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[58,37],"start":[58,26]}},"type":"Var","value":{"identifier":"currentTime","sourcePos":[40,1]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[67,66],"start":[67,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"processNextJob"}]},{"annotation":{"meta":null,"sourceSpan":{"end":[185,54],"start":[185,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[185,54],"start":[185,1]}},"argument":"mgr","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[186,34],"start":[186,24]}},"type":"Var","value":{"identifier":"launchAff_","moduleName":["Effect","Aff"]}},"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[186,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind1","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[187,43],"start":[187,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"liftEffect","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[187,43],"start":[187,12]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[187,33],"start":[187,25]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[187,43],"start":[187,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[187,43],"start":[187,34]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[187,37],"start":[187,34]}},"type":"Var","value":{"identifier":"mgr","sourcePos":[186,1]}},"fieldName":"state","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[187,43],"start":[187,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[187,43],"start":[187,3]}},"argument":"state","body":{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[188,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[189,12],"start":[189,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure1","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[189,25],"start":[189,16]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[189,25],"start":[189,21]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[190,15],"start":[190,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[190,15],"start":[190,10]}},"binderType":"VarBinder","identifier":"jobId"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[190,19]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[185,54],"start":[185,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lookup","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,40],"start":[190,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,40],"start":[190,35]}},"type":"Var","value":{"identifier":"jobId","sourcePos":[190,10]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[190,51],"start":[190,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,51],"start":[190,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[190,46],"start":[190,41]}},"type":"Var","value":{"identifier":"state","sourcePos":[187,3]}},"fieldName":"jobs","type":"Accessor"},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[190,19]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[191,14],"start":[191,7]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure1","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,27],"start":[191,18]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[191,27],"start":[191,23]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[192,15],"start":[192,7]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[192,15],"start":[192,12]}},"binderType":"VarBinder","identifier":"job"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[193,87],"start":[193,9]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[193,87],"start":[193,13]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[193,87],"start":[193,31]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[186,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[193,34],"start":[193,31]}},"type":"Var","value":{"identifier":"job","sourcePos":[192,12]}},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[193,87],"start":[193,31]}},"copy":["completedAt","compositionId","createdAt","endFrame","format","fps","height","id","name","priority","progress","quality","startFrame","startedAt","width"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[186,1]}},"type":"ObjectUpdate","updates":[["checkpointFrame",{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[193,59],"start":[193,55]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[193,85],"start":[193,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[193,85],"start":[193,60]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[193,85],"start":[193,60]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[193,63],"start":[193,60]}},"type":"Var","value":{"identifier":"job","sourcePos":[192,12]}},"fieldName":"progress","type":"Accessor"},"fieldName":"currentFrame","type":"Accessor"},"type":"App"}]]},"type":"Let"},"identifier":"checkpointedJob"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind1","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[194,48],"start":[194,9]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"liftEffect","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[194,48],"start":[194,20]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[194,41],"start":[194,33]}},"type":"Var","value":{"identifier":"read","moduleName":["Effect","Ref"]}},"annotation":{"meta":null,"sourceSpan":{"end":[194,48],"start":[194,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[194,48],"start":[194,42]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[194,45],"start":[194,42]}},"type":"Var","value":{"identifier":"mgr","sourcePos":[186,1]}},"fieldName":"db","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[194,48],"start":[194,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[194,48],"start":[194,9]}},"argument":"maybeDb","body":{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[195,9]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[196,18],"start":[196,11]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[196,18],"start":[196,16]}},"binderType":"VarBinder","identifier":"db"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[196,32],"start":[196,22]}},"type":"Var","value":{"identifier":"saveJob","moduleName":["Lattice","Services","RenderQueue","Database"]}},"annotation":{"meta":null,"sourceSpan":{"end":[196,35],"start":[196,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[196,35],"start":[196,33]}},"type":"Var","value":{"identifier":"db","sourcePos":[196,16]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[196,51],"start":[196,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[196,51],"start":[196,36]}},"type":"Var","value":{"identifier":"checkpointedJob","sourcePos":[193,13]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[197,18],"start":[197,11]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure1","moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]}},"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[197,22]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[197,31],"start":[197,27]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[195,21],"start":[195,14]}},"type":"Var","value":{"identifier":"maybeDb","sourcePos":[194,9]}}],"type":"Case"},"type":"Abs"},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[185,54],"start":[185,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[188,25],"start":[188,8]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[188,13],"start":[188,8]}},"type":"Var","value":{"identifier":"state","sourcePos":[187,3]}},"fieldName":"activeJobId","type":"Accessor"}],"type":"Case"},"type":"Abs"},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"autoSaveCallback"}],"exports":["processNextJob","autoSaveCallback"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[8,1]}},"moduleName":["Control","Applicative"]},{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[8,1]}},"moduleName":["Control","Bind"]},{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[8,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[8,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[8,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[8,1]}},"moduleName":["Data","Function"]},{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[8,1]}},"moduleName":["Data","HeytingAlgebra"]},{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[8,1]}},"moduleName":["Data","Int"]},{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[8,1]}},"moduleName":["Data","List","Types"]},{"annotation":{"meta":null,"sourceSpan":{"end":[20,23],"start":[20,1]}},"moduleName":["Data","Map"]},{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[8,1]}},"moduleName":["Data","Map","Internal"]},{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[8,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[8,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[8,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[8,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[8,1]}},"moduleName":["Data","Unit"]},{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[8,1]}},"moduleName":["Effect"]},{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[8,1]}},"moduleName":["Effect","Aff"]},{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[8,1]}},"moduleName":["Effect","Class"]},{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[8,1]}},"moduleName":["Effect","Ref"]},{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[8,1]}},"moduleName":["Lattice","Services","RenderQueue","Database"]},{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[8,1]}},"moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"]},{"annotation":{"meta":null,"sourceSpan":{"end":[34,4],"start":[31,1]}},"moduleName":["Lattice","Services","RenderQueue","Manager","Types"]},{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[8,1]}},"moduleName":["Lattice","Services","RenderQueue","Types"]},{"annotation":{"meta":null,"sourceSpan":{"end":[13,15],"start":[13,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[197,31],"start":[8,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","RenderQueue","Manager","Rendering"],"modulePath":"src/Lattice/Services/RenderQueue/Manager/Rendering.purs","reExports":{},"sourceSpan":{"end":[197,31],"start":[8,1]}}