{"builtWith":"0.15.15","comments":[{"LineComment":" | Lattice.Services.Audio.CurveShaping - Audio Curve Shaping Functions"},{"LineComment":" |"},{"LineComment":" | Pure mathematical functions for shaping audio-reactive values:"},{"LineComment":" | - Value curve shaping (exponential, logarithmic, smoothstep, bounce)"},{"LineComment":" | - Amplitude curves (power curves for noise gate/compressor)"},{"LineComment":" | - Threshold gating"},{"LineComment":" |"},{"LineComment":" | Source: ui/src/services/audioReactiveMapping.ts (applyCurve)"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[63,15],"start":[63,14]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[63,23],"start":[63,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[82,32],"start":[82,31]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[82,46],"start":[82,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[91,18],"start":[91,17]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[91,22],"start":[91,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[96,16],"start":[96,15]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[96,52],"start":[96,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[145,37],"start":[145,36]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[145,41],"start":[145,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[147,16],"start":[147,14]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[147,20],"start":[147,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[149,21],"start":[149,20]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[149,29],"start":[149,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[123,13],"start":[123,11]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[123,17],"start":[123,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqNumber","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"eq"},{"annotation":{"meta":null,"sourceSpan":{"end":[39,11],"start":[34,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[39,11],"start":[34,1]}},"constructorName":"Linear","fieldNames":[],"type":"Constructor","typeName":"CurveType"},"identifier":"Linear"},{"annotation":{"meta":null,"sourceSpan":{"end":[39,11],"start":[34,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[39,11],"start":[34,1]}},"constructorName":"Exponential","fieldNames":[],"type":"Constructor","typeName":"CurveType"},"identifier":"Exponential"},{"annotation":{"meta":null,"sourceSpan":{"end":[39,11],"start":[34,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[39,11],"start":[34,1]}},"constructorName":"Logarithmic","fieldNames":[],"type":"Constructor","typeName":"CurveType"},"identifier":"Logarithmic"},{"annotation":{"meta":null,"sourceSpan":{"end":[39,11],"start":[34,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[39,11],"start":[34,1]}},"constructorName":"Smoothstep","fieldNames":[],"type":"Constructor","typeName":"CurveType"},"identifier":"Smoothstep"},{"annotation":{"meta":null,"sourceSpan":{"end":[39,11],"start":[34,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[39,11],"start":[34,1]}},"constructorName":"Bounce","fieldNames":[],"type":"Constructor","typeName":"CurveType"},"identifier":"Bounce"},{"annotation":{"meta":null,"sourceSpan":{"end":[41,44],"start":[41,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"Eq$Dict","moduleName":["Data","Eq"]}},"annotation":{"meta":null,"sourceSpan":{"end":[41,44],"start":[41,1]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["eq",{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Linear","moduleName":["Lattice","Services","Audio","CurveShaping"]},"typeName":{"identifier":"CurveType","moduleName":["Lattice","Services","Audio","CurveShaping"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Linear","moduleName":["Lattice","Services","Audio","CurveShaping"]},"typeName":{"identifier":"CurveType","moduleName":["Lattice","Services","Audio","CurveShaping"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Exponential","moduleName":["Lattice","Services","Audio","CurveShaping"]},"typeName":{"identifier":"CurveType","moduleName":["Lattice","Services","Audio","CurveShaping"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Exponential","moduleName":["Lattice","Services","Audio","CurveShaping"]},"typeName":{"identifier":"CurveType","moduleName":["Lattice","Services","Audio","CurveShaping"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Logarithmic","moduleName":["Lattice","Services","Audio","CurveShaping"]},"typeName":{"identifier":"CurveType","moduleName":["Lattice","Services","Audio","CurveShaping"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Logarithmic","moduleName":["Lattice","Services","Audio","CurveShaping"]},"typeName":{"identifier":"CurveType","moduleName":["Lattice","Services","Audio","CurveShaping"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Smoothstep","moduleName":["Lattice","Services","Audio","CurveShaping"]},"typeName":{"identifier":"CurveType","moduleName":["Lattice","Services","Audio","CurveShaping"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Smoothstep","moduleName":["Lattice","Services","Audio","CurveShaping"]},"typeName":{"identifier":"CurveType","moduleName":["Lattice","Services","Audio","CurveShaping"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Bounce","moduleName":["Lattice","Services","Audio","CurveShaping"]},"typeName":{"identifier":"CurveType","moduleName":["Lattice","Services","Audio","CurveShaping"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Bounce","moduleName":["Lattice","Services","Audio","CurveShaping"]},"typeName":{"identifier":"CurveType","moduleName":["Lattice","Services","Audio","CurveShaping"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"x","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"y","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"}]]}},"type":"App"},"identifier":"eqCurveType"},{"annotation":{"meta":null,"sourceSpan":{"end":[48,28],"start":[48,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[48,28],"start":[48,1]}},"argument":"v","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[49,21],"start":[49,13]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[49,25],"start":[49,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[49,25],"start":[49,22]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[49,42],"start":[49,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[49,35],"start":[49,27]}},"type":"Var","value":{"identifier":"min","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[49,39],"start":[49,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[49,39],"start":[49,36]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[49,41],"start":[49,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[49,41],"start":[49,40]}},"type":"Var","value":{"identifier":"v","sourcePos":[49,1]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"clamp01"},{"annotation":{"meta":null,"sourceSpan":{"end":[60,37],"start":[60,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[60,37],"start":[60,1]}},"argument":"value","body":{"annotation":{"meta":null,"sourceSpan":{"end":[63,23],"start":[62,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[62,30],"start":[62,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[62,24],"start":[62,17]}},"type":"Var","value":{"identifier":"clamp01","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[62,30],"start":[62,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[62,30],"start":[62,25]}},"type":"Var","value":{"identifier":"value","sourcePos":[61,1]}},"type":"App"},"identifier":"clamped"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[63,23],"start":[63,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[63,13],"start":[63,6]}},"type":"Var","value":{"identifier":"clamped","sourcePos":[62,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[63,23],"start":[63,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[63,23],"start":[63,16]}},"type":"Var","value":{"identifier":"clamped","sourcePos":[62,7]}},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"exponentialCurve"},{"annotation":{"meta":null,"sourceSpan":{"end":[70,37],"start":[70,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[70,37],"start":[70,1]}},"argument":"value","body":{"annotation":{"meta":null,"sourceSpan":{"end":[73,23],"start":[72,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[72,30],"start":[72,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[72,24],"start":[72,17]}},"type":"Var","value":{"identifier":"clamp01","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[72,30],"start":[72,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[72,30],"start":[72,25]}},"type":"Var","value":{"identifier":"value","sourcePos":[71,1]}},"type":"App"},"identifier":"clamped"}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[73,15],"start":[73,6]}},"type":"Var","value":{"identifier":"sqrt","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[73,23],"start":[73,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[73,23],"start":[73,16]}},"type":"Var","value":{"identifier":"clamped","sourcePos":[72,7]}},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"logarithmicCurve"},{"annotation":{"meta":null,"sourceSpan":{"end":[79,36],"start":[79,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[79,36],"start":[79,1]}},"argument":"value","body":{"annotation":{"meta":null,"sourceSpan":{"end":[82,47],"start":[81,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[81,30],"start":[81,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[81,24],"start":[81,17]}},"type":"Var","value":{"identifier":"clamp01","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[81,30],"start":[81,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[81,30],"start":[81,25]}},"type":"Var","value":{"identifier":"value","sourcePos":[80,1]}},"type":"App"},"identifier":"clamped"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[82,47],"start":[82,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[82,47],"start":[82,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[82,13],"start":[82,6]}},"type":"Var","value":{"identifier":"clamped","sourcePos":[81,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[82,47],"start":[82,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[82,23],"start":[82,16]}},"type":"Var","value":{"identifier":"clamped","sourcePos":[81,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[82,47],"start":[82,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[82,46],"start":[82,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[82,30],"start":[82,27]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":3}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[82,46],"start":[82,27]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[82,46],"start":[82,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[82,36],"start":[82,33]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[82,46],"start":[82,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[82,46],"start":[82,39]}},"type":"Var","value":{"identifier":"clamped","sourcePos":[81,7]}},"type":"App"},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"smoothstepCurve"},{"annotation":{"meta":null,"sourceSpan":{"end":[88,32],"start":[88,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[88,32],"start":[88,1]}},"argument":"value","body":{"annotation":{"meta":null,"sourceSpan":{"end":[96,52],"start":[90,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[90,30],"start":[90,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[90,24],"start":[90,17]}},"type":"Var","value":{"identifier":"clamp01","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[90,30],"start":[90,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[90,30],"start":[90,25]}},"type":"Var","value":{"identifier":"value","sourcePos":[89,1]}},"type":"App"},"identifier":"clamped"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[96,52],"start":[91,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[96,52],"start":[91,6]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[92,34],"start":[92,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[92,34],"start":[92,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[92,14],"start":[92,11]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[92,34],"start":[92,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[92,24],"start":[92,17]}},"type":"Var","value":{"identifier":"clamped","sourcePos":[90,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[92,34],"start":[92,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[92,34],"start":[92,27]}},"type":"Var","value":{"identifier":"clamped","sourcePos":[90,7]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[96,52],"start":[91,6]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[96,52],"start":[94,8]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[94,29],"start":[94,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[94,29],"start":[94,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,23],"start":[94,16]}},"type":"Var","value":{"identifier":"clamped","sourcePos":[90,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[94,29],"start":[94,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,29],"start":[94,26]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"identifier":"t"},{"annotation":{"meta":null,"sourceSpan":{"end":[95,37],"start":[95,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[95,37],"start":[95,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[95,27],"start":[95,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[95,37],"start":[95,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[95,37],"start":[95,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[95,33],"start":[95,30]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[95,37],"start":[95,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[95,37],"start":[95,36]}},"type":"Var","value":{"identifier":"t","sourcePos":[94,12]}},"type":"App"},"type":"App"},"identifier":"overshoot"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[96,52],"start":[96,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[96,14],"start":[96,11]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[96,52],"start":[96,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[96,52],"start":[96,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[96,20],"start":[96,17]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[96,52],"start":[96,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[96,51],"start":[96,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[96,27],"start":[96,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[96,51],"start":[96,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[96,51],"start":[96,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[96,39],"start":[96,30]}},"type":"Var","value":{"identifier":"overshoot","sourcePos":[95,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[96,51],"start":[96,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[96,51],"start":[96,42]}},"type":"Var","value":{"identifier":"overshoot","sourcePos":[95,12]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[91,22],"start":[91,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[91,16],"start":[91,9]}},"type":"Var","value":{"identifier":"clamped","sourcePos":[90,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[91,22],"start":[91,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[91,22],"start":[91,19]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"identifier":"bounceCurve"},{"annotation":{"meta":null,"sourceSpan":{"end":[134,45],"start":[134,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[134,45],"start":[134,1]}},"argument":"value","body":{"annotation":{"meta":null,"sourceSpan":{"end":[134,45],"start":[134,1]}},"argument":"threshold","body":{"annotation":{"meta":null,"sourceSpan":{"end":[134,45],"start":[134,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[135,21],"start":[135,16]}},"binderType":"VarBinder","identifier":"value1"},{"annotation":{"meta":null,"sourceSpan":{"end":[135,31],"start":[135,22]}},"binderType":"VarBinder","identifier":"threshold1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[136,28],"start":[136,25]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[136,22],"start":[136,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[136,10],"start":[136,5]}},"type":"Var","value":{"identifier":"value1","sourcePos":[135,16]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[136,22],"start":[136,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[136,22],"start":[136,13]}},"type":"Var","value":{"identifier":"threshold1","sourcePos":[135,22]}},"type":"App"}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[137,22],"start":[137,17]}},"type":"Var","value":{"identifier":"value1","sourcePos":[135,16]}},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[137,14],"start":[137,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[137,22],"start":[135,1]}},"type":"Var","value":{"identifier":"value","sourcePos":[135,16]}},{"annotation":{"meta":null,"sourceSpan":{"end":[137,22],"start":[135,1]}},"type":"Var","value":{"identifier":"threshold","sourcePos":[135,22]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"applyThreshold"},{"annotation":{"meta":null,"sourceSpan":{"end":[143,63],"start":[143,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[143,63],"start":[143,1]}},"argument":"value","body":{"annotation":{"meta":null,"sourceSpan":{"end":[143,63],"start":[143,1]}},"argument":"threshold","body":{"annotation":{"meta":null,"sourceSpan":{"end":[143,63],"start":[143,1]}},"argument":"knee","body":{"annotation":{"meta":null,"sourceSpan":{"end":[153,25],"start":[145,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[145,41],"start":[145,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[145,41],"start":[145,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[145,28],"start":[145,19]}},"type":"Var","value":{"identifier":"threshold","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[145,41],"start":[145,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[145,41],"start":[145,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[145,35],"start":[145,31]}},"type":"Var","value":{"identifier":"knee","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[145,41],"start":[145,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[145,41],"start":[145,38]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"type":"App"},"identifier":"kneeStart"},{"annotation":{"meta":null,"sourceSpan":{"end":[146,39],"start":[146,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[146,39],"start":[146,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[146,26],"start":[146,17]}},"type":"Var","value":{"identifier":"threshold","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[146,39],"start":[146,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[146,39],"start":[146,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[146,33],"start":[146,29]}},"type":"Var","value":{"identifier":"knee","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[146,39],"start":[146,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[146,39],"start":[146,36]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"type":"App"},"identifier":"kneeEnd"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[153,25],"start":[147,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[153,25],"start":[147,6]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[147,40],"start":[147,26]}},"type":"Var","value":{"identifier":"applyThreshold","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,46],"start":[147,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,46],"start":[147,41]}},"type":"Var","value":{"identifier":"value","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[147,56],"start":[147,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,56],"start":[147,47]}},"type":"Var","value":{"identifier":"threshold","sourcePos":[144,1]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[153,25],"start":[147,6]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[153,25],"start":[148,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[153,25],"start":[148,11]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[148,40],"start":[148,37]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[153,25],"start":[148,11]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[153,25],"start":[149,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[153,25],"start":[149,11]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[149,40],"start":[149,35]}},"type":"Var","value":{"identifier":"value","sourcePos":[144,1]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[153,25],"start":[149,11]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[153,25],"start":[151,8]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[151,42],"start":[151,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[151,42],"start":[151,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[151,34],"start":[151,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[151,22],"start":[151,17]}},"type":"Var","value":{"identifier":"value","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[151,34],"start":[151,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[151,34],"start":[151,25]}},"type":"Var","value":{"identifier":"kneeStart","sourcePos":[145,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[151,42],"start":[151,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[151,42],"start":[151,38]}},"type":"Var","value":{"identifier":"knee","sourcePos":[144,1]}},"type":"App"},"identifier":"t"},{"annotation":{"meta":null,"sourceSpan":{"end":[152,26],"start":[152,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[152,26],"start":[152,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[152,22],"start":[152,21]}},"type":"Var","value":{"identifier":"t","sourcePos":[151,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[152,26],"start":[152,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[152,26],"start":[152,25]}},"type":"Var","value":{"identifier":"t","sourcePos":[151,12]}},"type":"App"},"identifier":"curved"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[153,25],"start":[153,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,16],"start":[153,11]}},"type":"Var","value":{"identifier":"value","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[153,25],"start":[153,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,25],"start":[153,19]}},"type":"Var","value":{"identifier":"curved","sourcePos":[152,12]}},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[149,29],"start":[149,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,19],"start":[149,14]}},"type":"Var","value":{"identifier":"value","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[149,29],"start":[149,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,29],"start":[149,22]}},"type":"Var","value":{"identifier":"kneeEnd","sourcePos":[146,7]}},"type":"App"}],"type":"Case"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[148,31],"start":[148,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[148,19],"start":[148,14]}},"type":"Var","value":{"identifier":"value","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[148,31],"start":[148,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[148,31],"start":[148,22]}},"type":"Var","value":{"identifier":"kneeStart","sourcePos":[145,7]}},"type":"App"}],"type":"Case"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,20],"start":[147,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,13],"start":[147,9]}},"type":"Var","value":{"identifier":"knee","sourcePos":[144,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[147,20],"start":[147,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,20],"start":[147,17]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"applyThresholdSoftKnee"},{"annotation":{"meta":null,"sourceSpan":{"end":[102,44],"start":[102,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[102,44],"start":[102,1]}},"argument":"value","body":{"annotation":{"meta":null,"sourceSpan":{"end":[102,44],"start":[102,1]}},"argument":"curve","body":{"annotation":{"meta":null,"sourceSpan":{"end":[108,30],"start":[103,26]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[104,9],"start":[104,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Linear","moduleName":["Lattice","Services","Audio","CurveShaping"]},"typeName":{"identifier":"CurveType","moduleName":["Lattice","Services","Audio","CurveShaping"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[104,20],"start":[104,13]}},"type":"Var","value":{"identifier":"clamp01","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[104,26],"start":[104,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,26],"start":[104,21]}},"type":"Var","value":{"identifier":"value","sourcePos":[103,1]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[105,14],"start":[105,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Exponential","moduleName":["Lattice","Services","Audio","CurveShaping"]},"typeName":{"identifier":"CurveType","moduleName":["Lattice","Services","Audio","CurveShaping"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[105,34],"start":[105,18]}},"type":"Var","value":{"identifier":"exponentialCurve","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[105,40],"start":[105,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[105,40],"start":[105,35]}},"type":"Var","value":{"identifier":"value","sourcePos":[103,1]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[106,14],"start":[106,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Logarithmic","moduleName":["Lattice","Services","Audio","CurveShaping"]},"typeName":{"identifier":"CurveType","moduleName":["Lattice","Services","Audio","CurveShaping"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[106,34],"start":[106,18]}},"type":"Var","value":{"identifier":"logarithmicCurve","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[106,40],"start":[106,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[106,40],"start":[106,35]}},"type":"Var","value":{"identifier":"value","sourcePos":[103,1]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[107,13],"start":[107,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Smoothstep","moduleName":["Lattice","Services","Audio","CurveShaping"]},"typeName":{"identifier":"CurveType","moduleName":["Lattice","Services","Audio","CurveShaping"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[107,32],"start":[107,17]}},"type":"Var","value":{"identifier":"smoothstepCurve","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[107,38],"start":[107,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[107,38],"start":[107,33]}},"type":"Var","value":{"identifier":"value","sourcePos":[103,1]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[108,9],"start":[108,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Bounce","moduleName":["Lattice","Services","Audio","CurveShaping"]},"typeName":{"identifier":"CurveType","moduleName":["Lattice","Services","Audio","CurveShaping"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[108,24],"start":[108,13]}},"type":"Var","value":{"identifier":"bounceCurve","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[108,30],"start":[108,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[108,30],"start":[108,25]}},"type":"Var","value":{"identifier":"value","sourcePos":[103,1]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[103,36],"start":[103,31]}},"type":"Var","value":{"identifier":"curve","sourcePos":[103,1]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"applyCurve"},{"annotation":{"meta":null,"sourceSpan":{"end":[121,50],"start":[121,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[121,50],"start":[121,1]}},"argument":"value","body":{"annotation":{"meta":null,"sourceSpan":{"end":[121,50],"start":[121,1]}},"argument":"power","body":{"annotation":{"meta":null,"sourceSpan":{"end":[121,50],"start":[121,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[122,26],"start":[122,21]}},"binderType":"VarBinder","identifier":"value1"},{"annotation":{"meta":null,"sourceSpan":{"end":[122,32],"start":[122,27]}},"binderType":"VarBinder","identifier":"power1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[123,25],"start":[123,20]}},"type":"Var","value":{"identifier":"value1","sourcePos":[122,21]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[123,17],"start":[123,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[123,10],"start":[123,5]}},"type":"Var","value":{"identifier":"power1","sourcePos":[122,27]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[123,17],"start":[123,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[123,17],"start":[123,14]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"}},{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[124,25],"start":[124,17]}},"type":"Var","value":{"identifier":"pow","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,46],"start":[124,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[124,35],"start":[124,27]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,39],"start":[124,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,39],"start":[124,36]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[124,45],"start":[124,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,45],"start":[124,40]}},"type":"Var","value":{"identifier":"value1","sourcePos":[122,21]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[124,52],"start":[124,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,52],"start":[124,47]}},"type":"Var","value":{"identifier":"power1","sourcePos":[122,27]}},"type":"App"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[124,14],"start":[124,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[124,52],"start":[122,1]}},"type":"Var","value":{"identifier":"value","sourcePos":[122,21]}},{"annotation":{"meta":null,"sourceSpan":{"end":[124,52],"start":[122,1]}},"type":"Var","value":{"identifier":"power","sourcePos":[122,27]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"applyAmplitudeCurve"},{"annotation":{"meta":null,"sourceSpan":{"end":[167,82],"start":[167,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[167,82],"start":[167,1]}},"argument":"value","body":{"annotation":{"meta":null,"sourceSpan":{"end":[167,82],"start":[167,1]}},"argument":"threshold","body":{"annotation":{"meta":null,"sourceSpan":{"end":[167,82],"start":[167,1]}},"argument":"amplitudeCurve","body":{"annotation":{"meta":null,"sourceSpan":{"end":[167,82],"start":[167,1]}},"argument":"curve","body":{"annotation":{"meta":null,"sourceSpan":{"end":[167,82],"start":[167,1]}},"argument":"invert","body":{"annotation":{"meta":null,"sourceSpan":{"end":[172,37],"start":[169,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[169,42],"start":[169,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[169,26],"start":[169,12]}},"type":"Var","value":{"identifier":"applyThreshold","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[169,32],"start":[169,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,32],"start":[169,27]}},"type":"Var","value":{"identifier":"value","sourcePos":[168,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[169,42],"start":[169,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,42],"start":[169,33]}},"type":"Var","value":{"identifier":"threshold","sourcePos":[168,1]}},"type":"App"},"identifier":"v1"},{"annotation":{"meta":null,"sourceSpan":{"end":[170,49],"start":[170,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[170,31],"start":[170,12]}},"type":"Var","value":{"identifier":"applyAmplitudeCurve","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[170,34],"start":[170,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,34],"start":[170,32]}},"type":"Var","value":{"identifier":"v1","sourcePos":[169,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[170,49],"start":[170,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,49],"start":[170,35]}},"type":"Var","value":{"identifier":"amplitudeCurve","sourcePos":[168,1]}},"type":"App"},"identifier":"v2"},{"annotation":{"meta":null,"sourceSpan":{"end":[171,31],"start":[171,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[171,22],"start":[171,12]}},"type":"Var","value":{"identifier":"applyCurve","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[171,25],"start":[171,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,25],"start":[171,23]}},"type":"Var","value":{"identifier":"v2","sourcePos":[170,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[171,31],"start":[171,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,31],"start":[171,26]}},"type":"Var","value":{"identifier":"curve","sourcePos":[168,1]}},"type":"App"},"identifier":"v3"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[172,37],"start":[172,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[172,37],"start":[172,6]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Audio","CurveShaping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[172,29],"start":[172,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,24],"start":[172,21]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[172,29],"start":[172,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,29],"start":[172,27]}},"type":"Var","value":{"identifier":"v3","sourcePos":[171,7]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[172,37],"start":[172,6]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[172,37],"start":[172,35]}},"type":"Var","value":{"identifier":"v3","sourcePos":[171,7]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[172,15],"start":[172,9]}},"type":"Var","value":{"identifier":"invert","sourcePos":[168,1]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"processAudioValue"}],"exports":["Linear","Exponential","Logarithmic","Smoothstep","Bounce","clamp01","exponentialCurve","logarithmicCurve","smoothstepCurve","bounceCurve","applyCurve","applyAmplitudeCurve","applyThreshold","applyThresholdSoftKnee","processAudioValue","eqCurveType"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[172,37],"start":[10,1]}},"moduleName":["Data","Boolean"]},{"annotation":{"meta":null,"sourceSpan":{"end":[172,37],"start":[10,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[172,37],"start":[10,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[172,37],"start":[10,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[172,37],"start":[10,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[172,37],"start":[10,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[172,37],"start":[10,1]}},"moduleName":["Lattice","Services","Audio","CurveShaping"]},{"annotation":{"meta":null,"sourceSpan":{"end":[172,37],"start":[10,1]}},"moduleName":["Math"]},{"annotation":{"meta":null,"sourceSpan":{"end":[26,15],"start":[26,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[172,37],"start":[10,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","Audio","CurveShaping"],"modulePath":"src/Lattice/Services/Audio/CurveShaping.purs","reExports":{},"sourceSpan":{"end":[172,37],"start":[10,1]}}