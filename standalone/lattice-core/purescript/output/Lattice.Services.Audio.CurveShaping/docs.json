{"comments":"Lattice.Services.Audio.CurveShaping - Audio Curve Shaping Functions\n\nPure mathematical functions for shaping audio-reactive values:\n- Value curve shaping (exponential, logarithmic, smoothstep, bounce)\n- Amplitude curves (power curves for noise gate/compressor)\n- Threshold gating\n\nSource: ui/src/services/audioReactiveMapping.ts (applyCurve)\n","declarations":[{"children":[{"comments":null,"info":{"arguments":[],"declType":"dataConstructor"},"sourceSpan":{"end":[35,11],"name":"src/Lattice/Services/Audio/CurveShaping.purs","start":[35,3]},"title":"Linear"},{"comments":null,"info":{"arguments":[],"declType":"dataConstructor"},"sourceSpan":{"end":[36,16],"name":"src/Lattice/Services/Audio/CurveShaping.purs","start":[36,3]},"title":"Exponential"},{"comments":null,"info":{"arguments":[],"declType":"dataConstructor"},"sourceSpan":{"end":[37,16],"name":"src/Lattice/Services/Audio/CurveShaping.purs","start":[37,3]},"title":"Logarithmic"},{"comments":null,"info":{"arguments":[],"declType":"dataConstructor"},"sourceSpan":{"end":[38,15],"name":"src/Lattice/Services/Audio/CurveShaping.purs","start":[38,3]},"title":"Smoothstep"},{"comments":null,"info":{"arguments":[],"declType":"dataConstructor"},"sourceSpan":{"end":[39,11],"name":"src/Lattice/Services/Audio/CurveShaping.purs","start":[39,3]},"title":"Bounce"},{"comments":null,"info":{"declType":"instance","dependencies":[],"type":{"annotation":[],"contents":[{"annotation":[],"contents":[["Data","Eq"],"Eq"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Lattice","Services","Audio","CurveShaping"],"CurveType"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"sourceSpan":{"end":[41,44],"name":"src/Lattice/Services/Audio/CurveShaping.purs","start":[41,1]},"title":"eqCurveType"}],"comments":"Curve type for value shaping\n","info":{"dataDeclType":"data","declType":"data","roles":[],"typeArguments":[]},"kind":null,"sourceSpan":{"end":[39,11],"name":"src/Lattice/Services/Audio/CurveShaping.purs","start":[34,1]},"title":"CurveType"},{"children":[],"comments":"Clamp value to [0, 1] range\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[48,28],"name":"src/Lattice/Services/Audio/CurveShaping.purs","start":[48,1]},"title":"clamp01"},{"children":[],"comments":"Apply exponential curve (square).\n\nCreates more dynamic response - low values become lower,\nhigh values relatively unchanged.\nOutput: x²\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[60,37],"name":"src/Lattice/Services/Audio/CurveShaping.purs","start":[60,1]},"title":"exponentialCurve"},{"children":[],"comments":"Apply logarithmic curve (square root).\n\nCreates compressed response - boosts low values,\ncompresses high values.\nOutput: √x\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[70,37],"name":"src/Lattice/Services/Audio/CurveShaping.purs","start":[70,1]},"title":"logarithmicCurve"},{"children":[],"comments":"Apply smoothstep curve.\n\nS-curve with smooth acceleration and deceleration.\nOutput: 3x² - 2x³\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[79,36],"name":"src/Lattice/Services/Audio/CurveShaping.purs","start":[79,1]},"title":"smoothstepCurve"},{"children":[],"comments":"Apply bounce curve.\n\nOvershoot and bounce back effect.\nTwo-phase quadratic for snappy response.\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[88,32],"name":"src/Lattice/Services/Audio/CurveShaping.purs","start":[88,1]},"title":"bounceCurve"},{"children":[],"comments":"Apply curve shaping to a value.\n\nMaps input value [0,1] through selected curve function.\nAll curves preserve the [0,1] range.\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Lattice","Services","Audio","CurveShaping"],"CurveType"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[102,44],"name":"src/Lattice/Services/Audio/CurveShaping.purs","start":[102,1]},"title":"applyCurve"},{"children":[],"comments":"Apply amplitude curve (power law).\n\namplitudeCurve > 1.0: Expander (emphasize loud, suppress quiet)\namplitudeCurve = 1.0: Linear (no change)\namplitudeCurve < 1.0: Compressor (boost quiet, limit loud)\n\nThis is the core of ATI_AudioReactive style dynamics processing.\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[121,50],"name":"src/Lattice/Services/Audio/CurveShaping.purs","start":[121,1]},"title":"applyAmplitudeCurve"},{"children":[],"comments":"Apply threshold (noise gate).\n\nValues below threshold become 0.\nValues at or above threshold pass through unchanged.\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[134,45],"name":"src/Lattice/Services/Audio/CurveShaping.purs","start":[134,1]},"title":"applyThreshold"},{"children":[],"comments":"Apply threshold with soft knee.\n\nSoft knee provides gradual transition around threshold\ninstead of hard cutoff.\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[143,63],"name":"src/Lattice/Services/Audio/CurveShaping.purs","start":[143,1]},"title":"applyThresholdSoftKnee"},{"children":[],"comments":"Apply full audio value processing chain.\n\n1. Threshold (noise gate)\n2. Amplitude curve (dynamics)\n3. Value curve (shaping)\n4. Inversion (optional)\n\nThis matches the processing order in audioReactiveMapping.ts\n","info":{"declType":"value","type":{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Lattice","Services","Audio","CurveShaping"],"CurveType"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[{"annotation":[],"contents":[{"annotation":[],"contents":[["Prim"],"Function"],"tag":"TypeConstructor"},{"annotation":[],"contents":[["Prim"],"Boolean"],"tag":"TypeConstructor"}],"tag":"TypeApp"},{"annotation":[],"contents":[["Prim"],"Number"],"tag":"TypeConstructor"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}],"tag":"TypeApp"}},"kind":null,"sourceSpan":{"end":[167,82],"name":"src/Lattice/Services/Audio/CurveShaping.purs","start":[167,1]},"title":"processAudioValue"}],"name":"Lattice.Services.Audio.CurveShaping","reExports":[]}