// Generated by purs version 0.15.15
import * as Control_Bind from "../Control.Bind/index.js";
import * as Data_Array from "../Data.Array/index.js";
import * as Data_Eq from "../Data.Eq/index.js";
import * as Data_Identity from "../Data.Identity/index.js";
import * as Data_Show from "../Data.Show/index.js";
import * as Effect_Aff from "../Effect.Aff/index.js";
import * as Lattice_Services_Export_CameraExport_Types from "../Lattice.Services.Export.CameraExport.Types/index.js";
import * as Lattice_Services_Export_ExportPipeline_Validation from "../Lattice.Services.Export.ExportPipeline.Validation/index.js";
import * as Test_Spec from "../Test.Spec/index.js";
import * as Test_Spec_Assertions from "../Test.Spec.Assertions/index.js";
var describe = /* #__PURE__ */ Test_Spec.describe(Data_Identity.monadIdentity);
var it = /* #__PURE__ */ Test_Spec.it(Data_Identity.monadIdentity)(Test_Spec.exampleMUnit);
var shouldEqual = /* #__PURE__ */ Test_Spec_Assertions.shouldEqual(Effect_Aff.monadThrowAff);
var discard = /* #__PURE__ */ Control_Bind.discard(Control_Bind.discardUnit)(/* #__PURE__ */ Test_Spec.bindSpecT(Data_Identity.bindIdentity));
var shouldEqual1 = /* #__PURE__ */ shouldEqual(Data_Show.showBoolean)(Data_Eq.eqBoolean);
var warningTests = /* #__PURE__ */ describe("defaults and constants")(/* #__PURE__ */ it("ExportTarget has 7 constructors")(/* #__PURE__ */ (function () {
    var targets = [ Lattice_Services_Export_CameraExport_Types.TargetMotionCtrl.value, Lattice_Services_Export_CameraExport_Types.TargetMotionCtrlSVD.value, Lattice_Services_Export_CameraExport_Types.TargetWan22FunCamera.value, Lattice_Services_Export_CameraExport_Types.TargetUni3CCamera.value, Lattice_Services_Export_CameraExport_Types.TargetUni3CMotion.value, Lattice_Services_Export_CameraExport_Types.TargetAnimateDiffCameraCtrl.value, Lattice_Services_Export_CameraExport_Types.TargetFullMatrices.value ];
    return shouldEqual(Data_Show.showInt)(Data_Eq.eqInt)(Data_Array.length(targets))(7);
})()));
var targetRequirementTests = /* #__PURE__ */ (function () {
    return describe("target requirements")(discard(it("MotionCtrl requires prompt")(shouldEqual1(Lattice_Services_Export_ExportPipeline_Validation.needsPrompt(Lattice_Services_Export_CameraExport_Types.TargetMotionCtrl.value))(true)))(function () {
        return discard(it("FullMatrices does NOT require prompt")(shouldEqual1(Lattice_Services_Export_ExportPipeline_Validation.needsPrompt(Lattice_Services_Export_CameraExport_Types.TargetFullMatrices.value))(false)))(function () {
            return discard(it("MotionCtrl requires depth map")(shouldEqual1(Lattice_Services_Export_ExportPipeline_Validation.requiresDepthMap(Lattice_Services_Export_CameraExport_Types.TargetMotionCtrl.value))(true)))(function () {
                return discard(it("MotionCtrlSVD requires depth map")(shouldEqual1(Lattice_Services_Export_ExportPipeline_Validation.requiresDepthMap(Lattice_Services_Export_CameraExport_Types.TargetMotionCtrlSVD.value))(true)))(function () {
                    return discard(it("FullMatrices does NOT require depth map")(shouldEqual1(Lattice_Services_Export_ExportPipeline_Validation.requiresDepthMap(Lattice_Services_Export_CameraExport_Types.TargetFullMatrices.value))(false)))(function () {
                        return discard(it("MotionCtrl requires camera data")(shouldEqual1(Lattice_Services_Export_ExportPipeline_Validation.requiresCameraData(Lattice_Services_Export_CameraExport_Types.TargetMotionCtrl.value))(true)))(function () {
                            return discard(it("Wan22FunCamera requires camera data")(shouldEqual1(Lattice_Services_Export_ExportPipeline_Validation.requiresCameraData(Lattice_Services_Export_CameraExport_Types.TargetWan22FunCamera.value))(true)))(function () {
                                return discard(it("AnimateDiffCameraCtrl requires camera data")(shouldEqual1(Lattice_Services_Export_ExportPipeline_Validation.requiresCameraData(Lattice_Services_Export_CameraExport_Types.TargetAnimateDiffCameraCtrl.value))(true)))(function () {
                                    return it("FullMatrices does NOT require camera data")(shouldEqual1(Lattice_Services_Export_ExportPipeline_Validation.requiresCameraData(Lattice_Services_Export_CameraExport_Types.TargetFullMatrices.value))(false));
                                });
                            });
                        });
                    });
                });
            });
        });
    }));
})();
var frameRangeTests = /* #__PURE__ */ describe("validateFrameRange")(/* #__PURE__ */ discard(/* #__PURE__ */ it("accepts valid frame range")(/* #__PURE__ */ (function () {
    var errors = Lattice_Services_Export_ExportPipeline_Validation.validateFrameRange(0)(100)(200);
    return shouldEqual1(Data_Array["null"](errors))(true);
})()))(function () {
    return discard(it("rejects zero frame count")((function () {
        var errors = Lattice_Services_Export_ExportPipeline_Validation.validateFrameRange(0)(100)(0);
        return shouldEqual1(Data_Array.length(errors) > 0)(true);
    })()))(function () {
        return discard(it("rejects negative frame count")((function () {
            var errors = Lattice_Services_Export_ExportPipeline_Validation.validateFrameRange(0)(100)(-10 | 0);
            return shouldEqual1(Data_Array.length(errors) > 0)(true);
        })()))(function () {
            return discard(it("rejects frame count above 1000")((function () {
                var errors = Lattice_Services_Export_ExportPipeline_Validation.validateFrameRange(0)(100)(1001);
                return shouldEqual1(Data_Array.length(errors) > 0)(true);
            })()))(function () {
                return discard(it("rejects start frame >= total frames")((function () {
                    var errors = Lattice_Services_Export_ExportPipeline_Validation.validateFrameRange(100)(200)(50);
                    return shouldEqual1(Data_Array.length(errors) > 0)(true);
                })()))(function () {
                    return it("rejects end frame <= start frame")((function () {
                        var errors = Lattice_Services_Export_ExportPipeline_Validation.validateFrameRange(50)(50)(100);
                        return shouldEqual1(Data_Array.length(errors) > 0)(true);
                    })());
                });
            });
        });
    });
}));
var fpsTests = /* #__PURE__ */ describe("validateFps")(/* #__PURE__ */ discard(/* #__PURE__ */ it("accepts valid FPS (24)")(/* #__PURE__ */ (function () {
    var errors = Lattice_Services_Export_ExportPipeline_Validation.validateFps(24);
    return shouldEqual1(Data_Array["null"](errors))(true);
})()))(function () {
    return discard(it("accepts minimum FPS (1)")((function () {
        var errors = Lattice_Services_Export_ExportPipeline_Validation.validateFps(1);
        return shouldEqual1(Data_Array["null"](errors))(true);
    })()))(function () {
        return discard(it("accepts maximum FPS (120)")((function () {
            var errors = Lattice_Services_Export_ExportPipeline_Validation.validateFps(120);
            return shouldEqual1(Data_Array["null"](errors))(true);
        })()))(function () {
            return discard(it("rejects zero FPS")((function () {
                var errors = Lattice_Services_Export_ExportPipeline_Validation.validateFps(0);
                return shouldEqual1(Data_Array.length(errors) > 0)(true);
            })()))(function () {
                return it("rejects FPS above 120")((function () {
                    var errors = Lattice_Services_Export_ExportPipeline_Validation.validateFps(121);
                    return shouldEqual1(Data_Array.length(errors) > 0)(true);
                })());
            });
        });
    });
}));
var dimensionTests = /* #__PURE__ */ describe("validateDimensions")(/* #__PURE__ */ discard(/* #__PURE__ */ it("accepts valid dimensions")(/* #__PURE__ */ (function () {
    var errors = Lattice_Services_Export_ExportPipeline_Validation.validateDimensions(512)(512);
    return shouldEqual1(Data_Array["null"](errors))(true);
})()))(function () {
    return discard(it("accepts minimum dimensions (64)")((function () {
        var errors = Lattice_Services_Export_ExportPipeline_Validation.validateDimensions(64)(64);
        return shouldEqual1(Data_Array["null"](errors))(true);
    })()))(function () {
        return discard(it("accepts maximum dimensions (4096)")((function () {
            var errors = Lattice_Services_Export_ExportPipeline_Validation.validateDimensions(4096)(4096);
            return shouldEqual1(Data_Array["null"](errors))(true);
        })()))(function () {
            return discard(it("rejects width below 64")((function () {
                var errors = Lattice_Services_Export_ExportPipeline_Validation.validateDimensions(32)(512);
                return shouldEqual1(Data_Array.length(errors) > 0)(true);
            })()))(function () {
                return discard(it("rejects height below 64")((function () {
                    var errors = Lattice_Services_Export_ExportPipeline_Validation.validateDimensions(512)(32);
                    return shouldEqual1(Data_Array.length(errors) > 0)(true);
                })()))(function () {
                    return discard(it("rejects width above 4096")((function () {
                        var errors = Lattice_Services_Export_ExportPipeline_Validation.validateDimensions(8192)(512);
                        return shouldEqual1(Data_Array.length(errors) > 0)(true);
                    })()))(function () {
                        return discard(it("rejects height above 4096")((function () {
                            var errors = Lattice_Services_Export_ExportPipeline_Validation.validateDimensions(512)(8192);
                            return shouldEqual1(Data_Array.length(errors) > 0)(true);
                        })()))(function () {
                            return it("rejects both invalid dimensions")((function () {
                                var errors = Lattice_Services_Export_ExportPipeline_Validation.validateDimensions(-1 | 0)(-1 | 0);
                                return shouldEqual1(Data_Array.length(errors) >= 2)(true);
                            })());
                        });
                    });
                });
            });
        });
    });
}));
var spec = /* #__PURE__ */ describe("PipelineValidation")(/* #__PURE__ */ discard(dimensionTests)(function () {
    return discard(frameRangeTests)(function () {
        return discard(fpsTests)(function () {
            return discard(targetRequirementTests)(function () {
                return warningTests;
            });
        });
    });
}));
export {
    spec
};
//# sourceMappingURL=index.js.map
