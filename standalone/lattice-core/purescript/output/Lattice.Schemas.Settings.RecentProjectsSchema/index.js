// Generated by purs version 0.15.15
import * as Control_Applicative from "../Control.Applicative/index.js";
import * as Control_Bind from "../Control.Bind/index.js";
import * as Data_Array from "../Data.Array/index.js";
import * as Data_Boolean from "../Data.Boolean/index.js";
import * as Data_Either from "../Data.Either/index.js";
import * as Data_Foldable from "../Data.Foldable/index.js";
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Data_Show from "../Data.Show/index.js";
import * as Data_String_CodePoints from "../Data.String.CodePoints/index.js";
import * as Data_Unit from "../Data.Unit/index.js";
import * as Lattice_Schemas_SharedValidation from "../Lattice.Schemas.SharedValidation/index.js";
var bind = /* #__PURE__ */ Control_Bind.bind(Data_Either.bindEither);
var discard = /* #__PURE__ */ Control_Bind.discard(Control_Bind.discardUnit)(Data_Either.bindEither);
var show = /* #__PURE__ */ Data_Show.show(Data_Show.showInt);
var pure = /* #__PURE__ */ Control_Applicative.pure(Data_Either.applicativeEither);
var traverse_ = /* #__PURE__ */ Data_Foldable.traverse_(Data_Either.applicativeEither)(Data_Foldable.foldableArray);
var maxTimestamp = 2147483647;
var maxThumbnailSize = /* #__PURE__ */ (function () {
    return (10 * 1024 | 0) * 1024 | 0;
})();
var validateRecentProject = function (rp) {
    return bind(Lattice_Schemas_SharedValidation.validateEntityId("id")(rp.id))(function () {
        return bind(Lattice_Schemas_SharedValidation.validateNonEmptyString("name")(Lattice_Schemas_SharedValidation.maxNameLength)(rp.name))(function () {
            return discard((function () {
                if (rp.thumbnail instanceof Data_Maybe.Just && Data_String_CodePoints.length(rp.thumbnail.value0) > maxThumbnailSize) {
                    return new Data_Either.Left(Lattice_Schemas_SharedValidation.mkError("thumbnail")("must be at most " + (show(maxThumbnailSize) + " characters")));
                };
                return pure(Data_Unit.unit);
            })())(function () {
                return bind(Lattice_Schemas_SharedValidation.validateNonNegativeInt("modifiedAt")(maxTimestamp)(rp.modifiedAt))(function () {
                    return pure(rp);
                });
            });
        });
    });
};
var safeValidateRecentProject = function (rp) {
    var v = validateRecentProject(rp);
    if (v instanceof Data_Either.Right) {
        return new Data_Maybe.Just(v.value0);
    };
    if (v instanceof Data_Either.Left) {
        return Data_Maybe.Nothing.value;
    };
    throw new Error("Failed pattern match at Lattice.Schemas.Settings.RecentProjectsSchema (line 74, column 3 - line 76, column 22): " + [ v.constructor.name ]);
};
var maxRecentProjects = 100;
var validateRecentProjects = function (projects) {
    if (Data_Array.length(projects) > maxRecentProjects) {
        return new Data_Either.Left(Lattice_Schemas_SharedValidation.mkError("recentProjects")("must have at most " + (show(maxRecentProjects) + " projects")));
    };
    if (Data_Boolean.otherwise) {
        return discard(traverse_(validateRecentProject)(projects))(function () {
            return pure(projects);
        });
    };
    throw new Error("Failed pattern match at Lattice.Schemas.Settings.RecentProjectsSchema (line 83, column 1 - line 83, column 94): " + [ projects.constructor.name ]);
};
var safeValidateRecentProjects = function (projects) {
    var v = validateRecentProjects(projects);
    if (v instanceof Data_Either.Right) {
        return new Data_Maybe.Just(v.value0);
    };
    if (v instanceof Data_Either.Left) {
        return Data_Maybe.Nothing.value;
    };
    throw new Error("Failed pattern match at Lattice.Schemas.Settings.RecentProjectsSchema (line 95, column 3 - line 97, column 22): " + [ v.constructor.name ]);
};
export {
    maxRecentProjects,
    maxThumbnailSize,
    maxTimestamp,
    validateRecentProject,
    safeValidateRecentProject,
    validateRecentProjects,
    safeValidateRecentProjects
};
//# sourceMappingURL=index.js.map
