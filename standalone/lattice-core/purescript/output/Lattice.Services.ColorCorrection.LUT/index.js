// Generated by purs version 0.15.15
import * as Data_Int from "../Data.Int/index.js";
import * as Data_Ord from "../Data.Ord/index.js";
import * as Data_Tuple from "../Data.Tuple/index.js";
import * as $$Math from "../Math/index.js";
var min = /* #__PURE__ */ Data_Ord.min(Data_Ord.ordInt);
var max = /* #__PURE__ */ Data_Ord.max(Data_Ord.ordNumber);
var min1 = /* #__PURE__ */ Data_Ord.min(Data_Ord.ordNumber);
var trilinearParams = function (r) {
    return function (g) {
        return function (b) {
            return function (size) {
                var maxIdx = size - 1 | 0;
                var maxIdxF = Data_Int.toNumber(maxIdx);
                var rIdx = r * maxIdxF;
                var rFrac = rIdx - $$Math.floor(rIdx);
                var r0 = min(Data_Int.floor(rIdx))(maxIdx);
                var r1 = min(r0 + 1 | 0)(maxIdx);
                var gIdx = g * maxIdxF;
                var gFrac = gIdx - $$Math.floor(gIdx);
                var g0 = min(Data_Int.floor(gIdx))(maxIdx);
                var g1 = min(g0 + 1 | 0)(maxIdx);
                var bIdx = b * maxIdxF;
                var bFrac = bIdx - $$Math.floor(bIdx);
                var b0 = min(Data_Int.floor(bIdx))(maxIdx);
                var b1 = min(b0 + 1 | 0)(maxIdx);
                return {
                    r0: r0,
                    r1: r1,
                    g0: g0,
                    g1: g1,
                    b0: b0,
                    b1: b1,
                    rFrac: rFrac,
                    gFrac: gFrac,
                    bFrac: bFrac
                };
            };
        };
    };
};
var trilinearInterpolateChannel = function (c000) {
    return function (c100) {
        return function (c010) {
            return function (c110) {
                return function (c001) {
                    return function (c101) {
                        return function (c011) {
                            return function (c111) {
                                return function (rFrac) {
                                    return function (gFrac) {
                                        return function (bFrac) {
                                            var c11 = c011 + (c111 - c011) * rFrac;
                                            var c10 = c010 + (c110 - c010) * rFrac;
                                            var c01 = c001 + (c101 - c001) * rFrac;
                                            var c1 = c01 + (c11 - c01) * gFrac;
                                            var c00 = c000 + (c100 - c000) * rFrac;
                                            var c0 = c00 + (c10 - c00) * gFrac;
                                            return c0 + (c1 - c0) * bFrac;
                                        };
                                    };
                                };
                            };
                        };
                    };
                };
            };
        };
    };
};
var trilinearInterpolate = function (c000) {
    return function (c100) {
        return function (c010) {
            return function (c110) {
                return function (c001) {
                    return function (c101) {
                        return function (c011) {
                            return function (c111) {
                                return function (params) {
                                    return {
                                        r: trilinearInterpolateChannel(c000.r)(c100.r)(c010.r)(c110.r)(c001.r)(c101.r)(c011.r)(c111.r)(params.rFrac)(params.gFrac)(params.bFrac),
                                        g: trilinearInterpolateChannel(c000.g)(c100.g)(c010.g)(c110.g)(c001.g)(c101.g)(c011.g)(c111.g)(params.rFrac)(params.gFrac)(params.bFrac),
                                        b: trilinearInterpolateChannel(c000.b)(c100.b)(c010.b)(c110.b)(c001.b)(c101.b)(c011.b)(c111.b)(params.rFrac)(params.gFrac)(params.bFrac)
                                    };
                                };
                            };
                        };
                    };
                };
            };
        };
    };
};
var sampleToRGB255 = function (sample) {
    return new Data_Tuple.Tuple(max(0.0)(min1(255.0)(sample.r * 255.0)), new Data_Tuple.Tuple(max(0.0)(min1(255.0)(sample.g * 255.0)), max(0.0)(min1(255.0)(sample.b * 255.0))));
};
var lutIndex = function (r) {
    return function (g) {
        return function (b) {
            return function (size) {
                return function (channel) {
                    return (((((b * size | 0) + g | 0) * size | 0) + r | 0) * 3 | 0) + channel | 0;
                };
            };
        };
    };
};
var blendWithOriginal = function (origR) {
    return function (origG) {
        return function (origB) {
            return function (lutResult) {
                return function (intensity) {
                    var invIntensity = 1.0 - intensity;
                    return {
                        r: origR * invIntensity + lutResult.r * intensity,
                        g: origG * invIntensity + lutResult.g * intensity,
                        b: origB * invIntensity + lutResult.b * intensity
                    };
                };
            };
        };
    };
};
export {
    lutIndex,
    trilinearParams,
    trilinearInterpolateChannel,
    trilinearInterpolate,
    blendWithOriginal,
    sampleToRGB255
};
//# sourceMappingURL=index.js.map
