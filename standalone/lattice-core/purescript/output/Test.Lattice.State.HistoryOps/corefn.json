{"builtWith":"0.15.15","comments":[{"LineComment":" | Port of ui/src/__tests__/stores/projectActions.test.ts (history subset)"},{"LineComment":" |"},{"LineComment":" | Tests pure history/undo/redo state transitions."},{"LineComment":" | Effectful tests (autosave, asset management, serialization)"},{"LineComment":" | are deferred to later waves."},{"LineComment":" |"},{"LineComment":" | 22 tests across 5 describe blocks"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[119,11],"start":[119,3]}},"type":"Var","value":{"identifier":"describe","moduleName":["Test","Spec"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[119,25],"start":[119,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"monadIdentity","moduleName":["Data","Identity"]}},"type":"App"},"identifier":"describe"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[126,63],"start":[121,5]}},"type":"Var","value":{"identifier":"discard","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[126,63],"start":[121,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discardUnit","moduleName":["Control","Bind"]}},"type":"App"},"identifier":"discard"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[126,63],"start":[121,5]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindSpecT","moduleName":["Test","Spec"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[126,63],"start":[121,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindIdentity","moduleName":["Data","Identity"]}},"type":"App"},"type":"App"},"identifier":"discard1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[121,7],"start":[121,5]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Spec"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[121,40],"start":[121,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"monadIdentity","moduleName":["Data","Identity"]}},"type":"App"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[121,40],"start":[121,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"exampleMUnit","moduleName":["Test","Spec"]}},"type":"App"},"identifier":"it"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[125,53],"start":[125,42]}},"type":"Var","value":{"identifier":"shouldEqual","moduleName":["Test","Spec","Assertions"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[125,62],"start":[125,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"monadThrowAff","moduleName":["Effect","Aff"]}},"type":"App"},"identifier":"shouldEqual"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[125,62],"start":[125,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"showString","moduleName":["Data","Show"]}},"type":"App"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[125,62],"start":[125,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqString","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"shouldEqual1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[126,38],"start":[126,34]}},"type":"Var","value":{"identifier":"fail","moduleName":["Test","Spec","Assertions"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[126,63],"start":[126,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"monadThrowAff","moduleName":["Effect","Aff"]}},"type":"App"},"identifier":"fail"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[143,44],"start":[141,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindAff","moduleName":["Effect","Aff"]}},"type":"App"},"identifier":"discard2"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[152,44],"start":[152,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"showBoolean","moduleName":["Data","Show"]}},"type":"App"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[152,44],"start":[152,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqBoolean","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"shouldEqual2"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[76,42],"start":[76,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"showInt","moduleName":["Data","Show"]}},"type":"App"},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[76,42],"start":[76,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqInt","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"shouldEqual3"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[100,20],"start":[100,18]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[100,22],"start":[100,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[101,35],"start":[101,34]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[101,37],"start":[101,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringInt","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[101,63],"start":[101,61]}},"type":"Var","value":{"identifier":"append","moduleName":["Data","Semigroup"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[101,70],"start":[101,53]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupString","moduleName":["Data","Semigroup"]}},"type":"App"},"identifier":"append"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[101,68],"start":[101,64]}},"type":"Var","value":{"identifier":"show","moduleName":["Data","Show"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[101,70],"start":[101,64]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"showInt","moduleName":["Data","Show"]}},"type":"App"},"identifier":"show"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[234,21],"start":[234,20]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[234,41],"start":[234,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[206,38],"start":[206,34]}},"type":"Var","value":{"identifier":"pure","moduleName":["Control","Applicative"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[206,43],"start":[206,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeAff","moduleName":["Effect","Aff"]}},"type":"App"},"identifier":"pure"},{"annotation":{"meta":null,"sourceSpan":{"end":[117,27],"start":[117,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"describe","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[119,25],"start":[119,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,25],"start":[119,12]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"undo / redo"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[177,36],"start":[119,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[126,63],"start":[121,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[121,40],"start":[121,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[121,40],"start":[121,8]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"undo returns previous snapshot"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[126,63],"start":[121,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[122,38],"start":[122,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[122,38],"start":[122,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[122,30],"start":[122,16]}},"type":"Var","value":{"identifier":"mkHistoryState","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[122,38],"start":[122,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[122,38],"start":[122,31]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"first"}},"type":"App"},"identifier":"s0"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[123,39],"start":[123,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[123,39],"start":[123,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[123,27],"start":[123,16]}},"type":"Var","value":{"identifier":"pushHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[123,36],"start":[123,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[123,36],"start":[123,28]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"second"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[123,39],"start":[123,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[123,39],"start":[123,37]}},"type":"Var","value":{"identifier":"s0","sourcePos":[122,11]}},"type":"App"},"identifier":"s1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[126,63],"start":[124,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[117,27],"start":[117,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[124,16],"start":[124,12]}},"type":"Var","value":{"identifier":"undo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,19],"start":[124,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,19],"start":[124,17]}},"type":"Var","value":{"identifier":"s1","sourcePos":[123,11]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[126,63],"start":[124,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[125,32],"start":[125,9]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["snapshot",{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[125,30],"start":[125,21]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[125,30],"start":[125,26]}},"binderType":"VarBinder","identifier":"snap"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}]]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[125,62],"start":[125,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,40],"start":[125,36]}},"type":"Var","value":{"identifier":"snap","sourcePos":[125,26]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[125,62],"start":[125,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,62],"start":[125,55]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"first"}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[126,30],"start":[126,9]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["snapshot",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[126,28],"start":[126,21]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}]]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"fail","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[126,63],"start":[126,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,63],"start":[126,39]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"Expected undo snapshot"}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[117,27],"start":[117,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[126,63],"start":[121,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,63],"start":[121,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[134,63],"start":[128,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[128,36],"start":[128,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[128,36],"start":[128,8]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"redo returns next snapshot"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[134,63],"start":[128,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,38],"start":[129,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[129,38],"start":[129,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[129,30],"start":[129,16]}},"type":"Var","value":{"identifier":"mkHistoryState","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[129,38],"start":[129,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[129,38],"start":[129,31]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"first"}},"type":"App"},"identifier":"s0"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[130,39],"start":[130,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[130,39],"start":[130,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[130,27],"start":[130,16]}},"type":"Var","value":{"identifier":"pushHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[130,36],"start":[130,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,36],"start":[130,28]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"second"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[130,39],"start":[130,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,39],"start":[130,37]}},"type":"Var","value":{"identifier":"s0","sourcePos":[129,11]}},"type":"App"},"identifier":"s1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[131,34],"start":[131,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[117,27],"start":[117,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[131,31],"start":[131,27]}},"type":"Var","value":{"identifier":"undo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[131,34],"start":[131,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[131,34],"start":[131,32]}},"type":"Var","value":{"identifier":"s1","sourcePos":[130,11]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[131,34],"start":[131,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[131,24],"start":[131,11]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["state",{"annotation":{"meta":null,"sourceSpan":{"end":[131,22],"start":[131,20]}},"binderType":"VarBinder","identifier":"s2"}]]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[134,63],"start":[132,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[117,27],"start":[117,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[132,16],"start":[132,12]}},"type":"Var","value":{"identifier":"redo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[132,19],"start":[132,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[132,19],"start":[132,17]}},"type":"Var","value":{"identifier":"s2","sourcePos":[131,20]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[134,63],"start":[132,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[133,32],"start":[133,9]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["snapshot",{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[133,30],"start":[133,21]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[133,30],"start":[133,26]}},"binderType":"VarBinder","identifier":"snap"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}]]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[133,63],"start":[133,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[133,40],"start":[133,36]}},"type":"Var","value":{"identifier":"snap","sourcePos":[133,26]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[133,63],"start":[133,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[133,63],"start":[133,55]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"second"}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[134,30],"start":[134,9]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["snapshot",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[134,28],"start":[134,21]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}]]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"fail","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[134,63],"start":[134,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[134,63],"start":[134,39]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"Expected redo snapshot"}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[117,27],"start":[117,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[117,27],"start":[117,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[134,63],"start":[128,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[134,63],"start":[128,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,44],"start":[136,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[136,34],"start":[136,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[136,34],"start":[136,8]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"multiple undo steps work"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[147,44],"start":[136,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[137,34],"start":[137,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[137,34],"start":[137,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[137,30],"start":[137,16]}},"type":"Var","value":{"identifier":"mkHistoryState","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[137,34],"start":[137,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[137,34],"start":[137,31]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"a"}},"type":"App"},"identifier":"s0"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[138,34],"start":[138,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[138,34],"start":[138,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[138,27],"start":[138,16]}},"type":"Var","value":{"identifier":"pushHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[138,31],"start":[138,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,31],"start":[138,28]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"b"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,34],"start":[138,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,34],"start":[138,32]}},"type":"Var","value":{"identifier":"s0","sourcePos":[137,11]}},"type":"App"},"identifier":"s1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[139,34],"start":[139,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[139,34],"start":[139,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[139,27],"start":[139,16]}},"type":"Var","value":{"identifier":"pushHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[139,31],"start":[139,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[139,31],"start":[139,28]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"c"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[139,34],"start":[139,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[139,34],"start":[139,32]}},"type":"Var","value":{"identifier":"s1","sourcePos":[138,11]}},"type":"App"},"identifier":"s2"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[140,51],"start":[140,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[117,27],"start":[117,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[140,48],"start":[140,44]}},"type":"Var","value":{"identifier":"undo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[140,51],"start":[140,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[140,51],"start":[140,49]}},"type":"Var","value":{"identifier":"s2","sourcePos":[139,11]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[140,51],"start":[140,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[140,41],"start":[140,11]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["state",{"annotation":{"meta":null,"sourceSpan":{"end":[140,22],"start":[140,20]}},"binderType":"VarBinder","identifier":"s3"}],["snapshot",{"annotation":{"meta":null,"sourceSpan":{"end":[140,39],"start":[140,34]}},"binderType":"VarBinder","identifier":"snap1"}]]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[143,44],"start":[141,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[143,44],"start":[141,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[142,15],"start":[142,9]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[142,15],"start":[142,14]}},"binderType":"VarBinder","identifier":"s"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[142,38],"start":[142,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[142,20],"start":[142,19]}},"type":"Var","value":{"identifier":"s","sourcePos":[142,14]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[142,38],"start":[142,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[142,38],"start":[142,35]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"b"}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[143,16],"start":[143,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"fail","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[143,44],"start":[143,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[143,44],"start":[143,25]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"Expected snapshot"}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[141,17],"start":[141,12]}},"type":"Var","value":{"identifier":"snap1","sourcePos":[140,34]}}],"type":"Case"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[143,44],"start":[141,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[143,44],"start":[141,7]}},"argument":"$__unused","body":{"annotation":{"meta":null,"sourceSpan":{"end":[144,40],"start":[144,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[117,27],"start":[117,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[144,37],"start":[144,33]}},"type":"Var","value":{"identifier":"undo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[144,40],"start":[144,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[144,40],"start":[144,38]}},"type":"Var","value":{"identifier":"s3","sourcePos":[140,20]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[144,40],"start":[144,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[144,30],"start":[144,11]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["snapshot",{"annotation":{"meta":null,"sourceSpan":{"end":[144,28],"start":[144,23]}},"binderType":"VarBinder","identifier":"snap2"}]]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[147,44],"start":[145,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[146,15],"start":[146,9]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[146,15],"start":[146,14]}},"binderType":"VarBinder","identifier":"s"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[146,38],"start":[146,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[146,20],"start":[146,19]}},"type":"Var","value":{"identifier":"s","sourcePos":[146,14]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[146,38],"start":[146,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[146,38],"start":[146,35]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"a"}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[147,16],"start":[147,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"fail","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,44],"start":[147,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,44],"start":[147,25]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"Expected snapshot"}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[145,17],"start":[145,12]}},"type":"Var","value":{"identifier":"snap2","sourcePos":[144,23]}}],"type":"Case"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[117,27],"start":[117,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[117,27],"start":[117,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[147,44],"start":[136,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,44],"start":[136,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[152,44],"start":[149,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[149,43],"start":[149,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,43],"start":[149,8]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"undo at beginning returns Nothing"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[152,44],"start":[149,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,40],"start":[150,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[150,40],"start":[150,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[150,33],"start":[150,19]}},"type":"Var","value":{"identifier":"mkHistoryState","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[150,40],"start":[150,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,40],"start":[150,34]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"only"}},"type":"App"},"identifier":"state"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[151,36],"start":[151,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[117,27],"start":[117,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[151,30],"start":[151,26]}},"type":"Var","value":{"identifier":"undo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[151,36],"start":[151,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[151,36],"start":[151,31]}},"type":"Var","value":{"identifier":"state","sourcePos":[150,11]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[151,36],"start":[151,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[151,23],"start":[151,11]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["snapshot",{"annotation":{"meta":null,"sourceSpan":{"end":[151,21],"start":[151,13]}},"binderType":"VarBinder","identifier":"snapshot"}]]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual2","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[152,44],"start":[152,7]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[152,16],"start":[152,7]}},"type":"Var","value":{"identifier":"isNothing","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[152,25],"start":[152,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[152,25],"start":[152,17]}},"type":"Var","value":{"identifier":"snapshot","sourcePos":[151,13]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[152,44],"start":[152,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[152,44],"start":[152,40]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[117,27],"start":[117,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[152,44],"start":[149,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[152,44],"start":[149,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[157,44],"start":[154,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[154,37],"start":[154,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,37],"start":[154,8]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"redo at end returns Nothing"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[157,44],"start":[154,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,40],"start":[155,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[155,40],"start":[155,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[155,33],"start":[155,19]}},"type":"Var","value":{"identifier":"mkHistoryState","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,40],"start":[155,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,40],"start":[155,34]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"only"}},"type":"App"},"identifier":"state"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[156,36],"start":[156,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[117,27],"start":[117,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[156,30],"start":[156,26]}},"type":"Var","value":{"identifier":"redo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[156,36],"start":[156,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[156,36],"start":[156,31]}},"type":"Var","value":{"identifier":"state","sourcePos":[155,11]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[156,36],"start":[156,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[156,23],"start":[156,11]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["snapshot",{"annotation":{"meta":null,"sourceSpan":{"end":[156,21],"start":[156,13]}},"binderType":"VarBinder","identifier":"snapshot"}]]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual2","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[157,44],"start":[157,7]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[157,16],"start":[157,7]}},"type":"Var","value":{"identifier":"isNothing","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[157,25],"start":[157,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[157,25],"start":[157,17]}},"type":"Var","value":{"identifier":"snapshot","sourcePos":[156,13]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[157,44],"start":[157,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[157,44],"start":[157,40]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[117,27],"start":[117,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[157,44],"start":[154,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[157,44],"start":[154,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[166,49],"start":[159,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[159,46],"start":[159,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[159,46],"start":[159,8]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"undo then redo returns to same state"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[166,49],"start":[159,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[160,38],"start":[160,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[160,38],"start":[160,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[160,30],"start":[160,16]}},"type":"Var","value":{"identifier":"mkHistoryState","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[160,38],"start":[160,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[160,38],"start":[160,31]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"first"}},"type":"App"},"identifier":"s0"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[161,39],"start":[161,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[161,39],"start":[161,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[161,27],"start":[161,16]}},"type":"Var","value":{"identifier":"pushHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[161,36],"start":[161,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[161,36],"start":[161,28]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"second"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[161,39],"start":[161,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[161,39],"start":[161,37]}},"type":"Var","value":{"identifier":"s0","sourcePos":[160,11]}},"type":"App"},"identifier":"s1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[162,34],"start":[162,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[117,27],"start":[117,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[162,31],"start":[162,27]}},"type":"Var","value":{"identifier":"undo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[162,34],"start":[162,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,34],"start":[162,32]}},"type":"Var","value":{"identifier":"s1","sourcePos":[161,11]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[162,34],"start":[162,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[162,24],"start":[162,11]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["state",{"annotation":{"meta":null,"sourceSpan":{"end":[162,22],"start":[162,20]}},"binderType":"VarBinder","identifier":"s2"}]]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[163,33],"start":[163,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[117,27],"start":[117,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[163,30],"start":[163,26]}},"type":"Var","value":{"identifier":"redo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[163,33],"start":[163,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[163,33],"start":[163,31]}},"type":"Var","value":{"identifier":"s2","sourcePos":[162,20]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[163,33],"start":[163,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[163,23],"start":[163,11]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["snapshot",{"annotation":{"meta":null,"sourceSpan":{"end":[163,21],"start":[163,13]}},"binderType":"VarBinder","identifier":"snapshot"}]]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[166,49],"start":[164,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[165,15],"start":[165,9]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[165,15],"start":[165,14]}},"binderType":"VarBinder","identifier":"s"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[165,43],"start":[165,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[165,20],"start":[165,19]}},"type":"Var","value":{"identifier":"s","sourcePos":[165,14]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[165,43],"start":[165,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[165,43],"start":[165,35]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"second"}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[166,16],"start":[166,9]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"fail","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[166,49],"start":[166,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,49],"start":[166,25]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"Expected redo snapshot"}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[164,20],"start":[164,12]}},"type":"Var","value":{"identifier":"snapshot","sourcePos":[163,13]}}],"type":"Case"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[117,27],"start":[117,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[117,27],"start":[117,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[166,49],"start":[159,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,49],"start":[159,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[168,59],"start":[168,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[168,59],"start":[168,8]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"canUndo/canRedo update correctly through sequence"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[177,36],"start":[168,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,34],"start":[169,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[169,34],"start":[169,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[169,30],"start":[169,16]}},"type":"Var","value":{"identifier":"mkHistoryState","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[169,34],"start":[169,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,34],"start":[169,31]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"a"}},"type":"App"},"identifier":"s0"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[170,37],"start":[170,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual2","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[170,37],"start":[170,7]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[170,14],"start":[170,7]}},"type":"Var","value":{"identifier":"canUndo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[170,17],"start":[170,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,17],"start":[170,15]}},"type":"Var","value":{"identifier":"s0","sourcePos":[169,11]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[170,37],"start":[170,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,37],"start":[170,32]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[170,37],"start":[170,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[170,37],"start":[170,7]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[171,37],"start":[171,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual2","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[171,37],"start":[171,7]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[171,14],"start":[171,7]}},"type":"Var","value":{"identifier":"canRedo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[171,17],"start":[171,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,17],"start":[171,15]}},"type":"Var","value":{"identifier":"s0","sourcePos":[169,11]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[171,37],"start":[171,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,37],"start":[171,32]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[171,37],"start":[171,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[171,37],"start":[171,7]}},"argument":"$__unused","body":{"annotation":{"meta":null,"sourceSpan":{"end":[172,34],"start":[172,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[172,34],"start":[172,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[172,27],"start":[172,16]}},"type":"Var","value":{"identifier":"pushHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[172,31],"start":[172,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,31],"start":[172,28]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"b"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[172,34],"start":[172,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[172,34],"start":[172,32]}},"type":"Var","value":{"identifier":"s0","sourcePos":[169,11]}},"type":"App"},"identifier":"s1"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[173,36],"start":[173,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual2","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[173,36],"start":[173,7]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[173,14],"start":[173,7]}},"type":"Var","value":{"identifier":"canUndo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[173,17],"start":[173,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[173,17],"start":[173,15]}},"type":"Var","value":{"identifier":"s1","sourcePos":[172,11]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[173,36],"start":[173,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[173,36],"start":[173,32]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[173,36],"start":[173,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[173,36],"start":[173,7]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[174,37],"start":[174,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual2","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[174,37],"start":[174,7]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[174,14],"start":[174,7]}},"type":"Var","value":{"identifier":"canRedo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[174,17],"start":[174,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[174,17],"start":[174,15]}},"type":"Var","value":{"identifier":"s1","sourcePos":[172,11]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[174,37],"start":[174,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[174,37],"start":[174,32]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[174,37],"start":[174,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[174,37],"start":[174,7]}},"argument":"$__unused","body":{"annotation":{"meta":null,"sourceSpan":{"end":[175,34],"start":[175,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[117,27],"start":[117,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[175,31],"start":[175,27]}},"type":"Var","value":{"identifier":"undo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[175,34],"start":[175,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[175,34],"start":[175,32]}},"type":"Var","value":{"identifier":"s1","sourcePos":[172,11]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[175,34],"start":[175,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[175,24],"start":[175,11]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["state",{"annotation":{"meta":null,"sourceSpan":{"end":[175,22],"start":[175,20]}},"binderType":"VarBinder","identifier":"s2"}]]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[176,37],"start":[176,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual2","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[176,37],"start":[176,7]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[176,14],"start":[176,7]}},"type":"Var","value":{"identifier":"canUndo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[176,17],"start":[176,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[176,17],"start":[176,15]}},"type":"Var","value":{"identifier":"s2","sourcePos":[175,20]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[176,37],"start":[176,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[176,37],"start":[176,32]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[176,37],"start":[176,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[176,37],"start":[176,7]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual2","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[177,36],"start":[177,7]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[177,14],"start":[177,7]}},"type":"Var","value":{"identifier":"canRedo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[177,17],"start":[177,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[177,17],"start":[177,15]}},"type":"Var","value":{"identifier":"s2","sourcePos":[175,20]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[177,36],"start":[177,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[177,36],"start":[177,32]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[117,27],"start":[117,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"identifier":"undoRedoTests"},{"annotation":{"meta":null,"sourceSpan":{"end":[70,23],"start":[70,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"describe","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[72,25],"start":[72,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[72,25],"start":[72,12]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"pushHistory"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[111,63],"start":[72,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[76,42],"start":[74,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[74,35],"start":[74,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[74,35],"start":[74,8]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"adds a state to the stack"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[76,42],"start":[74,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,65],"start":[75,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[75,65],"start":[75,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[75,30],"start":[75,19]}},"type":"Var","value":{"identifier":"pushHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[75,39],"start":[75,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,39],"start":[75,31]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"state2"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[75,65],"start":[75,19]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[75,55],"start":[75,41]}},"type":"Var","value":{"identifier":"mkHistoryState","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[75,64],"start":[75,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,64],"start":[75,56]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"state1"}},"type":"App"},"type":"App"},"identifier":"state"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual3","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[76,42],"start":[76,7]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[76,20],"start":[76,7]}},"type":"Var","value":{"identifier":"historyLength","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[76,26],"start":[76,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[76,26],"start":[76,21]}},"type":"Var","value":{"identifier":"state","sourcePos":[75,11]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[76,42],"start":[76,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[76,42],"start":[76,41]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"},"type":"Let"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[76,42],"start":[74,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[76,42],"start":[74,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[80,34],"start":[78,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[78,33],"start":[78,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[78,33],"start":[78,8]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"updates index to latest"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[80,34],"start":[78,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[79,65],"start":[79,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[79,65],"start":[79,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[79,30],"start":[79,19]}},"type":"Var","value":{"identifier":"pushHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[79,39],"start":[79,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[79,39],"start":[79,31]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"state2"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[79,65],"start":[79,19]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[79,55],"start":[79,41]}},"type":"Var","value":{"identifier":"mkHistoryState","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[79,64],"start":[79,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[79,64],"start":[79,56]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"state1"}},"type":"App"},"type":"App"},"identifier":"state"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual3","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[80,34],"start":[80,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[80,18],"start":[80,7]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[80,12],"start":[80,7]}},"type":"Var","value":{"identifier":"state","sourcePos":[79,11]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[80,34],"start":[80,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[80,34],"start":[80,33]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"Let"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[80,34],"start":[78,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[80,34],"start":[78,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[84,39],"start":[82,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[82,29],"start":[82,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[82,29],"start":[82,8]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"can undo after push"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[84,39],"start":[82,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[83,65],"start":[83,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[83,65],"start":[83,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[83,30],"start":[83,19]}},"type":"Var","value":{"identifier":"pushHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[83,39],"start":[83,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[83,39],"start":[83,31]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"state2"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[83,65],"start":[83,19]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[83,55],"start":[83,41]}},"type":"Var","value":{"identifier":"mkHistoryState","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[83,64],"start":[83,41]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[83,64],"start":[83,56]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"state1"}},"type":"App"},"type":"App"},"identifier":"state"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual2","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[84,39],"start":[84,7]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[84,14],"start":[84,7]}},"type":"Var","value":{"identifier":"canUndo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[84,20],"start":[84,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[84,20],"start":[84,15]}},"type":"Var","value":{"identifier":"state","sourcePos":[83,11]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[84,39],"start":[84,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[84,39],"start":[84,35]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"type":"App"},"type":"Let"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[84,39],"start":[82,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[84,39],"start":[82,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[96,37],"start":[86,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[86,52],"start":[86,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[86,52],"start":[86,8]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"truncates future states on push after undo"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[96,37],"start":[86,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[87,35],"start":[87,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[87,35],"start":[87,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[87,30],"start":[87,16]}},"type":"Var","value":{"identifier":"mkHistoryState","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[87,35],"start":[87,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[87,35],"start":[87,31]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"s0"}},"type":"App"},"identifier":"s0"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[88,35],"start":[88,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[88,35],"start":[88,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[88,27],"start":[88,16]}},"type":"Var","value":{"identifier":"pushHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[88,32],"start":[88,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[88,32],"start":[88,28]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"s1"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[88,35],"start":[88,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[88,35],"start":[88,33]}},"type":"Var","value":{"identifier":"s0","sourcePos":[87,11]}},"type":"App"},"identifier":"s1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[89,35],"start":[89,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[89,35],"start":[89,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[89,27],"start":[89,16]}},"type":"Var","value":{"identifier":"pushHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[89,32],"start":[89,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[89,32],"start":[89,28]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"s2"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[89,35],"start":[89,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[89,35],"start":[89,33]}},"type":"Var","value":{"identifier":"s1","sourcePos":[88,11]}},"type":"App"},"identifier":"s2"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[91,34],"start":[91,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[70,23],"start":[70,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[91,31],"start":[91,27]}},"type":"Var","value":{"identifier":"undo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[91,34],"start":[91,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[91,34],"start":[91,32]}},"type":"Var","value":{"identifier":"s2","sourcePos":[89,11]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[91,34],"start":[91,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[91,24],"start":[91,11]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["state",{"annotation":{"meta":null,"sourceSpan":{"end":[91,22],"start":[91,20]}},"binderType":"VarBinder","identifier":"s3"}]]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[92,34],"start":[92,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[70,23],"start":[70,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[92,31],"start":[92,27]}},"type":"Var","value":{"identifier":"undo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[92,34],"start":[92,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[92,34],"start":[92,32]}},"type":"Var","value":{"identifier":"s3","sourcePos":[91,20]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[92,34],"start":[92,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[92,24],"start":[92,11]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["state",{"annotation":{"meta":null,"sourceSpan":{"end":[92,22],"start":[92,20]}},"binderType":"VarBinder","identifier":"s4"}]]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[94,38],"start":[94,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[94,38],"start":[94,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[94,27],"start":[94,16]}},"type":"Var","value":{"identifier":"pushHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[94,35],"start":[94,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,35],"start":[94,28]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"s_new"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[94,38],"start":[94,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,38],"start":[94,36]}},"type":"Var","value":{"identifier":"s4","sourcePos":[92,20]}},"type":"App"},"identifier":"s5"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[95,39],"start":[95,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual3","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[95,39],"start":[95,7]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[95,20],"start":[95,7]}},"type":"Var","value":{"identifier":"historyLength","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[95,23],"start":[95,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[95,23],"start":[95,21]}},"type":"Var","value":{"identifier":"s5","sourcePos":[94,11]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[95,39],"start":[95,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[95,39],"start":[95,38]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[95,39],"start":[95,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[95,39],"start":[95,7]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual2","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[96,37],"start":[96,7]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[96,14],"start":[96,7]}},"type":"Var","value":{"identifier":"canRedo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[96,17],"start":[96,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[96,17],"start":[96,15]}},"type":"Var","value":{"identifier":"s5","sourcePos":[94,11]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[96,37],"start":[96,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[96,37],"start":[96,32]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[70,23],"start":[70,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[70,23],"start":[70,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[96,37],"start":[86,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[96,37],"start":[86,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,55],"start":[98,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[98,39],"start":[98,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[98,39],"start":[98,8]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"enforces maximum history size"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,55],"start":[98,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[101,78],"start":[99,7]}},"binds":[{"bindType":"Rec","binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[101,78],"start":[99,11]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[101,78],"start":[99,11]}},"argument":"n","body":{"annotation":{"meta":null,"sourceSpan":{"end":[101,78],"start":[99,11]}},"argument":"state","body":{"annotation":{"meta":null,"sourceSpan":{"end":[101,78],"start":[100,13]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[101,78],"start":[100,13]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[100,33],"start":[100,28]}},"type":"Var","value":{"identifier":"state","sourcePos":[99,11]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[101,78],"start":[100,13]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[101,30],"start":[101,18]}},"type":"Var","value":{"identifier":"buildHistory","sourcePos":[99,11]}},"annotation":{"meta":null,"sourceSpan":{"end":[101,38],"start":[101,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[101,37],"start":[101,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[101,33],"start":[101,32]}},"type":"Var","value":{"identifier":"n","sourcePos":[99,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[101,37],"start":[101,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[101,37],"start":[101,36]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[101,78],"start":[101,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[101,51],"start":[101,40]}},"type":"Var","value":{"identifier":"pushHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[101,71],"start":[101,40]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[101,70],"start":[101,53]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[101,60],"start":[101,53]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"state"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[101,70],"start":[101,53]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[101,70],"start":[101,64]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[101,70],"start":[101,69]}},"type":"Var","value":{"identifier":"n","sourcePos":[99,11]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[101,77],"start":[101,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[101,77],"start":[101,72]}},"type":"Var","value":{"identifier":"state","sourcePos":[99,11]}},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[100,22],"start":[100,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[100,17],"start":[100,16]}},"type":"Var","value":{"identifier":"n","sourcePos":[99,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[100,22],"start":[100,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[100,22],"start":[100,21]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"buildHistory"}]}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[102,61],"start":[102,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[102,61],"start":[102,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[102,31],"start":[102,19]}},"type":"Var","value":{"identifier":"buildHistory","sourcePos":[99,11]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,34],"start":[102,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,34],"start":[102,32]}},"type":"Literal","value":{"literalType":"IntLiteral","value":60}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[102,61],"start":[102,19]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[102,50],"start":[102,36]}},"type":"Var","value":{"identifier":"mkHistoryState","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,60],"start":[102,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,60],"start":[102,51]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"initial"}},"type":"App"},"type":"App"},"identifier":"state"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual3","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,55],"start":[103,7]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[103,20],"start":[103,7]}},"type":"Var","value":{"identifier":"historyLength","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,26],"start":[103,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,26],"start":[103,21]}},"type":"Var","value":{"identifier":"state","sourcePos":[102,11]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,55],"start":[103,7]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[103,55],"start":[103,41]}},"type":"Var","value":{"identifier":"maxHistorySize","moduleName":["Lattice","State","HistoryOps"]}},"type":"App"},"type":"Let"},"type":"Let"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,55],"start":[98,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,55],"start":[98,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[105,51],"start":[105,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[105,51],"start":[105,8]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"deep clones state (independent snapshots)"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[111,63],"start":[105,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[106,41],"start":[106,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[106,41],"start":[106,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[106,30],"start":[106,16]}},"type":"Var","value":{"identifier":"mkHistoryState","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[106,41],"start":[106,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[106,41],"start":[106,31]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"original"}},"type":"App"},"identifier":"s0"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[107,41],"start":[107,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[107,41],"start":[107,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[107,27],"start":[107,16]}},"type":"Var","value":{"identifier":"pushHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[107,38],"start":[107,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[107,38],"start":[107,28]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"modified"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[107,41],"start":[107,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[107,41],"start":[107,39]}},"type":"Var","value":{"identifier":"s0","sourcePos":[106,11]}},"type":"App"},"identifier":"s1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[111,63],"start":[109,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[70,23],"start":[70,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[109,16],"start":[109,12]}},"type":"Var","value":{"identifier":"undo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[109,19],"start":[109,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[109,19],"start":[109,17]}},"type":"Var","value":{"identifier":"s1","sourcePos":[107,11]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[111,63],"start":[109,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[110,32],"start":[110,9]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["snapshot",{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[110,30],"start":[110,21]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[110,30],"start":[110,26]}},"binderType":"VarBinder","identifier":"snap"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}]]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[110,65],"start":[110,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[110,40],"start":[110,36]}},"type":"Var","value":{"identifier":"snap","sourcePos":[110,26]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[110,65],"start":[110,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[110,65],"start":[110,55]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"original"}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[111,30],"start":[111,9]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["snapshot",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[111,28],"start":[111,21]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}]]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"fail","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[111,63],"start":[111,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[111,63],"start":[111,39]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"Expected undo snapshot"}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[70,23],"start":[70,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"identifier":"pushTests"},{"annotation":{"meta":null,"sourceSpan":{"end":[46,23],"start":[46,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"describe","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[48,28],"start":[48,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[48,28],"start":[48,12]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"mkHistoryState"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[64,40],"start":[48,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[52,42],"start":[50,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[50,38],"start":[50,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[50,38],"start":[50,8]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"creates state with one entry"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[52,42],"start":[50,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[51,43],"start":[51,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[51,43],"start":[51,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[51,33],"start":[51,19]}},"type":"Var","value":{"identifier":"mkHistoryState","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[51,43],"start":[51,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[51,43],"start":[51,34]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"initial"}},"type":"App"},"identifier":"state"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual3","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[52,42],"start":[52,7]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[52,20],"start":[52,7]}},"type":"Var","value":{"identifier":"historyLength","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[52,26],"start":[52,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[52,26],"start":[52,21]}},"type":"Var","value":{"identifier":"state","sourcePos":[51,11]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[52,42],"start":[52,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[52,42],"start":[52,41]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"Let"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[52,42],"start":[50,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[52,42],"start":[50,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[56,34],"start":[54,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[54,27],"start":[54,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[54,27],"start":[54,8]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"starts at index 0"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[56,34],"start":[54,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[55,43],"start":[55,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[55,43],"start":[55,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[55,33],"start":[55,19]}},"type":"Var","value":{"identifier":"mkHistoryState","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[55,43],"start":[55,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[55,43],"start":[55,34]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"initial"}},"type":"App"},"identifier":"state"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual3","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[56,34],"start":[56,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[56,18],"start":[56,7]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[56,12],"start":[56,7]}},"type":"Var","value":{"identifier":"state","sourcePos":[55,11]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[56,34],"start":[56,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[56,34],"start":[56,33]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"type":"Let"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[56,34],"start":[54,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[56,34],"start":[54,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[60,40],"start":[58,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[58,40],"start":[58,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[58,40],"start":[58,8]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"cannot undo from initial state"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[60,40],"start":[58,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[59,43],"start":[59,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[59,43],"start":[59,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[59,33],"start":[59,19]}},"type":"Var","value":{"identifier":"mkHistoryState","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[59,43],"start":[59,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[59,43],"start":[59,34]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"initial"}},"type":"App"},"identifier":"state"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual2","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[60,40],"start":[60,7]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[60,14],"start":[60,7]}},"type":"Var","value":{"identifier":"canUndo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[60,20],"start":[60,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[60,20],"start":[60,15]}},"type":"Var","value":{"identifier":"state","sourcePos":[59,11]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[60,40],"start":[60,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[60,40],"start":[60,35]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"type":"App"},"type":"Let"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[60,40],"start":[58,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[60,40],"start":[58,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[62,40],"start":[62,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[62,40],"start":[62,8]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"cannot redo from initial state"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[64,40],"start":[62,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[63,43],"start":[63,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[63,43],"start":[63,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[63,33],"start":[63,19]}},"type":"Var","value":{"identifier":"mkHistoryState","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[63,43],"start":[63,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[63,43],"start":[63,34]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"initial"}},"type":"App"},"identifier":"state"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual2","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[64,40],"start":[64,7]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[64,14],"start":[64,7]}},"type":"Var","value":{"identifier":"canRedo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[64,20],"start":[64,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[64,20],"start":[64,15]}},"type":"Var","value":{"identifier":"state","sourcePos":[63,11]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[64,40],"start":[64,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[64,40],"start":[64,35]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"type":"App"},"type":"Let"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"identifier":"initTests"},{"annotation":{"meta":null,"sourceSpan":{"end":[213,27],"start":[213,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"describe","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[215,24],"start":[215,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[215,24],"start":[215,12]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"edge cases"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[248,54],"start":[215,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[234,61],"start":[217,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[217,45],"start":[217,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[217,45],"start":[217,8]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"rapid push/undo/redo sequence works"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[234,61],"start":[217,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[218,35],"start":[218,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[218,35],"start":[218,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[218,30],"start":[218,16]}},"type":"Var","value":{"identifier":"mkHistoryState","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[218,35],"start":[218,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[218,35],"start":[218,31]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"s0"}},"type":"App"},"identifier":"s0"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[220,95],"start":[220,7]}},"binds":[{"bindType":"Rec","binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[220,95],"start":[220,11]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[220,95],"start":[220,11]}},"argument":"n","body":{"annotation":{"meta":null,"sourceSpan":{"end":[220,95],"start":[220,11]}},"argument":"st","body":{"annotation":{"meta":null,"sourceSpan":{"end":[220,95],"start":[220,25]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[220,95],"start":[220,25]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[220,42],"start":[220,40]}},"type":"Var","value":{"identifier":"st","sourcePos":[220,11]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[220,95],"start":[220,25]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[220,54],"start":[220,48]}},"type":"Var","value":{"identifier":"buildN","sourcePos":[220,11]}},"annotation":{"meta":null,"sourceSpan":{"end":[220,62],"start":[220,48]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[220,61],"start":[220,56]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[220,57],"start":[220,56]}},"type":"Var","value":{"identifier":"n","sourcePos":[220,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[220,61],"start":[220,56]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[220,61],"start":[220,60]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[220,95],"start":[220,48]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[220,75],"start":[220,64]}},"type":"Var","value":{"identifier":"pushHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[220,91],"start":[220,64]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[220,90],"start":[220,77]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[220,80],"start":[220,77]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"s"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[220,90],"start":[220,77]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[220,90],"start":[220,84]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[220,90],"start":[220,89]}},"type":"Var","value":{"identifier":"n","sourcePos":[220,11]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[220,94],"start":[220,64]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[220,94],"start":[220,92]}},"type":"Var","value":{"identifier":"st","sourcePos":[220,11]}},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[220,34],"start":[220,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[220,29],"start":[220,28]}},"type":"Var","value":{"identifier":"n","sourcePos":[220,11]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[220,34],"start":[220,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[220,34],"start":[220,33]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"buildN"}]}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[221,29],"start":[221,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[221,29],"start":[221,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[221,23],"start":[221,17]}},"type":"Var","value":{"identifier":"buildN","sourcePos":[220,11]}},"annotation":{"meta":null,"sourceSpan":{"end":[221,26],"start":[221,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[221,26],"start":[221,24]}},"type":"Literal","value":{"literalType":"IntLiteral","value":10}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[221,29],"start":[221,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[221,29],"start":[221,27]}},"type":"Var","value":{"identifier":"s0","sourcePos":[218,11]}},"type":"App"},"identifier":"s10"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[223,34],"start":[223,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[213,27],"start":[213,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[223,30],"start":[223,26]}},"type":"Var","value":{"identifier":"undo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[223,34],"start":[223,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[223,34],"start":[223,31]}},"type":"Var","value":{"identifier":"s10","sourcePos":[221,11]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[223,34],"start":[223,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[223,23],"start":[223,11]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["state",{"annotation":{"meta":null,"sourceSpan":{"end":[223,21],"start":[223,20]}},"binderType":"VarBinder","identifier":"a"}]]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[224,32],"start":[224,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[213,27],"start":[213,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[224,30],"start":[224,26]}},"type":"Var","value":{"identifier":"undo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[224,32],"start":[224,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[224,32],"start":[224,31]}},"type":"Var","value":{"identifier":"a","sourcePos":[223,20]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[224,32],"start":[224,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[224,23],"start":[224,11]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["state",{"annotation":{"meta":null,"sourceSpan":{"end":[224,21],"start":[224,20]}},"binderType":"VarBinder","identifier":"b"}]]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[225,32],"start":[225,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[213,27],"start":[213,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[225,30],"start":[225,26]}},"type":"Var","value":{"identifier":"redo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[225,32],"start":[225,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[225,32],"start":[225,31]}},"type":"Var","value":{"identifier":"b","sourcePos":[224,20]}},"type":"App"},"identifier":"v2"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[225,32],"start":[225,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[225,23],"start":[225,11]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["state",{"annotation":{"meta":null,"sourceSpan":{"end":[225,21],"start":[225,20]}},"binderType":"VarBinder","identifier":"c"}]]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[226,34],"start":[226,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[226,34],"start":[226,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[226,26],"start":[226,15]}},"type":"Var","value":{"identifier":"pushHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[226,32],"start":[226,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[226,32],"start":[226,27]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"new"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[226,34],"start":[226,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[226,34],"start":[226,33]}},"type":"Var","value":{"identifier":"c","sourcePos":[225,20]}},"type":"App"},"identifier":"d"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[227,32],"start":[227,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[213,27],"start":[213,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[227,30],"start":[227,26]}},"type":"Var","value":{"identifier":"undo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[227,32],"start":[227,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[227,32],"start":[227,31]}},"type":"Var","value":{"identifier":"d","sourcePos":[226,11]}},"type":"App"},"identifier":"v3"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[227,32],"start":[227,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[227,23],"start":[227,11]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["state",{"annotation":{"meta":null,"sourceSpan":{"end":[227,21],"start":[227,20]}},"binderType":"VarBinder","identifier":"e"}]]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[228,32],"start":[228,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[213,27],"start":[213,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[228,30],"start":[228,26]}},"type":"Var","value":{"identifier":"undo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[228,32],"start":[228,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[228,32],"start":[228,31]}},"type":"Var","value":{"identifier":"e","sourcePos":[227,20]}},"type":"App"},"identifier":"v4"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[228,32],"start":[228,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[228,23],"start":[228,11]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["state",{"annotation":{"meta":null,"sourceSpan":{"end":[228,21],"start":[228,20]}},"binderType":"VarBinder","identifier":"f"}]]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[229,32],"start":[229,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[213,27],"start":[213,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[229,30],"start":[229,26]}},"type":"Var","value":{"identifier":"undo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[229,32],"start":[229,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[229,32],"start":[229,31]}},"type":"Var","value":{"identifier":"f","sourcePos":[228,20]}},"type":"App"},"identifier":"v5"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[229,32],"start":[229,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[229,23],"start":[229,11]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["state",{"annotation":{"meta":null,"sourceSpan":{"end":[229,21],"start":[229,20]}},"binderType":"VarBinder","identifier":"g"}]]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[230,32],"start":[230,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[213,27],"start":[213,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[230,30],"start":[230,26]}},"type":"Var","value":{"identifier":"redo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[230,32],"start":[230,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[230,32],"start":[230,31]}},"type":"Var","value":{"identifier":"g","sourcePos":[229,20]}},"type":"App"},"identifier":"v6"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[230,32],"start":[230,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[230,23],"start":[230,11]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["state",{"annotation":{"meta":null,"sourceSpan":{"end":[230,21],"start":[230,20]}},"binderType":"VarBinder","identifier":"h"}]]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[231,36],"start":[231,11]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[213,27],"start":[213,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[231,34],"start":[231,30]}},"type":"Var","value":{"identifier":"redo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[231,36],"start":[231,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[231,36],"start":[231,35]}},"type":"Var","value":{"identifier":"h","sourcePos":[230,20]}},"type":"App"},"identifier":"v7"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[231,36],"start":[231,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[231,27],"start":[231,11]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["state",{"annotation":{"meta":null,"sourceSpan":{"end":[231,25],"start":[231,20]}},"binderType":"VarBinder","identifier":"final"}]]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[233,44],"start":[233,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual2","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[233,44],"start":[233,7]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[233,22],"start":[233,20]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[233,24],"start":[233,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[233,24],"start":[233,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[233,19],"start":[233,8]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[233,13],"start":[233,8]}},"type":"Var","value":{"identifier":"final","sourcePos":[231,20]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[233,24],"start":[233,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[233,24],"start":[233,23]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[233,44],"start":[233,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[233,44],"start":[233,40]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[233,44],"start":[233,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[233,44],"start":[233,7]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual2","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[234,61],"start":[234,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[234,41],"start":[234,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[234,19],"start":[234,8]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[234,13],"start":[234,8]}},"type":"Var","value":{"identifier":"final","sourcePos":[231,20]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[234,41],"start":[234,8]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[234,35],"start":[234,22]}},"type":"Var","value":{"identifier":"historyLength","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[234,41],"start":[234,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[234,41],"start":[234,36]}},"type":"Var","value":{"identifier":"final","sourcePos":[231,20]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[234,61],"start":[234,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[234,61],"start":[234,57]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[213,27],"start":[213,1]}},"type":"Var","value":{"identifier":"v7","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[213,27],"start":[213,1]}},"type":"Var","value":{"identifier":"v6","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[213,27],"start":[213,1]}},"type":"Var","value":{"identifier":"v5","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[213,27],"start":[213,1]}},"type":"Var","value":{"identifier":"v4","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[213,27],"start":[213,1]}},"type":"Var","value":{"identifier":"v3","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[213,27],"start":[213,1]}},"type":"Var","value":{"identifier":"v2","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[213,27],"start":[213,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[213,27],"start":[213,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[234,61],"start":[217,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[234,61],"start":[217,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[236,64],"start":[236,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[236,64],"start":[236,8]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"determinism: same operations produce identical results"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[248,54],"start":[236,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,18],"start":[237,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[244,18],"start":[237,11]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[244,18],"start":[237,11]}},"argument":"init","body":{"annotation":{"meta":null,"sourceSpan":{"end":[244,18],"start":[238,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[238,42],"start":[238,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[238,33],"start":[238,22]}},"type":"Var","value":{"identifier":"pushHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[238,37],"start":[238,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[238,37],"start":[238,34]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"x"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[238,42],"start":[238,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[238,42],"start":[238,38]}},"type":"Var","value":{"identifier":"init","sourcePos":[237,11]}},"type":"App"},"identifier":"s1"},{"annotation":{"meta":null,"sourceSpan":{"end":[239,40],"start":[239,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[239,33],"start":[239,22]}},"type":"Var","value":{"identifier":"pushHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[239,37],"start":[239,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[239,37],"start":[239,34]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"y"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[239,40],"start":[239,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[239,40],"start":[239,38]}},"type":"Var","value":{"identifier":"s1","sourcePos":[238,17]}},"type":"App"},"identifier":"s2"},{"annotation":{"meta":null,"sourceSpan":{"end":[240,40],"start":[240,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[240,33],"start":[240,22]}},"type":"Var","value":{"identifier":"pushHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[240,37],"start":[240,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[240,37],"start":[240,34]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"z"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[240,40],"start":[240,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[240,40],"start":[240,38]}},"type":"Var","value":{"identifier":"s2","sourcePos":[239,17]}},"type":"App"},"identifier":"s3"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[241,40],"start":[241,17]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[213,27],"start":[213,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[241,37],"start":[241,33]}},"type":"Var","value":{"identifier":"undo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[241,40],"start":[241,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[241,40],"start":[241,38]}},"type":"Var","value":{"identifier":"s3","sourcePos":[240,17]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[241,40],"start":[241,17]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[241,30],"start":[241,17]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["state",{"annotation":{"meta":null,"sourceSpan":{"end":[241,28],"start":[241,26]}},"binderType":"VarBinder","identifier":"s4"}]]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[242,40],"start":[242,17]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[213,27],"start":[213,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[242,37],"start":[242,33]}},"type":"Var","value":{"identifier":"undo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[242,40],"start":[242,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[242,40],"start":[242,38]}},"type":"Var","value":{"identifier":"s4","sourcePos":[241,26]}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[242,40],"start":[242,17]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[242,30],"start":[242,17]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["state",{"annotation":{"meta":null,"sourceSpan":{"end":[242,28],"start":[242,26]}},"binderType":"VarBinder","identifier":"s5"}]]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[242,40],"start":[242,17]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[243,40],"start":[243,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[243,33],"start":[243,22]}},"type":"Var","value":{"identifier":"pushHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[243,37],"start":[243,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,37],"start":[243,34]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"w"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[243,40],"start":[243,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,40],"start":[243,38]}},"type":"Var","value":{"identifier":"s5","sourcePos":[242,26]}},"type":"App"},"identifier":"s6"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[244,18],"start":[244,16]}},"type":"Var","value":{"identifier":"s6","sourcePos":[243,17]}},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[213,27],"start":[213,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[213,27],"start":[213,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"Abs"},"identifier":"ops"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[245,40],"start":[245,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[245,40],"start":[245,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[245,19],"start":[245,16]}},"type":"Var","value":{"identifier":"ops","sourcePos":[237,11]}},"annotation":{"meta":null,"sourceSpan":{"end":[245,40],"start":[245,16]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[245,35],"start":[245,21]}},"type":"Var","value":{"identifier":"mkHistoryState","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[245,39],"start":[245,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[245,39],"start":[245,36]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"a"}},"type":"App"},"type":"App"},"identifier":"r1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[246,40],"start":[246,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[246,40],"start":[246,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[246,19],"start":[246,16]}},"type":"Var","value":{"identifier":"ops","sourcePos":[237,11]}},"annotation":{"meta":null,"sourceSpan":{"end":[246,40],"start":[246,16]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[246,35],"start":[246,21]}},"type":"Var","value":{"identifier":"mkHistoryState","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[246,39],"start":[246,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[246,39],"start":[246,36]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"a"}},"type":"App"},"type":"App"},"identifier":"r2"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard2","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[247,38],"start":[247,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual3","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[247,38],"start":[247,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[247,15],"start":[247,7]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[247,9],"start":[247,7]}},"type":"Var","value":{"identifier":"r1","sourcePos":[245,11]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[247,38],"start":[247,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[247,38],"start":[247,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[247,32],"start":[247,30]}},"type":"Var","value":{"identifier":"r2","sourcePos":[246,11]}},"fieldName":"index","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[247,38],"start":[247,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[247,38],"start":[247,7]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual3","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[248,54],"start":[248,7]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[248,20],"start":[248,7]}},"type":"Var","value":{"identifier":"historyLength","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[248,23],"start":[248,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[248,23],"start":[248,21]}},"type":"Var","value":{"identifier":"r1","sourcePos":[245,11]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[248,54],"start":[248,7]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[248,51],"start":[248,38]}},"type":"Var","value":{"identifier":"historyLength","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[248,54],"start":[248,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[248,54],"start":[248,52]}},"type":"Var","value":{"identifier":"r2","sourcePos":[246,11]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"identifier":"edgeCaseTests"},{"annotation":{"meta":null,"sourceSpan":{"end":[183,24],"start":[183,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"describe","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[185,26],"start":[185,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[185,26],"start":[185,12]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"clearHistory"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[207,78],"start":[185,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[192,44],"start":[187,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[187,33],"start":[187,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[187,33],"start":[187,8]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"reduces to single entry"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[192,44],"start":[187,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[188,34],"start":[188,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[188,34],"start":[188,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[188,30],"start":[188,16]}},"type":"Var","value":{"identifier":"mkHistoryState","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[188,34],"start":[188,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[188,34],"start":[188,31]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"a"}},"type":"App"},"identifier":"s0"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[189,34],"start":[189,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[189,34],"start":[189,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[189,27],"start":[189,16]}},"type":"Var","value":{"identifier":"pushHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[189,31],"start":[189,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[189,31],"start":[189,28]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"b"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[189,34],"start":[189,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[189,34],"start":[189,32]}},"type":"Var","value":{"identifier":"s0","sourcePos":[188,11]}},"type":"App"},"identifier":"s1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[190,34],"start":[190,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[190,34],"start":[190,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[190,27],"start":[190,16]}},"type":"Var","value":{"identifier":"pushHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,31],"start":[190,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,31],"start":[190,28]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"c"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[190,34],"start":[190,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,34],"start":[190,32]}},"type":"Var","value":{"identifier":"s1","sourcePos":[189,11]}},"type":"App"},"identifier":"s2"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[191,36],"start":[191,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[191,36],"start":[191,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[191,33],"start":[191,21]}},"type":"Var","value":{"identifier":"clearHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[191,36],"start":[191,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[191,36],"start":[191,34]}},"type":"Var","value":{"identifier":"s2","sourcePos":[190,11]}},"type":"App"},"identifier":"cleared"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual3","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[192,44],"start":[192,7]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[192,20],"start":[192,7]}},"type":"Var","value":{"identifier":"historyLength","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[192,28],"start":[192,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[192,28],"start":[192,21]}},"type":"Var","value":{"identifier":"cleared","sourcePos":[191,11]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[192,44],"start":[192,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[192,44],"start":[192,43]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[192,44],"start":[187,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[192,44],"start":[187,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[198,36],"start":[194,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[194,25],"start":[194,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[194,25],"start":[194,8]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"sets index to 0"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[198,36],"start":[194,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[195,34],"start":[195,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[195,34],"start":[195,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[195,30],"start":[195,16]}},"type":"Var","value":{"identifier":"mkHistoryState","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[195,34],"start":[195,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[195,34],"start":[195,31]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"a"}},"type":"App"},"identifier":"s0"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[196,34],"start":[196,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[196,34],"start":[196,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[196,27],"start":[196,16]}},"type":"Var","value":{"identifier":"pushHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[196,31],"start":[196,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[196,31],"start":[196,28]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"b"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[196,34],"start":[196,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[196,34],"start":[196,32]}},"type":"Var","value":{"identifier":"s0","sourcePos":[195,11]}},"type":"App"},"identifier":"s1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[197,36],"start":[197,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[197,36],"start":[197,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[197,33],"start":[197,21]}},"type":"Var","value":{"identifier":"clearHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[197,36],"start":[197,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[197,36],"start":[197,34]}},"type":"Var","value":{"identifier":"s1","sourcePos":[196,11]}},"type":"App"},"identifier":"cleared"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"shouldEqual3","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[198,36],"start":[198,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[198,20],"start":[198,7]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[198,14],"start":[198,7]}},"type":"Var","value":{"identifier":"cleared","sourcePos":[197,11]}},"fieldName":"index","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[198,36],"start":[198,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[198,36],"start":[198,35]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[198,36],"start":[194,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[198,36],"start":[194,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"it","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[200,33],"start":[200,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[200,33],"start":[200,8]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"preserves current state"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[207,78],"start":[200,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,34],"start":[201,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[201,34],"start":[201,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[201,30],"start":[201,16]}},"type":"Var","value":{"identifier":"mkHistoryState","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[201,34],"start":[201,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,34],"start":[201,31]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"a"}},"type":"App"},"identifier":"s0"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[202,34],"start":[202,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[202,34],"start":[202,11]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[202,27],"start":[202,16]}},"type":"Var","value":{"identifier":"pushHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[202,31],"start":[202,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[202,31],"start":[202,28]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"b"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[202,34],"start":[202,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[202,34],"start":[202,32]}},"type":"Var","value":{"identifier":"s0","sourcePos":[201,11]}},"type":"App"},"identifier":"s1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[203,36],"start":[203,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[203,36],"start":[203,11]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[203,33],"start":[203,21]}},"type":"Var","value":{"identifier":"clearHistory","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[203,36],"start":[203,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[203,36],"start":[203,34]}},"type":"Var","value":{"identifier":"s1","sourcePos":[202,11]}},"type":"App"},"identifier":"cleared"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[207,78],"start":[205,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[183,24],"start":[183,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[205,16],"start":[205,12]}},"type":"Var","value":{"identifier":"undo","moduleName":["Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[205,24],"start":[205,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[205,24],"start":[205,17]}},"type":"Var","value":{"identifier":"cleared","sourcePos":[203,11]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[207,78],"start":[205,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[206,30],"start":[206,9]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["snapshot",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[206,28],"start":[206,21]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}]]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[206,43],"start":[206,34]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[206,43],"start":[206,39]}},"type":"Var","value":{"identifier":"unit","moduleName":["Data","Unit"]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[207,29],"start":[207,9]}},"binderType":"LiteralBinder","literal":{"literalType":"ObjectLiteral","value":[["snapshot",{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[207,27],"start":[207,21]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[207,27],"start":[207,26]}},"binderType":"NullBinder"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}]]}}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"fail","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[207,78],"start":[207,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[207,78],"start":[207,38]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"Should not be able to undo after clear"}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[183,24],"start":[183,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"Let"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"identifier":"clearTests"},{"annotation":{"meta":null,"sourceSpan":{"end":[33,18],"start":[33,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"describe","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[35,24],"start":[35,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[35,24],"start":[35,12]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"HistoryOps"}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[40,18],"start":[35,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[36,14],"start":[36,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[36,14],"start":[36,5]}},"type":"Var","value":{"identifier":"initTests","moduleName":["Test","Lattice","State","HistoryOps"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[36,14],"start":[36,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[36,14],"start":[36,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[37,14],"start":[37,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[37,14],"start":[37,5]}},"type":"Var","value":{"identifier":"pushTests","moduleName":["Test","Lattice","State","HistoryOps"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[37,14],"start":[37,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[37,14],"start":[37,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[38,18],"start":[38,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[38,18],"start":[38,5]}},"type":"Var","value":{"identifier":"undoRedoTests","moduleName":["Test","Lattice","State","HistoryOps"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[38,18],"start":[38,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[38,18],"start":[38,5]}},"argument":"$__unused","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"discard1","moduleName":["Test","Lattice","State","HistoryOps"]}},"annotation":{"meta":null,"sourceSpan":{"end":[39,15],"start":[39,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[39,15],"start":[39,5]}},"type":"Var","value":{"identifier":"clearTests","moduleName":["Test","Lattice","State","HistoryOps"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[39,15],"start":[39,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[39,15],"start":[39,5]}},"argument":"$__unused","body":{"annotation":{"meta":null,"sourceSpan":{"end":[40,18],"start":[40,5]}},"type":"Var","value":{"identifier":"edgeCaseTests","moduleName":["Test","Lattice","State","HistoryOps"]}},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"identifier":"spec"}],"exports":["spec"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[248,54],"start":[9,1]}},"moduleName":["Control","Applicative"]},{"annotation":{"meta":null,"sourceSpan":{"end":[248,54],"start":[9,1]}},"moduleName":["Control","Bind"]},{"annotation":{"meta":null,"sourceSpan":{"end":[248,54],"start":[9,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[248,54],"start":[9,1]}},"moduleName":["Data","Identity"]},{"annotation":{"meta":null,"sourceSpan":{"end":[248,54],"start":[9,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[248,54],"start":[9,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[248,54],"start":[9,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[248,54],"start":[9,1]}},"moduleName":["Data","Semigroup"]},{"annotation":{"meta":null,"sourceSpan":{"end":[248,54],"start":[9,1]}},"moduleName":["Data","Show"]},{"annotation":{"meta":null,"sourceSpan":{"end":[248,54],"start":[9,1]}},"moduleName":["Data","Unit"]},{"annotation":{"meta":null,"sourceSpan":{"end":[248,54],"start":[9,1]}},"moduleName":["Effect","Aff"]},{"annotation":{"meta":null,"sourceSpan":{"end":[248,54],"start":[9,1]}},"moduleName":["Lattice","State","HistoryOps"]},{"annotation":{"meta":null,"sourceSpan":{"end":[11,15],"start":[11,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[248,54],"start":[9,1]}},"moduleName":["Prim"]},{"annotation":{"meta":null,"sourceSpan":{"end":[248,54],"start":[9,1]}},"moduleName":["Test","Lattice","State","HistoryOps"]},{"annotation":{"meta":null,"sourceSpan":{"end":[248,54],"start":[9,1]}},"moduleName":["Test","Spec"]},{"annotation":{"meta":null,"sourceSpan":{"end":[248,54],"start":[9,1]}},"moduleName":["Test","Spec","Assertions"]}],"moduleName":["Test","Lattice","State","HistoryOps"],"modulePath":"test/Lattice/State/HistoryOps.purs","reExports":{},"sourceSpan":{"end":[248,54],"start":[9,1]}}