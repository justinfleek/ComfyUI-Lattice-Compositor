{"builtWith":"0.15.15","comments":[{"LineComment":" | Lattice.Services.Math3D.Lens - Camera lens mathematics"},{"LineComment":" |"},{"LineComment":" | Pure math functions for camera lens calculations."},{"LineComment":" | Converts between focal length, field of view, and zoom values."},{"LineComment":" |"},{"LineComment":" | Source: ui/src/services/math3d.ts (lines 731-825)"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[102,17],"start":[102,15]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[102,21],"start":[102,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[103,36],"start":[103,35]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[103,46],"start":[103,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[103,24],"start":[103,23]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[103,33],"start":[103,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[87,18],"start":[87,16]}},"type":"Var","value":{"identifier":"disj","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[87,33],"start":[87,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"disj"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[87,25],"start":[87,23]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[87,33],"start":[87,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[131,78],"start":[131,77]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[132,79],"start":[131,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[100,58],"start":[100,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[100,58],"start":[100,1]}},"argument":"zoom","body":{"annotation":{"meta":null,"sourceSpan":{"end":[100,58],"start":[100,1]}},"argument":"compWidth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[100,58],"start":[100,1]}},"argument":"filmSize","body":{"annotation":{"meta":null,"sourceSpan":{"end":[100,58],"start":[100,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[101,23],"start":[101,19]}},"binderType":"VarBinder","identifier":"zoom1"},{"annotation":{"meta":null,"sourceSpan":{"end":[101,33],"start":[101,24]}},"binderType":"VarBinder","identifier":"compWidth1"},{"annotation":{"meta":null,"sourceSpan":{"end":[101,42],"start":[101,34]}},"binderType":"VarBinder","identifier":"filmSize1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[102,32],"start":[102,24]}},"type":"Var","value":{"identifier":"filmSize1","sourcePos":[101,34]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,21],"start":[102,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,14],"start":[102,5]}},"type":"Var","value":{"identifier":"compWidth1","sourcePos":[101,24]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[102,21],"start":[102,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,21],"start":[102,18]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}},{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,46],"start":[103,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,33],"start":[103,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,22],"start":[103,18]}},"type":"Var","value":{"identifier":"zoom1","sourcePos":[101,19]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,33],"start":[103,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,33],"start":[103,25]}},"type":"Var","value":{"identifier":"filmSize1","sourcePos":[101,34]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,46],"start":[103,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,46],"start":[103,37]}},"type":"Var","value":{"identifier":"compWidth1","sourcePos":[101,24]}},"type":"App"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[103,14],"start":[103,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[103,46],"start":[101,1]}},"type":"Var","value":{"identifier":"zoom","sourcePos":[101,19]}},{"annotation":{"meta":null,"sourceSpan":{"end":[103,46],"start":[101,1]}},"type":"Var","value":{"identifier":"compWidth","sourcePos":[101,24]}},{"annotation":{"meta":null,"sourceSpan":{"end":[103,46],"start":[101,1]}},"type":"Var","value":{"identifier":"filmSize","sourcePos":[101,34]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"zoomToFocalLength"},{"annotation":{"meta":null,"sourceSpan":{"end":[43,29],"start":[43,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[44,27],"start":[44,22]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":24.89}},"identifier":"super35SensorWidth"},{"annotation":{"meta":null,"sourceSpan":{"end":[51,30],"start":[51,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[52,27],"start":[52,23]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":50}},"identifier":"standardFocalLength"},{"annotation":{"meta":null,"sourceSpan":{"end":[63,29],"start":[63,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[63,29],"start":[63,1]}},"argument":"radians","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[64,47],"start":[64,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[64,27],"start":[64,20]}},"type":"Var","value":{"identifier":"radians","sourcePos":[64,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[64,47],"start":[64,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[64,46],"start":[64,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[64,36],"start":[64,31]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":180}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[64,46],"start":[64,31]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[64,46],"start":[64,39]}},"type":"Var","value":{"identifier":"pi","moduleName":["Data","Number"]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"radToDeg"},{"annotation":{"meta":null,"sourceSpan":{"end":[35,31],"start":[35,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[36,28],"start":[36,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":36}},"identifier":"fullFrameSensorWidth"},{"annotation":{"meta":null,"sourceSpan":{"end":[39,32],"start":[39,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[40,29],"start":[40,25]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":24}},"identifier":"fullFrameSensorHeight"},{"annotation":{"meta":null,"sourceSpan":{"end":[85,47],"start":[85,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[85,47],"start":[85,1]}},"argument":"fov","body":{"annotation":{"meta":null,"sourceSpan":{"end":[85,47],"start":[85,1]}},"argument":"sensorSize","body":{"annotation":{"meta":null,"sourceSpan":{"end":[85,47],"start":[85,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[86,21],"start":[86,18]}},"binderType":"VarBinder","identifier":"fov1"},{"annotation":{"meta":null,"sourceSpan":{"end":[86,32],"start":[86,22]}},"binderType":"VarBinder","identifier":"sensorSize1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[87,46],"start":[87,36]}},"type":"Var","value":{"identifier":"sensorSize1","sourcePos":[86,22]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"disj","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[87,33],"start":[87,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[87,33],"start":[87,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[87,8],"start":[87,5]}},"type":"Var","value":{"identifier":"fov1","sourcePos":[86,18]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[87,33],"start":[87,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[87,15],"start":[87,12]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[87,33],"start":[87,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[87,33],"start":[87,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[87,22],"start":[87,19]}},"type":"Var","value":{"identifier":"fov1","sourcePos":[86,18]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[87,33],"start":[87,5]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[87,33],"start":[87,26]}},"type":"Var","value":{"identifier":"pi","moduleName":["Data","Number"]}},"type":"App"},"type":"App"}},{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[88,58],"start":[88,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[88,27],"start":[88,17]}},"type":"Var","value":{"identifier":"sensorSize1","sourcePos":[86,22]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[88,58],"start":[88,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[88,57],"start":[88,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[88,34],"start":[88,31]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[88,57],"start":[88,31]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[88,45],"start":[88,37]}},"type":"Var","value":{"identifier":"tan","moduleName":["Data","Number"]}},"annotation":{"meta":null,"sourceSpan":{"end":[88,57],"start":[88,37]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[88,56],"start":[88,47]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[88,50],"start":[88,47]}},"type":"Var","value":{"identifier":"fov1","sourcePos":[86,18]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[88,56],"start":[88,47]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[88,56],"start":[88,53]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[88,14],"start":[88,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[88,58],"start":[86,1]}},"type":"Var","value":{"identifier":"fov","sourcePos":[86,18]}},{"annotation":{"meta":null,"sourceSpan":{"end":[88,58],"start":[86,1]}},"type":"Var","value":{"identifier":"sensorSize","sourcePos":[86,22]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"fovToFocalLength"},{"annotation":{"meta":null,"sourceSpan":{"end":[111,58],"start":[111,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[111,58],"start":[111,1]}},"argument":"focalLength","body":{"annotation":{"meta":null,"sourceSpan":{"end":[111,58],"start":[111,1]}},"argument":"compWidth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[111,58],"start":[111,1]}},"argument":"filmSize","body":{"annotation":{"meta":null,"sourceSpan":{"end":[111,58],"start":[111,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[112,30],"start":[112,19]}},"binderType":"VarBinder","identifier":"focalLength1"},{"annotation":{"meta":null,"sourceSpan":{"end":[112,40],"start":[112,31]}},"binderType":"VarBinder","identifier":"compWidth1"},{"annotation":{"meta":null,"sourceSpan":{"end":[112,49],"start":[112,41]}},"binderType":"VarBinder","identifier":"filmSize1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[113,32],"start":[113,23]}},"type":"Var","value":{"identifier":"compWidth1","sourcePos":[112,31]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[113,20],"start":[113,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[113,13],"start":[113,5]}},"type":"Var","value":{"identifier":"filmSize1","sourcePos":[112,41]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[113,20],"start":[113,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[113,20],"start":[113,17]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}},{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[114,53],"start":[114,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[114,41],"start":[114,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[114,29],"start":[114,18]}},"type":"Var","value":{"identifier":"focalLength1","sourcePos":[112,19]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[114,41],"start":[114,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[114,41],"start":[114,32]}},"type":"Var","value":{"identifier":"compWidth1","sourcePos":[112,31]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[114,53],"start":[114,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[114,53],"start":[114,45]}},"type":"Var","value":{"identifier":"filmSize1","sourcePos":[112,41]}},"type":"App"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[114,14],"start":[114,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[114,53],"start":[112,1]}},"type":"Var","value":{"identifier":"focalLength","sourcePos":[112,19]}},{"annotation":{"meta":null,"sourceSpan":{"end":[114,53],"start":[112,1]}},"type":"Var","value":{"identifier":"compWidth","sourcePos":[112,31]}},{"annotation":{"meta":null,"sourceSpan":{"end":[114,53],"start":[112,1]}},"type":"Var","value":{"identifier":"filmSize","sourcePos":[112,41]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"focalLengthToZoom"},{"annotation":{"meta":null,"sourceSpan":{"end":[75,47],"start":[75,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[75,47],"start":[75,1]}},"argument":"focalLength","body":{"annotation":{"meta":null,"sourceSpan":{"end":[75,47],"start":[75,1]}},"argument":"sensorSize","body":{"annotation":{"meta":null,"sourceSpan":{"end":[75,47],"start":[75,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[76,29],"start":[76,18]}},"binderType":"VarBinder","identifier":"focalLength1"},{"annotation":{"meta":null,"sourceSpan":{"end":[76,40],"start":[76,30]}},"binderType":"VarBinder","identifier":"sensorSize1"}],"expressions":[{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[77,39],"start":[77,26]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[77,33],"start":[77,26]}},"type":"Var","value":{"identifier":"pi","moduleName":["Data","Number"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[77,39],"start":[77,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[77,39],"start":[77,36]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[77,23],"start":[77,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[77,16],"start":[77,5]}},"type":"Var","value":{"identifier":"focalLength1","sourcePos":[76,18]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[77,23],"start":[77,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[77,23],"start":[77,20]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}},{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[78,67],"start":[78,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[78,20],"start":[78,17]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[78,67],"start":[78,17]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[78,32],"start":[78,23]}},"type":"Var","value":{"identifier":"atan","moduleName":["Data","Number"]}},"annotation":{"meta":null,"sourceSpan":{"end":[78,67],"start":[78,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[78,66],"start":[78,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[78,44],"start":[78,34]}},"type":"Var","value":{"identifier":"sensorSize1","sourcePos":[76,30]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[78,66],"start":[78,34]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[78,65],"start":[78,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[78,51],"start":[78,48]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[78,65],"start":[78,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[78,65],"start":[78,54]}},"type":"Var","value":{"identifier":"focalLength1","sourcePos":[76,18]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[78,14],"start":[78,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[78,67],"start":[76,1]}},"type":"Var","value":{"identifier":"focalLength","sourcePos":[76,18]}},{"annotation":{"meta":null,"sourceSpan":{"end":[78,67],"start":[76,1]}},"type":"Var","value":{"identifier":"sensorSize","sourcePos":[76,30]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"focalLengthToFOV"},{"annotation":{"meta":null,"sourceSpan":{"end":[121,34],"start":[121,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[121,34],"start":[121,1]}},"argument":"focalLength","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[122,45],"start":[122,29]}},"type":"Var","value":{"identifier":"focalLengthToFOV","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[122,57],"start":[122,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[122,57],"start":[122,46]}},"type":"Var","value":{"identifier":"focalLength","sourcePos":[122,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[122,78],"start":[122,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[122,78],"start":[122,58]}},"type":"Var","value":{"identifier":"fullFrameSensorWidth","moduleName":["Lattice","Services","Math3D","Lens"]}},"type":"App"},"type":"Abs"},"identifier":"horizontalFOV"},{"annotation":{"meta":null,"sourceSpan":{"end":[125,32],"start":[125,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[125,32],"start":[125,1]}},"argument":"focalLength","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[126,43],"start":[126,27]}},"type":"Var","value":{"identifier":"focalLengthToFOV","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[126,55],"start":[126,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,55],"start":[126,44]}},"type":"Var","value":{"identifier":"focalLength","sourcePos":[126,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[126,77],"start":[126,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,77],"start":[126,56]}},"type":"Var","value":{"identifier":"fullFrameSensorHeight","moduleName":["Lattice","Services","Math3D","Lens"]}},"type":"App"},"type":"Abs"},"identifier":"verticalFOV"},{"annotation":{"meta":null,"sourceSpan":{"end":[129,32],"start":[129,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[129,32],"start":[129,1]}},"argument":"focalLength","body":{"annotation":{"meta":null,"sourceSpan":{"end":[133,47],"start":[131,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[132,80],"start":[131,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[131,31],"start":[131,22]}},"type":"Var","value":{"identifier":"sqrt","moduleName":["Data","Number"]}},"annotation":{"meta":null,"sourceSpan":{"end":[132,80],"start":[131,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[132,79],"start":[131,33]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[132,79],"start":[131,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[131,53],"start":[131,33]}},"type":"Var","value":{"identifier":"fullFrameSensorWidth","moduleName":["Lattice","Services","Math3D","Lens"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[132,79],"start":[131,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[131,76],"start":[131,56]}},"type":"Var","value":{"identifier":"fullFrameSensorWidth","moduleName":["Lattice","Services","Math3D","Lens"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[132,79],"start":[131,33]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[132,79],"start":[131,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[132,55],"start":[132,34]}},"type":"Var","value":{"identifier":"fullFrameSensorHeight","moduleName":["Lattice","Services","Math3D","Lens"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[132,79],"start":[131,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[132,79],"start":[132,58]}},"type":"Var","value":{"identifier":"fullFrameSensorHeight","moduleName":["Lattice","Services","Math3D","Lens"]}},"type":"App"},"type":"App"},"type":"App"},"identifier":"diagonalSize"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[133,22],"start":[133,6]}},"type":"Var","value":{"identifier":"focalLengthToFOV","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[133,34],"start":[133,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[133,34],"start":[133,23]}},"type":"Var","value":{"identifier":"focalLength","sourcePos":[130,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[133,47],"start":[133,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[133,47],"start":[133,35]}},"type":"Var","value":{"identifier":"diagonalSize","sourcePos":[131,7]}},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"diagonalFOV"},{"annotation":{"meta":null,"sourceSpan":{"end":[59,29],"start":[59,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[59,29],"start":[59,1]}},"argument":"degrees","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[60,47],"start":[60,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[60,27],"start":[60,20]}},"type":"Var","value":{"identifier":"degrees","sourcePos":[60,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[60,47],"start":[60,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[60,46],"start":[60,31]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[60,38],"start":[60,31]}},"type":"Var","value":{"identifier":"pi","moduleName":["Data","Number"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[60,46],"start":[60,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[60,46],"start":[60,41]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":180}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"degToRad"},{"annotation":{"meta":null,"sourceSpan":{"end":[136,44],"start":[136,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[136,44],"start":[136,1]}},"argument":"fovDegrees","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[138,19],"start":[138,3]}},"type":"Var","value":{"identifier":"fovToFocalLength","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[138,41],"start":[138,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[138,29],"start":[138,21]}},"type":"Var","value":{"identifier":"degToRad","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[138,40],"start":[138,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,40],"start":[138,30]}},"type":"Var","value":{"identifier":"fovDegrees","sourcePos":[137,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,62],"start":[138,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,62],"start":[138,42]}},"type":"Var","value":{"identifier":"fullFrameSensorWidth","moduleName":["Lattice","Services","Math3D","Lens"]}},"type":"App"},"type":"Abs"},"identifier":"fovDegreesToFocalLength"},{"annotation":{"meta":null,"sourceSpan":{"end":[141,31],"start":[141,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[141,31],"start":[141,1]}},"argument":"sensorWidth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[141,31],"start":[141,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[142,23],"start":[142,12]}},"binderType":"VarBinder","identifier":"sensorWidth1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[143,29],"start":[143,26]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[143,23],"start":[143,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[143,16],"start":[143,5]}},"type":"Var","value":{"identifier":"sensorWidth1","sourcePos":[142,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[143,23],"start":[143,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[143,23],"start":[143,20]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}},{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[144,51],"start":[144,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[144,37],"start":[144,17]}},"type":"Var","value":{"identifier":"fullFrameSensorWidth","moduleName":["Lattice","Services","Math3D","Lens"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[144,51],"start":[144,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[144,51],"start":[144,40]}},"type":"Var","value":{"identifier":"sensorWidth1","sourcePos":[142,12]}},"type":"App"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[144,14],"start":[144,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[144,51],"start":[142,1]}},"type":"Var","value":{"identifier":"sensorWidth","sourcePos":[142,12]}}],"type":"Case"},"type":"Abs"},"identifier":"cropFactor"},{"annotation":{"meta":null,"sourceSpan":{"end":[151,50],"start":[151,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[151,50],"start":[151,1]}},"argument":"focalLength","body":{"annotation":{"meta":null,"sourceSpan":{"end":[151,50],"start":[151,1]}},"argument":"sensorWidth","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[153,39],"start":[153,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,14],"start":[153,3]}},"type":"Var","value":{"identifier":"focalLength","sourcePos":[152,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[153,39],"start":[153,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[153,27],"start":[153,17]}},"type":"Var","value":{"identifier":"cropFactor","moduleName":["Lattice","Services","Math3D","Lens"]}},"annotation":{"meta":null,"sourceSpan":{"end":[153,39],"start":[153,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,39],"start":[153,28]}},"type":"Var","value":{"identifier":"sensorWidth","sourcePos":[152,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"fullFrameEquivalent"},{"annotation":{"meta":null,"sourceSpan":{"end":[47,26],"start":[47,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[48,23],"start":[48,19]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":22.3}},"identifier":"apscSensorWidth"}],"exports":["fullFrameSensorWidth","fullFrameSensorHeight","super35SensorWidth","apscSensorWidth","standardFocalLength","degToRad","radToDeg","focalLengthToFOV","fovToFocalLength","zoomToFocalLength","focalLengthToZoom","horizontalFOV","verticalFOV","diagonalFOV","fovDegreesToFocalLength","cropFactor","fullFrameEquivalent"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[153,39],"start":[8,1]}},"moduleName":["Data","Boolean"]},{"annotation":{"meta":null,"sourceSpan":{"end":[153,39],"start":[8,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[153,39],"start":[8,1]}},"moduleName":["Data","HeytingAlgebra"]},{"annotation":{"meta":null,"sourceSpan":{"end":[153,39],"start":[8,1]}},"moduleName":["Data","Number"]},{"annotation":{"meta":null,"sourceSpan":{"end":[153,39],"start":[8,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[153,39],"start":[8,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[153,39],"start":[8,1]}},"moduleName":["Lattice","Services","Math3D","Lens"]},{"annotation":{"meta":null,"sourceSpan":{"end":[27,15],"start":[27,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[153,39],"start":[8,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","Math3D","Lens"],"modulePath":"src/Lattice/Services/Math3D/Lens.purs","reExports":{},"sourceSpan":{"end":[153,39],"start":[8,1]}}