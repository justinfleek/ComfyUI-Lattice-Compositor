// Generated by purs version 0.15.15
import * as Data_Int from "../Data.Int/index.js";
import * as Data_Number from "../Data.Number/index.js";
import * as Data_Ord from "../Data.Ord/index.js";
import * as $$Math from "../Math/index.js";
var max = /* #__PURE__ */ Data_Ord.max(Data_Ord.ordNumber);
var min = /* #__PURE__ */ Data_Ord.min(Data_Ord.ordNumber);
var xyzToSrgbR = /* #__PURE__ */ (function () {
    return {
        c0: 3.2404542,
        c1: -1.5371385,
        c2: -0.4985314
    };
})();
var xyzToSrgbG = /* #__PURE__ */ (function () {
    return {
        c0: -0.969266,
        c1: 1.8760108,
        c2: 4.1556e-2
    };
})();
var xyzToSrgbB = /* #__PURE__ */ (function () {
    return {
        c0: 5.56434e-2,
        c1: -0.2040259,
        c2: 1.0572252
    };
})();
var srgbToXyzR = {
    c0: 0.4124564,
    c1: 0.3575761,
    c2: 0.1804375
};
var srgbToXyzG = {
    c0: 0.2126729,
    c1: 0.7151522,
    c2: 7.2175e-2
};
var srgbToXyzB = {
    c0: 1.93339e-2,
    c1: 0.119192,
    c2: 0.9503041
};
var sRGBToLinear = function (value) {
    var v = value / 255.0;
    var $12 = v <= 4.045e-2;
    if ($12) {
        return v / 12.92;
    };
    return Data_Number.pow((v + 5.5e-2) / 1.055)(2.4);
};
var rgbToXyz = function (r) {
    return function (g) {
        return function (b) {
            var rLinear = sRGBToLinear(r);
            var gLinear = sRGBToLinear(g);
            var bLinear = sRGBToLinear(b);
            return {
                x: (rLinear * srgbToXyzR.c0 + gLinear * srgbToXyzR.c1 + bLinear * srgbToXyzR.c2) * 100.0,
                y: (rLinear * srgbToXyzG.c0 + gLinear * srgbToXyzG.c1 + bLinear * srgbToXyzG.c2) * 100.0,
                z: (rLinear * srgbToXyzB.c0 + gLinear * srgbToXyzB.c1 + bLinear * srgbToXyzB.c2) * 100.0
            };
        };
    };
};
var rgbToHsl = function (r) {
    return function (g) {
        return function (b) {
            var rn = r / 255.0;
            var gn = g / 255.0;
            var bn = b / 255.0;
            var maxC = max(rn)(max(gn)(bn));
            var minC = min(rn)(min(gn)(bn));
            var l = (maxC + minC) / 2.0;
            var $13 = maxC === minC;
            if ($13) {
                return {
                    h: 0.0,
                    s: 0.0,
                    l: l
                };
            };
            var d = maxC - minC;
            var h = (function () {
                var $14 = maxC === rn;
                if ($14) {
                    return ((gn - bn) / d + (function () {
                        var $15 = gn < bn;
                        if ($15) {
                            return 6.0;
                        };
                        return 0.0;
                    })()) / 6.0;
                };
                var $16 = maxC === gn;
                if ($16) {
                    return ((bn - rn) / d + 2.0) / 6.0;
                };
                return ((rn - gn) / d + 4.0) / 6.0;
            })();
            var s = (function () {
                var $17 = l > 0.5;
                if ($17) {
                    return d / (2.0 - maxC - minC);
                };
                return d / (maxC + minC);
            })();
            return {
                h: h * 360.0,
                s: s,
                l: l
            };
        };
    };
};
var linearToSRGB = function (value) {
    var v = (function () {
        var $18 = value <= 3.1308e-3;
        if ($18) {
            return value * 12.92;
        };
        return 1.055 * Data_Number.pow(value)(1.0 / 2.4) - 5.5e-2;
    })();
    return Data_Int.round(max(0.0)(min(255.0)(v * 255.0)));
};
var xyzToRgb = function (xVal) {
    return function (yVal) {
        return function (zVal) {
            var z = zVal / 100.0;
            var y = yVal / 100.0;
            var x = xVal / 100.0;
            var rLinear = x * xyzToSrgbR.c0 + y * xyzToSrgbR.c1 + z * xyzToSrgbR.c2;
            var gLinear = x * xyzToSrgbG.c0 + y * xyzToSrgbG.c1 + z * xyzToSrgbG.c2;
            var bLinear = x * xyzToSrgbB.c0 + y * xyzToSrgbB.c1 + z * xyzToSrgbB.c2;
            return {
                r: linearToSRGB(rLinear),
                g: linearToSRGB(gLinear),
                b: linearToSRGB(bLinear)
            };
        };
    };
};
var lerp = function (a) {
    return function (b) {
        return function (t) {
            return a + (b - a) * t;
        };
    };
};
var labFInverse = function (t) {
    var delta = 6.0 / 29.0;
    var $19 = t > delta;
    if ($19) {
        return t * t * t;
    };
    return 3.0 * delta * delta * (t - 4.0 / 29.0);
};
var labF = function (t) {
    var delta = 6.0 / 29.0;
    var delta3 = delta * delta * delta;
    var $20 = t > delta3;
    if ($20) {
        return Data_Number.pow(t)(1.0 / 3.0);
    };
    return t / (3.0 * delta * delta) + 4.0 / 29.0;
};
var hue2rgb = function (p) {
    return function (q) {
        return function (t$prime) {
            var t = (function () {
                var $21 = t$prime < 0.0;
                if ($21) {
                    return t$prime + 1.0;
                };
                var $22 = t$prime > 1.0;
                if ($22) {
                    return t$prime - 1.0;
                };
                return t$prime;
            })();
            var $23 = t < 1.0 / 6.0;
            if ($23) {
                return p + (q - p) * 6.0 * t;
            };
            var $24 = t < 0.5;
            if ($24) {
                return q;
            };
            var $25 = t < 2.0 / 3.0;
            if ($25) {
                return p + (q - p) * (2.0 / 3.0 - t) * 6.0;
            };
            return p;
        };
    };
};
var fmod = function (a) {
    return function (m) {
        return a - m * $$Math.floor(a / m);
    };
};
var hslToRgb = function (h) {
    return function (s) {
        return function (l) {
            var h$prime = fmod(fmod(h)(360.0) + 360.0)(360.0) / 360.0;
            var $26 = s === 0.0;
            if ($26) {
                var v = Data_Int.round(l * 255.0);
                return {
                    r: v,
                    g: v,
                    b: v
                };
            };
            var q = (function () {
                var $27 = l < 0.5;
                if ($27) {
                    return l * (1.0 + s);
                };
                return (l + s) - l * s;
            })();
            var p = 2.0 * l - q;
            return {
                r: Data_Int.round(hue2rgb(p)(q)(h$prime + 1.0 / 3.0) * 255.0),
                g: Data_Int.round(hue2rgb(p)(q)(h$prime) * 255.0),
                b: Data_Int.round(hue2rgb(p)(q)(h$prime - 1.0 / 3.0) * 255.0)
            };
        };
    };
};
var deltaE94 = function (lab1) {
    return function (lab2) {
        var db = lab1.b - lab2.b;
        var da = lab1.a - lab2.a;
        var dL = lab1.l - lab2.l;
        var term1 = dL / (1.0 * 1.0);
        var c2 = Data_Number.sqrt(lab2.a * lab2.a + lab2.b * lab2.b);
        var c1 = Data_Number.sqrt(lab1.a * lab1.a + lab1.b * lab1.b);
        var dC = c1 - c2;
        var dH2 = (da * da + db * db) - dC * dC;
        var dH = (function () {
            var $28 = dH2 > 0.0;
            if ($28) {
                return Data_Number.sqrt(dH2);
            };
            return 0.0;
        })();
        var sC = 1.0 + 4.5e-2 * c1;
        var term2 = dC / (1.0 * sC);
        var sH = 1.0 + 1.5e-2 * c1;
        var term3 = dH / (1.0 * sH);
        return Data_Number.sqrt(term1 * term1 + term2 * term2 + term3 * term3);
    };
};
var deltaE76 = function (lab1) {
    return function (lab2) {
        var db = lab1.b - lab2.b;
        var da = lab1.a - lab2.a;
        var dL = lab1.l - lab2.l;
        return Data_Number.sqrt(dL * dL + da * da + db * db);
    };
};
var d65Z = 108.883;
var d65Y = 100.0;
var d65X = 95.047;
var labToXyz = function (lVal) {
    return function (aVal) {
        return function (bVal) {
            var fy = (lVal + 16.0) / 116.0;
            var fz = fy - bVal / 200.0;
            var fx = aVal / 500.0 + fy;
            return {
                x: d65X * labFInverse(fx),
                y: d65Y * labFInverse(fy),
                z: d65Z * labFInverse(fz)
            };
        };
    };
};
var labToRgb = function (lVal) {
    return function (aVal) {
        return function (bVal) {
            var xyz = labToXyz(lVal)(aVal)(bVal);
            return xyzToRgb(xyz.x)(xyz.y)(xyz.z);
        };
    };
};
var xyzToLab = function (xVal) {
    return function (yVal) {
        return function (zVal) {
            var zn = zVal / d65Z;
            var yn = yVal / d65Y;
            var xn = xVal / d65X;
            var fz = labF(zn);
            var fy = labF(yn);
            var fx = labF(xn);
            return {
                l: 116.0 * fy - 16.0,
                a: 500.0 * (fx - fy),
                b: 200.0 * (fy - fz)
            };
        };
    };
};
var rgbToLab = function (r) {
    return function (g) {
        return function (b) {
            var xyz = rgbToXyz(r)(g)(b);
            return xyzToLab(xyz.x)(xyz.y)(xyz.z);
        };
    };
};
var isNeutral = function (r) {
    return function (g) {
        return function (b) {
            return function (tolerance) {
                var lab = rgbToLab(r)(g)(b);
                return Data_Number.abs(lab.a) < tolerance && Data_Number.abs(lab.b) < tolerance;
            };
        };
    };
};
var complementary = function (r) {
    return function (g) {
        return function (b) {
            var hsl = rgbToHsl(r)(g)(b);
            return hslToRgb(fmod(hsl.h + 180.0)(360.0))(hsl.s)(hsl.l);
        };
    };
};
var clamp = function (val) {
    return function (minVal) {
        return function (maxVal) {
            return max(minVal)(min(maxVal)(val));
        };
    };
};
var smoothstep = function (edge0) {
    return function (edge1) {
        return function (x) {
            var t = clamp((x - edge0) / (edge1 - edge0))(0.0)(1.0);
            return t * t * (3.0 - 2.0 * t);
        };
    };
};
var bt709R = 0.2126;
var bt709G = 0.7152;
var bt709B = 7.22e-2;
var rgbToLuminance = function (r) {
    return function (g) {
        return function (b) {
            return bt709R * r + bt709G * g + bt709B * b;
        };
    };
};
var rgbToYuv = function (r) {
    return function (g) {
        return function (b) {
            var rn = r / 255.0;
            var gn = g / 255.0;
            var bn = b / 255.0;
            var y$prime = bt709R * rn + bt709G * gn + bt709B * bn;
            var u$prime = (0.5 * (bn - y$prime)) / (1.0 - bt709B);
            var v$prime = (0.5 * (rn - y$prime)) / (1.0 - bt709R);
            return {
                y: y$prime,
                u: u$prime,
                v: v$prime
            };
        };
    };
};
var yuvToRgb = function (y$prime) {
    return function (u$prime) {
        return function (v$prime) {
            var r = y$prime + 2.0 * v$prime * (1.0 - bt709R);
            var g = y$prime - (2.0 * u$prime * bt709B * (1.0 - bt709B)) / bt709G - (2.0 * v$prime * bt709R * (1.0 - bt709R)) / bt709G;
            var clampRgb = function (val) {
                return Data_Int.round(max(0.0)(min(255.0)(val * 255.0)));
            };
            var b = y$prime + 2.0 * u$prime * (1.0 - bt709B);
            return {
                r: clampRgb(r),
                g: clampRgb(g),
                b: clampRgb(b)
            };
        };
    };
};
export {
    d65X,
    d65Y,
    d65Z,
    bt709R,
    bt709G,
    bt709B,
    sRGBToLinear,
    linearToSRGB,
    rgbToXyz,
    xyzToRgb,
    xyzToLab,
    labToXyz,
    rgbToLab,
    labToRgb,
    deltaE76,
    deltaE94,
    rgbToYuv,
    yuvToRgb,
    rgbToHsl,
    hslToRgb,
    rgbToLuminance,
    isNeutral,
    complementary,
    clamp,
    lerp,
    smoothstep
};
//# sourceMappingURL=index.js.map
