{"builtWith":"0.15.15","comments":[{"LineComment":" | Lattice.Services.ColorCorrection.Vignette - Vignette Effect Math"},{"LineComment":" |"},{"LineComment":" | Pure mathematical functions for vignette effect calculations:"},{"LineComment":" | - Distance from center"},{"LineComment":" | - Smoothstep interpolation"},{"LineComment":" | - Vignette falloff"},{"LineComment":" |"},{"LineComment":" | All functions are total and deterministic."},{"LineComment":" |"},{"LineComment":" | Source: ui/src/services/effects/colorRenderer.ts (lines 1544-1628)"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[36,23],"start":[36,22]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[36,39],"start":[36,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[36,30],"start":[36,29]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[36,38],"start":[36,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[42,21],"start":[42,20]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[42,28],"start":[42,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[44,47],"start":[44,46]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[44,53],"start":[44,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[81,13],"start":[81,11]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[81,22],"start":[81,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[83,33],"start":[83,32]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[83,39],"start":[83,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[75,59],"start":[75,49]}},"type":"Var","value":{"identifier":"negate","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[75,59],"start":[75,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"negate"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[74,38],"start":[74,37]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[74,42],"start":[74,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[35,31],"start":[35,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[35,31],"start":[35,1]}},"argument":"t","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[36,39],"start":[36,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[36,39],"start":[36,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[36,17],"start":[36,16]}},"type":"Var","value":{"identifier":"t","sourcePos":[36,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[36,39],"start":[36,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[36,21],"start":[36,20]}},"type":"Var","value":{"identifier":"t","sourcePos":[36,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[36,39],"start":[36,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[36,38],"start":[36,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[36,28],"start":[36,25]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":3}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[36,38],"start":[36,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[36,38],"start":[36,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[36,34],"start":[36,31]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[36,38],"start":[36,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[36,38],"start":[36,37]}},"type":"Var","value":{"identifier":"t","sourcePos":[36,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"smoothstep"},{"annotation":{"meta":null,"sourceSpan":{"end":[39,58],"start":[39,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[39,58],"start":[39,1]}},"argument":"edge0","body":{"annotation":{"meta":null,"sourceSpan":{"end":[39,58],"start":[39,1]}},"argument":"edge1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[39,58],"start":[39,1]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[45,18],"start":[41,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[41,28],"start":[41,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[41,28],"start":[41,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[41,20],"start":[41,15]}},"type":"Var","value":{"identifier":"edge1","sourcePos":[40,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[41,28],"start":[41,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[41,28],"start":[41,23]}},"type":"Var","value":{"identifier":"edge0","sourcePos":[40,1]}},"type":"App"},"identifier":"range"},{"annotation":{"meta":null,"sourceSpan":{"end":[44,55],"start":[42,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[44,55],"start":[42,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[44,55],"start":[42,11]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[43,19],"start":[43,16]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[44,55],"start":[42,11]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[44,19],"start":[44,16]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[44,23],"start":[44,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[44,23],"start":[44,20]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[44,55],"start":[44,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[44,28],"start":[44,25]}},"type":"Var","value":{"identifier":"min","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[44,32],"start":[44,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[44,32],"start":[44,29]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[44,54],"start":[44,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[44,53],"start":[44,34]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[44,44],"start":[44,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[44,36],"start":[44,35]}},"type":"Var","value":{"identifier":"x","sourcePos":[40,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[44,44],"start":[44,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[44,44],"start":[44,39]}},"type":"Var","value":{"identifier":"edge0","sourcePos":[40,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[44,53],"start":[44,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[44,53],"start":[44,48]}},"type":"Var","value":{"identifier":"range","sourcePos":[41,7]}},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[42,28],"start":[42,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[42,19],"start":[42,14]}},"type":"Var","value":{"identifier":"range","sourcePos":[41,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[42,28],"start":[42,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[42,28],"start":[42,22]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-4}},"type":"App"}],"type":"Case"},"identifier":"t"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[45,16],"start":[45,6]}},"type":"Var","value":{"identifier":"smoothstep","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[45,18],"start":[45,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[45,18],"start":[45,17]}},"type":"Var","value":{"identifier":"t","sourcePos":[42,7]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"smoothstepClamped"},{"annotation":{"meta":null,"sourceSpan":{"end":[79,55],"start":[79,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[79,55],"start":[79,1]}},"argument":"dist","body":{"annotation":{"meta":null,"sourceSpan":{"end":[79,55],"start":[79,1]}},"argument":"midpoint","body":{"annotation":{"meta":null,"sourceSpan":{"end":[79,55],"start":[79,1]}},"argument":"feather","body":{"annotation":{"meta":null,"sourceSpan":{"end":[87,39],"start":[81,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[87,39],"start":[81,3]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[81,31],"start":[81,28]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[87,39],"start":[81,3]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[87,39],"start":[83,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[86,39],"start":[86,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[86,26],"start":[86,23]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[86,31],"start":[86,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[86,31],"start":[86,27]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-2}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[86,39],"start":[86,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[86,39],"start":[86,32]}},"type":"Var","value":{"identifier":"feather","sourcePos":[80,1]}},"type":"App"},"identifier":"safeFeather"},{"annotation":{"meta":null,"sourceSpan":{"end":[83,39],"start":[83,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[83,39],"start":[83,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[83,39],"start":[83,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[83,20],"start":[83,17]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[83,39],"start":[83,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[83,31],"start":[83,23]}},"type":"Var","value":{"identifier":"midpoint","sourcePos":[80,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[83,39],"start":[83,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[83,39],"start":[83,34]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-3}},"type":"App"},"identifier":"range"},{"annotation":{"meta":null,"sourceSpan":{"end":[84,38],"start":[84,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[84,38],"start":[84,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[84,29],"start":[84,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[84,18],"start":[84,14]}},"type":"Var","value":{"identifier":"dist","sourcePos":[80,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[84,29],"start":[84,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[84,29],"start":[84,21]}},"type":"Var","value":{"identifier":"midpoint","sourcePos":[80,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[84,38],"start":[84,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[84,38],"start":[84,33]}},"type":"Var","value":{"identifier":"range","sourcePos":[83,9]}},"type":"App"},"identifier":"t"},{"annotation":{"meta":null,"sourceSpan":{"end":[85,31],"start":[85,9]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[85,29],"start":[85,19]}},"type":"Var","value":{"identifier":"smoothstep","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[85,31],"start":[85,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[85,31],"start":[85,30]}},"type":"Var","value":{"identifier":"t","sourcePos":[84,9]}},"type":"App"},"identifier":"smoothT"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[87,11],"start":[87,8]}},"type":"Var","value":{"identifier":"pow","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[87,19],"start":[87,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[87,19],"start":[87,12]}},"type":"Var","value":{"identifier":"smoothT","sourcePos":[85,9]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[87,39],"start":[87,8]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[87,38],"start":[87,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[87,24],"start":[87,21]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[87,38],"start":[87,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[87,38],"start":[87,27]}},"type":"Var","value":{"identifier":"safeFeather","sourcePos":[86,9]}},"type":"App"},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[81,22],"start":[81,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[81,10],"start":[81,6]}},"type":"Var","value":{"identifier":"dist","sourcePos":[80,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[81,22],"start":[81,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[81,22],"start":[81,14]}},"type":"Var","value":{"identifier":"midpoint","sourcePos":[80,1]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"vignetteFactor"},{"annotation":{"meta":null,"sourceSpan":{"end":[53,49],"start":[52,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[53,49],"start":[52,1]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[53,49],"start":[52,1]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[53,49],"start":[52,1]}},"argument":"centerX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[53,49],"start":[52,1]}},"argument":"centerY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[53,49],"start":[52,1]}},"argument":"maxDist","body":{"annotation":{"meta":null,"sourceSpan":{"end":[53,49],"start":[52,1]}},"argument":"aspectX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[53,49],"start":[52,1]}},"argument":"aspectY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[58,54],"start":[55,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[56,35],"start":[56,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[56,35],"start":[56,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[56,24],"start":[56,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[56,14],"start":[56,13]}},"type":"Var","value":{"identifier":"y","sourcePos":[54,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[56,24],"start":[56,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[56,24],"start":[56,17]}},"type":"Var","value":{"identifier":"centerY","sourcePos":[54,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[56,35],"start":[56,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[56,35],"start":[56,28]}},"type":"Var","value":{"identifier":"aspectY","sourcePos":[54,1]}},"type":"App"},"identifier":"dy"},{"annotation":{"meta":null,"sourceSpan":{"end":[55,35],"start":[55,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[55,35],"start":[55,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[55,24],"start":[55,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[55,14],"start":[55,13]}},"type":"Var","value":{"identifier":"x","sourcePos":[54,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[55,24],"start":[55,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[55,24],"start":[55,17]}},"type":"Var","value":{"identifier":"centerX","sourcePos":[54,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[55,35],"start":[55,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[55,35],"start":[55,28]}},"type":"Var","value":{"identifier":"aspectX","sourcePos":[54,1]}},"type":"App"},"identifier":"dx"},{"annotation":{"meta":null,"sourceSpan":{"end":[57,38],"start":[57,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[57,18],"start":[57,14]}},"type":"Var","value":{"identifier":"sqrt","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[57,38],"start":[57,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[57,37],"start":[57,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[57,37],"start":[57,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[57,22],"start":[57,20]}},"type":"Var","value":{"identifier":"dx","sourcePos":[55,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[57,37],"start":[57,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[57,27],"start":[57,25]}},"type":"Var","value":{"identifier":"dx","sourcePos":[55,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[57,37],"start":[57,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[57,37],"start":[57,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[57,32],"start":[57,30]}},"type":"Var","value":{"identifier":"dy","sourcePos":[56,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[57,37],"start":[57,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[57,37],"start":[57,35]}},"type":"Var","value":{"identifier":"dy","sourcePos":[56,7]}},"type":"App"},"type":"App"},"type":"App"},"identifier":"dist"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[58,54],"start":[58,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[58,54],"start":[58,6]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[58,34],"start":[58,31]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[58,54],"start":[58,6]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[58,54],"start":[58,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[58,44],"start":[58,40]}},"type":"Var","value":{"identifier":"dist","sourcePos":[57,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[58,54],"start":[58,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[58,54],"start":[58,47]}},"type":"Var","value":{"identifier":"maxDist","sourcePos":[54,1]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[58,25],"start":[58,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[58,16],"start":[58,9]}},"type":"Var","value":{"identifier":"maxDist","sourcePos":[54,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[58,25],"start":[58,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[58,25],"start":[58,19]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-4}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"normalizedDistance"},{"annotation":{"meta":null,"sourceSpan":{"end":[61,52],"start":[61,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[61,52],"start":[61,1]}},"argument":"width","body":{"annotation":{"meta":null,"sourceSpan":{"end":[61,52],"start":[61,1]}},"argument":"height","body":{"annotation":{"meta":null,"sourceSpan":{"end":[65,30],"start":[63,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[64,24],"start":[64,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[64,24],"start":[64,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[64,18],"start":[64,12]}},"type":"Var","value":{"identifier":"height","sourcePos":[62,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[64,24],"start":[64,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[64,24],"start":[64,21]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"identifier":"cy"},{"annotation":{"meta":null,"sourceSpan":{"end":[63,23],"start":[63,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[63,23],"start":[63,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[63,17],"start":[63,12]}},"type":"Var","value":{"identifier":"width","sourcePos":[62,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[63,23],"start":[63,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[63,23],"start":[63,20]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"identifier":"cx"}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[65,10],"start":[65,6]}},"type":"Var","value":{"identifier":"sqrt","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[65,30],"start":[65,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[65,29],"start":[65,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[65,29],"start":[65,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[65,14],"start":[65,12]}},"type":"Var","value":{"identifier":"cx","sourcePos":[63,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[65,29],"start":[65,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[65,19],"start":[65,17]}},"type":"Var","value":{"identifier":"cx","sourcePos":[63,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[65,29],"start":[65,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[65,29],"start":[65,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[65,24],"start":[65,22]}},"type":"Var","value":{"identifier":"cy","sourcePos":[64,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[65,29],"start":[65,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[65,29],"start":[65,27]}},"type":"Var","value":{"identifier":"cy","sourcePos":[64,7]}},"type":"App"},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"maxDistanceFromCenter"},{"annotation":{"meta":null,"sourceSpan":{"end":[72,53],"start":[72,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[72,53],"start":[72,1]}},"argument":"roundness","body":{"annotation":{"meta":null,"sourceSpan":{"end":[76,27],"start":[74,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[75,76],"start":[75,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[75,76],"start":[75,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,20],"start":[75,17]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[75,76],"start":[75,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,75],"start":[75,24]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[75,75],"start":[75,24]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[75,66],"start":[75,48]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"negate","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[75,59],"start":[75,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,59],"start":[75,50]}},"type":"Var","value":{"identifier":"roundness","sourcePos":[73,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[75,66],"start":[75,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,66],"start":[75,63]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[75,75],"start":[75,24]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[75,75],"start":[75,72]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[75,42],"start":[75,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,36],"start":[75,27]}},"type":"Var","value":{"identifier":"roundness","sourcePos":[73,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[75,42],"start":[75,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,42],"start":[75,39]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"App"},"identifier":"aspectY"},{"annotation":{"meta":null,"sourceSpan":{"end":[74,73],"start":[74,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[74,73],"start":[74,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[74,20],"start":[74,17]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[74,73],"start":[74,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[74,72],"start":[74,24]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[74,72],"start":[74,24]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[74,63],"start":[74,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[74,57],"start":[74,48]}},"type":"Var","value":{"identifier":"roundness","sourcePos":[73,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[74,63],"start":[74,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[74,63],"start":[74,60]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[74,72],"start":[74,24]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[74,72],"start":[74,69]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[74,42],"start":[74,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[74,36],"start":[74,27]}},"type":"Var","value":{"identifier":"roundness","sourcePos":[73,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[74,42],"start":[74,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[74,42],"start":[74,39]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"App"},"identifier":"aspectX"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[76,11],"start":[76,6]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[76,19],"start":[76,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[76,19],"start":[76,12]}},"type":"Var","value":{"identifier":"aspectX","sourcePos":[74,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[76,27],"start":[76,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[76,27],"start":[76,20]}},"type":"Var","value":{"identifier":"aspectY","sourcePos":[75,7]}},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"aspectFromRoundness"},{"annotation":{"meta":null,"sourceSpan":{"end":[97,59],"start":[96,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[97,59],"start":[96,1]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[97,59],"start":[96,1]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[97,59],"start":[96,1]}},"argument":"width","body":{"annotation":{"meta":null,"sourceSpan":{"end":[97,59],"start":[96,1]}},"argument":"height","body":{"annotation":{"meta":null,"sourceSpan":{"end":[97,59],"start":[96,1]}},"argument":"amount","body":{"annotation":{"meta":null,"sourceSpan":{"end":[97,59],"start":[96,1]}},"argument":"midpoint","body":{"annotation":{"meta":null,"sourceSpan":{"end":[97,59],"start":[96,1]}},"argument":"roundness","body":{"annotation":{"meta":null,"sourceSpan":{"end":[97,59],"start":[96,1]}},"argument":"feather","body":{"annotation":{"meta":null,"sourceSpan":{"end":[105,27],"start":[99,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[101,51],"start":[101,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[101,38],"start":[101,17]}},"type":"Var","value":{"identifier":"maxDistanceFromCenter","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[101,44],"start":[101,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[101,44],"start":[101,39]}},"type":"Var","value":{"identifier":"width","sourcePos":[98,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[101,51],"start":[101,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[101,51],"start":[101,45]}},"type":"Var","value":{"identifier":"height","sourcePos":[98,1]}},"type":"App"},"identifier":"maxDist"},{"annotation":{"meta":null,"sourceSpan":{"end":[100,29],"start":[100,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[100,29],"start":[100,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[100,23],"start":[100,17]}},"type":"Var","value":{"identifier":"height","sourcePos":[98,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[100,29],"start":[100,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[100,29],"start":[100,26]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"identifier":"centerY"},{"annotation":{"meta":null,"sourceSpan":{"end":[99,28],"start":[99,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[99,28],"start":[99,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[99,22],"start":[99,17]}},"type":"Var","value":{"identifier":"width","sourcePos":[98,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[99,28],"start":[99,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[99,28],"start":[99,25]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"identifier":"centerX"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[102,60],"start":[102,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[97,59],"start":[96,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[102,50],"start":[102,31]}},"type":"Var","value":{"identifier":"aspectFromRoundness","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,60],"start":[102,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,60],"start":[102,51]}},"type":"Var","value":{"identifier":"roundness","sourcePos":[98,1]}},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[102,60],"start":[102,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[102,28],"start":[102,7]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[102,20],"start":[102,13]}},"binderType":"VarBinder","identifier":"aspectX"},{"annotation":{"meta":null,"sourceSpan":{"end":[102,28],"start":[102,21]}},"binderType":"VarBinder","identifier":"aspectY"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[102,60],"start":[102,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[103,76],"start":[103,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[103,32],"start":[103,14]}},"type":"Var","value":{"identifier":"normalizedDistance","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,34],"start":[103,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,34],"start":[103,33]}},"type":"Var","value":{"identifier":"x","sourcePos":[98,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,36],"start":[103,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,36],"start":[103,35]}},"type":"Var","value":{"identifier":"y","sourcePos":[98,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,44],"start":[103,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,44],"start":[103,37]}},"type":"Var","value":{"identifier":"centerX","sourcePos":[99,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,52],"start":[103,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,52],"start":[103,45]}},"type":"Var","value":{"identifier":"centerY","sourcePos":[100,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,60],"start":[103,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,60],"start":[103,53]}},"type":"Var","value":{"identifier":"maxDist","sourcePos":[101,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,68],"start":[103,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,68],"start":[103,61]}},"type":"Var","value":{"identifier":"aspectX","sourcePos":[102,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,76],"start":[103,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,76],"start":[103,69]}},"type":"Var","value":{"identifier":"aspectY","sourcePos":[102,21]}},"type":"App"},"identifier":"dist"},{"annotation":{"meta":null,"sourceSpan":{"end":[104,52],"start":[104,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[104,30],"start":[104,16]}},"type":"Var","value":{"identifier":"vignetteFactor","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[104,35],"start":[104,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,35],"start":[104,31]}},"type":"Var","value":{"identifier":"dist","sourcePos":[103,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[104,44],"start":[104,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,44],"start":[104,36]}},"type":"Var","value":{"identifier":"midpoint","sourcePos":[98,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[104,52],"start":[104,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,52],"start":[104,45]}},"type":"Var","value":{"identifier":"feather","sourcePos":[98,1]}},"type":"App"},"identifier":"factor"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[105,27],"start":[105,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[105,9],"start":[105,6]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[105,27],"start":[105,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[105,27],"start":[105,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[105,18],"start":[105,12]}},"type":"Var","value":{"identifier":"factor","sourcePos":[104,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[105,27],"start":[105,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[105,27],"start":[105,21]}},"type":"Var","value":{"identifier":"amount","sourcePos":[98,1]}},"type":"App"},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[97,59],"start":[96,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"vignetteMultiplier"},{"annotation":{"meta":null,"sourceSpan":{"end":[90,54],"start":[90,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[90,54],"start":[90,1]}},"argument":"value","body":{"annotation":{"meta":null,"sourceSpan":{"end":[90,54],"start":[90,1]}},"argument":"factor","body":{"annotation":{"meta":null,"sourceSpan":{"end":[90,54],"start":[90,1]}},"argument":"amount","body":{"annotation":{"meta":null,"sourceSpan":{"end":[93,46],"start":[92,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[92,41],"start":[92,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[92,41],"start":[92,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[92,23],"start":[92,20]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[92,41],"start":[92,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[92,41],"start":[92,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[92,32],"start":[92,26]}},"type":"Var","value":{"identifier":"factor","sourcePos":[91,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[92,41],"start":[92,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[92,41],"start":[92,35]}},"type":"Var","value":{"identifier":"amount","sourcePos":[91,1]}},"type":"App"},"type":"App"},"identifier":"multiplier"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[93,9],"start":[93,6]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[93,13],"start":[93,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[93,13],"start":[93,10]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[93,46],"start":[93,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[93,18],"start":[93,15]}},"type":"Var","value":{"identifier":"min","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[93,24],"start":[93,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[93,24],"start":[93,19]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":255}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[93,45],"start":[93,15]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorCorrection","Vignette"]}},"annotation":{"meta":null,"sourceSpan":{"end":[93,44],"start":[93,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[93,31],"start":[93,26]}},"type":"Var","value":{"identifier":"value","sourcePos":[91,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[93,44],"start":[93,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[93,44],"start":[93,34]}},"type":"Var","value":{"identifier":"multiplier","sourcePos":[92,7]}},"type":"App"},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"applyVignette"}],"exports":["smoothstep","smoothstepClamped","normalizedDistance","maxDistanceFromCenter","aspectFromRoundness","vignetteFactor","applyVignette","vignetteMultiplier"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[105,27],"start":[12,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[105,27],"start":[12,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[105,27],"start":[12,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[105,27],"start":[12,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[105,27],"start":[12,1]}},"moduleName":["Data","Tuple"]},{"annotation":{"meta":null,"sourceSpan":{"end":[105,27],"start":[12,1]}},"moduleName":["Lattice","Services","ColorCorrection","Vignette"]},{"annotation":{"meta":null,"sourceSpan":{"end":[105,27],"start":[12,1]}},"moduleName":["Math"]},{"annotation":{"meta":null,"sourceSpan":{"end":[23,15],"start":[23,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[105,27],"start":[12,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","ColorCorrection","Vignette"],"modulePath":"src/Lattice/Services/ColorCorrection/Vignette.purs","reExports":{},"sourceSpan":{"end":[105,27],"start":[12,1]}}