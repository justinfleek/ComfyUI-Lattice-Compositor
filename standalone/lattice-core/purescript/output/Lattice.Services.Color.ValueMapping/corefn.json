{"builtWith":"0.15.15","comments":[{"LineComment":" | Lattice.Services.Color.ValueMapping - Value Mapping for Reactivity"},{"LineComment":" |"},{"LineComment":" | Pure mathematical functions for mapping sampled values to output:"},{"LineComment":" | - Sensitivity scaling"},{"LineComment":" | - Smoothing (low-pass filter)"},{"LineComment":" | - Range mapping (min/max)"},{"LineComment":" | - Inversion"},{"LineComment":" | - Depth normalization"},{"LineComment":" |"},{"LineComment":" | Source: ui/src/services/colorDepthReactivity.ts"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[200,26],"start":[200,25]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[200,29],"start":[200,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[203,22],"start":[203,21]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[203,26],"start":[203,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[203,16],"start":[203,15]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[203,19],"start":[203,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[104,50],"start":[104,49]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[104,68],"start":[104,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[279,38],"start":[279,34]}},"type":"Var","value":{"identifier":"negate","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[279,38],"start":[279,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"negate"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[161,17],"start":[161,15]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[161,21],"start":[161,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[254,13],"start":[254,11]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[254,15],"start":[254,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqInt","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"eq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[258,30],"start":[258,27]}},"type":"Var","value":{"identifier":"map","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[258,62],"start":[258,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorArray","moduleName":["Data","Functor"]}},"type":"App"},"identifier":"map"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[210,18],"start":[210,17]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[210,28],"start":[210,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[198,86],"start":[198,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[198,86],"start":[198,1]}},"argument":"r1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[198,86],"start":[198,1]}},"argument":"g1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[198,86],"start":[198,1]}},"argument":"b1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[198,86],"start":[198,1]}},"argument":"r2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[198,86],"start":[198,1]}},"argument":"g2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[198,86],"start":[198,1]}},"argument":"b2","body":{"annotation":{"meta":null,"sourceSpan":{"end":[203,26],"start":[200,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[200,30],"start":[200,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[200,20],"start":[200,12]}},"type":"Var","value":{"identifier":"abs","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[200,30],"start":[200,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[200,29],"start":[200,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[200,24],"start":[200,22]}},"type":"Var","value":{"identifier":"r1","sourcePos":[199,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[200,29],"start":[200,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[200,29],"start":[200,27]}},"type":"Var","value":{"identifier":"r2","sourcePos":[199,1]}},"type":"App"},"type":"App"},"identifier":"dr"},{"annotation":{"meta":null,"sourceSpan":{"end":[201,30],"start":[201,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[201,20],"start":[201,12]}},"type":"Var","value":{"identifier":"abs","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[201,30],"start":[201,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[201,29],"start":[201,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,24],"start":[201,22]}},"type":"Var","value":{"identifier":"g1","sourcePos":[199,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[201,29],"start":[201,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,29],"start":[201,27]}},"type":"Var","value":{"identifier":"g2","sourcePos":[199,1]}},"type":"App"},"type":"App"},"identifier":"dg"},{"annotation":{"meta":null,"sourceSpan":{"end":[202,30],"start":[202,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[202,20],"start":[202,12]}},"type":"Var","value":{"identifier":"abs","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[202,30],"start":[202,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[202,29],"start":[202,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[202,24],"start":[202,22]}},"type":"Var","value":{"identifier":"b1","sourcePos":[199,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[202,29],"start":[202,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[202,29],"start":[202,27]}},"type":"Var","value":{"identifier":"b2","sourcePos":[199,1]}},"type":"App"},"type":"App"},"identifier":"db"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[203,26],"start":[203,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[203,19],"start":[203,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[203,19],"start":[203,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[203,9],"start":[203,7]}},"type":"Var","value":{"identifier":"dr","sourcePos":[200,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[203,19],"start":[203,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[203,14],"start":[203,12]}},"type":"Var","value":{"identifier":"dg","sourcePos":[201,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[203,19],"start":[203,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[203,19],"start":[203,17]}},"type":"Var","value":{"identifier":"db","sourcePos":[202,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[203,26],"start":[203,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[203,26],"start":[203,23]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":3}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"pixelDifference"},{"annotation":{"meta":null,"sourceSpan":{"end":[103,51],"start":[103,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[103,51],"start":[103,1]}},"argument":"value","body":{"annotation":{"meta":null,"sourceSpan":{"end":[103,51],"start":[103,1]}},"argument":"minVal","body":{"annotation":{"meta":null,"sourceSpan":{"end":[103,51],"start":[103,1]}},"argument":"maxVal","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[104,68],"start":[104,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,40],"start":[104,34]}},"type":"Var","value":{"identifier":"minVal","sourcePos":[104,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[104,68],"start":[104,34]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[104,68],"start":[104,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,48],"start":[104,43]}},"type":"Var","value":{"identifier":"value","sourcePos":[104,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[104,68],"start":[104,34]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[104,67],"start":[104,52]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,58],"start":[104,52]}},"type":"Var","value":{"identifier":"maxVal","sourcePos":[104,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[104,67],"start":[104,52]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,67],"start":[104,61]}},"type":"Var","value":{"identifier":"minVal","sourcePos":[104,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"mapToRange"},{"annotation":{"meta":null,"sourceSpan":{"end":[233,48],"start":[233,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[233,48],"start":[233,1]}},"argument":"dx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[233,48],"start":[233,1]}},"argument":"dy","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[234,36],"start":[234,27]}},"type":"Var","value":{"identifier":"sqrt","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[234,56],"start":[234,27]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[234,55],"start":[234,38]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[234,55],"start":[234,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[234,40],"start":[234,38]}},"type":"Var","value":{"identifier":"dx","sourcePos":[234,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[234,55],"start":[234,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[234,45],"start":[234,43]}},"type":"Var","value":{"identifier":"dx","sourcePos":[234,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[234,55],"start":[234,38]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[234,55],"start":[234,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[234,50],"start":[234,48]}},"type":"Var","value":{"identifier":"dy","sourcePos":[234,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[234,55],"start":[234,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[234,55],"start":[234,53]}},"type":"Var","value":{"identifier":"dy","sourcePos":[234,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"gradientMagnitude"},{"annotation":{"meta":null,"sourceSpan":{"end":[274,34],"start":[274,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[274,34],"start":[274,1]}},"argument":"values","body":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[275,23],"start":[275,18]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[275,32],"start":[275,18]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[275,32],"start":[275,24]}},"type":"Var","value":{"identifier":"min","moduleName":["Math"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[275,44],"start":[275,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[275,43],"start":[275,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[275,37],"start":[275,34]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[275,43],"start":[275,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[275,43],"start":[275,40]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[275,51],"start":[275,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[275,51],"start":[275,45]}},"type":"Var","value":{"identifier":"values","sourcePos":[275,1]}},"type":"App"},"type":"Abs"},"identifier":"findMin"},{"annotation":{"meta":null,"sourceSpan":{"end":[278,34],"start":[278,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[278,34],"start":[278,1]}},"argument":"values","body":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[279,23],"start":[279,18]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[279,32],"start":[279,18]}},"argument":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[279,32],"start":[279,24]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[279,45],"start":[279,18]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[279,44],"start":[279,34]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"negate","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[279,38],"start":[279,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[279,38],"start":[279,35]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[279,44],"start":[279,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[279,44],"start":[279,41]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[279,52],"start":[279,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[279,52],"start":[279,46]}},"type":"Var","value":{"identifier":"values","sourcePos":[279,1]}},"type":"App"},"type":"Abs"},"identifier":"findMax"},{"annotation":{"meta":null,"sourceSpan":{"end":[50,48],"start":[50,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[57,4],"start":[52,3]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["sensitivity",{"annotation":{"meta":null,"sourceSpan":{"end":[52,21],"start":[52,18]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}}],["smoothing",{"annotation":{"meta":null,"sourceSpan":{"end":[53,19],"start":[53,16]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["min",{"annotation":{"meta":null,"sourceSpan":{"end":[54,13],"start":[54,10]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["max",{"annotation":{"meta":null,"sourceSpan":{"end":[55,13],"start":[55,10]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}}],["invert",{"annotation":{"meta":null,"sourceSpan":{"end":[56,18],"start":[56,13]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}]]}},"identifier":"defaultValueMappingConfig"},{"annotation":{"meta":null,"sourceSpan":{"end":[71,48],"start":[71,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[80,4],"start":[73,3]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["nearPlane",{"annotation":{"meta":null,"sourceSpan":{"end":[73,19],"start":[73,16]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["farPlane",{"annotation":{"meta":null,"sourceSpan":{"end":[74,18],"start":[74,15]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}}],["sensitivity",{"annotation":{"meta":null,"sourceSpan":{"end":[75,21],"start":[75,18]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}}],["smoothing",{"annotation":{"meta":null,"sourceSpan":{"end":[76,19],"start":[76,16]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["min",{"annotation":{"meta":null,"sourceSpan":{"end":[77,13],"start":[77,10]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["max",{"annotation":{"meta":null,"sourceSpan":{"end":[78,13],"start":[78,10]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}}],["invert",{"annotation":{"meta":null,"sourceSpan":{"end":[79,18],"start":[79,13]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}}]]}},"identifier":"defaultDepthMappingConfig"},{"annotation":{"meta":null,"sourceSpan":{"end":[87,28],"start":[87,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[87,28],"start":[87,1]}},"argument":"x","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[88,21],"start":[88,13]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[88,25],"start":[88,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[88,25],"start":[88,22]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[88,42],"start":[88,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[88,35],"start":[88,27]}},"type":"Var","value":{"identifier":"min","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[88,39],"start":[88,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[88,39],"start":[88,36]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[88,41],"start":[88,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[88,41],"start":[88,40]}},"type":"Var","value":{"identifier":"x","sourcePos":[88,1]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"clamp01"},{"annotation":{"meta":null,"sourceSpan":{"end":[158,55],"start":[158,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[158,55],"start":[158,1]}},"argument":"depthValue","body":{"annotation":{"meta":null,"sourceSpan":{"end":[158,55],"start":[158,1]}},"argument":"nearPlane","body":{"annotation":{"meta":null,"sourceSpan":{"end":[158,55],"start":[158,1]}},"argument":"farPlane","body":{"annotation":{"meta":null,"sourceSpan":{"end":[162,53],"start":[160,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[160,35],"start":[160,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[160,35],"start":[160,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[160,23],"start":[160,15]}},"type":"Var","value":{"identifier":"farPlane","sourcePos":[159,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[160,35],"start":[160,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[160,35],"start":[160,26]}},"type":"Var","value":{"identifier":"nearPlane","sourcePos":[159,1]}},"type":"App"},"identifier":"range"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[162,53],"start":[161,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[162,53],"start":[161,6]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[161,37],"start":[161,27]}},"type":"Var","value":{"identifier":"depthValue","sourcePos":[159,1]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[162,53],"start":[161,6]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[162,18],"start":[162,11]}},"type":"Var","value":{"identifier":"clamp01","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[162,53],"start":[162,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[162,52],"start":[162,20]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[162,43],"start":[162,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,31],"start":[162,21]}},"type":"Var","value":{"identifier":"depthValue","sourcePos":[159,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[162,43],"start":[162,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,43],"start":[162,34]}},"type":"Var","value":{"identifier":"nearPlane","sourcePos":[159,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[162,52],"start":[162,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,52],"start":[162,47]}},"type":"Var","value":{"identifier":"range","sourcePos":[160,7]}},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[161,21],"start":[161,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[161,14],"start":[161,9]}},"type":"Var","value":{"identifier":"range","sourcePos":[160,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[161,21],"start":[161,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[161,21],"start":[161,18]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"normalizeDepth"},{"annotation":{"meta":null,"sourceSpan":{"end":[251,44],"start":[251,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[251,44],"start":[251,1]}},"argument":"values","body":{"annotation":{"meta":null,"sourceSpan":{"end":[260,39],"start":[253,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[253,24],"start":[253,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[253,17],"start":[253,11]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[253,24],"start":[253,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[253,24],"start":[253,18]}},"type":"Var","value":{"identifier":"values","sourcePos":[252,1]}},"type":"App"},"identifier":"n"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[260,39],"start":[254,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[260,39],"start":[254,6]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[254,24],"start":[254,21]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[260,39],"start":[254,6]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[260,39],"start":[256,8]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[256,38],"start":[256,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[256,23],"start":[256,18]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[256,27],"start":[256,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Color","ValueMapping"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[256,31],"start":[256,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[256,31],"start":[256,28]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[256,38],"start":[256,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[256,38],"start":[256,32]}},"type":"Var","value":{"identifier":"values","sourcePos":[252,1]}},"type":"App"},"identifier":"sum"},{"annotation":{"meta":null,"sourceSpan":{"end":[257,35],"start":[257,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[257,35],"start":[257,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[257,22],"start":[257,19]}},"type":"Var","value":{"identifier":"sum","sourcePos":[256,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[257,35],"start":[257,19]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[257,33],"start":[257,25]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[257,35],"start":[257,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[257,35],"start":[257,34]}},"type":"Var","value":{"identifier":"n","sourcePos":[253,7]}},"type":"App"},"type":"App"},"identifier":"mean"},{"annotation":{"meta":null,"sourceSpan":{"end":[258,69],"start":[258,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[258,62],"start":[258,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[258,61],"start":[258,32]}},"argument":"v","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[258,61],"start":[258,38]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[258,47],"start":[258,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[258,40],"start":[258,39]}},"type":"Var","value":{"identifier":"v","sourcePos":[258,33]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[258,47],"start":[258,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[258,47],"start":[258,43]}},"type":"Var","value":{"identifier":"mean","sourcePos":[257,12]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[258,61],"start":[258,38]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[258,60],"start":[258,52]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[258,53],"start":[258,52]}},"type":"Var","value":{"identifier":"v","sourcePos":[258,33]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[258,60],"start":[258,52]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[258,60],"start":[258,56]}},"type":"Var","value":{"identifier":"mean","sourcePos":[257,12]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[258,69],"start":[258,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[258,69],"start":[258,63]}},"type":"Var","value":{"identifier":"values","sourcePos":[252,1]}},"type":"App"},"identifier":"squaredDiffs"},{"annotation":{"meta":null,"sourceSpan":{"end":[259,56],"start":[259,12]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[259,35],"start":[259,30]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[259,39],"start":[259,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Color","ValueMapping"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[259,43],"start":[259,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[259,43],"start":[259,40]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[259,56],"start":[259,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[259,56],"start":[259,44]}},"type":"Var","value":{"identifier":"squaredDiffs","sourcePos":[258,12]}},"type":"App"},"identifier":"sumSquaredDiffs"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[260,39],"start":[260,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[260,26],"start":[260,11]}},"type":"Var","value":{"identifier":"sumSquaredDiffs","sourcePos":[259,12]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[260,39],"start":[260,11]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[260,37],"start":[260,29]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[260,39],"start":[260,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[260,39],"start":[260,38]}},"type":"Var","value":{"identifier":"n","sourcePos":[253,7]}},"type":"App"},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[254,15],"start":[254,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[254,10],"start":[254,9]}},"type":"Var","value":{"identifier":"n","sourcePos":[253,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[254,15],"start":[254,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[254,15],"start":[254,14]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"identifier":"calculateVariance"},{"annotation":{"meta":null,"sourceSpan":{"end":[263,42],"start":[263,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[263,42],"start":[263,1]}},"argument":"values","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[264,35],"start":[264,26]}},"type":"Var","value":{"identifier":"sqrt","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[264,62],"start":[264,26]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[264,54],"start":[264,37]}},"type":"Var","value":{"identifier":"calculateVariance","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[264,61],"start":[264,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[264,61],"start":[264,55]}},"type":"Var","value":{"identifier":"values","sourcePos":[264,1]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"calculateStdDev"},{"annotation":{"meta":null,"sourceSpan":{"end":[267,40],"start":[267,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[267,40],"start":[267,1]}},"argument":"values","body":{"annotation":{"meta":null,"sourceSpan":{"end":[271,44],"start":[269,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[269,24],"start":[269,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[269,17],"start":[269,11]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[269,24],"start":[269,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[269,24],"start":[269,18]}},"type":"Var","value":{"identifier":"values","sourcePos":[268,1]}},"type":"App"},"identifier":"n"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[271,44],"start":[270,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[271,44],"start":[270,6]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[270,24],"start":[270,21]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[271,44],"start":[270,6]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[271,44],"start":[271,11]}},"argument":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[271,16],"start":[271,11]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[271,20],"start":[271,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Color","ValueMapping"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[271,24],"start":[271,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[271,24],"start":[271,21]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[271,31],"start":[271,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[271,31],"start":[271,25]}},"type":"Var","value":{"identifier":"values","sourcePos":[268,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[271,44],"start":[271,11]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[271,42],"start":[271,34]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[271,44],"start":[271,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[271,44],"start":[271,43]}},"type":"Var","value":{"identifier":"n","sourcePos":[269,7]}},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[270,15],"start":[270,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[270,10],"start":[270,9]}},"type":"Var","value":{"identifier":"n","sourcePos":[269,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[270,15],"start":[270,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[270,15],"start":[270,14]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Let"},"type":"Abs"},"identifier":"calculateMean"},{"annotation":{"meta":null,"sourceSpan":{"end":[240,68],"start":[240,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[240,68],"start":[240,1]}},"argument":"left","body":{"annotation":{"meta":null,"sourceSpan":{"end":[240,68],"start":[240,1]}},"argument":"right","body":{"annotation":{"meta":null,"sourceSpan":{"end":[240,68],"start":[240,1]}},"argument":"top","body":{"annotation":{"meta":null,"sourceSpan":{"end":[240,68],"start":[240,1]}},"argument":"bottom","body":{"annotation":{"meta":null,"sourceSpan":{"end":[244,29],"start":[242,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[243,24],"start":[243,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[243,24],"start":[243,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,18],"start":[243,12]}},"type":"Var","value":{"identifier":"bottom","sourcePos":[241,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[243,24],"start":[243,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[243,24],"start":[243,21]}},"type":"Var","value":{"identifier":"top","sourcePos":[241,1]}},"type":"App"},"identifier":"dy"},{"annotation":{"meta":null,"sourceSpan":{"end":[242,24],"start":[242,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[242,24],"start":[242,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[242,17],"start":[242,12]}},"type":"Var","value":{"identifier":"right","sourcePos":[241,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[242,24],"start":[242,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[242,24],"start":[242,20]}},"type":"Var","value":{"identifier":"left","sourcePos":[241,1]}},"type":"App"},"identifier":"dx"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[244,23],"start":[244,6]}},"type":"Var","value":{"identifier":"gradientMagnitude","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[244,26],"start":[244,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,26],"start":[244,24]}},"type":"Var","value":{"identifier":"dx","sourcePos":[242,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[244,29],"start":[244,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[244,29],"start":[244,27]}},"type":"Var","value":{"identifier":"dy","sourcePos":[243,7]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"calculateGradient"},{"annotation":{"meta":null,"sourceSpan":{"end":[112,55],"start":[112,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[112,55],"start":[112,1]}},"argument":"currentValue","body":{"annotation":{"meta":null,"sourceSpan":{"end":[112,55],"start":[112,1]}},"argument":"previousValue","body":{"annotation":{"meta":null,"sourceSpan":{"end":[112,55],"start":[112,1]}},"argument":"smoothing","body":{"annotation":{"meta":null,"sourceSpan":{"end":[115,68],"start":[114,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[115,68],"start":[114,3]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[114,40],"start":[114,28]}},"type":"Var","value":{"identifier":"currentValue","sourcePos":[113,1]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[115,68],"start":[114,3]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[115,68],"start":[115,8]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[115,68],"start":[115,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,21],"start":[115,8]}},"type":"Var","value":{"identifier":"previousValue","sourcePos":[113,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[115,68],"start":[115,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,33],"start":[115,24]}},"type":"Var","value":{"identifier":"smoothing","sourcePos":[113,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[115,68],"start":[115,8]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[115,68],"start":[115,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,48],"start":[115,36]}},"type":"Var","value":{"identifier":"currentValue","sourcePos":[113,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[115,68],"start":[115,8]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[115,67],"start":[115,52]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,55],"start":[115,52]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[115,67],"start":[115,52]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,67],"start":[115,58]}},"type":"Var","value":{"identifier":"smoothing","sourcePos":[113,1]}},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[114,22],"start":[114,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[114,15],"start":[114,6]}},"type":"Var","value":{"identifier":"smoothing","sourcePos":[113,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[114,22],"start":[114,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[114,22],"start":[114,19]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"applySmoothing"},{"annotation":{"meta":null,"sourceSpan":{"end":[215,91],"start":[215,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[215,91],"start":[215,1]}},"argument":"motionValue","body":{"annotation":{"meta":null,"sourceSpan":{"end":[215,91],"start":[215,1]}},"argument":"sensitivity","body":{"annotation":{"meta":null,"sourceSpan":{"end":[215,91],"start":[215,1]}},"argument":"minVal","body":{"annotation":{"meta":null,"sourceSpan":{"end":[215,91],"start":[215,1]}},"argument":"maxVal","body":{"annotation":{"meta":null,"sourceSpan":{"end":[215,91],"start":[215,1]}},"argument":"mPreviousValue","body":{"annotation":{"meta":null,"sourceSpan":{"end":[215,91],"start":[215,1]}},"argument":"smoothing","body":{"annotation":{"meta":null,"sourceSpan":{"end":[226,57],"start":[217,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[218,51],"start":[218,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[218,23],"start":[218,16]}},"type":"Var","value":{"identifier":"clamp01","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[218,51],"start":[218,16]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[218,50],"start":[218,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[218,36],"start":[218,25]}},"type":"Var","value":{"identifier":"motionValue","sourcePos":[216,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[218,50],"start":[218,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[218,50],"start":[218,39]}},"type":"Var","value":{"identifier":"sensitivity","sourcePos":[216,1]}},"type":"App"},"type":"App"},"identifier":"scaled"},{"annotation":{"meta":null,"sourceSpan":{"end":[221,47],"start":[221,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[221,26],"start":[221,16]}},"type":"Var","value":{"identifier":"mapToRange","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[221,33],"start":[221,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[221,33],"start":[221,27]}},"type":"Var","value":{"identifier":"scaled","sourcePos":[218,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[221,40],"start":[221,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[221,40],"start":[221,34]}},"type":"Var","value":{"identifier":"minVal","sourcePos":[216,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[221,47],"start":[221,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[221,47],"start":[221,41]}},"type":"Var","value":{"identifier":"maxVal","sourcePos":[216,1]}},"type":"App"},"identifier":"mapped"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[226,57],"start":[224,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[225,15],"start":[225,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[225,25],"start":[225,19]}},"type":"Var","value":{"identifier":"mapped","sourcePos":[221,7]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[226,17],"start":[226,8]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[226,17],"start":[226,13]}},"binderType":"VarBinder","identifier":"prev"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[226,35],"start":[226,21]}},"type":"Var","value":{"identifier":"applySmoothing","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[226,42],"start":[226,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[226,42],"start":[226,36]}},"type":"Var","value":{"identifier":"mapped","sourcePos":[221,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[226,47],"start":[226,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[226,47],"start":[226,43]}},"type":"Var","value":{"identifier":"prev","sourcePos":[226,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[226,57],"start":[226,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[226,57],"start":[226,48]}},"type":"Var","value":{"identifier":"smoothing","sourcePos":[216,1]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[224,25],"start":[224,11]}},"type":"Var","value":{"identifier":"mPreviousValue","sourcePos":[216,1]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"mapMotionValue"},{"annotation":{"meta":null,"sourceSpan":{"end":[93,47],"start":[93,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[93,47],"start":[93,1]}},"argument":"rawValue","body":{"annotation":{"meta":null,"sourceSpan":{"end":[93,47],"start":[93,1]}},"argument":"sensitivity","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[94,48],"start":[94,41]}},"type":"Var","value":{"identifier":"clamp01","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[94,73],"start":[94,41]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[94,72],"start":[94,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,58],"start":[94,50]}},"type":"Var","value":{"identifier":"rawValue","sourcePos":[94,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[94,72],"start":[94,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,72],"start":[94,61]}},"type":"Var","value":{"identifier":"sensitivity","sourcePos":[94,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"applySensitivity"},{"annotation":{"meta":null,"sourceSpan":{"end":[208,51],"start":[208,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[208,51],"start":[208,1]}},"argument":"difference","body":{"annotation":{"meta":null,"sourceSpan":{"end":[208,51],"start":[208,1]}},"argument":"threshold","body":{"annotation":{"meta":null,"sourceSpan":{"end":[210,53],"start":[210,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[210,53],"start":[210,3]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[210,44],"start":[210,34]}},"type":"Var","value":{"identifier":"difference","sourcePos":[209,1]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[210,53],"start":[210,3]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[210,53],"start":[210,50]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[210,28],"start":[210,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[210,16],"start":[210,6]}},"type":"Var","value":{"identifier":"difference","sourcePos":[209,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[210,28],"start":[210,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[210,28],"start":[210,19]}},"type":"Var","value":{"identifier":"threshold","sourcePos":[209,1]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"applyMotionThreshold"},{"annotation":{"meta":null,"sourceSpan":{"end":[99,46],"start":[99,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[99,46],"start":[99,1]}},"argument":"value","body":{"annotation":{"meta":null,"sourceSpan":{"end":[99,46],"start":[99,1]}},"argument":"invert","body":{"annotation":{"meta":null,"sourceSpan":{"end":[100,68],"start":[100,31]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[100,68],"start":[100,31]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[100,57],"start":[100,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[100,49],"start":[100,46]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[100,57],"start":[100,46]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[100,57],"start":[100,52]}},"type":"Var","value":{"identifier":"value","sourcePos":[100,1]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[100,68],"start":[100,31]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[100,68],"start":[100,63]}},"type":"Var","value":{"identifier":"value","sourcePos":[100,1]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[100,40],"start":[100,34]}},"type":"Var","value":{"identifier":"invert","sourcePos":[100,1]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"applyInversion"},{"annotation":{"meta":null,"sourceSpan":{"end":[172,72],"start":[172,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[172,72],"start":[172,1]}},"argument":"depthValue","body":{"annotation":{"meta":null,"sourceSpan":{"end":[172,72],"start":[172,1]}},"argument":"config","body":{"annotation":{"meta":null,"sourceSpan":{"end":[172,72],"start":[172,1]}},"argument":"mPreviousValue","body":{"annotation":{"meta":null,"sourceSpan":{"end":[189,64],"start":[174,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[175,78],"start":[175,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[175,34],"start":[175,20]}},"type":"Var","value":{"identifier":"normalizeDepth","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[175,45],"start":[175,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[175,45],"start":[175,35]}},"type":"Var","value":{"identifier":"depthValue","sourcePos":[173,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[175,62],"start":[175,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[175,62],"start":[175,46]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[175,52],"start":[175,46]}},"type":"Var","value":{"identifier":"config","sourcePos":[173,1]}},"fieldName":"nearPlane","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[175,78],"start":[175,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[175,78],"start":[175,63]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[175,69],"start":[175,63]}},"type":"Var","value":{"identifier":"config","sourcePos":[173,1]}},"fieldName":"farPlane","type":"Accessor"},"type":"App"},"identifier":"normalized"},{"annotation":{"meta":null,"sourceSpan":{"end":[178,62],"start":[178,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[178,32],"start":[178,16]}},"type":"Var","value":{"identifier":"applySensitivity","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[178,43],"start":[178,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[178,43],"start":[178,33]}},"type":"Var","value":{"identifier":"normalized","sourcePos":[175,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[178,62],"start":[178,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[178,62],"start":[178,44]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[178,50],"start":[178,44]}},"type":"Var","value":{"identifier":"config","sourcePos":[173,1]}},"fieldName":"sensitivity","type":"Accessor"},"type":"App"},"identifier":"scaled"},{"annotation":{"meta":null,"sourceSpan":{"end":[181,53],"start":[181,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[181,32],"start":[181,18]}},"type":"Var","value":{"identifier":"applyInversion","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[181,39],"start":[181,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,39],"start":[181,33]}},"type":"Var","value":{"identifier":"scaled","sourcePos":[178,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[181,53],"start":[181,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,53],"start":[181,40]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[181,46],"start":[181,40]}},"type":"Var","value":{"identifier":"config","sourcePos":[173,1]}},"fieldName":"invert","type":"Accessor"},"type":"App"},"identifier":"inverted"},{"annotation":{"meta":null,"sourceSpan":{"end":[184,57],"start":[184,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[184,26],"start":[184,16]}},"type":"Var","value":{"identifier":"mapToRange","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[184,35],"start":[184,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[184,35],"start":[184,27]}},"type":"Var","value":{"identifier":"inverted","sourcePos":[181,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[184,46],"start":[184,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[184,46],"start":[184,36]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[184,42],"start":[184,36]}},"type":"Var","value":{"identifier":"config","sourcePos":[173,1]}},"fieldName":"min","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[184,57],"start":[184,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[184,57],"start":[184,47]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[184,53],"start":[184,47]}},"type":"Var","value":{"identifier":"config","sourcePos":[173,1]}},"fieldName":"max","type":"Accessor"},"type":"App"},"identifier":"mapped"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[189,64],"start":[187,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[188,15],"start":[188,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[188,25],"start":[188,19]}},"type":"Var","value":{"identifier":"mapped","sourcePos":[184,7]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[189,17],"start":[189,8]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[189,17],"start":[189,13]}},"binderType":"VarBinder","identifier":"prev"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[189,35],"start":[189,21]}},"type":"Var","value":{"identifier":"applySmoothing","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[189,42],"start":[189,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[189,42],"start":[189,36]}},"type":"Var","value":{"identifier":"mapped","sourcePos":[184,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[189,47],"start":[189,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[189,47],"start":[189,43]}},"type":"Var","value":{"identifier":"prev","sourcePos":[189,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[189,64],"start":[189,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[189,64],"start":[189,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[189,54],"start":[189,48]}},"type":"Var","value":{"identifier":"config","sourcePos":[173,1]}},"fieldName":"smoothing","type":"Accessor"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[187,25],"start":[187,11]}},"type":"Var","value":{"identifier":"mPreviousValue","sourcePos":[173,1]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"mapDepthValue"},{"annotation":{"meta":null,"sourceSpan":{"end":[129,67],"start":[129,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[129,67],"start":[129,1]}},"argument":"rawValue","body":{"annotation":{"meta":null,"sourceSpan":{"end":[129,67],"start":[129,1]}},"argument":"config","body":{"annotation":{"meta":null,"sourceSpan":{"end":[129,67],"start":[129,1]}},"argument":"mPreviousValue","body":{"annotation":{"meta":null,"sourceSpan":{"end":[143,64],"start":[131,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[132,60],"start":[132,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[132,32],"start":[132,16]}},"type":"Var","value":{"identifier":"applySensitivity","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[132,41],"start":[132,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[132,41],"start":[132,33]}},"type":"Var","value":{"identifier":"rawValue","sourcePos":[130,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[132,60],"start":[132,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[132,60],"start":[132,42]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[132,48],"start":[132,42]}},"type":"Var","value":{"identifier":"config","sourcePos":[130,1]}},"fieldName":"sensitivity","type":"Accessor"},"type":"App"},"identifier":"scaled"},{"annotation":{"meta":null,"sourceSpan":{"end":[135,53],"start":[135,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[135,32],"start":[135,18]}},"type":"Var","value":{"identifier":"applyInversion","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[135,39],"start":[135,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[135,39],"start":[135,33]}},"type":"Var","value":{"identifier":"scaled","sourcePos":[132,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[135,53],"start":[135,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[135,53],"start":[135,40]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[135,46],"start":[135,40]}},"type":"Var","value":{"identifier":"config","sourcePos":[130,1]}},"fieldName":"invert","type":"Accessor"},"type":"App"},"identifier":"inverted"},{"annotation":{"meta":null,"sourceSpan":{"end":[138,57],"start":[138,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[138,26],"start":[138,16]}},"type":"Var","value":{"identifier":"mapToRange","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[138,35],"start":[138,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,35],"start":[138,27]}},"type":"Var","value":{"identifier":"inverted","sourcePos":[135,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,46],"start":[138,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,46],"start":[138,36]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[138,42],"start":[138,36]}},"type":"Var","value":{"identifier":"config","sourcePos":[130,1]}},"fieldName":"min","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,57],"start":[138,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,57],"start":[138,47]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[138,53],"start":[138,47]}},"type":"Var","value":{"identifier":"config","sourcePos":[130,1]}},"fieldName":"max","type":"Accessor"},"type":"App"},"identifier":"mapped"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[143,64],"start":[141,6]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[142,15],"start":[142,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[142,25],"start":[142,19]}},"type":"Var","value":{"identifier":"mapped","sourcePos":[138,7]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[143,17],"start":[143,8]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[143,17],"start":[143,13]}},"binderType":"VarBinder","identifier":"prev"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[143,35],"start":[143,21]}},"type":"Var","value":{"identifier":"applySmoothing","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[143,42],"start":[143,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[143,42],"start":[143,36]}},"type":"Var","value":{"identifier":"mapped","sourcePos":[138,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[143,47],"start":[143,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[143,47],"start":[143,43]}},"type":"Var","value":{"identifier":"prev","sourcePos":[143,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[143,64],"start":[143,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[143,64],"start":[143,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[143,54],"start":[143,48]}},"type":"Var","value":{"identifier":"config","sourcePos":[130,1]}},"fieldName":"smoothing","type":"Accessor"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[141,25],"start":[141,11]}},"type":"Var","value":{"identifier":"mPreviousValue","sourcePos":[130,1]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"mapValue"},{"annotation":{"meta":null,"sourceSpan":{"end":[146,57],"start":[146,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[146,57],"start":[146,1]}},"argument":"rawValue","body":{"annotation":{"meta":null,"sourceSpan":{"end":[146,57],"start":[146,1]}},"argument":"config","body":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[147,42],"start":[147,34]}},"type":"Var","value":{"identifier":"mapValue","moduleName":["Lattice","Services","Color","ValueMapping"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,51],"start":[147,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,51],"start":[147,43]}},"type":"Var","value":{"identifier":"rawValue","sourcePos":[147,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[147,58],"start":[147,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,58],"start":[147,52]}},"type":"Var","value":{"identifier":"config","sourcePos":[147,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[147,66],"start":[147,34]}},"argument":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[147,66],"start":[147,59]}},"type":"Var","value":{"identifier":"Nothing","moduleName":["Data","Maybe"]}},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"mapValueSimple"}],"exports":["defaultValueMappingConfig","defaultDepthMappingConfig","clamp01","applySensitivity","applyInversion","mapToRange","applySmoothing","mapValue","mapValueSimple","normalizeDepth","mapDepthValue","pixelDifference","applyMotionThreshold","mapMotionValue","gradientMagnitude","calculateGradient","calculateVariance","calculateStdDev","calculateMean","findMin","findMax"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[279,52],"start":[12,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[279,52],"start":[12,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[279,52],"start":[12,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[279,52],"start":[12,1]}},"moduleName":["Data","Functor"]},{"annotation":{"meta":null,"sourceSpan":{"end":[279,52],"start":[12,1]}},"moduleName":["Data","Int"]},{"annotation":{"meta":null,"sourceSpan":{"end":[279,52],"start":[12,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[279,52],"start":[12,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[279,52],"start":[12,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[279,52],"start":[12,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[279,52],"start":[12,1]}},"moduleName":["Lattice","Services","Color","ValueMapping"]},{"annotation":{"meta":null,"sourceSpan":{"end":[279,52],"start":[12,1]}},"moduleName":["Math"]},{"annotation":{"meta":null,"sourceSpan":{"end":[30,15],"start":[30,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[279,52],"start":[12,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","Color","ValueMapping"],"modulePath":"src/Lattice/Services/Color/ValueMapping.purs","reExports":{},"sourceSpan":{"end":[279,52],"start":[12,1]}}