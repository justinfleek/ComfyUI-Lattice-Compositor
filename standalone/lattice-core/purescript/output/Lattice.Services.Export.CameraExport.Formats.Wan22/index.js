// Generated by purs version 0.15.15
import * as Data_Eq from "../Data.Eq/index.js";
import * as Data_Functor from "../Data.Functor/index.js";
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Lattice_Services_Export_CameraExport_MotionAnalysis from "../Lattice.Services.Export.CameraExport.MotionAnalysis/index.js";
import * as Lattice_Services_Export_CameraExport_Types from "../Lattice.Services.Export.CameraExport.Types/index.js";
var eq = /* #__PURE__ */ Data_Eq.eq(/* #__PURE__ */ Data_Maybe.eqMaybe(Lattice_Services_Export_CameraExport_Types.eqZoomDirection));
var map = /* #__PURE__ */ Data_Functor.map(Data_Functor.functorArray);
var eq1 = /* #__PURE__ */ Data_Eq.eq(Lattice_Services_Export_CameraExport_Types.eqOrbitDirection);
var eq2 = /* #__PURE__ */ Data_Eq.eq(Lattice_Services_Export_CameraExport_Types.eqZoomDirection);
var mapZoomPanToWan22 = function (motion) {
    var isZoomIn = eq(motion.zoomDirection)(new Data_Maybe.Just(Lattice_Services_Export_CameraExport_Types.ZoomIn.value));
    if (motion.panDirection instanceof Data_Maybe.Just && motion.panDirection.value0 instanceof Lattice_Services_Export_CameraExport_Types.PanUp) {
        if (isZoomIn) {
            return Lattice_Services_Export_CameraExport_Types.Wan22PanUpZoomIn.value;
        };
        return Lattice_Services_Export_CameraExport_Types.Wan22PanUpZoomOut.value;
    };
    if (motion.panDirection instanceof Data_Maybe.Just && motion.panDirection.value0 instanceof Lattice_Services_Export_CameraExport_Types.PanDown) {
        if (isZoomIn) {
            return Lattice_Services_Export_CameraExport_Types.Wan22PanDownZoomIn.value;
        };
        return Lattice_Services_Export_CameraExport_Types.Wan22PanDownZoomOut.value;
    };
    if (motion.panDirection instanceof Data_Maybe.Just && motion.panDirection.value0 instanceof Lattice_Services_Export_CameraExport_Types.PanLeft) {
        if (isZoomIn) {
            return Lattice_Services_Export_CameraExport_Types.Wan22PanLeftZoomIn.value;
        };
        return Lattice_Services_Export_CameraExport_Types.Wan22PanLeftZoomOut.value;
    };
    if (motion.panDirection instanceof Data_Maybe.Just && motion.panDirection.value0 instanceof Lattice_Services_Export_CameraExport_Types.PanRight) {
        if (isZoomIn) {
            return Lattice_Services_Export_CameraExport_Types.Wan22PanRightZoomIn.value;
        };
        return Lattice_Services_Export_CameraExport_Types.Wan22PanRightZoomOut.value;
    };
    if (motion.panDirection instanceof Data_Maybe.Nothing) {
        if (isZoomIn) {
            return Lattice_Services_Export_CameraExport_Types.Wan22ZoomIn.value;
        };
        return Lattice_Services_Export_CameraExport_Types.Wan22ZoomOut.value;
    };
    throw new Error("Failed pattern match at Lattice.Services.Export.CameraExport.Formats.Wan22 (line 66, column 5 - line 71, column 64): " + [ motion.panDirection.constructor.name ]);
};
var mapPanToWan22 = function (motion) {
    if (motion.panDirection instanceof Data_Maybe.Just && motion.panDirection.value0 instanceof Lattice_Services_Export_CameraExport_Types.PanUp) {
        return Lattice_Services_Export_CameraExport_Types.Wan22PanUp.value;
    };
    if (motion.panDirection instanceof Data_Maybe.Just && motion.panDirection.value0 instanceof Lattice_Services_Export_CameraExport_Types.PanDown) {
        return Lattice_Services_Export_CameraExport_Types.Wan22PanDown.value;
    };
    if (motion.panDirection instanceof Data_Maybe.Just && motion.panDirection.value0 instanceof Lattice_Services_Export_CameraExport_Types.PanLeft) {
        return Lattice_Services_Export_CameraExport_Types.Wan22PanLeft.value;
    };
    if (motion.panDirection instanceof Data_Maybe.Just && motion.panDirection.value0 instanceof Lattice_Services_Export_CameraExport_Types.PanRight) {
        return Lattice_Services_Export_CameraExport_Types.Wan22PanRight.value;
    };
    if (motion.panDirection instanceof Data_Maybe.Nothing) {
        return Lattice_Services_Export_CameraExport_Types.Wan22Static.value;
    };
    throw new Error("Failed pattern match at Lattice.Services.Export.CameraExport.Formats.Wan22 (line 54, column 24 - line 59, column 25): " + [ motion.panDirection.constructor.name ]);
};
var analyzeCameraMotionKF = function (keyframes) {
    var toMotionKeyframe = function (kf) {
        return {
            frame: kf.frame,
            position: kf.position,
            orientation: kf.orientation
        };
    };
    return Lattice_Services_Export_CameraExport_MotionAnalysis.analyzeCameraMotion(map(toMotionKeyframe)(keyframes));
};
var mapToWan22FunCamera = function (keyframes) {
    var motion = analyzeCameraMotionKF(keyframes);
    var preset = (function () {
        if (motion.hasOrbit) {
            if (motion.orbitDirection instanceof Data_Maybe.Just) {
                var $23 = eq1(motion.orbitDirection.value0)(Lattice_Services_Export_CameraExport_Types.OrbitLeft.value);
                if ($23) {
                    return Lattice_Services_Export_CameraExport_Types.Wan22OrbitalLeft.value;
                };
                return Lattice_Services_Export_CameraExport_Types.Wan22OrbitalRight.value;
            };
            if (motion.orbitDirection instanceof Data_Maybe.Nothing) {
                return Lattice_Services_Export_CameraExport_Types.Wan22Static.value;
            };
            throw new Error("Failed pattern match at Lattice.Services.Export.CameraExport.Formats.Wan22 (line 38, column 9 - line 40, column 33): " + [ motion.orbitDirection.constructor.name ]);
        };
        var $25 = motion.hasZoom && motion.hasPan;
        if ($25) {
            return mapZoomPanToWan22(motion);
        };
        if (motion.hasZoom) {
            if (motion.zoomDirection instanceof Data_Maybe.Just) {
                var $28 = eq2(motion.zoomDirection.value0)(Lattice_Services_Export_CameraExport_Types.ZoomIn.value);
                if ($28) {
                    return Lattice_Services_Export_CameraExport_Types.Wan22ZoomIn.value;
                };
                return Lattice_Services_Export_CameraExport_Types.Wan22ZoomOut.value;
            };
            if (motion.zoomDirection instanceof Data_Maybe.Nothing) {
                return Lattice_Services_Export_CameraExport_Types.Wan22Static.value;
            };
            throw new Error("Failed pattern match at Lattice.Services.Export.CameraExport.Formats.Wan22 (line 44, column 9 - line 46, column 33): " + [ motion.zoomDirection.constructor.name ]);
        };
        if (motion.hasPan) {
            return mapPanToWan22(motion);
        };
        return Lattice_Services_Export_CameraExport_Types.Wan22Static.value;
    })();
    return {
        cameraMotion: preset
    };
};
export {
    mapToWan22FunCamera
};
//# sourceMappingURL=index.js.map
