{"builtWith":"0.15.15","comments":[{"LineComment":" | Lattice.Services.Depth.DepthFill - Depth Buffer Filling"},{"LineComment":" |"},{"LineComment":" | Pure functions for filling depth buffers from different sources:"},{"LineComment":" | - Depthflow layer depth map sampling"},{"LineComment":" | - Particle circular splat rendering"},{"LineComment":" | - Uniform depth fill for solid layers"},{"LineComment":" | - Z-buffer depth testing"},{"LineComment":" |"},{"LineComment":" | Source: ui/src/services/export/depthRenderer.ts (lines 336-511)"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[239,15],"start":[239,14]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[239,24],"start":[239,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[234,13],"start":[234,10]}},"type":"Var","value":{"identifier":"min","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[234,24],"start":[234,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"min"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[234,43],"start":[234,40]}},"type":"Var","value":{"identifier":"max","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[234,54],"start":[234,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"max"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[152,53],"start":[152,52]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[152,67],"start":[152,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[131,26],"start":[131,25]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[131,34],"start":[131,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringInt","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[131,12],"start":[131,11]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[131,34],"start":[131,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringInt","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[160,59],"start":[160,58]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[160,67],"start":[160,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[169,26],"start":[169,23]}},"type":"Var","value":{"identifier":"max","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[169,28],"start":[169,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"max1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[169,43],"start":[169,42]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[169,47],"start":[169,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[120,13],"start":[120,12]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[120,47],"start":[120,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[120,26],"start":[120,25]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[120,47],"start":[120,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[188,18],"start":[188,16]}},"type":"Var","value":{"identifier":"conj","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[190,34],"start":[188,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"conj"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[188,22],"start":[188,19]}},"type":"Var","value":{"identifier":"not","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[188,34],"start":[188,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"not"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[174,23],"start":[174,21]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[174,39],"start":[174,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[125,13],"start":[125,11]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[126,41],"start":[125,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[125,28],"start":[125,27]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[126,41],"start":[125,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThan1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[245,31],"start":[245,29]}},"type":"Var","value":{"identifier":"disj","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[246,46],"start":[245,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"disj"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[181,36],"start":[181,8]}},"type":"Var","value":{"identifier":"bind","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[181,36],"start":[181,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindArray","moduleName":["Control","Bind"]}},"type":"App"},"identifier":"bind"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[181,28],"start":[181,21]}},"type":"Var","value":{"identifier":"negate","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[181,28],"start":[181,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringInt","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"negate"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[183,12],"start":[183,8]}},"type":"Var","value":{"identifier":"pure","moduleName":["Control","Applicative"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[183,26],"start":[183,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeArray","moduleName":["Control","Applicative"]}},"type":"App"},"identifier":"pure"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[219,31],"start":[219,30]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[219,33],"start":[219,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringInt","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[207,17],"start":[207,14]}},"type":"Var","value":{"identifier":"min","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[207,30],"start":[207,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"min1"},{"annotation":{"meta":null,"sourceSpan":{"end":[237,62],"start":[237,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[237,62],"start":[237,1]}},"argument":"minDepth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[237,62],"start":[237,1]}},"argument":"maxDepth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[237,62],"start":[237,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[238,28],"start":[238,20]}},"binderType":"VarBinder","identifier":"minDepth1"},{"annotation":{"meta":null,"sourceSpan":{"end":[238,37],"start":[238,29]}},"binderType":"VarBinder","identifier":"maxDepth1"}],"expressions":[{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[239,32],"start":[239,27]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[239,41],"start":[239,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[239,41],"start":[239,33]}},"type":"Var","value":{"identifier":"maxDepth1","sourcePos":[238,29]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[239,50],"start":[239,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[239,50],"start":[239,42]}},"type":"Var","value":{"identifier":"minDepth1","sourcePos":[238,20]}},"type":"App"},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[239,24],"start":[239,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[239,13],"start":[239,5]}},"type":"Var","value":{"identifier":"minDepth1","sourcePos":[238,20]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[239,24],"start":[239,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[239,24],"start":[239,16]}},"type":"Var","value":{"identifier":"maxDepth1","sourcePos":[238,29]}},"type":"App"}},{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[240,22],"start":[240,17]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[240,31],"start":[240,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[240,31],"start":[240,23]}},"type":"Var","value":{"identifier":"minDepth1","sourcePos":[238,20]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[240,40],"start":[240,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[240,40],"start":[240,32]}},"type":"Var","value":{"identifier":"maxDepth1","sourcePos":[238,29]}},"type":"App"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[240,14],"start":[240,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[240,40],"start":[238,1]}},"type":"Var","value":{"identifier":"minDepth","sourcePos":[238,20]}},{"annotation":{"meta":null,"sourceSpan":{"end":[240,40],"start":[238,1]}},"type":"Var","value":{"identifier":"maxDepth","sourcePos":[238,29]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"validateDepthRange"},{"annotation":{"meta":null,"sourceSpan":{"end":[232,70],"start":[232,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[232,70],"start":[232,1]}},"argument":"currentMin","body":{"annotation":{"meta":null,"sourceSpan":{"end":[232,70],"start":[232,1]}},"argument":"currentMax","body":{"annotation":{"meta":null,"sourceSpan":{"end":[232,70],"start":[232,1]}},"argument":"writtenDepth","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[234,8],"start":[234,3]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[234,38],"start":[234,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[234,24],"start":[234,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[234,24],"start":[234,14]}},"type":"Var","value":{"identifier":"currentMin","sourcePos":[233,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[234,37],"start":[234,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[234,37],"start":[234,25]}},"type":"Var","value":{"identifier":"writtenDepth","sourcePos":[233,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[234,68],"start":[234,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[234,54],"start":[234,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[234,54],"start":[234,44]}},"type":"Var","value":{"identifier":"currentMax","sourcePos":[233,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[234,67],"start":[234,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[234,67],"start":[234,55]}},"type":"Var","value":{"identifier":"writtenDepth","sourcePos":[233,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"updateDepthRange"},{"annotation":{"meta":null,"sourceSpan":{"end":[255,39],"start":[255,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[255,39],"start":[255,1]}},"argument":"value","body":{"annotation":{"meta":null,"sourceSpan":{"end":[256,33],"start":[256,28]}},"type":"Var","value":{"identifier":"value","sourcePos":[256,1]}},"type":"Abs"},"identifier":"toFloat32Precision"},{"annotation":{"meta":null,"sourceSpan":{"end":[151,48],"start":[151,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[151,48],"start":[151,1]}},"argument":"newDepth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[151,48],"start":[151,1]}},"argument":"existingDepth","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[152,67],"start":[152,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[152,51],"start":[152,43]}},"type":"Var","value":{"identifier":"newDepth","sourcePos":[152,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[152,67],"start":[152,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[152,67],"start":[152,54]}},"type":"Var","value":{"identifier":"existingDepth","sourcePos":[152,1]}},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"shouldWriteDepth"},{"annotation":{"meta":null,"sourceSpan":{"end":[129,48],"start":[129,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[129,48],"start":[129,1]}},"argument":"screenX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[129,48],"start":[129,1]}},"argument":"screenY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[129,48],"start":[129,1]}},"argument":"screenWidth","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[131,34],"start":[131,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[131,34],"start":[131,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[131,10],"start":[131,3]}},"type":"Var","value":{"identifier":"screenY","sourcePos":[130,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[131,34],"start":[131,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[131,24],"start":[131,13]}},"type":"Var","value":{"identifier":"screenWidth","sourcePos":[130,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[131,34],"start":[131,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[131,34],"start":[131,27]}},"type":"Var","value":{"identifier":"screenX","sourcePos":[130,1]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"screenToBufferIndex"},{"annotation":{"meta":null,"sourceSpan":{"end":[108,42],"start":[108,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[108,42],"start":[108,1]}},"argument":"sampleX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[108,42],"start":[108,1]}},"argument":"sampleY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[108,42],"start":[108,1]}},"argument":"depthWidth","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[110,33],"start":[110,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[110,33],"start":[110,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[110,10],"start":[110,3]}},"type":"Var","value":{"identifier":"sampleY","sourcePos":[109,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[110,33],"start":[110,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[110,23],"start":[110,13]}},"type":"Var","value":{"identifier":"depthWidth","sourcePos":[109,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[110,33],"start":[110,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[110,33],"start":[110,26]}},"type":"Var","value":{"identifier":"sampleX","sourcePos":[109,1]}},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"sampleToIndex"},{"annotation":{"meta":null,"sourceSpan":{"end":[259,61],"start":[259,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[259,61],"start":[259,1]}},"argument":"nearClip","body":{"annotation":{"meta":null,"sourceSpan":{"end":[259,61],"start":[259,1]}},"argument":"farClip","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[261,8],"start":[261,3]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[261,38],"start":[261,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[261,28],"start":[261,10]}},"type":"Var","value":{"identifier":"toFloat32Precision","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[261,37],"start":[261,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[261,37],"start":[261,29]}},"type":"Var","value":{"identifier":"nearClip","sourcePos":[260,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[261,67],"start":[261,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[261,58],"start":[261,40]}},"type":"Var","value":{"identifier":"toFloat32Precision","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[261,66],"start":[261,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[261,66],"start":[261,59]}},"type":"Var","value":{"identifier":"farClip","sourcePos":[260,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"prepareClipValues"},{"annotation":{"meta":null,"sourceSpan":{"end":[193,56],"start":[193,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[193,56],"start":[193,1]}},"argument":"p","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[194,33],"start":[194,28]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[194,45],"start":[194,28]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[194,40],"start":[194,35]}},"type":"Var","value":{"identifier":"floor","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[194,44],"start":[194,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[194,44],"start":[194,41]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[194,42],"start":[194,41]}},"type":"Var","value":{"identifier":"p","sourcePos":[194,1]}},"fieldName":"x","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[194,57],"start":[194,28]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[194,52],"start":[194,47]}},"type":"Var","value":{"identifier":"floor","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[194,56],"start":[194,47]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[194,56],"start":[194,53]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[194,54],"start":[194,53]}},"type":"Var","value":{"identifier":"p","sourcePos":[194,1]}},"fieldName":"y","type":"Accessor"},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"particleScreenPosition"},{"annotation":{"meta":null,"sourceSpan":{"end":[159,52],"start":[159,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[159,52],"start":[159,1]}},"argument":"particleZ","body":{"annotation":{"meta":null,"sourceSpan":{"end":[159,52],"start":[159,1]}},"argument":"cameraZ","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[160,46],"start":[160,43]}},"type":"Var","value":{"identifier":"abs","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[160,68],"start":[160,43]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[160,67],"start":[160,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[160,57],"start":[160,48]}},"type":"Var","value":{"identifier":"particleZ","sourcePos":[160,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[160,67],"start":[160,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[160,67],"start":[160,60]}},"type":"Var","value":{"identifier":"cameraZ","sourcePos":[160,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"particleRelativeDepth"},{"annotation":{"meta":null,"sourceSpan":{"end":[168,32],"start":[168,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[168,32],"start":[168,1]}},"argument":"size","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max1","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[169,28],"start":[169,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,28],"start":[169,27]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[169,49],"start":[169,23]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[169,35],"start":[169,30]}},"type":"Var","value":{"identifier":"floor","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[169,48],"start":[169,30]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[169,47],"start":[169,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,41],"start":[169,37]}},"type":"Var","value":{"identifier":"size","sourcePos":[169,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[169,47],"start":[169,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[169,47],"start":[169,44]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"particleRadius"},{"annotation":{"meta":null,"sourceSpan":{"end":[118,63],"start":[118,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[118,63],"start":[118,1]}},"argument":"normalized","body":{"annotation":{"meta":null,"sourceSpan":{"end":[118,63],"start":[118,1]}},"argument":"nearClip","body":{"annotation":{"meta":null,"sourceSpan":{"end":[118,63],"start":[118,1]}},"argument":"farClip","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[120,47],"start":[120,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[120,11],"start":[120,3]}},"type":"Var","value":{"identifier":"nearClip","sourcePos":[119,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[120,47],"start":[120,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul1","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[120,47],"start":[120,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[120,24],"start":[120,14]}},"type":"Var","value":{"identifier":"normalized","sourcePos":[119,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[120,47],"start":[120,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[120,46],"start":[120,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[120,35],"start":[120,28]}},"type":"Var","value":{"identifier":"farClip","sourcePos":[119,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[120,46],"start":[120,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[120,46],"start":[120,38]}},"type":"Var","value":{"identifier":"nearClip","sourcePos":[119,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"normalizedToWorldDepth"},{"annotation":{"meta":null,"sourceSpan":{"end":[113,37],"start":[113,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[113,37],"start":[113,1]}},"argument":"value","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[114,51],"start":[114,29]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[114,37],"start":[114,29]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[114,43],"start":[114,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[114,43],"start":[114,38]}},"type":"Var","value":{"identifier":"value","sourcePos":[114,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[114,51],"start":[114,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[114,51],"start":[114,46]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":255}},"type":"App"},"type":"Abs"},"identifier":"normalizeUint8Depth"},{"annotation":{"meta":null,"sourceSpan":{"end":[186,43],"start":[186,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[186,43],"start":[186,1]}},"argument":"p","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,34],"start":[188,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[188,11],"start":[188,3]}},"type":"Var","value":{"identifier":"isFinite","moduleName":["Data","Number"]}},"annotation":{"meta":null,"sourceSpan":{"end":[188,15],"start":[188,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[188,15],"start":[188,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[188,13],"start":[188,12]}},"type":"Var","value":{"identifier":"p","sourcePos":[187,1]}},"fieldName":"x","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[190,34],"start":[188,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,34],"start":[188,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"not","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[188,34],"start":[188,19]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[188,29],"start":[188,24]}},"type":"Var","value":{"identifier":"isNaN","moduleName":["Data","Number"]}},"annotation":{"meta":null,"sourceSpan":{"end":[188,33],"start":[188,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[188,33],"start":[188,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[188,31],"start":[188,30]}},"type":"Var","value":{"identifier":"p","sourcePos":[187,1]}},"fieldName":"x","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[190,34],"start":[188,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,34],"start":[188,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[189,11],"start":[189,3]}},"type":"Var","value":{"identifier":"isFinite","moduleName":["Data","Number"]}},"annotation":{"meta":null,"sourceSpan":{"end":[189,15],"start":[189,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[189,15],"start":[189,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[189,13],"start":[189,12]}},"type":"Var","value":{"identifier":"p","sourcePos":[187,1]}},"fieldName":"y","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[190,34],"start":[188,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,34],"start":[188,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"not","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[189,34],"start":[189,19]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[189,29],"start":[189,24]}},"type":"Var","value":{"identifier":"isNaN","moduleName":["Data","Number"]}},"annotation":{"meta":null,"sourceSpan":{"end":[189,33],"start":[189,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[189,33],"start":[189,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[189,31],"start":[189,30]}},"type":"Var","value":{"identifier":"p","sourcePos":[187,1]}},"fieldName":"y","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[190,34],"start":[188,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,34],"start":[188,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[190,11],"start":[190,3]}},"type":"Var","value":{"identifier":"isFinite","moduleName":["Data","Number"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,15],"start":[190,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,15],"start":[190,12]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[190,13],"start":[190,12]}},"type":"Var","value":{"identifier":"p","sourcePos":[187,1]}},"fieldName":"z","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[190,34],"start":[188,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"not","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,34],"start":[190,19]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[190,29],"start":[190,24]}},"type":"Var","value":{"identifier":"isNaN","moduleName":["Data","Number"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,33],"start":[190,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,33],"start":[190,30]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[190,31],"start":[190,30]}},"type":"Var","value":{"identifier":"p","sourcePos":[187,1]}},"fieldName":"z","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"isValidParticle"},{"annotation":{"meta":null,"sourceSpan":{"end":[212,44],"start":[212,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[212,44],"start":[212,1]}},"argument":"opacity","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[213,47],"start":[213,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[213,41],"start":[213,34]}},"type":"Var","value":{"identifier":"opacity","sourcePos":[213,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[213,47],"start":[213,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[213,47],"start":[213,44]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"type":"App"},"type":"Abs"},"identifier":"isOpaqueEnoughForDepth"},{"annotation":{"meta":null,"sourceSpan":{"end":[172,47],"start":[172,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[172,47],"start":[172,1]}},"argument":"dx","body":{"annotation":{"meta":null,"sourceSpan":{"end":[172,47],"start":[172,1]}},"argument":"dy","body":{"annotation":{"meta":null,"sourceSpan":{"end":[172,47],"start":[172,1]}},"argument":"radius","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[174,39],"start":[174,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[174,39],"start":[174,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[174,39],"start":[174,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[174,5],"start":[174,3]}},"type":"Var","value":{"identifier":"dx","sourcePos":[173,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[174,39],"start":[174,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[174,10],"start":[174,8]}},"type":"Var","value":{"identifier":"dx","sourcePos":[173,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[174,39],"start":[174,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[174,39],"start":[174,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[174,15],"start":[174,13]}},"type":"Var","value":{"identifier":"dy","sourcePos":[173,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[174,39],"start":[174,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[174,20],"start":[174,18]}},"type":"Var","value":{"identifier":"dy","sourcePos":[173,1]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[174,39],"start":[174,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[174,39],"start":[174,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[174,30],"start":[174,24]}},"type":"Var","value":{"identifier":"radius","sourcePos":[173,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[174,39],"start":[174,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[174,39],"start":[174,33]}},"type":"Var","value":{"identifier":"radius","sourcePos":[173,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"isInsideCircle"},{"annotation":{"meta":null,"sourceSpan":{"end":[123,56],"start":[123,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[123,56],"start":[123,1]}},"argument":"screenX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[123,56],"start":[123,1]}},"argument":"screenY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[123,56],"start":[123,1]}},"argument":"screenWidth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[123,56],"start":[123,1]}},"argument":"screenHeight","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[126,41],"start":[125,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[126,41],"start":[125,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,10],"start":[125,3]}},"type":"Var","value":{"identifier":"screenX","sourcePos":[124,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[126,41],"start":[125,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,15],"start":[125,14]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[126,41],"start":[125,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[126,41],"start":[125,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan1","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[126,41],"start":[125,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,26],"start":[125,19]}},"type":"Var","value":{"identifier":"screenX","sourcePos":[124,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[126,41],"start":[125,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[125,40],"start":[125,29]}},"type":"Var","value":{"identifier":"screenWidth","sourcePos":[124,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[126,41],"start":[125,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[126,41],"start":[125,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[126,41],"start":[125,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,10],"start":[126,3]}},"type":"Var","value":{"identifier":"screenY","sourcePos":[124,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[126,41],"start":[125,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,15],"start":[126,14]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[126,41],"start":[125,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan1","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[126,41],"start":[125,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,26],"start":[126,19]}},"type":"Var","value":{"identifier":"screenY","sourcePos":[124,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[126,41],"start":[125,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[126,41],"start":[126,29]}},"type":"Var","value":{"identifier":"screenHeight","sourcePos":[124,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"isInScreenBounds"},{"annotation":{"meta":null,"sourceSpan":{"end":[228,35],"start":[228,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[228,35],"start":[228,1]}},"argument":"farClip","body":{"annotation":{"meta":null,"sourceSpan":{"end":[229,33],"start":[229,26]}},"type":"Var","value":{"identifier":"farClip","sourcePos":[229,1]}},"type":"Abs"},"identifier":"initDepthValue"},{"annotation":{"meta":null,"sourceSpan":{"end":[243,70],"start":[243,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[243,70],"start":[243,1]}},"argument":"minDepth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[243,70],"start":[243,1]}},"argument":"maxDepth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[243,70],"start":[243,1]}},"argument":"farClip","body":{"annotation":{"meta":null,"sourceSpan":{"end":[243,70],"start":[243,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[244,26],"start":[244,18]}},"binderType":"VarBinder","identifier":"minDepth1"},{"annotation":{"meta":null,"sourceSpan":{"end":[244,35],"start":[244,27]}},"binderType":"VarBinder","identifier":"maxDepth1"},{"annotation":{"meta":null,"sourceSpan":{"end":[244,43],"start":[244,36]}},"binderType":"VarBinder","identifier":"farClip1"}],"expressions":[{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[246,54],"start":[246,49]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[246,62],"start":[246,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[246,62],"start":[246,55]}},"type":"Var","value":{"identifier":"farClip1","sourcePos":[244,36]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[246,70],"start":[246,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[246,70],"start":[246,63]}},"type":"Var","value":{"identifier":"farClip1","sourcePos":[244,36]}},"type":"App"},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"disj","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[246,46],"start":[245,5]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"not","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[245,28],"start":[245,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[245,18],"start":[245,10]}},"type":"Var","value":{"identifier":"isFinite","moduleName":["Data","Number"]}},"annotation":{"meta":null,"sourceSpan":{"end":[245,27],"start":[245,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[245,27],"start":[245,19]}},"type":"Var","value":{"identifier":"minDepth1","sourcePos":[244,18]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[246,46],"start":[245,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"disj","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[246,46],"start":[245,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[245,37],"start":[245,32]}},"type":"Var","value":{"identifier":"isNaN","moduleName":["Data","Number"]}},"annotation":{"meta":null,"sourceSpan":{"end":[245,46],"start":[245,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[245,46],"start":[245,38]}},"type":"Var","value":{"identifier":"minDepth1","sourcePos":[244,18]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[246,46],"start":[245,5]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"disj","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[246,46],"start":[245,5]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"not","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[246,28],"start":[246,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[246,18],"start":[246,10]}},"type":"Var","value":{"identifier":"isFinite","moduleName":["Data","Number"]}},"annotation":{"meta":null,"sourceSpan":{"end":[246,27],"start":[246,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[246,27],"start":[246,19]}},"type":"Var","value":{"identifier":"maxDepth1","sourcePos":[244,27]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[246,46],"start":[245,5]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[246,37],"start":[246,32]}},"type":"Var","value":{"identifier":"isNaN","moduleName":["Data","Number"]}},"annotation":{"meta":null,"sourceSpan":{"end":[246,46],"start":[246,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[246,46],"start":[246,38]}},"type":"Var","value":{"identifier":"maxDepth1","sourcePos":[244,27]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"}},{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[247,35],"start":[247,17]}},"type":"Var","value":{"identifier":"validateDepthRange","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[247,44],"start":[247,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[247,44],"start":[247,36]}},"type":"Var","value":{"identifier":"minDepth1","sourcePos":[244,18]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[247,53],"start":[247,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[247,53],"start":[247,45]}},"type":"Var","value":{"identifier":"maxDepth1","sourcePos":[244,27]}},"type":"App"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[247,14],"start":[247,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[247,53],"start":[244,1]}},"type":"Var","value":{"identifier":"minDepth","sourcePos":[244,18]}},{"annotation":{"meta":null,"sourceSpan":{"end":[247,53],"start":[244,1]}},"type":"Var","value":{"identifier":"maxDepth","sourcePos":[244,27]}},{"annotation":{"meta":null,"sourceSpan":{"end":[247,53],"start":[244,1]}},"type":"Var","value":{"identifier":"farClip","sourcePos":[244,36]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"handleEmptyScene"},{"annotation":{"meta":null,"sourceSpan":{"end":[178,53],"start":[178,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[178,53],"start":[178,1]}},"argument":"radius","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[180,9],"start":[180,3]}},"type":"Var","value":{"identifier":"filter","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[180,57],"start":[180,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[180,56],"start":[180,11]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[180,56],"start":[180,11]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[180,24],"start":[180,13]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[180,21],"start":[180,19]}},"binderType":"VarBinder","identifier":"dx"},{"annotation":{"meta":null,"sourceSpan":{"end":[180,24],"start":[180,22]}},"binderType":"VarBinder","identifier":"dy"}],"constructorName":{"identifier":"Tuple","moduleName":["Data","Tuple"]},"typeName":{"identifier":"Tuple","moduleName":["Data","Tuple"]}}],"expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[180,43],"start":[180,29]}},"type":"Var","value":{"identifier":"isInsideCircle","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[180,46],"start":[180,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[180,46],"start":[180,44]}},"type":"Var","value":{"identifier":"dx","sourcePos":[180,19]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[180,49],"start":[180,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[180,49],"start":[180,47]}},"type":"Var","value":{"identifier":"dy","sourcePos":[180,22]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[180,56],"start":[180,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[180,56],"start":[180,50]}},"type":"Var","value":{"identifier":"radius","sourcePos":[179,1]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[183,26],"start":[180,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[181,36],"start":[181,8]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[181,19],"start":[181,14]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[181,29],"start":[181,14]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"negate","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[181,28],"start":[181,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,28],"start":[181,22]}},"type":"Var","value":{"identifier":"radius","sourcePos":[179,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[181,36],"start":[181,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,36],"start":[181,30]}},"type":"Var","value":{"identifier":"radius","sourcePos":[179,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[181,36],"start":[181,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,36],"start":[181,8]}},"argument":"dy","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[182,36],"start":[182,8]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[182,19],"start":[182,14]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[182,29],"start":[182,14]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"negate","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[182,28],"start":[182,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[182,28],"start":[182,22]}},"type":"Var","value":{"identifier":"radius","sourcePos":[179,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[182,36],"start":[182,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[182,36],"start":[182,30]}},"type":"Var","value":{"identifier":"radius","sourcePos":[179,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[182,36],"start":[182,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[182,36],"start":[182,8]}},"argument":"dx","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[183,26],"start":[183,8]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[183,19],"start":[183,14]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[183,22],"start":[183,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[183,22],"start":[183,20]}},"type":"Var","value":{"identifier":"dx","sourcePos":[182,8]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[183,25],"start":[183,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[183,25],"start":[183,23]}},"type":"Var","value":{"identifier":"dy","sourcePos":[181,8]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"generateSplatOffsets"},{"annotation":{"meta":null,"sourceSpan":{"end":[217,72],"start":[217,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[217,72],"start":[217,1]}},"argument":"startX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[217,72],"start":[217,1]}},"argument":"startY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[217,72],"start":[217,1]}},"argument":"endX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[217,72],"start":[217,1]}},"argument":"endY","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[219,34],"start":[219,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[219,16],"start":[219,11]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[219,23],"start":[219,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[219,23],"start":[219,17]}},"type":"Var","value":{"identifier":"startY","sourcePos":[218,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[219,34],"start":[219,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[219,33],"start":[219,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[219,29],"start":[219,25]}},"type":"Var","value":{"identifier":"endY","sourcePos":[218,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[219,33],"start":[219,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[219,33],"start":[219,32]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[219,34],"start":[219,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[219,34],"start":[219,6]}},"argument":"y","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[220,34],"start":[220,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[220,16],"start":[220,11]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[220,23],"start":[220,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[220,23],"start":[220,17]}},"type":"Var","value":{"identifier":"startX","sourcePos":[218,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[220,34],"start":[220,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[220,33],"start":[220,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[220,29],"start":[220,25]}},"type":"Var","value":{"identifier":"endX","sourcePos":[218,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[220,33],"start":[220,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[220,33],"start":[220,32]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[220,34],"start":[220,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[220,34],"start":[220,6]}},"argument":"x","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[221,22],"start":[221,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[221,17],"start":[221,12]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[221,19],"start":[221,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[221,19],"start":[221,18]}},"type":"Var","value":{"identifier":"x","sourcePos":[220,6]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[221,21],"start":[221,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[221,21],"start":[221,20]}},"type":"Var","value":{"identifier":"y","sourcePos":[219,6]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"generateFillPixels"},{"annotation":{"meta":null,"sourceSpan":{"end":[163,62],"start":[163,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[163,62],"start":[163,1]}},"argument":"depth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[163,62],"start":[163,1]}},"argument":"nearClip","body":{"annotation":{"meta":null,"sourceSpan":{"end":[163,62],"start":[163,1]}},"argument":"farClip","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[165,15],"start":[165,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[165,15],"start":[165,7]}},"type":"Var","value":{"identifier":"nearClip","sourcePos":[164,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[165,35],"start":[165,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[165,28],"start":[165,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[165,28],"start":[165,21]}},"type":"Var","value":{"identifier":"farClip","sourcePos":[164,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[165,34],"start":[165,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[165,34],"start":[165,29]}},"type":"Var","value":{"identifier":"depth","sourcePos":[164,1]}},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"clampDepthToClipRange"},{"annotation":{"meta":null,"sourceSpan":{"end":[101,53],"start":[100,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[101,53],"start":[100,1]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[101,53],"start":[100,1]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[101,53],"start":[100,1]}},"argument":"boundsWidth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[101,53],"start":[100,1]}},"argument":"boundsHeight","body":{"annotation":{"meta":null,"sourceSpan":{"end":[101,53],"start":[100,1]}},"argument":"depthWidth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[101,53],"start":[100,1]}},"argument":"depthHeight","body":{"annotation":{"meta":null,"sourceSpan":{"end":[105,27],"start":[103,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[104,66],"start":[104,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[104,22],"start":[104,17]}},"type":"Var","value":{"identifier":"floor","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[104,66],"start":[104,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul1","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[104,65],"start":[104,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[104,41],"start":[104,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,26],"start":[104,25]}},"type":"Var","value":{"identifier":"y","sourcePos":[102,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[104,41],"start":[104,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,41],"start":[104,29]}},"type":"Var","value":{"identifier":"boundsHeight","sourcePos":[102,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[104,65],"start":[104,24]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[104,53],"start":[104,45]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[104,65],"start":[104,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,65],"start":[104,54]}},"type":"Var","value":{"identifier":"depthHeight","sourcePos":[102,1]}},"type":"App"},"type":"App"},"type":"App"},"identifier":"sampleY"},{"annotation":{"meta":null,"sourceSpan":{"end":[103,64],"start":[103,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[103,22],"start":[103,17]}},"type":"Var","value":{"identifier":"floor","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,64],"start":[103,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul1","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,63],"start":[103,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,40],"start":[103,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,26],"start":[103,25]}},"type":"Var","value":{"identifier":"x","sourcePos":[102,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,40],"start":[103,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,40],"start":[103,29]}},"type":"Var","value":{"identifier":"boundsWidth","sourcePos":[102,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,63],"start":[103,24]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[103,52],"start":[103,44]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,63],"start":[103,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,63],"start":[103,53]}},"type":"Var","value":{"identifier":"depthWidth","sourcePos":[102,1]}},"type":"App"},"type":"App"},"type":"App"},"identifier":"sampleX"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[105,11],"start":[105,6]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[105,19],"start":[105,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[105,19],"start":[105,12]}},"type":"Var","value":{"identifier":"sampleX","sourcePos":[103,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[105,27],"start":[105,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[105,27],"start":[105,20]}},"type":"Var","value":{"identifier":"sampleY","sourcePos":[104,7]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"calculateSampleCoords"},{"annotation":{"meta":null,"sourceSpan":{"end":[138,80],"start":[138,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[138,80],"start":[138,1]}},"argument":"localX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[138,80],"start":[138,1]}},"argument":"localY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[138,80],"start":[138,1]}},"argument":"params","body":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[140,24],"start":[140,3]}},"type":"Var","value":{"identifier":"calculateSampleCoords","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[140,31],"start":[140,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[140,31],"start":[140,25]}},"type":"Var","value":{"identifier":"localX","sourcePos":[139,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[140,38],"start":[140,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[140,38],"start":[140,32]}},"type":"Var","value":{"identifier":"localY","sourcePos":[139,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[141,44],"start":[140,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[141,44],"start":[141,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[141,44],"start":[141,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[141,31],"start":[141,25]}},"type":"Var","value":{"identifier":"params","sourcePos":[139,1]}},"fieldName":"bounds","type":"Accessor"},"fieldName":"width","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[141,65],"start":[140,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[141,65],"start":[141,45]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[141,65],"start":[141,45]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[141,51],"start":[141,45]}},"type":"Var","value":{"identifier":"params","sourcePos":[139,1]}},"fieldName":"bounds","type":"Accessor"},"fieldName":"height","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[142,42],"start":[140,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[142,42],"start":[142,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[142,31],"start":[142,25]}},"type":"Var","value":{"identifier":"params","sourcePos":[139,1]}},"fieldName":"depthWidth","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[142,61],"start":[140,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[142,61],"start":[142,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[142,49],"start":[142,43]}},"type":"Var","value":{"identifier":"params","sourcePos":[139,1]}},"fieldName":"depthHeight","type":"Accessor"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"depthflowSamplePosition"},{"annotation":{"meta":null,"sourceSpan":{"end":[202,110],"start":[202,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[202,110],"start":[202,1]}},"argument":"bounds","body":{"annotation":{"meta":null,"sourceSpan":{"end":[202,110],"start":[202,1]}},"argument":"screenWidth","body":{"annotation":{"meta":null,"sourceSpan":{"end":[202,110],"start":[202,1]}},"argument":"screenHeight","body":{"annotation":{"meta":null,"sourceSpan":{"end":[208,36],"start":[204,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[205,30],"start":[205,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[205,21],"start":[205,16]}},"type":"Var","value":{"identifier":"floor","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[205,30],"start":[205,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[205,30],"start":[205,22]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[205,28],"start":[205,22]}},"type":"Var","value":{"identifier":"bounds","sourcePos":[203,1]}},"fieldName":"y","type":"Accessor"},"type":"App"},"identifier":"startY"},{"annotation":{"meta":null,"sourceSpan":{"end":[204,30],"start":[204,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[204,21],"start":[204,16]}},"type":"Var","value":{"identifier":"floor","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[204,30],"start":[204,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[204,30],"start":[204,22]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[204,28],"start":[204,22]}},"type":"Var","value":{"identifier":"bounds","sourcePos":[203,1]}},"fieldName":"x","type":"Accessor"},"type":"App"},"identifier":"startX"},{"annotation":{"meta":null,"sourceSpan":{"end":[207,64],"start":[207,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min1","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[207,30],"start":[207,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[207,30],"start":[207,18]}},"type":"Var","value":{"identifier":"screenHeight","sourcePos":[203,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[207,64],"start":[207,14]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[207,36],"start":[207,32]}},"type":"Var","value":{"identifier":"ceil","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[207,63],"start":[207,32]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[207,62],"start":[207,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[207,46],"start":[207,38]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[207,44],"start":[207,38]}},"type":"Var","value":{"identifier":"bounds","sourcePos":[203,1]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[207,62],"start":[207,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[207,62],"start":[207,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[207,55],"start":[207,49]}},"type":"Var","value":{"identifier":"bounds","sourcePos":[203,1]}},"fieldName":"height","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"identifier":"endY"},{"annotation":{"meta":null,"sourceSpan":{"end":[206,62],"start":[206,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min1","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[206,29],"start":[206,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[206,29],"start":[206,18]}},"type":"Var","value":{"identifier":"screenWidth","sourcePos":[203,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[206,62],"start":[206,14]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[206,35],"start":[206,31]}},"type":"Var","value":{"identifier":"ceil","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[206,61],"start":[206,31]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[206,60],"start":[206,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[206,45],"start":[206,37]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[206,43],"start":[206,37]}},"type":"Var","value":{"identifier":"bounds","sourcePos":[203,1]}},"fieldName":"x","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[206,60],"start":[206,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[206,60],"start":[206,48]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[206,54],"start":[206,48]}},"type":"Var","value":{"identifier":"bounds","sourcePos":[203,1]}},"fieldName":"width","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"identifier":"endX"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[208,36],"start":[208,6]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["startX",{"annotation":{"meta":null,"sourceSpan":{"end":[208,14],"start":[208,8]}},"type":"Var","value":{"identifier":"startX","sourcePos":[204,7]}}],["startY",{"annotation":{"meta":null,"sourceSpan":{"end":[208,22],"start":[208,16]}},"type":"Var","value":{"identifier":"startY","sourcePos":[205,7]}}],["endX",{"annotation":{"meta":null,"sourceSpan":{"end":[208,28],"start":[208,24]}},"type":"Var","value":{"identifier":"endX","sourcePos":[206,7]}}],["endY",{"annotation":{"meta":null,"sourceSpan":{"end":[208,34],"start":[208,30]}},"type":"Var","value":{"identifier":"endY","sourcePos":[207,7]}}]]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"calculateFillRegion"},{"annotation":{"meta":null,"sourceSpan":{"end":[145,72],"start":[145,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[145,72],"start":[145,1]}},"argument":"boundsX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[145,72],"start":[145,1]}},"argument":"boundsY","body":{"annotation":{"meta":null,"sourceSpan":{"end":[145,72],"start":[145,1]}},"argument":"localX","body":{"annotation":{"meta":null,"sourceSpan":{"end":[145,72],"start":[145,1]}},"argument":"localY","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[147,8],"start":[147,3]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,35],"start":[147,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[147,15],"start":[147,10]}},"type":"Var","value":{"identifier":"floor","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,34],"start":[147,10]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,33],"start":[147,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,24],"start":[147,17]}},"type":"Var","value":{"identifier":"boundsX","sourcePos":[146,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[147,33],"start":[147,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,33],"start":[147,27]}},"type":"Var","value":{"identifier":"localX","sourcePos":[146,1]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[147,62],"start":[147,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[147,42],"start":[147,37]}},"type":"Var","value":{"identifier":"floor","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,61],"start":[147,37]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add1","moduleName":["Lattice","Services","Depth","DepthFill"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,60],"start":[147,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,51],"start":[147,44]}},"type":"Var","value":{"identifier":"boundsY","sourcePos":[146,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[147,60],"start":[147,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,60],"start":[147,54]}},"type":"Var","value":{"identifier":"localY","sourcePos":[146,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"boundsToScreen"}],"exports":["calculateSampleCoords","sampleToIndex","normalizeUint8Depth","normalizedToWorldDepth","isInScreenBounds","screenToBufferIndex","depthflowSamplePosition","boundsToScreen","shouldWriteDepth","particleRelativeDepth","clampDepthToClipRange","particleRadius","isInsideCircle","generateSplatOffsets","isValidParticle","particleScreenPosition","calculateFillRegion","isOpaqueEnoughForDepth","generateFillPixels","initDepthValue","updateDepthRange","validateDepthRange","handleEmptyScene","toFloat32Precision","prepareClipValues"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[261,67],"start":[11,1]}},"moduleName":["Control","Applicative"]},{"annotation":{"meta":null,"sourceSpan":{"end":[261,67],"start":[11,1]}},"moduleName":["Control","Bind"]},{"annotation":{"meta":null,"sourceSpan":{"end":[261,67],"start":[11,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[261,67],"start":[11,1]}},"moduleName":["Data","Boolean"]},{"annotation":{"meta":null,"sourceSpan":{"end":[261,67],"start":[11,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[261,67],"start":[11,1]}},"moduleName":["Data","Function"]},{"annotation":{"meta":null,"sourceSpan":{"end":[261,67],"start":[11,1]}},"moduleName":["Data","HeytingAlgebra"]},{"annotation":{"meta":null,"sourceSpan":{"end":[261,67],"start":[11,1]}},"moduleName":["Data","Int"]},{"annotation":{"meta":null,"sourceSpan":{"end":[261,67],"start":[11,1]}},"moduleName":["Data","Number"]},{"annotation":{"meta":null,"sourceSpan":{"end":[261,67],"start":[11,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[261,67],"start":[11,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[261,67],"start":[11,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[261,67],"start":[11,1]}},"moduleName":["Data","Tuple"]},{"annotation":{"meta":null,"sourceSpan":{"end":[261,67],"start":[11,1]}},"moduleName":["Lattice","Services","Depth","DepthFill"]},{"annotation":{"meta":null,"sourceSpan":{"end":[261,67],"start":[11,1]}},"moduleName":["Math"]},{"annotation":{"meta":null,"sourceSpan":{"end":[44,15],"start":[44,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[261,67],"start":[11,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","Depth","DepthFill"],"modulePath":"src/Lattice/Services/Depth/DepthFill.purs","reExports":{},"sourceSpan":{"end":[261,67],"start":[11,1]}}