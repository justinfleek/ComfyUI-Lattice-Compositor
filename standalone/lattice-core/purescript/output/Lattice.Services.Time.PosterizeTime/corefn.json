{"builtWith":"0.15.15","comments":[{"BlockComment":"\n  Lattice.Services.Time.PosterizeTime - Frame Rate Reduction\n\n  Pure functions for posterize time effect:\n  - Target frame rate conversion\n  - Posterized frame calculation\n  - Frame holding logic\n\n  Source: ui/src/services/effects/timeRenderer.ts (lines 390-449)\n"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[38,28],"start":[38,25]}},"type":"Var","value":{"identifier":"max","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[38,32],"start":[38,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"max"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[38,37],"start":[38,34]}},"type":"Var","value":{"identifier":"min","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[38,42],"start":[38,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"min"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[64,59],"start":[64,58]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[64,78],"start":[64,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[64,31],"start":[64,30]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[64,56],"start":[64,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[53,61],"start":[53,60]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[53,72],"start":[53,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[53,46],"start":[53,45]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[53,57],"start":[53,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[37,38],"start":[37,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[37,38],"start":[37,1]}},"argument":"fps","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["Lattice","Services","Time","PosterizeTime"]}},"annotation":{"meta":null,"sourceSpan":{"end":[38,32],"start":[38,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[38,32],"start":[38,29]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[38,47],"start":[38,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min","moduleName":["Lattice","Services","Time","PosterizeTime"]}},"annotation":{"meta":null,"sourceSpan":{"end":[38,42],"start":[38,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[38,42],"start":[38,38]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":60}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[38,46],"start":[38,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[38,46],"start":[38,43]}},"type":"Var","value":{"identifier":"fps","sourcePos":[38,1]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"validateTargetFps"},{"annotation":{"meta":null,"sourceSpan":{"end":[57,29],"start":[57,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[58,25],"start":[58,22]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0.5}},"identifier":"nearFrameThreshold"},{"annotation":{"meta":null,"sourceSpan":{"end":[62,42],"start":[62,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[62,42],"start":[62,1]}},"argument":"currentFrame","body":{"annotation":{"meta":null,"sourceSpan":{"end":[62,42],"start":[62,1]}},"argument":"posterizedFrame","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThan","moduleName":["Lattice","Services","Time","PosterizeTime"]}},"annotation":{"meta":null,"sourceSpan":{"end":[64,78],"start":[64,3]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[64,6],"start":[64,3]}},"type":"Var","value":{"identifier":"abs","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[64,57],"start":[64,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Time","PosterizeTime"]}},"annotation":{"meta":null,"sourceSpan":{"end":[64,56],"start":[64,8]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[64,16],"start":[64,8]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[64,29],"start":[64,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[64,29],"start":[64,17]}},"type":"Var","value":{"identifier":"currentFrame","sourcePos":[63,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[64,56],"start":[64,8]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[64,40],"start":[64,32]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[64,56],"start":[64,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[64,56],"start":[64,41]}},"type":"Var","value":{"identifier":"posterizedFrame","sourcePos":[63,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[64,78],"start":[64,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[64,78],"start":[64,60]}},"type":"Var","value":{"identifier":"nearFrameThreshold","moduleName":["Lattice","Services","Time","PosterizeTime"]}},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"shouldUseCurrent"},{"annotation":{"meta":null,"sourceSpan":{"end":[33,27],"start":[33,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[34,24],"start":[34,20]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":12}},"identifier":"defaultTargetFps"},{"annotation":{"meta":null,"sourceSpan":{"end":[50,49],"start":[50,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[50,49],"start":[50,1]}},"argument":"currentFrame","body":{"annotation":{"meta":null,"sourceSpan":{"end":[50,49],"start":[50,1]}},"argument":"frameRatio","body":{"annotation":{"meta":null,"sourceSpan":{"end":[54,22],"start":[52,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[52,38],"start":[52,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[52,25],"start":[52,17]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[52,38],"start":[52,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[52,38],"start":[52,26]}},"type":"Var","value":{"identifier":"currentFrame","sourcePos":[51,1]}},"type":"App"},"identifier":"current"},{"annotation":{"meta":null,"sourceSpan":{"end":[53,72],"start":[53,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Time","PosterizeTime"]}},"annotation":{"meta":null,"sourceSpan":{"end":[53,72],"start":[53,20]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[53,28],"start":[53,20]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[53,59],"start":[53,20]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[53,35],"start":[53,30]}},"type":"Var","value":{"identifier":"floor","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[53,58],"start":[53,30]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Time","PosterizeTime"]}},"annotation":{"meta":null,"sourceSpan":{"end":[53,57],"start":[53,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[53,44],"start":[53,37]}},"type":"Var","value":{"identifier":"current","sourcePos":[52,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[53,57],"start":[53,37]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[53,57],"start":[53,47]}},"type":"Var","value":{"identifier":"frameRatio","sourcePos":[51,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[53,72],"start":[53,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[53,72],"start":[53,62]}},"type":"Var","value":{"identifier":"frameRatio","sourcePos":[51,1]}},"type":"App"},"identifier":"posterized"}],"expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[54,11],"start":[54,6]}},"type":"Var","value":{"identifier":"floor","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[54,22],"start":[54,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[54,22],"start":[54,12]}},"type":"Var","value":{"identifier":"posterized","sourcePos":[53,7]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"calculatePosterizedFrame"},{"annotation":{"meta":null,"sourceSpan":{"end":[45,50],"start":[45,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[45,50],"start":[45,1]}},"argument":"sourceFps","body":{"annotation":{"meta":null,"sourceSpan":{"end":[45,50],"start":[45,1]}},"argument":"targetFps","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Time","PosterizeTime"]}},"annotation":{"meta":null,"sourceSpan":{"end":[46,64],"start":[46,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[46,52],"start":[46,43]}},"type":"Var","value":{"identifier":"sourceFps","sourcePos":[46,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[46,64],"start":[46,43]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[46,64],"start":[46,55]}},"type":"Var","value":{"identifier":"targetFps","sourcePos":[46,1]}},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"calculateFrameRatio"}],"exports":["validateTargetFps","defaultTargetFps","calculateFrameRatio","calculatePosterizedFrame","shouldUseCurrent","nearFrameThreshold"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[64,78],"start":[12,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[64,78],"start":[12,1]}},"moduleName":["Data","Int"]},{"annotation":{"meta":null,"sourceSpan":{"end":[64,78],"start":[12,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[64,78],"start":[12,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[64,78],"start":[12,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[64,78],"start":[12,1]}},"moduleName":["Lattice","Services","Time","PosterizeTime"]},{"annotation":{"meta":null,"sourceSpan":{"end":[64,78],"start":[12,1]}},"moduleName":["Math"]},{"annotation":{"meta":null,"sourceSpan":{"end":[23,15],"start":[23,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[64,78],"start":[12,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","Time","PosterizeTime"],"modulePath":"src/Lattice/Services/Time/PosterizeTime.purs","reExports":{},"sourceSpan":{"end":[64,78],"start":[12,1]}}