// Generated by purs version 0.15.15
import * as Control_Applicative from "../Control.Applicative/index.js";
import * as Control_Bind from "../Control.Bind/index.js";
import * as Data_Argonaut_Encode_Class from "../Data.Argonaut.Encode.Class/index.js";
import * as Data_Argonaut_Encode_Generic from "../Data.Argonaut.Encode.Generic/index.js";
import * as Data_Array from "../Data.Array/index.js";
import * as Data_Boolean from "../Data.Boolean/index.js";
import * as Data_Eq_Generic from "../Data.Eq.Generic/index.js";
import * as Data_EuclideanRing from "../Data.EuclideanRing/index.js";
import * as Data_Foldable from "../Data.Foldable/index.js";
import * as Data_Functor from "../Data.Functor/index.js";
import * as Data_Generic_Rep from "../Data.Generic.Rep/index.js";
import * as Data_Int from "../Data.Int/index.js";
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Data_Ord from "../Data.Ord/index.js";
import * as Data_Show from "../Data.Show/index.js";
import * as Data_Show_Generic from "../Data.Show.Generic/index.js";
var genericShowConstructor = /* #__PURE__ */ Data_Show_Generic.genericShowConstructor(Data_Show_Generic.genericShowArgsNoArguments);
var OutputImagesIsSymbol = {
    reflectSymbol: function () {
        return "OutputImages";
    }
};
var OutputJSONIsSymbol = {
    reflectSymbol: function () {
        return "OutputJSON";
    }
};
var OutputBothIsSymbol = {
    reflectSymbol: function () {
        return "OutputBoth";
    }
};
var FormatCOCO18IsSymbol = {
    reflectSymbol: function () {
        return "FormatCOCO18";
    }
};
var FormatOpenPose25IsSymbol = {
    reflectSymbol: function () {
        return "FormatOpenPose25";
    }
};
var FormatDWPoseIsSymbol = {
    reflectSymbol: function () {
        return "FormatDWPose";
    }
};
var FormatMediaPipeIsSymbol = {
    reflectSymbol: function () {
        return "FormatMediaPipe";
    }
};
var showRecord = /* #__PURE__ */ Data_Show.showRecord()();
var configIsSymbol = {
    reflectSymbol: function () {
        return "config";
    }
};
var showRecordFieldsCons = /* #__PURE__ */ Data_Show.showRecordFieldsCons(configIsSymbol);
var posesIsSymbol = {
    reflectSymbol: function () {
        return "poses";
    }
};
var formatIsSymbol = {
    reflectSymbol: function () {
        return "format";
    }
};
var showRecordFieldsCons1 = /* #__PURE__ */ Data_Show.showRecordFieldsCons(formatIsSymbol);
var idIsSymbol = {
    reflectSymbol: function () {
        return "id";
    }
};
var keypointsIsSymbol = {
    reflectSymbol: function () {
        return "keypoints";
    }
};
var confidenceIsSymbol = {
    reflectSymbol: function () {
        return "confidence";
    }
};
var xIsSymbol = {
    reflectSymbol: function () {
        return "x";
    }
};
var yIsSymbol = {
    reflectSymbol: function () {
        return "y";
    }
};
var backgroundColorIsSymbol = {
    reflectSymbol: function () {
        return "backgroundColor";
    }
};
var boneWidthIsSymbol = {
    reflectSymbol: function () {
        return "boneWidth";
    }
};
var customColorIsSymbol = {
    reflectSymbol: function () {
        return "customColor";
    }
};
var endFrameIsSymbol = {
    reflectSymbol: function () {
        return "endFrame";
    }
};
var heightIsSymbol = {
    reflectSymbol: function () {
        return "height";
    }
};
var showRecordFieldsCons2 = /* #__PURE__ */ Data_Show.showRecordFieldsCons(heightIsSymbol);
var keypointRadiusIsSymbol = {
    reflectSymbol: function () {
        return "keypointRadius";
    }
};
var outputFormatIsSymbol = {
    reflectSymbol: function () {
        return "outputFormat";
    }
};
var showBonesIsSymbol = {
    reflectSymbol: function () {
        return "showBones";
    }
};
var showKeypointsIsSymbol = {
    reflectSymbol: function () {
        return "showKeypoints";
    }
};
var startFrameIsSymbol = {
    reflectSymbol: function () {
        return "startFrame";
    }
};
var useOpenPoseColorsIsSymbol = {
    reflectSymbol: function () {
        return "useOpenPoseColors";
    }
};
var widthIsSymbol = {
    reflectSymbol: function () {
        return "width";
    }
};
var showRecordFieldsConsNil = /* #__PURE__ */ Data_Show.showRecordFieldsConsNil(widthIsSymbol)(Data_Show.showInt);
var RenderPoseFrameRequestIsSymbol = {
    reflectSymbol: function () {
        return "RenderPoseFrameRequest";
    }
};
var sequenceIsSymbol = {
    reflectSymbol: function () {
        return "sequence";
    }
};
var fpsIsSymbol = {
    reflectSymbol: function () {
        return "fps";
    }
};
var framesIsSymbol = {
    reflectSymbol: function () {
        return "frames";
    }
};
var frameNumberIsSymbol = {
    reflectSymbol: function () {
        return "frameNumber";
    }
};
var ExportPoseSequenceRequestIsSymbol = {
    reflectSymbol: function () {
        return "ExportPoseSequenceRequest";
    }
};
var ExportPoseForControlNetRequestIsSymbol = {
    reflectSymbol: function () {
        return "ExportPoseForControlNetRequest";
    }
};
var genericEqConstructor = /* #__PURE__ */ Data_Eq_Generic.genericEqConstructor(Data_Eq_Generic.genericEqNoArguments);
var genericEqSum = /* #__PURE__ */ Data_Eq_Generic.genericEqSum(genericEqConstructor);
var genericEqSum1 = /* #__PURE__ */ genericEqSum(/* #__PURE__ */ genericEqSum(genericEqConstructor));
var gEncodeJsonCons = /* #__PURE__ */ Data_Argonaut_Encode_Class.gEncodeJsonCons(Data_Argonaut_Encode_Class.encodeJsonJString);
var gEncodeJsonCons1 = /* #__PURE__ */ Data_Argonaut_Encode_Class.gEncodeJsonCons(Data_Argonaut_Encode_Class.encodeJsonJNumber);
var gEncodeJsonCons2 = /* #__PURE__ */ Data_Argonaut_Encode_Class.gEncodeJsonCons(Data_Argonaut_Encode_Class.encodeJsonInt);
var gEncodeJsonCons3 = /* #__PURE__ */ Data_Argonaut_Encode_Class.gEncodeJsonCons(Data_Argonaut_Encode_Class.encodeJsonJBoolean);
var gEncodeJsonCons4 = /* #__PURE__ */ gEncodeJsonCons2(Data_Argonaut_Encode_Class.gEncodeJsonNil)(widthIsSymbol)();
var show = /* #__PURE__ */ Data_Show.show(Data_Show.showInt);
var mod = /* #__PURE__ */ Data_EuclideanRing.mod(Data_EuclideanRing.euclideanRingInt);
var foldl = /* #__PURE__ */ Data_Foldable.foldl(Data_Foldable.foldableArray);
var min = /* #__PURE__ */ Data_Ord.min(Data_Ord.ordInt);
var bind = /* #__PURE__ */ Control_Bind.bind(Data_Maybe.bindMaybe);
var pure = /* #__PURE__ */ Control_Applicative.pure(Data_Maybe.applicativeMaybe);
var map = /* #__PURE__ */ Data_Functor.map(Data_Functor.functorArray);
var sortWith = /* #__PURE__ */ Data_Array.sortWith(Data_Ord.ordInt);
var OutputImages = /* #__PURE__ */ (function () {
    function OutputImages() {

    };
    OutputImages.value = new OutputImages();
    return OutputImages;
})();
var OutputJSON = /* #__PURE__ */ (function () {
    function OutputJSON() {

    };
    OutputJSON.value = new OutputJSON();
    return OutputJSON;
})();
var OutputBoth = /* #__PURE__ */ (function () {
    function OutputBoth() {

    };
    OutputBoth.value = new OutputBoth();
    return OutputBoth;
})();
var FormatCOCO18 = /* #__PURE__ */ (function () {
    function FormatCOCO18() {

    };
    FormatCOCO18.value = new FormatCOCO18();
    return FormatCOCO18;
})();
var FormatOpenPose25 = /* #__PURE__ */ (function () {
    function FormatOpenPose25() {

    };
    FormatOpenPose25.value = new FormatOpenPose25();
    return FormatOpenPose25;
})();
var FormatDWPose = /* #__PURE__ */ (function () {
    function FormatDWPose() {

    };
    FormatDWPose.value = new FormatDWPose();
    return FormatDWPose;
})();
var FormatMediaPipe = /* #__PURE__ */ (function () {
    function FormatMediaPipe() {

    };
    FormatMediaPipe.value = new FormatMediaPipe();
    return FormatMediaPipe;
})();
var RenderPoseFrameRequest = /* #__PURE__ */ (function () {
    function RenderPoseFrameRequest(value0) {
        this.value0 = value0;
    };
    RenderPoseFrameRequest.create = function (value0) {
        return new RenderPoseFrameRequest(value0);
    };
    return RenderPoseFrameRequest;
})();
var ExportPoseSequenceRequest = /* #__PURE__ */ (function () {
    function ExportPoseSequenceRequest(value0) {
        this.value0 = value0;
    };
    ExportPoseSequenceRequest.create = function (value0) {
        return new ExportPoseSequenceRequest(value0);
    };
    return ExportPoseSequenceRequest;
})();
var ExportPoseForControlNetRequest = /* #__PURE__ */ (function () {
    function ExportPoseForControlNetRequest(value0) {
        this.value0 = value0;
    };
    ExportPoseForControlNetRequest.create = function (value0) {
        return new ExportPoseForControlNetRequest(value0);
    };
    return ExportPoseForControlNetRequest;
})();
var genericPoseRenderRequest_ = {
    to: function (x) {
        if (x instanceof Data_Generic_Rep.Inl) {
            return new RenderPoseFrameRequest(x.value0);
        };
        if (x instanceof Data_Generic_Rep.Inr && x.value0 instanceof Data_Generic_Rep.Inl) {
            return new ExportPoseSequenceRequest(x.value0.value0);
        };
        if (x instanceof Data_Generic_Rep.Inr && x.value0 instanceof Data_Generic_Rep.Inr) {
            return new ExportPoseForControlNetRequest(x.value0.value0);
        };
        throw new Error("Failed pattern match at Lattice.Services.Export.Pose (line 188, column 1 - line 188, column 44): " + [ x.constructor.name ]);
    },
    from: function (x) {
        if (x instanceof RenderPoseFrameRequest) {
            return new Data_Generic_Rep.Inl(x.value0);
        };
        if (x instanceof ExportPoseSequenceRequest) {
            return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inl(x.value0));
        };
        if (x instanceof ExportPoseForControlNetRequest) {
            return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(x.value0));
        };
        throw new Error("Failed pattern match at Lattice.Services.Export.Pose (line 188, column 1 - line 188, column 44): " + [ x.constructor.name ]);
    }
};
var genericPoseOutputFormat_ = {
    to: function (x) {
        if (x instanceof Data_Generic_Rep.Inl) {
            return OutputImages.value;
        };
        if (x instanceof Data_Generic_Rep.Inr && x.value0 instanceof Data_Generic_Rep.Inl) {
            return OutputJSON.value;
        };
        if (x instanceof Data_Generic_Rep.Inr && x.value0 instanceof Data_Generic_Rep.Inr) {
            return OutputBoth.value;
        };
        throw new Error("Failed pattern match at Lattice.Services.Export.Pose (line 115, column 1 - line 115, column 43): " + [ x.constructor.name ]);
    },
    from: function (x) {
        if (x instanceof OutputImages) {
            return new Data_Generic_Rep.Inl(Data_Generic_Rep.NoArguments.value);
        };
        if (x instanceof OutputJSON) {
            return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inl(Data_Generic_Rep.NoArguments.value));
        };
        if (x instanceof OutputBoth) {
            return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(Data_Generic_Rep.NoArguments.value));
        };
        throw new Error("Failed pattern match at Lattice.Services.Export.Pose (line 115, column 1 - line 115, column 43): " + [ x.constructor.name ]);
    }
};
var showPoseOutputFormat = {
    show: /* #__PURE__ */ Data_Show_Generic.genericShow(genericPoseOutputFormat_)(/* #__PURE__ */ Data_Show_Generic.genericShowSum(/* #__PURE__ */ genericShowConstructor(OutputImagesIsSymbol))(/* #__PURE__ */ Data_Show_Generic.genericShowSum(/* #__PURE__ */ genericShowConstructor(OutputJSONIsSymbol))(/* #__PURE__ */ genericShowConstructor(OutputBothIsSymbol))))
};
var showRecord1 = /* #__PURE__ */ showRecord(/* #__PURE__ */ Data_Show.showRecordFieldsCons(backgroundColorIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(boneWidthIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(customColorIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(endFrameIsSymbol)(/* #__PURE__ */ showRecordFieldsCons2(/* #__PURE__ */ Data_Show.showRecordFieldsCons(keypointRadiusIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(outputFormatIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(showBonesIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(showKeypointsIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(startFrameIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(useOpenPoseColorsIsSymbol)(showRecordFieldsConsNil)(Data_Show.showBoolean))(Data_Show.showInt))(Data_Show.showBoolean))(Data_Show.showBoolean))(showPoseOutputFormat))(Data_Show.showNumber))(Data_Show.showInt))(Data_Show.showInt))(/* #__PURE__ */ Data_Maybe.showMaybe(Data_Show.showString)))(Data_Show.showNumber))(Data_Show.showString));
var genericPoseFormat_ = {
    to: function (x) {
        if (x instanceof Data_Generic_Rep.Inl) {
            return FormatCOCO18.value;
        };
        if (x instanceof Data_Generic_Rep.Inr && x.value0 instanceof Data_Generic_Rep.Inl) {
            return FormatOpenPose25.value;
        };
        if (x instanceof Data_Generic_Rep.Inr && (x.value0 instanceof Data_Generic_Rep.Inr && x.value0.value0 instanceof Data_Generic_Rep.Inl)) {
            return FormatDWPose.value;
        };
        if (x instanceof Data_Generic_Rep.Inr && (x.value0 instanceof Data_Generic_Rep.Inr && x.value0.value0 instanceof Data_Generic_Rep.Inr)) {
            return FormatMediaPipe.value;
        };
        throw new Error("Failed pattern match at Lattice.Services.Export.Pose (line 87, column 1 - line 87, column 37): " + [ x.constructor.name ]);
    },
    from: function (x) {
        if (x instanceof FormatCOCO18) {
            return new Data_Generic_Rep.Inl(Data_Generic_Rep.NoArguments.value);
        };
        if (x instanceof FormatOpenPose25) {
            return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inl(Data_Generic_Rep.NoArguments.value));
        };
        if (x instanceof FormatDWPose) {
            return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inl(Data_Generic_Rep.NoArguments.value)));
        };
        if (x instanceof FormatMediaPipe) {
            return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(Data_Generic_Rep.NoArguments.value)));
        };
        throw new Error("Failed pattern match at Lattice.Services.Export.Pose (line 87, column 1 - line 87, column 37): " + [ x.constructor.name ]);
    }
};
var showPoseFormat = {
    show: /* #__PURE__ */ Data_Show_Generic.genericShow(genericPoseFormat_)(/* #__PURE__ */ Data_Show_Generic.genericShowSum(/* #__PURE__ */ genericShowConstructor(FormatCOCO18IsSymbol))(/* #__PURE__ */ Data_Show_Generic.genericShowSum(/* #__PURE__ */ genericShowConstructor(FormatOpenPose25IsSymbol))(/* #__PURE__ */ Data_Show_Generic.genericShowSum(/* #__PURE__ */ genericShowConstructor(FormatDWPoseIsSymbol))(/* #__PURE__ */ genericShowConstructor(FormatMediaPipeIsSymbol)))))
};
var showArray = /* #__PURE__ */ Data_Show.showArray(/* #__PURE__ */ showRecord(/* #__PURE__ */ showRecordFieldsCons1(/* #__PURE__ */ Data_Show.showRecordFieldsCons(idIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsConsNil(keypointsIsSymbol)(/* #__PURE__ */ Data_Show.showArray(/* #__PURE__ */ showRecord(/* #__PURE__ */ Data_Show.showRecordFieldsCons(confidenceIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsCons(xIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsConsNil(yIsSymbol)(Data_Show.showNumber))(Data_Show.showNumber))(Data_Show.showNumber)))))(Data_Show.showString))(showPoseFormat)));
var showRecordFieldsConsNil1 = /* #__PURE__ */ Data_Show.showRecordFieldsConsNil(posesIsSymbol)(showArray);
var showPoseRenderRequest = {
    show: /* #__PURE__ */ Data_Show_Generic.genericShow(genericPoseRenderRequest_)(/* #__PURE__ */ Data_Show_Generic.genericShowSum(/* #__PURE__ */ Data_Show_Generic.genericShowConstructor(/* #__PURE__ */ Data_Show_Generic.genericShowArgsArgument(/* #__PURE__ */ showRecord(/* #__PURE__ */ showRecordFieldsCons(showRecordFieldsConsNil1)(showRecord1))))(RenderPoseFrameRequestIsSymbol))(/* #__PURE__ */ Data_Show_Generic.genericShowSum(/* #__PURE__ */ Data_Show_Generic.genericShowConstructor(/* #__PURE__ */ Data_Show_Generic.genericShowArgsArgument(/* #__PURE__ */ showRecord(/* #__PURE__ */ showRecordFieldsCons(/* #__PURE__ */ Data_Show.showRecordFieldsConsNil(sequenceIsSymbol)(/* #__PURE__ */ showRecord(/* #__PURE__ */ showRecordFieldsCons1(/* #__PURE__ */ Data_Show.showRecordFieldsCons(fpsIsSymbol)(/* #__PURE__ */ Data_Show.showRecordFieldsConsNil(framesIsSymbol)(/* #__PURE__ */ Data_Show.showArray(/* #__PURE__ */ showRecord(/* #__PURE__ */ Data_Show.showRecordFieldsCons(frameNumberIsSymbol)(showRecordFieldsConsNil1)(Data_Show.showInt)))))(Data_Show.showInt))(showPoseFormat))))(showRecord1))))(ExportPoseSequenceRequestIsSymbol))(/* #__PURE__ */ Data_Show_Generic.genericShowConstructor(/* #__PURE__ */ Data_Show_Generic.genericShowArgsArgument(/* #__PURE__ */ showRecord(/* #__PURE__ */ showRecordFieldsCons2(/* #__PURE__ */ Data_Show.showRecordFieldsCons(posesIsSymbol)(showRecordFieldsConsNil)(showArray))(Data_Show.showInt))))(ExportPoseForControlNetRequestIsSymbol))))
};
var eqPoseOutputFormat = {
    eq: /* #__PURE__ */ Data_Eq_Generic.genericEq(genericPoseOutputFormat_)(genericEqSum1)
};
var eqPoseFormat = {
    eq: /* #__PURE__ */ Data_Eq_Generic.genericEq(genericPoseFormat_)(/* #__PURE__ */ genericEqSum(genericEqSum1))
};
var encodeJsonPoseOutputForma = {
    encodeJson: /* #__PURE__ */ Data_Argonaut_Encode_Generic.genericEncodeJson(genericPoseOutputFormat_)(/* #__PURE__ */ Data_Argonaut_Encode_Generic.encodeRepSum(/* #__PURE__ */ Data_Argonaut_Encode_Generic.encodeRepConstructor(OutputImagesIsSymbol)(Data_Argonaut_Encode_Generic.encodeRepArgsNoArguments))(/* #__PURE__ */ Data_Argonaut_Encode_Generic.encodeRepSum(/* #__PURE__ */ Data_Argonaut_Encode_Generic.encodeRepConstructor(OutputJSONIsSymbol)(Data_Argonaut_Encode_Generic.encodeRepArgsNoArguments))(/* #__PURE__ */ Data_Argonaut_Encode_Generic.encodeRepConstructor(OutputBothIsSymbol)(Data_Argonaut_Encode_Generic.encodeRepArgsNoArguments))))
};
var gEncodeJsonCons5 = /* #__PURE__ */ Data_Argonaut_Encode_Class.gEncodeJsonCons(/* #__PURE__ */ Data_Argonaut_Encode_Class.encodeRecord(/* #__PURE__ */ gEncodeJsonCons(/* #__PURE__ */ gEncodeJsonCons1(/* #__PURE__ */ Data_Argonaut_Encode_Class.gEncodeJsonCons(/* #__PURE__ */ Data_Argonaut_Encode_Class.encodeJsonMaybe(Data_Argonaut_Encode_Class.encodeJsonJString))(/* #__PURE__ */ gEncodeJsonCons2(/* #__PURE__ */ gEncodeJsonCons2(/* #__PURE__ */ gEncodeJsonCons1(/* #__PURE__ */ Data_Argonaut_Encode_Class.gEncodeJsonCons(encodeJsonPoseOutputForma)(/* #__PURE__ */ gEncodeJsonCons3(/* #__PURE__ */ gEncodeJsonCons3(/* #__PURE__ */ gEncodeJsonCons2(/* #__PURE__ */ gEncodeJsonCons3(gEncodeJsonCons4)(useOpenPoseColorsIsSymbol)())(startFrameIsSymbol)())(showKeypointsIsSymbol)())(showBonesIsSymbol)())(outputFormatIsSymbol)())(keypointRadiusIsSymbol)())(heightIsSymbol)())(endFrameIsSymbol)())(customColorIsSymbol)())(boneWidthIsSymbol)())(backgroundColorIsSymbol)())());
var encodeJsonPoseFormat = {
    encodeJson: /* #__PURE__ */ Data_Argonaut_Encode_Generic.genericEncodeJson(genericPoseFormat_)(/* #__PURE__ */ Data_Argonaut_Encode_Generic.encodeRepSum(/* #__PURE__ */ Data_Argonaut_Encode_Generic.encodeRepConstructor(FormatCOCO18IsSymbol)(Data_Argonaut_Encode_Generic.encodeRepArgsNoArguments))(/* #__PURE__ */ Data_Argonaut_Encode_Generic.encodeRepSum(/* #__PURE__ */ Data_Argonaut_Encode_Generic.encodeRepConstructor(FormatOpenPose25IsSymbol)(Data_Argonaut_Encode_Generic.encodeRepArgsNoArguments))(/* #__PURE__ */ Data_Argonaut_Encode_Generic.encodeRepSum(/* #__PURE__ */ Data_Argonaut_Encode_Generic.encodeRepConstructor(FormatDWPoseIsSymbol)(Data_Argonaut_Encode_Generic.encodeRepArgsNoArguments))(/* #__PURE__ */ Data_Argonaut_Encode_Generic.encodeRepConstructor(FormatMediaPipeIsSymbol)(Data_Argonaut_Encode_Generic.encodeRepArgsNoArguments)))))
};
var gEncodeJsonCons6 = /* #__PURE__ */ Data_Argonaut_Encode_Class.gEncodeJsonCons(encodeJsonPoseFormat);
var gEncodeJsonCons7 = /* #__PURE__ */ Data_Argonaut_Encode_Class.gEncodeJsonCons(/* #__PURE__ */ Data_Argonaut_Encode_Class.encodeJsonArray(/* #__PURE__ */ Data_Argonaut_Encode_Class.encodeRecord(/* #__PURE__ */ gEncodeJsonCons6(/* #__PURE__ */ gEncodeJsonCons(/* #__PURE__ */ Data_Argonaut_Encode_Class.gEncodeJsonCons(/* #__PURE__ */ Data_Argonaut_Encode_Class.encodeJsonArray(/* #__PURE__ */ Data_Argonaut_Encode_Class.encodeRecord(/* #__PURE__ */ gEncodeJsonCons1(/* #__PURE__ */ gEncodeJsonCons1(/* #__PURE__ */ gEncodeJsonCons1(Data_Argonaut_Encode_Class.gEncodeJsonNil)(yIsSymbol)())(xIsSymbol)())(confidenceIsSymbol)())()))(Data_Argonaut_Encode_Class.gEncodeJsonNil)(keypointsIsSymbol)())(idIsSymbol)())(formatIsSymbol)())()));
var gEncodeJsonCons8 = /* #__PURE__ */ gEncodeJsonCons7(Data_Argonaut_Encode_Class.gEncodeJsonNil)(posesIsSymbol)();
var encodeJsonPoseRenderReque = {
    encodeJson: /* #__PURE__ */ Data_Argonaut_Encode_Generic.genericEncodeJson(genericPoseRenderRequest_)(/* #__PURE__ */ Data_Argonaut_Encode_Generic.encodeRepSum(/* #__PURE__ */ Data_Argonaut_Encode_Generic.encodeRepConstructor(RenderPoseFrameRequestIsSymbol)(/* #__PURE__ */ Data_Argonaut_Encode_Generic.encodeRepArgsArgument(/* #__PURE__ */ Data_Argonaut_Encode_Class.encodeRecord(/* #__PURE__ */ gEncodeJsonCons5(gEncodeJsonCons8)(configIsSymbol)())())))(/* #__PURE__ */ Data_Argonaut_Encode_Generic.encodeRepSum(/* #__PURE__ */ Data_Argonaut_Encode_Generic.encodeRepConstructor(ExportPoseSequenceRequestIsSymbol)(/* #__PURE__ */ Data_Argonaut_Encode_Generic.encodeRepArgsArgument(/* #__PURE__ */ Data_Argonaut_Encode_Class.encodeRecord(/* #__PURE__ */ gEncodeJsonCons5(/* #__PURE__ */ Data_Argonaut_Encode_Class.gEncodeJsonCons(/* #__PURE__ */ Data_Argonaut_Encode_Class.encodeRecord(/* #__PURE__ */ gEncodeJsonCons6(/* #__PURE__ */ gEncodeJsonCons2(/* #__PURE__ */ Data_Argonaut_Encode_Class.gEncodeJsonCons(/* #__PURE__ */ Data_Argonaut_Encode_Class.encodeJsonArray(/* #__PURE__ */ Data_Argonaut_Encode_Class.encodeRecord(/* #__PURE__ */ gEncodeJsonCons2(gEncodeJsonCons8)(frameNumberIsSymbol)())()))(Data_Argonaut_Encode_Class.gEncodeJsonNil)(framesIsSymbol)())(fpsIsSymbol)())(formatIsSymbol)())())(Data_Argonaut_Encode_Class.gEncodeJsonNil)(sequenceIsSymbol)())(configIsSymbol)())())))(/* #__PURE__ */ Data_Argonaut_Encode_Generic.encodeRepConstructor(ExportPoseForControlNetRequestIsSymbol)(/* #__PURE__ */ Data_Argonaut_Encode_Generic.encodeRepArgsArgument(/* #__PURE__ */ Data_Argonaut_Encode_Class.encodeRecord(/* #__PURE__ */ gEncodeJsonCons2(/* #__PURE__ */ gEncodeJsonCons7(gEncodeJsonCons4)(posesIsSymbol)())(heightIsSymbol)())())))))
};
var poseToOpenPosePerson = function (pose) {
    var pose_keypoints_2d = Data_Array.concatMap(function (kp) {
        return [ kp.x, kp.y, kp.confidence ];
    })(pose.keypoints);
    return {
        person_id: [ -1 | 0 ],
        pose_keypoints_2d: pose_keypoints_2d,
        face_keypoints_2d: [  ],
        hand_left_keypoints_2d: [  ],
        hand_right_keypoints_2d: [  ],
        pose_keypoints_3d: [  ],
        face_keypoints_3d: [  ],
        hand_left_keypoints_3d: [  ],
        hand_right_keypoints_3d: [  ]
    };
};
var parseKeypoints = function (arr) {
    var go = function ($copy_remaining) {
        return function ($copy_acc) {
            var $tco_var_remaining = $copy_remaining;
            var $tco_done = false;
            var $tco_result;
            function $tco_loop(remaining, acc) {
                var chunk = Data_Array.take(3)(remaining);
                var $403 = Data_Array.length(chunk) === 3;
                if ($403) {
                    var v = Data_Array.index(chunk)(2);
                    var v1 = Data_Array.index(chunk)(1);
                    var v2 = Data_Array.index(chunk)(0);
                    if (v2 instanceof Data_Maybe.Just && (v1 instanceof Data_Maybe.Just && v instanceof Data_Maybe.Just)) {
                        $tco_var_remaining = Data_Array.drop(3)(remaining);
                        $copy_acc = Data_Array.snoc(acc)({
                            x: v2.value0,
                            y: v1.value0,
                            confidence: v.value0
                        });
                        return;
                    };
                    $tco_done = true;
                    return acc;
                };
                $tco_done = true;
                return acc;
            };
            while (!$tco_done) {
                $tco_result = $tco_loop($tco_var_remaining, $copy_acc);
            };
            return $tco_result;
        };
    };
    return go(arr)([  ]);
};
var openposeColors = {
    head: "#FF0000",
    right_arm: "#FF7F00",
    left_arm: "#00FF00",
    right_leg: "#0000FF",
    left_leg: "#FF00FF",
    torso: "#00FFFF"
};
var mkRenderPoseFrameRequest = function (poses) {
    return function (config) {
        return new RenderPoseFrameRequest({
            poses: poses,
            config: config
        });
    };
};
var mkExportPoseSequenceRequest = function (sequence) {
    return function (config) {
        return new ExportPoseSequenceRequest({
            sequence: sequence,
            config: config
        });
    };
};
var interpolateKeypoint = function (a) {
    return function (b) {
        return function (t) {
            return {
                x: a.x + (b.x - a.x) * t,
                y: a.y + (b.y - a.y) * t,
                confidence: a.confidence + (b.confidence - a.confidence) * t
            };
        };
    };
};
var interpolatePoses = function (poseA) {
    return function (poseB) {
        return function (t) {
            var interpolatedKeypoints = Data_Array.zipWith(function (a) {
                return function (b) {
                    return interpolateKeypoint(a)(b)(t);
                };
            })(poseA.keypoints)(poseB.keypoints);
            return {
                id: poseA.id,
                keypoints: interpolatedKeypoints,
                format: poseA.format
            };
        };
    };
};
var importPerson = function (idx) {
    return function (person) {
        var keypoints = parseKeypoints(person.pose_keypoints_2d);
        return {
            id: "imported_" + show(idx),
            keypoints: keypoints,
            format: FormatCOCO18.value
        };
    };
};
var importFromOpenPoseJSON = function (json) {
    return Data_Array.mapWithIndex(importPerson)(json.people);
};
var importPoseSequence = function (jsonFrames) {
    return function (fps) {
        var frames = Data_Array.mapWithIndex(function (idx) {
            return function (json) {
                return {
                    frameNumber: idx,
                    poses: importFromOpenPoseJSON(json)
                };
            };
        })(jsonFrames);
        return {
            frames: frames,
            format: FormatCOCO18.value,
            fps: fps
        };
    };
};
var getBoneColor = function (idx) {
    if (idx < 4) {
        return openposeColors.head;
    };
    if (idx < 9) {
        var $411 = mod(idx)(2) === 0;
        if ($411) {
            return openposeColors.right_arm;
        };
        return openposeColors.left_arm;
    };
    if (idx < 12) {
        return openposeColors.torso;
    };
    if (idx < 14) {
        return openposeColors.right_leg;
    };
    if (Data_Boolean.otherwise) {
        return openposeColors.left_leg;
    };
    throw new Error("Failed pattern match at Lattice.Services.Export.Pose (line 239, column 1 - line 239, column 30): " + [ idx.constructor.name ]);
};
var findSurroundingKeyframes = function (keyframes) {
    return function (frameNum) {
        return function (defaultFirst) {
            return function (defaultLast) {
                return foldl(function (acc) {
                    return function (kf) {
                        var $412 = kf.frame <= frameNum;
                        if ($412) {
                            return {
                                next: acc.next,
                                prev: kf
                            };
                        };
                        var $413 = acc.next.frame > frameNum || acc.next.frame < kf.frame;
                        if ($413) {
                            return acc;
                        };
                        return {
                            prev: acc.prev,
                            next: kf
                        };
                    };
                })({
                    prev: defaultFirst,
                    next: defaultLast
                })(keyframes);
            };
        };
    };
};
var interpolateAtFrame = function (keyframes) {
    return function (frameNum) {
        var v = Data_Array.last(keyframes);
        var v1 = Data_Array.head(keyframes);
        if (v1 instanceof Data_Maybe.Nothing) {
            return [  ];
        };
        if (v instanceof Data_Maybe.Nothing) {
            return [  ];
        };
        if (v1 instanceof Data_Maybe.Just && v instanceof Data_Maybe.Just) {
            var v2 = findSurroundingKeyframes(keyframes)(frameNum)(v1.value0)(v.value0);
            var $417 = v2.prev.frame === v2.next.frame || frameNum <= v2.prev.frame;
            if ($417) {
                return v2.prev.poses;
            };
            var $418 = frameNum >= v2.next.frame;
            if ($418) {
                return v2.next.poses;
            };
            var t = Data_Int.toNumber(frameNum - v2.prev.frame | 0) / Data_Int.toNumber(v2.next.frame - v2.prev.frame | 0);
            var numPoses = min(Data_Array.length(v2.prev.poses))(Data_Array.length(v2.next.poses));
            return Data_Array.mapMaybe(function (i) {
                return bind(Data_Array.index(v2.prev.poses)(i))(function (pA) {
                    return bind(Data_Array.index(v2.next.poses)(i))(function (pB) {
                        return pure(interpolatePoses(pA)(pB)(t));
                    });
                });
            })(Data_Array.range(0)(numPoses - 1 | 0));
        };
        throw new Error("Failed pattern match at Lattice.Services.Export.Pose (line 296, column 3 - line 316, column 46): " + [ v1.constructor.name, v.constructor.name ]);
    };
};
var exportToOpenPoseJSON = function (poses) {
    var people = map(poseToOpenPosePerson)(poses);
    return {
        version: 1.3,
        people: people
    };
};
var defaultPoseExportConfig = /* #__PURE__ */ (function () {
    return {
        width: 512,
        height: 512,
        startFrame: 0,
        endFrame: 80,
        boneWidth: 4.0,
        keypointRadius: 4.0,
        showKeypoints: true,
        showBones: true,
        useOpenPoseColors: true,
        customColor: Data_Maybe.Nothing.value,
        backgroundColor: "#000000",
        outputFormat: OutputBoth.value
    };
})();
var createPoseSequence = function (keyframePoses) {
    return function (totalFrames) {
        return function (fps) {
            var sortedKeyframes = sortWith(function (v) {
                return v.frame;
            })(keyframePoses);
            var frames = map(function (frameNum) {
                return {
                    frameNumber: frameNum,
                    poses: interpolateAtFrame(sortedKeyframes)(frameNum)
                };
            })(Data_Array.range(0)(totalFrames - 1 | 0));
            return {
                frames: frames,
                format: FormatCOCO18.value,
                fps: fps
            };
        };
    };
};
var cocoBones = [ [ 0, 1 ], [ 0, 2 ], [ 1, 3 ], [ 2, 4 ], [ 5, 6 ], [ 5, 7 ], [ 7, 9 ], [ 6, 8 ], [ 8, 10 ], [ 5, 11 ], [ 6, 12 ], [ 11, 12 ], [ 11, 13 ], [ 13, 15 ], [ 12, 14 ], [ 14, 16 ] ];
export {
    FormatCOCO18,
    FormatOpenPose25,
    FormatDWPose,
    FormatMediaPipe,
    OutputImages,
    OutputJSON,
    OutputBoth,
    RenderPoseFrameRequest,
    ExportPoseSequenceRequest,
    ExportPoseForControlNetRequest,
    cocoBones,
    openposeColors,
    getBoneColor,
    createPoseSequence,
    interpolatePoses,
    interpolateKeypoint,
    interpolateAtFrame,
    exportToOpenPoseJSON,
    poseToOpenPosePerson,
    importFromOpenPoseJSON,
    importPerson,
    importPoseSequence,
    mkRenderPoseFrameRequest,
    mkExportPoseSequenceRequest,
    defaultPoseExportConfig,
    genericPoseFormat_,
    showPoseFormat,
    eqPoseFormat,
    encodeJsonPoseFormat,
    genericPoseOutputFormat_,
    showPoseOutputFormat,
    eqPoseOutputFormat,
    encodeJsonPoseOutputForma,
    genericPoseRenderRequest_,
    showPoseRenderRequest,
    encodeJsonPoseRenderReque
};
//# sourceMappingURL=index.js.map
