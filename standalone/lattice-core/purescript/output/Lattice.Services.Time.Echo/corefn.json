{"builtWith":"0.15.15","comments":[{"BlockComment":"\n  Lattice.Services.Time.Echo - Echo Effect Logic\n\n  Pure functions for echo/motion trail effect:\n  - Echo operator blending modes\n  - Intensity calculations with decay\n  - Echo frame compositing order\n\n  Source: ui/src/services/effects/timeRenderer.ts (lines 207-388)\n"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[94,34],"start":[94,31]}},"type":"Var","value":{"identifier":"max","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[94,38],"start":[94,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"max"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[94,43],"start":[94,40]}},"type":"Var","value":{"identifier":"min","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[94,47],"start":[94,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"min"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[90,26],"start":[90,23]}},"type":"Var","value":{"identifier":"max","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[90,28],"start":[90,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"max1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[90,33],"start":[90,30]}},"type":"Var","value":{"identifier":"min","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[90,36],"start":[90,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"min1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[103,17],"start":[103,15]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[103,21],"start":[103,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqNumber","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"eq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[103,33],"start":[103,32]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[103,37],"start":[103,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[103,31],"start":[103,27]}},"type":"Var","value":{"identifier":"negate","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[103,31],"start":[103,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"negate"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[118,19],"start":[118,18]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[118,25],"start":[118,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[119,44],"start":[119,43]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[119,66],"start":[119,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[120,9],"start":[120,6]}},"type":"Var","value":{"identifier":"map","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[120,23],"start":[120,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorArray","moduleName":["Data","Functor"]}},"type":"App"},"identifier":"map"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[120,42],"start":[120,41]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[120,44],"start":[120,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringInt","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub1"},{"annotation":{"meta":null,"sourceSpan":{"end":[48,14],"start":[41,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[48,14],"start":[41,1]}},"constructorName":"EchoAdd","fieldNames":[],"type":"Constructor","typeName":"EchoOperator"},"identifier":"EchoAdd"},{"annotation":{"meta":null,"sourceSpan":{"end":[48,14],"start":[41,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[48,14],"start":[41,1]}},"constructorName":"EchoScreen","fieldNames":[],"type":"Constructor","typeName":"EchoOperator"},"identifier":"EchoScreen"},{"annotation":{"meta":null,"sourceSpan":{"end":[48,14],"start":[41,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[48,14],"start":[41,1]}},"constructorName":"EchoMaximum","fieldNames":[],"type":"Constructor","typeName":"EchoOperator"},"identifier":"EchoMaximum"},{"annotation":{"meta":null,"sourceSpan":{"end":[48,14],"start":[41,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[48,14],"start":[41,1]}},"constructorName":"EchoMinimum","fieldNames":[],"type":"Constructor","typeName":"EchoOperator"},"identifier":"EchoMinimum"},{"annotation":{"meta":null,"sourceSpan":{"end":[48,14],"start":[41,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[48,14],"start":[41,1]}},"constructorName":"EchoCompositeBack","fieldNames":[],"type":"Constructor","typeName":"EchoOperator"},"identifier":"EchoCompositeBack"},{"annotation":{"meta":null,"sourceSpan":{"end":[48,14],"start":[41,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[48,14],"start":[41,1]}},"constructorName":"EchoCompositeFront","fieldNames":[],"type":"Constructor","typeName":"EchoOperator"},"identifier":"EchoCompositeFront"},{"annotation":{"meta":null,"sourceSpan":{"end":[48,14],"start":[41,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[48,14],"start":[41,1]}},"constructorName":"EchoBlend","fieldNames":[],"type":"Constructor","typeName":"EchoOperator"},"identifier":"EchoBlend"},{"annotation":{"meta":null,"sourceSpan":{"end":[93,46],"start":[93,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[93,46],"start":[93,1]}},"argument":"i","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["Lattice","Services","Time","Echo"]}},"annotation":{"meta":null,"sourceSpan":{"end":[94,38],"start":[94,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,38],"start":[94,35]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[94,50],"start":[94,31]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min","moduleName":["Lattice","Services","Time","Echo"]}},"annotation":{"meta":null,"sourceSpan":{"end":[94,47],"start":[94,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,47],"start":[94,44]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[94,49],"start":[94,40]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,49],"start":[94,48]}},"type":"Var","value":{"identifier":"i","sourcePos":[94,1]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"validateStartingIntensity"},{"annotation":{"meta":null,"sourceSpan":{"end":[89,32],"start":[89,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[89,32],"start":[89,1]}},"argument":"n","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max1","moduleName":["Lattice","Services","Time","Echo"]}},"annotation":{"meta":null,"sourceSpan":{"end":[90,28],"start":[90,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[90,28],"start":[90,27]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[90,39],"start":[90,23]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min1","moduleName":["Lattice","Services","Time","Echo"]}},"annotation":{"meta":null,"sourceSpan":{"end":[90,36],"start":[90,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[90,36],"start":[90,34]}},"type":"Literal","value":{"literalType":"IntLiteral","value":50}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[90,38],"start":[90,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[90,38],"start":[90,37]}},"type":"Var","value":{"identifier":"n","sourcePos":[90,1]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"validateNumEchoes"},{"annotation":{"meta":null,"sourceSpan":{"end":[101,47],"start":[101,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[101,47],"start":[101,1]}},"argument":"echoTime","body":{"annotation":{"meta":null,"sourceSpan":{"end":[101,47],"start":[101,1]}},"argument":"fps","body":{"annotation":{"meta":null,"sourceSpan":{"end":[103,51],"start":[103,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[103,51],"start":[103,3]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Time","Echo"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,37],"start":[103,27]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"negate","moduleName":["Lattice","Services","Time","Echo"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,31],"start":[103,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,31],"start":[103,28]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,37],"start":[103,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,37],"start":[103,34]}},"type":"Var","value":{"identifier":"fps","sourcePos":[102,1]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[103,51],"start":[103,3]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[103,51],"start":[103,43]}},"type":"Var","value":{"identifier":"echoTime","sourcePos":[102,1]}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Time","Echo"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,21],"start":[103,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,14],"start":[103,6]}},"type":"Var","value":{"identifier":"echoTime","sourcePos":[102,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[103,21],"start":[103,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,21],"start":[103,18]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"validateEchoTime"},{"annotation":{"meta":null,"sourceSpan":{"end":[97,34],"start":[97,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[97,34],"start":[97,1]}},"argument":"d","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"max","moduleName":["Lattice","Services","Time","Echo"]}},"annotation":{"meta":null,"sourceSpan":{"end":[98,26],"start":[98,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[98,26],"start":[98,23]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[98,38],"start":[98,19]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"min","moduleName":["Lattice","Services","Time","Echo"]}},"annotation":{"meta":null,"sourceSpan":{"end":[98,35],"start":[98,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[98,35],"start":[98,32]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[98,37],"start":[98,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[98,37],"start":[98,36]}},"type":"Var","value":{"identifier":"d","sourcePos":[98,1]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"validateDecay"},{"annotation":{"meta":null,"sourceSpan":{"end":[59,27],"start":[52,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[59,27],"start":[52,1]}},"type":"Var","value":{"identifier":"Show$Dict","moduleName":["Data","Show"]}},"annotation":{"meta":null,"sourceSpan":{"end":[59,27],"start":[52,1]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[59,27],"start":[52,1]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["show",{"annotation":{"meta":null,"sourceSpan":{"end":[59,27],"start":[52,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[59,27],"start":[52,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[53,15],"start":[53,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoAdd","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[53,23],"start":[53,18]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"add"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[54,18],"start":[54,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoScreen","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[54,29],"start":[54,21]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"screen"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[55,19],"start":[55,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoMaximum","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[55,31],"start":[55,22]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"maximum"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[56,19],"start":[56,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoMinimum","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[56,31],"start":[56,22]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"minimum"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[57,25],"start":[57,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoCompositeBack","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[57,44],"start":[57,28]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"composite_back"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[58,26],"start":[58,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoCompositeFront","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[58,46],"start":[58,29]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"composite_front"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[59,17],"start":[59,8]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoBlend","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[59,27],"start":[59,20]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"blend"}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[53,23],"start":[53,3]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"}]]}},"type":"App"},"identifier":"showEchoOperator"},{"annotation":{"meta":null,"sourceSpan":{"end":[127,49],"start":[127,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[127,49],"start":[127,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[127,49],"start":[127,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[128,40],"start":[128,23]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoCompositeBack","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[128,47],"start":[128,43]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[129,24],"start":[129,23]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[129,32],"start":[129,27]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[128,47],"start":[128,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"identifier":"shouldDrawEchosBehind"},{"annotation":{"meta":null,"sourceSpan":{"end":[62,44],"start":[62,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[62,44],"start":[62,1]}},"argument":"s","body":{"annotation":{"meta":null,"sourceSpan":{"end":[71,15],"start":[63,23]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[64,8],"start":[64,3]}},"binderType":"LiteralBinder","literal":{"literalType":"StringLiteral","value":"add"}}],"expression":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[64,19],"start":[64,12]}},"type":"Var","value":{"identifier":"EchoAdd","moduleName":["Lattice","Services","Time","Echo"]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[65,11],"start":[65,3]}},"binderType":"LiteralBinder","literal":{"literalType":"StringLiteral","value":"screen"}}],"expression":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[65,25],"start":[65,15]}},"type":"Var","value":{"identifier":"EchoScreen","moduleName":["Lattice","Services","Time","Echo"]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[66,12],"start":[66,3]}},"binderType":"LiteralBinder","literal":{"literalType":"StringLiteral","value":"maximum"}}],"expression":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[66,27],"start":[66,16]}},"type":"Var","value":{"identifier":"EchoMaximum","moduleName":["Lattice","Services","Time","Echo"]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[67,12],"start":[67,3]}},"binderType":"LiteralBinder","literal":{"literalType":"StringLiteral","value":"minimum"}}],"expression":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[67,27],"start":[67,16]}},"type":"Var","value":{"identifier":"EchoMinimum","moduleName":["Lattice","Services","Time","Echo"]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[68,19],"start":[68,3]}},"binderType":"LiteralBinder","literal":{"literalType":"StringLiteral","value":"composite_back"}}],"expression":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[68,40],"start":[68,23]}},"type":"Var","value":{"identifier":"EchoCompositeBack","moduleName":["Lattice","Services","Time","Echo"]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[69,20],"start":[69,3]}},"binderType":"LiteralBinder","literal":{"literalType":"StringLiteral","value":"composite_front"}}],"expression":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[69,42],"start":[69,24]}},"type":"Var","value":{"identifier":"EchoCompositeFront","moduleName":["Lattice","Services","Time","Echo"]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[70,10],"start":[70,3]}},"binderType":"LiteralBinder","literal":{"literalType":"StringLiteral","value":"blend"}}],"expression":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[70,23],"start":[70,14]}},"type":"Var","value":{"identifier":"EchoBlend","moduleName":["Lattice","Services","Time","Echo"]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[71,4],"start":[71,3]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[71,15],"start":[71,8]}},"type":"Var","value":{"identifier":"EchoAdd","moduleName":["Lattice","Services","Time","Echo"]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[63,29],"start":[63,28]}},"type":"Var","value":{"identifier":"s","sourcePos":[63,1]}}],"type":"Case"},"type":"Abs"},"identifier":"parseEchoOperator"},{"annotation":{"meta":null,"sourceSpan":{"end":[110,29],"start":[110,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[111,27],"start":[111,22]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.0e-3}},"identifier":"intensityThreshold"},{"annotation":{"meta":null,"sourceSpan":{"end":[50,50],"start":[50,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"Eq$Dict","moduleName":["Data","Eq"]}},"annotation":{"meta":null,"sourceSpan":{"end":[50,50],"start":[50,1]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["eq",{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoAdd","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoAdd","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoScreen","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoScreen","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoMaximum","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoMaximum","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoMinimum","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoMinimum","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoCompositeBack","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoCompositeBack","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoCompositeFront","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoCompositeFront","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoBlend","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoBlend","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"x","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"y","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"}]]}},"type":"App"},"identifier":"eqEchoOperator"},{"annotation":{"meta":null,"sourceSpan":{"end":[132,52],"start":[132,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[132,52],"start":[132,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[132,52],"start":[132,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[133,43],"start":[133,26]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoCompositeBack","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[133,50],"start":[133,46]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[134,27],"start":[134,26]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[134,35],"start":[134,30]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[133,50],"start":[133,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"identifier":"echoRequiresCurrentOnTop"},{"annotation":{"meta":null,"sourceSpan":{"end":[74,50],"start":[74,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[74,50],"start":[74,1]}},"argument":"op","body":{"annotation":{"meta":null,"sourceSpan":{"end":[82,29],"start":[75,30]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[76,10],"start":[76,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoAdd","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[76,23],"start":[76,14]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"lighter"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[77,13],"start":[77,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoScreen","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[77,25],"start":[77,17]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"screen"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[78,14],"start":[78,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoMaximum","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[78,27],"start":[78,18]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"lighten"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[79,14],"start":[79,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoMinimum","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[79,26],"start":[79,18]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"darken"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[80,20],"start":[80,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoCompositeBack","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[80,42],"start":[80,24]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"destination-over"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[81,21],"start":[81,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoCompositeFront","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[81,38],"start":[81,25]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"source-over"}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[82,12],"start":[82,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"EchoBlend","moduleName":["Lattice","Services","Time","Echo"]},"typeName":{"identifier":"EchoOperator","moduleName":["Lattice","Services","Time","Echo"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[82,29],"start":[82,16]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"source-over"}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[75,37],"start":[75,35]}},"type":"Var","value":{"identifier":"op","sourcePos":[75,1]}}],"type":"Case"},"type":"Abs"},"identifier":"echoOperatorToComposite"},{"annotation":{"meta":null,"sourceSpan":{"end":[116,68],"start":[116,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[116,68],"start":[116,1]}},"argument":"startingIntensity","body":{"annotation":{"meta":null,"sourceSpan":{"end":[116,68],"start":[116,1]}},"argument":"decay","body":{"annotation":{"meta":null,"sourceSpan":{"end":[116,68],"start":[116,1]}},"argument":"numEchoes","body":{"annotation":{"meta":null,"sourceSpan":{"end":[120,46],"start":[118,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[118,25],"start":[118,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Time","Echo"]}},"annotation":{"meta":null,"sourceSpan":{"end":[118,25],"start":[118,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[118,17],"start":[118,14]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[118,25],"start":[118,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[118,25],"start":[118,20]}},"type":"Var","value":{"identifier":"decay","sourcePos":[117,1]}},"type":"App"},"identifier":"base"},{"annotation":{"meta":null,"sourceSpan":{"end":[119,66],"start":[119,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[119,66],"start":[119,7]}},"argument":"i","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Time","Echo"]}},"annotation":{"meta":null,"sourceSpan":{"end":[119,66],"start":[119,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,42],"start":[119,25]}},"type":"Var","value":{"identifier":"startingIntensity","sourcePos":[117,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[119,66],"start":[119,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[119,48],"start":[119,45]}},"type":"Var","value":{"identifier":"pow","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[119,53],"start":[119,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,53],"start":[119,49]}},"type":"Var","value":{"identifier":"base","sourcePos":[118,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[119,66],"start":[119,45]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[119,63],"start":[119,55]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[119,65],"start":[119,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,65],"start":[119,64]}},"type":"Var","value":{"identifier":"i","sourcePos":[119,7]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"calcIntensity"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["Lattice","Services","Time","Echo"]}},"annotation":{"meta":null,"sourceSpan":{"end":[120,23],"start":[120,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[120,23],"start":[120,10]}},"type":"Var","value":{"identifier":"calcIntensity","sourcePos":[119,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[120,46],"start":[120,6]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[120,29],"start":[120,27]}},"type":"Var","value":{"identifier":"range","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[120,45],"start":[120,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[120,26],"start":[120,25]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[120,45],"start":[120,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub1","moduleName":["Lattice","Services","Time","Echo"]}},"annotation":{"meta":null,"sourceSpan":{"end":[120,44],"start":[120,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[120,40],"start":[120,31]}},"type":"Var","value":{"identifier":"numEchoes","sourcePos":[117,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[120,44],"start":[120,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[120,44],"start":[120,43]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"calculateEchoIntensities"}],"exports":["EchoAdd","EchoScreen","EchoMaximum","EchoMinimum","EchoCompositeBack","EchoCompositeFront","EchoBlend","parseEchoOperator","echoOperatorToComposite","validateNumEchoes","validateStartingIntensity","validateDecay","validateEchoTime","calculateEchoIntensities","intensityThreshold","shouldDrawEchosBehind","echoRequiresCurrentOnTop","eqEchoOperator","showEchoOperator"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[134,35],"start":[12,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[134,35],"start":[12,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[134,35],"start":[12,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[134,35],"start":[12,1]}},"moduleName":["Data","Functor"]},{"annotation":{"meta":null,"sourceSpan":{"end":[134,35],"start":[12,1]}},"moduleName":["Data","Int"]},{"annotation":{"meta":null,"sourceSpan":{"end":[33,30],"start":[33,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[134,35],"start":[12,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[134,35],"start":[12,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[134,35],"start":[12,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[134,35],"start":[12,1]}},"moduleName":["Data","Show"]},{"annotation":{"meta":null,"sourceSpan":{"end":[134,35],"start":[12,1]}},"moduleName":["Lattice","Services","Time","Echo"]},{"annotation":{"meta":null,"sourceSpan":{"end":[134,35],"start":[12,1]}},"moduleName":["Math"]},{"annotation":{"meta":null,"sourceSpan":{"end":[29,15],"start":[29,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[134,35],"start":[12,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","Time","Echo"],"modulePath":"src/Lattice/Services/Time/Echo.purs","reExports":{},"sourceSpan":{"end":[134,35],"start":[12,1]}}