{"builtWith":"0.15.15","comments":[{"BlockComment":"\n  Lattice.Services.SVGExtrusion.Simplify - Vertex Simplification Mathematics\n\n  Pure mathematical functions for geometry simplification:\n  - Vertex welding (merging close vertices)\n  - Tolerance-based rounding\n  - Index remapping\n\n  Source: ui/src/services/svgExtrusion.ts (lines 1185-1239)\n"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[75,19],"start":[75,17]}},"type":"Var","value":{"identifier":"append","moduleName":["Data","Semigroup"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[75,64],"start":[75,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupString","moduleName":["Data","Semigroup"]}},"type":"App"},"identifier":"append"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[75,7],"start":[75,3]}},"type":"Var","value":{"identifier":"show","moduleName":["Data","Show"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[75,16],"start":[75,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"showNumber","moduleName":["Data","Show"]}},"type":"App"},"identifier":"show"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[174,47],"start":[174,46]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[174,49],"start":[174,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingInt","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[175,43],"start":[175,42]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[175,45],"start":[175,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThan"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[176,90],"start":[176,89]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[176,96],"start":[176,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[176,30],"start":[176,29]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[176,87],"start":[176,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[176,54],"start":[176,53]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[176,87],"start":[176,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div1"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[61,17],"start":[61,15]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[61,21],"start":[61,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[104,27],"start":[104,17]}},"type":"Var","value":{"identifier":"lookup","moduleName":["Data","Map","Internal"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[104,31],"start":[104,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordString","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lookup"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[110,41],"start":[110,31]}},"type":"Var","value":{"identifier":"insert","moduleName":["Data","Map","Internal"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[110,45],"start":[110,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordString","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"insert"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[114,39],"start":[114,38]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[114,41],"start":[114,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringInt","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[117,25],"start":[117,20]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Data","Foldable"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[117,39],"start":[117,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"foldableArray","moduleName":["Data","Foldable"]}},"type":"App"},"identifier":"foldl"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[127,6],"start":[127,3]}},"type":"Var","value":{"identifier":"map","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[127,12],"start":[127,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorArray","moduleName":["Data","Functor"]}},"type":"App"},"identifier":"map"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[138,44],"start":[138,42]}},"type":"Var","value":{"identifier":"disj","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[138,65],"start":[138,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"disj"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[138,38],"start":[138,36]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[138,65],"start":[138,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqInt","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"eq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[147,15],"start":[147,13]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[147,24],"start":[147,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordInt","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[149,27],"start":[149,26]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[149,29],"start":[149,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringInt","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul1"},{"annotation":{"meta":null,"sourceSpan":{"end":[73,32],"start":[73,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[73,32],"start":[73,1]}},"argument":"vertex","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[75,64],"start":[75,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[75,16],"start":[75,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,16],"start":[75,8]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[75,14],"start":[75,8]}},"type":"Var","value":{"identifier":"vertex","sourcePos":[74,1]}},"fieldName":"x","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[75,64],"start":[75,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[75,64],"start":[75,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,23],"start":[75,20]}},"type":"Literal","value":{"literalType":"StringLiteral","value":","}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[75,64],"start":[75,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[75,64],"start":[75,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[75,40],"start":[75,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,40],"start":[75,32]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[75,38],"start":[75,32]}},"type":"Var","value":{"identifier":"vertex","sourcePos":[74,1]}},"fieldName":"y","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[75,64],"start":[75,3]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[75,64],"start":[75,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,47],"start":[75,44]}},"type":"Literal","value":{"literalType":"StringLiteral","value":","}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[75,64],"start":[75,3]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[75,64],"start":[75,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[75,64],"start":[75,56]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[75,62],"start":[75,56]}},"type":"Var","value":{"identifier":"vertex","sourcePos":[74,1]}},"fieldName":"z","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"vertexKey"},{"annotation":{"meta":null,"sourceSpan":{"end":[172,69],"start":[172,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[172,69],"start":[172,1]}},"argument":"originalVertexCount","body":{"annotation":{"meta":null,"sourceSpan":{"end":[172,69],"start":[172,1]}},"argument":"simplified","body":{"annotation":{"meta":null,"sourceSpan":{"end":[178,30],"start":[174,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[174,49],"start":[174,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[174,49],"start":[174,18]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[174,24],"start":[174,18]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[174,45],"start":[174,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[174,45],"start":[174,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[174,35],"start":[174,25]}},"type":"Var","value":{"identifier":"simplified","sourcePos":[173,1]}},"fieldName":"positions","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[174,49],"start":[174,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[174,49],"start":[174,48]}},"type":"Literal","value":{"literalType":"IntLiteral","value":3}},"type":"App"},"identifier":"newCount"},{"annotation":{"meta":null,"sourceSpan":{"end":[177,27],"start":[175,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[177,27],"start":[175,19]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[177,27],"start":[175,19]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[176,96],"start":[176,24]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[176,87],"start":[176,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[176,28],"start":[176,25]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[176,87],"start":[176,25]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div1","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[176,87],"start":[176,25]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[176,43],"start":[176,31]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[176,52],"start":[176,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[176,52],"start":[176,44]}},"type":"Var","value":{"identifier":"newCount","sourcePos":[174,7]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[176,87],"start":[176,25]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[176,67],"start":[176,55]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[176,87],"start":[176,55]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[176,87],"start":[176,68]}},"type":"Var","value":{"identifier":"originalVertexCount","sourcePos":[173,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[176,96],"start":[176,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[176,96],"start":[176,91]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":100}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[177,27],"start":[175,19]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[177,27],"start":[177,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThan","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[175,45],"start":[175,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[175,41],"start":[175,22]}},"type":"Var","value":{"identifier":"originalVertexCount","sourcePos":[173,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[175,45],"start":[175,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[175,45],"start":[175,44]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"}],"type":"Case"},"identifier":"reduction"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"constructorType":"ProductType","identifiers":["value0","value1"],"metaType":"IsConstructor"},"sourceSpan":{"end":[178,11],"start":[178,6]}},"type":"Var","value":{"identifier":"Tuple","moduleName":["Data","Tuple"]}},"annotation":{"meta":null,"sourceSpan":{"end":[178,20],"start":[178,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[178,20],"start":[178,12]}},"type":"Var","value":{"identifier":"newCount","sourcePos":[174,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[178,30],"start":[178,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[178,30],"start":[178,21]}},"type":"Var","value":{"identifier":"reduction","sourcePos":[175,7]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"simplificationStats"},{"annotation":{"meta":null,"sourceSpan":{"end":[59,47],"start":[59,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[59,47],"start":[59,1]}},"argument":"v","body":{"annotation":{"meta":null,"sourceSpan":{"end":[59,47],"start":[59,1]}},"argument":"tolerance","body":{"annotation":{"meta":null,"sourceSpan":{"end":[59,47],"start":[59,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[60,19],"start":[60,18]}},"binderType":"VarBinder","identifier":"v1"},{"annotation":{"meta":null,"sourceSpan":{"end":[60,29],"start":[60,20]}},"binderType":"VarBinder","identifier":"tolerance1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[61,25],"start":[61,24]}},"type":"Var","value":{"identifier":"v1","sourcePos":[60,18]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[61,21],"start":[61,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[61,14],"start":[61,5]}},"type":"Var","value":{"identifier":"tolerance1","sourcePos":[60,20]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[61,21],"start":[61,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[61,21],"start":[61,18]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}},{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[62,69],"start":[62,17]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[62,29],"start":[62,17]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[62,57],"start":[62,17]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[62,40],"start":[62,31]}},"type":"Var","value":{"identifier":"round","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[62,56],"start":[62,31]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div1","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[62,55],"start":[62,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[62,43],"start":[62,42]}},"type":"Var","value":{"identifier":"v1","sourcePos":[60,18]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[62,55],"start":[62,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[62,55],"start":[62,46]}},"type":"Var","value":{"identifier":"tolerance1","sourcePos":[60,20]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[62,69],"start":[62,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[62,69],"start":[62,60]}},"type":"Var","value":{"identifier":"tolerance1","sourcePos":[60,20]}},"type":"App"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[62,14],"start":[62,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[62,69],"start":[60,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[60,18]}},{"annotation":{"meta":null,"sourceSpan":{"end":[62,69],"start":[60,1]}},"type":"Var","value":{"identifier":"tolerance","sourcePos":[60,20]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"roundToTolerance"},{"annotation":{"meta":null,"sourceSpan":{"end":[65,46],"start":[65,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[65,46],"start":[65,1]}},"argument":"vertex","body":{"annotation":{"meta":null,"sourceSpan":{"end":[65,46],"start":[65,1]}},"argument":"tolerance","body":{"annotation":{"meta":null,"sourceSpan":{"end":[70,4],"start":[67,3]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[67,24],"start":[67,8]}},"type":"Var","value":{"identifier":"roundToTolerance","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[67,33],"start":[67,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[67,33],"start":[67,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[67,31],"start":[67,25]}},"type":"Var","value":{"identifier":"vertex","sourcePos":[66,1]}},"fieldName":"x","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[67,43],"start":[67,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[67,43],"start":[67,34]}},"type":"Var","value":{"identifier":"tolerance","sourcePos":[66,1]}},"type":"App"}],["y",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[68,24],"start":[68,8]}},"type":"Var","value":{"identifier":"roundToTolerance","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[68,33],"start":[68,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[68,33],"start":[68,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[68,31],"start":[68,25]}},"type":"Var","value":{"identifier":"vertex","sourcePos":[66,1]}},"fieldName":"y","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[68,43],"start":[68,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[68,43],"start":[68,34]}},"type":"Var","value":{"identifier":"tolerance","sourcePos":[66,1]}},"type":"App"}],["z",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[69,24],"start":[69,8]}},"type":"Var","value":{"identifier":"roundToTolerance","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[69,33],"start":[69,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[69,33],"start":[69,25]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[69,31],"start":[69,25]}},"type":"Var","value":{"identifier":"vertex","sourcePos":[66,1]}},"fieldName":"z","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[69,43],"start":[69,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[69,43],"start":[69,34]}},"type":"Var","value":{"identifier":"tolerance","sourcePos":[66,1]}},"type":"App"}]]}},"type":"Abs"},"type":"Abs"},"identifier":"roundVertex"},{"annotation":{"meta":null,"sourceSpan":{"end":[90,63],"start":[90,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[90,63],"start":[90,1]}},"argument":"vertices","body":{"annotation":{"meta":null,"sourceSpan":{"end":[90,63],"start":[90,1]}},"argument":"tolerance","body":{"annotation":{"meta":null,"sourceSpan":{"end":[122,7],"start":[92,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[100,58],"start":[100,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[100,58],"start":[100,7]}},"argument":"state","body":{"annotation":{"meta":null,"sourceSpan":{"end":[100,58],"start":[100,7]}},"argument":"vertex","body":{"annotation":{"meta":null,"sourceSpan":{"end":[115,17],"start":[102,9]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[102,51],"start":[102,13]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[102,34],"start":[102,23]}},"type":"Var","value":{"identifier":"roundVertex","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[102,41],"start":[102,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,41],"start":[102,35]}},"type":"Var","value":{"identifier":"vertex","sourcePos":[101,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[102,51],"start":[102,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[102,51],"start":[102,42]}},"type":"Var","value":{"identifier":"tolerance","sourcePos":[91,1]}},"type":"App"},"identifier":"rounded"},{"annotation":{"meta":null,"sourceSpan":{"end":[103,36],"start":[103,13]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[103,28],"start":[103,19]}},"type":"Var","value":{"identifier":"vertexKey","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[103,36],"start":[103,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[103,36],"start":[103,29]}},"type":"Var","value":{"identifier":"rounded","sourcePos":[102,13]}},"type":"App"},"identifier":"key"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[115,17],"start":[104,12]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[90,63],"start":[90,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lookup","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[104,31],"start":[104,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,31],"start":[104,28]}},"type":"Var","value":{"identifier":"key","sourcePos":[103,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[104,46],"start":[104,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[104,46],"start":[104,32]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[104,37],"start":[104,32]}},"type":"Var","value":{"identifier":"state","sourcePos":[101,7]}},"fieldName":"seenKeys","type":"Accessor"},"type":"App"},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[115,17],"start":[104,12]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[105,29],"start":[105,11]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[105,29],"start":[105,16]}},"binderType":"VarBinder","identifier":"existingIndex"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[106,67],"start":[106,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[122,7],"start":[91,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[106,18],"start":[106,13]}},"type":"Var","value":{"identifier":"state","sourcePos":[101,7]}},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[106,67],"start":[106,13]}},"copy":["positions","seenKeys","nextIndex"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v1","sourcePos":[91,1]}},"type":"ObjectUpdate","updates":[["indexMap",{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[106,36],"start":[106,32]}},"type":"Var","value":{"identifier":"snoc","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[106,51],"start":[106,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[106,51],"start":[106,37]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[106,42],"start":[106,37]}},"type":"Var","value":{"identifier":"state","sourcePos":[101,7]}},"fieldName":"indexMap","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[106,65],"start":[106,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[106,65],"start":[106,52]}},"type":"Var","value":{"identifier":"existingIndex","sourcePos":[105,16]}},"type":"App"}]]},"type":"Let"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[107,18],"start":[107,11]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[115,17],"start":[108,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[109,96],"start":[109,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[109,36],"start":[109,32]}},"type":"Var","value":{"identifier":"snoc","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[109,86],"start":[109,32]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[109,42],"start":[109,38]}},"type":"Var","value":{"identifier":"snoc","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[109,75],"start":[109,38]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[109,48],"start":[109,44]}},"type":"Var","value":{"identifier":"snoc","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[109,64],"start":[109,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[109,64],"start":[109,49]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[109,54],"start":[109,49]}},"type":"Var","value":{"identifier":"state","sourcePos":[101,7]}},"fieldName":"positions","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[109,74],"start":[109,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[109,74],"start":[109,65]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[109,72],"start":[109,65]}},"type":"Var","value":{"identifier":"rounded","sourcePos":[102,13]}},"fieldName":"x","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[109,85],"start":[109,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[109,85],"start":[109,76]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[109,83],"start":[109,76]}},"type":"Var","value":{"identifier":"rounded","sourcePos":[102,13]}},"fieldName":"y","type":"Accessor"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[109,96],"start":[109,32]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[109,96],"start":[109,87]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[109,94],"start":[109,87]}},"type":"Var","value":{"identifier":"rounded","sourcePos":[102,13]}},"fieldName":"z","type":"Accessor"},"type":"App"},"identifier":"newPositions"},{"annotation":{"meta":null,"sourceSpan":{"end":[108,43],"start":[108,17]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[108,43],"start":[108,28]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[108,33],"start":[108,28]}},"type":"Var","value":{"identifier":"state","sourcePos":[101,7]}},"fieldName":"nextIndex","type":"Accessor"},"identifier":"newIndex"},{"annotation":{"meta":null,"sourceSpan":{"end":[110,69],"start":[110,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"insert","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[110,45],"start":[110,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[110,45],"start":[110,42]}},"type":"Var","value":{"identifier":"key","sourcePos":[103,13]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[110,54],"start":[110,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[110,54],"start":[110,46]}},"type":"Var","value":{"identifier":"newIndex","sourcePos":[108,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[110,69],"start":[110,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[110,69],"start":[110,55]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[110,60],"start":[110,55]}},"type":"Var","value":{"identifier":"state","sourcePos":[101,7]}},"fieldName":"seenKeys","type":"Accessor"},"type":"App"},"identifier":"newSeenKeys"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[115,17],"start":[111,16]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["positions",{"annotation":{"meta":null,"sourceSpan":{"end":[111,41],"start":[111,29]}},"type":"Var","value":{"identifier":"newPositions","sourcePos":[109,17]}}],["seenKeys",{"annotation":{"meta":null,"sourceSpan":{"end":[112,39],"start":[112,28]}},"type":"Var","value":{"identifier":"newSeenKeys","sourcePos":[110,17]}}],["indexMap",{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[113,32],"start":[113,28]}},"type":"Var","value":{"identifier":"snoc","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[113,47],"start":[113,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[113,47],"start":[113,33]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[113,38],"start":[113,33]}},"type":"Var","value":{"identifier":"state","sourcePos":[101,7]}},"fieldName":"indexMap","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[113,56],"start":[113,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[113,56],"start":[113,48]}},"type":"Var","value":{"identifier":"newIndex","sourcePos":[108,17]}},"type":"App"}],["nextIndex",{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[114,41],"start":[114,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[114,37],"start":[114,29]}},"type":"Var","value":{"identifier":"newIndex","sourcePos":[108,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[114,41],"start":[114,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[114,41],"start":[114,40]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"}]]}},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[90,63],"start":[90,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"processVertex"},{"annotation":{"meta":null,"sourceSpan":{"end":[92,32],"start":[92,7]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[98,10],"start":[94,9]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["positions",{"annotation":{"meta":null,"sourceSpan":{"end":[94,24],"start":[94,22]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}],["seenKeys",{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[95,30],"start":[95,21]}},"type":"Var","value":{"identifier":"empty","moduleName":["Data","Map","Internal"]}}],["indexMap",{"annotation":{"meta":null,"sourceSpan":{"end":[96,23],"start":[96,21]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}],["nextIndex",{"annotation":{"meta":null,"sourceSpan":{"end":[97,23],"start":[97,22]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}}]]}},"identifier":"initialState"},{"annotation":{"meta":null,"sourceSpan":{"end":[117,61],"start":[117,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"foldl","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[117,39],"start":[117,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[117,39],"start":[117,26]}},"type":"Var","value":{"identifier":"processVertex","sourcePos":[100,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[117,52],"start":[117,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[117,52],"start":[117,40]}},"type":"Var","value":{"identifier":"initialState","sourcePos":[92,7]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[117,61],"start":[117,20]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[117,61],"start":[117,53]}},"type":"Var","value":{"identifier":"vertices","sourcePos":[91,1]}},"type":"App"},"identifier":"finalState"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[122,7],"start":[119,6]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["positions",{"annotation":{"meta":null,"sourceSpan":{"end":[119,39],"start":[119,19]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[119,29],"start":[119,19]}},"type":"Var","value":{"identifier":"finalState","sourcePos":[117,7]}},"fieldName":"positions","type":"Accessor"}],["indices",{"annotation":{"meta":null,"sourceSpan":{"end":[120,19],"start":[120,17]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}}],["originalToNew",{"annotation":{"meta":null,"sourceSpan":{"end":[121,42],"start":[121,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[121,33],"start":[121,23]}},"type":"Var","value":{"identifier":"finalState","sourcePos":[117,7]}},"fieldName":"indexMap","type":"Accessor"}]]}},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"weldVertices"},{"annotation":{"meta":null,"sourceSpan":{"end":[125,52],"start":[125,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[125,52],"start":[125,1]}},"argument":"originalIndices","body":{"annotation":{"meta":null,"sourceSpan":{"end":[125,52],"start":[125,1]}},"argument":"indexMap","body":{"annotation":{"meta":{"metaType":"IsWhere"},"sourceSpan":{"end":[127,28],"start":[127,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[130,44],"start":[129,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[130,44],"start":[129,5]}},"argument":"oldIdx","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[130,16],"start":[130,7]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[130,23],"start":[130,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,23],"start":[130,17]}},"type":"Var","value":{"identifier":"oldIdx","sourcePos":[129,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[130,44],"start":[130,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[130,36],"start":[130,34]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[130,43],"start":[130,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,33],"start":[130,25]}},"type":"Var","value":{"identifier":"indexMap","sourcePos":[126,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[130,43],"start":[130,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,43],"start":[130,37]}},"type":"Var","value":{"identifier":"oldIdx","sourcePos":[129,5]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"remap"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[127,12],"start":[127,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,12],"start":[127,7]}},"type":"Var","value":{"identifier":"remap","sourcePos":[129,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[127,28],"start":[127,3]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[127,28],"start":[127,13]}},"type":"Var","value":{"identifier":"originalIndices","sourcePos":[126,1]}},"type":"App"},"type":"Let"},"type":"Abs"},"type":"Abs"},"identifier":"remapIndices"},{"annotation":{"meta":null,"sourceSpan":{"end":[137,53],"start":[137,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[137,53],"start":[137,1]}},"argument":"i0","body":{"annotation":{"meta":null,"sourceSpan":{"end":[137,53],"start":[137,1]}},"argument":"i1","body":{"annotation":{"meta":null,"sourceSpan":{"end":[137,53],"start":[137,1]}},"argument":"i2","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"disj","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[138,65],"start":[138,33]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[138,65],"start":[138,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,35],"start":[138,33]}},"type":"Var","value":{"identifier":"i0","sourcePos":[138,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,65],"start":[138,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,41],"start":[138,39]}},"type":"Var","value":{"identifier":"i1","sourcePos":[138,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,65],"start":[138,33]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"disj","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[138,65],"start":[138,33]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[138,65],"start":[138,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,47],"start":[138,45]}},"type":"Var","value":{"identifier":"i1","sourcePos":[138,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,65],"start":[138,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,53],"start":[138,51]}},"type":"Var","value":{"identifier":"i2","sourcePos":[138,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,65],"start":[138,33]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[138,65],"start":[138,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,59],"start":[138,57]}},"type":"Var","value":{"identifier":"i0","sourcePos":[138,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,65],"start":[138,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,65],"start":[138,63]}},"type":"Var","value":{"identifier":"i2","sourcePos":[138,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"isDegenerateTriangle"},{"annotation":{"meta":null,"sourceSpan":{"end":[141,52],"start":[141,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[141,52],"start":[141,1]}},"argument":"indices","body":{"annotation":{"meta":null,"sourceSpan":{"end":[156,18],"start":[143,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[143,36],"start":[143,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[143,36],"start":[143,18]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[143,24],"start":[143,18]}},"type":"Var","value":{"identifier":"length","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[143,32],"start":[143,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[143,32],"start":[143,25]}},"type":"Var","value":{"identifier":"indices","sourcePos":[142,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[143,36],"start":[143,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[143,36],"start":[143,35]}},"type":"Literal","value":{"literalType":"IntLiteral","value":3}},"type":"App"},"identifier":"triCount"},{"bindType":"Rec","binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[145,47],"start":[145,7]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[145,47],"start":[145,7]}},"argument":"i","body":{"annotation":{"meta":null,"sourceSpan":{"end":[145,47],"start":[145,7]}},"argument":"acc","body":{"annotation":{"meta":null,"sourceSpan":{"end":[145,47],"start":[145,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[146,16],"start":[146,15]}},"binderType":"VarBinder","identifier":"i1"},{"annotation":{"meta":null,"sourceSpan":{"end":[146,20],"start":[146,17]}},"binderType":"VarBinder","identifier":"acc1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[147,30],"start":[147,27]}},"type":"Var","value":{"identifier":"acc1","sourcePos":[146,17]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,24],"start":[147,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,12],"start":[147,11]}},"type":"Var","value":{"identifier":"i1","sourcePos":[146,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[147,24],"start":[147,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,24],"start":[147,16]}},"type":"Var","value":{"identifier":"triCount","sourcePos":[143,7]}},"type":"App"}},{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[155,70],"start":[149,13]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[149,29],"start":[149,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul1","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[149,29],"start":[149,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,25],"start":[149,24]}},"type":"Var","value":{"identifier":"i1","sourcePos":[146,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[149,29],"start":[149,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[149,29],"start":[149,28]}},"type":"Literal","value":{"literalType":"IntLiteral","value":3}},"type":"App"},"identifier":"base"},{"annotation":{"meta":null,"sourceSpan":{"end":[150,51],"start":[150,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[150,31],"start":[150,22]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[150,33],"start":[150,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,33],"start":[150,32]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[150,51],"start":[150,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[150,45],"start":[150,43]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[150,50],"start":[150,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,42],"start":[150,35]}},"type":"Var","value":{"identifier":"indices","sourcePos":[142,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[150,50],"start":[150,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[150,50],"start":[150,46]}},"type":"Var","value":{"identifier":"base","sourcePos":[149,17]}},"type":"App"},"type":"App"},"identifier":"i0"},{"annotation":{"meta":null,"sourceSpan":{"end":[151,57],"start":[151,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[151,31],"start":[151,22]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[151,33],"start":[151,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[151,33],"start":[151,32]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[151,57],"start":[151,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[151,45],"start":[151,43]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[151,56],"start":[151,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[151,42],"start":[151,35]}},"type":"Var","value":{"identifier":"indices","sourcePos":[142,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[151,56],"start":[151,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[151,55],"start":[151,47]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[151,51],"start":[151,47]}},"type":"Var","value":{"identifier":"base","sourcePos":[149,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[151,55],"start":[151,47]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[151,55],"start":[151,54]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"type":"App"},"identifier":"i11"},{"annotation":{"meta":null,"sourceSpan":{"end":[152,57],"start":[152,17]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[152,31],"start":[152,22]}},"type":"Var","value":{"identifier":"fromMaybe","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[152,33],"start":[152,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[152,33],"start":[152,32]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[152,57],"start":[152,22]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[152,45],"start":[152,43]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[152,56],"start":[152,35]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[152,42],"start":[152,35]}},"type":"Var","value":{"identifier":"indices","sourcePos":[142,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[152,56],"start":[152,35]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[152,55],"start":[152,47]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[152,51],"start":[152,47]}},"type":"Var","value":{"identifier":"base","sourcePos":[149,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[152,55],"start":[152,47]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[152,55],"start":[152,54]}},"type":"Literal","value":{"literalType":"IntLiteral","value":2}},"type":"App"},"type":"App"},"type":"App"},"identifier":"i2"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[155,70],"start":[153,16]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[155,70],"start":[153,16]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[154,28],"start":[154,21]}},"type":"Var","value":{"identifier":"process","sourcePos":[145,7]}},"annotation":{"meta":null,"sourceSpan":{"end":[154,36],"start":[154,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[154,35],"start":[154,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,31],"start":[154,30]}},"type":"Var","value":{"identifier":"i1","sourcePos":[146,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[154,35],"start":[154,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,35],"start":[154,34]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[154,40],"start":[154,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,40],"start":[154,37]}},"type":"Var","value":{"identifier":"acc1","sourcePos":[146,17]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[155,70],"start":[153,16]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[155,28],"start":[155,21]}},"type":"Var","value":{"identifier":"process","sourcePos":[145,7]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,36],"start":[155,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,35],"start":[155,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,31],"start":[155,30]}},"type":"Var","value":{"identifier":"i1","sourcePos":[146,15]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[155,35],"start":[155,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,35],"start":[155,34]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[155,70],"start":[155,21]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[155,42],"start":[155,38]}},"type":"Var","value":{"identifier":"snoc","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,66],"start":[155,38]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[155,48],"start":[155,44]}},"type":"Var","value":{"identifier":"snoc","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,62],"start":[155,44]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[155,54],"start":[155,50]}},"type":"Var","value":{"identifier":"snoc","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,58],"start":[155,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,58],"start":[155,55]}},"type":"Var","value":{"identifier":"acc1","sourcePos":[146,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[155,61],"start":[155,50]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,61],"start":[155,59]}},"type":"Var","value":{"identifier":"i0","sourcePos":[150,17]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[155,65],"start":[155,44]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,65],"start":[155,63]}},"type":"Var","value":{"identifier":"i11","sourcePos":[151,17]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[155,69],"start":[155,38]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,69],"start":[155,67]}},"type":"Var","value":{"identifier":"i2","sourcePos":[152,17]}},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[153,39],"start":[153,19]}},"type":"Var","value":{"identifier":"isDegenerateTriangle","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[153,42],"start":[153,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,42],"start":[153,40]}},"type":"Var","value":{"identifier":"i0","sourcePos":[150,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[153,45],"start":[153,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,45],"start":[153,43]}},"type":"Var","value":{"identifier":"i11","sourcePos":[151,17]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[153,48],"start":[153,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[153,48],"start":[153,46]}},"type":"Var","value":{"identifier":"i2","sourcePos":[152,17]}},"type":"App"}],"type":"Case"},"type":"Let"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[148,20],"start":[148,11]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[155,70],"start":[146,7]}},"type":"Var","value":{"identifier":"i","sourcePos":[146,15]}},{"annotation":{"meta":null,"sourceSpan":{"end":[155,70],"start":[146,7]}},"type":"Var","value":{"identifier":"acc","sourcePos":[146,17]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"process"}]}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[156,13],"start":[156,6]}},"type":"Var","value":{"identifier":"process","sourcePos":[145,7]}},"annotation":{"meta":null,"sourceSpan":{"end":[156,15],"start":[156,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[156,15],"start":[156,14]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[156,18],"start":[156,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[156,18],"start":[156,16]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[]}},"type":"App"},"type":"Let"},"type":"Abs"},"identifier":"removeDegenerateTriangles"},{"annotation":{"meta":null,"sourceSpan":{"end":[163,80],"start":[163,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[163,80],"start":[163,1]}},"argument":"vertices","body":{"annotation":{"meta":null,"sourceSpan":{"end":[163,80],"start":[163,1]}},"argument":"indices","body":{"annotation":{"meta":null,"sourceSpan":{"end":[163,80],"start":[163,1]}},"argument":"tolerance","body":{"annotation":{"meta":null,"sourceSpan":{"end":[168,39],"start":[165,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[165,47],"start":[165,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[165,28],"start":[165,16]}},"type":"Var","value":{"identifier":"weldVertices","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[165,37],"start":[165,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[165,37],"start":[165,29]}},"type":"Var","value":{"identifier":"vertices","sourcePos":[164,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[165,47],"start":[165,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[165,47],"start":[165,38]}},"type":"Var","value":{"identifier":"tolerance","sourcePos":[164,1]}},"type":"App"},"identifier":"welded"},{"annotation":{"meta":null,"sourceSpan":{"end":[166,66],"start":[166,7]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[166,37],"start":[166,25]}},"type":"Var","value":{"identifier":"remapIndices","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[166,45],"start":[166,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,45],"start":[166,38]}},"type":"Var","value":{"identifier":"indices","sourcePos":[164,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[166,66],"start":[166,25]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,66],"start":[166,46]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[166,52],"start":[166,46]}},"type":"Var","value":{"identifier":"welded","sourcePos":[165,7]}},"fieldName":"originalToNew","type":"Accessor"},"type":"App"},"identifier":"remappedIndices"},{"annotation":{"meta":null,"sourceSpan":{"end":[167,63],"start":[167,7]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[167,47],"start":[167,22]}},"type":"Var","value":{"identifier":"removeDegenerateTriangles","moduleName":["Lattice","Services","SVGExtrusion","Simplify"]}},"annotation":{"meta":null,"sourceSpan":{"end":[167,63],"start":[167,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[167,63],"start":[167,48]}},"type":"Var","value":{"identifier":"remappedIndices","sourcePos":[166,7]}},"type":"App"},"identifier":"cleanIndices"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[168,39],"start":[168,6]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[168,39],"start":[164,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[168,12],"start":[168,6]}},"type":"Var","value":{"identifier":"welded","sourcePos":[165,7]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[168,39],"start":[168,6]}},"copy":["positions","originalToNew"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[164,1]}},"type":"ObjectUpdate","updates":[["indices",{"annotation":{"meta":null,"sourceSpan":{"end":[168,37],"start":[168,25]}},"type":"Var","value":{"identifier":"cleanIndices","sourcePos":[167,7]}}]]},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"simplifyGeometry"}],"exports":["roundToTolerance","roundVertex","vertexKey","weldVertices","remapIndices","isDegenerateTriangle","removeDegenerateTriangles","simplifyGeometry","simplificationStats"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[178,30],"start":[12,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[178,30],"start":[12,1]}},"moduleName":["Data","Boolean"]},{"annotation":{"meta":null,"sourceSpan":{"end":[178,30],"start":[12,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[178,30],"start":[12,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[178,30],"start":[12,1]}},"moduleName":["Data","Foldable"]},{"annotation":{"meta":null,"sourceSpan":{"end":[178,30],"start":[12,1]}},"moduleName":["Data","Functor"]},{"annotation":{"meta":null,"sourceSpan":{"end":[178,30],"start":[12,1]}},"moduleName":["Data","HeytingAlgebra"]},{"annotation":{"meta":null,"sourceSpan":{"end":[178,30],"start":[12,1]}},"moduleName":["Data","Int"]},{"annotation":{"meta":null,"sourceSpan":{"end":[32,23],"start":[32,1]}},"moduleName":["Data","Map"]},{"annotation":{"meta":null,"sourceSpan":{"end":[178,30],"start":[12,1]}},"moduleName":["Data","Map","Internal"]},{"annotation":{"meta":null,"sourceSpan":{"end":[178,30],"start":[12,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[178,30],"start":[12,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[178,30],"start":[12,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[178,30],"start":[12,1]}},"moduleName":["Data","Semigroup"]},{"annotation":{"meta":null,"sourceSpan":{"end":[178,30],"start":[12,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[178,30],"start":[12,1]}},"moduleName":["Data","Show"]},{"annotation":{"meta":null,"sourceSpan":{"end":[178,30],"start":[12,1]}},"moduleName":["Data","Tuple"]},{"annotation":{"meta":null,"sourceSpan":{"end":[178,30],"start":[12,1]}},"moduleName":["Lattice","Services","SVGExtrusion","Simplify"]},{"annotation":{"meta":null,"sourceSpan":{"end":[26,15],"start":[26,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[178,30],"start":[12,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","SVGExtrusion","Simplify"],"modulePath":"src/Lattice/Services/SVGExtrusion/Simplify.purs","reExports":{},"sourceSpan":{"end":[178,30],"start":[12,1]}}