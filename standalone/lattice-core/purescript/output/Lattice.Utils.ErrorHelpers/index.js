// Generated by purs version 0.15.15
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Data_Show from "../Data.Show/index.js";
var show = /* #__PURE__ */ Data_Show.show(Data_Show.showNumber);
var mkValidationError = function (field) {
    return function (actualType) {
        return function (actualValue) {
            return function (expected) {
                return {
                    field: field,
                    actualType: actualType,
                    actualValue: actualValue,
                    expected: expected
                };
            };
        };
    };
};
var mkContextualError = function (context) {
    return function (action) {
        return function (reason) {
            return function (fix) {
                return {
                    context: context,
                    action: action,
                    reason: reason,
                    fix: fix
                };
            };
        };
    };
};
var outOfRangeError = function (field) {
    return function (value) {
        return function (minVal) {
            return function (maxVal) {
                return mkContextualError("Validation")("Field \"" + (field + "\" range check"))("value " + (show(value) + (" is outside allowed range [" + (show(minVal) + (", " + (show(maxVal) + "]"))))))(new Data_Maybe.Just("Provide a value between " + (show(minVal) + (" and " + (show(maxVal) + (" for " + field))))));
            };
        };
    };
};
var missingFieldError = function (field) {
    return mkContextualError("Validation")("Field \"" + (field + "\" check"))("value is missing or undefined")(new Data_Maybe.Just("Provide a value for required field " + field));
};
var invalidTypeError = function (field) {
    return function (expected) {
        return function (actual) {
            return mkContextualError("Validation")("Field \"" + (field + "\" type check"))("expected " + (expected + (", got " + actual)))(new Data_Maybe.Just("Provide a " + (expected + (" value for " + field))));
        };
    };
};
var formatContextualError = function (e) {
    var base = "[" + (e.context + ("] " + (e.action + (" failed: " + (e.reason + ".")))));
    if (e.fix instanceof Data_Maybe.Nothing) {
        return base;
    };
    if (e.fix instanceof Data_Maybe.Just) {
        return base + (" " + e.fix.value0);
    };
    throw new Error("Failed pattern match at Lattice.Utils.ErrorHelpers (line 66, column 6 - line 68, column 34): " + [ e.fix.constructor.name ]);
};
var formatValidationError = function (e) {
    var contextual = mkContextualError("Validation")("Field \"" + (e.field + "\" validation"))("got " + (e.actualType + (" (" + (e.actualValue + ("), expected " + e.expected)))))(new Data_Maybe.Just("Provide a valid " + (e.expected + (" value for " + e.field))));
    return formatContextualError(contextual);
};
var emptyCollectionError = function (field) {
    return mkContextualError("Validation")("Field \"" + (field + "\" check"))("collection is empty but at least one item is required")(new Data_Maybe.Just("Provide at least one item for " + field));
};
export {
    mkContextualError,
    mkValidationError,
    formatContextualError,
    formatValidationError,
    missingFieldError,
    invalidTypeError,
    outOfRangeError,
    emptyCollectionError
};
//# sourceMappingURL=index.js.map
