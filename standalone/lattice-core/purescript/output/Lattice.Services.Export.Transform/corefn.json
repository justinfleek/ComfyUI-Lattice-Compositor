{"builtWith":"0.15.15","comments":[{"LineComment":" | Lattice.Services.Export.Transform - Export data transformations"},{"LineComment":" |"},{"LineComment":" | Pure functions for transforming between export formats."},{"LineComment":" | Converts internal trajectory formats to workflow-compatible formats."},{"LineComment":" |"},{"LineComment":" | Source: ui/src/services/export/exportToWorkflowParams.ts"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[216,30],"start":[216,28]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[216,39],"start":[216,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqInt","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"eq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[218,50],"start":[218,48]}},"type":"Var","value":{"identifier":"append","moduleName":["Data","Semigroup"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[218,106],"start":[218,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semigroupString","moduleName":["Data","Semigroup"]}},"type":"App"},"identifier":"append"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[218,55],"start":[218,51]}},"type":"Var","value":{"identifier":"show","moduleName":["Data","Show"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[218,64],"start":[218,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"showInt","moduleName":["Data","Show"]}},"type":"App"},"identifier":"show"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[203,22],"start":[203,20]}},"type":"Var","value":{"identifier":"conj","moduleName":["Data","HeytingAlgebra"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[204,43],"start":[203,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"heytingAlgebraBoolean","moduleName":["Data","HeytingAlgebra"]}},"type":"App"},"identifier":"conj"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[203,15],"start":[203,13]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[204,43],"start":[203,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"greaterThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[203,27],"start":[203,25]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[204,43],"start":[203,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[123,21],"start":[123,18]}},"type":"Var","value":{"identifier":"map","moduleName":["Data","Functor"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[123,40],"start":[123,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"functorArray","moduleName":["Data","Functor"]}},"type":"App"},"identifier":"map"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[177,24],"start":[177,23]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[177,34],"start":[177,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[181,54],"start":[181,53]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[181,64],"start":[181,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[185,36],"start":[185,35]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[185,38],"start":[185,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[94,56],"start":[94,7]}},"type":"Var","value":{"identifier":"bind","moduleName":["Control","Bind"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[94,56],"start":[94,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bindEither","moduleName":["Data","Either"]}},"type":"App"},"identifier":"bind"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[95,11],"start":[95,7]}},"type":"Var","value":{"identifier":"pure","moduleName":["Control","Applicative"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[95,69],"start":[95,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"applicativeEither","moduleName":["Data","Either"]}},"type":"App"},"identifier":"pure"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[100,74],"start":[100,70]}},"type":"Var","value":{"identifier":"show","moduleName":["Data","Show"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[100,81],"start":[100,70]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"showModelTarget","moduleName":["Lattice","Services","Export","Types"]}},"type":"App"},"identifier":"show1"},{"annotation":{"meta":null,"sourceSpan":{"end":[214,82],"start":[214,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[214,82],"start":[214,1]}},"argument":"expected","body":{"annotation":{"meta":null,"sourceSpan":{"end":[214,82],"start":[214,1]}},"argument":"trajectory","body":{"annotation":{"meta":null,"sourceSpan":{"end":[218,107],"start":[216,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[218,107],"start":[216,3]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[217,13],"start":[217,8]}},"type":"Var","value":{"identifier":"Right","moduleName":["Data","Either"]}},"annotation":{"meta":null,"sourceSpan":{"end":[217,24],"start":[217,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[217,24],"start":[217,14]}},"type":"Var","value":{"identifier":"trajectory","sourcePos":[215,1]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[218,107],"start":[216,3]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[218,12],"start":[218,8]}},"type":"Var","value":{"identifier":"Left","moduleName":["Data","Either"]}},"annotation":{"meta":null,"sourceSpan":{"end":[218,107],"start":[218,8]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[218,106],"start":[218,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[218,47],"start":[218,14]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"Frame count mismatch: expected "}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[218,106],"start":[218,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[218,106],"start":[218,14]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[218,64],"start":[218,51]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[218,64],"start":[218,56]}},"type":"Var","value":{"identifier":"expected","sourcePos":[215,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[218,106],"start":[218,14]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[218,106],"start":[218,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[218,76],"start":[218,68]}},"type":"Literal","value":{"literalType":"StringLiteral","value":", got "}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[218,106],"start":[218,14]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[218,106],"start":[218,80]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[218,106],"start":[218,85]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[218,95],"start":[218,85]}},"type":"Var","value":{"identifier":"trajectory","sourcePos":[215,1]}},"fieldName":"frameCount","type":"Accessor"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[216,39],"start":[216,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[216,27],"start":[216,6]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[216,16],"start":[216,6]}},"type":"Var","value":{"identifier":"trajectory","sourcePos":[215,1]}},"fieldName":"frameCount","type":"Accessor"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[216,39],"start":[216,6]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[216,39],"start":[216,31]}},"type":"Var","value":{"identifier":"expected","sourcePos":[215,1]}},"type":"App"}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"validateFrameCount"},{"annotation":{"meta":null,"sourceSpan":{"end":[188,26],"start":[188,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[189,24],"start":[189,12]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"identifier":"toNumber"},{"annotation":{"meta":null,"sourceSpan":{"end":[196,95],"start":[196,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[196,95],"start":[196,1]}},"argument":"width","body":{"annotation":{"meta":null,"sourceSpan":{"end":[196,95],"start":[196,1]}},"argument":"height","body":{"annotation":{"meta":null,"sourceSpan":{"end":[196,95],"start":[196,1]}},"argument":"trajectory","body":{"annotation":{"meta":null,"sourceSpan":{"end":[211,58],"start":[198,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[199,42],"start":[199,5]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[199,42],"start":[199,5]}},"argument":"arr","body":{"annotation":{"meta":null,"sourceSpan":{"end":[205,22],"start":[201,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[196,95],"start":[196,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[201,42],"start":[201,31]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[201,46],"start":[201,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,46],"start":[201,43]}},"type":"Var","value":{"identifier":"arr","sourcePos":[200,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[201,48],"start":[201,31]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,48],"start":[201,47]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"identifier":"v"},{"annotation":{"meta":null,"sourceSpan":{"end":[196,95],"start":[196,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[201,23],"start":[201,12]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[201,27],"start":[201,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,27],"start":[201,24]}},"type":"Var","value":{"identifier":"arr","sourcePos":[200,5]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[201,29],"start":[201,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[201,29],"start":[201,28]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[205,22],"start":[201,7]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[202,15],"start":[202,9]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[202,15],"start":[202,14]}},"binderType":"VarBinder","identifier":"x"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[202,23],"start":[202,17]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[202,23],"start":[202,22]}},"binderType":"VarBinder","identifier":"y"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[204,43],"start":[203,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[204,43],"start":[203,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[203,12],"start":[203,11]}},"type":"Var","value":{"identifier":"x","sourcePos":[202,14]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[204,43],"start":[203,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[203,19],"start":[203,16]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[204,43],"start":[203,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[204,43],"start":[203,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[204,43],"start":[203,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[203,24],"start":[203,23]}},"type":"Var","value":{"identifier":"x","sourcePos":[202,14]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[204,43],"start":[203,11]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[203,36],"start":[203,28]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[203,42],"start":[203,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[203,42],"start":[203,37]}},"type":"Var","value":{"identifier":"width","sourcePos":[197,1]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[204,43],"start":[203,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"conj","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[204,43],"start":[203,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"greaterThanOrEq","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[204,43],"start":[203,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[204,12],"start":[204,11]}},"type":"Var","value":{"identifier":"y","sourcePos":[202,22]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[204,43],"start":[203,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[204,19],"start":[204,16]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[204,43],"start":[203,11]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[204,43],"start":[203,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[204,24],"start":[204,23]}},"type":"Var","value":{"identifier":"y","sourcePos":[202,22]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[204,43],"start":[203,11]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[204,36],"start":[204,28]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[204,43],"start":[204,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[204,43],"start":[204,37]}},"type":"Var","value":{"identifier":"height","sourcePos":[197,1]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[205,10],"start":[205,9]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[205,13],"start":[205,12]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[205,22],"start":[205,17]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[196,95],"start":[196,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[196,95],"start":[196,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"identifier":"isInBounds"},{"annotation":{"meta":null,"sourceSpan":{"end":[207,69],"start":[207,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[207,28],"start":[207,19]}},"type":"Var","value":{"identifier":"all","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[207,51],"start":[207,19]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[207,39],"start":[207,30]}},"type":"Var","value":{"identifier":"all","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[207,50],"start":[207,30]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[207,50],"start":[207,40]}},"type":"Var","value":{"identifier":"isInBounds","sourcePos":[199,5]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[207,69],"start":[207,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[207,69],"start":[207,52]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[207,62],"start":[207,52]}},"type":"Var","value":{"identifier":"trajectory","sourcePos":[197,1]}},"fieldName":"tracks","type":"Accessor"},"type":"App"},"identifier":"allInBounds"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[211,58],"start":[209,5]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[211,58],"start":[209,5]}},"binderType":"LiteralBinder","literal":{"literalType":"BooleanLiteral","value":true}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[210,15],"start":[210,10]}},"type":"Var","value":{"identifier":"Right","moduleName":["Data","Either"]}},"annotation":{"meta":null,"sourceSpan":{"end":[210,26],"start":[210,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[210,26],"start":[210,16]}},"type":"Var","value":{"identifier":"trajectory","sourcePos":[197,1]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[211,58],"start":[209,5]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[211,14],"start":[211,10]}},"type":"Var","value":{"identifier":"Left","moduleName":["Data","Either"]}},"annotation":{"meta":null,"sourceSpan":{"end":[211,58],"start":[211,10]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[211,58],"start":[211,15]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"Trajectory contains points outside bounds"}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[209,19],"start":[209,8]}},"type":"Var","value":{"identifier":"allInBounds","sourcePos":[207,5]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"validateTrajectoryBounds"},{"annotation":{"meta":null,"sourceSpan":{"end":[126,43],"start":[126,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[126,43],"start":[126,1]}},"argument":"p","body":{"annotation":{"meta":null,"sourceSpan":{"end":[127,28],"start":[127,18]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"annotation":{"meta":null,"sourceSpan":{"end":[127,22],"start":[127,19]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[127,20],"start":[127,19]}},"type":"Var","value":{"identifier":"p","sourcePos":[127,1]}},"fieldName":"x","type":"Accessor"},{"annotation":{"meta":null,"sourceSpan":{"end":[127,27],"start":[127,24]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[127,25],"start":[127,24]}},"type":"Var","value":{"identifier":"p","sourcePos":[127,1]}},"fieldName":"y","type":"Accessor"}]}},"type":"Abs"},"identifier":"pointToArray"},{"annotation":{"meta":null,"sourceSpan":{"end":[122,75],"start":[122,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[123,40],"start":[123,18]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[123,39],"start":[123,23]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[123,39],"start":[123,27]}},"type":"Var","value":{"identifier":"pointToArray","moduleName":["Lattice","Services","Export","Transform"]}},"type":"App"},"type":"App"},"identifier":"pointsToTracks"},{"annotation":{"meta":null,"sourceSpan":{"end":[174,48],"start":[174,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[174,48],"start":[174,1]}},"argument":"dimension","body":{"annotation":{"meta":null,"sourceSpan":{"end":[174,48],"start":[174,1]}},"argument":"pixel","body":{"annotation":{"meta":null,"sourceSpan":{"end":[174,48],"start":[174,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[175,28],"start":[175,19]}},"binderType":"VarBinder","identifier":"dimension1"},{"annotation":{"meta":null,"sourceSpan":{"end":[175,34],"start":[175,29]}},"binderType":"VarBinder","identifier":"pixel1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[176,27],"start":[176,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[176,21],"start":[176,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[176,14],"start":[176,5]}},"type":"Var","value":{"identifier":"dimension1","sourcePos":[175,19]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[176,21],"start":[176,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[176,21],"start":[176,18]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}},{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[177,34],"start":[177,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[177,22],"start":[177,17]}},"type":"Var","value":{"identifier":"pixel1","sourcePos":[175,29]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[177,34],"start":[177,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[177,34],"start":[177,25]}},"type":"Var","value":{"identifier":"dimension1","sourcePos":[175,19]}},"type":"App"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[177,14],"start":[177,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[177,34],"start":[175,1]}},"type":"Var","value":{"identifier":"dimension","sourcePos":[175,19]}},{"annotation":{"meta":null,"sourceSpan":{"end":[177,34],"start":[175,1]}},"type":"Var","value":{"identifier":"pixel","sourcePos":[175,29]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"pixelToNormalized"},{"annotation":{"meta":null,"sourceSpan":{"end":[180,48],"start":[180,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[180,48],"start":[180,1]}},"argument":"dimension","body":{"annotation":{"meta":null,"sourceSpan":{"end":[180,48],"start":[180,1]}},"argument":"normalized","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[181,64],"start":[181,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,52],"start":[181,42]}},"type":"Var","value":{"identifier":"normalized","sourcePos":[181,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[181,64],"start":[181,42]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[181,64],"start":[181,55]}},"type":"Var","value":{"identifier":"dimension","sourcePos":[181,1]}},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"normalizedToPixel"},{"annotation":{"meta":null,"sourceSpan":{"end":[142,61],"start":[142,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[142,61],"start":[142,1]}},"argument":"width","body":{"annotation":{"meta":null,"sourceSpan":{"end":[142,61],"start":[142,1]}},"argument":"height","body":{"annotation":{"meta":null,"sourceSpan":{"end":[142,61],"start":[142,1]}},"argument":"arr","body":{"annotation":{"meta":null,"sourceSpan":{"end":[149,16],"start":[144,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[142,61],"start":[142,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[144,38],"start":[144,27]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[144,42],"start":[144,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[144,42],"start":[144,39]}},"type":"Var","value":{"identifier":"arr","sourcePos":[143,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[144,44],"start":[144,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[144,44],"start":[144,43]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"identifier":"v"},{"annotation":{"meta":null,"sourceSpan":{"end":[142,61],"start":[142,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[144,19],"start":[144,8]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[144,23],"start":[144,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[144,23],"start":[144,20]}},"type":"Var","value":{"identifier":"arr","sourcePos":[143,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[144,25],"start":[144,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[144,25],"start":[144,24]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[149,16],"start":[144,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[145,11],"start":[145,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[145,11],"start":[145,10]}},"binderType":"VarBinder","identifier":"x"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[145,19],"start":[145,13]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[145,19],"start":[145,18]}},"binderType":"VarBinder","identifier":"y"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[148,8],"start":[146,7]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[146,26],"start":[146,9]}},"type":"Var","value":{"identifier":"pixelToNormalized","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[146,43],"start":[146,9]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[146,36],"start":[146,28]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[146,42],"start":[146,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[146,42],"start":[146,37]}},"type":"Var","value":{"identifier":"width","sourcePos":[143,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[146,45],"start":[146,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[146,45],"start":[146,44]}},"type":"Var","value":{"identifier":"x","sourcePos":[145,10]}},"type":"App"},{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[147,26],"start":[147,9]}},"type":"Var","value":{"identifier":"pixelToNormalized","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,44],"start":[147,9]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[147,36],"start":[147,28]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[147,43],"start":[147,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,43],"start":[147,37]}},"type":"Var","value":{"identifier":"height","sourcePos":[143,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[147,46],"start":[147,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[147,46],"start":[147,45]}},"type":"Var","value":{"identifier":"y","sourcePos":[145,18]}},"type":"App"}]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[149,6],"start":[149,5]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[149,9],"start":[149,8]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[149,16],"start":[149,13]}},"type":"Var","value":{"identifier":"arr","sourcePos":[143,1]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[142,61],"start":[142,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[142,61],"start":[142,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"normalizePoint"},{"annotation":{"meta":null,"sourceSpan":{"end":[134,76],"start":[134,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[134,76],"start":[134,1]}},"argument":"width","body":{"annotation":{"meta":null,"sourceSpan":{"end":[134,76],"start":[134,1]}},"argument":"height","body":{"annotation":{"meta":null,"sourceSpan":{"end":[134,76],"start":[134,1]}},"argument":"trajectory","body":{"annotation":{"meta":null,"sourceSpan":{"end":[139,45],"start":[136,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[137,81],"start":[137,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[137,63],"start":[137,24]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[137,62],"start":[137,29]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[137,48],"start":[137,34]}},"type":"Var","value":{"identifier":"normalizePoint","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[137,54],"start":[137,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[137,54],"start":[137,49]}},"type":"Var","value":{"identifier":"width","sourcePos":[135,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[137,61],"start":[137,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[137,61],"start":[137,55]}},"type":"Var","value":{"identifier":"height","sourcePos":[135,1]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[137,81],"start":[137,24]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[137,81],"start":[137,64]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[137,74],"start":[137,64]}},"type":"Var","value":{"identifier":"trajectory","sourcePos":[135,1]}},"fieldName":"tracks","type":"Accessor"},"type":"App"},"identifier":"normalizedTracks"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[139,45],"start":[139,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[139,45],"start":[135,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[139,15],"start":[139,5]}},"type":"Var","value":{"identifier":"trajectory","sourcePos":[135,1]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[139,45],"start":[139,5]}},"copy":["width","height","frameCount"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[135,1]}},"type":"ObjectUpdate","updates":[["tracks",{"annotation":{"meta":null,"sourceSpan":{"end":[139,43],"start":[139,27]}},"type":"Var","value":{"identifier":"normalizedTracks","sourcePos":[137,5]}}]]},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"normalizeTrajectory"},{"annotation":{"meta":null,"sourceSpan":{"end":[184,46],"start":[184,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[184,46],"start":[184,1]}},"argument":"height","body":{"annotation":{"meta":null,"sourceSpan":{"end":[184,46],"start":[184,1]}},"argument":"y","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[185,38],"start":[185,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[185,34],"start":[185,28]}},"type":"Var","value":{"identifier":"height","sourcePos":[185,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[185,38],"start":[185,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[185,38],"start":[185,37]}},"type":"Var","value":{"identifier":"y","sourcePos":[185,1]}},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"flipYCoordinate"},{"annotation":{"meta":null,"sourceSpan":{"end":[160,63],"start":[160,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[160,63],"start":[160,1]}},"argument":"width","body":{"annotation":{"meta":null,"sourceSpan":{"end":[160,63],"start":[160,1]}},"argument":"height","body":{"annotation":{"meta":null,"sourceSpan":{"end":[160,63],"start":[160,1]}},"argument":"arr","body":{"annotation":{"meta":null,"sourceSpan":{"end":[167,16],"start":[162,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[160,63],"start":[160,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[162,38],"start":[162,27]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[162,42],"start":[162,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,42],"start":[162,39]}},"type":"Var","value":{"identifier":"arr","sourcePos":[161,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[162,44],"start":[162,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,44],"start":[162,43]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"identifier":"v"},{"annotation":{"meta":null,"sourceSpan":{"end":[160,63],"start":[160,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[162,19],"start":[162,8]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[162,23],"start":[162,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,23],"start":[162,20]}},"type":"Var","value":{"identifier":"arr","sourcePos":[161,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[162,25],"start":[162,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,25],"start":[162,24]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[167,16],"start":[162,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[163,11],"start":[163,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[163,11],"start":[163,10]}},"binderType":"VarBinder","identifier":"x"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[163,19],"start":[163,13]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[163,19],"start":[163,18]}},"binderType":"VarBinder","identifier":"y"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[166,8],"start":[164,7]}},"type":"Literal","value":{"literalType":"ArrayLiteral","value":[{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[164,26],"start":[164,9]}},"type":"Var","value":{"identifier":"normalizedToPixel","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[164,43],"start":[164,9]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[164,36],"start":[164,28]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[164,42],"start":[164,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,42],"start":[164,37]}},"type":"Var","value":{"identifier":"width","sourcePos":[161,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[164,45],"start":[164,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[164,45],"start":[164,44]}},"type":"Var","value":{"identifier":"x","sourcePos":[163,10]}},"type":"App"},{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[165,26],"start":[165,9]}},"type":"Var","value":{"identifier":"normalizedToPixel","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[165,44],"start":[165,9]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[165,36],"start":[165,28]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[165,43],"start":[165,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[165,43],"start":[165,37]}},"type":"Var","value":{"identifier":"height","sourcePos":[161,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[165,46],"start":[165,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[165,46],"start":[165,45]}},"type":"Var","value":{"identifier":"y","sourcePos":[163,18]}},"type":"App"}]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[167,6],"start":[167,5]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[167,9],"start":[167,8]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[167,16],"start":[167,13]}},"type":"Var","value":{"identifier":"arr","sourcePos":[161,1]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[160,63],"start":[160,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[160,63],"start":[160,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"denormalizePoint"},{"annotation":{"meta":null,"sourceSpan":{"end":[152,78],"start":[152,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[152,78],"start":[152,1]}},"argument":"width","body":{"annotation":{"meta":null,"sourceSpan":{"end":[152,78],"start":[152,1]}},"argument":"height","body":{"annotation":{"meta":null,"sourceSpan":{"end":[152,78],"start":[152,1]}},"argument":"trajectory","body":{"annotation":{"meta":null,"sourceSpan":{"end":[157,47],"start":[154,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[155,85],"start":[155,5]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,67],"start":[155,26]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,66],"start":[155,31]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[155,52],"start":[155,36]}},"type":"Var","value":{"identifier":"denormalizePoint","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[155,58],"start":[155,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,58],"start":[155,53]}},"type":"Var","value":{"identifier":"width","sourcePos":[153,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[155,65],"start":[155,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,65],"start":[155,59]}},"type":"Var","value":{"identifier":"height","sourcePos":[153,1]}},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[155,85],"start":[155,26]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[155,85],"start":[155,68]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[155,78],"start":[155,68]}},"type":"Var","value":{"identifier":"trajectory","sourcePos":[153,1]}},"fieldName":"tracks","type":"Accessor"},"type":"App"},"identifier":"denormalizedTracks"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[157,47],"start":[157,5]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[157,47],"start":[153,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[157,15],"start":[157,5]}},"type":"Var","value":{"identifier":"trajectory","sourcePos":[153,1]}},"identifier":"v"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[157,47],"start":[157,5]}},"copy":["width","height","frameCount"],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"v","sourcePos":[153,1]}},"type":"ObjectUpdate","updates":[["tracks",{"annotation":{"meta":null,"sourceSpan":{"end":[157,45],"start":[157,27]}},"type":"Var","value":{"identifier":"denormalizedTracks","sourcePos":[155,5]}}]]},"type":"Let"},"type":"Let"},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"denormalizeTrajectory"},{"annotation":{"meta":null,"sourceSpan":{"end":[111,43],"start":[111,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[111,43],"start":[111,1]}},"argument":"arr","body":{"annotation":{"meta":null,"sourceSpan":{"end":[115,31],"start":[113,3]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[111,43],"start":[111,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[113,38],"start":[113,27]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[113,42],"start":[113,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[113,42],"start":[113,39]}},"type":"Var","value":{"identifier":"arr","sourcePos":[112,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[113,44],"start":[113,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[113,44],"start":[113,43]}},"type":"Literal","value":{"literalType":"IntLiteral","value":1}},"type":"App"},"identifier":"v"},{"annotation":{"meta":null,"sourceSpan":{"end":[111,43],"start":[111,1]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[113,19],"start":[113,8]}},"type":"Var","value":{"identifier":"index","moduleName":["Data","Array"]}},"annotation":{"meta":null,"sourceSpan":{"end":[113,23],"start":[113,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[113,23],"start":[113,20]}},"type":"Var","value":{"identifier":"arr","sourcePos":[112,1]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[113,25],"start":[113,8]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[113,25],"start":[113,24]}},"type":"Literal","value":{"literalType":"IntLiteral","value":0}},"type":"App"},"identifier":"v1"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[115,31],"start":[113,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[114,11],"start":[114,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[114,11],"start":[114,10]}},"binderType":"VarBinder","identifier":"x"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[114,19],"start":[114,13]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[114,19],"start":[114,18]}},"binderType":"VarBinder","identifier":"y"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[114,31],"start":[114,23]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[114,26],"start":[114,25]}},"type":"Var","value":{"identifier":"x","sourcePos":[114,10]}}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[114,29],"start":[114,28]}},"type":"Var","value":{"identifier":"y","sourcePos":[114,18]}}]]}},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[115,6],"start":[115,5]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[115,9],"start":[115,8]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[115,31],"start":[115,13]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["x",{"annotation":{"meta":null,"sourceSpan":{"end":[115,21],"start":[115,18]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}],["y",{"annotation":{"meta":null,"sourceSpan":{"end":[115,29],"start":[115,26]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}}]]}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[111,43],"start":[111,1]}},"type":"Var","value":{"identifier":"v1","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[111,43],"start":[111,1]}},"type":"Var","value":{"identifier":"v","sourcePos":[0,0]}}],"type":"Case"},"type":"Let"},"type":"Abs"},"identifier":"arrayToPoint"},{"annotation":{"meta":null,"sourceSpan":{"end":[107,58],"start":[107,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[108,33],"start":[108,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[108,33],"start":[108,21]}},"type":"Var","value":{"identifier":"arrayToPoint","moduleName":["Lattice","Services","Export","Transform"]}},"type":"App"},"identifier":"trackToPoints"},{"annotation":{"meta":null,"sourceSpan":{"end":[118,75],"start":[118,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[119,35],"start":[119,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[119,35],"start":[119,22]}},"type":"Var","value":{"identifier":"trackToPoints","moduleName":["Lattice","Services","Export","Transform"]}},"type":"App"},"identifier":"tracksToPoints"},{"annotation":{"meta":null,"sourceSpan":{"end":[76,79],"start":[76,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[76,79],"start":[76,1]}},"argument":"result","body":{"annotation":{"meta":null,"sourceSpan":{"end":[84,54],"start":[78,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[79,12],"start":[79,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[79,20],"start":[79,16]}},"type":"Var","value":{"identifier":"Left","moduleName":["Data","Either"]}},"annotation":{"meta":null,"sourceSpan":{"end":[79,65],"start":[79,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[79,65],"start":[79,21]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"Cannot transform: no data in export result"}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[80,20],"start":[80,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[80,20],"start":[80,10]}},"binderType":"VarBinder","identifier":"trajectory"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[84,54],"start":[81,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[82,68],"start":[82,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[82,50],"start":[82,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[82,50],"start":[82,37]}},"type":"Var","value":{"identifier":"trackToPoints","moduleName":["Lattice","Services","Export","Transform"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[82,68],"start":[82,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[82,68],"start":[82,51]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[82,61],"start":[82,51]}},"type":"Var","value":{"identifier":"trajectory","sourcePos":[80,10]}},"fieldName":"tracks","type":"Accessor"},"type":"App"},"identifier":"formattedTrajectories"}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[84,14],"start":[84,9]}},"type":"Var","value":{"identifier":"Right","moduleName":["Data","Either"]}},"annotation":{"meta":null,"sourceSpan":{"end":[84,54],"start":[84,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[84,54],"start":[84,15]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["trajectories",{"annotation":{"meta":null,"sourceSpan":{"end":[84,52],"start":[84,31]}},"type":"Var","value":{"identifier":"formattedTrajectories","sourcePos":[82,9]}}]]}},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[78,19],"start":[78,8]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[78,14],"start":[78,8]}},"type":"Var","value":{"identifier":"result","sourcePos":[77,1]}},"fieldName":"data","type":"Accessor"}],"type":"Case"},"type":"Abs"},"identifier":"transformATIToMotionData"},{"annotation":{"meta":null,"sourceSpan":{"end":[64,87],"start":[64,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[64,87],"start":[64,1]}},"argument":"result","body":{"annotation":{"meta":null,"sourceSpan":{"end":[72,42],"start":[66,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[67,12],"start":[67,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Nothing","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[67,20],"start":[67,16]}},"type":"Var","value":{"identifier":"Left","moduleName":["Data","Either"]}},"annotation":{"meta":null,"sourceSpan":{"end":[67,65],"start":[67,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[67,65],"start":[67,21]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"Cannot transform: no data in export result"}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[68,20],"start":[68,5]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[68,20],"start":[68,10]}},"binderType":"VarBinder","identifier":"trajectory"}],"constructorName":{"identifier":"Just","moduleName":["Data","Maybe"]},"typeName":{"identifier":"Maybe","moduleName":["Data","Maybe"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[72,42],"start":[69,7]}},"binds":[{"annotation":{"meta":null,"sourceSpan":{"end":[70,62],"start":[70,9]}},"bindType":"NonRec","expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"map","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[70,44],"start":[70,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[70,44],"start":[70,31]}},"type":"Var","value":{"identifier":"trackToPoints","moduleName":["Lattice","Services","Export","Transform"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[70,62],"start":[70,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[70,62],"start":[70,45]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[70,55],"start":[70,45]}},"type":"Var","value":{"identifier":"trajectory","sourcePos":[68,10]}},"fieldName":"tracks","type":"Accessor"},"type":"App"},"identifier":"formattedTracks"}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[72,14],"start":[72,9]}},"type":"Var","value":{"identifier":"Right","moduleName":["Data","Either"]}},"annotation":{"meta":null,"sourceSpan":{"end":[72,42],"start":[72,9]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[72,42],"start":[72,15]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["tracks",{"annotation":{"meta":null,"sourceSpan":{"end":[72,40],"start":[72,25]}},"type":"Var","value":{"identifier":"formattedTracks","sourcePos":[70,9]}}]]}},"type":"App"},"type":"Let"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[66,19],"start":[66,8]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[66,14],"start":[66,8]}},"type":"Var","value":{"identifier":"result","sourcePos":[65,1]}},"fieldName":"data","type":"Accessor"}],"type":"Case"},"type":"Abs"},"identifier":"transformWanMoveToMotionData"},{"annotation":{"meta":null,"sourceSpan":{"end":[90,116],"start":[87,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[90,116],"start":[87,1]}},"argument":"target","body":{"annotation":{"meta":null,"sourceSpan":{"end":[90,116],"start":[87,1]}},"argument":"result","body":{"annotation":{"meta":null,"sourceSpan":{"end":[100,82],"start":[92,3]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[93,18],"start":[93,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"TargetWanMove","moduleName":["Lattice","Services","Export","Types"]},"typeName":{"identifier":"ModelTarget","moduleName":["Lattice","Services","Export","Types"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[94,56],"start":[94,7]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[94,49],"start":[94,21]}},"type":"Var","value":{"identifier":"transformWanMoveToMotionData","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[94,56],"start":[94,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,56],"start":[94,50]}},"type":"Var","value":{"identifier":"result","sourcePos":[91,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[94,56],"start":[94,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[94,56],"start":[94,7]}},"argument":"motionData","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[95,69],"start":[95,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[95,69],"start":[95,12]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["tracks",{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[95,26],"start":[95,22]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[95,44],"start":[95,22]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[95,44],"start":[95,27]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[95,37],"start":[95,27]}},"type":"Var","value":{"identifier":"motionData","sourcePos":[94,7]}},"fieldName":"tracks","type":"Accessor"},"type":"App"}],["trajectories",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[95,67],"start":[95,60]}},"type":"Var","value":{"identifier":"Nothing","moduleName":["Data","Maybe"]}}]]}},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[96,14],"start":[96,5]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"TargetATI","moduleName":["Lattice","Services","Export","Types"]},"typeName":{"identifier":"ModelTarget","moduleName":["Lattice","Services","Export","Types"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"bind","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[97,52],"start":[97,7]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[97,45],"start":[97,21]}},"type":"Var","value":{"identifier":"transformATIToMotionData","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[97,52],"start":[97,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[97,52],"start":[97,46]}},"type":"Var","value":{"identifier":"result","sourcePos":[91,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[97,52],"start":[97,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[97,52],"start":[97,7]}},"argument":"motionData","body":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"pure","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[98,75],"start":[98,7]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[98,75],"start":[98,12]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["tracks",{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[98,29],"start":[98,22]}},"type":"Var","value":{"identifier":"Nothing","moduleName":["Data","Maybe"]}}],["trajectories",{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[98,49],"start":[98,45]}},"type":"Var","value":{"identifier":"Just","moduleName":["Data","Maybe"]}},"annotation":{"meta":null,"sourceSpan":{"end":[98,73],"start":[98,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[98,73],"start":[98,50]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[98,60],"start":[98,50]}},"type":"Var","value":{"identifier":"motionData","sourcePos":[97,7]}},"fieldName":"trajectories","type":"Accessor"},"type":"App"}]]}},"type":"App"},"type":"Abs"},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[99,6],"start":[99,5]}},"binderType":"NullBinder"}],"expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[100,11],"start":[100,7]}},"type":"Var","value":{"identifier":"Left","moduleName":["Data","Either"]}},"annotation":{"meta":null,"sourceSpan":{"end":[100,82],"start":[100,7]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"append","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[100,81],"start":[100,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[100,66],"start":[100,13]}},"type":"Literal","value":{"literalType":"StringLiteral","value":"Unsupported target for motion data transformation: "}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[100,81],"start":[100,13]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"show1","moduleName":["Lattice","Services","Export","Transform"]}},"annotation":{"meta":null,"sourceSpan":{"end":[100,81],"start":[100,70]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[100,81],"start":[100,75]}},"type":"Var","value":{"identifier":"target","sourcePos":[91,1]}},"type":"App"},"type":"App"},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[92,14],"start":[92,8]}},"type":"Var","value":{"identifier":"target","sourcePos":[91,1]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"transformExportToMotionData"}],"exports":["transformWanMoveToMotionData","transformATIToMotionData","transformExportToMotionData","tracksToPoints","pointsToTracks","normalizeTrajectory","denormalizeTrajectory","pixelToNormalized","normalizedToPixel","flipYCoordinate","validateTrajectoryBounds","validateFrameCount"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[218,107],"start":[8,1]}},"moduleName":["Control","Applicative"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,107],"start":[8,1]}},"moduleName":["Control","Bind"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,107],"start":[8,1]}},"moduleName":["Data","Array"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,107],"start":[8,1]}},"moduleName":["Data","Boolean"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,107],"start":[8,1]}},"moduleName":["Data","Either"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,107],"start":[8,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,107],"start":[8,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,107],"start":[8,1]}},"moduleName":["Data","Functor"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,107],"start":[8,1]}},"moduleName":["Data","HeytingAlgebra"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,107],"start":[8,1]}},"moduleName":["Data","Int"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,107],"start":[8,1]}},"moduleName":["Data","Maybe"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,107],"start":[8,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,107],"start":[8,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,107],"start":[8,1]}},"moduleName":["Data","Semigroup"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,107],"start":[8,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,107],"start":[8,1]}},"moduleName":["Data","Show"]},{"annotation":{"meta":null,"sourceSpan":{"end":[32,35],"start":[32,1]}},"moduleName":["Data","Traversable"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,107],"start":[8,1]}},"moduleName":["Lattice","Services","Export","Transform"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,107],"start":[8,1]}},"moduleName":["Lattice","Services","Export","Types"]},{"annotation":{"meta":null,"sourceSpan":{"end":[27,15],"start":[27,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[218,107],"start":[8,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","Export","Transform"],"modulePath":"src/Lattice/Services/Export/Transform.purs","reExports":{},"sourceSpan":{"end":[218,107],"start":[8,1]}}