{"builtWith":"0.15.15","comments":[{"LineComment":" | Lattice.Services.ColorSpace.TransferFunctions - Gamma/Transfer Functions"},{"LineComment":" |"},{"LineComment":" | Pure transfer functions for color space conversions:"},{"LineComment":" | - sRGB gamma encoding/decoding"},{"LineComment":" | - Simple power-law gamma"},{"LineComment":" | - Linearization and gamma application"},{"LineComment":" |"},{"LineComment":" | Source: ui/src/services/colorManagement/ColorProfileService.ts"}],"decls":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[89,13],"start":[89,11]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Data","Ord"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[89,33],"start":[89,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ordNumber","moduleName":["Data","Ord"]}},"type":"App"},"identifier":"lessThanOrEq"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[89,43],"start":[89,42]}},"type":"Var","value":{"identifier":"div","moduleName":["Data","EuclideanRing"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[89,59],"start":[89,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"euclideanRingNumber","moduleName":["Data","EuclideanRing"]}},"type":"App"},"identifier":"div"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[90,35],"start":[90,34]}},"type":"Var","value":{"identifier":"add","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[90,46],"start":[90,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"add"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[97,43],"start":[97,42]}},"type":"Var","value":{"identifier":"mul","moduleName":["Data","Semiring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[97,59],"start":[97,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"semiringNumber","moduleName":["Data","Semiring"]}},"type":"App"},"identifier":"mul"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[98,63],"start":[98,62]}},"type":"Var","value":{"identifier":"sub","moduleName":["Data","Ring"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[98,74],"start":[98,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"ringNumber","moduleName":["Data","Ring"]}},"type":"App"},"identifier":"sub"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[115,13],"start":[115,11]}},"type":"Var","value":{"identifier":"eq","moduleName":["Data","Eq"]}},"annotation":{"meta":{"metaType":"IsSyntheticApp"},"sourceSpan":{"end":[115,17],"start":[115,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eqNumber","moduleName":["Data","Eq"]}},"type":"App"},"identifier":"eq"},{"annotation":{"meta":null,"sourceSpan":{"end":[47,17],"start":[44,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[47,17],"start":[44,1]}},"constructorName":"Linear","fieldNames":[],"type":"Constructor","typeName":"GammaType"},"identifier":"Linear"},{"annotation":{"meta":null,"sourceSpan":{"end":[47,17],"start":[44,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[47,17],"start":[44,1]}},"constructorName":"SRGB","fieldNames":[],"type":"Constructor","typeName":"GammaType"},"identifier":"SRGB"},{"annotation":{"meta":null,"sourceSpan":{"end":[47,17],"start":[44,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[47,17],"start":[44,1]}},"constructorName":"Power","fieldNames":["value0"],"type":"Constructor","typeName":"GammaType"},"identifier":"Power"},{"annotation":{"meta":null,"sourceSpan":{"end":[76,20],"start":[76,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[77,18],"start":[77,13]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.055}},"identifier":"srgbScale"},{"annotation":{"meta":null,"sourceSpan":{"end":[72,21],"start":[72,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[73,19],"start":[73,14]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":5.5e-2}},"identifier":"srgbOffset"},{"annotation":{"meta":null,"sourceSpan":{"end":[56,30],"start":[56,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[57,32],"start":[57,23]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":3.1308e-3}},"identifier":"srgbLinearThreshold"},{"annotation":{"meta":null,"sourceSpan":{"end":[64,26],"start":[64,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[65,24],"start":[65,19]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":12.92}},"identifier":"srgbLinearScale"},{"annotation":{"meta":null,"sourceSpan":{"end":[68,20],"start":[68,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[69,16],"start":[69,13]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2.4}},"identifier":"srgbGamma"},{"annotation":{"meta":null,"sourceSpan":{"end":[60,30],"start":[60,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[61,30],"start":[61,23]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":4.045e-2}},"identifier":"srgbDecodeThreshold"},{"annotation":{"meta":null,"sourceSpan":{"end":[87,33],"start":[87,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[87,33],"start":[87,1]}},"argument":"value","body":{"annotation":{"meta":null,"sourceSpan":{"end":[87,33],"start":[87,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[88,19],"start":[88,14]}},"binderType":"VarBinder","identifier":"value1"}],"expressions":[{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[89,59],"start":[89,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[89,41],"start":[89,36]}},"type":"Var","value":{"identifier":"value1","sourcePos":[88,14]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[89,59],"start":[89,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[89,59],"start":[89,44]}},"type":"Var","value":{"identifier":"srgbLinearScale","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"type":"App"},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[89,33],"start":[89,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[89,10],"start":[89,5]}},"type":"Var","value":{"identifier":"value1","sourcePos":[88,14]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[89,33],"start":[89,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[89,33],"start":[89,14]}},"type":"Var","value":{"identifier":"srgbDecodeThreshold","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"type":"App"}},{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[90,25],"start":[90,17]}},"type":"Var","value":{"identifier":"pow","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[90,60],"start":[90,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[90,59],"start":[90,27]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"add","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[90,46],"start":[90,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[90,33],"start":[90,28]}},"type":"Var","value":{"identifier":"value1","sourcePos":[88,14]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[90,46],"start":[90,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[90,46],"start":[90,36]}},"type":"Var","value":{"identifier":"srgbOffset","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[90,59],"start":[90,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[90,59],"start":[90,50]}},"type":"Var","value":{"identifier":"srgbScale","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[90,70],"start":[90,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[90,70],"start":[90,61]}},"type":"Var","value":{"identifier":"srgbGamma","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"type":"App"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[90,14],"start":[90,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[90,70],"start":[88,1]}},"type":"Var","value":{"identifier":"value","sourcePos":[88,14]}}],"type":"Case"},"type":"Abs"},"identifier":"sRGBToLinear"},{"annotation":{"meta":null,"sourceSpan":{"end":[123,43],"start":[123,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[123,43],"start":[123,1]}},"argument":"f","body":{"annotation":{"meta":null,"sourceSpan":{"end":[123,43],"start":[123,1]}},"argument":"rgb","body":{"annotation":{"meta":null,"sourceSpan":{"end":[124,54],"start":[124,16]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["r",{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[124,22],"start":[124,21]}},"type":"Var","value":{"identifier":"f","sourcePos":[124,1]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,28],"start":[124,21]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,28],"start":[124,23]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[124,26],"start":[124,23]}},"type":"Var","value":{"identifier":"rgb","sourcePos":[124,1]}},"fieldName":"r","type":"Accessor"},"type":"App"}],["g",{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[124,34],"start":[124,33]}},"type":"Var","value":{"identifier":"f","sourcePos":[124,1]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,40],"start":[124,33]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,40],"start":[124,35]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[124,38],"start":[124,35]}},"type":"Var","value":{"identifier":"rgb","sourcePos":[124,1]}},"fieldName":"g","type":"Accessor"},"type":"App"}],["b",{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[124,46],"start":[124,45]}},"type":"Var","value":{"identifier":"f","sourcePos":[124,1]}},"annotation":{"meta":null,"sourceSpan":{"end":[124,52],"start":[124,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[124,52],"start":[124,47]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[124,50],"start":[124,47]}},"type":"Var","value":{"identifier":"rgb","sourcePos":[124,1]}},"fieldName":"b","type":"Accessor"},"type":"App"}]]}},"type":"Abs"},"type":"Abs"},"identifier":"mapRGB"},{"annotation":{"meta":null,"sourceSpan":{"end":[95,33],"start":[95,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[95,33],"start":[95,1]}},"argument":"value","body":{"annotation":{"meta":null,"sourceSpan":{"end":[95,33],"start":[95,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[96,19],"start":[96,14]}},"binderType":"VarBinder","identifier":"value1"}],"expressions":[{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[97,59],"start":[97,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[97,41],"start":[97,36]}},"type":"Var","value":{"identifier":"value1","sourcePos":[96,14]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[97,59],"start":[97,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[97,59],"start":[97,44]}},"type":"Var","value":{"identifier":"srgbLinearScale","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"type":"App"},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"lessThanOrEq","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[97,33],"start":[97,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[97,10],"start":[97,5]}},"type":"Var","value":{"identifier":"value1","sourcePos":[96,14]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[97,33],"start":[97,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[97,33],"start":[97,14]}},"type":"Var","value":{"identifier":"srgbLinearThreshold","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"type":"App"}},{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"sub","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[98,74],"start":[98,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[98,74],"start":[98,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[98,26],"start":[98,17]}},"type":"Var","value":{"identifier":"srgbScale","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[98,74],"start":[98,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[98,37],"start":[98,29]}},"type":"Var","value":{"identifier":"pow","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[98,43],"start":[98,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[98,43],"start":[98,38]}},"type":"Var","value":{"identifier":"value1","sourcePos":[96,14]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[98,61],"start":[98,29]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[98,60],"start":[98,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[98,48],"start":[98,45]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[98,60],"start":[98,45]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[98,60],"start":[98,51]}},"type":"Var","value":{"identifier":"srgbGamma","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"type":"App"},"type":"App"},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[98,74],"start":[98,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[98,74],"start":[98,64]}},"type":"Var","value":{"identifier":"srgbOffset","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"type":"App"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[98,14],"start":[98,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[98,74],"start":[96,1]}},"type":"Var","value":{"identifier":"value","sourcePos":[96,14]}}],"type":"Case"},"type":"Abs"},"identifier":"linearToSRGB"},{"annotation":{"meta":null,"sourceSpan":{"end":[113,44],"start":[113,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[113,44],"start":[113,1]}},"argument":"value","body":{"annotation":{"meta":null,"sourceSpan":{"end":[113,44],"start":[113,1]}},"argument":"gamma","body":{"annotation":{"meta":null,"sourceSpan":{"end":[113,44],"start":[113,1]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[114,20],"start":[114,15]}},"binderType":"VarBinder","identifier":"value1"},{"annotation":{"meta":null,"sourceSpan":{"end":[114,26],"start":[114,21]}},"binderType":"VarBinder","identifier":"gamma1"}],"expressions":[{"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[115,25],"start":[115,20]}},"type":"Var","value":{"identifier":"value1","sourcePos":[114,15]}},"guard":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[115,17],"start":[115,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,10],"start":[115,5]}},"type":"Var","value":{"identifier":"gamma1","sourcePos":[114,21]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[115,17],"start":[115,5]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[115,17],"start":[115,14]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"}},{"expression":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[116,25],"start":[116,17]}},"type":"Var","value":{"identifier":"pow","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[116,46],"start":[116,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[116,35],"start":[116,27]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[116,39],"start":[116,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[116,39],"start":[116,36]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[116,45],"start":[116,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[116,45],"start":[116,40]}},"type":"Var","value":{"identifier":"value1","sourcePos":[114,15]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[116,60],"start":[116,17]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[116,59],"start":[116,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[116,51],"start":[116,48]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[116,59],"start":[116,48]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[116,59],"start":[116,54]}},"type":"Var","value":{"identifier":"gamma1","sourcePos":[114,21]}},"type":"App"},"type":"App"},"guard":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[116,14],"start":[116,5]}},"type":"Var","value":{"identifier":"otherwise","moduleName":["Data","Boolean"]}}}],"isGuarded":true}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[116,60],"start":[114,1]}},"type":"Var","value":{"identifier":"value","sourcePos":[114,15]}},{"annotation":{"meta":null,"sourceSpan":{"end":[116,60],"start":[114,1]}},"type":"Var","value":{"identifier":"gamma","sourcePos":[114,21]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"linearToGamma"},{"annotation":{"meta":null,"sourceSpan":{"end":[153,28],"start":[153,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[154,23],"start":[154,18]}},"type":"Var","value":{"identifier":"Power","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[154,27],"start":[154,18]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[154,27],"start":[154,24]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2.2}},"type":"App"},"identifier":"gammaWideGamut"},{"annotation":{"meta":null,"sourceSpan":{"end":[107,44],"start":[107,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[107,44],"start":[107,1]}},"argument":"value","body":{"annotation":{"meta":null,"sourceSpan":{"end":[107,44],"start":[107,1]}},"argument":"gamma","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[108,37],"start":[108,29]}},"type":"Var","value":{"identifier":"pow","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[108,58],"start":[108,29]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[108,47],"start":[108,39]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[108,51],"start":[108,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[108,51],"start":[108,48]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[108,57],"start":[108,39]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[108,57],"start":[108,52]}},"type":"Var","value":{"identifier":"value","sourcePos":[108,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[108,64],"start":[108,29]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[108,64],"start":[108,59]}},"type":"Var","value":{"identifier":"gamma","sourcePos":[108,1]}},"type":"App"},"type":"Abs"},"type":"Abs"},"identifier":"gammaToLinear"},{"annotation":{"meta":null,"sourceSpan":{"end":[127,40],"start":[127,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[127,40],"start":[127,1]}},"argument":"rgb","body":{"annotation":{"meta":null,"sourceSpan":{"end":[127,40],"start":[127,1]}},"argument":"gammaType","body":{"annotation":{"meta":null,"sourceSpan":{"end":[131,50],"start":[128,30]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[129,9],"start":[129,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Linear","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]},"typeName":{"identifier":"GammaType","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[129,16],"start":[129,13]}},"type":"Var","value":{"identifier":"rgb","sourcePos":[128,1]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[130,7],"start":[130,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"SRGB","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]},"typeName":{"identifier":"GammaType","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[130,17],"start":[130,11]}},"type":"Var","value":{"identifier":"mapRGB","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[130,30],"start":[130,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,30],"start":[130,18]}},"type":"Var","value":{"identifier":"sRGBToLinear","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[130,34],"start":[130,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[130,34],"start":[130,31]}},"type":"Var","value":{"identifier":"rgb","sourcePos":[128,1]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[131,10],"start":[131,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[131,10],"start":[131,9]}},"binderType":"VarBinder","identifier":"g"}],"constructorName":{"identifier":"Power","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]},"typeName":{"identifier":"GammaType","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[131,20],"start":[131,14]}},"type":"Var","value":{"identifier":"mapRGB","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[131,46],"start":[131,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[131,45],"start":[131,22]}},"argument":"v","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[131,41],"start":[131,28]}},"type":"Var","value":{"identifier":"gammaToLinear","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[131,43],"start":[131,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[131,43],"start":[131,42]}},"type":"Var","value":{"identifier":"v","sourcePos":[131,23]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[131,45],"start":[131,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[131,45],"start":[131,44]}},"type":"Var","value":{"identifier":"g","sourcePos":[131,9]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[131,50],"start":[131,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[131,50],"start":[131,47]}},"type":"Var","value":{"identifier":"rgb","sourcePos":[128,1]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[128,44],"start":[128,35]}},"type":"Var","value":{"identifier":"gammaType","sourcePos":[128,1]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"linearizeRGB"},{"annotation":{"meta":null,"sourceSpan":{"end":[145,23],"start":[145,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[146,17],"start":[146,13]}},"type":"Var","value":{"identifier":"SRGB","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"identifier":"gammaSRGB"},{"annotation":{"meta":null,"sourceSpan":{"end":[161,25],"start":[161,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[162,20],"start":[162,15]}},"type":"Var","value":{"identifier":"Power","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[162,24],"start":[162,15]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[162,24],"start":[162,21]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2.4}},"type":"App"},"identifier":"gammaRec709"},{"annotation":{"meta":null,"sourceSpan":{"end":[165,26],"start":[165,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[166,21],"start":[166,16]}},"type":"Var","value":{"identifier":"Power","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[166,25],"start":[166,16]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[166,25],"start":[166,22]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":2.4}},"type":"App"},"identifier":"gammaRec2020"},{"annotation":{"meta":null,"sourceSpan":{"end":[157,27],"start":[157,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[158,22],"start":[158,17]}},"type":"Var","value":{"identifier":"Power","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[158,26],"start":[158,17]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[158,26],"start":[158,23]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1.8}},"type":"App"},"identifier":"gammaProPhoto"},{"annotation":{"meta":null,"sourceSpan":{"end":[149,25],"start":[149,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[150,21],"start":[150,15]}},"type":"Var","value":{"identifier":"Linear","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"identifier":"gammaLinear"},{"annotation":{"meta":null,"sourceSpan":{"end":[185,26],"start":[185,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[185,26],"start":[185,1]}},"argument":"v","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"div","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[186,32],"start":[186,14]}},"argument":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[186,22],"start":[186,14]}},"type":"Var","value":{"identifier":"toNumber","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[186,24],"start":[186,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[186,24],"start":[186,23]}},"type":"Var","value":{"identifier":"v","sourcePos":[186,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[186,32],"start":[186,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[186,32],"start":[186,27]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":255}},"type":"App"},"type":"Abs"},"identifier":"from8bit"},{"annotation":{"meta":null,"sourceSpan":{"end":[193,33],"start":[193,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[193,33],"start":[193,1]}},"argument":"r","body":{"annotation":{"meta":null,"sourceSpan":{"end":[193,33],"start":[193,1]}},"argument":"g","body":{"annotation":{"meta":null,"sourceSpan":{"end":[193,33],"start":[193,1]}},"argument":"b","body":{"annotation":{"meta":null,"sourceSpan":{"end":[194,61],"start":[194,14]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["r",{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[194,27],"start":[194,19]}},"type":"Var","value":{"identifier":"from8bit","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[194,29],"start":[194,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[194,29],"start":[194,28]}},"type":"Var","value":{"identifier":"r","sourcePos":[194,1]}},"type":"App"}],["g",{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[194,42],"start":[194,34]}},"type":"Var","value":{"identifier":"from8bit","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[194,44],"start":[194,34]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[194,44],"start":[194,43]}},"type":"Var","value":{"identifier":"g","sourcePos":[194,1]}},"type":"App"}],["b",{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[194,57],"start":[194,49]}},"type":"Var","value":{"identifier":"from8bit","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[194,59],"start":[194,49]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[194,59],"start":[194,58]}},"type":"Var","value":{"identifier":"b","sourcePos":[194,1]}},"type":"App"}]]}},"type":"Abs"},"type":"Abs"},"type":"Abs"},"identifier":"rgb8"},{"annotation":{"meta":null,"sourceSpan":{"end":[49,44],"start":[49,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":{"metaType":"IsNewtype"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"Eq$Dict","moduleName":["Data","Eq"]}},"annotation":{"meta":null,"sourceSpan":{"end":[49,44],"start":[49,1]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["eq",{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"x","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":"y","body":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Linear","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]},"typeName":{"identifier":"GammaType","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Linear","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]},"typeName":{"identifier":"GammaType","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"SRGB","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]},"typeName":{"identifier":"GammaType","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"SRGB","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]},"typeName":{"identifier":"GammaType","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":true}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"VarBinder","identifier":"l"}],"constructorName":{"identifier":"Power","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]},"typeName":{"identifier":"GammaType","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"VarBinder","identifier":"r"}],"constructorName":{"identifier":"Power","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]},"typeName":{"identifier":"GammaType","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"eq","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"l","sourcePos":[0,0]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"r","sourcePos":[0,0]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"NullBinder"},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"binderType":"NullBinder"}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Literal","value":{"literalType":"BooleanLiteral","value":false}},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"x","sourcePos":[0,0]}},{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"y","sourcePos":[0,0]}}],"type":"Case"},"type":"Abs"},"type":"Abs"}]]}},"type":"App"},"identifier":"eqGammaType"},{"annotation":{"meta":null,"sourceSpan":{"end":[173,28],"start":[173,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[173,28],"start":[173,1]}},"argument":"v","body":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[174,21],"start":[174,13]}},"type":"Var","value":{"identifier":"max","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[174,25],"start":[174,13]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[174,25],"start":[174,22]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":0}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[174,42],"start":[174,13]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[174,35],"start":[174,27]}},"type":"Var","value":{"identifier":"min","moduleName":["Math"]}},"annotation":{"meta":null,"sourceSpan":{"end":[174,39],"start":[174,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[174,39],"start":[174,36]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":1}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[174,41],"start":[174,27]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[174,41],"start":[174,40]}},"type":"Var","value":{"identifier":"v","sourcePos":[174,1]}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"clamp01"},{"annotation":{"meta":null,"sourceSpan":{"end":[177,23],"start":[177,1]}},"bindType":"NonRec","expression":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[178,18],"start":[178,12]}},"type":"Var","value":{"identifier":"mapRGB","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[178,26],"start":[178,12]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[178,26],"start":[178,19]}},"type":"Var","value":{"identifier":"clamp01","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"type":"App"},"identifier":"clampRGB"},{"annotation":{"meta":null,"sourceSpan":{"end":[189,24],"start":[189,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[189,24],"start":[189,1]}},"argument":"v","body":{"abstraction":{"annotation":{"meta":{"metaType":"IsForeign"},"sourceSpan":{"end":[190,17],"start":[190,12]}},"type":"Var","value":{"identifier":"round","moduleName":["Data","Int"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,37],"start":[190,12]}},"argument":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[0,0],"start":[0,0]}},"type":"Var","value":{"identifier":"mul","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,36],"start":[190,19]}},"argument":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[190,26],"start":[190,19]}},"type":"Var","value":{"identifier":"clamp01","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[190,28],"start":[190,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,28],"start":[190,27]}},"type":"Var","value":{"identifier":"v","sourcePos":[190,1]}},"type":"App"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[190,36],"start":[190,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[190,36],"start":[190,31]}},"type":"Literal","value":{"literalType":"NumberLiteral","value":255}},"type":"App"},"type":"App"},"type":"Abs"},"identifier":"to8bit"},{"annotation":{"meta":null,"sourceSpan":{"end":[197,50],"start":[197,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[197,50],"start":[197,1]}},"argument":"rgb","body":{"annotation":{"meta":null,"sourceSpan":{"end":[198,67],"start":[198,14]}},"type":"Literal","value":{"literalType":"ObjectLiteral","value":[["r",{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[198,25],"start":[198,19]}},"type":"Var","value":{"identifier":"to8bit","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[198,31],"start":[198,19]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[198,31],"start":[198,26]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[198,29],"start":[198,26]}},"type":"Var","value":{"identifier":"rgb","sourcePos":[198,1]}},"fieldName":"r","type":"Accessor"},"type":"App"}],["g",{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[198,42],"start":[198,36]}},"type":"Var","value":{"identifier":"to8bit","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[198,48],"start":[198,36]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[198,48],"start":[198,43]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[198,46],"start":[198,43]}},"type":"Var","value":{"identifier":"rgb","sourcePos":[198,1]}},"fieldName":"g","type":"Accessor"},"type":"App"}],["b",{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[198,59],"start":[198,53]}},"type":"Var","value":{"identifier":"to8bit","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[198,65],"start":[198,53]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[198,65],"start":[198,60]}},"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[198,63],"start":[198,60]}},"type":"Var","value":{"identifier":"rgb","sourcePos":[198,1]}},"fieldName":"b","type":"Accessor"},"type":"App"}]]}},"type":"Abs"},"identifier":"toRGB8"},{"annotation":{"meta":null,"sourceSpan":{"end":[134,41],"start":[134,1]}},"bindType":"NonRec","expression":{"annotation":{"meta":null,"sourceSpan":{"end":[134,41],"start":[134,1]}},"argument":"rgb","body":{"annotation":{"meta":null,"sourceSpan":{"end":[134,41],"start":[134,1]}},"argument":"gammaType","body":{"annotation":{"meta":null,"sourceSpan":{"end":[138,50],"start":[135,31]}},"caseAlternatives":[{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[136,9],"start":[136,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"Linear","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]},"typeName":{"identifier":"GammaType","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}}],"expression":{"annotation":{"meta":null,"sourceSpan":{"end":[136,16],"start":[136,13]}},"type":"Var","value":{"identifier":"rgb","sourcePos":[135,1]}},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":[],"metaType":"IsConstructor"},"sourceSpan":{"end":[137,7],"start":[137,3]}},"binderType":"ConstructorBinder","binders":[],"constructorName":{"identifier":"SRGB","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]},"typeName":{"identifier":"GammaType","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[137,17],"start":[137,11]}},"type":"Var","value":{"identifier":"mapRGB","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[137,30],"start":[137,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[137,30],"start":[137,18]}},"type":"Var","value":{"identifier":"linearToSRGB","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[137,34],"start":[137,11]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[137,34],"start":[137,31]}},"type":"Var","value":{"identifier":"rgb","sourcePos":[135,1]}},"type":"App"},"isGuarded":false},{"binders":[{"annotation":{"meta":{"constructorType":"SumType","identifiers":["value0"],"metaType":"IsConstructor"},"sourceSpan":{"end":[138,10],"start":[138,3]}},"binderType":"ConstructorBinder","binders":[{"annotation":{"meta":null,"sourceSpan":{"end":[138,10],"start":[138,9]}},"binderType":"VarBinder","identifier":"g"}],"constructorName":{"identifier":"Power","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]},"typeName":{"identifier":"GammaType","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}}],"expression":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[138,20],"start":[138,14]}},"type":"Var","value":{"identifier":"mapRGB","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[138,46],"start":[138,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,45],"start":[138,22]}},"argument":"v","body":{"abstraction":{"abstraction":{"annotation":{"meta":null,"sourceSpan":{"end":[138,41],"start":[138,28]}},"type":"Var","value":{"identifier":"linearToGamma","moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]}},"annotation":{"meta":null,"sourceSpan":{"end":[138,43],"start":[138,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,43],"start":[138,42]}},"type":"Var","value":{"identifier":"v","sourcePos":[138,23]}},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,45],"start":[138,28]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,45],"start":[138,44]}},"type":"Var","value":{"identifier":"g","sourcePos":[138,9]}},"type":"App"},"type":"Abs"},"type":"App"},"annotation":{"meta":null,"sourceSpan":{"end":[138,50],"start":[138,14]}},"argument":{"annotation":{"meta":null,"sourceSpan":{"end":[138,50],"start":[138,47]}},"type":"Var","value":{"identifier":"rgb","sourcePos":[135,1]}},"type":"App"},"isGuarded":false}],"caseExpressions":[{"annotation":{"meta":null,"sourceSpan":{"end":[135,45],"start":[135,36]}},"type":"Var","value":{"identifier":"gammaType","sourcePos":[135,1]}}],"type":"Case"},"type":"Abs"},"type":"Abs"},"identifier":"applyGammaRGB"}],"exports":["Linear","SRGB","Power","sRGBToLinear","linearToSRGB","gammaToLinear","linearToGamma","mapRGB","linearizeRGB","applyGammaRGB","gammaSRGB","gammaLinear","gammaWideGamut","gammaProPhoto","gammaRec709","gammaRec2020","clamp01","clampRGB","from8bit","to8bit","rgb8","toRGB8","eqGammaType"],"foreign":[],"imports":[{"annotation":{"meta":null,"sourceSpan":{"end":[198,67],"start":[10,1]}},"moduleName":["Data","Boolean"]},{"annotation":{"meta":null,"sourceSpan":{"end":[198,67],"start":[10,1]}},"moduleName":["Data","Eq"]},{"annotation":{"meta":null,"sourceSpan":{"end":[198,67],"start":[10,1]}},"moduleName":["Data","EuclideanRing"]},{"annotation":{"meta":null,"sourceSpan":{"end":[198,67],"start":[10,1]}},"moduleName":["Data","Int"]},{"annotation":{"meta":null,"sourceSpan":{"end":[198,67],"start":[10,1]}},"moduleName":["Data","Ord"]},{"annotation":{"meta":null,"sourceSpan":{"end":[198,67],"start":[10,1]}},"moduleName":["Data","Ring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[198,67],"start":[10,1]}},"moduleName":["Data","Semiring"]},{"annotation":{"meta":null,"sourceSpan":{"end":[198,67],"start":[10,1]}},"moduleName":["Lattice","Services","ColorSpace","TransferFunctions"]},{"annotation":{"meta":null,"sourceSpan":{"end":[198,67],"start":[10,1]}},"moduleName":["Math"]},{"annotation":{"meta":null,"sourceSpan":{"end":[28,15],"start":[28,1]}},"moduleName":["Prelude"]},{"annotation":{"meta":null,"sourceSpan":{"end":[198,67],"start":[10,1]}},"moduleName":["Prim"]}],"moduleName":["Lattice","Services","ColorSpace","TransferFunctions"],"modulePath":"src/Lattice/Services/ColorSpace/TransferFunctions.purs","reExports":{},"sourceSpan":{"end":[198,67],"start":[10,1]}}