// Generated by purs version 0.15.15
import * as Data_Array from "../Data.Array/index.js";
import * as Data_Generic_Rep from "../Data.Generic.Rep/index.js";
import * as Data_Int from "../Data.Int/index.js";
import * as Data_Maybe from "../Data.Maybe/index.js";
import * as Data_Show_Generic from "../Data.Show.Generic/index.js";
var genericShowConstructor = /* #__PURE__ */ Data_Show_Generic.genericShowConstructor(Data_Show_Generic.genericShowArgsNoArguments);
var ModelWan = /* #__PURE__ */ (function () {
    function ModelWan() {

    };
    ModelWan.value = new ModelWan();
    return ModelWan;
})();
var ModelCogvideox = /* #__PURE__ */ (function () {
    function ModelCogvideox() {

    };
    ModelCogvideox.value = new ModelCogvideox();
    return ModelCogvideox;
})();
var ModelSvd = /* #__PURE__ */ (function () {
    function ModelSvd() {

    };
    ModelSvd.value = new ModelSvd();
    return ModelSvd;
})();
var genericTTMModel_ = {
    to: function (x) {
        if (x instanceof Data_Generic_Rep.Inl) {
            return ModelWan.value;
        };
        if (x instanceof Data_Generic_Rep.Inr && x.value0 instanceof Data_Generic_Rep.Inl) {
            return ModelCogvideox.value;
        };
        if (x instanceof Data_Generic_Rep.Inr && x.value0 instanceof Data_Generic_Rep.Inr) {
            return ModelSvd.value;
        };
        throw new Error("Failed pattern match at Lattice.Schemas.Exports.TTMSchema (line 52, column 1 - line 52, column 35): " + [ x.constructor.name ]);
    },
    from: function (x) {
        if (x instanceof ModelWan) {
            return new Data_Generic_Rep.Inl(Data_Generic_Rep.NoArguments.value);
        };
        if (x instanceof ModelCogvideox) {
            return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inl(Data_Generic_Rep.NoArguments.value));
        };
        if (x instanceof ModelSvd) {
            return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(Data_Generic_Rep.NoArguments.value));
        };
        throw new Error("Failed pattern match at Lattice.Schemas.Exports.TTMSchema (line 52, column 1 - line 52, column 35): " + [ x.constructor.name ]);
    }
};
var showTTMModel = {
    show: /* #__PURE__ */ Data_Show_Generic.genericShow(genericTTMModel_)(/* #__PURE__ */ Data_Show_Generic.genericShowSum(/* #__PURE__ */ genericShowConstructor({
        reflectSymbol: function () {
            return "ModelWan";
        }
    }))(/* #__PURE__ */ Data_Show_Generic.genericShowSum(/* #__PURE__ */ genericShowConstructor({
        reflectSymbol: function () {
            return "ModelCogvideox";
        }
    }))(/* #__PURE__ */ genericShowConstructor({
        reflectSymbol: function () {
            return "ModelSvd";
        }
    }))))
};
var eqTTMModel = {
    eq: function (x) {
        return function (y) {
            if (x instanceof ModelWan && y instanceof ModelWan) {
                return true;
            };
            if (x instanceof ModelCogvideox && y instanceof ModelCogvideox) {
                return true;
            };
            if (x instanceof ModelSvd && y instanceof ModelSvd) {
                return true;
            };
            return false;
        };
    }
};
var ttmModelToString = function (v) {
    if (v instanceof ModelWan) {
        return "wan";
    };
    if (v instanceof ModelCogvideox) {
        return "cogvideox";
    };
    if (v instanceof ModelSvd) {
        return "svd";
    };
    throw new Error("Failed pattern match at Lattice.Schemas.Exports.TTMSchema (line 65, column 20 - line 68, column 20): " + [ v.constructor.name ]);
};
var ttmModelFromString = function (v) {
    if (v === "wan") {
        return new Data_Maybe.Just(ModelWan.value);
    };
    if (v === "cogvideox") {
        return new Data_Maybe.Just(ModelCogvideox.value);
    };
    if (v === "svd") {
        return new Data_Maybe.Just(ModelSvd.value);
    };
    return Data_Maybe.Nothing.value;
};
var maxTweakIndex = 100.0;
var maxLayers = 1000;
var maxInferenceSteps = 1000;
var maxFrames = 100000;
var maxDimension = 16384;
var isValidTrajectoryPoint = function (p) {
    return p.frame >= 0 && (p.frame <= maxFrames && (p.x >= 0.0 && (p.x <= Data_Int.toNumber(maxDimension) && (p.y >= 0.0 && p.y <= Data_Int.toNumber(maxDimension)))));
};
var isValidModelConfig = function (c) {
    return c.tweakIndex >= 0.0 && (c.tweakIndex <= maxTweakIndex && (c.tstrongIndex >= 0.0 && (c.tstrongIndex <= maxTweakIndex && (c.inferenceSteps > 0 && c.inferenceSteps <= maxInferenceSteps))));
};
var isValidMetadata = function (m) {
    return m.layerCount <= maxLayers && (m.frameCount > 0 && (m.frameCount <= maxFrames && (m.width > 0 && (m.width <= maxDimension && (m.height > 0 && m.height <= maxDimension)))));
};
var isValidLayerExport = function (l) {
    return Data_Array.length(l.trajectory) === Data_Array.length(l.visibility) && Data_Array.length(l.trajectory) <= maxFrames;
};
var isValidExport = function (e) {
    return isValidMetadata(e.metadata) && (isValidModelConfig(e.modelConfig) && Data_Array.length(e.layers) === e.metadata.layerCount);
};
export {
    ModelWan,
    ModelCogvideox,
    ModelSvd,
    ttmModelFromString,
    ttmModelToString,
    maxFrames,
    maxDimension,
    maxLayers,
    maxTweakIndex,
    maxInferenceSteps,
    isValidTrajectoryPoint,
    isValidLayerExport,
    isValidModelConfig,
    isValidMetadata,
    isValidExport,
    eqTTMModel,
    genericTTMModel_,
    showTTMModel
};
//# sourceMappingURL=index.js.map
