// Generated by purs version 0.15.15
import * as Data_Ord from "../Data.Ord/index.js";
import * as $$Math from "../Math/index.js";
var min = /* #__PURE__ */ Data_Ord.min(Data_Ord.ordNumber);
var max = /* #__PURE__ */ Data_Ord.max(Data_Ord.ordNumber);
var Brightness = /* #__PURE__ */ (function () {
    function Brightness() {

    };
    Brightness.value = new Brightness();
    return Brightness;
})();
var Saturation = /* #__PURE__ */ (function () {
    function Saturation() {

    };
    Saturation.value = new Saturation();
    return Saturation;
})();
var Hue = /* #__PURE__ */ (function () {
    function Hue() {

    };
    Hue.value = new Hue();
    return Hue;
})();
var showSortBy = {
    show: function (v) {
        if (v instanceof Brightness) {
            return "Brightness";
        };
        if (v instanceof Saturation) {
            return "Saturation";
        };
        if (v instanceof Hue) {
            return "Hue";
        };
        throw new Error("Failed pattern match at Lattice.Services.Stylize.SortMetrics (line 39, column 1 - line 42, column 19): " + [ v.constructor.name ]);
    }
};
var saturation = function (r) {
    return function (g) {
        return function (b) {
            var minVal = min(r)(min(g)(b));
            var maxVal = max(r)(max(g)(b));
            var $13 = maxVal === minVal;
            if ($13) {
                return 0.0;
            };
            var l = (maxVal + minVal) / 2.0;
            var $14 = l > 0.5;
            if ($14) {
                return (maxVal - minVal) / (2.0 - maxVal - minVal);
            };
            return (maxVal - minVal) / (maxVal + minVal);
        };
    };
};
var isIntervalBoundary = function (sortVal1) {
    return function (sortVal2) {
        return function (threshold) {
            return function (smoothing) {
                var diff = $$Math.abs(sortVal2 - sortVal1);
                var adjustedThreshold = threshold * (1.0 - smoothing);
                return diff > adjustedThreshold;
            };
        };
    };
};
var hue = function (r) {
    return function (g) {
        return function (b) {
            var minVal = min(r)(min(g)(b));
            var maxVal = max(r)(max(g)(b));
            var $15 = maxVal === minVal;
            if ($15) {
                return 0.0;
            };
            var delta = maxVal - minVal;
            var h = (function () {
                var $16 = maxVal === r;
                if ($16) {
                    return (g - b) / delta;
                };
                var $17 = maxVal === g;
                if ($17) {
                    return 2.0 + (b - r) / delta;
                };
                return 4.0 + (r - g) / delta;
            })();
            var hDeg = h * 60.0;
            var $18 = hDeg < 0.0;
            if ($18) {
                return hDeg + 360.0;
            };
            return hDeg;
        };
    };
};
var eqSortBy = {
    eq: function (x) {
        return function (y) {
            if (x instanceof Brightness && y instanceof Brightness) {
                return true;
            };
            if (x instanceof Saturation && y instanceof Saturation) {
                return true;
            };
            if (x instanceof Hue && y instanceof Hue) {
                return true;
            };
            return false;
        };
    }
};
var brightness = function (r) {
    return function (g) {
        return function (b) {
            return (r + g + b) / 3.0;
        };
    };
};
var getSortValue = function (sortBy) {
    return function (r) {
        return function (g) {
            return function (b) {
                if (sortBy instanceof Brightness) {
                    return brightness(r)(g)(b);
                };
                if (sortBy instanceof Saturation) {
                    return saturation(r)(g)(b);
                };
                if (sortBy instanceof Hue) {
                    return hue(r)(g)(b);
                };
                throw new Error("Failed pattern match at Lattice.Services.Stylize.SortMetrics (line 102, column 3 - line 105, column 28): " + [ sortBy.constructor.name ]);
            };
        };
    };
};
export {
    Brightness,
    Saturation,
    Hue,
    brightness,
    saturation,
    hue,
    getSortValue,
    isIntervalBoundary,
    eqSortBy,
    showSortBy
};
//# sourceMappingURL=index.js.map
