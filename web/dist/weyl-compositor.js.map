{"version":3,"file":"weyl-compositor.js","sources":["../../ui/node_modules/@vue/shared/dist/shared.esm-bundler.js","../../ui/node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js","../../ui/node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js","../../ui/node_modules/@vue/runtime-dom/dist/runtime-dom.esm-bundler.js","../../ui/node_modules/vue/dist/vue.runtime.esm-bundler.js","../../ui/node_modules/vue-demi/lib/index.mjs","../../ui/node_modules/@vue/devtools-api/lib/esm/env.js","../../ui/node_modules/@vue/devtools-api/lib/esm/const.js","../../ui/node_modules/@vue/devtools-api/lib/esm/time.js","../../ui/node_modules/@vue/devtools-api/lib/esm/proxy.js","../../ui/node_modules/@vue/devtools-api/lib/esm/index.js","../../ui/node_modules/pinia/dist/pinia.mjs","../../ui/node_modules/splitpanes/dist/splitpanes.es.js","../../ui/src/services/audioFeatures.ts","../../ui/src/types/project.ts","../../ui/src/services/interpolation.ts","../../ui/src/services/audioReactiveMapping.ts","../../ui/src/services/audioPathAnimator.ts","../../ui/src/stores/compositorStore.ts","../../ui/src/services/gpuDetection.ts","../../ui/src/types/camera.ts","../../ui/src/components/panels/ProjectPanel.vue","../../ui/src/types/effects.ts","../../ui/src/components/panels/EffectsPanel.vue","../../ui/src/components/controls/ScrubableNumber.vue","../../ui/src/components/controls/SliderInput.vue","../../ui/src/components/controls/AngleDial.vue","../../ui/src/services/fontService.ts","../../ui/src/components/properties/KeyframeToggle.vue","../../ui/src/components/dialogs/FontPicker.vue","../../ui/src/components/properties/TextProperties.vue","../../ui/src/components/properties/ParticleProperties.vue","../../ui/src/components/properties/DepthflowProperties.vue","../../ui/src/components/panels/PropertiesPanel.vue","../../ui/src/services/math3d.ts","../../ui/src/components/panels/CameraProperties.vue","../../ui/src/components/panels/AudioPanel.vue","../../ui/src/services/camera3DVisualization.ts","../../ui/src/components/viewport/ViewportRenderer.vue","../../ui/node_modules/fabric/dist/index.min.mjs","../../ui/src/fabric/DepthMapImage.ts","../../ui/src/fabric/SplinePath.ts","../../ui/src/components/canvas/SplineEditor.vue","../../ui/node_modules/simplex-noise/dist/esm/simplex-noise.js","../../ui/src/services/particleSystem.ts","../../ui/src/services/depthflow.ts","../../ui/src/components/canvas/CompositionCanvas.vue","../../ui/src/components/timeline/EnhancedLayerTrack.vue","../../ui/src/components/timeline/TimelinePanel.vue","../../ui/src/components/graph-editor/GraphEditor.vue","../../ui/node_modules/bezier-js/src/utils.js","../../ui/node_modules/bezier-js/src/poly-bezier.js","../../ui/node_modules/bezier-js/src/bezier.js","../../ui/src/services/arcLength.ts","../../ui/src/services/matteExporter.ts","../../ui/src/components/dialogs/ExportDialog.vue","../../ui/src/components/layout/WorkspaceLayout.vue","../../ui/src/App.vue","../../ui/src/main.ts","../../ui/node_modules/jszip/dist/jszip.min.js"],"sourcesContent":["/**\n* @vue/shared v3.5.25\n* (c) 2018-present Yuxi (Evan) You and Vue contributors\n* @license MIT\n**/\n// @__NO_SIDE_EFFECTS__\nfunction makeMap(str) {\n  const map = /* @__PURE__ */ Object.create(null);\n  for (const key of str.split(\",\")) map[key] = 1;\n  return (val) => val in map;\n}\n\nconst EMPTY_OBJ = !!(process.env.NODE_ENV !== \"production\") ? Object.freeze({}) : {};\nconst EMPTY_ARR = !!(process.env.NODE_ENV !== \"production\") ? Object.freeze([]) : [];\nconst NOOP = () => {\n};\nconst NO = () => false;\nconst isOn = (key) => key.charCodeAt(0) === 111 && key.charCodeAt(1) === 110 && // uppercase letter\n(key.charCodeAt(2) > 122 || key.charCodeAt(2) < 97);\nconst isModelListener = (key) => key.startsWith(\"onUpdate:\");\nconst extend = Object.assign;\nconst remove = (arr, el) => {\n  const i = arr.indexOf(el);\n  if (i > -1) {\n    arr.splice(i, 1);\n  }\n};\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\nconst isArray = Array.isArray;\nconst isMap = (val) => toTypeString(val) === \"[object Map]\";\nconst isSet = (val) => toTypeString(val) === \"[object Set]\";\nconst isDate = (val) => toTypeString(val) === \"[object Date]\";\nconst isRegExp = (val) => toTypeString(val) === \"[object RegExp]\";\nconst isFunction = (val) => typeof val === \"function\";\nconst isString = (val) => typeof val === \"string\";\nconst isSymbol = (val) => typeof val === \"symbol\";\nconst isObject = (val) => val !== null && typeof val === \"object\";\nconst isPromise = (val) => {\n  return (isObject(val) || isFunction(val)) && isFunction(val.then) && isFunction(val.catch);\n};\nconst objectToString = Object.prototype.toString;\nconst toTypeString = (value) => objectToString.call(value);\nconst toRawType = (value) => {\n  return toTypeString(value).slice(8, -1);\n};\nconst isPlainObject = (val) => toTypeString(val) === \"[object Object]\";\nconst isIntegerKey = (key) => isString(key) && key !== \"NaN\" && key[0] !== \"-\" && \"\" + parseInt(key, 10) === key;\nconst isReservedProp = /* @__PURE__ */ makeMap(\n  // the leading comma is intentional so empty string \"\" is also included\n  \",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted\"\n);\nconst isBuiltInDirective = /* @__PURE__ */ makeMap(\n  \"bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo\"\n);\nconst cacheStringFunction = (fn) => {\n  const cache = /* @__PURE__ */ Object.create(null);\n  return ((str) => {\n    const hit = cache[str];\n    return hit || (cache[str] = fn(str));\n  });\n};\nconst camelizeRE = /-\\w/g;\nconst camelize = cacheStringFunction(\n  (str) => {\n    return str.replace(camelizeRE, (c) => c.slice(1).toUpperCase());\n  }\n);\nconst hyphenateRE = /\\B([A-Z])/g;\nconst hyphenate = cacheStringFunction(\n  (str) => str.replace(hyphenateRE, \"-$1\").toLowerCase()\n);\nconst capitalize = cacheStringFunction((str) => {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n});\nconst toHandlerKey = cacheStringFunction(\n  (str) => {\n    const s = str ? `on${capitalize(str)}` : ``;\n    return s;\n  }\n);\nconst hasChanged = (value, oldValue) => !Object.is(value, oldValue);\nconst invokeArrayFns = (fns, ...arg) => {\n  for (let i = 0; i < fns.length; i++) {\n    fns[i](...arg);\n  }\n};\nconst def = (obj, key, value, writable = false) => {\n  Object.defineProperty(obj, key, {\n    configurable: true,\n    enumerable: false,\n    writable,\n    value\n  });\n};\nconst looseToNumber = (val) => {\n  const n = parseFloat(val);\n  return isNaN(n) ? val : n;\n};\nconst toNumber = (val) => {\n  const n = isString(val) ? Number(val) : NaN;\n  return isNaN(n) ? val : n;\n};\nlet _globalThis;\nconst getGlobalThis = () => {\n  return _globalThis || (_globalThis = typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {});\n};\nconst identRE = /^[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*$/;\nfunction genPropsAccessExp(name) {\n  return identRE.test(name) ? `__props.${name}` : `__props[${JSON.stringify(name)}]`;\n}\nfunction genCacheKey(source, options) {\n  return source + JSON.stringify(\n    options,\n    (_, val) => typeof val === \"function\" ? val.toString() : val\n  );\n}\n\nconst PatchFlags = {\n  \"TEXT\": 1,\n  \"1\": \"TEXT\",\n  \"CLASS\": 2,\n  \"2\": \"CLASS\",\n  \"STYLE\": 4,\n  \"4\": \"STYLE\",\n  \"PROPS\": 8,\n  \"8\": \"PROPS\",\n  \"FULL_PROPS\": 16,\n  \"16\": \"FULL_PROPS\",\n  \"NEED_HYDRATION\": 32,\n  \"32\": \"NEED_HYDRATION\",\n  \"STABLE_FRAGMENT\": 64,\n  \"64\": \"STABLE_FRAGMENT\",\n  \"KEYED_FRAGMENT\": 128,\n  \"128\": \"KEYED_FRAGMENT\",\n  \"UNKEYED_FRAGMENT\": 256,\n  \"256\": \"UNKEYED_FRAGMENT\",\n  \"NEED_PATCH\": 512,\n  \"512\": \"NEED_PATCH\",\n  \"DYNAMIC_SLOTS\": 1024,\n  \"1024\": \"DYNAMIC_SLOTS\",\n  \"DEV_ROOT_FRAGMENT\": 2048,\n  \"2048\": \"DEV_ROOT_FRAGMENT\",\n  \"CACHED\": -1,\n  \"-1\": \"CACHED\",\n  \"BAIL\": -2,\n  \"-2\": \"BAIL\"\n};\nconst PatchFlagNames = {\n  [1]: `TEXT`,\n  [2]: `CLASS`,\n  [4]: `STYLE`,\n  [8]: `PROPS`,\n  [16]: `FULL_PROPS`,\n  [32]: `NEED_HYDRATION`,\n  [64]: `STABLE_FRAGMENT`,\n  [128]: `KEYED_FRAGMENT`,\n  [256]: `UNKEYED_FRAGMENT`,\n  [512]: `NEED_PATCH`,\n  [1024]: `DYNAMIC_SLOTS`,\n  [2048]: `DEV_ROOT_FRAGMENT`,\n  [-1]: `CACHED`,\n  [-2]: `BAIL`\n};\n\nconst ShapeFlags = {\n  \"ELEMENT\": 1,\n  \"1\": \"ELEMENT\",\n  \"FUNCTIONAL_COMPONENT\": 2,\n  \"2\": \"FUNCTIONAL_COMPONENT\",\n  \"STATEFUL_COMPONENT\": 4,\n  \"4\": \"STATEFUL_COMPONENT\",\n  \"TEXT_CHILDREN\": 8,\n  \"8\": \"TEXT_CHILDREN\",\n  \"ARRAY_CHILDREN\": 16,\n  \"16\": \"ARRAY_CHILDREN\",\n  \"SLOTS_CHILDREN\": 32,\n  \"32\": \"SLOTS_CHILDREN\",\n  \"TELEPORT\": 64,\n  \"64\": \"TELEPORT\",\n  \"SUSPENSE\": 128,\n  \"128\": \"SUSPENSE\",\n  \"COMPONENT_SHOULD_KEEP_ALIVE\": 256,\n  \"256\": \"COMPONENT_SHOULD_KEEP_ALIVE\",\n  \"COMPONENT_KEPT_ALIVE\": 512,\n  \"512\": \"COMPONENT_KEPT_ALIVE\",\n  \"COMPONENT\": 6,\n  \"6\": \"COMPONENT\"\n};\n\nconst SlotFlags = {\n  \"STABLE\": 1,\n  \"1\": \"STABLE\",\n  \"DYNAMIC\": 2,\n  \"2\": \"DYNAMIC\",\n  \"FORWARDED\": 3,\n  \"3\": \"FORWARDED\"\n};\nconst slotFlagsText = {\n  [1]: \"STABLE\",\n  [2]: \"DYNAMIC\",\n  [3]: \"FORWARDED\"\n};\n\nconst GLOBALS_ALLOWED = \"Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol\";\nconst isGloballyAllowed = /* @__PURE__ */ makeMap(GLOBALS_ALLOWED);\nconst isGloballyWhitelisted = isGloballyAllowed;\n\nconst range = 2;\nfunction generateCodeFrame(source, start = 0, end = source.length) {\n  start = Math.max(0, Math.min(start, source.length));\n  end = Math.max(0, Math.min(end, source.length));\n  if (start > end) return \"\";\n  let lines = source.split(/(\\r?\\n)/);\n  const newlineSequences = lines.filter((_, idx) => idx % 2 === 1);\n  lines = lines.filter((_, idx) => idx % 2 === 0);\n  let count = 0;\n  const res = [];\n  for (let i = 0; i < lines.length; i++) {\n    count += lines[i].length + (newlineSequences[i] && newlineSequences[i].length || 0);\n    if (count >= start) {\n      for (let j = i - range; j <= i + range || end > count; j++) {\n        if (j < 0 || j >= lines.length) continue;\n        const line = j + 1;\n        res.push(\n          `${line}${\" \".repeat(Math.max(3 - String(line).length, 0))}|  ${lines[j]}`\n        );\n        const lineLength = lines[j].length;\n        const newLineSeqLength = newlineSequences[j] && newlineSequences[j].length || 0;\n        if (j === i) {\n          const pad = start - (count - (lineLength + newLineSeqLength));\n          const length = Math.max(\n            1,\n            end > count ? lineLength - pad : end - start\n          );\n          res.push(`   |  ` + \" \".repeat(pad) + \"^\".repeat(length));\n        } else if (j > i) {\n          if (end > count) {\n            const length = Math.max(Math.min(end - count, lineLength), 1);\n            res.push(`   |  ` + \"^\".repeat(length));\n          }\n          count += lineLength + newLineSeqLength;\n        }\n      }\n      break;\n    }\n  }\n  return res.join(\"\\n\");\n}\n\nfunction normalizeStyle(value) {\n  if (isArray(value)) {\n    const res = {};\n    for (let i = 0; i < value.length; i++) {\n      const item = value[i];\n      const normalized = isString(item) ? parseStringStyle(item) : normalizeStyle(item);\n      if (normalized) {\n        for (const key in normalized) {\n          res[key] = normalized[key];\n        }\n      }\n    }\n    return res;\n  } else if (isString(value) || isObject(value)) {\n    return value;\n  }\n}\nconst listDelimiterRE = /;(?![^(]*\\))/g;\nconst propertyDelimiterRE = /:([^]+)/;\nconst styleCommentRE = /\\/\\*[^]*?\\*\\//g;\nfunction parseStringStyle(cssText) {\n  const ret = {};\n  cssText.replace(styleCommentRE, \"\").split(listDelimiterRE).forEach((item) => {\n    if (item) {\n      const tmp = item.split(propertyDelimiterRE);\n      tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());\n    }\n  });\n  return ret;\n}\nfunction stringifyStyle(styles) {\n  if (!styles) return \"\";\n  if (isString(styles)) return styles;\n  let ret = \"\";\n  for (const key in styles) {\n    const value = styles[key];\n    if (isString(value) || typeof value === \"number\") {\n      const normalizedKey = key.startsWith(`--`) ? key : hyphenate(key);\n      ret += `${normalizedKey}:${value};`;\n    }\n  }\n  return ret;\n}\nfunction normalizeClass(value) {\n  let res = \"\";\n  if (isString(value)) {\n    res = value;\n  } else if (isArray(value)) {\n    for (let i = 0; i < value.length; i++) {\n      const normalized = normalizeClass(value[i]);\n      if (normalized) {\n        res += normalized + \" \";\n      }\n    }\n  } else if (isObject(value)) {\n    for (const name in value) {\n      if (value[name]) {\n        res += name + \" \";\n      }\n    }\n  }\n  return res.trim();\n}\nfunction normalizeProps(props) {\n  if (!props) return null;\n  let { class: klass, style } = props;\n  if (klass && !isString(klass)) {\n    props.class = normalizeClass(klass);\n  }\n  if (style) {\n    props.style = normalizeStyle(style);\n  }\n  return props;\n}\n\nconst HTML_TAGS = \"html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot\";\nconst SVG_TAGS = \"svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view\";\nconst MATH_TAGS = \"annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics\";\nconst VOID_TAGS = \"area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr\";\nconst isHTMLTag = /* @__PURE__ */ makeMap(HTML_TAGS);\nconst isSVGTag = /* @__PURE__ */ makeMap(SVG_TAGS);\nconst isMathMLTag = /* @__PURE__ */ makeMap(MATH_TAGS);\nconst isVoidTag = /* @__PURE__ */ makeMap(VOID_TAGS);\n\nconst specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;\nconst isSpecialBooleanAttr = /* @__PURE__ */ makeMap(specialBooleanAttrs);\nconst isBooleanAttr = /* @__PURE__ */ makeMap(\n  specialBooleanAttrs + `,async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected`\n);\nfunction includeBooleanAttr(value) {\n  return !!value || value === \"\";\n}\nconst unsafeAttrCharRE = /[>/=\"'\\u0009\\u000a\\u000c\\u0020]/;\nconst attrValidationCache = {};\nfunction isSSRSafeAttrName(name) {\n  if (attrValidationCache.hasOwnProperty(name)) {\n    return attrValidationCache[name];\n  }\n  const isUnsafe = unsafeAttrCharRE.test(name);\n  if (isUnsafe) {\n    console.error(`unsafe attribute name: ${name}`);\n  }\n  return attrValidationCache[name] = !isUnsafe;\n}\nconst propsToAttrMap = {\n  acceptCharset: \"accept-charset\",\n  className: \"class\",\n  htmlFor: \"for\",\n  httpEquiv: \"http-equiv\"\n};\nconst isKnownHtmlAttr = /* @__PURE__ */ makeMap(\n  `accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap`\n);\nconst isKnownSvgAttr = /* @__PURE__ */ makeMap(\n  `xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan`\n);\nconst isKnownMathMLAttr = /* @__PURE__ */ makeMap(\n  `accent,accentunder,actiontype,align,alignmentscope,altimg,altimg-height,altimg-valign,altimg-width,alttext,bevelled,close,columnsalign,columnlines,columnspan,denomalign,depth,dir,display,displaystyle,encoding,equalcolumns,equalrows,fence,fontstyle,fontweight,form,frame,framespacing,groupalign,height,href,id,indentalign,indentalignfirst,indentalignlast,indentshift,indentshiftfirst,indentshiftlast,indextype,justify,largetop,largeop,lquote,lspace,mathbackground,mathcolor,mathsize,mathvariant,maxsize,minlabelspacing,mode,other,overflow,position,rowalign,rowlines,rowspan,rquote,rspace,scriptlevel,scriptminsize,scriptsizemultiplier,selection,separator,separators,shift,side,src,stackalign,stretchy,subscriptshift,superscriptshift,symmetric,voffset,width,widths,xlink:href,xlink:show,xlink:type,xmlns`\n);\nfunction isRenderableAttrValue(value) {\n  if (value == null) {\n    return false;\n  }\n  const type = typeof value;\n  return type === \"string\" || type === \"number\" || type === \"boolean\";\n}\n\nconst escapeRE = /[\"'&<>]/;\nfunction escapeHtml(string) {\n  const str = \"\" + string;\n  const match = escapeRE.exec(str);\n  if (!match) {\n    return str;\n  }\n  let html = \"\";\n  let escaped;\n  let index;\n  let lastIndex = 0;\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34:\n        escaped = \"&quot;\";\n        break;\n      case 38:\n        escaped = \"&amp;\";\n        break;\n      case 39:\n        escaped = \"&#39;\";\n        break;\n      case 60:\n        escaped = \"&lt;\";\n        break;\n      case 62:\n        escaped = \"&gt;\";\n        break;\n      default:\n        continue;\n    }\n    if (lastIndex !== index) {\n      html += str.slice(lastIndex, index);\n    }\n    lastIndex = index + 1;\n    html += escaped;\n  }\n  return lastIndex !== index ? html + str.slice(lastIndex, index) : html;\n}\nconst commentStripRE = /^-?>|<!--|-->|--!>|<!-$/g;\nfunction escapeHtmlComment(src) {\n  return src.replace(commentStripRE, \"\");\n}\nconst cssVarNameEscapeSymbolsRE = /[ !\"#$%&'()*+,./:;<=>?@[\\\\\\]^`{|}~]/g;\nfunction getEscapedCssVarName(key, doubleEscape) {\n  return key.replace(\n    cssVarNameEscapeSymbolsRE,\n    (s) => doubleEscape ? s === '\"' ? '\\\\\\\\\\\\\"' : `\\\\\\\\${s}` : `\\\\${s}`\n  );\n}\n\nfunction looseCompareArrays(a, b) {\n  if (a.length !== b.length) return false;\n  let equal = true;\n  for (let i = 0; equal && i < a.length; i++) {\n    equal = looseEqual(a[i], b[i]);\n  }\n  return equal;\n}\nfunction looseEqual(a, b) {\n  if (a === b) return true;\n  let aValidType = isDate(a);\n  let bValidType = isDate(b);\n  if (aValidType || bValidType) {\n    return aValidType && bValidType ? a.getTime() === b.getTime() : false;\n  }\n  aValidType = isSymbol(a);\n  bValidType = isSymbol(b);\n  if (aValidType || bValidType) {\n    return a === b;\n  }\n  aValidType = isArray(a);\n  bValidType = isArray(b);\n  if (aValidType || bValidType) {\n    return aValidType && bValidType ? looseCompareArrays(a, b) : false;\n  }\n  aValidType = isObject(a);\n  bValidType = isObject(b);\n  if (aValidType || bValidType) {\n    if (!aValidType || !bValidType) {\n      return false;\n    }\n    const aKeysCount = Object.keys(a).length;\n    const bKeysCount = Object.keys(b).length;\n    if (aKeysCount !== bKeysCount) {\n      return false;\n    }\n    for (const key in a) {\n      const aHasKey = a.hasOwnProperty(key);\n      const bHasKey = b.hasOwnProperty(key);\n      if (aHasKey && !bHasKey || !aHasKey && bHasKey || !looseEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n  }\n  return String(a) === String(b);\n}\nfunction looseIndexOf(arr, val) {\n  return arr.findIndex((item) => looseEqual(item, val));\n}\n\nconst isRef = (val) => {\n  return !!(val && val[\"__v_isRef\"] === true);\n};\nconst toDisplayString = (val) => {\n  return isString(val) ? val : val == null ? \"\" : isArray(val) || isObject(val) && (val.toString === objectToString || !isFunction(val.toString)) ? isRef(val) ? toDisplayString(val.value) : JSON.stringify(val, replacer, 2) : String(val);\n};\nconst replacer = (_key, val) => {\n  if (isRef(val)) {\n    return replacer(_key, val.value);\n  } else if (isMap(val)) {\n    return {\n      [`Map(${val.size})`]: [...val.entries()].reduce(\n        (entries, [key, val2], i) => {\n          entries[stringifySymbol(key, i) + \" =>\"] = val2;\n          return entries;\n        },\n        {}\n      )\n    };\n  } else if (isSet(val)) {\n    return {\n      [`Set(${val.size})`]: [...val.values()].map((v) => stringifySymbol(v))\n    };\n  } else if (isSymbol(val)) {\n    return stringifySymbol(val);\n  } else if (isObject(val) && !isArray(val) && !isPlainObject(val)) {\n    return String(val);\n  }\n  return val;\n};\nconst stringifySymbol = (v, i = \"\") => {\n  var _a;\n  return (\n    // Symbol.description in es2019+ so we need to cast here to pass\n    // the lib: es2016 check\n    isSymbol(v) ? `Symbol(${(_a = v.description) != null ? _a : i})` : v\n  );\n};\n\nfunction normalizeCssVarValue(value) {\n  if (value == null) {\n    return \"initial\";\n  }\n  if (typeof value === \"string\") {\n    return value === \"\" ? \" \" : value;\n  }\n  if (typeof value !== \"number\" || !Number.isFinite(value)) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      console.warn(\n        \"[Vue warn] Invalid value used for CSS binding. Expected a string or a finite number but received:\",\n        value\n      );\n    }\n  }\n  return String(value);\n}\n\nexport { EMPTY_ARR, EMPTY_OBJ, NO, NOOP, PatchFlagNames, PatchFlags, ShapeFlags, SlotFlags, camelize, capitalize, cssVarNameEscapeSymbolsRE, def, escapeHtml, escapeHtmlComment, extend, genCacheKey, genPropsAccessExp, generateCodeFrame, getEscapedCssVarName, getGlobalThis, hasChanged, hasOwn, hyphenate, includeBooleanAttr, invokeArrayFns, isArray, isBooleanAttr, isBuiltInDirective, isDate, isFunction, isGloballyAllowed, isGloballyWhitelisted, isHTMLTag, isIntegerKey, isKnownHtmlAttr, isKnownMathMLAttr, isKnownSvgAttr, isMap, isMathMLTag, isModelListener, isObject, isOn, isPlainObject, isPromise, isRegExp, isRenderableAttrValue, isReservedProp, isSSRSafeAttrName, isSVGTag, isSet, isSpecialBooleanAttr, isString, isSymbol, isVoidTag, looseEqual, looseIndexOf, looseToNumber, makeMap, normalizeClass, normalizeCssVarValue, normalizeProps, normalizeStyle, objectToString, parseStringStyle, propsToAttrMap, remove, slotFlagsText, stringifyStyle, toDisplayString, toHandlerKey, toNumber, toRawType, toTypeString };\n","/**\n* @vue/reactivity v3.5.25\n* (c) 2018-present Yuxi (Evan) You and Vue contributors\n* @license MIT\n**/\nimport { extend, hasChanged, isArray, isIntegerKey, isSymbol, isMap, hasOwn, makeMap, isObject, capitalize, toRawType, def, isFunction, EMPTY_OBJ, isSet, isPlainObject, remove, NOOP } from '@vue/shared';\n\nfunction warn(msg, ...args) {\n  console.warn(`[Vue warn] ${msg}`, ...args);\n}\n\nlet activeEffectScope;\nclass EffectScope {\n  constructor(detached = false) {\n    this.detached = detached;\n    /**\n     * @internal\n     */\n    this._active = true;\n    /**\n     * @internal track `on` calls, allow `on` call multiple times\n     */\n    this._on = 0;\n    /**\n     * @internal\n     */\n    this.effects = [];\n    /**\n     * @internal\n     */\n    this.cleanups = [];\n    this._isPaused = false;\n    this.parent = activeEffectScope;\n    if (!detached && activeEffectScope) {\n      this.index = (activeEffectScope.scopes || (activeEffectScope.scopes = [])).push(\n        this\n      ) - 1;\n    }\n  }\n  get active() {\n    return this._active;\n  }\n  pause() {\n    if (this._active) {\n      this._isPaused = true;\n      let i, l;\n      if (this.scopes) {\n        for (i = 0, l = this.scopes.length; i < l; i++) {\n          this.scopes[i].pause();\n        }\n      }\n      for (i = 0, l = this.effects.length; i < l; i++) {\n        this.effects[i].pause();\n      }\n    }\n  }\n  /**\n   * Resumes the effect scope, including all child scopes and effects.\n   */\n  resume() {\n    if (this._active) {\n      if (this._isPaused) {\n        this._isPaused = false;\n        let i, l;\n        if (this.scopes) {\n          for (i = 0, l = this.scopes.length; i < l; i++) {\n            this.scopes[i].resume();\n          }\n        }\n        for (i = 0, l = this.effects.length; i < l; i++) {\n          this.effects[i].resume();\n        }\n      }\n    }\n  }\n  run(fn) {\n    if (this._active) {\n      const currentEffectScope = activeEffectScope;\n      try {\n        activeEffectScope = this;\n        return fn();\n      } finally {\n        activeEffectScope = currentEffectScope;\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`cannot run an inactive effect scope.`);\n    }\n  }\n  /**\n   * This should only be called on non-detached scopes\n   * @internal\n   */\n  on() {\n    if (++this._on === 1) {\n      this.prevScope = activeEffectScope;\n      activeEffectScope = this;\n    }\n  }\n  /**\n   * This should only be called on non-detached scopes\n   * @internal\n   */\n  off() {\n    if (this._on > 0 && --this._on === 0) {\n      activeEffectScope = this.prevScope;\n      this.prevScope = void 0;\n    }\n  }\n  stop(fromParent) {\n    if (this._active) {\n      this._active = false;\n      let i, l;\n      for (i = 0, l = this.effects.length; i < l; i++) {\n        this.effects[i].stop();\n      }\n      this.effects.length = 0;\n      for (i = 0, l = this.cleanups.length; i < l; i++) {\n        this.cleanups[i]();\n      }\n      this.cleanups.length = 0;\n      if (this.scopes) {\n        for (i = 0, l = this.scopes.length; i < l; i++) {\n          this.scopes[i].stop(true);\n        }\n        this.scopes.length = 0;\n      }\n      if (!this.detached && this.parent && !fromParent) {\n        const last = this.parent.scopes.pop();\n        if (last && last !== this) {\n          this.parent.scopes[this.index] = last;\n          last.index = this.index;\n        }\n      }\n      this.parent = void 0;\n    }\n  }\n}\nfunction effectScope(detached) {\n  return new EffectScope(detached);\n}\nfunction getCurrentScope() {\n  return activeEffectScope;\n}\nfunction onScopeDispose(fn, failSilently = false) {\n  if (activeEffectScope) {\n    activeEffectScope.cleanups.push(fn);\n  } else if (!!(process.env.NODE_ENV !== \"production\") && !failSilently) {\n    warn(\n      `onScopeDispose() is called when there is no active effect scope to be associated with.`\n    );\n  }\n}\n\nlet activeSub;\nconst EffectFlags = {\n  \"ACTIVE\": 1,\n  \"1\": \"ACTIVE\",\n  \"RUNNING\": 2,\n  \"2\": \"RUNNING\",\n  \"TRACKING\": 4,\n  \"4\": \"TRACKING\",\n  \"NOTIFIED\": 8,\n  \"8\": \"NOTIFIED\",\n  \"DIRTY\": 16,\n  \"16\": \"DIRTY\",\n  \"ALLOW_RECURSE\": 32,\n  \"32\": \"ALLOW_RECURSE\",\n  \"PAUSED\": 64,\n  \"64\": \"PAUSED\",\n  \"EVALUATED\": 128,\n  \"128\": \"EVALUATED\"\n};\nconst pausedQueueEffects = /* @__PURE__ */ new WeakSet();\nclass ReactiveEffect {\n  constructor(fn) {\n    this.fn = fn;\n    /**\n     * @internal\n     */\n    this.deps = void 0;\n    /**\n     * @internal\n     */\n    this.depsTail = void 0;\n    /**\n     * @internal\n     */\n    this.flags = 1 | 4;\n    /**\n     * @internal\n     */\n    this.next = void 0;\n    /**\n     * @internal\n     */\n    this.cleanup = void 0;\n    this.scheduler = void 0;\n    if (activeEffectScope && activeEffectScope.active) {\n      activeEffectScope.effects.push(this);\n    }\n  }\n  pause() {\n    this.flags |= 64;\n  }\n  resume() {\n    if (this.flags & 64) {\n      this.flags &= -65;\n      if (pausedQueueEffects.has(this)) {\n        pausedQueueEffects.delete(this);\n        this.trigger();\n      }\n    }\n  }\n  /**\n   * @internal\n   */\n  notify() {\n    if (this.flags & 2 && !(this.flags & 32)) {\n      return;\n    }\n    if (!(this.flags & 8)) {\n      batch(this);\n    }\n  }\n  run() {\n    if (!(this.flags & 1)) {\n      return this.fn();\n    }\n    this.flags |= 2;\n    cleanupEffect(this);\n    prepareDeps(this);\n    const prevEffect = activeSub;\n    const prevShouldTrack = shouldTrack;\n    activeSub = this;\n    shouldTrack = true;\n    try {\n      return this.fn();\n    } finally {\n      if (!!(process.env.NODE_ENV !== \"production\") && activeSub !== this) {\n        warn(\n          \"Active effect was not restored correctly - this is likely a Vue internal bug.\"\n        );\n      }\n      cleanupDeps(this);\n      activeSub = prevEffect;\n      shouldTrack = prevShouldTrack;\n      this.flags &= -3;\n    }\n  }\n  stop() {\n    if (this.flags & 1) {\n      for (let link = this.deps; link; link = link.nextDep) {\n        removeSub(link);\n      }\n      this.deps = this.depsTail = void 0;\n      cleanupEffect(this);\n      this.onStop && this.onStop();\n      this.flags &= -2;\n    }\n  }\n  trigger() {\n    if (this.flags & 64) {\n      pausedQueueEffects.add(this);\n    } else if (this.scheduler) {\n      this.scheduler();\n    } else {\n      this.runIfDirty();\n    }\n  }\n  /**\n   * @internal\n   */\n  runIfDirty() {\n    if (isDirty(this)) {\n      this.run();\n    }\n  }\n  get dirty() {\n    return isDirty(this);\n  }\n}\nlet batchDepth = 0;\nlet batchedSub;\nlet batchedComputed;\nfunction batch(sub, isComputed = false) {\n  sub.flags |= 8;\n  if (isComputed) {\n    sub.next = batchedComputed;\n    batchedComputed = sub;\n    return;\n  }\n  sub.next = batchedSub;\n  batchedSub = sub;\n}\nfunction startBatch() {\n  batchDepth++;\n}\nfunction endBatch() {\n  if (--batchDepth > 0) {\n    return;\n  }\n  if (batchedComputed) {\n    let e = batchedComputed;\n    batchedComputed = void 0;\n    while (e) {\n      const next = e.next;\n      e.next = void 0;\n      e.flags &= -9;\n      e = next;\n    }\n  }\n  let error;\n  while (batchedSub) {\n    let e = batchedSub;\n    batchedSub = void 0;\n    while (e) {\n      const next = e.next;\n      e.next = void 0;\n      e.flags &= -9;\n      if (e.flags & 1) {\n        try {\n          ;\n          e.trigger();\n        } catch (err) {\n          if (!error) error = err;\n        }\n      }\n      e = next;\n    }\n  }\n  if (error) throw error;\n}\nfunction prepareDeps(sub) {\n  for (let link = sub.deps; link; link = link.nextDep) {\n    link.version = -1;\n    link.prevActiveLink = link.dep.activeLink;\n    link.dep.activeLink = link;\n  }\n}\nfunction cleanupDeps(sub) {\n  let head;\n  let tail = sub.depsTail;\n  let link = tail;\n  while (link) {\n    const prev = link.prevDep;\n    if (link.version === -1) {\n      if (link === tail) tail = prev;\n      removeSub(link);\n      removeDep(link);\n    } else {\n      head = link;\n    }\n    link.dep.activeLink = link.prevActiveLink;\n    link.prevActiveLink = void 0;\n    link = prev;\n  }\n  sub.deps = head;\n  sub.depsTail = tail;\n}\nfunction isDirty(sub) {\n  for (let link = sub.deps; link; link = link.nextDep) {\n    if (link.dep.version !== link.version || link.dep.computed && (refreshComputed(link.dep.computed) || link.dep.version !== link.version)) {\n      return true;\n    }\n  }\n  if (sub._dirty) {\n    return true;\n  }\n  return false;\n}\nfunction refreshComputed(computed) {\n  if (computed.flags & 4 && !(computed.flags & 16)) {\n    return;\n  }\n  computed.flags &= -17;\n  if (computed.globalVersion === globalVersion) {\n    return;\n  }\n  computed.globalVersion = globalVersion;\n  if (!computed.isSSR && computed.flags & 128 && (!computed.deps && !computed._dirty || !isDirty(computed))) {\n    return;\n  }\n  computed.flags |= 2;\n  const dep = computed.dep;\n  const prevSub = activeSub;\n  const prevShouldTrack = shouldTrack;\n  activeSub = computed;\n  shouldTrack = true;\n  try {\n    prepareDeps(computed);\n    const value = computed.fn(computed._value);\n    if (dep.version === 0 || hasChanged(value, computed._value)) {\n      computed.flags |= 128;\n      computed._value = value;\n      dep.version++;\n    }\n  } catch (err) {\n    dep.version++;\n    throw err;\n  } finally {\n    activeSub = prevSub;\n    shouldTrack = prevShouldTrack;\n    cleanupDeps(computed);\n    computed.flags &= -3;\n  }\n}\nfunction removeSub(link, soft = false) {\n  const { dep, prevSub, nextSub } = link;\n  if (prevSub) {\n    prevSub.nextSub = nextSub;\n    link.prevSub = void 0;\n  }\n  if (nextSub) {\n    nextSub.prevSub = prevSub;\n    link.nextSub = void 0;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && dep.subsHead === link) {\n    dep.subsHead = nextSub;\n  }\n  if (dep.subs === link) {\n    dep.subs = prevSub;\n    if (!prevSub && dep.computed) {\n      dep.computed.flags &= -5;\n      for (let l = dep.computed.deps; l; l = l.nextDep) {\n        removeSub(l, true);\n      }\n    }\n  }\n  if (!soft && !--dep.sc && dep.map) {\n    dep.map.delete(dep.key);\n  }\n}\nfunction removeDep(link) {\n  const { prevDep, nextDep } = link;\n  if (prevDep) {\n    prevDep.nextDep = nextDep;\n    link.prevDep = void 0;\n  }\n  if (nextDep) {\n    nextDep.prevDep = prevDep;\n    link.nextDep = void 0;\n  }\n}\nfunction effect(fn, options) {\n  if (fn.effect instanceof ReactiveEffect) {\n    fn = fn.effect.fn;\n  }\n  const e = new ReactiveEffect(fn);\n  if (options) {\n    extend(e, options);\n  }\n  try {\n    e.run();\n  } catch (err) {\n    e.stop();\n    throw err;\n  }\n  const runner = e.run.bind(e);\n  runner.effect = e;\n  return runner;\n}\nfunction stop(runner) {\n  runner.effect.stop();\n}\nlet shouldTrack = true;\nconst trackStack = [];\nfunction pauseTracking() {\n  trackStack.push(shouldTrack);\n  shouldTrack = false;\n}\nfunction enableTracking() {\n  trackStack.push(shouldTrack);\n  shouldTrack = true;\n}\nfunction resetTracking() {\n  const last = trackStack.pop();\n  shouldTrack = last === void 0 ? true : last;\n}\nfunction onEffectCleanup(fn, failSilently = false) {\n  if (activeSub instanceof ReactiveEffect) {\n    activeSub.cleanup = fn;\n  } else if (!!(process.env.NODE_ENV !== \"production\") && !failSilently) {\n    warn(\n      `onEffectCleanup() was called when there was no active effect to associate with.`\n    );\n  }\n}\nfunction cleanupEffect(e) {\n  const { cleanup } = e;\n  e.cleanup = void 0;\n  if (cleanup) {\n    const prevSub = activeSub;\n    activeSub = void 0;\n    try {\n      cleanup();\n    } finally {\n      activeSub = prevSub;\n    }\n  }\n}\n\nlet globalVersion = 0;\nclass Link {\n  constructor(sub, dep) {\n    this.sub = sub;\n    this.dep = dep;\n    this.version = dep.version;\n    this.nextDep = this.prevDep = this.nextSub = this.prevSub = this.prevActiveLink = void 0;\n  }\n}\nclass Dep {\n  // TODO isolatedDeclarations \"__v_skip\"\n  constructor(computed) {\n    this.computed = computed;\n    this.version = 0;\n    /**\n     * Link between this dep and the current active effect\n     */\n    this.activeLink = void 0;\n    /**\n     * Doubly linked list representing the subscribing effects (tail)\n     */\n    this.subs = void 0;\n    /**\n     * For object property deps cleanup\n     */\n    this.map = void 0;\n    this.key = void 0;\n    /**\n     * Subscriber counter\n     */\n    this.sc = 0;\n    /**\n     * @internal\n     */\n    this.__v_skip = true;\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      this.subsHead = void 0;\n    }\n  }\n  track(debugInfo) {\n    if (!activeSub || !shouldTrack || activeSub === this.computed) {\n      return;\n    }\n    let link = this.activeLink;\n    if (link === void 0 || link.sub !== activeSub) {\n      link = this.activeLink = new Link(activeSub, this);\n      if (!activeSub.deps) {\n        activeSub.deps = activeSub.depsTail = link;\n      } else {\n        link.prevDep = activeSub.depsTail;\n        activeSub.depsTail.nextDep = link;\n        activeSub.depsTail = link;\n      }\n      addSub(link);\n    } else if (link.version === -1) {\n      link.version = this.version;\n      if (link.nextDep) {\n        const next = link.nextDep;\n        next.prevDep = link.prevDep;\n        if (link.prevDep) {\n          link.prevDep.nextDep = next;\n        }\n        link.prevDep = activeSub.depsTail;\n        link.nextDep = void 0;\n        activeSub.depsTail.nextDep = link;\n        activeSub.depsTail = link;\n        if (activeSub.deps === link) {\n          activeSub.deps = next;\n        }\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") && activeSub.onTrack) {\n      activeSub.onTrack(\n        extend(\n          {\n            effect: activeSub\n          },\n          debugInfo\n        )\n      );\n    }\n    return link;\n  }\n  trigger(debugInfo) {\n    this.version++;\n    globalVersion++;\n    this.notify(debugInfo);\n  }\n  notify(debugInfo) {\n    startBatch();\n    try {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        for (let head = this.subsHead; head; head = head.nextSub) {\n          if (head.sub.onTrigger && !(head.sub.flags & 8)) {\n            head.sub.onTrigger(\n              extend(\n                {\n                  effect: head.sub\n                },\n                debugInfo\n              )\n            );\n          }\n        }\n      }\n      for (let link = this.subs; link; link = link.prevSub) {\n        if (link.sub.notify()) {\n          ;\n          link.sub.dep.notify();\n        }\n      }\n    } finally {\n      endBatch();\n    }\n  }\n}\nfunction addSub(link) {\n  link.dep.sc++;\n  if (link.sub.flags & 4) {\n    const computed = link.dep.computed;\n    if (computed && !link.dep.subs) {\n      computed.flags |= 4 | 16;\n      for (let l = computed.deps; l; l = l.nextDep) {\n        addSub(l);\n      }\n    }\n    const currentTail = link.dep.subs;\n    if (currentTail !== link) {\n      link.prevSub = currentTail;\n      if (currentTail) currentTail.nextSub = link;\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") && link.dep.subsHead === void 0) {\n      link.dep.subsHead = link;\n    }\n    link.dep.subs = link;\n  }\n}\nconst targetMap = /* @__PURE__ */ new WeakMap();\nconst ITERATE_KEY = Symbol(\n  !!(process.env.NODE_ENV !== \"production\") ? \"Object iterate\" : \"\"\n);\nconst MAP_KEY_ITERATE_KEY = Symbol(\n  !!(process.env.NODE_ENV !== \"production\") ? \"Map keys iterate\" : \"\"\n);\nconst ARRAY_ITERATE_KEY = Symbol(\n  !!(process.env.NODE_ENV !== \"production\") ? \"Array iterate\" : \"\"\n);\nfunction track(target, type, key) {\n  if (shouldTrack && activeSub) {\n    let depsMap = targetMap.get(target);\n    if (!depsMap) {\n      targetMap.set(target, depsMap = /* @__PURE__ */ new Map());\n    }\n    let dep = depsMap.get(key);\n    if (!dep) {\n      depsMap.set(key, dep = new Dep());\n      dep.map = depsMap;\n      dep.key = key;\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      dep.track({\n        target,\n        type,\n        key\n      });\n    } else {\n      dep.track();\n    }\n  }\n}\nfunction trigger(target, type, key, newValue, oldValue, oldTarget) {\n  const depsMap = targetMap.get(target);\n  if (!depsMap) {\n    globalVersion++;\n    return;\n  }\n  const run = (dep) => {\n    if (dep) {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        dep.trigger({\n          target,\n          type,\n          key,\n          newValue,\n          oldValue,\n          oldTarget\n        });\n      } else {\n        dep.trigger();\n      }\n    }\n  };\n  startBatch();\n  if (type === \"clear\") {\n    depsMap.forEach(run);\n  } else {\n    const targetIsArray = isArray(target);\n    const isArrayIndex = targetIsArray && isIntegerKey(key);\n    if (targetIsArray && key === \"length\") {\n      const newLength = Number(newValue);\n      depsMap.forEach((dep, key2) => {\n        if (key2 === \"length\" || key2 === ARRAY_ITERATE_KEY || !isSymbol(key2) && key2 >= newLength) {\n          run(dep);\n        }\n      });\n    } else {\n      if (key !== void 0 || depsMap.has(void 0)) {\n        run(depsMap.get(key));\n      }\n      if (isArrayIndex) {\n        run(depsMap.get(ARRAY_ITERATE_KEY));\n      }\n      switch (type) {\n        case \"add\":\n          if (!targetIsArray) {\n            run(depsMap.get(ITERATE_KEY));\n            if (isMap(target)) {\n              run(depsMap.get(MAP_KEY_ITERATE_KEY));\n            }\n          } else if (isArrayIndex) {\n            run(depsMap.get(\"length\"));\n          }\n          break;\n        case \"delete\":\n          if (!targetIsArray) {\n            run(depsMap.get(ITERATE_KEY));\n            if (isMap(target)) {\n              run(depsMap.get(MAP_KEY_ITERATE_KEY));\n            }\n          }\n          break;\n        case \"set\":\n          if (isMap(target)) {\n            run(depsMap.get(ITERATE_KEY));\n          }\n          break;\n      }\n    }\n  }\n  endBatch();\n}\nfunction getDepFromReactive(object, key) {\n  const depMap = targetMap.get(object);\n  return depMap && depMap.get(key);\n}\n\nfunction reactiveReadArray(array) {\n  const raw = toRaw(array);\n  if (raw === array) return raw;\n  track(raw, \"iterate\", ARRAY_ITERATE_KEY);\n  return isShallow(array) ? raw : raw.map(toReactive);\n}\nfunction shallowReadArray(arr) {\n  track(arr = toRaw(arr), \"iterate\", ARRAY_ITERATE_KEY);\n  return arr;\n}\nfunction toWrapped(target, item) {\n  if (isReadonly(target)) {\n    return isReactive(target) ? toReadonly(toReactive(item)) : toReadonly(item);\n  }\n  return toReactive(item);\n}\nconst arrayInstrumentations = {\n  __proto__: null,\n  [Symbol.iterator]() {\n    return iterator(this, Symbol.iterator, (item) => toWrapped(this, item));\n  },\n  concat(...args) {\n    return reactiveReadArray(this).concat(\n      ...args.map((x) => isArray(x) ? reactiveReadArray(x) : x)\n    );\n  },\n  entries() {\n    return iterator(this, \"entries\", (value) => {\n      value[1] = toWrapped(this, value[1]);\n      return value;\n    });\n  },\n  every(fn, thisArg) {\n    return apply(this, \"every\", fn, thisArg, void 0, arguments);\n  },\n  filter(fn, thisArg) {\n    return apply(\n      this,\n      \"filter\",\n      fn,\n      thisArg,\n      (v) => v.map((item) => toWrapped(this, item)),\n      arguments\n    );\n  },\n  find(fn, thisArg) {\n    return apply(\n      this,\n      \"find\",\n      fn,\n      thisArg,\n      (item) => toWrapped(this, item),\n      arguments\n    );\n  },\n  findIndex(fn, thisArg) {\n    return apply(this, \"findIndex\", fn, thisArg, void 0, arguments);\n  },\n  findLast(fn, thisArg) {\n    return apply(\n      this,\n      \"findLast\",\n      fn,\n      thisArg,\n      (item) => toWrapped(this, item),\n      arguments\n    );\n  },\n  findLastIndex(fn, thisArg) {\n    return apply(this, \"findLastIndex\", fn, thisArg, void 0, arguments);\n  },\n  // flat, flatMap could benefit from ARRAY_ITERATE but are not straight-forward to implement\n  forEach(fn, thisArg) {\n    return apply(this, \"forEach\", fn, thisArg, void 0, arguments);\n  },\n  includes(...args) {\n    return searchProxy(this, \"includes\", args);\n  },\n  indexOf(...args) {\n    return searchProxy(this, \"indexOf\", args);\n  },\n  join(separator) {\n    return reactiveReadArray(this).join(separator);\n  },\n  // keys() iterator only reads `length`, no optimization required\n  lastIndexOf(...args) {\n    return searchProxy(this, \"lastIndexOf\", args);\n  },\n  map(fn, thisArg) {\n    return apply(this, \"map\", fn, thisArg, void 0, arguments);\n  },\n  pop() {\n    return noTracking(this, \"pop\");\n  },\n  push(...args) {\n    return noTracking(this, \"push\", args);\n  },\n  reduce(fn, ...args) {\n    return reduce(this, \"reduce\", fn, args);\n  },\n  reduceRight(fn, ...args) {\n    return reduce(this, \"reduceRight\", fn, args);\n  },\n  shift() {\n    return noTracking(this, \"shift\");\n  },\n  // slice could use ARRAY_ITERATE but also seems to beg for range tracking\n  some(fn, thisArg) {\n    return apply(this, \"some\", fn, thisArg, void 0, arguments);\n  },\n  splice(...args) {\n    return noTracking(this, \"splice\", args);\n  },\n  toReversed() {\n    return reactiveReadArray(this).toReversed();\n  },\n  toSorted(comparer) {\n    return reactiveReadArray(this).toSorted(comparer);\n  },\n  toSpliced(...args) {\n    return reactiveReadArray(this).toSpliced(...args);\n  },\n  unshift(...args) {\n    return noTracking(this, \"unshift\", args);\n  },\n  values() {\n    return iterator(this, \"values\", (item) => toWrapped(this, item));\n  }\n};\nfunction iterator(self, method, wrapValue) {\n  const arr = shallowReadArray(self);\n  const iter = arr[method]();\n  if (arr !== self && !isShallow(self)) {\n    iter._next = iter.next;\n    iter.next = () => {\n      const result = iter._next();\n      if (!result.done) {\n        result.value = wrapValue(result.value);\n      }\n      return result;\n    };\n  }\n  return iter;\n}\nconst arrayProto = Array.prototype;\nfunction apply(self, method, fn, thisArg, wrappedRetFn, args) {\n  const arr = shallowReadArray(self);\n  const needsWrap = arr !== self && !isShallow(self);\n  const methodFn = arr[method];\n  if (methodFn !== arrayProto[method]) {\n    const result2 = methodFn.apply(self, args);\n    return needsWrap ? toReactive(result2) : result2;\n  }\n  let wrappedFn = fn;\n  if (arr !== self) {\n    if (needsWrap) {\n      wrappedFn = function(item, index) {\n        return fn.call(this, toWrapped(self, item), index, self);\n      };\n    } else if (fn.length > 2) {\n      wrappedFn = function(item, index) {\n        return fn.call(this, item, index, self);\n      };\n    }\n  }\n  const result = methodFn.call(arr, wrappedFn, thisArg);\n  return needsWrap && wrappedRetFn ? wrappedRetFn(result) : result;\n}\nfunction reduce(self, method, fn, args) {\n  const arr = shallowReadArray(self);\n  let wrappedFn = fn;\n  if (arr !== self) {\n    if (!isShallow(self)) {\n      wrappedFn = function(acc, item, index) {\n        return fn.call(this, acc, toWrapped(self, item), index, self);\n      };\n    } else if (fn.length > 3) {\n      wrappedFn = function(acc, item, index) {\n        return fn.call(this, acc, item, index, self);\n      };\n    }\n  }\n  return arr[method](wrappedFn, ...args);\n}\nfunction searchProxy(self, method, args) {\n  const arr = toRaw(self);\n  track(arr, \"iterate\", ARRAY_ITERATE_KEY);\n  const res = arr[method](...args);\n  if ((res === -1 || res === false) && isProxy(args[0])) {\n    args[0] = toRaw(args[0]);\n    return arr[method](...args);\n  }\n  return res;\n}\nfunction noTracking(self, method, args = []) {\n  pauseTracking();\n  startBatch();\n  const res = toRaw(self)[method].apply(self, args);\n  endBatch();\n  resetTracking();\n  return res;\n}\n\nconst isNonTrackableKeys = /* @__PURE__ */ makeMap(`__proto__,__v_isRef,__isVue`);\nconst builtInSymbols = new Set(\n  /* @__PURE__ */ Object.getOwnPropertyNames(Symbol).filter((key) => key !== \"arguments\" && key !== \"caller\").map((key) => Symbol[key]).filter(isSymbol)\n);\nfunction hasOwnProperty(key) {\n  if (!isSymbol(key)) key = String(key);\n  const obj = toRaw(this);\n  track(obj, \"has\", key);\n  return obj.hasOwnProperty(key);\n}\nclass BaseReactiveHandler {\n  constructor(_isReadonly = false, _isShallow = false) {\n    this._isReadonly = _isReadonly;\n    this._isShallow = _isShallow;\n  }\n  get(target, key, receiver) {\n    if (key === \"__v_skip\") return target[\"__v_skip\"];\n    const isReadonly2 = this._isReadonly, isShallow2 = this._isShallow;\n    if (key === \"__v_isReactive\") {\n      return !isReadonly2;\n    } else if (key === \"__v_isReadonly\") {\n      return isReadonly2;\n    } else if (key === \"__v_isShallow\") {\n      return isShallow2;\n    } else if (key === \"__v_raw\") {\n      if (receiver === (isReadonly2 ? isShallow2 ? shallowReadonlyMap : readonlyMap : isShallow2 ? shallowReactiveMap : reactiveMap).get(target) || // receiver is not the reactive proxy, but has the same prototype\n      // this means the receiver is a user proxy of the reactive proxy\n      Object.getPrototypeOf(target) === Object.getPrototypeOf(receiver)) {\n        return target;\n      }\n      return;\n    }\n    const targetIsArray = isArray(target);\n    if (!isReadonly2) {\n      let fn;\n      if (targetIsArray && (fn = arrayInstrumentations[key])) {\n        return fn;\n      }\n      if (key === \"hasOwnProperty\") {\n        return hasOwnProperty;\n      }\n    }\n    const res = Reflect.get(\n      target,\n      key,\n      // if this is a proxy wrapping a ref, return methods using the raw ref\n      // as receiver so that we don't have to call `toRaw` on the ref in all\n      // its class methods\n      isRef(target) ? target : receiver\n    );\n    if (isSymbol(key) ? builtInSymbols.has(key) : isNonTrackableKeys(key)) {\n      return res;\n    }\n    if (!isReadonly2) {\n      track(target, \"get\", key);\n    }\n    if (isShallow2) {\n      return res;\n    }\n    if (isRef(res)) {\n      const value = targetIsArray && isIntegerKey(key) ? res : res.value;\n      return isReadonly2 && isObject(value) ? readonly(value) : value;\n    }\n    if (isObject(res)) {\n      return isReadonly2 ? readonly(res) : reactive(res);\n    }\n    return res;\n  }\n}\nclass MutableReactiveHandler extends BaseReactiveHandler {\n  constructor(isShallow2 = false) {\n    super(false, isShallow2);\n  }\n  set(target, key, value, receiver) {\n    let oldValue = target[key];\n    const isArrayWithIntegerKey = isArray(target) && isIntegerKey(key);\n    if (!this._isShallow) {\n      const isOldValueReadonly = isReadonly(oldValue);\n      if (!isShallow(value) && !isReadonly(value)) {\n        oldValue = toRaw(oldValue);\n        value = toRaw(value);\n      }\n      if (!isArrayWithIntegerKey && isRef(oldValue) && !isRef(value)) {\n        if (isOldValueReadonly) {\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            warn(\n              `Set operation on key \"${String(key)}\" failed: target is readonly.`,\n              target[key]\n            );\n          }\n          return true;\n        } else {\n          oldValue.value = value;\n          return true;\n        }\n      }\n    }\n    const hadKey = isArrayWithIntegerKey ? Number(key) < target.length : hasOwn(target, key);\n    const result = Reflect.set(\n      target,\n      key,\n      value,\n      isRef(target) ? target : receiver\n    );\n    if (target === toRaw(receiver)) {\n      if (!hadKey) {\n        trigger(target, \"add\", key, value);\n      } else if (hasChanged(value, oldValue)) {\n        trigger(target, \"set\", key, value, oldValue);\n      }\n    }\n    return result;\n  }\n  deleteProperty(target, key) {\n    const hadKey = hasOwn(target, key);\n    const oldValue = target[key];\n    const result = Reflect.deleteProperty(target, key);\n    if (result && hadKey) {\n      trigger(target, \"delete\", key, void 0, oldValue);\n    }\n    return result;\n  }\n  has(target, key) {\n    const result = Reflect.has(target, key);\n    if (!isSymbol(key) || !builtInSymbols.has(key)) {\n      track(target, \"has\", key);\n    }\n    return result;\n  }\n  ownKeys(target) {\n    track(\n      target,\n      \"iterate\",\n      isArray(target) ? \"length\" : ITERATE_KEY\n    );\n    return Reflect.ownKeys(target);\n  }\n}\nclass ReadonlyReactiveHandler extends BaseReactiveHandler {\n  constructor(isShallow2 = false) {\n    super(true, isShallow2);\n  }\n  set(target, key) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\n        `Set operation on key \"${String(key)}\" failed: target is readonly.`,\n        target\n      );\n    }\n    return true;\n  }\n  deleteProperty(target, key) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\n        `Delete operation on key \"${String(key)}\" failed: target is readonly.`,\n        target\n      );\n    }\n    return true;\n  }\n}\nconst mutableHandlers = /* @__PURE__ */ new MutableReactiveHandler();\nconst readonlyHandlers = /* @__PURE__ */ new ReadonlyReactiveHandler();\nconst shallowReactiveHandlers = /* @__PURE__ */ new MutableReactiveHandler(true);\nconst shallowReadonlyHandlers = /* @__PURE__ */ new ReadonlyReactiveHandler(true);\n\nconst toShallow = (value) => value;\nconst getProto = (v) => Reflect.getPrototypeOf(v);\nfunction createIterableMethod(method, isReadonly2, isShallow2) {\n  return function(...args) {\n    const target = this[\"__v_raw\"];\n    const rawTarget = toRaw(target);\n    const targetIsMap = isMap(rawTarget);\n    const isPair = method === \"entries\" || method === Symbol.iterator && targetIsMap;\n    const isKeyOnly = method === \"keys\" && targetIsMap;\n    const innerIterator = target[method](...args);\n    const wrap = isShallow2 ? toShallow : isReadonly2 ? toReadonly : toReactive;\n    !isReadonly2 && track(\n      rawTarget,\n      \"iterate\",\n      isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY\n    );\n    return {\n      // iterator protocol\n      next() {\n        const { value, done } = innerIterator.next();\n        return done ? { value, done } : {\n          value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),\n          done\n        };\n      },\n      // iterable protocol\n      [Symbol.iterator]() {\n        return this;\n      }\n    };\n  };\n}\nfunction createReadonlyMethod(type) {\n  return function(...args) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      const key = args[0] ? `on key \"${args[0]}\" ` : ``;\n      warn(\n        `${capitalize(type)} operation ${key}failed: target is readonly.`,\n        toRaw(this)\n      );\n    }\n    return type === \"delete\" ? false : type === \"clear\" ? void 0 : this;\n  };\n}\nfunction createInstrumentations(readonly, shallow) {\n  const instrumentations = {\n    get(key) {\n      const target = this[\"__v_raw\"];\n      const rawTarget = toRaw(target);\n      const rawKey = toRaw(key);\n      if (!readonly) {\n        if (hasChanged(key, rawKey)) {\n          track(rawTarget, \"get\", key);\n        }\n        track(rawTarget, \"get\", rawKey);\n      }\n      const { has } = getProto(rawTarget);\n      const wrap = shallow ? toShallow : readonly ? toReadonly : toReactive;\n      if (has.call(rawTarget, key)) {\n        return wrap(target.get(key));\n      } else if (has.call(rawTarget, rawKey)) {\n        return wrap(target.get(rawKey));\n      } else if (target !== rawTarget) {\n        target.get(key);\n      }\n    },\n    get size() {\n      const target = this[\"__v_raw\"];\n      !readonly && track(toRaw(target), \"iterate\", ITERATE_KEY);\n      return target.size;\n    },\n    has(key) {\n      const target = this[\"__v_raw\"];\n      const rawTarget = toRaw(target);\n      const rawKey = toRaw(key);\n      if (!readonly) {\n        if (hasChanged(key, rawKey)) {\n          track(rawTarget, \"has\", key);\n        }\n        track(rawTarget, \"has\", rawKey);\n      }\n      return key === rawKey ? target.has(key) : target.has(key) || target.has(rawKey);\n    },\n    forEach(callback, thisArg) {\n      const observed = this;\n      const target = observed[\"__v_raw\"];\n      const rawTarget = toRaw(target);\n      const wrap = shallow ? toShallow : readonly ? toReadonly : toReactive;\n      !readonly && track(rawTarget, \"iterate\", ITERATE_KEY);\n      return target.forEach((value, key) => {\n        return callback.call(thisArg, wrap(value), wrap(key), observed);\n      });\n    }\n  };\n  extend(\n    instrumentations,\n    readonly ? {\n      add: createReadonlyMethod(\"add\"),\n      set: createReadonlyMethod(\"set\"),\n      delete: createReadonlyMethod(\"delete\"),\n      clear: createReadonlyMethod(\"clear\")\n    } : {\n      add(value) {\n        if (!shallow && !isShallow(value) && !isReadonly(value)) {\n          value = toRaw(value);\n        }\n        const target = toRaw(this);\n        const proto = getProto(target);\n        const hadKey = proto.has.call(target, value);\n        if (!hadKey) {\n          target.add(value);\n          trigger(target, \"add\", value, value);\n        }\n        return this;\n      },\n      set(key, value) {\n        if (!shallow && !isShallow(value) && !isReadonly(value)) {\n          value = toRaw(value);\n        }\n        const target = toRaw(this);\n        const { has, get } = getProto(target);\n        let hadKey = has.call(target, key);\n        if (!hadKey) {\n          key = toRaw(key);\n          hadKey = has.call(target, key);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          checkIdentityKeys(target, has, key);\n        }\n        const oldValue = get.call(target, key);\n        target.set(key, value);\n        if (!hadKey) {\n          trigger(target, \"add\", key, value);\n        } else if (hasChanged(value, oldValue)) {\n          trigger(target, \"set\", key, value, oldValue);\n        }\n        return this;\n      },\n      delete(key) {\n        const target = toRaw(this);\n        const { has, get } = getProto(target);\n        let hadKey = has.call(target, key);\n        if (!hadKey) {\n          key = toRaw(key);\n          hadKey = has.call(target, key);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          checkIdentityKeys(target, has, key);\n        }\n        const oldValue = get ? get.call(target, key) : void 0;\n        const result = target.delete(key);\n        if (hadKey) {\n          trigger(target, \"delete\", key, void 0, oldValue);\n        }\n        return result;\n      },\n      clear() {\n        const target = toRaw(this);\n        const hadItems = target.size !== 0;\n        const oldTarget = !!(process.env.NODE_ENV !== \"production\") ? isMap(target) ? new Map(target) : new Set(target) : void 0;\n        const result = target.clear();\n        if (hadItems) {\n          trigger(\n            target,\n            \"clear\",\n            void 0,\n            void 0,\n            oldTarget\n          );\n        }\n        return result;\n      }\n    }\n  );\n  const iteratorMethods = [\n    \"keys\",\n    \"values\",\n    \"entries\",\n    Symbol.iterator\n  ];\n  iteratorMethods.forEach((method) => {\n    instrumentations[method] = createIterableMethod(method, readonly, shallow);\n  });\n  return instrumentations;\n}\nfunction createInstrumentationGetter(isReadonly2, shallow) {\n  const instrumentations = createInstrumentations(isReadonly2, shallow);\n  return (target, key, receiver) => {\n    if (key === \"__v_isReactive\") {\n      return !isReadonly2;\n    } else if (key === \"__v_isReadonly\") {\n      return isReadonly2;\n    } else if (key === \"__v_raw\") {\n      return target;\n    }\n    return Reflect.get(\n      hasOwn(instrumentations, key) && key in target ? instrumentations : target,\n      key,\n      receiver\n    );\n  };\n}\nconst mutableCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(false, false)\n};\nconst shallowCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(false, true)\n};\nconst readonlyCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(true, false)\n};\nconst shallowReadonlyCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(true, true)\n};\nfunction checkIdentityKeys(target, has, key) {\n  const rawKey = toRaw(key);\n  if (rawKey !== key && has.call(target, rawKey)) {\n    const type = toRawType(target);\n    warn(\n      `Reactive ${type} contains both the raw and reactive versions of the same object${type === `Map` ? ` as keys` : ``}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`\n    );\n  }\n}\n\nconst reactiveMap = /* @__PURE__ */ new WeakMap();\nconst shallowReactiveMap = /* @__PURE__ */ new WeakMap();\nconst readonlyMap = /* @__PURE__ */ new WeakMap();\nconst shallowReadonlyMap = /* @__PURE__ */ new WeakMap();\nfunction targetTypeMap(rawType) {\n  switch (rawType) {\n    case \"Object\":\n    case \"Array\":\n      return 1 /* COMMON */;\n    case \"Map\":\n    case \"Set\":\n    case \"WeakMap\":\n    case \"WeakSet\":\n      return 2 /* COLLECTION */;\n    default:\n      return 0 /* INVALID */;\n  }\n}\nfunction getTargetType(value) {\n  return value[\"__v_skip\"] || !Object.isExtensible(value) ? 0 /* INVALID */ : targetTypeMap(toRawType(value));\n}\nfunction reactive(target) {\n  if (isReadonly(target)) {\n    return target;\n  }\n  return createReactiveObject(\n    target,\n    false,\n    mutableHandlers,\n    mutableCollectionHandlers,\n    reactiveMap\n  );\n}\nfunction shallowReactive(target) {\n  return createReactiveObject(\n    target,\n    false,\n    shallowReactiveHandlers,\n    shallowCollectionHandlers,\n    shallowReactiveMap\n  );\n}\nfunction readonly(target) {\n  return createReactiveObject(\n    target,\n    true,\n    readonlyHandlers,\n    readonlyCollectionHandlers,\n    readonlyMap\n  );\n}\nfunction shallowReadonly(target) {\n  return createReactiveObject(\n    target,\n    true,\n    shallowReadonlyHandlers,\n    shallowReadonlyCollectionHandlers,\n    shallowReadonlyMap\n  );\n}\nfunction createReactiveObject(target, isReadonly2, baseHandlers, collectionHandlers, proxyMap) {\n  if (!isObject(target)) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\n        `value cannot be made ${isReadonly2 ? \"readonly\" : \"reactive\"}: ${String(\n          target\n        )}`\n      );\n    }\n    return target;\n  }\n  if (target[\"__v_raw\"] && !(isReadonly2 && target[\"__v_isReactive\"])) {\n    return target;\n  }\n  const targetType = getTargetType(target);\n  if (targetType === 0 /* INVALID */) {\n    return target;\n  }\n  const existingProxy = proxyMap.get(target);\n  if (existingProxy) {\n    return existingProxy;\n  }\n  const proxy = new Proxy(\n    target,\n    targetType === 2 /* COLLECTION */ ? collectionHandlers : baseHandlers\n  );\n  proxyMap.set(target, proxy);\n  return proxy;\n}\nfunction isReactive(value) {\n  if (isReadonly(value)) {\n    return isReactive(value[\"__v_raw\"]);\n  }\n  return !!(value && value[\"__v_isReactive\"]);\n}\nfunction isReadonly(value) {\n  return !!(value && value[\"__v_isReadonly\"]);\n}\nfunction isShallow(value) {\n  return !!(value && value[\"__v_isShallow\"]);\n}\nfunction isProxy(value) {\n  return value ? !!value[\"__v_raw\"] : false;\n}\nfunction toRaw(observed) {\n  const raw = observed && observed[\"__v_raw\"];\n  return raw ? toRaw(raw) : observed;\n}\nfunction markRaw(value) {\n  if (!hasOwn(value, \"__v_skip\") && Object.isExtensible(value)) {\n    def(value, \"__v_skip\", true);\n  }\n  return value;\n}\nconst toReactive = (value) => isObject(value) ? reactive(value) : value;\nconst toReadonly = (value) => isObject(value) ? readonly(value) : value;\n\nfunction isRef(r) {\n  return r ? r[\"__v_isRef\"] === true : false;\n}\nfunction ref(value) {\n  return createRef(value, false);\n}\nfunction shallowRef(value) {\n  return createRef(value, true);\n}\nfunction createRef(rawValue, shallow) {\n  if (isRef(rawValue)) {\n    return rawValue;\n  }\n  return new RefImpl(rawValue, shallow);\n}\nclass RefImpl {\n  constructor(value, isShallow2) {\n    this.dep = new Dep();\n    this[\"__v_isRef\"] = true;\n    this[\"__v_isShallow\"] = false;\n    this._rawValue = isShallow2 ? value : toRaw(value);\n    this._value = isShallow2 ? value : toReactive(value);\n    this[\"__v_isShallow\"] = isShallow2;\n  }\n  get value() {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      this.dep.track({\n        target: this,\n        type: \"get\",\n        key: \"value\"\n      });\n    } else {\n      this.dep.track();\n    }\n    return this._value;\n  }\n  set value(newValue) {\n    const oldValue = this._rawValue;\n    const useDirectValue = this[\"__v_isShallow\"] || isShallow(newValue) || isReadonly(newValue);\n    newValue = useDirectValue ? newValue : toRaw(newValue);\n    if (hasChanged(newValue, oldValue)) {\n      this._rawValue = newValue;\n      this._value = useDirectValue ? newValue : toReactive(newValue);\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        this.dep.trigger({\n          target: this,\n          type: \"set\",\n          key: \"value\",\n          newValue,\n          oldValue\n        });\n      } else {\n        this.dep.trigger();\n      }\n    }\n  }\n}\nfunction triggerRef(ref2) {\n  if (ref2.dep) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      ref2.dep.trigger({\n        target: ref2,\n        type: \"set\",\n        key: \"value\",\n        newValue: ref2._value\n      });\n    } else {\n      ref2.dep.trigger();\n    }\n  }\n}\nfunction unref(ref2) {\n  return isRef(ref2) ? ref2.value : ref2;\n}\nfunction toValue(source) {\n  return isFunction(source) ? source() : unref(source);\n}\nconst shallowUnwrapHandlers = {\n  get: (target, key, receiver) => key === \"__v_raw\" ? target : unref(Reflect.get(target, key, receiver)),\n  set: (target, key, value, receiver) => {\n    const oldValue = target[key];\n    if (isRef(oldValue) && !isRef(value)) {\n      oldValue.value = value;\n      return true;\n    } else {\n      return Reflect.set(target, key, value, receiver);\n    }\n  }\n};\nfunction proxyRefs(objectWithRefs) {\n  return isReactive(objectWithRefs) ? objectWithRefs : new Proxy(objectWithRefs, shallowUnwrapHandlers);\n}\nclass CustomRefImpl {\n  constructor(factory) {\n    this[\"__v_isRef\"] = true;\n    this._value = void 0;\n    const dep = this.dep = new Dep();\n    const { get, set } = factory(dep.track.bind(dep), dep.trigger.bind(dep));\n    this._get = get;\n    this._set = set;\n  }\n  get value() {\n    return this._value = this._get();\n  }\n  set value(newVal) {\n    this._set(newVal);\n  }\n}\nfunction customRef(factory) {\n  return new CustomRefImpl(factory);\n}\nfunction toRefs(object) {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isProxy(object)) {\n    warn(`toRefs() expects a reactive object but received a plain one.`);\n  }\n  const ret = isArray(object) ? new Array(object.length) : {};\n  for (const key in object) {\n    ret[key] = propertyToRef(object, key);\n  }\n  return ret;\n}\nclass ObjectRefImpl {\n  constructor(_object, _key, _defaultValue) {\n    this._object = _object;\n    this._key = _key;\n    this._defaultValue = _defaultValue;\n    this[\"__v_isRef\"] = true;\n    this._value = void 0;\n    this._raw = toRaw(_object);\n    let shallow = true;\n    let obj = _object;\n    if (!isArray(_object) || !isIntegerKey(String(_key))) {\n      do {\n        shallow = !isProxy(obj) || isShallow(obj);\n      } while (shallow && (obj = obj[\"__v_raw\"]));\n    }\n    this._shallow = shallow;\n  }\n  get value() {\n    let val = this._object[this._key];\n    if (this._shallow) {\n      val = unref(val);\n    }\n    return this._value = val === void 0 ? this._defaultValue : val;\n  }\n  set value(newVal) {\n    if (this._shallow && isRef(this._raw[this._key])) {\n      const nestedRef = this._object[this._key];\n      if (isRef(nestedRef)) {\n        nestedRef.value = newVal;\n        return;\n      }\n    }\n    this._object[this._key] = newVal;\n  }\n  get dep() {\n    return getDepFromReactive(this._raw, this._key);\n  }\n}\nclass GetterRefImpl {\n  constructor(_getter) {\n    this._getter = _getter;\n    this[\"__v_isRef\"] = true;\n    this[\"__v_isReadonly\"] = true;\n    this._value = void 0;\n  }\n  get value() {\n    return this._value = this._getter();\n  }\n}\nfunction toRef(source, key, defaultValue) {\n  if (isRef(source)) {\n    return source;\n  } else if (isFunction(source)) {\n    return new GetterRefImpl(source);\n  } else if (isObject(source) && arguments.length > 1) {\n    return propertyToRef(source, key, defaultValue);\n  } else {\n    return ref(source);\n  }\n}\nfunction propertyToRef(source, key, defaultValue) {\n  return new ObjectRefImpl(source, key, defaultValue);\n}\n\nclass ComputedRefImpl {\n  constructor(fn, setter, isSSR) {\n    this.fn = fn;\n    this.setter = setter;\n    /**\n     * @internal\n     */\n    this._value = void 0;\n    /**\n     * @internal\n     */\n    this.dep = new Dep(this);\n    /**\n     * @internal\n     */\n    this.__v_isRef = true;\n    // TODO isolatedDeclarations \"__v_isReadonly\"\n    // A computed is also a subscriber that tracks other deps\n    /**\n     * @internal\n     */\n    this.deps = void 0;\n    /**\n     * @internal\n     */\n    this.depsTail = void 0;\n    /**\n     * @internal\n     */\n    this.flags = 16;\n    /**\n     * @internal\n     */\n    this.globalVersion = globalVersion - 1;\n    /**\n     * @internal\n     */\n    this.next = void 0;\n    // for backwards compat\n    this.effect = this;\n    this[\"__v_isReadonly\"] = !setter;\n    this.isSSR = isSSR;\n  }\n  /**\n   * @internal\n   */\n  notify() {\n    this.flags |= 16;\n    if (!(this.flags & 8) && // avoid infinite self recursion\n    activeSub !== this) {\n      batch(this, true);\n      return true;\n    } else if (!!(process.env.NODE_ENV !== \"production\")) ;\n  }\n  get value() {\n    const link = !!(process.env.NODE_ENV !== \"production\") ? this.dep.track({\n      target: this,\n      type: \"get\",\n      key: \"value\"\n    }) : this.dep.track();\n    refreshComputed(this);\n    if (link) {\n      link.version = this.dep.version;\n    }\n    return this._value;\n  }\n  set value(newValue) {\n    if (this.setter) {\n      this.setter(newValue);\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\"Write operation failed: computed value is readonly\");\n    }\n  }\n}\nfunction computed(getterOrOptions, debugOptions, isSSR = false) {\n  let getter;\n  let setter;\n  if (isFunction(getterOrOptions)) {\n    getter = getterOrOptions;\n  } else {\n    getter = getterOrOptions.get;\n    setter = getterOrOptions.set;\n  }\n  const cRef = new ComputedRefImpl(getter, setter, isSSR);\n  if (!!(process.env.NODE_ENV !== \"production\") && debugOptions && !isSSR) {\n    cRef.onTrack = debugOptions.onTrack;\n    cRef.onTrigger = debugOptions.onTrigger;\n  }\n  return cRef;\n}\n\nconst TrackOpTypes = {\n  \"GET\": \"get\",\n  \"HAS\": \"has\",\n  \"ITERATE\": \"iterate\"\n};\nconst TriggerOpTypes = {\n  \"SET\": \"set\",\n  \"ADD\": \"add\",\n  \"DELETE\": \"delete\",\n  \"CLEAR\": \"clear\"\n};\nconst ReactiveFlags = {\n  \"SKIP\": \"__v_skip\",\n  \"IS_REACTIVE\": \"__v_isReactive\",\n  \"IS_READONLY\": \"__v_isReadonly\",\n  \"IS_SHALLOW\": \"__v_isShallow\",\n  \"RAW\": \"__v_raw\",\n  \"IS_REF\": \"__v_isRef\"\n};\n\nconst WatchErrorCodes = {\n  \"WATCH_GETTER\": 2,\n  \"2\": \"WATCH_GETTER\",\n  \"WATCH_CALLBACK\": 3,\n  \"3\": \"WATCH_CALLBACK\",\n  \"WATCH_CLEANUP\": 4,\n  \"4\": \"WATCH_CLEANUP\"\n};\nconst INITIAL_WATCHER_VALUE = {};\nconst cleanupMap = /* @__PURE__ */ new WeakMap();\nlet activeWatcher = void 0;\nfunction getCurrentWatcher() {\n  return activeWatcher;\n}\nfunction onWatcherCleanup(cleanupFn, failSilently = false, owner = activeWatcher) {\n  if (owner) {\n    let cleanups = cleanupMap.get(owner);\n    if (!cleanups) cleanupMap.set(owner, cleanups = []);\n    cleanups.push(cleanupFn);\n  } else if (!!(process.env.NODE_ENV !== \"production\") && !failSilently) {\n    warn(\n      `onWatcherCleanup() was called when there was no active watcher to associate with.`\n    );\n  }\n}\nfunction watch(source, cb, options = EMPTY_OBJ) {\n  const { immediate, deep, once, scheduler, augmentJob, call } = options;\n  const warnInvalidSource = (s) => {\n    (options.onWarn || warn)(\n      `Invalid watch source: `,\n      s,\n      `A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.`\n    );\n  };\n  const reactiveGetter = (source2) => {\n    if (deep) return source2;\n    if (isShallow(source2) || deep === false || deep === 0)\n      return traverse(source2, 1);\n    return traverse(source2);\n  };\n  let effect;\n  let getter;\n  let cleanup;\n  let boundCleanup;\n  let forceTrigger = false;\n  let isMultiSource = false;\n  if (isRef(source)) {\n    getter = () => source.value;\n    forceTrigger = isShallow(source);\n  } else if (isReactive(source)) {\n    getter = () => reactiveGetter(source);\n    forceTrigger = true;\n  } else if (isArray(source)) {\n    isMultiSource = true;\n    forceTrigger = source.some((s) => isReactive(s) || isShallow(s));\n    getter = () => source.map((s) => {\n      if (isRef(s)) {\n        return s.value;\n      } else if (isReactive(s)) {\n        return reactiveGetter(s);\n      } else if (isFunction(s)) {\n        return call ? call(s, 2) : s();\n      } else {\n        !!(process.env.NODE_ENV !== \"production\") && warnInvalidSource(s);\n      }\n    });\n  } else if (isFunction(source)) {\n    if (cb) {\n      getter = call ? () => call(source, 2) : source;\n    } else {\n      getter = () => {\n        if (cleanup) {\n          pauseTracking();\n          try {\n            cleanup();\n          } finally {\n            resetTracking();\n          }\n        }\n        const currentEffect = activeWatcher;\n        activeWatcher = effect;\n        try {\n          return call ? call(source, 3, [boundCleanup]) : source(boundCleanup);\n        } finally {\n          activeWatcher = currentEffect;\n        }\n      };\n    }\n  } else {\n    getter = NOOP;\n    !!(process.env.NODE_ENV !== \"production\") && warnInvalidSource(source);\n  }\n  if (cb && deep) {\n    const baseGetter = getter;\n    const depth = deep === true ? Infinity : deep;\n    getter = () => traverse(baseGetter(), depth);\n  }\n  const scope = getCurrentScope();\n  const watchHandle = () => {\n    effect.stop();\n    if (scope && scope.active) {\n      remove(scope.effects, effect);\n    }\n  };\n  if (once && cb) {\n    const _cb = cb;\n    cb = (...args) => {\n      _cb(...args);\n      watchHandle();\n    };\n  }\n  let oldValue = isMultiSource ? new Array(source.length).fill(INITIAL_WATCHER_VALUE) : INITIAL_WATCHER_VALUE;\n  const job = (immediateFirstRun) => {\n    if (!(effect.flags & 1) || !effect.dirty && !immediateFirstRun) {\n      return;\n    }\n    if (cb) {\n      const newValue = effect.run();\n      if (deep || forceTrigger || (isMultiSource ? newValue.some((v, i) => hasChanged(v, oldValue[i])) : hasChanged(newValue, oldValue))) {\n        if (cleanup) {\n          cleanup();\n        }\n        const currentWatcher = activeWatcher;\n        activeWatcher = effect;\n        try {\n          const args = [\n            newValue,\n            // pass undefined as the old value when it's changed for the first time\n            oldValue === INITIAL_WATCHER_VALUE ? void 0 : isMultiSource && oldValue[0] === INITIAL_WATCHER_VALUE ? [] : oldValue,\n            boundCleanup\n          ];\n          oldValue = newValue;\n          call ? call(cb, 3, args) : (\n            // @ts-expect-error\n            cb(...args)\n          );\n        } finally {\n          activeWatcher = currentWatcher;\n        }\n      }\n    } else {\n      effect.run();\n    }\n  };\n  if (augmentJob) {\n    augmentJob(job);\n  }\n  effect = new ReactiveEffect(getter);\n  effect.scheduler = scheduler ? () => scheduler(job, false) : job;\n  boundCleanup = (fn) => onWatcherCleanup(fn, false, effect);\n  cleanup = effect.onStop = () => {\n    const cleanups = cleanupMap.get(effect);\n    if (cleanups) {\n      if (call) {\n        call(cleanups, 4);\n      } else {\n        for (const cleanup2 of cleanups) cleanup2();\n      }\n      cleanupMap.delete(effect);\n    }\n  };\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    effect.onTrack = options.onTrack;\n    effect.onTrigger = options.onTrigger;\n  }\n  if (cb) {\n    if (immediate) {\n      job(true);\n    } else {\n      oldValue = effect.run();\n    }\n  } else if (scheduler) {\n    scheduler(job.bind(null, true), true);\n  } else {\n    effect.run();\n  }\n  watchHandle.pause = effect.pause.bind(effect);\n  watchHandle.resume = effect.resume.bind(effect);\n  watchHandle.stop = watchHandle;\n  return watchHandle;\n}\nfunction traverse(value, depth = Infinity, seen) {\n  if (depth <= 0 || !isObject(value) || value[\"__v_skip\"]) {\n    return value;\n  }\n  seen = seen || /* @__PURE__ */ new Map();\n  if ((seen.get(value) || 0) >= depth) {\n    return value;\n  }\n  seen.set(value, depth);\n  depth--;\n  if (isRef(value)) {\n    traverse(value.value, depth, seen);\n  } else if (isArray(value)) {\n    for (let i = 0; i < value.length; i++) {\n      traverse(value[i], depth, seen);\n    }\n  } else if (isSet(value) || isMap(value)) {\n    value.forEach((v) => {\n      traverse(v, depth, seen);\n    });\n  } else if (isPlainObject(value)) {\n    for (const key in value) {\n      traverse(value[key], depth, seen);\n    }\n    for (const key of Object.getOwnPropertySymbols(value)) {\n      if (Object.prototype.propertyIsEnumerable.call(value, key)) {\n        traverse(value[key], depth, seen);\n      }\n    }\n  }\n  return value;\n}\n\nexport { ARRAY_ITERATE_KEY, EffectFlags, EffectScope, ITERATE_KEY, MAP_KEY_ITERATE_KEY, ReactiveEffect, ReactiveFlags, TrackOpTypes, TriggerOpTypes, WatchErrorCodes, computed, customRef, effect, effectScope, enableTracking, getCurrentScope, getCurrentWatcher, isProxy, isReactive, isReadonly, isRef, isShallow, markRaw, onEffectCleanup, onScopeDispose, onWatcherCleanup, pauseTracking, proxyRefs, reactive, reactiveReadArray, readonly, ref, resetTracking, shallowReactive, shallowReadArray, shallowReadonly, shallowRef, stop, toRaw, toReactive, toReadonly, toRef, toRefs, toValue, track, traverse, trigger, triggerRef, unref, watch };\n","/**\n* @vue/runtime-core v3.5.25\n* (c) 2018-present Yuxi (Evan) You and Vue contributors\n* @license MIT\n**/\nimport { pauseTracking, resetTracking, isRef, toRaw, traverse, shallowRef, readonly, isReactive, ref, isShallow, isReadonly, shallowReadArray, toReadonly, toReactive, shallowReadonly, track, reactive, watch as watch$1, customRef, shallowReactive, trigger, ReactiveEffect, isProxy, proxyRefs, markRaw, EffectScope, computed as computed$1 } from '@vue/reactivity';\nexport { EffectScope, ReactiveEffect, TrackOpTypes, TriggerOpTypes, customRef, effect, effectScope, getCurrentScope, getCurrentWatcher, isProxy, isReactive, isReadonly, isRef, isShallow, markRaw, onScopeDispose, onWatcherCleanup, proxyRefs, reactive, readonly, ref, shallowReactive, shallowReadonly, shallowRef, stop, toRaw, toRef, toRefs, toValue, triggerRef, unref } from '@vue/reactivity';\nimport { isString, isFunction, EMPTY_OBJ, isPromise, isArray, NOOP, getGlobalThis, extend, isBuiltInDirective, NO, hasOwn, remove, def, isOn, isReservedProp, normalizeClass, stringifyStyle, normalizeStyle, isKnownSvgAttr, isBooleanAttr, isKnownHtmlAttr, includeBooleanAttr, isRenderableAttrValue, normalizeCssVarValue, getEscapedCssVarName, isObject, isRegExp, invokeArrayFns, toHandlerKey, camelize, capitalize, isSymbol, isGloballyAllowed, hyphenate, hasChanged, looseToNumber, isModelListener, EMPTY_ARR, makeMap, toRawType, toNumber } from '@vue/shared';\nexport { camelize, capitalize, normalizeClass, normalizeProps, normalizeStyle, toDisplayString, toHandlerKey } from '@vue/shared';\n\nconst stack = [];\nfunction pushWarningContext(vnode) {\n  stack.push(vnode);\n}\nfunction popWarningContext() {\n  stack.pop();\n}\nlet isWarning = false;\nfunction warn$1(msg, ...args) {\n  if (isWarning) return;\n  isWarning = true;\n  pauseTracking();\n  const instance = stack.length ? stack[stack.length - 1].component : null;\n  const appWarnHandler = instance && instance.appContext.config.warnHandler;\n  const trace = getComponentTrace();\n  if (appWarnHandler) {\n    callWithErrorHandling(\n      appWarnHandler,\n      instance,\n      11,\n      [\n        // eslint-disable-next-line no-restricted-syntax\n        msg + args.map((a) => {\n          var _a, _b;\n          return (_b = (_a = a.toString) == null ? void 0 : _a.call(a)) != null ? _b : JSON.stringify(a);\n        }).join(\"\"),\n        instance && instance.proxy,\n        trace.map(\n          ({ vnode }) => `at <${formatComponentName(instance, vnode.type)}>`\n        ).join(\"\\n\"),\n        trace\n      ]\n    );\n  } else {\n    const warnArgs = [`[Vue warn]: ${msg}`, ...args];\n    if (trace.length && // avoid spamming console during tests\n    true) {\n      warnArgs.push(`\n`, ...formatTrace(trace));\n    }\n    console.warn(...warnArgs);\n  }\n  resetTracking();\n  isWarning = false;\n}\nfunction getComponentTrace() {\n  let currentVNode = stack[stack.length - 1];\n  if (!currentVNode) {\n    return [];\n  }\n  const normalizedStack = [];\n  while (currentVNode) {\n    const last = normalizedStack[0];\n    if (last && last.vnode === currentVNode) {\n      last.recurseCount++;\n    } else {\n      normalizedStack.push({\n        vnode: currentVNode,\n        recurseCount: 0\n      });\n    }\n    const parentInstance = currentVNode.component && currentVNode.component.parent;\n    currentVNode = parentInstance && parentInstance.vnode;\n  }\n  return normalizedStack;\n}\nfunction formatTrace(trace) {\n  const logs = [];\n  trace.forEach((entry, i) => {\n    logs.push(...i === 0 ? [] : [`\n`], ...formatTraceEntry(entry));\n  });\n  return logs;\n}\nfunction formatTraceEntry({ vnode, recurseCount }) {\n  const postfix = recurseCount > 0 ? `... (${recurseCount} recursive calls)` : ``;\n  const isRoot = vnode.component ? vnode.component.parent == null : false;\n  const open = ` at <${formatComponentName(\n    vnode.component,\n    vnode.type,\n    isRoot\n  )}`;\n  const close = `>` + postfix;\n  return vnode.props ? [open, ...formatProps(vnode.props), close] : [open + close];\n}\nfunction formatProps(props) {\n  const res = [];\n  const keys = Object.keys(props);\n  keys.slice(0, 3).forEach((key) => {\n    res.push(...formatProp(key, props[key]));\n  });\n  if (keys.length > 3) {\n    res.push(` ...`);\n  }\n  return res;\n}\nfunction formatProp(key, value, raw) {\n  if (isString(value)) {\n    value = JSON.stringify(value);\n    return raw ? value : [`${key}=${value}`];\n  } else if (typeof value === \"number\" || typeof value === \"boolean\" || value == null) {\n    return raw ? value : [`${key}=${value}`];\n  } else if (isRef(value)) {\n    value = formatProp(key, toRaw(value.value), true);\n    return raw ? value : [`${key}=Ref<`, value, `>`];\n  } else if (isFunction(value)) {\n    return [`${key}=fn${value.name ? `<${value.name}>` : ``}`];\n  } else {\n    value = toRaw(value);\n    return raw ? value : [`${key}=`, value];\n  }\n}\nfunction assertNumber(val, type) {\n  if (!!!(process.env.NODE_ENV !== \"production\")) return;\n  if (val === void 0) {\n    return;\n  } else if (typeof val !== \"number\") {\n    warn$1(`${type} is not a valid number - got ${JSON.stringify(val)}.`);\n  } else if (isNaN(val)) {\n    warn$1(`${type} is NaN - the duration expression might be incorrect.`);\n  }\n}\n\nconst ErrorCodes = {\n  \"SETUP_FUNCTION\": 0,\n  \"0\": \"SETUP_FUNCTION\",\n  \"RENDER_FUNCTION\": 1,\n  \"1\": \"RENDER_FUNCTION\",\n  \"NATIVE_EVENT_HANDLER\": 5,\n  \"5\": \"NATIVE_EVENT_HANDLER\",\n  \"COMPONENT_EVENT_HANDLER\": 6,\n  \"6\": \"COMPONENT_EVENT_HANDLER\",\n  \"VNODE_HOOK\": 7,\n  \"7\": \"VNODE_HOOK\",\n  \"DIRECTIVE_HOOK\": 8,\n  \"8\": \"DIRECTIVE_HOOK\",\n  \"TRANSITION_HOOK\": 9,\n  \"9\": \"TRANSITION_HOOK\",\n  \"APP_ERROR_HANDLER\": 10,\n  \"10\": \"APP_ERROR_HANDLER\",\n  \"APP_WARN_HANDLER\": 11,\n  \"11\": \"APP_WARN_HANDLER\",\n  \"FUNCTION_REF\": 12,\n  \"12\": \"FUNCTION_REF\",\n  \"ASYNC_COMPONENT_LOADER\": 13,\n  \"13\": \"ASYNC_COMPONENT_LOADER\",\n  \"SCHEDULER\": 14,\n  \"14\": \"SCHEDULER\",\n  \"COMPONENT_UPDATE\": 15,\n  \"15\": \"COMPONENT_UPDATE\",\n  \"APP_UNMOUNT_CLEANUP\": 16,\n  \"16\": \"APP_UNMOUNT_CLEANUP\"\n};\nconst ErrorTypeStrings$1 = {\n  [\"sp\"]: \"serverPrefetch hook\",\n  [\"bc\"]: \"beforeCreate hook\",\n  [\"c\"]: \"created hook\",\n  [\"bm\"]: \"beforeMount hook\",\n  [\"m\"]: \"mounted hook\",\n  [\"bu\"]: \"beforeUpdate hook\",\n  [\"u\"]: \"updated\",\n  [\"bum\"]: \"beforeUnmount hook\",\n  [\"um\"]: \"unmounted hook\",\n  [\"a\"]: \"activated hook\",\n  [\"da\"]: \"deactivated hook\",\n  [\"ec\"]: \"errorCaptured hook\",\n  [\"rtc\"]: \"renderTracked hook\",\n  [\"rtg\"]: \"renderTriggered hook\",\n  [0]: \"setup function\",\n  [1]: \"render function\",\n  [2]: \"watcher getter\",\n  [3]: \"watcher callback\",\n  [4]: \"watcher cleanup function\",\n  [5]: \"native event handler\",\n  [6]: \"component event handler\",\n  [7]: \"vnode hook\",\n  [8]: \"directive hook\",\n  [9]: \"transition hook\",\n  [10]: \"app errorHandler\",\n  [11]: \"app warnHandler\",\n  [12]: \"ref function\",\n  [13]: \"async component loader\",\n  [14]: \"scheduler flush\",\n  [15]: \"component update\",\n  [16]: \"app unmount cleanup function\"\n};\nfunction callWithErrorHandling(fn, instance, type, args) {\n  try {\n    return args ? fn(...args) : fn();\n  } catch (err) {\n    handleError(err, instance, type);\n  }\n}\nfunction callWithAsyncErrorHandling(fn, instance, type, args) {\n  if (isFunction(fn)) {\n    const res = callWithErrorHandling(fn, instance, type, args);\n    if (res && isPromise(res)) {\n      res.catch((err) => {\n        handleError(err, instance, type);\n      });\n    }\n    return res;\n  }\n  if (isArray(fn)) {\n    const values = [];\n    for (let i = 0; i < fn.length; i++) {\n      values.push(callWithAsyncErrorHandling(fn[i], instance, type, args));\n    }\n    return values;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(\n      `Invalid value type passed to callWithAsyncErrorHandling(): ${typeof fn}`\n    );\n  }\n}\nfunction handleError(err, instance, type, throwInDev = true) {\n  const contextVNode = instance ? instance.vnode : null;\n  const { errorHandler, throwUnhandledErrorInProduction } = instance && instance.appContext.config || EMPTY_OBJ;\n  if (instance) {\n    let cur = instance.parent;\n    const exposedInstance = instance.proxy;\n    const errorInfo = !!(process.env.NODE_ENV !== \"production\") ? ErrorTypeStrings$1[type] : `https://vuejs.org/error-reference/#runtime-${type}`;\n    while (cur) {\n      const errorCapturedHooks = cur.ec;\n      if (errorCapturedHooks) {\n        for (let i = 0; i < errorCapturedHooks.length; i++) {\n          if (errorCapturedHooks[i](err, exposedInstance, errorInfo) === false) {\n            return;\n          }\n        }\n      }\n      cur = cur.parent;\n    }\n    if (errorHandler) {\n      pauseTracking();\n      callWithErrorHandling(errorHandler, null, 10, [\n        err,\n        exposedInstance,\n        errorInfo\n      ]);\n      resetTracking();\n      return;\n    }\n  }\n  logError(err, type, contextVNode, throwInDev, throwUnhandledErrorInProduction);\n}\nfunction logError(err, type, contextVNode, throwInDev = true, throwInProd = false) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const info = ErrorTypeStrings$1[type];\n    if (contextVNode) {\n      pushWarningContext(contextVNode);\n    }\n    warn$1(`Unhandled error${info ? ` during execution of ${info}` : ``}`);\n    if (contextVNode) {\n      popWarningContext();\n    }\n    if (throwInDev) {\n      throw err;\n    } else {\n      console.error(err);\n    }\n  } else if (throwInProd) {\n    throw err;\n  } else {\n    console.error(err);\n  }\n}\n\nconst queue = [];\nlet flushIndex = -1;\nconst pendingPostFlushCbs = [];\nlet activePostFlushCbs = null;\nlet postFlushIndex = 0;\nconst resolvedPromise = /* @__PURE__ */ Promise.resolve();\nlet currentFlushPromise = null;\nconst RECURSION_LIMIT = 100;\nfunction nextTick(fn) {\n  const p = currentFlushPromise || resolvedPromise;\n  return fn ? p.then(this ? fn.bind(this) : fn) : p;\n}\nfunction findInsertionIndex(id) {\n  let start = flushIndex + 1;\n  let end = queue.length;\n  while (start < end) {\n    const middle = start + end >>> 1;\n    const middleJob = queue[middle];\n    const middleJobId = getId(middleJob);\n    if (middleJobId < id || middleJobId === id && middleJob.flags & 2) {\n      start = middle + 1;\n    } else {\n      end = middle;\n    }\n  }\n  return start;\n}\nfunction queueJob(job) {\n  if (!(job.flags & 1)) {\n    const jobId = getId(job);\n    const lastJob = queue[queue.length - 1];\n    if (!lastJob || // fast path when the job id is larger than the tail\n    !(job.flags & 2) && jobId >= getId(lastJob)) {\n      queue.push(job);\n    } else {\n      queue.splice(findInsertionIndex(jobId), 0, job);\n    }\n    job.flags |= 1;\n    queueFlush();\n  }\n}\nfunction queueFlush() {\n  if (!currentFlushPromise) {\n    currentFlushPromise = resolvedPromise.then(flushJobs);\n  }\n}\nfunction queuePostFlushCb(cb) {\n  if (!isArray(cb)) {\n    if (activePostFlushCbs && cb.id === -1) {\n      activePostFlushCbs.splice(postFlushIndex + 1, 0, cb);\n    } else if (!(cb.flags & 1)) {\n      pendingPostFlushCbs.push(cb);\n      cb.flags |= 1;\n    }\n  } else {\n    pendingPostFlushCbs.push(...cb);\n  }\n  queueFlush();\n}\nfunction flushPreFlushCbs(instance, seen, i = flushIndex + 1) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    seen = seen || /* @__PURE__ */ new Map();\n  }\n  for (; i < queue.length; i++) {\n    const cb = queue[i];\n    if (cb && cb.flags & 2) {\n      if (instance && cb.id !== instance.uid) {\n        continue;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && checkRecursiveUpdates(seen, cb)) {\n        continue;\n      }\n      queue.splice(i, 1);\n      i--;\n      if (cb.flags & 4) {\n        cb.flags &= -2;\n      }\n      cb();\n      if (!(cb.flags & 4)) {\n        cb.flags &= -2;\n      }\n    }\n  }\n}\nfunction flushPostFlushCbs(seen) {\n  if (pendingPostFlushCbs.length) {\n    const deduped = [...new Set(pendingPostFlushCbs)].sort(\n      (a, b) => getId(a) - getId(b)\n    );\n    pendingPostFlushCbs.length = 0;\n    if (activePostFlushCbs) {\n      activePostFlushCbs.push(...deduped);\n      return;\n    }\n    activePostFlushCbs = deduped;\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      seen = seen || /* @__PURE__ */ new Map();\n    }\n    for (postFlushIndex = 0; postFlushIndex < activePostFlushCbs.length; postFlushIndex++) {\n      const cb = activePostFlushCbs[postFlushIndex];\n      if (!!(process.env.NODE_ENV !== \"production\") && checkRecursiveUpdates(seen, cb)) {\n        continue;\n      }\n      if (cb.flags & 4) {\n        cb.flags &= -2;\n      }\n      if (!(cb.flags & 8)) cb();\n      cb.flags &= -2;\n    }\n    activePostFlushCbs = null;\n    postFlushIndex = 0;\n  }\n}\nconst getId = (job) => job.id == null ? job.flags & 2 ? -1 : Infinity : job.id;\nfunction flushJobs(seen) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    seen = seen || /* @__PURE__ */ new Map();\n  }\n  const check = !!(process.env.NODE_ENV !== \"production\") ? (job) => checkRecursiveUpdates(seen, job) : NOOP;\n  try {\n    for (flushIndex = 0; flushIndex < queue.length; flushIndex++) {\n      const job = queue[flushIndex];\n      if (job && !(job.flags & 8)) {\n        if (!!(process.env.NODE_ENV !== \"production\") && check(job)) {\n          continue;\n        }\n        if (job.flags & 4) {\n          job.flags &= ~1;\n        }\n        callWithErrorHandling(\n          job,\n          job.i,\n          job.i ? 15 : 14\n        );\n        if (!(job.flags & 4)) {\n          job.flags &= ~1;\n        }\n      }\n    }\n  } finally {\n    for (; flushIndex < queue.length; flushIndex++) {\n      const job = queue[flushIndex];\n      if (job) {\n        job.flags &= -2;\n      }\n    }\n    flushIndex = -1;\n    queue.length = 0;\n    flushPostFlushCbs(seen);\n    currentFlushPromise = null;\n    if (queue.length || pendingPostFlushCbs.length) {\n      flushJobs(seen);\n    }\n  }\n}\nfunction checkRecursiveUpdates(seen, fn) {\n  const count = seen.get(fn) || 0;\n  if (count > RECURSION_LIMIT) {\n    const instance = fn.i;\n    const componentName = instance && getComponentName(instance.type);\n    handleError(\n      `Maximum recursive updates exceeded${componentName ? ` in component <${componentName}>` : ``}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,\n      null,\n      10\n    );\n    return true;\n  }\n  seen.set(fn, count + 1);\n  return false;\n}\n\nlet isHmrUpdating = false;\nconst hmrDirtyComponents = /* @__PURE__ */ new Map();\nif (!!(process.env.NODE_ENV !== \"production\")) {\n  getGlobalThis().__VUE_HMR_RUNTIME__ = {\n    createRecord: tryWrap(createRecord),\n    rerender: tryWrap(rerender),\n    reload: tryWrap(reload)\n  };\n}\nconst map = /* @__PURE__ */ new Map();\nfunction registerHMR(instance) {\n  const id = instance.type.__hmrId;\n  let record = map.get(id);\n  if (!record) {\n    createRecord(id, instance.type);\n    record = map.get(id);\n  }\n  record.instances.add(instance);\n}\nfunction unregisterHMR(instance) {\n  map.get(instance.type.__hmrId).instances.delete(instance);\n}\nfunction createRecord(id, initialDef) {\n  if (map.has(id)) {\n    return false;\n  }\n  map.set(id, {\n    initialDef: normalizeClassComponent(initialDef),\n    instances: /* @__PURE__ */ new Set()\n  });\n  return true;\n}\nfunction normalizeClassComponent(component) {\n  return isClassComponent(component) ? component.__vccOpts : component;\n}\nfunction rerender(id, newRender) {\n  const record = map.get(id);\n  if (!record) {\n    return;\n  }\n  record.initialDef.render = newRender;\n  [...record.instances].forEach((instance) => {\n    if (newRender) {\n      instance.render = newRender;\n      normalizeClassComponent(instance.type).render = newRender;\n    }\n    instance.renderCache = [];\n    isHmrUpdating = true;\n    if (!(instance.job.flags & 8)) {\n      instance.update();\n    }\n    isHmrUpdating = false;\n  });\n}\nfunction reload(id, newComp) {\n  const record = map.get(id);\n  if (!record) return;\n  newComp = normalizeClassComponent(newComp);\n  updateComponentDef(record.initialDef, newComp);\n  const instances = [...record.instances];\n  for (let i = 0; i < instances.length; i++) {\n    const instance = instances[i];\n    const oldComp = normalizeClassComponent(instance.type);\n    let dirtyInstances = hmrDirtyComponents.get(oldComp);\n    if (!dirtyInstances) {\n      if (oldComp !== record.initialDef) {\n        updateComponentDef(oldComp, newComp);\n      }\n      hmrDirtyComponents.set(oldComp, dirtyInstances = /* @__PURE__ */ new Set());\n    }\n    dirtyInstances.add(instance);\n    instance.appContext.propsCache.delete(instance.type);\n    instance.appContext.emitsCache.delete(instance.type);\n    instance.appContext.optionsCache.delete(instance.type);\n    if (instance.ceReload) {\n      dirtyInstances.add(instance);\n      instance.ceReload(newComp.styles);\n      dirtyInstances.delete(instance);\n    } else if (instance.parent) {\n      queueJob(() => {\n        if (!(instance.job.flags & 8)) {\n          isHmrUpdating = true;\n          instance.parent.update();\n          isHmrUpdating = false;\n          dirtyInstances.delete(instance);\n        }\n      });\n    } else if (instance.appContext.reload) {\n      instance.appContext.reload();\n    } else if (typeof window !== \"undefined\") {\n      window.location.reload();\n    } else {\n      console.warn(\n        \"[HMR] Root or manually mounted instance modified. Full reload required.\"\n      );\n    }\n    if (instance.root.ce && instance !== instance.root) {\n      instance.root.ce._removeChildStyle(oldComp);\n    }\n  }\n  queuePostFlushCb(() => {\n    hmrDirtyComponents.clear();\n  });\n}\nfunction updateComponentDef(oldComp, newComp) {\n  extend(oldComp, newComp);\n  for (const key in oldComp) {\n    if (key !== \"__file\" && !(key in newComp)) {\n      delete oldComp[key];\n    }\n  }\n}\nfunction tryWrap(fn) {\n  return (id, arg) => {\n    try {\n      return fn(id, arg);\n    } catch (e) {\n      console.error(e);\n      console.warn(\n        `[HMR] Something went wrong during Vue component hot-reload. Full reload required.`\n      );\n    }\n  };\n}\n\nlet devtools$1;\nlet buffer = [];\nlet devtoolsNotInstalled = false;\nfunction emit$1(event, ...args) {\n  if (devtools$1) {\n    devtools$1.emit(event, ...args);\n  } else if (!devtoolsNotInstalled) {\n    buffer.push({ event, args });\n  }\n}\nfunction setDevtoolsHook$1(hook, target) {\n  var _a, _b;\n  devtools$1 = hook;\n  if (devtools$1) {\n    devtools$1.enabled = true;\n    buffer.forEach(({ event, args }) => devtools$1.emit(event, ...args));\n    buffer = [];\n  } else if (\n    // handle late devtools injection - only do this if we are in an actual\n    // browser environment to avoid the timer handle stalling test runner exit\n    // (#4815)\n    typeof window !== \"undefined\" && // some envs mock window but not fully\n    window.HTMLElement && // also exclude jsdom\n    // eslint-disable-next-line no-restricted-syntax\n    !((_b = (_a = window.navigator) == null ? void 0 : _a.userAgent) == null ? void 0 : _b.includes(\"jsdom\"))\n  ) {\n    const replay = target.__VUE_DEVTOOLS_HOOK_REPLAY__ = target.__VUE_DEVTOOLS_HOOK_REPLAY__ || [];\n    replay.push((newHook) => {\n      setDevtoolsHook$1(newHook, target);\n    });\n    setTimeout(() => {\n      if (!devtools$1) {\n        target.__VUE_DEVTOOLS_HOOK_REPLAY__ = null;\n        devtoolsNotInstalled = true;\n        buffer = [];\n      }\n    }, 3e3);\n  } else {\n    devtoolsNotInstalled = true;\n    buffer = [];\n  }\n}\nfunction devtoolsInitApp(app, version) {\n  emit$1(\"app:init\" /* APP_INIT */, app, version, {\n    Fragment,\n    Text,\n    Comment,\n    Static\n  });\n}\nfunction devtoolsUnmountApp(app) {\n  emit$1(\"app:unmount\" /* APP_UNMOUNT */, app);\n}\nconst devtoolsComponentAdded = /* @__PURE__ */ createDevtoolsComponentHook(\"component:added\" /* COMPONENT_ADDED */);\nconst devtoolsComponentUpdated = /* @__PURE__ */ createDevtoolsComponentHook(\"component:updated\" /* COMPONENT_UPDATED */);\nconst _devtoolsComponentRemoved = /* @__PURE__ */ createDevtoolsComponentHook(\n  \"component:removed\" /* COMPONENT_REMOVED */\n);\nconst devtoolsComponentRemoved = (component) => {\n  if (devtools$1 && typeof devtools$1.cleanupBuffer === \"function\" && // remove the component if it wasn't buffered\n  !devtools$1.cleanupBuffer(component)) {\n    _devtoolsComponentRemoved(component);\n  }\n};\n// @__NO_SIDE_EFFECTS__\nfunction createDevtoolsComponentHook(hook) {\n  return (component) => {\n    emit$1(\n      hook,\n      component.appContext.app,\n      component.uid,\n      component.parent ? component.parent.uid : void 0,\n      component\n    );\n  };\n}\nconst devtoolsPerfStart = /* @__PURE__ */ createDevtoolsPerformanceHook(\"perf:start\" /* PERFORMANCE_START */);\nconst devtoolsPerfEnd = /* @__PURE__ */ createDevtoolsPerformanceHook(\"perf:end\" /* PERFORMANCE_END */);\nfunction createDevtoolsPerformanceHook(hook) {\n  return (component, type, time) => {\n    emit$1(hook, component.appContext.app, component.uid, component, type, time);\n  };\n}\nfunction devtoolsComponentEmit(component, event, params) {\n  emit$1(\n    \"component:emit\" /* COMPONENT_EMIT */,\n    component.appContext.app,\n    component,\n    event,\n    params\n  );\n}\n\nlet currentRenderingInstance = null;\nlet currentScopeId = null;\nfunction setCurrentRenderingInstance(instance) {\n  const prev = currentRenderingInstance;\n  currentRenderingInstance = instance;\n  currentScopeId = instance && instance.type.__scopeId || null;\n  return prev;\n}\nfunction pushScopeId(id) {\n  currentScopeId = id;\n}\nfunction popScopeId() {\n  currentScopeId = null;\n}\nconst withScopeId = (_id) => withCtx;\nfunction withCtx(fn, ctx = currentRenderingInstance, isNonScopedSlot) {\n  if (!ctx) return fn;\n  if (fn._n) {\n    return fn;\n  }\n  const renderFnWithContext = (...args) => {\n    if (renderFnWithContext._d) {\n      setBlockTracking(-1);\n    }\n    const prevInstance = setCurrentRenderingInstance(ctx);\n    let res;\n    try {\n      res = fn(...args);\n    } finally {\n      setCurrentRenderingInstance(prevInstance);\n      if (renderFnWithContext._d) {\n        setBlockTracking(1);\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      devtoolsComponentUpdated(ctx);\n    }\n    return res;\n  };\n  renderFnWithContext._n = true;\n  renderFnWithContext._c = true;\n  renderFnWithContext._d = true;\n  return renderFnWithContext;\n}\n\nfunction validateDirectiveName(name) {\n  if (isBuiltInDirective(name)) {\n    warn$1(\"Do not use built-in directive ids as custom directive id: \" + name);\n  }\n}\nfunction withDirectives(vnode, directives) {\n  if (currentRenderingInstance === null) {\n    !!(process.env.NODE_ENV !== \"production\") && warn$1(`withDirectives can only be used inside render functions.`);\n    return vnode;\n  }\n  const instance = getComponentPublicInstance(currentRenderingInstance);\n  const bindings = vnode.dirs || (vnode.dirs = []);\n  for (let i = 0; i < directives.length; i++) {\n    let [dir, value, arg, modifiers = EMPTY_OBJ] = directives[i];\n    if (dir) {\n      if (isFunction(dir)) {\n        dir = {\n          mounted: dir,\n          updated: dir\n        };\n      }\n      if (dir.deep) {\n        traverse(value);\n      }\n      bindings.push({\n        dir,\n        instance,\n        value,\n        oldValue: void 0,\n        arg,\n        modifiers\n      });\n    }\n  }\n  return vnode;\n}\nfunction invokeDirectiveHook(vnode, prevVNode, instance, name) {\n  const bindings = vnode.dirs;\n  const oldBindings = prevVNode && prevVNode.dirs;\n  for (let i = 0; i < bindings.length; i++) {\n    const binding = bindings[i];\n    if (oldBindings) {\n      binding.oldValue = oldBindings[i].value;\n    }\n    let hook = binding.dir[name];\n    if (hook) {\n      pauseTracking();\n      callWithAsyncErrorHandling(hook, instance, 8, [\n        vnode.el,\n        binding,\n        vnode,\n        prevVNode\n      ]);\n      resetTracking();\n    }\n  }\n}\n\nconst TeleportEndKey = Symbol(\"_vte\");\nconst isTeleport = (type) => type.__isTeleport;\nconst isTeleportDisabled = (props) => props && (props.disabled || props.disabled === \"\");\nconst isTeleportDeferred = (props) => props && (props.defer || props.defer === \"\");\nconst isTargetSVG = (target) => typeof SVGElement !== \"undefined\" && target instanceof SVGElement;\nconst isTargetMathML = (target) => typeof MathMLElement === \"function\" && target instanceof MathMLElement;\nconst resolveTarget = (props, select) => {\n  const targetSelector = props && props.to;\n  if (isString(targetSelector)) {\n    if (!select) {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(\n        `Current renderer does not support string target for Teleports. (missing querySelector renderer option)`\n      );\n      return null;\n    } else {\n      const target = select(targetSelector);\n      if (!!(process.env.NODE_ENV !== \"production\") && !target && !isTeleportDisabled(props)) {\n        warn$1(\n          `Failed to locate Teleport target with selector \"${targetSelector}\". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`\n        );\n      }\n      return target;\n    }\n  } else {\n    if (!!(process.env.NODE_ENV !== \"production\") && !targetSelector && !isTeleportDisabled(props)) {\n      warn$1(`Invalid Teleport target: ${targetSelector}`);\n    }\n    return targetSelector;\n  }\n};\nconst TeleportImpl = {\n  name: \"Teleport\",\n  __isTeleport: true,\n  process(n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, internals) {\n    const {\n      mc: mountChildren,\n      pc: patchChildren,\n      pbc: patchBlockChildren,\n      o: { insert, querySelector, createText, createComment }\n    } = internals;\n    const disabled = isTeleportDisabled(n2.props);\n    let { shapeFlag, children, dynamicChildren } = n2;\n    if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) {\n      optimized = false;\n      dynamicChildren = null;\n    }\n    if (n1 == null) {\n      const placeholder = n2.el = !!(process.env.NODE_ENV !== \"production\") ? createComment(\"teleport start\") : createText(\"\");\n      const mainAnchor = n2.anchor = !!(process.env.NODE_ENV !== \"production\") ? createComment(\"teleport end\") : createText(\"\");\n      insert(placeholder, container, anchor);\n      insert(mainAnchor, container, anchor);\n      const mount = (container2, anchor2) => {\n        if (shapeFlag & 16) {\n          mountChildren(\n            children,\n            container2,\n            anchor2,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n        }\n      };\n      const mountToTarget = () => {\n        const target = n2.target = resolveTarget(n2.props, querySelector);\n        const targetAnchor = prepareAnchor(target, n2, createText, insert);\n        if (target) {\n          if (namespace !== \"svg\" && isTargetSVG(target)) {\n            namespace = \"svg\";\n          } else if (namespace !== \"mathml\" && isTargetMathML(target)) {\n            namespace = \"mathml\";\n          }\n          if (parentComponent && parentComponent.isCE) {\n            (parentComponent.ce._teleportTargets || (parentComponent.ce._teleportTargets = /* @__PURE__ */ new Set())).add(target);\n          }\n          if (!disabled) {\n            mount(target, targetAnchor);\n            updateCssVars(n2, false);\n          }\n        } else if (!!(process.env.NODE_ENV !== \"production\") && !disabled) {\n          warn$1(\n            \"Invalid Teleport target on mount:\",\n            target,\n            `(${typeof target})`\n          );\n        }\n      };\n      if (disabled) {\n        mount(container, mainAnchor);\n        updateCssVars(n2, true);\n      }\n      if (isTeleportDeferred(n2.props)) {\n        n2.el.__isMounted = false;\n        queuePostRenderEffect(() => {\n          mountToTarget();\n          delete n2.el.__isMounted;\n        }, parentSuspense);\n      } else {\n        mountToTarget();\n      }\n    } else {\n      if (isTeleportDeferred(n2.props) && n1.el.__isMounted === false) {\n        queuePostRenderEffect(() => {\n          TeleportImpl.process(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized,\n            internals\n          );\n        }, parentSuspense);\n        return;\n      }\n      n2.el = n1.el;\n      n2.targetStart = n1.targetStart;\n      const mainAnchor = n2.anchor = n1.anchor;\n      const target = n2.target = n1.target;\n      const targetAnchor = n2.targetAnchor = n1.targetAnchor;\n      const wasDisabled = isTeleportDisabled(n1.props);\n      const currentContainer = wasDisabled ? container : target;\n      const currentAnchor = wasDisabled ? mainAnchor : targetAnchor;\n      if (namespace === \"svg\" || isTargetSVG(target)) {\n        namespace = \"svg\";\n      } else if (namespace === \"mathml\" || isTargetMathML(target)) {\n        namespace = \"mathml\";\n      }\n      if (dynamicChildren) {\n        patchBlockChildren(\n          n1.dynamicChildren,\n          dynamicChildren,\n          currentContainer,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds\n        );\n        traverseStaticChildren(n1, n2, !!!(process.env.NODE_ENV !== \"production\"));\n      } else if (!optimized) {\n        patchChildren(\n          n1,\n          n2,\n          currentContainer,\n          currentAnchor,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          false\n        );\n      }\n      if (disabled) {\n        if (!wasDisabled) {\n          moveTeleport(\n            n2,\n            container,\n            mainAnchor,\n            internals,\n            1\n          );\n        } else {\n          if (n2.props && n1.props && n2.props.to !== n1.props.to) {\n            n2.props.to = n1.props.to;\n          }\n        }\n      } else {\n        if ((n2.props && n2.props.to) !== (n1.props && n1.props.to)) {\n          const nextTarget = n2.target = resolveTarget(\n            n2.props,\n            querySelector\n          );\n          if (nextTarget) {\n            moveTeleport(\n              n2,\n              nextTarget,\n              null,\n              internals,\n              0\n            );\n          } else if (!!(process.env.NODE_ENV !== \"production\")) {\n            warn$1(\n              \"Invalid Teleport target on update:\",\n              target,\n              `(${typeof target})`\n            );\n          }\n        } else if (wasDisabled) {\n          moveTeleport(\n            n2,\n            target,\n            targetAnchor,\n            internals,\n            1\n          );\n        }\n      }\n      updateCssVars(n2, disabled);\n    }\n  },\n  remove(vnode, parentComponent, parentSuspense, { um: unmount, o: { remove: hostRemove } }, doRemove) {\n    const {\n      shapeFlag,\n      children,\n      anchor,\n      targetStart,\n      targetAnchor,\n      target,\n      props\n    } = vnode;\n    if (target) {\n      hostRemove(targetStart);\n      hostRemove(targetAnchor);\n    }\n    doRemove && hostRemove(anchor);\n    if (shapeFlag & 16) {\n      const shouldRemove = doRemove || !isTeleportDisabled(props);\n      for (let i = 0; i < children.length; i++) {\n        const child = children[i];\n        unmount(\n          child,\n          parentComponent,\n          parentSuspense,\n          shouldRemove,\n          !!child.dynamicChildren\n        );\n      }\n    }\n  },\n  move: moveTeleport,\n  hydrate: hydrateTeleport\n};\nfunction moveTeleport(vnode, container, parentAnchor, { o: { insert }, m: move }, moveType = 2) {\n  if (moveType === 0) {\n    insert(vnode.targetAnchor, container, parentAnchor);\n  }\n  const { el, anchor, shapeFlag, children, props } = vnode;\n  const isReorder = moveType === 2;\n  if (isReorder) {\n    insert(el, container, parentAnchor);\n  }\n  if (!isReorder || isTeleportDisabled(props)) {\n    if (shapeFlag & 16) {\n      for (let i = 0; i < children.length; i++) {\n        move(\n          children[i],\n          container,\n          parentAnchor,\n          2\n        );\n      }\n    }\n  }\n  if (isReorder) {\n    insert(anchor, container, parentAnchor);\n  }\n}\nfunction hydrateTeleport(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized, {\n  o: { nextSibling, parentNode, querySelector, insert, createText }\n}, hydrateChildren) {\n  function hydrateDisabledTeleport(node2, vnode2, targetStart, targetAnchor) {\n    vnode2.anchor = hydrateChildren(\n      nextSibling(node2),\n      vnode2,\n      parentNode(node2),\n      parentComponent,\n      parentSuspense,\n      slotScopeIds,\n      optimized\n    );\n    vnode2.targetStart = targetStart;\n    vnode2.targetAnchor = targetAnchor;\n  }\n  const target = vnode.target = resolveTarget(\n    vnode.props,\n    querySelector\n  );\n  const disabled = isTeleportDisabled(vnode.props);\n  if (target) {\n    const targetNode = target._lpa || target.firstChild;\n    if (vnode.shapeFlag & 16) {\n      if (disabled) {\n        hydrateDisabledTeleport(\n          node,\n          vnode,\n          targetNode,\n          targetNode && nextSibling(targetNode)\n        );\n      } else {\n        vnode.anchor = nextSibling(node);\n        let targetAnchor = targetNode;\n        while (targetAnchor) {\n          if (targetAnchor && targetAnchor.nodeType === 8) {\n            if (targetAnchor.data === \"teleport start anchor\") {\n              vnode.targetStart = targetAnchor;\n            } else if (targetAnchor.data === \"teleport anchor\") {\n              vnode.targetAnchor = targetAnchor;\n              target._lpa = vnode.targetAnchor && nextSibling(vnode.targetAnchor);\n              break;\n            }\n          }\n          targetAnchor = nextSibling(targetAnchor);\n        }\n        if (!vnode.targetAnchor) {\n          prepareAnchor(target, vnode, createText, insert);\n        }\n        hydrateChildren(\n          targetNode && nextSibling(targetNode),\n          vnode,\n          target,\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n      }\n    }\n    updateCssVars(vnode, disabled);\n  } else if (disabled) {\n    if (vnode.shapeFlag & 16) {\n      hydrateDisabledTeleport(node, vnode, node, nextSibling(node));\n    }\n  }\n  return vnode.anchor && nextSibling(vnode.anchor);\n}\nconst Teleport = TeleportImpl;\nfunction updateCssVars(vnode, isDisabled) {\n  const ctx = vnode.ctx;\n  if (ctx && ctx.ut) {\n    let node, anchor;\n    if (isDisabled) {\n      node = vnode.el;\n      anchor = vnode.anchor;\n    } else {\n      node = vnode.targetStart;\n      anchor = vnode.targetAnchor;\n    }\n    while (node && node !== anchor) {\n      if (node.nodeType === 1) node.setAttribute(\"data-v-owner\", ctx.uid);\n      node = node.nextSibling;\n    }\n    ctx.ut();\n  }\n}\nfunction prepareAnchor(target, vnode, createText, insert) {\n  const targetStart = vnode.targetStart = createText(\"\");\n  const targetAnchor = vnode.targetAnchor = createText(\"\");\n  targetStart[TeleportEndKey] = targetAnchor;\n  if (target) {\n    insert(targetStart, target);\n    insert(targetAnchor, target);\n  }\n  return targetAnchor;\n}\n\nconst leaveCbKey = Symbol(\"_leaveCb\");\nconst enterCbKey = Symbol(\"_enterCb\");\nfunction useTransitionState() {\n  const state = {\n    isMounted: false,\n    isLeaving: false,\n    isUnmounting: false,\n    leavingVNodes: /* @__PURE__ */ new Map()\n  };\n  onMounted(() => {\n    state.isMounted = true;\n  });\n  onBeforeUnmount(() => {\n    state.isUnmounting = true;\n  });\n  return state;\n}\nconst TransitionHookValidator = [Function, Array];\nconst BaseTransitionPropsValidators = {\n  mode: String,\n  appear: Boolean,\n  persisted: Boolean,\n  // enter\n  onBeforeEnter: TransitionHookValidator,\n  onEnter: TransitionHookValidator,\n  onAfterEnter: TransitionHookValidator,\n  onEnterCancelled: TransitionHookValidator,\n  // leave\n  onBeforeLeave: TransitionHookValidator,\n  onLeave: TransitionHookValidator,\n  onAfterLeave: TransitionHookValidator,\n  onLeaveCancelled: TransitionHookValidator,\n  // appear\n  onBeforeAppear: TransitionHookValidator,\n  onAppear: TransitionHookValidator,\n  onAfterAppear: TransitionHookValidator,\n  onAppearCancelled: TransitionHookValidator\n};\nconst recursiveGetSubtree = (instance) => {\n  const subTree = instance.subTree;\n  return subTree.component ? recursiveGetSubtree(subTree.component) : subTree;\n};\nconst BaseTransitionImpl = {\n  name: `BaseTransition`,\n  props: BaseTransitionPropsValidators,\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const state = useTransitionState();\n    return () => {\n      const children = slots.default && getTransitionRawChildren(slots.default(), true);\n      if (!children || !children.length) {\n        return;\n      }\n      const child = findNonCommentChild(children);\n      const rawProps = toRaw(props);\n      const { mode } = rawProps;\n      if (!!(process.env.NODE_ENV !== \"production\") && mode && mode !== \"in-out\" && mode !== \"out-in\" && mode !== \"default\") {\n        warn$1(`invalid <transition> mode: ${mode}`);\n      }\n      if (state.isLeaving) {\n        return emptyPlaceholder(child);\n      }\n      const innerChild = getInnerChild$1(child);\n      if (!innerChild) {\n        return emptyPlaceholder(child);\n      }\n      let enterHooks = resolveTransitionHooks(\n        innerChild,\n        rawProps,\n        state,\n        instance,\n        // #11061, ensure enterHooks is fresh after clone\n        (hooks) => enterHooks = hooks\n      );\n      if (innerChild.type !== Comment) {\n        setTransitionHooks(innerChild, enterHooks);\n      }\n      let oldInnerChild = instance.subTree && getInnerChild$1(instance.subTree);\n      if (oldInnerChild && oldInnerChild.type !== Comment && !isSameVNodeType(oldInnerChild, innerChild) && recursiveGetSubtree(instance).type !== Comment) {\n        let leavingHooks = resolveTransitionHooks(\n          oldInnerChild,\n          rawProps,\n          state,\n          instance\n        );\n        setTransitionHooks(oldInnerChild, leavingHooks);\n        if (mode === \"out-in\" && innerChild.type !== Comment) {\n          state.isLeaving = true;\n          leavingHooks.afterLeave = () => {\n            state.isLeaving = false;\n            if (!(instance.job.flags & 8)) {\n              instance.update();\n            }\n            delete leavingHooks.afterLeave;\n            oldInnerChild = void 0;\n          };\n          return emptyPlaceholder(child);\n        } else if (mode === \"in-out\" && innerChild.type !== Comment) {\n          leavingHooks.delayLeave = (el, earlyRemove, delayedLeave) => {\n            const leavingVNodesCache = getLeavingNodesForType(\n              state,\n              oldInnerChild\n            );\n            leavingVNodesCache[String(oldInnerChild.key)] = oldInnerChild;\n            el[leaveCbKey] = () => {\n              earlyRemove();\n              el[leaveCbKey] = void 0;\n              delete enterHooks.delayedLeave;\n              oldInnerChild = void 0;\n            };\n            enterHooks.delayedLeave = () => {\n              delayedLeave();\n              delete enterHooks.delayedLeave;\n              oldInnerChild = void 0;\n            };\n          };\n        } else {\n          oldInnerChild = void 0;\n        }\n      } else if (oldInnerChild) {\n        oldInnerChild = void 0;\n      }\n      return child;\n    };\n  }\n};\nfunction findNonCommentChild(children) {\n  let child = children[0];\n  if (children.length > 1) {\n    let hasFound = false;\n    for (const c of children) {\n      if (c.type !== Comment) {\n        if (!!(process.env.NODE_ENV !== \"production\") && hasFound) {\n          warn$1(\n            \"<transition> can only be used on a single element or component. Use <transition-group> for lists.\"\n          );\n          break;\n        }\n        child = c;\n        hasFound = true;\n        if (!!!(process.env.NODE_ENV !== \"production\")) break;\n      }\n    }\n  }\n  return child;\n}\nconst BaseTransition = BaseTransitionImpl;\nfunction getLeavingNodesForType(state, vnode) {\n  const { leavingVNodes } = state;\n  let leavingVNodesCache = leavingVNodes.get(vnode.type);\n  if (!leavingVNodesCache) {\n    leavingVNodesCache = /* @__PURE__ */ Object.create(null);\n    leavingVNodes.set(vnode.type, leavingVNodesCache);\n  }\n  return leavingVNodesCache;\n}\nfunction resolveTransitionHooks(vnode, props, state, instance, postClone) {\n  const {\n    appear,\n    mode,\n    persisted = false,\n    onBeforeEnter,\n    onEnter,\n    onAfterEnter,\n    onEnterCancelled,\n    onBeforeLeave,\n    onLeave,\n    onAfterLeave,\n    onLeaveCancelled,\n    onBeforeAppear,\n    onAppear,\n    onAfterAppear,\n    onAppearCancelled\n  } = props;\n  const key = String(vnode.key);\n  const leavingVNodesCache = getLeavingNodesForType(state, vnode);\n  const callHook = (hook, args) => {\n    hook && callWithAsyncErrorHandling(\n      hook,\n      instance,\n      9,\n      args\n    );\n  };\n  const callAsyncHook = (hook, args) => {\n    const done = args[1];\n    callHook(hook, args);\n    if (isArray(hook)) {\n      if (hook.every((hook2) => hook2.length <= 1)) done();\n    } else if (hook.length <= 1) {\n      done();\n    }\n  };\n  const hooks = {\n    mode,\n    persisted,\n    beforeEnter(el) {\n      let hook = onBeforeEnter;\n      if (!state.isMounted) {\n        if (appear) {\n          hook = onBeforeAppear || onBeforeEnter;\n        } else {\n          return;\n        }\n      }\n      if (el[leaveCbKey]) {\n        el[leaveCbKey](\n          true\n          /* cancelled */\n        );\n      }\n      const leavingVNode = leavingVNodesCache[key];\n      if (leavingVNode && isSameVNodeType(vnode, leavingVNode) && leavingVNode.el[leaveCbKey]) {\n        leavingVNode.el[leaveCbKey]();\n      }\n      callHook(hook, [el]);\n    },\n    enter(el) {\n      let hook = onEnter;\n      let afterHook = onAfterEnter;\n      let cancelHook = onEnterCancelled;\n      if (!state.isMounted) {\n        if (appear) {\n          hook = onAppear || onEnter;\n          afterHook = onAfterAppear || onAfterEnter;\n          cancelHook = onAppearCancelled || onEnterCancelled;\n        } else {\n          return;\n        }\n      }\n      let called = false;\n      const done = el[enterCbKey] = (cancelled) => {\n        if (called) return;\n        called = true;\n        if (cancelled) {\n          callHook(cancelHook, [el]);\n        } else {\n          callHook(afterHook, [el]);\n        }\n        if (hooks.delayedLeave) {\n          hooks.delayedLeave();\n        }\n        el[enterCbKey] = void 0;\n      };\n      if (hook) {\n        callAsyncHook(hook, [el, done]);\n      } else {\n        done();\n      }\n    },\n    leave(el, remove) {\n      const key2 = String(vnode.key);\n      if (el[enterCbKey]) {\n        el[enterCbKey](\n          true\n          /* cancelled */\n        );\n      }\n      if (state.isUnmounting) {\n        return remove();\n      }\n      callHook(onBeforeLeave, [el]);\n      let called = false;\n      const done = el[leaveCbKey] = (cancelled) => {\n        if (called) return;\n        called = true;\n        remove();\n        if (cancelled) {\n          callHook(onLeaveCancelled, [el]);\n        } else {\n          callHook(onAfterLeave, [el]);\n        }\n        el[leaveCbKey] = void 0;\n        if (leavingVNodesCache[key2] === vnode) {\n          delete leavingVNodesCache[key2];\n        }\n      };\n      leavingVNodesCache[key2] = vnode;\n      if (onLeave) {\n        callAsyncHook(onLeave, [el, done]);\n      } else {\n        done();\n      }\n    },\n    clone(vnode2) {\n      const hooks2 = resolveTransitionHooks(\n        vnode2,\n        props,\n        state,\n        instance,\n        postClone\n      );\n      if (postClone) postClone(hooks2);\n      return hooks2;\n    }\n  };\n  return hooks;\n}\nfunction emptyPlaceholder(vnode) {\n  if (isKeepAlive(vnode)) {\n    vnode = cloneVNode(vnode);\n    vnode.children = null;\n    return vnode;\n  }\n}\nfunction getInnerChild$1(vnode) {\n  if (!isKeepAlive(vnode)) {\n    if (isTeleport(vnode.type) && vnode.children) {\n      return findNonCommentChild(vnode.children);\n    }\n    return vnode;\n  }\n  if (vnode.component) {\n    return vnode.component.subTree;\n  }\n  const { shapeFlag, children } = vnode;\n  if (children) {\n    if (shapeFlag & 16) {\n      return children[0];\n    }\n    if (shapeFlag & 32 && isFunction(children.default)) {\n      return children.default();\n    }\n  }\n}\nfunction setTransitionHooks(vnode, hooks) {\n  if (vnode.shapeFlag & 6 && vnode.component) {\n    vnode.transition = hooks;\n    setTransitionHooks(vnode.component.subTree, hooks);\n  } else if (vnode.shapeFlag & 128) {\n    vnode.ssContent.transition = hooks.clone(vnode.ssContent);\n    vnode.ssFallback.transition = hooks.clone(vnode.ssFallback);\n  } else {\n    vnode.transition = hooks;\n  }\n}\nfunction getTransitionRawChildren(children, keepComment = false, parentKey) {\n  let ret = [];\n  let keyedFragmentCount = 0;\n  for (let i = 0; i < children.length; i++) {\n    let child = children[i];\n    const key = parentKey == null ? child.key : String(parentKey) + String(child.key != null ? child.key : i);\n    if (child.type === Fragment) {\n      if (child.patchFlag & 128) keyedFragmentCount++;\n      ret = ret.concat(\n        getTransitionRawChildren(child.children, keepComment, key)\n      );\n    } else if (keepComment || child.type !== Comment) {\n      ret.push(key != null ? cloneVNode(child, { key }) : child);\n    }\n  }\n  if (keyedFragmentCount > 1) {\n    for (let i = 0; i < ret.length; i++) {\n      ret[i].patchFlag = -2;\n    }\n  }\n  return ret;\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction defineComponent(options, extraOptions) {\n  return isFunction(options) ? (\n    // #8236: extend call and options.name access are considered side-effects\n    // by Rollup, so we have to wrap it in a pure-annotated IIFE.\n    /* @__PURE__ */ (() => extend({ name: options.name }, extraOptions, { setup: options }))()\n  ) : options;\n}\n\nfunction useId() {\n  const i = getCurrentInstance();\n  if (i) {\n    return (i.appContext.config.idPrefix || \"v\") + \"-\" + i.ids[0] + i.ids[1]++;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(\n      `useId() is called when there is no active component instance to be associated with.`\n    );\n  }\n  return \"\";\n}\nfunction markAsyncBoundary(instance) {\n  instance.ids = [instance.ids[0] + instance.ids[2]++ + \"-\", 0, 0];\n}\n\nconst knownTemplateRefs = /* @__PURE__ */ new WeakSet();\nfunction useTemplateRef(key) {\n  const i = getCurrentInstance();\n  const r = shallowRef(null);\n  if (i) {\n    const refs = i.refs === EMPTY_OBJ ? i.refs = {} : i.refs;\n    let desc;\n    if (!!(process.env.NODE_ENV !== \"production\") && (desc = Object.getOwnPropertyDescriptor(refs, key)) && !desc.configurable) {\n      warn$1(`useTemplateRef('${key}') already exists.`);\n    } else {\n      Object.defineProperty(refs, key, {\n        enumerable: true,\n        get: () => r.value,\n        set: (val) => r.value = val\n      });\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(\n      `useTemplateRef() is called when there is no active component instance to be associated with.`\n    );\n  }\n  const ret = !!(process.env.NODE_ENV !== \"production\") ? readonly(r) : r;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    knownTemplateRefs.add(ret);\n  }\n  return ret;\n}\n\nconst pendingSetRefMap = /* @__PURE__ */ new WeakMap();\nfunction setRef(rawRef, oldRawRef, parentSuspense, vnode, isUnmount = false) {\n  if (isArray(rawRef)) {\n    rawRef.forEach(\n      (r, i) => setRef(\n        r,\n        oldRawRef && (isArray(oldRawRef) ? oldRawRef[i] : oldRawRef),\n        parentSuspense,\n        vnode,\n        isUnmount\n      )\n    );\n    return;\n  }\n  if (isAsyncWrapper(vnode) && !isUnmount) {\n    if (vnode.shapeFlag & 512 && vnode.type.__asyncResolved && vnode.component.subTree.component) {\n      setRef(rawRef, oldRawRef, parentSuspense, vnode.component.subTree);\n    }\n    return;\n  }\n  const refValue = vnode.shapeFlag & 4 ? getComponentPublicInstance(vnode.component) : vnode.el;\n  const value = isUnmount ? null : refValue;\n  const { i: owner, r: ref } = rawRef;\n  if (!!(process.env.NODE_ENV !== \"production\") && !owner) {\n    warn$1(\n      `Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.`\n    );\n    return;\n  }\n  const oldRef = oldRawRef && oldRawRef.r;\n  const refs = owner.refs === EMPTY_OBJ ? owner.refs = {} : owner.refs;\n  const setupState = owner.setupState;\n  const rawSetupState = toRaw(setupState);\n  const canSetSetupRef = setupState === EMPTY_OBJ ? NO : (key) => {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      if (hasOwn(rawSetupState, key) && !isRef(rawSetupState[key])) {\n        warn$1(\n          `Template ref \"${key}\" used on a non-ref value. It will not work in the production build.`\n        );\n      }\n      if (knownTemplateRefs.has(rawSetupState[key])) {\n        return false;\n      }\n    }\n    return hasOwn(rawSetupState, key);\n  };\n  const canSetRef = (ref2) => {\n    return !!!(process.env.NODE_ENV !== \"production\") || !knownTemplateRefs.has(ref2);\n  };\n  if (oldRef != null && oldRef !== ref) {\n    invalidatePendingSetRef(oldRawRef);\n    if (isString(oldRef)) {\n      refs[oldRef] = null;\n      if (canSetSetupRef(oldRef)) {\n        setupState[oldRef] = null;\n      }\n    } else if (isRef(oldRef)) {\n      if (canSetRef(oldRef)) {\n        oldRef.value = null;\n      }\n      const oldRawRefAtom = oldRawRef;\n      if (oldRawRefAtom.k) refs[oldRawRefAtom.k] = null;\n    }\n  }\n  if (isFunction(ref)) {\n    callWithErrorHandling(ref, owner, 12, [value, refs]);\n  } else {\n    const _isString = isString(ref);\n    const _isRef = isRef(ref);\n    if (_isString || _isRef) {\n      const doSet = () => {\n        if (rawRef.f) {\n          const existing = _isString ? canSetSetupRef(ref) ? setupState[ref] : refs[ref] : canSetRef(ref) || !rawRef.k ? ref.value : refs[rawRef.k];\n          if (isUnmount) {\n            isArray(existing) && remove(existing, refValue);\n          } else {\n            if (!isArray(existing)) {\n              if (_isString) {\n                refs[ref] = [refValue];\n                if (canSetSetupRef(ref)) {\n                  setupState[ref] = refs[ref];\n                }\n              } else {\n                const newVal = [refValue];\n                if (canSetRef(ref)) {\n                  ref.value = newVal;\n                }\n                if (rawRef.k) refs[rawRef.k] = newVal;\n              }\n            } else if (!existing.includes(refValue)) {\n              existing.push(refValue);\n            }\n          }\n        } else if (_isString) {\n          refs[ref] = value;\n          if (canSetSetupRef(ref)) {\n            setupState[ref] = value;\n          }\n        } else if (_isRef) {\n          if (canSetRef(ref)) {\n            ref.value = value;\n          }\n          if (rawRef.k) refs[rawRef.k] = value;\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(\"Invalid template ref type:\", ref, `(${typeof ref})`);\n        }\n      };\n      if (value) {\n        const job = () => {\n          doSet();\n          pendingSetRefMap.delete(rawRef);\n        };\n        job.id = -1;\n        pendingSetRefMap.set(rawRef, job);\n        queuePostRenderEffect(job, parentSuspense);\n      } else {\n        invalidatePendingSetRef(rawRef);\n        doSet();\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn$1(\"Invalid template ref type:\", ref, `(${typeof ref})`);\n    }\n  }\n}\nfunction invalidatePendingSetRef(rawRef) {\n  const pendingSetRef = pendingSetRefMap.get(rawRef);\n  if (pendingSetRef) {\n    pendingSetRef.flags |= 8;\n    pendingSetRefMap.delete(rawRef);\n  }\n}\n\nlet hasLoggedMismatchError = false;\nconst logMismatchError = () => {\n  if (hasLoggedMismatchError) {\n    return;\n  }\n  console.error(\"Hydration completed but contains mismatches.\");\n  hasLoggedMismatchError = true;\n};\nconst isSVGContainer = (container) => container.namespaceURI.includes(\"svg\") && container.tagName !== \"foreignObject\";\nconst isMathMLContainer = (container) => container.namespaceURI.includes(\"MathML\");\nconst getContainerType = (container) => {\n  if (container.nodeType !== 1) return void 0;\n  if (isSVGContainer(container)) return \"svg\";\n  if (isMathMLContainer(container)) return \"mathml\";\n  return void 0;\n};\nconst isComment = (node) => node.nodeType === 8;\nfunction createHydrationFunctions(rendererInternals) {\n  const {\n    mt: mountComponent,\n    p: patch,\n    o: {\n      patchProp,\n      createText,\n      nextSibling,\n      parentNode,\n      remove,\n      insert,\n      createComment\n    }\n  } = rendererInternals;\n  const hydrate = (vnode, container) => {\n    if (!container.hasChildNodes()) {\n      (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && warn$1(\n        `Attempting to hydrate existing markup but container is empty. Performing full mount instead.`\n      );\n      patch(null, vnode, container);\n      flushPostFlushCbs();\n      container._vnode = vnode;\n      return;\n    }\n    hydrateNode(container.firstChild, vnode, null, null, null);\n    flushPostFlushCbs();\n    container._vnode = vnode;\n  };\n  const hydrateNode = (node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized = false) => {\n    optimized = optimized || !!vnode.dynamicChildren;\n    const isFragmentStart = isComment(node) && node.data === \"[\";\n    const onMismatch = () => handleMismatch(\n      node,\n      vnode,\n      parentComponent,\n      parentSuspense,\n      slotScopeIds,\n      isFragmentStart\n    );\n    const { type, ref, shapeFlag, patchFlag } = vnode;\n    let domType = node.nodeType;\n    vnode.el = node;\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      def(node, \"__vnode\", vnode, true);\n      def(node, \"__vueParentComponent\", parentComponent, true);\n    }\n    if (patchFlag === -2) {\n      optimized = false;\n      vnode.dynamicChildren = null;\n    }\n    let nextNode = null;\n    switch (type) {\n      case Text:\n        if (domType !== 3) {\n          if (vnode.children === \"\") {\n            insert(vnode.el = createText(\"\"), parentNode(node), node);\n            nextNode = node;\n          } else {\n            nextNode = onMismatch();\n          }\n        } else {\n          if (node.data !== vnode.children) {\n            (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && warn$1(\n              `Hydration text mismatch in`,\n              node.parentNode,\n              `\n  - rendered on server: ${JSON.stringify(\n                node.data\n              )}\n  - expected on client: ${JSON.stringify(vnode.children)}`\n            );\n            logMismatchError();\n            node.data = vnode.children;\n          }\n          nextNode = nextSibling(node);\n        }\n        break;\n      case Comment:\n        if (isTemplateNode(node)) {\n          nextNode = nextSibling(node);\n          replaceNode(\n            vnode.el = node.content.firstChild,\n            node,\n            parentComponent\n          );\n        } else if (domType !== 8 || isFragmentStart) {\n          nextNode = onMismatch();\n        } else {\n          nextNode = nextSibling(node);\n        }\n        break;\n      case Static:\n        if (isFragmentStart) {\n          node = nextSibling(node);\n          domType = node.nodeType;\n        }\n        if (domType === 1 || domType === 3) {\n          nextNode = node;\n          const needToAdoptContent = !vnode.children.length;\n          for (let i = 0; i < vnode.staticCount; i++) {\n            if (needToAdoptContent)\n              vnode.children += nextNode.nodeType === 1 ? nextNode.outerHTML : nextNode.data;\n            if (i === vnode.staticCount - 1) {\n              vnode.anchor = nextNode;\n            }\n            nextNode = nextSibling(nextNode);\n          }\n          return isFragmentStart ? nextSibling(nextNode) : nextNode;\n        } else {\n          onMismatch();\n        }\n        break;\n      case Fragment:\n        if (!isFragmentStart) {\n          nextNode = onMismatch();\n        } else {\n          nextNode = hydrateFragment(\n            node,\n            vnode,\n            parentComponent,\n            parentSuspense,\n            slotScopeIds,\n            optimized\n          );\n        }\n        break;\n      default:\n        if (shapeFlag & 1) {\n          if ((domType !== 1 || vnode.type.toLowerCase() !== node.tagName.toLowerCase()) && !isTemplateNode(node)) {\n            nextNode = onMismatch();\n          } else {\n            nextNode = hydrateElement(\n              node,\n              vnode,\n              parentComponent,\n              parentSuspense,\n              slotScopeIds,\n              optimized\n            );\n          }\n        } else if (shapeFlag & 6) {\n          vnode.slotScopeIds = slotScopeIds;\n          const container = parentNode(node);\n          if (isFragmentStart) {\n            nextNode = locateClosingAnchor(node);\n          } else if (isComment(node) && node.data === \"teleport start\") {\n            nextNode = locateClosingAnchor(node, node.data, \"teleport end\");\n          } else {\n            nextNode = nextSibling(node);\n          }\n          mountComponent(\n            vnode,\n            container,\n            null,\n            parentComponent,\n            parentSuspense,\n            getContainerType(container),\n            optimized\n          );\n          if (isAsyncWrapper(vnode) && !vnode.type.__asyncResolved) {\n            let subTree;\n            if (isFragmentStart) {\n              subTree = createVNode(Fragment);\n              subTree.anchor = nextNode ? nextNode.previousSibling : container.lastChild;\n            } else {\n              subTree = node.nodeType === 3 ? createTextVNode(\"\") : createVNode(\"div\");\n            }\n            subTree.el = node;\n            vnode.component.subTree = subTree;\n          }\n        } else if (shapeFlag & 64) {\n          if (domType !== 8) {\n            nextNode = onMismatch();\n          } else {\n            nextNode = vnode.type.hydrate(\n              node,\n              vnode,\n              parentComponent,\n              parentSuspense,\n              slotScopeIds,\n              optimized,\n              rendererInternals,\n              hydrateChildren\n            );\n          }\n        } else if (shapeFlag & 128) {\n          nextNode = vnode.type.hydrate(\n            node,\n            vnode,\n            parentComponent,\n            parentSuspense,\n            getContainerType(parentNode(node)),\n            slotScopeIds,\n            optimized,\n            rendererInternals,\n            hydrateNode\n          );\n        } else if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) {\n          warn$1(\"Invalid HostVNode type:\", type, `(${typeof type})`);\n        }\n    }\n    if (ref != null) {\n      setRef(ref, null, parentSuspense, vnode);\n    }\n    return nextNode;\n  };\n  const hydrateElement = (el, vnode, parentComponent, parentSuspense, slotScopeIds, optimized) => {\n    optimized = optimized || !!vnode.dynamicChildren;\n    const { type, props, patchFlag, shapeFlag, dirs, transition } = vnode;\n    const forcePatch = type === \"input\" || type === \"option\";\n    if (!!(process.env.NODE_ENV !== \"production\") || forcePatch || patchFlag !== -1) {\n      if (dirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"created\");\n      }\n      let needCallTransitionHooks = false;\n      if (isTemplateNode(el)) {\n        needCallTransitionHooks = needTransition(\n          null,\n          // no need check parentSuspense in hydration\n          transition\n        ) && parentComponent && parentComponent.vnode.props && parentComponent.vnode.props.appear;\n        const content = el.content.firstChild;\n        if (needCallTransitionHooks) {\n          const cls = content.getAttribute(\"class\");\n          if (cls) content.$cls = cls;\n          transition.beforeEnter(content);\n        }\n        replaceNode(content, el, parentComponent);\n        vnode.el = el = content;\n      }\n      if (shapeFlag & 16 && // skip if element has innerHTML / textContent\n      !(props && (props.innerHTML || props.textContent))) {\n        let next = hydrateChildren(\n          el.firstChild,\n          vnode,\n          el,\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n        let hasWarned = false;\n        while (next) {\n          if (!isMismatchAllowed(el, 1 /* CHILDREN */)) {\n            if ((!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && !hasWarned) {\n              warn$1(\n                `Hydration children mismatch on`,\n                el,\n                `\nServer rendered element contains more child nodes than client vdom.`\n              );\n              hasWarned = true;\n            }\n            logMismatchError();\n          }\n          const cur = next;\n          next = next.nextSibling;\n          remove(cur);\n        }\n      } else if (shapeFlag & 8) {\n        let clientText = vnode.children;\n        if (clientText[0] === \"\\n\" && (el.tagName === \"PRE\" || el.tagName === \"TEXTAREA\")) {\n          clientText = clientText.slice(1);\n        }\n        const { textContent } = el;\n        if (textContent !== clientText && // innerHTML normalize \\r\\n or \\r into a single \\n in the DOM\n        textContent !== clientText.replace(/\\r\\n|\\r/g, \"\\n\")) {\n          if (!isMismatchAllowed(el, 0 /* TEXT */)) {\n            (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && warn$1(\n              `Hydration text content mismatch on`,\n              el,\n              `\n  - rendered on server: ${textContent}\n  - expected on client: ${clientText}`\n            );\n            logMismatchError();\n          }\n          el.textContent = vnode.children;\n        }\n      }\n      if (props) {\n        if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__ || forcePatch || !optimized || patchFlag & (16 | 32)) {\n          const isCustomElement = el.tagName.includes(\"-\");\n          for (const key in props) {\n            if ((!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && // #11189 skip if this node has directives that have created hooks\n            // as it could have mutated the DOM in any possible way\n            !(dirs && dirs.some((d) => d.dir.created)) && propHasMismatch(el, key, props[key], vnode, parentComponent)) {\n              logMismatchError();\n            }\n            if (forcePatch && (key.endsWith(\"value\") || key === \"indeterminate\") || isOn(key) && !isReservedProp(key) || // force hydrate v-bind with .prop modifiers\n            key[0] === \".\" || isCustomElement) {\n              patchProp(el, key, null, props[key], void 0, parentComponent);\n            }\n          }\n        } else if (props.onClick) {\n          patchProp(\n            el,\n            \"onClick\",\n            null,\n            props.onClick,\n            void 0,\n            parentComponent\n          );\n        } else if (patchFlag & 4 && isReactive(props.style)) {\n          for (const key in props.style) props.style[key];\n        }\n      }\n      let vnodeHooks;\n      if (vnodeHooks = props && props.onVnodeBeforeMount) {\n        invokeVNodeHook(vnodeHooks, parentComponent, vnode);\n      }\n      if (dirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"beforeMount\");\n      }\n      if ((vnodeHooks = props && props.onVnodeMounted) || dirs || needCallTransitionHooks) {\n        queueEffectWithSuspense(() => {\n          vnodeHooks && invokeVNodeHook(vnodeHooks, parentComponent, vnode);\n          needCallTransitionHooks && transition.enter(el);\n          dirs && invokeDirectiveHook(vnode, null, parentComponent, \"mounted\");\n        }, parentSuspense);\n      }\n    }\n    return el.nextSibling;\n  };\n  const hydrateChildren = (node, parentVNode, container, parentComponent, parentSuspense, slotScopeIds, optimized) => {\n    optimized = optimized || !!parentVNode.dynamicChildren;\n    const children = parentVNode.children;\n    const l = children.length;\n    let hasWarned = false;\n    for (let i = 0; i < l; i++) {\n      const vnode = optimized ? children[i] : children[i] = normalizeVNode(children[i]);\n      const isText = vnode.type === Text;\n      if (node) {\n        if (isText && !optimized) {\n          if (i + 1 < l && normalizeVNode(children[i + 1]).type === Text) {\n            insert(\n              createText(\n                node.data.slice(vnode.children.length)\n              ),\n              container,\n              nextSibling(node)\n            );\n            node.data = vnode.children;\n          }\n        }\n        node = hydrateNode(\n          node,\n          vnode,\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n      } else if (isText && !vnode.children) {\n        insert(vnode.el = createText(\"\"), container);\n      } else {\n        if (!isMismatchAllowed(container, 1 /* CHILDREN */)) {\n          if ((!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && !hasWarned) {\n            warn$1(\n              `Hydration children mismatch on`,\n              container,\n              `\nServer rendered element contains fewer child nodes than client vdom.`\n            );\n            hasWarned = true;\n          }\n          logMismatchError();\n        }\n        patch(\n          null,\n          vnode,\n          container,\n          null,\n          parentComponent,\n          parentSuspense,\n          getContainerType(container),\n          slotScopeIds\n        );\n      }\n    }\n    return node;\n  };\n  const hydrateFragment = (node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized) => {\n    const { slotScopeIds: fragmentSlotScopeIds } = vnode;\n    if (fragmentSlotScopeIds) {\n      slotScopeIds = slotScopeIds ? slotScopeIds.concat(fragmentSlotScopeIds) : fragmentSlotScopeIds;\n    }\n    const container = parentNode(node);\n    const next = hydrateChildren(\n      nextSibling(node),\n      vnode,\n      container,\n      parentComponent,\n      parentSuspense,\n      slotScopeIds,\n      optimized\n    );\n    if (next && isComment(next) && next.data === \"]\") {\n      return nextSibling(vnode.anchor = next);\n    } else {\n      logMismatchError();\n      insert(vnode.anchor = createComment(`]`), container, next);\n      return next;\n    }\n  };\n  const handleMismatch = (node, vnode, parentComponent, parentSuspense, slotScopeIds, isFragment) => {\n    if (!isMismatchAllowed(node.parentElement, 1 /* CHILDREN */)) {\n      (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && warn$1(\n        `Hydration node mismatch:\n- rendered on server:`,\n        node,\n        node.nodeType === 3 ? `(text)` : isComment(node) && node.data === \"[\" ? `(start of fragment)` : ``,\n        `\n- expected on client:`,\n        vnode.type\n      );\n      logMismatchError();\n    }\n    vnode.el = null;\n    if (isFragment) {\n      const end = locateClosingAnchor(node);\n      while (true) {\n        const next2 = nextSibling(node);\n        if (next2 && next2 !== end) {\n          remove(next2);\n        } else {\n          break;\n        }\n      }\n    }\n    const next = nextSibling(node);\n    const container = parentNode(node);\n    remove(node);\n    patch(\n      null,\n      vnode,\n      container,\n      next,\n      parentComponent,\n      parentSuspense,\n      getContainerType(container),\n      slotScopeIds\n    );\n    if (parentComponent) {\n      parentComponent.vnode.el = vnode.el;\n      updateHOCHostEl(parentComponent, vnode.el);\n    }\n    return next;\n  };\n  const locateClosingAnchor = (node, open = \"[\", close = \"]\") => {\n    let match = 0;\n    while (node) {\n      node = nextSibling(node);\n      if (node && isComment(node)) {\n        if (node.data === open) match++;\n        if (node.data === close) {\n          if (match === 0) {\n            return nextSibling(node);\n          } else {\n            match--;\n          }\n        }\n      }\n    }\n    return node;\n  };\n  const replaceNode = (newNode, oldNode, parentComponent) => {\n    const parentNode2 = oldNode.parentNode;\n    if (parentNode2) {\n      parentNode2.replaceChild(newNode, oldNode);\n    }\n    let parent = parentComponent;\n    while (parent) {\n      if (parent.vnode.el === oldNode) {\n        parent.vnode.el = parent.subTree.el = newNode;\n      }\n      parent = parent.parent;\n    }\n  };\n  const isTemplateNode = (node) => {\n    return node.nodeType === 1 && node.tagName === \"TEMPLATE\";\n  };\n  return [hydrate, hydrateNode];\n}\nfunction propHasMismatch(el, key, clientValue, vnode, instance) {\n  let mismatchType;\n  let mismatchKey;\n  let actual;\n  let expected;\n  if (key === \"class\") {\n    if (el.$cls) {\n      actual = el.$cls;\n      delete el.$cls;\n    } else {\n      actual = el.getAttribute(\"class\");\n    }\n    expected = normalizeClass(clientValue);\n    if (!isSetEqual(toClassSet(actual || \"\"), toClassSet(expected))) {\n      mismatchType = 2 /* CLASS */;\n      mismatchKey = `class`;\n    }\n  } else if (key === \"style\") {\n    actual = el.getAttribute(\"style\") || \"\";\n    expected = isString(clientValue) ? clientValue : stringifyStyle(normalizeStyle(clientValue));\n    const actualMap = toStyleMap(actual);\n    const expectedMap = toStyleMap(expected);\n    if (vnode.dirs) {\n      for (const { dir, value } of vnode.dirs) {\n        if (dir.name === \"show\" && !value) {\n          expectedMap.set(\"display\", \"none\");\n        }\n      }\n    }\n    if (instance) {\n      resolveCssVars(instance, vnode, expectedMap);\n    }\n    if (!isMapEqual(actualMap, expectedMap)) {\n      mismatchType = 3 /* STYLE */;\n      mismatchKey = \"style\";\n    }\n  } else if (el instanceof SVGElement && isKnownSvgAttr(key) || el instanceof HTMLElement && (isBooleanAttr(key) || isKnownHtmlAttr(key))) {\n    if (isBooleanAttr(key)) {\n      actual = el.hasAttribute(key);\n      expected = includeBooleanAttr(clientValue);\n    } else if (clientValue == null) {\n      actual = el.hasAttribute(key);\n      expected = false;\n    } else {\n      if (el.hasAttribute(key)) {\n        actual = el.getAttribute(key);\n      } else if (key === \"value\" && el.tagName === \"TEXTAREA\") {\n        actual = el.value;\n      } else {\n        actual = false;\n      }\n      expected = isRenderableAttrValue(clientValue) ? String(clientValue) : false;\n    }\n    if (actual !== expected) {\n      mismatchType = 4 /* ATTRIBUTE */;\n      mismatchKey = key;\n    }\n  }\n  if (mismatchType != null && !isMismatchAllowed(el, mismatchType)) {\n    const format = (v) => v === false ? `(not rendered)` : `${mismatchKey}=\"${v}\"`;\n    const preSegment = `Hydration ${MismatchTypeString[mismatchType]} mismatch on`;\n    const postSegment = `\n  - rendered on server: ${format(actual)}\n  - expected on client: ${format(expected)}\n  Note: this mismatch is check-only. The DOM will not be rectified in production due to performance overhead.\n  You should fix the source of the mismatch.`;\n    {\n      warn$1(preSegment, el, postSegment);\n    }\n    return true;\n  }\n  return false;\n}\nfunction toClassSet(str) {\n  return new Set(str.trim().split(/\\s+/));\n}\nfunction isSetEqual(a, b) {\n  if (a.size !== b.size) {\n    return false;\n  }\n  for (const s of a) {\n    if (!b.has(s)) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction toStyleMap(str) {\n  const styleMap = /* @__PURE__ */ new Map();\n  for (const item of str.split(\";\")) {\n    let [key, value] = item.split(\":\");\n    key = key.trim();\n    value = value && value.trim();\n    if (key && value) {\n      styleMap.set(key, value);\n    }\n  }\n  return styleMap;\n}\nfunction isMapEqual(a, b) {\n  if (a.size !== b.size) {\n    return false;\n  }\n  for (const [key, value] of a) {\n    if (value !== b.get(key)) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction resolveCssVars(instance, vnode, expectedMap) {\n  const root = instance.subTree;\n  if (instance.getCssVars && (vnode === root || root && root.type === Fragment && root.children.includes(vnode))) {\n    const cssVars = instance.getCssVars();\n    for (const key in cssVars) {\n      const value = normalizeCssVarValue(cssVars[key]);\n      expectedMap.set(`--${getEscapedCssVarName(key, false)}`, value);\n    }\n  }\n  if (vnode === root && instance.parent) {\n    resolveCssVars(instance.parent, instance.vnode, expectedMap);\n  }\n}\nconst allowMismatchAttr = \"data-allow-mismatch\";\nconst MismatchTypeString = {\n  [0 /* TEXT */]: \"text\",\n  [1 /* CHILDREN */]: \"children\",\n  [2 /* CLASS */]: \"class\",\n  [3 /* STYLE */]: \"style\",\n  [4 /* ATTRIBUTE */]: \"attribute\"\n};\nfunction isMismatchAllowed(el, allowedType) {\n  if (allowedType === 0 /* TEXT */ || allowedType === 1 /* CHILDREN */) {\n    while (el && !el.hasAttribute(allowMismatchAttr)) {\n      el = el.parentElement;\n    }\n  }\n  const allowedAttr = el && el.getAttribute(allowMismatchAttr);\n  if (allowedAttr == null) {\n    return false;\n  } else if (allowedAttr === \"\") {\n    return true;\n  } else {\n    const list = allowedAttr.split(\",\");\n    if (allowedType === 0 /* TEXT */ && list.includes(\"children\")) {\n      return true;\n    }\n    return list.includes(MismatchTypeString[allowedType]);\n  }\n}\n\nconst requestIdleCallback = getGlobalThis().requestIdleCallback || ((cb) => setTimeout(cb, 1));\nconst cancelIdleCallback = getGlobalThis().cancelIdleCallback || ((id) => clearTimeout(id));\nconst hydrateOnIdle = (timeout = 1e4) => (hydrate) => {\n  const id = requestIdleCallback(hydrate, { timeout });\n  return () => cancelIdleCallback(id);\n};\nfunction elementIsVisibleInViewport(el) {\n  const { top, left, bottom, right } = el.getBoundingClientRect();\n  const { innerHeight, innerWidth } = window;\n  return (top > 0 && top < innerHeight || bottom > 0 && bottom < innerHeight) && (left > 0 && left < innerWidth || right > 0 && right < innerWidth);\n}\nconst hydrateOnVisible = (opts) => (hydrate, forEach) => {\n  const ob = new IntersectionObserver((entries) => {\n    for (const e of entries) {\n      if (!e.isIntersecting) continue;\n      ob.disconnect();\n      hydrate();\n      break;\n    }\n  }, opts);\n  forEach((el) => {\n    if (!(el instanceof Element)) return;\n    if (elementIsVisibleInViewport(el)) {\n      hydrate();\n      ob.disconnect();\n      return false;\n    }\n    ob.observe(el);\n  });\n  return () => ob.disconnect();\n};\nconst hydrateOnMediaQuery = (query) => (hydrate) => {\n  if (query) {\n    const mql = matchMedia(query);\n    if (mql.matches) {\n      hydrate();\n    } else {\n      mql.addEventListener(\"change\", hydrate, { once: true });\n      return () => mql.removeEventListener(\"change\", hydrate);\n    }\n  }\n};\nconst hydrateOnInteraction = (interactions = []) => (hydrate, forEach) => {\n  if (isString(interactions)) interactions = [interactions];\n  let hasHydrated = false;\n  const doHydrate = (e) => {\n    if (!hasHydrated) {\n      hasHydrated = true;\n      teardown();\n      hydrate();\n      e.target.dispatchEvent(new e.constructor(e.type, e));\n    }\n  };\n  const teardown = () => {\n    forEach((el) => {\n      for (const i of interactions) {\n        el.removeEventListener(i, doHydrate);\n      }\n    });\n  };\n  forEach((el) => {\n    for (const i of interactions) {\n      el.addEventListener(i, doHydrate, { once: true });\n    }\n  });\n  return teardown;\n};\nfunction forEachElement(node, cb) {\n  if (isComment(node) && node.data === \"[\") {\n    let depth = 1;\n    let next = node.nextSibling;\n    while (next) {\n      if (next.nodeType === 1) {\n        const result = cb(next);\n        if (result === false) {\n          break;\n        }\n      } else if (isComment(next)) {\n        if (next.data === \"]\") {\n          if (--depth === 0) break;\n        } else if (next.data === \"[\") {\n          depth++;\n        }\n      }\n      next = next.nextSibling;\n    }\n  } else {\n    cb(node);\n  }\n}\n\nconst isAsyncWrapper = (i) => !!i.type.__asyncLoader;\n// @__NO_SIDE_EFFECTS__\nfunction defineAsyncComponent(source) {\n  if (isFunction(source)) {\n    source = { loader: source };\n  }\n  const {\n    loader,\n    loadingComponent,\n    errorComponent,\n    delay = 200,\n    hydrate: hydrateStrategy,\n    timeout,\n    // undefined = never times out\n    suspensible = true,\n    onError: userOnError\n  } = source;\n  let pendingRequest = null;\n  let resolvedComp;\n  let retries = 0;\n  const retry = () => {\n    retries++;\n    pendingRequest = null;\n    return load();\n  };\n  const load = () => {\n    let thisRequest;\n    return pendingRequest || (thisRequest = pendingRequest = loader().catch((err) => {\n      err = err instanceof Error ? err : new Error(String(err));\n      if (userOnError) {\n        return new Promise((resolve, reject) => {\n          const userRetry = () => resolve(retry());\n          const userFail = () => reject(err);\n          userOnError(err, userRetry, userFail, retries + 1);\n        });\n      } else {\n        throw err;\n      }\n    }).then((comp) => {\n      if (thisRequest !== pendingRequest && pendingRequest) {\n        return pendingRequest;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && !comp) {\n        warn$1(\n          `Async component loader resolved to undefined. If you are using retry(), make sure to return its return value.`\n        );\n      }\n      if (comp && (comp.__esModule || comp[Symbol.toStringTag] === \"Module\")) {\n        comp = comp.default;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && comp && !isObject(comp) && !isFunction(comp)) {\n        throw new Error(`Invalid async component load result: ${comp}`);\n      }\n      resolvedComp = comp;\n      return comp;\n    }));\n  };\n  return defineComponent({\n    name: \"AsyncComponentWrapper\",\n    __asyncLoader: load,\n    __asyncHydrate(el, instance, hydrate) {\n      let patched = false;\n      (instance.bu || (instance.bu = [])).push(() => patched = true);\n      const performHydrate = () => {\n        if (patched) {\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            warn$1(\n              `Skipping lazy hydration for component '${getComponentName(resolvedComp) || resolvedComp.__file}': it was updated before lazy hydration performed.`\n            );\n          }\n          return;\n        }\n        hydrate();\n      };\n      const doHydrate = hydrateStrategy ? () => {\n        const teardown = hydrateStrategy(\n          performHydrate,\n          (cb) => forEachElement(el, cb)\n        );\n        if (teardown) {\n          (instance.bum || (instance.bum = [])).push(teardown);\n        }\n      } : performHydrate;\n      if (resolvedComp) {\n        doHydrate();\n      } else {\n        load().then(() => !instance.isUnmounted && doHydrate());\n      }\n    },\n    get __asyncResolved() {\n      return resolvedComp;\n    },\n    setup() {\n      const instance = currentInstance;\n      markAsyncBoundary(instance);\n      if (resolvedComp) {\n        return () => createInnerComp(resolvedComp, instance);\n      }\n      const onError = (err) => {\n        pendingRequest = null;\n        handleError(\n          err,\n          instance,\n          13,\n          !errorComponent\n        );\n      };\n      if (suspensible && instance.suspense || isInSSRComponentSetup) {\n        return load().then((comp) => {\n          return () => createInnerComp(comp, instance);\n        }).catch((err) => {\n          onError(err);\n          return () => errorComponent ? createVNode(errorComponent, {\n            error: err\n          }) : null;\n        });\n      }\n      const loaded = ref(false);\n      const error = ref();\n      const delayed = ref(!!delay);\n      if (delay) {\n        setTimeout(() => {\n          delayed.value = false;\n        }, delay);\n      }\n      if (timeout != null) {\n        setTimeout(() => {\n          if (!loaded.value && !error.value) {\n            const err = new Error(\n              `Async component timed out after ${timeout}ms.`\n            );\n            onError(err);\n            error.value = err;\n          }\n        }, timeout);\n      }\n      load().then(() => {\n        loaded.value = true;\n        if (instance.parent && isKeepAlive(instance.parent.vnode)) {\n          instance.parent.update();\n        }\n      }).catch((err) => {\n        onError(err);\n        error.value = err;\n      });\n      return () => {\n        if (loaded.value && resolvedComp) {\n          return createInnerComp(resolvedComp, instance);\n        } else if (error.value && errorComponent) {\n          return createVNode(errorComponent, {\n            error: error.value\n          });\n        } else if (loadingComponent && !delayed.value) {\n          return createInnerComp(\n            loadingComponent,\n            instance\n          );\n        }\n      };\n    }\n  });\n}\nfunction createInnerComp(comp, parent) {\n  const { ref: ref2, props, children, ce } = parent.vnode;\n  const vnode = createVNode(comp, props, children);\n  vnode.ref = ref2;\n  vnode.ce = ce;\n  delete parent.vnode.ce;\n  return vnode;\n}\n\nconst isKeepAlive = (vnode) => vnode.type.__isKeepAlive;\nconst KeepAliveImpl = {\n  name: `KeepAlive`,\n  // Marker for special handling inside the renderer. We are not using a ===\n  // check directly on KeepAlive in the renderer, because importing it directly\n  // would prevent it from being tree-shaken.\n  __isKeepAlive: true,\n  props: {\n    include: [String, RegExp, Array],\n    exclude: [String, RegExp, Array],\n    max: [String, Number]\n  },\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const sharedContext = instance.ctx;\n    if (!sharedContext.renderer) {\n      return () => {\n        const children = slots.default && slots.default();\n        return children && children.length === 1 ? children[0] : children;\n      };\n    }\n    const cache = /* @__PURE__ */ new Map();\n    const keys = /* @__PURE__ */ new Set();\n    let current = null;\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      instance.__v_cache = cache;\n    }\n    const parentSuspense = instance.suspense;\n    const {\n      renderer: {\n        p: patch,\n        m: move,\n        um: _unmount,\n        o: { createElement }\n      }\n    } = sharedContext;\n    const storageContainer = createElement(\"div\");\n    sharedContext.activate = (vnode, container, anchor, namespace, optimized) => {\n      const instance2 = vnode.component;\n      move(vnode, container, anchor, 0, parentSuspense);\n      patch(\n        instance2.vnode,\n        vnode,\n        container,\n        anchor,\n        instance2,\n        parentSuspense,\n        namespace,\n        vnode.slotScopeIds,\n        optimized\n      );\n      queuePostRenderEffect(() => {\n        instance2.isDeactivated = false;\n        if (instance2.a) {\n          invokeArrayFns(instance2.a);\n        }\n        const vnodeHook = vnode.props && vnode.props.onVnodeMounted;\n        if (vnodeHook) {\n          invokeVNodeHook(vnodeHook, instance2.parent, vnode);\n        }\n      }, parentSuspense);\n      if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n        devtoolsComponentAdded(instance2);\n      }\n    };\n    sharedContext.deactivate = (vnode) => {\n      const instance2 = vnode.component;\n      invalidateMount(instance2.m);\n      invalidateMount(instance2.a);\n      move(vnode, storageContainer, null, 1, parentSuspense);\n      queuePostRenderEffect(() => {\n        if (instance2.da) {\n          invokeArrayFns(instance2.da);\n        }\n        const vnodeHook = vnode.props && vnode.props.onVnodeUnmounted;\n        if (vnodeHook) {\n          invokeVNodeHook(vnodeHook, instance2.parent, vnode);\n        }\n        instance2.isDeactivated = true;\n      }, parentSuspense);\n      if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n        devtoolsComponentAdded(instance2);\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && true) {\n        instance2.__keepAliveStorageContainer = storageContainer;\n      }\n    };\n    function unmount(vnode) {\n      resetShapeFlag(vnode);\n      _unmount(vnode, instance, parentSuspense, true);\n    }\n    function pruneCache(filter) {\n      cache.forEach((vnode, key) => {\n        const name = getComponentName(vnode.type);\n        if (name && !filter(name)) {\n          pruneCacheEntry(key);\n        }\n      });\n    }\n    function pruneCacheEntry(key) {\n      const cached = cache.get(key);\n      if (cached && (!current || !isSameVNodeType(cached, current))) {\n        unmount(cached);\n      } else if (current) {\n        resetShapeFlag(current);\n      }\n      cache.delete(key);\n      keys.delete(key);\n    }\n    watch(\n      () => [props.include, props.exclude],\n      ([include, exclude]) => {\n        include && pruneCache((name) => matches(include, name));\n        exclude && pruneCache((name) => !matches(exclude, name));\n      },\n      // prune post-render after `current` has been updated\n      { flush: \"post\", deep: true }\n    );\n    let pendingCacheKey = null;\n    const cacheSubtree = () => {\n      if (pendingCacheKey != null) {\n        if (isSuspense(instance.subTree.type)) {\n          queuePostRenderEffect(() => {\n            cache.set(pendingCacheKey, getInnerChild(instance.subTree));\n          }, instance.subTree.suspense);\n        } else {\n          cache.set(pendingCacheKey, getInnerChild(instance.subTree));\n        }\n      }\n    };\n    onMounted(cacheSubtree);\n    onUpdated(cacheSubtree);\n    onBeforeUnmount(() => {\n      cache.forEach((cached) => {\n        const { subTree, suspense } = instance;\n        const vnode = getInnerChild(subTree);\n        if (cached.type === vnode.type && cached.key === vnode.key) {\n          resetShapeFlag(vnode);\n          const da = vnode.component.da;\n          da && queuePostRenderEffect(da, suspense);\n          return;\n        }\n        unmount(cached);\n      });\n    });\n    return () => {\n      pendingCacheKey = null;\n      if (!slots.default) {\n        return current = null;\n      }\n      const children = slots.default();\n      const rawVNode = children[0];\n      if (children.length > 1) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(`KeepAlive should contain exactly one component child.`);\n        }\n        current = null;\n        return children;\n      } else if (!isVNode(rawVNode) || !(rawVNode.shapeFlag & 4) && !(rawVNode.shapeFlag & 128)) {\n        current = null;\n        return rawVNode;\n      }\n      let vnode = getInnerChild(rawVNode);\n      if (vnode.type === Comment) {\n        current = null;\n        return vnode;\n      }\n      const comp = vnode.type;\n      const name = getComponentName(\n        isAsyncWrapper(vnode) ? vnode.type.__asyncResolved || {} : comp\n      );\n      const { include, exclude, max } = props;\n      if (include && (!name || !matches(include, name)) || exclude && name && matches(exclude, name)) {\n        vnode.shapeFlag &= -257;\n        current = vnode;\n        return rawVNode;\n      }\n      const key = vnode.key == null ? comp : vnode.key;\n      const cachedVNode = cache.get(key);\n      if (vnode.el) {\n        vnode = cloneVNode(vnode);\n        if (rawVNode.shapeFlag & 128) {\n          rawVNode.ssContent = vnode;\n        }\n      }\n      pendingCacheKey = key;\n      if (cachedVNode) {\n        vnode.el = cachedVNode.el;\n        vnode.component = cachedVNode.component;\n        if (vnode.transition) {\n          setTransitionHooks(vnode, vnode.transition);\n        }\n        vnode.shapeFlag |= 512;\n        keys.delete(key);\n        keys.add(key);\n      } else {\n        keys.add(key);\n        if (max && keys.size > parseInt(max, 10)) {\n          pruneCacheEntry(keys.values().next().value);\n        }\n      }\n      vnode.shapeFlag |= 256;\n      current = vnode;\n      return isSuspense(rawVNode.type) ? rawVNode : vnode;\n    };\n  }\n};\nconst KeepAlive = KeepAliveImpl;\nfunction matches(pattern, name) {\n  if (isArray(pattern)) {\n    return pattern.some((p) => matches(p, name));\n  } else if (isString(pattern)) {\n    return pattern.split(\",\").includes(name);\n  } else if (isRegExp(pattern)) {\n    pattern.lastIndex = 0;\n    return pattern.test(name);\n  }\n  return false;\n}\nfunction onActivated(hook, target) {\n  registerKeepAliveHook(hook, \"a\", target);\n}\nfunction onDeactivated(hook, target) {\n  registerKeepAliveHook(hook, \"da\", target);\n}\nfunction registerKeepAliveHook(hook, type, target = currentInstance) {\n  const wrappedHook = hook.__wdc || (hook.__wdc = () => {\n    let current = target;\n    while (current) {\n      if (current.isDeactivated) {\n        return;\n      }\n      current = current.parent;\n    }\n    return hook();\n  });\n  injectHook(type, wrappedHook, target);\n  if (target) {\n    let current = target.parent;\n    while (current && current.parent) {\n      if (isKeepAlive(current.parent.vnode)) {\n        injectToKeepAliveRoot(wrappedHook, type, target, current);\n      }\n      current = current.parent;\n    }\n  }\n}\nfunction injectToKeepAliveRoot(hook, type, target, keepAliveRoot) {\n  const injected = injectHook(\n    type,\n    hook,\n    keepAliveRoot,\n    true\n    /* prepend */\n  );\n  onUnmounted(() => {\n    remove(keepAliveRoot[type], injected);\n  }, target);\n}\nfunction resetShapeFlag(vnode) {\n  vnode.shapeFlag &= -257;\n  vnode.shapeFlag &= -513;\n}\nfunction getInnerChild(vnode) {\n  return vnode.shapeFlag & 128 ? vnode.ssContent : vnode;\n}\n\nfunction injectHook(type, hook, target = currentInstance, prepend = false) {\n  if (target) {\n    const hooks = target[type] || (target[type] = []);\n    const wrappedHook = hook.__weh || (hook.__weh = (...args) => {\n      pauseTracking();\n      const reset = setCurrentInstance(target);\n      const res = callWithAsyncErrorHandling(hook, target, type, args);\n      reset();\n      resetTracking();\n      return res;\n    });\n    if (prepend) {\n      hooks.unshift(wrappedHook);\n    } else {\n      hooks.push(wrappedHook);\n    }\n    return wrappedHook;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    const apiName = toHandlerKey(ErrorTypeStrings$1[type].replace(/ hook$/, \"\"));\n    warn$1(\n      `${apiName} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup().` + (` If you are using async setup(), make sure to register lifecycle hooks before the first await statement.` )\n    );\n  }\n}\nconst createHook = (lifecycle) => (hook, target = currentInstance) => {\n  if (!isInSSRComponentSetup || lifecycle === \"sp\") {\n    injectHook(lifecycle, (...args) => hook(...args), target);\n  }\n};\nconst onBeforeMount = createHook(\"bm\");\nconst onMounted = createHook(\"m\");\nconst onBeforeUpdate = createHook(\n  \"bu\"\n);\nconst onUpdated = createHook(\"u\");\nconst onBeforeUnmount = createHook(\n  \"bum\"\n);\nconst onUnmounted = createHook(\"um\");\nconst onServerPrefetch = createHook(\n  \"sp\"\n);\nconst onRenderTriggered = createHook(\"rtg\");\nconst onRenderTracked = createHook(\"rtc\");\nfunction onErrorCaptured(hook, target = currentInstance) {\n  injectHook(\"ec\", hook, target);\n}\n\nconst COMPONENTS = \"components\";\nconst DIRECTIVES = \"directives\";\nfunction resolveComponent(name, maybeSelfReference) {\n  return resolveAsset(COMPONENTS, name, true, maybeSelfReference) || name;\n}\nconst NULL_DYNAMIC_COMPONENT = Symbol.for(\"v-ndc\");\nfunction resolveDynamicComponent(component) {\n  if (isString(component)) {\n    return resolveAsset(COMPONENTS, component, false) || component;\n  } else {\n    return component || NULL_DYNAMIC_COMPONENT;\n  }\n}\nfunction resolveDirective(name) {\n  return resolveAsset(DIRECTIVES, name);\n}\nfunction resolveAsset(type, name, warnMissing = true, maybeSelfReference = false) {\n  const instance = currentRenderingInstance || currentInstance;\n  if (instance) {\n    const Component = instance.type;\n    if (type === COMPONENTS) {\n      const selfName = getComponentName(\n        Component,\n        false\n      );\n      if (selfName && (selfName === name || selfName === camelize(name) || selfName === capitalize(camelize(name)))) {\n        return Component;\n      }\n    }\n    const res = (\n      // local registration\n      // check instance[type] first which is resolved for options API\n      resolve(instance[type] || Component[type], name) || // global registration\n      resolve(instance.appContext[type], name)\n    );\n    if (!res && maybeSelfReference) {\n      return Component;\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") && warnMissing && !res) {\n      const extra = type === COMPONENTS ? `\nIf this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.` : ``;\n      warn$1(`Failed to resolve ${type.slice(0, -1)}: ${name}${extra}`);\n    }\n    return res;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(\n      `resolve${capitalize(type.slice(0, -1))} can only be used in render() or setup().`\n    );\n  }\n}\nfunction resolve(registry, name) {\n  return registry && (registry[name] || registry[camelize(name)] || registry[capitalize(camelize(name))]);\n}\n\nfunction renderList(source, renderItem, cache, index) {\n  let ret;\n  const cached = cache && cache[index];\n  const sourceIsArray = isArray(source);\n  if (sourceIsArray || isString(source)) {\n    const sourceIsReactiveArray = sourceIsArray && isReactive(source);\n    let needsWrap = false;\n    let isReadonlySource = false;\n    if (sourceIsReactiveArray) {\n      needsWrap = !isShallow(source);\n      isReadonlySource = isReadonly(source);\n      source = shallowReadArray(source);\n    }\n    ret = new Array(source.length);\n    for (let i = 0, l = source.length; i < l; i++) {\n      ret[i] = renderItem(\n        needsWrap ? isReadonlySource ? toReadonly(toReactive(source[i])) : toReactive(source[i]) : source[i],\n        i,\n        void 0,\n        cached && cached[i]\n      );\n    }\n  } else if (typeof source === \"number\") {\n    if (!!(process.env.NODE_ENV !== \"production\") && !Number.isInteger(source)) {\n      warn$1(`The v-for range expect an integer value but got ${source}.`);\n    }\n    ret = new Array(source);\n    for (let i = 0; i < source; i++) {\n      ret[i] = renderItem(i + 1, i, void 0, cached && cached[i]);\n    }\n  } else if (isObject(source)) {\n    if (source[Symbol.iterator]) {\n      ret = Array.from(\n        source,\n        (item, i) => renderItem(item, i, void 0, cached && cached[i])\n      );\n    } else {\n      const keys = Object.keys(source);\n      ret = new Array(keys.length);\n      for (let i = 0, l = keys.length; i < l; i++) {\n        const key = keys[i];\n        ret[i] = renderItem(source[key], key, i, cached && cached[i]);\n      }\n    }\n  } else {\n    ret = [];\n  }\n  if (cache) {\n    cache[index] = ret;\n  }\n  return ret;\n}\n\nfunction createSlots(slots, dynamicSlots) {\n  for (let i = 0; i < dynamicSlots.length; i++) {\n    const slot = dynamicSlots[i];\n    if (isArray(slot)) {\n      for (let j = 0; j < slot.length; j++) {\n        slots[slot[j].name] = slot[j].fn;\n      }\n    } else if (slot) {\n      slots[slot.name] = slot.key ? (...args) => {\n        const res = slot.fn(...args);\n        if (res) res.key = slot.key;\n        return res;\n      } : slot.fn;\n    }\n  }\n  return slots;\n}\n\nfunction renderSlot(slots, name, props = {}, fallback, noSlotted) {\n  if (currentRenderingInstance.ce || currentRenderingInstance.parent && isAsyncWrapper(currentRenderingInstance.parent) && currentRenderingInstance.parent.ce) {\n    const hasProps = Object.keys(props).length > 0;\n    if (name !== \"default\") props.name = name;\n    return openBlock(), createBlock(\n      Fragment,\n      null,\n      [createVNode(\"slot\", props, fallback && fallback())],\n      hasProps ? -2 : 64\n    );\n  }\n  let slot = slots[name];\n  if (!!(process.env.NODE_ENV !== \"production\") && slot && slot.length > 1) {\n    warn$1(\n      `SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template.`\n    );\n    slot = () => [];\n  }\n  if (slot && slot._c) {\n    slot._d = false;\n  }\n  openBlock();\n  const validSlotContent = slot && ensureValidVNode(slot(props));\n  const slotKey = props.key || // slot content array of a dynamic conditional slot may have a branch\n  // key attached in the `createSlots` helper, respect that\n  validSlotContent && validSlotContent.key;\n  const rendered = createBlock(\n    Fragment,\n    {\n      key: (slotKey && !isSymbol(slotKey) ? slotKey : `_${name}`) + // #7256 force differentiate fallback content from actual content\n      (!validSlotContent && fallback ? \"_fb\" : \"\")\n    },\n    validSlotContent || (fallback ? fallback() : []),\n    validSlotContent && slots._ === 1 ? 64 : -2\n  );\n  if (!noSlotted && rendered.scopeId) {\n    rendered.slotScopeIds = [rendered.scopeId + \"-s\"];\n  }\n  if (slot && slot._c) {\n    slot._d = true;\n  }\n  return rendered;\n}\nfunction ensureValidVNode(vnodes) {\n  return vnodes.some((child) => {\n    if (!isVNode(child)) return true;\n    if (child.type === Comment) return false;\n    if (child.type === Fragment && !ensureValidVNode(child.children))\n      return false;\n    return true;\n  }) ? vnodes : null;\n}\n\nfunction toHandlers(obj, preserveCaseIfNecessary) {\n  const ret = {};\n  if (!!(process.env.NODE_ENV !== \"production\") && !isObject(obj)) {\n    warn$1(`v-on with no argument expects an object value.`);\n    return ret;\n  }\n  for (const key in obj) {\n    ret[preserveCaseIfNecessary && /[A-Z]/.test(key) ? `on:${key}` : toHandlerKey(key)] = obj[key];\n  }\n  return ret;\n}\n\nconst getPublicInstance = (i) => {\n  if (!i) return null;\n  if (isStatefulComponent(i)) return getComponentPublicInstance(i);\n  return getPublicInstance(i.parent);\n};\nconst publicPropertiesMap = (\n  // Move PURE marker to new line to workaround compiler discarding it\n  // due to type annotation\n  /* @__PURE__ */ extend(/* @__PURE__ */ Object.create(null), {\n    $: (i) => i,\n    $el: (i) => i.vnode.el,\n    $data: (i) => i.data,\n    $props: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.props) : i.props,\n    $attrs: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.attrs) : i.attrs,\n    $slots: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.slots) : i.slots,\n    $refs: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.refs) : i.refs,\n    $parent: (i) => getPublicInstance(i.parent),\n    $root: (i) => getPublicInstance(i.root),\n    $host: (i) => i.ce,\n    $emit: (i) => i.emit,\n    $options: (i) => __VUE_OPTIONS_API__ ? resolveMergedOptions(i) : i.type,\n    $forceUpdate: (i) => i.f || (i.f = () => {\n      queueJob(i.update);\n    }),\n    $nextTick: (i) => i.n || (i.n = nextTick.bind(i.proxy)),\n    $watch: (i) => __VUE_OPTIONS_API__ ? instanceWatch.bind(i) : NOOP\n  })\n);\nconst isReservedPrefix = (key) => key === \"_\" || key === \"$\";\nconst hasSetupBinding = (state, key) => state !== EMPTY_OBJ && !state.__isScriptSetup && hasOwn(state, key);\nconst PublicInstanceProxyHandlers = {\n  get({ _: instance }, key) {\n    if (key === \"__v_skip\") {\n      return true;\n    }\n    const { ctx, setupState, data, props, accessCache, type, appContext } = instance;\n    if (!!(process.env.NODE_ENV !== \"production\") && key === \"__isVue\") {\n      return true;\n    }\n    if (key[0] !== \"$\") {\n      const n = accessCache[key];\n      if (n !== void 0) {\n        switch (n) {\n          case 1 /* SETUP */:\n            return setupState[key];\n          case 2 /* DATA */:\n            return data[key];\n          case 4 /* CONTEXT */:\n            return ctx[key];\n          case 3 /* PROPS */:\n            return props[key];\n        }\n      } else if (hasSetupBinding(setupState, key)) {\n        accessCache[key] = 1 /* SETUP */;\n        return setupState[key];\n      } else if (__VUE_OPTIONS_API__ && data !== EMPTY_OBJ && hasOwn(data, key)) {\n        accessCache[key] = 2 /* DATA */;\n        return data[key];\n      } else if (hasOwn(props, key)) {\n        accessCache[key] = 3 /* PROPS */;\n        return props[key];\n      } else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\n        accessCache[key] = 4 /* CONTEXT */;\n        return ctx[key];\n      } else if (!__VUE_OPTIONS_API__ || shouldCacheAccess) {\n        accessCache[key] = 0 /* OTHER */;\n      }\n    }\n    const publicGetter = publicPropertiesMap[key];\n    let cssModule, globalProperties;\n    if (publicGetter) {\n      if (key === \"$attrs\") {\n        track(instance.attrs, \"get\", \"\");\n        !!(process.env.NODE_ENV !== \"production\") && markAttrsAccessed();\n      } else if (!!(process.env.NODE_ENV !== \"production\") && key === \"$slots\") {\n        track(instance, \"get\", key);\n      }\n      return publicGetter(instance);\n    } else if (\n      // css module (injected by vue-loader)\n      (cssModule = type.__cssModules) && (cssModule = cssModule[key])\n    ) {\n      return cssModule;\n    } else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\n      accessCache[key] = 4 /* CONTEXT */;\n      return ctx[key];\n    } else if (\n      // global properties\n      globalProperties = appContext.config.globalProperties, hasOwn(globalProperties, key)\n    ) {\n      {\n        return globalProperties[key];\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\") && currentRenderingInstance && (!isString(key) || // #1091 avoid internal isRef/isVNode checks on component instance leading\n    // to infinite warning loop\n    key.indexOf(\"__v\") !== 0)) {\n      if (data !== EMPTY_OBJ && isReservedPrefix(key[0]) && hasOwn(data, key)) {\n        warn$1(\n          `Property ${JSON.stringify(\n            key\n          )} must be accessed via $data because it starts with a reserved character (\"$\" or \"_\") and is not proxied on the render context.`\n        );\n      } else if (instance === currentRenderingInstance) {\n        warn$1(\n          `Property ${JSON.stringify(key)} was accessed during render but is not defined on instance.`\n        );\n      }\n    }\n  },\n  set({ _: instance }, key, value) {\n    const { data, setupState, ctx } = instance;\n    if (hasSetupBinding(setupState, key)) {\n      setupState[key] = value;\n      return true;\n    } else if (!!(process.env.NODE_ENV !== \"production\") && setupState.__isScriptSetup && hasOwn(setupState, key)) {\n      warn$1(`Cannot mutate <script setup> binding \"${key}\" from Options API.`);\n      return false;\n    } else if (__VUE_OPTIONS_API__ && data !== EMPTY_OBJ && hasOwn(data, key)) {\n      data[key] = value;\n      return true;\n    } else if (hasOwn(instance.props, key)) {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(`Attempting to mutate prop \"${key}\". Props are readonly.`);\n      return false;\n    }\n    if (key[0] === \"$\" && key.slice(1) in instance) {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(\n        `Attempting to mutate public property \"${key}\". Properties starting with $ are reserved and readonly.`\n      );\n      return false;\n    } else {\n      if (!!(process.env.NODE_ENV !== \"production\") && key in instance.appContext.config.globalProperties) {\n        Object.defineProperty(ctx, key, {\n          enumerable: true,\n          configurable: true,\n          value\n        });\n      } else {\n        ctx[key] = value;\n      }\n    }\n    return true;\n  },\n  has({\n    _: { data, setupState, accessCache, ctx, appContext, props, type }\n  }, key) {\n    let cssModules;\n    return !!(accessCache[key] || __VUE_OPTIONS_API__ && data !== EMPTY_OBJ && key[0] !== \"$\" && hasOwn(data, key) || hasSetupBinding(setupState, key) || hasOwn(props, key) || hasOwn(ctx, key) || hasOwn(publicPropertiesMap, key) || hasOwn(appContext.config.globalProperties, key) || (cssModules = type.__cssModules) && cssModules[key]);\n  },\n  defineProperty(target, key, descriptor) {\n    if (descriptor.get != null) {\n      target._.accessCache[key] = 0;\n    } else if (hasOwn(descriptor, \"value\")) {\n      this.set(target, key, descriptor.value, null);\n    }\n    return Reflect.defineProperty(target, key, descriptor);\n  }\n};\nif (!!(process.env.NODE_ENV !== \"production\") && true) {\n  PublicInstanceProxyHandlers.ownKeys = (target) => {\n    warn$1(\n      `Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead.`\n    );\n    return Reflect.ownKeys(target);\n  };\n}\nconst RuntimeCompiledPublicInstanceProxyHandlers = /* @__PURE__ */ extend({}, PublicInstanceProxyHandlers, {\n  get(target, key) {\n    if (key === Symbol.unscopables) {\n      return;\n    }\n    return PublicInstanceProxyHandlers.get(target, key, target);\n  },\n  has(_, key) {\n    const has = key[0] !== \"_\" && !isGloballyAllowed(key);\n    if (!!(process.env.NODE_ENV !== \"production\") && !has && PublicInstanceProxyHandlers.has(_, key)) {\n      warn$1(\n        `Property ${JSON.stringify(\n          key\n        )} should not start with _ which is a reserved prefix for Vue internals.`\n      );\n    }\n    return has;\n  }\n});\nfunction createDevRenderContext(instance) {\n  const target = {};\n  Object.defineProperty(target, `_`, {\n    configurable: true,\n    enumerable: false,\n    get: () => instance\n  });\n  Object.keys(publicPropertiesMap).forEach((key) => {\n    Object.defineProperty(target, key, {\n      configurable: true,\n      enumerable: false,\n      get: () => publicPropertiesMap[key](instance),\n      // intercepted by the proxy so no need for implementation,\n      // but needed to prevent set errors\n      set: NOOP\n    });\n  });\n  return target;\n}\nfunction exposePropsOnRenderContext(instance) {\n  const {\n    ctx,\n    propsOptions: [propsOptions]\n  } = instance;\n  if (propsOptions) {\n    Object.keys(propsOptions).forEach((key) => {\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => instance.props[key],\n        set: NOOP\n      });\n    });\n  }\n}\nfunction exposeSetupStateOnRenderContext(instance) {\n  const { ctx, setupState } = instance;\n  Object.keys(toRaw(setupState)).forEach((key) => {\n    if (!setupState.__isScriptSetup) {\n      if (isReservedPrefix(key[0])) {\n        warn$1(\n          `setup() return property ${JSON.stringify(\n            key\n          )} should not start with \"$\" or \"_\" which are reserved prefixes for Vue internals.`\n        );\n        return;\n      }\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => setupState[key],\n        set: NOOP\n      });\n    }\n  });\n}\n\nconst warnRuntimeUsage = (method) => warn$1(\n  `${method}() is a compiler-hint helper that is only usable inside <script setup> of a single file component. Its arguments should be compiled away and passing it at runtime has no effect.`\n);\nfunction defineProps() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineProps`);\n  }\n  return null;\n}\nfunction defineEmits() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineEmits`);\n  }\n  return null;\n}\nfunction defineExpose(exposed) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineExpose`);\n  }\n}\nfunction defineOptions(options) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineOptions`);\n  }\n}\nfunction defineSlots() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineSlots`);\n  }\n  return null;\n}\nfunction defineModel() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(\"defineModel\");\n  }\n}\nfunction withDefaults(props, defaults) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`withDefaults`);\n  }\n  return null;\n}\nfunction useSlots() {\n  return getContext(\"useSlots\").slots;\n}\nfunction useAttrs() {\n  return getContext(\"useAttrs\").attrs;\n}\nfunction getContext(calledFunctionName) {\n  const i = getCurrentInstance();\n  if (!!(process.env.NODE_ENV !== \"production\") && !i) {\n    warn$1(`${calledFunctionName}() called without active instance.`);\n  }\n  return i.setupContext || (i.setupContext = createSetupContext(i));\n}\nfunction normalizePropsOrEmits(props) {\n  return isArray(props) ? props.reduce(\n    (normalized, p) => (normalized[p] = null, normalized),\n    {}\n  ) : props;\n}\nfunction mergeDefaults(raw, defaults) {\n  const props = normalizePropsOrEmits(raw);\n  for (const key in defaults) {\n    if (key.startsWith(\"__skip\")) continue;\n    let opt = props[key];\n    if (opt) {\n      if (isArray(opt) || isFunction(opt)) {\n        opt = props[key] = { type: opt, default: defaults[key] };\n      } else {\n        opt.default = defaults[key];\n      }\n    } else if (opt === null) {\n      opt = props[key] = { default: defaults[key] };\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn$1(`props default key \"${key}\" has no corresponding declaration.`);\n    }\n    if (opt && defaults[`__skip_${key}`]) {\n      opt.skipFactory = true;\n    }\n  }\n  return props;\n}\nfunction mergeModels(a, b) {\n  if (!a || !b) return a || b;\n  if (isArray(a) && isArray(b)) return a.concat(b);\n  return extend({}, normalizePropsOrEmits(a), normalizePropsOrEmits(b));\n}\nfunction createPropsRestProxy(props, excludedKeys) {\n  const ret = {};\n  for (const key in props) {\n    if (!excludedKeys.includes(key)) {\n      Object.defineProperty(ret, key, {\n        enumerable: true,\n        get: () => props[key]\n      });\n    }\n  }\n  return ret;\n}\nfunction withAsyncContext(getAwaitable) {\n  const ctx = getCurrentInstance();\n  if (!!(process.env.NODE_ENV !== \"production\") && !ctx) {\n    warn$1(\n      `withAsyncContext called without active current instance. This is likely a bug.`\n    );\n  }\n  let awaitable = getAwaitable();\n  unsetCurrentInstance();\n  if (isPromise(awaitable)) {\n    awaitable = awaitable.catch((e) => {\n      setCurrentInstance(ctx);\n      throw e;\n    });\n  }\n  return [awaitable, () => setCurrentInstance(ctx)];\n}\n\nfunction createDuplicateChecker() {\n  const cache = /* @__PURE__ */ Object.create(null);\n  return (type, key) => {\n    if (cache[key]) {\n      warn$1(`${type} property \"${key}\" is already defined in ${cache[key]}.`);\n    } else {\n      cache[key] = type;\n    }\n  };\n}\nlet shouldCacheAccess = true;\nfunction applyOptions(instance) {\n  const options = resolveMergedOptions(instance);\n  const publicThis = instance.proxy;\n  const ctx = instance.ctx;\n  shouldCacheAccess = false;\n  if (options.beforeCreate) {\n    callHook(options.beforeCreate, instance, \"bc\");\n  }\n  const {\n    // state\n    data: dataOptions,\n    computed: computedOptions,\n    methods,\n    watch: watchOptions,\n    provide: provideOptions,\n    inject: injectOptions,\n    // lifecycle\n    created,\n    beforeMount,\n    mounted,\n    beforeUpdate,\n    updated,\n    activated,\n    deactivated,\n    beforeDestroy,\n    beforeUnmount,\n    destroyed,\n    unmounted,\n    render,\n    renderTracked,\n    renderTriggered,\n    errorCaptured,\n    serverPrefetch,\n    // public API\n    expose,\n    inheritAttrs,\n    // assets\n    components,\n    directives,\n    filters\n  } = options;\n  const checkDuplicateProperties = !!(process.env.NODE_ENV !== \"production\") ? createDuplicateChecker() : null;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const [propsOptions] = instance.propsOptions;\n    if (propsOptions) {\n      for (const key in propsOptions) {\n        checkDuplicateProperties(\"Props\" /* PROPS */, key);\n      }\n    }\n  }\n  if (injectOptions) {\n    resolveInjections(injectOptions, ctx, checkDuplicateProperties);\n  }\n  if (methods) {\n    for (const key in methods) {\n      const methodHandler = methods[key];\n      if (isFunction(methodHandler)) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          Object.defineProperty(ctx, key, {\n            value: methodHandler.bind(publicThis),\n            configurable: true,\n            enumerable: true,\n            writable: true\n          });\n        } else {\n          ctx[key] = methodHandler.bind(publicThis);\n        }\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          checkDuplicateProperties(\"Methods\" /* METHODS */, key);\n        }\n      } else if (!!(process.env.NODE_ENV !== \"production\")) {\n        warn$1(\n          `Method \"${key}\" has type \"${typeof methodHandler}\" in the component definition. Did you reference the function correctly?`\n        );\n      }\n    }\n  }\n  if (dataOptions) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isFunction(dataOptions)) {\n      warn$1(\n        `The data option must be a function. Plain object usage is no longer supported.`\n      );\n    }\n    const data = dataOptions.call(publicThis, publicThis);\n    if (!!(process.env.NODE_ENV !== \"production\") && isPromise(data)) {\n      warn$1(\n        `data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>.`\n      );\n    }\n    if (!isObject(data)) {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(`data() should return an object.`);\n    } else {\n      instance.data = reactive(data);\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        for (const key in data) {\n          checkDuplicateProperties(\"Data\" /* DATA */, key);\n          if (!isReservedPrefix(key[0])) {\n            Object.defineProperty(ctx, key, {\n              configurable: true,\n              enumerable: true,\n              get: () => data[key],\n              set: NOOP\n            });\n          }\n        }\n      }\n    }\n  }\n  shouldCacheAccess = true;\n  if (computedOptions) {\n    for (const key in computedOptions) {\n      const opt = computedOptions[key];\n      const get = isFunction(opt) ? opt.bind(publicThis, publicThis) : isFunction(opt.get) ? opt.get.bind(publicThis, publicThis) : NOOP;\n      if (!!(process.env.NODE_ENV !== \"production\") && get === NOOP) {\n        warn$1(`Computed property \"${key}\" has no getter.`);\n      }\n      const set = !isFunction(opt) && isFunction(opt.set) ? opt.set.bind(publicThis) : !!(process.env.NODE_ENV !== \"production\") ? () => {\n        warn$1(\n          `Write operation failed: computed property \"${key}\" is readonly.`\n        );\n      } : NOOP;\n      const c = computed({\n        get,\n        set\n      });\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => c.value,\n        set: (v) => c.value = v\n      });\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        checkDuplicateProperties(\"Computed\" /* COMPUTED */, key);\n      }\n    }\n  }\n  if (watchOptions) {\n    for (const key in watchOptions) {\n      createWatcher(watchOptions[key], ctx, publicThis, key);\n    }\n  }\n  if (provideOptions) {\n    const provides = isFunction(provideOptions) ? provideOptions.call(publicThis) : provideOptions;\n    Reflect.ownKeys(provides).forEach((key) => {\n      provide(key, provides[key]);\n    });\n  }\n  if (created) {\n    callHook(created, instance, \"c\");\n  }\n  function registerLifecycleHook(register, hook) {\n    if (isArray(hook)) {\n      hook.forEach((_hook) => register(_hook.bind(publicThis)));\n    } else if (hook) {\n      register(hook.bind(publicThis));\n    }\n  }\n  registerLifecycleHook(onBeforeMount, beforeMount);\n  registerLifecycleHook(onMounted, mounted);\n  registerLifecycleHook(onBeforeUpdate, beforeUpdate);\n  registerLifecycleHook(onUpdated, updated);\n  registerLifecycleHook(onActivated, activated);\n  registerLifecycleHook(onDeactivated, deactivated);\n  registerLifecycleHook(onErrorCaptured, errorCaptured);\n  registerLifecycleHook(onRenderTracked, renderTracked);\n  registerLifecycleHook(onRenderTriggered, renderTriggered);\n  registerLifecycleHook(onBeforeUnmount, beforeUnmount);\n  registerLifecycleHook(onUnmounted, unmounted);\n  registerLifecycleHook(onServerPrefetch, serverPrefetch);\n  if (isArray(expose)) {\n    if (expose.length) {\n      const exposed = instance.exposed || (instance.exposed = {});\n      expose.forEach((key) => {\n        Object.defineProperty(exposed, key, {\n          get: () => publicThis[key],\n          set: (val) => publicThis[key] = val,\n          enumerable: true\n        });\n      });\n    } else if (!instance.exposed) {\n      instance.exposed = {};\n    }\n  }\n  if (render && instance.render === NOOP) {\n    instance.render = render;\n  }\n  if (inheritAttrs != null) {\n    instance.inheritAttrs = inheritAttrs;\n  }\n  if (components) instance.components = components;\n  if (directives) instance.directives = directives;\n  if (serverPrefetch) {\n    markAsyncBoundary(instance);\n  }\n}\nfunction resolveInjections(injectOptions, ctx, checkDuplicateProperties = NOOP) {\n  if (isArray(injectOptions)) {\n    injectOptions = normalizeInject(injectOptions);\n  }\n  for (const key in injectOptions) {\n    const opt = injectOptions[key];\n    let injected;\n    if (isObject(opt)) {\n      if (\"default\" in opt) {\n        injected = inject(\n          opt.from || key,\n          opt.default,\n          true\n        );\n      } else {\n        injected = inject(opt.from || key);\n      }\n    } else {\n      injected = inject(opt);\n    }\n    if (isRef(injected)) {\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => injected.value,\n        set: (v) => injected.value = v\n      });\n    } else {\n      ctx[key] = injected;\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      checkDuplicateProperties(\"Inject\" /* INJECT */, key);\n    }\n  }\n}\nfunction callHook(hook, instance, type) {\n  callWithAsyncErrorHandling(\n    isArray(hook) ? hook.map((h) => h.bind(instance.proxy)) : hook.bind(instance.proxy),\n    instance,\n    type\n  );\n}\nfunction createWatcher(raw, ctx, publicThis, key) {\n  let getter = key.includes(\".\") ? createPathGetter(publicThis, key) : () => publicThis[key];\n  if (isString(raw)) {\n    const handler = ctx[raw];\n    if (isFunction(handler)) {\n      {\n        watch(getter, handler);\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn$1(`Invalid watch handler specified by key \"${raw}\"`, handler);\n    }\n  } else if (isFunction(raw)) {\n    {\n      watch(getter, raw.bind(publicThis));\n    }\n  } else if (isObject(raw)) {\n    if (isArray(raw)) {\n      raw.forEach((r) => createWatcher(r, ctx, publicThis, key));\n    } else {\n      const handler = isFunction(raw.handler) ? raw.handler.bind(publicThis) : ctx[raw.handler];\n      if (isFunction(handler)) {\n        watch(getter, handler, raw);\n      } else if (!!(process.env.NODE_ENV !== \"production\")) {\n        warn$1(`Invalid watch handler specified by key \"${raw.handler}\"`, handler);\n      }\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(`Invalid watch option: \"${key}\"`, raw);\n  }\n}\nfunction resolveMergedOptions(instance) {\n  const base = instance.type;\n  const { mixins, extends: extendsOptions } = base;\n  const {\n    mixins: globalMixins,\n    optionsCache: cache,\n    config: { optionMergeStrategies }\n  } = instance.appContext;\n  const cached = cache.get(base);\n  let resolved;\n  if (cached) {\n    resolved = cached;\n  } else if (!globalMixins.length && !mixins && !extendsOptions) {\n    {\n      resolved = base;\n    }\n  } else {\n    resolved = {};\n    if (globalMixins.length) {\n      globalMixins.forEach(\n        (m) => mergeOptions(resolved, m, optionMergeStrategies, true)\n      );\n    }\n    mergeOptions(resolved, base, optionMergeStrategies);\n  }\n  if (isObject(base)) {\n    cache.set(base, resolved);\n  }\n  return resolved;\n}\nfunction mergeOptions(to, from, strats, asMixin = false) {\n  const { mixins, extends: extendsOptions } = from;\n  if (extendsOptions) {\n    mergeOptions(to, extendsOptions, strats, true);\n  }\n  if (mixins) {\n    mixins.forEach(\n      (m) => mergeOptions(to, m, strats, true)\n    );\n  }\n  for (const key in from) {\n    if (asMixin && key === \"expose\") {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(\n        `\"expose\" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.`\n      );\n    } else {\n      const strat = internalOptionMergeStrats[key] || strats && strats[key];\n      to[key] = strat ? strat(to[key], from[key]) : from[key];\n    }\n  }\n  return to;\n}\nconst internalOptionMergeStrats = {\n  data: mergeDataFn,\n  props: mergeEmitsOrPropsOptions,\n  emits: mergeEmitsOrPropsOptions,\n  // objects\n  methods: mergeObjectOptions,\n  computed: mergeObjectOptions,\n  // lifecycle\n  beforeCreate: mergeAsArray,\n  created: mergeAsArray,\n  beforeMount: mergeAsArray,\n  mounted: mergeAsArray,\n  beforeUpdate: mergeAsArray,\n  updated: mergeAsArray,\n  beforeDestroy: mergeAsArray,\n  beforeUnmount: mergeAsArray,\n  destroyed: mergeAsArray,\n  unmounted: mergeAsArray,\n  activated: mergeAsArray,\n  deactivated: mergeAsArray,\n  errorCaptured: mergeAsArray,\n  serverPrefetch: mergeAsArray,\n  // assets\n  components: mergeObjectOptions,\n  directives: mergeObjectOptions,\n  // watch\n  watch: mergeWatchOptions,\n  // provide / inject\n  provide: mergeDataFn,\n  inject: mergeInject\n};\nfunction mergeDataFn(to, from) {\n  if (!from) {\n    return to;\n  }\n  if (!to) {\n    return from;\n  }\n  return function mergedDataFn() {\n    return (extend)(\n      isFunction(to) ? to.call(this, this) : to,\n      isFunction(from) ? from.call(this, this) : from\n    );\n  };\n}\nfunction mergeInject(to, from) {\n  return mergeObjectOptions(normalizeInject(to), normalizeInject(from));\n}\nfunction normalizeInject(raw) {\n  if (isArray(raw)) {\n    const res = {};\n    for (let i = 0; i < raw.length; i++) {\n      res[raw[i]] = raw[i];\n    }\n    return res;\n  }\n  return raw;\n}\nfunction mergeAsArray(to, from) {\n  return to ? [...new Set([].concat(to, from))] : from;\n}\nfunction mergeObjectOptions(to, from) {\n  return to ? extend(/* @__PURE__ */ Object.create(null), to, from) : from;\n}\nfunction mergeEmitsOrPropsOptions(to, from) {\n  if (to) {\n    if (isArray(to) && isArray(from)) {\n      return [.../* @__PURE__ */ new Set([...to, ...from])];\n    }\n    return extend(\n      /* @__PURE__ */ Object.create(null),\n      normalizePropsOrEmits(to),\n      normalizePropsOrEmits(from != null ? from : {})\n    );\n  } else {\n    return from;\n  }\n}\nfunction mergeWatchOptions(to, from) {\n  if (!to) return from;\n  if (!from) return to;\n  const merged = extend(/* @__PURE__ */ Object.create(null), to);\n  for (const key in from) {\n    merged[key] = mergeAsArray(to[key], from[key]);\n  }\n  return merged;\n}\n\nfunction createAppContext() {\n  return {\n    app: null,\n    config: {\n      isNativeTag: NO,\n      performance: false,\n      globalProperties: {},\n      optionMergeStrategies: {},\n      errorHandler: void 0,\n      warnHandler: void 0,\n      compilerOptions: {}\n    },\n    mixins: [],\n    components: {},\n    directives: {},\n    provides: /* @__PURE__ */ Object.create(null),\n    optionsCache: /* @__PURE__ */ new WeakMap(),\n    propsCache: /* @__PURE__ */ new WeakMap(),\n    emitsCache: /* @__PURE__ */ new WeakMap()\n  };\n}\nlet uid$1 = 0;\nfunction createAppAPI(render, hydrate) {\n  return function createApp(rootComponent, rootProps = null) {\n    if (!isFunction(rootComponent)) {\n      rootComponent = extend({}, rootComponent);\n    }\n    if (rootProps != null && !isObject(rootProps)) {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(`root props passed to app.mount() must be an object.`);\n      rootProps = null;\n    }\n    const context = createAppContext();\n    const installedPlugins = /* @__PURE__ */ new WeakSet();\n    const pluginCleanupFns = [];\n    let isMounted = false;\n    const app = context.app = {\n      _uid: uid$1++,\n      _component: rootComponent,\n      _props: rootProps,\n      _container: null,\n      _context: context,\n      _instance: null,\n      version,\n      get config() {\n        return context.config;\n      },\n      set config(v) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(\n            `app.config cannot be replaced. Modify individual options instead.`\n          );\n        }\n      },\n      use(plugin, ...options) {\n        if (installedPlugins.has(plugin)) {\n          !!(process.env.NODE_ENV !== \"production\") && warn$1(`Plugin has already been applied to target app.`);\n        } else if (plugin && isFunction(plugin.install)) {\n          installedPlugins.add(plugin);\n          plugin.install(app, ...options);\n        } else if (isFunction(plugin)) {\n          installedPlugins.add(plugin);\n          plugin(app, ...options);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(\n            `A plugin must either be a function or an object with an \"install\" function.`\n          );\n        }\n        return app;\n      },\n      mixin(mixin) {\n        if (__VUE_OPTIONS_API__) {\n          if (!context.mixins.includes(mixin)) {\n            context.mixins.push(mixin);\n          } else if (!!(process.env.NODE_ENV !== \"production\")) {\n            warn$1(\n              \"Mixin has already been applied to target app\" + (mixin.name ? `: ${mixin.name}` : \"\")\n            );\n          }\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(\"Mixins are only available in builds supporting Options API\");\n        }\n        return app;\n      },\n      component(name, component) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          validateComponentName(name, context.config);\n        }\n        if (!component) {\n          return context.components[name];\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") && context.components[name]) {\n          warn$1(`Component \"${name}\" has already been registered in target app.`);\n        }\n        context.components[name] = component;\n        return app;\n      },\n      directive(name, directive) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          validateDirectiveName(name);\n        }\n        if (!directive) {\n          return context.directives[name];\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") && context.directives[name]) {\n          warn$1(`Directive \"${name}\" has already been registered in target app.`);\n        }\n        context.directives[name] = directive;\n        return app;\n      },\n      mount(rootContainer, isHydrate, namespace) {\n        if (!isMounted) {\n          if (!!(process.env.NODE_ENV !== \"production\") && rootContainer.__vue_app__) {\n            warn$1(\n              `There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling \\`app.unmount()\\` first.`\n            );\n          }\n          const vnode = app._ceVNode || createVNode(rootComponent, rootProps);\n          vnode.appContext = context;\n          if (namespace === true) {\n            namespace = \"svg\";\n          } else if (namespace === false) {\n            namespace = void 0;\n          }\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            context.reload = () => {\n              const cloned = cloneVNode(vnode);\n              cloned.el = null;\n              render(cloned, rootContainer, namespace);\n            };\n          }\n          if (isHydrate && hydrate) {\n            hydrate(vnode, rootContainer);\n          } else {\n            render(vnode, rootContainer, namespace);\n          }\n          isMounted = true;\n          app._container = rootContainer;\n          rootContainer.__vue_app__ = app;\n          if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n            app._instance = vnode.component;\n            devtoolsInitApp(app, version);\n          }\n          return getComponentPublicInstance(vnode.component);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(\n            `App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. \\`const createMyApp = () => createApp(App)\\``\n          );\n        }\n      },\n      onUnmount(cleanupFn) {\n        if (!!(process.env.NODE_ENV !== \"production\") && typeof cleanupFn !== \"function\") {\n          warn$1(\n            `Expected function as first argument to app.onUnmount(), but got ${typeof cleanupFn}`\n          );\n        }\n        pluginCleanupFns.push(cleanupFn);\n      },\n      unmount() {\n        if (isMounted) {\n          callWithAsyncErrorHandling(\n            pluginCleanupFns,\n            app._instance,\n            16\n          );\n          render(null, app._container);\n          if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n            app._instance = null;\n            devtoolsUnmountApp(app);\n          }\n          delete app._container.__vue_app__;\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(`Cannot unmount an app that is not mounted.`);\n        }\n      },\n      provide(key, value) {\n        if (!!(process.env.NODE_ENV !== \"production\") && key in context.provides) {\n          if (hasOwn(context.provides, key)) {\n            warn$1(\n              `App already provides property with key \"${String(key)}\". It will be overwritten with the new value.`\n            );\n          } else {\n            warn$1(\n              `App already provides property with key \"${String(key)}\" inherited from its parent element. It will be overwritten with the new value.`\n            );\n          }\n        }\n        context.provides[key] = value;\n        return app;\n      },\n      runWithContext(fn) {\n        const lastApp = currentApp;\n        currentApp = app;\n        try {\n          return fn();\n        } finally {\n          currentApp = lastApp;\n        }\n      }\n    };\n    return app;\n  };\n}\nlet currentApp = null;\n\nfunction provide(key, value) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    if (!currentInstance || currentInstance.isMounted) {\n      warn$1(`provide() can only be used inside setup().`);\n    }\n  }\n  if (currentInstance) {\n    let provides = currentInstance.provides;\n    const parentProvides = currentInstance.parent && currentInstance.parent.provides;\n    if (parentProvides === provides) {\n      provides = currentInstance.provides = Object.create(parentProvides);\n    }\n    provides[key] = value;\n  }\n}\nfunction inject(key, defaultValue, treatDefaultAsFactory = false) {\n  const instance = getCurrentInstance();\n  if (instance || currentApp) {\n    let provides = currentApp ? currentApp._context.provides : instance ? instance.parent == null || instance.ce ? instance.vnode.appContext && instance.vnode.appContext.provides : instance.parent.provides : void 0;\n    if (provides && key in provides) {\n      return provides[key];\n    } else if (arguments.length > 1) {\n      return treatDefaultAsFactory && isFunction(defaultValue) ? defaultValue.call(instance && instance.proxy) : defaultValue;\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn$1(`injection \"${String(key)}\" not found.`);\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(`inject() can only be used inside setup() or functional components.`);\n  }\n}\nfunction hasInjectionContext() {\n  return !!(getCurrentInstance() || currentApp);\n}\n\nconst ssrContextKey = Symbol.for(\"v-scx\");\nconst useSSRContext = () => {\n  {\n    const ctx = inject(ssrContextKey);\n    if (!ctx) {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(\n        `Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build.`\n      );\n    }\n    return ctx;\n  }\n};\n\nfunction watchEffect(effect, options) {\n  return doWatch(effect, null, options);\n}\nfunction watchPostEffect(effect, options) {\n  return doWatch(\n    effect,\n    null,\n    !!(process.env.NODE_ENV !== \"production\") ? extend({}, options, { flush: \"post\" }) : { flush: \"post\" }\n  );\n}\nfunction watchSyncEffect(effect, options) {\n  return doWatch(\n    effect,\n    null,\n    !!(process.env.NODE_ENV !== \"production\") ? extend({}, options, { flush: \"sync\" }) : { flush: \"sync\" }\n  );\n}\nfunction watch(source, cb, options) {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isFunction(cb)) {\n    warn$1(\n      `\\`watch(fn, options?)\\` signature has been moved to a separate API. Use \\`watchEffect(fn, options?)\\` instead. \\`watch\\` now only supports \\`watch(source, cb, options?) signature.`\n    );\n  }\n  return doWatch(source, cb, options);\n}\nfunction doWatch(source, cb, options = EMPTY_OBJ) {\n  const { immediate, deep, flush, once } = options;\n  if (!!(process.env.NODE_ENV !== \"production\") && !cb) {\n    if (immediate !== void 0) {\n      warn$1(\n        `watch() \"immediate\" option is only respected when using the watch(source, callback, options?) signature.`\n      );\n    }\n    if (deep !== void 0) {\n      warn$1(\n        `watch() \"deep\" option is only respected when using the watch(source, callback, options?) signature.`\n      );\n    }\n    if (once !== void 0) {\n      warn$1(\n        `watch() \"once\" option is only respected when using the watch(source, callback, options?) signature.`\n      );\n    }\n  }\n  const baseWatchOptions = extend({}, options);\n  if (!!(process.env.NODE_ENV !== \"production\")) baseWatchOptions.onWarn = warn$1;\n  const runsImmediately = cb && immediate || !cb && flush !== \"post\";\n  let ssrCleanup;\n  if (isInSSRComponentSetup) {\n    if (flush === \"sync\") {\n      const ctx = useSSRContext();\n      ssrCleanup = ctx.__watcherHandles || (ctx.__watcherHandles = []);\n    } else if (!runsImmediately) {\n      const watchStopHandle = () => {\n      };\n      watchStopHandle.stop = NOOP;\n      watchStopHandle.resume = NOOP;\n      watchStopHandle.pause = NOOP;\n      return watchStopHandle;\n    }\n  }\n  const instance = currentInstance;\n  baseWatchOptions.call = (fn, type, args) => callWithAsyncErrorHandling(fn, instance, type, args);\n  let isPre = false;\n  if (flush === \"post\") {\n    baseWatchOptions.scheduler = (job) => {\n      queuePostRenderEffect(job, instance && instance.suspense);\n    };\n  } else if (flush !== \"sync\") {\n    isPre = true;\n    baseWatchOptions.scheduler = (job, isFirstRun) => {\n      if (isFirstRun) {\n        job();\n      } else {\n        queueJob(job);\n      }\n    };\n  }\n  baseWatchOptions.augmentJob = (job) => {\n    if (cb) {\n      job.flags |= 4;\n    }\n    if (isPre) {\n      job.flags |= 2;\n      if (instance) {\n        job.id = instance.uid;\n        job.i = instance;\n      }\n    }\n  };\n  const watchHandle = watch$1(source, cb, baseWatchOptions);\n  if (isInSSRComponentSetup) {\n    if (ssrCleanup) {\n      ssrCleanup.push(watchHandle);\n    } else if (runsImmediately) {\n      watchHandle();\n    }\n  }\n  return watchHandle;\n}\nfunction instanceWatch(source, value, options) {\n  const publicThis = this.proxy;\n  const getter = isString(source) ? source.includes(\".\") ? createPathGetter(publicThis, source) : () => publicThis[source] : source.bind(publicThis, publicThis);\n  let cb;\n  if (isFunction(value)) {\n    cb = value;\n  } else {\n    cb = value.handler;\n    options = value;\n  }\n  const reset = setCurrentInstance(this);\n  const res = doWatch(getter, cb.bind(publicThis), options);\n  reset();\n  return res;\n}\nfunction createPathGetter(ctx, path) {\n  const segments = path.split(\".\");\n  return () => {\n    let cur = ctx;\n    for (let i = 0; i < segments.length && cur; i++) {\n      cur = cur[segments[i]];\n    }\n    return cur;\n  };\n}\n\nfunction useModel(props, name, options = EMPTY_OBJ) {\n  const i = getCurrentInstance();\n  if (!!(process.env.NODE_ENV !== \"production\") && !i) {\n    warn$1(`useModel() called without active instance.`);\n    return ref();\n  }\n  const camelizedName = camelize(name);\n  if (!!(process.env.NODE_ENV !== \"production\") && !i.propsOptions[0][camelizedName]) {\n    warn$1(`useModel() called with prop \"${name}\" which is not declared.`);\n    return ref();\n  }\n  const hyphenatedName = hyphenate(name);\n  const modifiers = getModelModifiers(props, camelizedName);\n  const res = customRef((track, trigger) => {\n    let localValue;\n    let prevSetValue = EMPTY_OBJ;\n    let prevEmittedValue;\n    watchSyncEffect(() => {\n      const propValue = props[camelizedName];\n      if (hasChanged(localValue, propValue)) {\n        localValue = propValue;\n        trigger();\n      }\n    });\n    return {\n      get() {\n        track();\n        return options.get ? options.get(localValue) : localValue;\n      },\n      set(value) {\n        const emittedValue = options.set ? options.set(value) : value;\n        if (!hasChanged(emittedValue, localValue) && !(prevSetValue !== EMPTY_OBJ && hasChanged(value, prevSetValue))) {\n          return;\n        }\n        const rawProps = i.vnode.props;\n        if (!(rawProps && // check if parent has passed v-model\n        (name in rawProps || camelizedName in rawProps || hyphenatedName in rawProps) && (`onUpdate:${name}` in rawProps || `onUpdate:${camelizedName}` in rawProps || `onUpdate:${hyphenatedName}` in rawProps))) {\n          localValue = value;\n          trigger();\n        }\n        i.emit(`update:${name}`, emittedValue);\n        if (hasChanged(value, emittedValue) && hasChanged(value, prevSetValue) && !hasChanged(emittedValue, prevEmittedValue)) {\n          trigger();\n        }\n        prevSetValue = value;\n        prevEmittedValue = emittedValue;\n      }\n    };\n  });\n  res[Symbol.iterator] = () => {\n    let i2 = 0;\n    return {\n      next() {\n        if (i2 < 2) {\n          return { value: i2++ ? modifiers || EMPTY_OBJ : res, done: false };\n        } else {\n          return { done: true };\n        }\n      }\n    };\n  };\n  return res;\n}\nconst getModelModifiers = (props, modelName) => {\n  return modelName === \"modelValue\" || modelName === \"model-value\" ? props.modelModifiers : props[`${modelName}Modifiers`] || props[`${camelize(modelName)}Modifiers`] || props[`${hyphenate(modelName)}Modifiers`];\n};\n\nfunction emit(instance, event, ...rawArgs) {\n  if (instance.isUnmounted) return;\n  const props = instance.vnode.props || EMPTY_OBJ;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const {\n      emitsOptions,\n      propsOptions: [propsOptions]\n    } = instance;\n    if (emitsOptions) {\n      if (!(event in emitsOptions) && true) {\n        if (!propsOptions || !(toHandlerKey(camelize(event)) in propsOptions)) {\n          warn$1(\n            `Component emitted event \"${event}\" but it is neither declared in the emits option nor as an \"${toHandlerKey(camelize(event))}\" prop.`\n          );\n        }\n      } else {\n        const validator = emitsOptions[event];\n        if (isFunction(validator)) {\n          const isValid = validator(...rawArgs);\n          if (!isValid) {\n            warn$1(\n              `Invalid event arguments: event validation failed for event \"${event}\".`\n            );\n          }\n        }\n      }\n    }\n  }\n  let args = rawArgs;\n  const isModelListener = event.startsWith(\"update:\");\n  const modifiers = isModelListener && getModelModifiers(props, event.slice(7));\n  if (modifiers) {\n    if (modifiers.trim) {\n      args = rawArgs.map((a) => isString(a) ? a.trim() : a);\n    }\n    if (modifiers.number) {\n      args = rawArgs.map(looseToNumber);\n    }\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    devtoolsComponentEmit(instance, event, args);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const lowerCaseEvent = event.toLowerCase();\n    if (lowerCaseEvent !== event && props[toHandlerKey(lowerCaseEvent)]) {\n      warn$1(\n        `Event \"${lowerCaseEvent}\" is emitted in component ${formatComponentName(\n          instance,\n          instance.type\n        )} but the handler is registered for \"${event}\". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use \"${hyphenate(\n          event\n        )}\" instead of \"${event}\".`\n      );\n    }\n  }\n  let handlerName;\n  let handler = props[handlerName = toHandlerKey(event)] || // also try camelCase event handler (#2249)\n  props[handlerName = toHandlerKey(camelize(event))];\n  if (!handler && isModelListener) {\n    handler = props[handlerName = toHandlerKey(hyphenate(event))];\n  }\n  if (handler) {\n    callWithAsyncErrorHandling(\n      handler,\n      instance,\n      6,\n      args\n    );\n  }\n  const onceHandler = props[handlerName + `Once`];\n  if (onceHandler) {\n    if (!instance.emitted) {\n      instance.emitted = {};\n    } else if (instance.emitted[handlerName]) {\n      return;\n    }\n    instance.emitted[handlerName] = true;\n    callWithAsyncErrorHandling(\n      onceHandler,\n      instance,\n      6,\n      args\n    );\n  }\n}\nconst mixinEmitsCache = /* @__PURE__ */ new WeakMap();\nfunction normalizeEmitsOptions(comp, appContext, asMixin = false) {\n  const cache = __VUE_OPTIONS_API__ && asMixin ? mixinEmitsCache : appContext.emitsCache;\n  const cached = cache.get(comp);\n  if (cached !== void 0) {\n    return cached;\n  }\n  const raw = comp.emits;\n  let normalized = {};\n  let hasExtends = false;\n  if (__VUE_OPTIONS_API__ && !isFunction(comp)) {\n    const extendEmits = (raw2) => {\n      const normalizedFromExtend = normalizeEmitsOptions(raw2, appContext, true);\n      if (normalizedFromExtend) {\n        hasExtends = true;\n        extend(normalized, normalizedFromExtend);\n      }\n    };\n    if (!asMixin && appContext.mixins.length) {\n      appContext.mixins.forEach(extendEmits);\n    }\n    if (comp.extends) {\n      extendEmits(comp.extends);\n    }\n    if (comp.mixins) {\n      comp.mixins.forEach(extendEmits);\n    }\n  }\n  if (!raw && !hasExtends) {\n    if (isObject(comp)) {\n      cache.set(comp, null);\n    }\n    return null;\n  }\n  if (isArray(raw)) {\n    raw.forEach((key) => normalized[key] = null);\n  } else {\n    extend(normalized, raw);\n  }\n  if (isObject(comp)) {\n    cache.set(comp, normalized);\n  }\n  return normalized;\n}\nfunction isEmitListener(options, key) {\n  if (!options || !isOn(key)) {\n    return false;\n  }\n  key = key.slice(2).replace(/Once$/, \"\");\n  return hasOwn(options, key[0].toLowerCase() + key.slice(1)) || hasOwn(options, hyphenate(key)) || hasOwn(options, key);\n}\n\nlet accessedAttrs = false;\nfunction markAttrsAccessed() {\n  accessedAttrs = true;\n}\nfunction renderComponentRoot(instance) {\n  const {\n    type: Component,\n    vnode,\n    proxy,\n    withProxy,\n    propsOptions: [propsOptions],\n    slots,\n    attrs,\n    emit,\n    render,\n    renderCache,\n    props,\n    data,\n    setupState,\n    ctx,\n    inheritAttrs\n  } = instance;\n  const prev = setCurrentRenderingInstance(instance);\n  let result;\n  let fallthroughAttrs;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    accessedAttrs = false;\n  }\n  try {\n    if (vnode.shapeFlag & 4) {\n      const proxyToUse = withProxy || proxy;\n      const thisProxy = !!(process.env.NODE_ENV !== \"production\") && setupState.__isScriptSetup ? new Proxy(proxyToUse, {\n        get(target, key, receiver) {\n          warn$1(\n            `Property '${String(\n              key\n            )}' was accessed via 'this'. Avoid using 'this' in templates.`\n          );\n          return Reflect.get(target, key, receiver);\n        }\n      }) : proxyToUse;\n      result = normalizeVNode(\n        render.call(\n          thisProxy,\n          proxyToUse,\n          renderCache,\n          !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(props) : props,\n          setupState,\n          data,\n          ctx\n        )\n      );\n      fallthroughAttrs = attrs;\n    } else {\n      const render2 = Component;\n      if (!!(process.env.NODE_ENV !== \"production\") && attrs === props) {\n        markAttrsAccessed();\n      }\n      result = normalizeVNode(\n        render2.length > 1 ? render2(\n          !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(props) : props,\n          !!(process.env.NODE_ENV !== \"production\") ? {\n            get attrs() {\n              markAttrsAccessed();\n              return shallowReadonly(attrs);\n            },\n            slots,\n            emit\n          } : { attrs, slots, emit }\n        ) : render2(\n          !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(props) : props,\n          null\n        )\n      );\n      fallthroughAttrs = Component.props ? attrs : getFunctionalFallthrough(attrs);\n    }\n  } catch (err) {\n    blockStack.length = 0;\n    handleError(err, instance, 1);\n    result = createVNode(Comment);\n  }\n  let root = result;\n  let setRoot = void 0;\n  if (!!(process.env.NODE_ENV !== \"production\") && result.patchFlag > 0 && result.patchFlag & 2048) {\n    [root, setRoot] = getChildRoot(result);\n  }\n  if (fallthroughAttrs && inheritAttrs !== false) {\n    const keys = Object.keys(fallthroughAttrs);\n    const { shapeFlag } = root;\n    if (keys.length) {\n      if (shapeFlag & (1 | 6)) {\n        if (propsOptions && keys.some(isModelListener)) {\n          fallthroughAttrs = filterModelListeners(\n            fallthroughAttrs,\n            propsOptions\n          );\n        }\n        root = cloneVNode(root, fallthroughAttrs, false, true);\n      } else if (!!(process.env.NODE_ENV !== \"production\") && !accessedAttrs && root.type !== Comment) {\n        const allAttrs = Object.keys(attrs);\n        const eventAttrs = [];\n        const extraAttrs = [];\n        for (let i = 0, l = allAttrs.length; i < l; i++) {\n          const key = allAttrs[i];\n          if (isOn(key)) {\n            if (!isModelListener(key)) {\n              eventAttrs.push(key[2].toLowerCase() + key.slice(3));\n            }\n          } else {\n            extraAttrs.push(key);\n          }\n        }\n        if (extraAttrs.length) {\n          warn$1(\n            `Extraneous non-props attributes (${extraAttrs.join(\", \")}) were passed to component but could not be automatically inherited because component renders fragment or text or teleport root nodes.`\n          );\n        }\n        if (eventAttrs.length) {\n          warn$1(\n            `Extraneous non-emits event listeners (${eventAttrs.join(\", \")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the \"emits\" option.`\n          );\n        }\n      }\n    }\n  }\n  if (vnode.dirs) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isElementRoot(root)) {\n      warn$1(\n        `Runtime directive used on component with non-element root node. The directives will not function as intended.`\n      );\n    }\n    root = cloneVNode(root, null, false, true);\n    root.dirs = root.dirs ? root.dirs.concat(vnode.dirs) : vnode.dirs;\n  }\n  if (vnode.transition) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isElementRoot(root)) {\n      warn$1(\n        `Component inside <Transition> renders non-element root node that cannot be animated.`\n      );\n    }\n    setTransitionHooks(root, vnode.transition);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && setRoot) {\n    setRoot(root);\n  } else {\n    result = root;\n  }\n  setCurrentRenderingInstance(prev);\n  return result;\n}\nconst getChildRoot = (vnode) => {\n  const rawChildren = vnode.children;\n  const dynamicChildren = vnode.dynamicChildren;\n  const childRoot = filterSingleRoot(rawChildren, false);\n  if (!childRoot) {\n    return [vnode, void 0];\n  } else if (!!(process.env.NODE_ENV !== \"production\") && childRoot.patchFlag > 0 && childRoot.patchFlag & 2048) {\n    return getChildRoot(childRoot);\n  }\n  const index = rawChildren.indexOf(childRoot);\n  const dynamicIndex = dynamicChildren ? dynamicChildren.indexOf(childRoot) : -1;\n  const setRoot = (updatedRoot) => {\n    rawChildren[index] = updatedRoot;\n    if (dynamicChildren) {\n      if (dynamicIndex > -1) {\n        dynamicChildren[dynamicIndex] = updatedRoot;\n      } else if (updatedRoot.patchFlag > 0) {\n        vnode.dynamicChildren = [...dynamicChildren, updatedRoot];\n      }\n    }\n  };\n  return [normalizeVNode(childRoot), setRoot];\n};\nfunction filterSingleRoot(children, recurse = true) {\n  let singleRoot;\n  for (let i = 0; i < children.length; i++) {\n    const child = children[i];\n    if (isVNode(child)) {\n      if (child.type !== Comment || child.children === \"v-if\") {\n        if (singleRoot) {\n          return;\n        } else {\n          singleRoot = child;\n          if (!!(process.env.NODE_ENV !== \"production\") && recurse && singleRoot.patchFlag > 0 && singleRoot.patchFlag & 2048) {\n            return filterSingleRoot(singleRoot.children);\n          }\n        }\n      }\n    } else {\n      return;\n    }\n  }\n  return singleRoot;\n}\nconst getFunctionalFallthrough = (attrs) => {\n  let res;\n  for (const key in attrs) {\n    if (key === \"class\" || key === \"style\" || isOn(key)) {\n      (res || (res = {}))[key] = attrs[key];\n    }\n  }\n  return res;\n};\nconst filterModelListeners = (attrs, props) => {\n  const res = {};\n  for (const key in attrs) {\n    if (!isModelListener(key) || !(key.slice(9) in props)) {\n      res[key] = attrs[key];\n    }\n  }\n  return res;\n};\nconst isElementRoot = (vnode) => {\n  return vnode.shapeFlag & (6 | 1) || vnode.type === Comment;\n};\nfunction shouldUpdateComponent(prevVNode, nextVNode, optimized) {\n  const { props: prevProps, children: prevChildren, component } = prevVNode;\n  const { props: nextProps, children: nextChildren, patchFlag } = nextVNode;\n  const emits = component.emitsOptions;\n  if (!!(process.env.NODE_ENV !== \"production\") && (prevChildren || nextChildren) && isHmrUpdating) {\n    return true;\n  }\n  if (nextVNode.dirs || nextVNode.transition) {\n    return true;\n  }\n  if (optimized && patchFlag >= 0) {\n    if (patchFlag & 1024) {\n      return true;\n    }\n    if (patchFlag & 16) {\n      if (!prevProps) {\n        return !!nextProps;\n      }\n      return hasPropsChanged(prevProps, nextProps, emits);\n    } else if (patchFlag & 8) {\n      const dynamicProps = nextVNode.dynamicProps;\n      for (let i = 0; i < dynamicProps.length; i++) {\n        const key = dynamicProps[i];\n        if (nextProps[key] !== prevProps[key] && !isEmitListener(emits, key)) {\n          return true;\n        }\n      }\n    }\n  } else {\n    if (prevChildren || nextChildren) {\n      if (!nextChildren || !nextChildren.$stable) {\n        return true;\n      }\n    }\n    if (prevProps === nextProps) {\n      return false;\n    }\n    if (!prevProps) {\n      return !!nextProps;\n    }\n    if (!nextProps) {\n      return true;\n    }\n    return hasPropsChanged(prevProps, nextProps, emits);\n  }\n  return false;\n}\nfunction hasPropsChanged(prevProps, nextProps, emitsOptions) {\n  const nextKeys = Object.keys(nextProps);\n  if (nextKeys.length !== Object.keys(prevProps).length) {\n    return true;\n  }\n  for (let i = 0; i < nextKeys.length; i++) {\n    const key = nextKeys[i];\n    if (nextProps[key] !== prevProps[key] && !isEmitListener(emitsOptions, key)) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction updateHOCHostEl({ vnode, parent }, el) {\n  while (parent) {\n    const root = parent.subTree;\n    if (root.suspense && root.suspense.activeBranch === vnode) {\n      root.el = vnode.el;\n    }\n    if (root === vnode) {\n      (vnode = parent.vnode).el = el;\n      parent = parent.parent;\n    } else {\n      break;\n    }\n  }\n}\n\nconst internalObjectProto = {};\nconst createInternalObject = () => Object.create(internalObjectProto);\nconst isInternalObject = (obj) => Object.getPrototypeOf(obj) === internalObjectProto;\n\nfunction initProps(instance, rawProps, isStateful, isSSR = false) {\n  const props = {};\n  const attrs = createInternalObject();\n  instance.propsDefaults = /* @__PURE__ */ Object.create(null);\n  setFullProps(instance, rawProps, props, attrs);\n  for (const key in instance.propsOptions[0]) {\n    if (!(key in props)) {\n      props[key] = void 0;\n    }\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    validateProps(rawProps || {}, props, instance);\n  }\n  if (isStateful) {\n    instance.props = isSSR ? props : shallowReactive(props);\n  } else {\n    if (!instance.type.props) {\n      instance.props = attrs;\n    } else {\n      instance.props = props;\n    }\n  }\n  instance.attrs = attrs;\n}\nfunction isInHmrContext(instance) {\n  while (instance) {\n    if (instance.type.__hmrId) return true;\n    instance = instance.parent;\n  }\n}\nfunction updateProps(instance, rawProps, rawPrevProps, optimized) {\n  const {\n    props,\n    attrs,\n    vnode: { patchFlag }\n  } = instance;\n  const rawCurrentProps = toRaw(props);\n  const [options] = instance.propsOptions;\n  let hasAttrsChanged = false;\n  if (\n    // always force full diff in dev\n    // - #1942 if hmr is enabled with sfc component\n    // - vite#872 non-sfc component used by sfc component\n    !(!!(process.env.NODE_ENV !== \"production\") && isInHmrContext(instance)) && (optimized || patchFlag > 0) && !(patchFlag & 16)\n  ) {\n    if (patchFlag & 8) {\n      const propsToUpdate = instance.vnode.dynamicProps;\n      for (let i = 0; i < propsToUpdate.length; i++) {\n        let key = propsToUpdate[i];\n        if (isEmitListener(instance.emitsOptions, key)) {\n          continue;\n        }\n        const value = rawProps[key];\n        if (options) {\n          if (hasOwn(attrs, key)) {\n            if (value !== attrs[key]) {\n              attrs[key] = value;\n              hasAttrsChanged = true;\n            }\n          } else {\n            const camelizedKey = camelize(key);\n            props[camelizedKey] = resolvePropValue(\n              options,\n              rawCurrentProps,\n              camelizedKey,\n              value,\n              instance,\n              false\n            );\n          }\n        } else {\n          if (value !== attrs[key]) {\n            attrs[key] = value;\n            hasAttrsChanged = true;\n          }\n        }\n      }\n    }\n  } else {\n    if (setFullProps(instance, rawProps, props, attrs)) {\n      hasAttrsChanged = true;\n    }\n    let kebabKey;\n    for (const key in rawCurrentProps) {\n      if (!rawProps || // for camelCase\n      !hasOwn(rawProps, key) && // it's possible the original props was passed in as kebab-case\n      // and converted to camelCase (#955)\n      ((kebabKey = hyphenate(key)) === key || !hasOwn(rawProps, kebabKey))) {\n        if (options) {\n          if (rawPrevProps && // for camelCase\n          (rawPrevProps[key] !== void 0 || // for kebab-case\n          rawPrevProps[kebabKey] !== void 0)) {\n            props[key] = resolvePropValue(\n              options,\n              rawCurrentProps,\n              key,\n              void 0,\n              instance,\n              true\n            );\n          }\n        } else {\n          delete props[key];\n        }\n      }\n    }\n    if (attrs !== rawCurrentProps) {\n      for (const key in attrs) {\n        if (!rawProps || !hasOwn(rawProps, key) && true) {\n          delete attrs[key];\n          hasAttrsChanged = true;\n        }\n      }\n    }\n  }\n  if (hasAttrsChanged) {\n    trigger(instance.attrs, \"set\", \"\");\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    validateProps(rawProps || {}, props, instance);\n  }\n}\nfunction setFullProps(instance, rawProps, props, attrs) {\n  const [options, needCastKeys] = instance.propsOptions;\n  let hasAttrsChanged = false;\n  let rawCastValues;\n  if (rawProps) {\n    for (let key in rawProps) {\n      if (isReservedProp(key)) {\n        continue;\n      }\n      const value = rawProps[key];\n      let camelKey;\n      if (options && hasOwn(options, camelKey = camelize(key))) {\n        if (!needCastKeys || !needCastKeys.includes(camelKey)) {\n          props[camelKey] = value;\n        } else {\n          (rawCastValues || (rawCastValues = {}))[camelKey] = value;\n        }\n      } else if (!isEmitListener(instance.emitsOptions, key)) {\n        if (!(key in attrs) || value !== attrs[key]) {\n          attrs[key] = value;\n          hasAttrsChanged = true;\n        }\n      }\n    }\n  }\n  if (needCastKeys) {\n    const rawCurrentProps = toRaw(props);\n    const castValues = rawCastValues || EMPTY_OBJ;\n    for (let i = 0; i < needCastKeys.length; i++) {\n      const key = needCastKeys[i];\n      props[key] = resolvePropValue(\n        options,\n        rawCurrentProps,\n        key,\n        castValues[key],\n        instance,\n        !hasOwn(castValues, key)\n      );\n    }\n  }\n  return hasAttrsChanged;\n}\nfunction resolvePropValue(options, props, key, value, instance, isAbsent) {\n  const opt = options[key];\n  if (opt != null) {\n    const hasDefault = hasOwn(opt, \"default\");\n    if (hasDefault && value === void 0) {\n      const defaultValue = opt.default;\n      if (opt.type !== Function && !opt.skipFactory && isFunction(defaultValue)) {\n        const { propsDefaults } = instance;\n        if (key in propsDefaults) {\n          value = propsDefaults[key];\n        } else {\n          const reset = setCurrentInstance(instance);\n          value = propsDefaults[key] = defaultValue.call(\n            null,\n            props\n          );\n          reset();\n        }\n      } else {\n        value = defaultValue;\n      }\n      if (instance.ce) {\n        instance.ce._setProp(key, value);\n      }\n    }\n    if (opt[0 /* shouldCast */]) {\n      if (isAbsent && !hasDefault) {\n        value = false;\n      } else if (opt[1 /* shouldCastTrue */] && (value === \"\" || value === hyphenate(key))) {\n        value = true;\n      }\n    }\n  }\n  return value;\n}\nconst mixinPropsCache = /* @__PURE__ */ new WeakMap();\nfunction normalizePropsOptions(comp, appContext, asMixin = false) {\n  const cache = __VUE_OPTIONS_API__ && asMixin ? mixinPropsCache : appContext.propsCache;\n  const cached = cache.get(comp);\n  if (cached) {\n    return cached;\n  }\n  const raw = comp.props;\n  const normalized = {};\n  const needCastKeys = [];\n  let hasExtends = false;\n  if (__VUE_OPTIONS_API__ && !isFunction(comp)) {\n    const extendProps = (raw2) => {\n      hasExtends = true;\n      const [props, keys] = normalizePropsOptions(raw2, appContext, true);\n      extend(normalized, props);\n      if (keys) needCastKeys.push(...keys);\n    };\n    if (!asMixin && appContext.mixins.length) {\n      appContext.mixins.forEach(extendProps);\n    }\n    if (comp.extends) {\n      extendProps(comp.extends);\n    }\n    if (comp.mixins) {\n      comp.mixins.forEach(extendProps);\n    }\n  }\n  if (!raw && !hasExtends) {\n    if (isObject(comp)) {\n      cache.set(comp, EMPTY_ARR);\n    }\n    return EMPTY_ARR;\n  }\n  if (isArray(raw)) {\n    for (let i = 0; i < raw.length; i++) {\n      if (!!(process.env.NODE_ENV !== \"production\") && !isString(raw[i])) {\n        warn$1(`props must be strings when using array syntax.`, raw[i]);\n      }\n      const normalizedKey = camelize(raw[i]);\n      if (validatePropName(normalizedKey)) {\n        normalized[normalizedKey] = EMPTY_OBJ;\n      }\n    }\n  } else if (raw) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isObject(raw)) {\n      warn$1(`invalid props options`, raw);\n    }\n    for (const key in raw) {\n      const normalizedKey = camelize(key);\n      if (validatePropName(normalizedKey)) {\n        const opt = raw[key];\n        const prop = normalized[normalizedKey] = isArray(opt) || isFunction(opt) ? { type: opt } : extend({}, opt);\n        const propType = prop.type;\n        let shouldCast = false;\n        let shouldCastTrue = true;\n        if (isArray(propType)) {\n          for (let index = 0; index < propType.length; ++index) {\n            const type = propType[index];\n            const typeName = isFunction(type) && type.name;\n            if (typeName === \"Boolean\") {\n              shouldCast = true;\n              break;\n            } else if (typeName === \"String\") {\n              shouldCastTrue = false;\n            }\n          }\n        } else {\n          shouldCast = isFunction(propType) && propType.name === \"Boolean\";\n        }\n        prop[0 /* shouldCast */] = shouldCast;\n        prop[1 /* shouldCastTrue */] = shouldCastTrue;\n        if (shouldCast || hasOwn(prop, \"default\")) {\n          needCastKeys.push(normalizedKey);\n        }\n      }\n    }\n  }\n  const res = [normalized, needCastKeys];\n  if (isObject(comp)) {\n    cache.set(comp, res);\n  }\n  return res;\n}\nfunction validatePropName(key) {\n  if (key[0] !== \"$\" && !isReservedProp(key)) {\n    return true;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(`Invalid prop name: \"${key}\" is a reserved property.`);\n  }\n  return false;\n}\nfunction getType(ctor) {\n  if (ctor === null) {\n    return \"null\";\n  }\n  if (typeof ctor === \"function\") {\n    return ctor.name || \"\";\n  } else if (typeof ctor === \"object\") {\n    const name = ctor.constructor && ctor.constructor.name;\n    return name || \"\";\n  }\n  return \"\";\n}\nfunction validateProps(rawProps, props, instance) {\n  const resolvedValues = toRaw(props);\n  const options = instance.propsOptions[0];\n  const camelizePropsKey = Object.keys(rawProps).map((key) => camelize(key));\n  for (const key in options) {\n    let opt = options[key];\n    if (opt == null) continue;\n    validateProp(\n      key,\n      resolvedValues[key],\n      opt,\n      !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(resolvedValues) : resolvedValues,\n      !camelizePropsKey.includes(key)\n    );\n  }\n}\nfunction validateProp(name, value, prop, props, isAbsent) {\n  const { type, required, validator, skipCheck } = prop;\n  if (required && isAbsent) {\n    warn$1('Missing required prop: \"' + name + '\"');\n    return;\n  }\n  if (value == null && !required) {\n    return;\n  }\n  if (type != null && type !== true && !skipCheck) {\n    let isValid = false;\n    const types = isArray(type) ? type : [type];\n    const expectedTypes = [];\n    for (let i = 0; i < types.length && !isValid; i++) {\n      const { valid, expectedType } = assertType(value, types[i]);\n      expectedTypes.push(expectedType || \"\");\n      isValid = valid;\n    }\n    if (!isValid) {\n      warn$1(getInvalidTypeMessage(name, value, expectedTypes));\n      return;\n    }\n  }\n  if (validator && !validator(value, props)) {\n    warn$1('Invalid prop: custom validator check failed for prop \"' + name + '\".');\n  }\n}\nconst isSimpleType = /* @__PURE__ */ makeMap(\n  \"String,Number,Boolean,Function,Symbol,BigInt\"\n);\nfunction assertType(value, type) {\n  let valid;\n  const expectedType = getType(type);\n  if (expectedType === \"null\") {\n    valid = value === null;\n  } else if (isSimpleType(expectedType)) {\n    const t = typeof value;\n    valid = t === expectedType.toLowerCase();\n    if (!valid && t === \"object\") {\n      valid = value instanceof type;\n    }\n  } else if (expectedType === \"Object\") {\n    valid = isObject(value);\n  } else if (expectedType === \"Array\") {\n    valid = isArray(value);\n  } else {\n    valid = value instanceof type;\n  }\n  return {\n    valid,\n    expectedType\n  };\n}\nfunction getInvalidTypeMessage(name, value, expectedTypes) {\n  if (expectedTypes.length === 0) {\n    return `Prop type [] for prop \"${name}\" won't match anything. Did you mean to use type Array instead?`;\n  }\n  let message = `Invalid prop: type check failed for prop \"${name}\". Expected ${expectedTypes.map(capitalize).join(\" | \")}`;\n  const expectedType = expectedTypes[0];\n  const receivedType = toRawType(value);\n  const expectedValue = styleValue(value, expectedType);\n  const receivedValue = styleValue(value, receivedType);\n  if (expectedTypes.length === 1 && isExplicable(expectedType) && !isBoolean(expectedType, receivedType)) {\n    message += ` with value ${expectedValue}`;\n  }\n  message += `, got ${receivedType} `;\n  if (isExplicable(receivedType)) {\n    message += `with value ${receivedValue}.`;\n  }\n  return message;\n}\nfunction styleValue(value, type) {\n  if (type === \"String\") {\n    return `\"${value}\"`;\n  } else if (type === \"Number\") {\n    return `${Number(value)}`;\n  } else {\n    return `${value}`;\n  }\n}\nfunction isExplicable(type) {\n  const explicitTypes = [\"string\", \"number\", \"boolean\"];\n  return explicitTypes.some((elem) => type.toLowerCase() === elem);\n}\nfunction isBoolean(...args) {\n  return args.some((elem) => elem.toLowerCase() === \"boolean\");\n}\n\nconst isInternalKey = (key) => key === \"_\" || key === \"_ctx\" || key === \"$stable\";\nconst normalizeSlotValue = (value) => isArray(value) ? value.map(normalizeVNode) : [normalizeVNode(value)];\nconst normalizeSlot = (key, rawSlot, ctx) => {\n  if (rawSlot._n) {\n    return rawSlot;\n  }\n  const normalized = withCtx((...args) => {\n    if (!!(process.env.NODE_ENV !== \"production\") && currentInstance && !(ctx === null && currentRenderingInstance) && !(ctx && ctx.root !== currentInstance.root)) {\n      warn$1(\n        `Slot \"${key}\" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`\n      );\n    }\n    return normalizeSlotValue(rawSlot(...args));\n  }, ctx);\n  normalized._c = false;\n  return normalized;\n};\nconst normalizeObjectSlots = (rawSlots, slots, instance) => {\n  const ctx = rawSlots._ctx;\n  for (const key in rawSlots) {\n    if (isInternalKey(key)) continue;\n    const value = rawSlots[key];\n    if (isFunction(value)) {\n      slots[key] = normalizeSlot(key, value, ctx);\n    } else if (value != null) {\n      if (!!(process.env.NODE_ENV !== \"production\") && true) {\n        warn$1(\n          `Non-function value encountered for slot \"${key}\". Prefer function slots for better performance.`\n        );\n      }\n      const normalized = normalizeSlotValue(value);\n      slots[key] = () => normalized;\n    }\n  }\n};\nconst normalizeVNodeSlots = (instance, children) => {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isKeepAlive(instance.vnode) && true) {\n    warn$1(\n      `Non-function value encountered for default slot. Prefer function slots for better performance.`\n    );\n  }\n  const normalized = normalizeSlotValue(children);\n  instance.slots.default = () => normalized;\n};\nconst assignSlots = (slots, children, optimized) => {\n  for (const key in children) {\n    if (optimized || !isInternalKey(key)) {\n      slots[key] = children[key];\n    }\n  }\n};\nconst initSlots = (instance, children, optimized) => {\n  const slots = instance.slots = createInternalObject();\n  if (instance.vnode.shapeFlag & 32) {\n    const type = children._;\n    if (type) {\n      assignSlots(slots, children, optimized);\n      if (optimized) {\n        def(slots, \"_\", type, true);\n      }\n    } else {\n      normalizeObjectSlots(children, slots);\n    }\n  } else if (children) {\n    normalizeVNodeSlots(instance, children);\n  }\n};\nconst updateSlots = (instance, children, optimized) => {\n  const { vnode, slots } = instance;\n  let needDeletionCheck = true;\n  let deletionComparisonTarget = EMPTY_OBJ;\n  if (vnode.shapeFlag & 32) {\n    const type = children._;\n    if (type) {\n      if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) {\n        assignSlots(slots, children, optimized);\n        trigger(instance, \"set\", \"$slots\");\n      } else if (optimized && type === 1) {\n        needDeletionCheck = false;\n      } else {\n        assignSlots(slots, children, optimized);\n      }\n    } else {\n      needDeletionCheck = !children.$stable;\n      normalizeObjectSlots(children, slots);\n    }\n    deletionComparisonTarget = children;\n  } else if (children) {\n    normalizeVNodeSlots(instance, children);\n    deletionComparisonTarget = { default: 1 };\n  }\n  if (needDeletionCheck) {\n    for (const key in slots) {\n      if (!isInternalKey(key) && deletionComparisonTarget[key] == null) {\n        delete slots[key];\n      }\n    }\n  }\n};\n\nlet supported;\nlet perf;\nfunction startMeasure(instance, type) {\n  if (instance.appContext.config.performance && isSupported()) {\n    perf.mark(`vue-${type}-${instance.uid}`);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    devtoolsPerfStart(instance, type, isSupported() ? perf.now() : Date.now());\n  }\n}\nfunction endMeasure(instance, type) {\n  if (instance.appContext.config.performance && isSupported()) {\n    const startTag = `vue-${type}-${instance.uid}`;\n    const endTag = startTag + `:end`;\n    const measureName = `<${formatComponentName(instance, instance.type)}> ${type}`;\n    perf.mark(endTag);\n    perf.measure(measureName, startTag, endTag);\n    perf.clearMeasures(measureName);\n    perf.clearMarks(startTag);\n    perf.clearMarks(endTag);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    devtoolsPerfEnd(instance, type, isSupported() ? perf.now() : Date.now());\n  }\n}\nfunction isSupported() {\n  if (supported !== void 0) {\n    return supported;\n  }\n  if (typeof window !== \"undefined\" && window.performance) {\n    supported = true;\n    perf = window.performance;\n  } else {\n    supported = false;\n  }\n  return supported;\n}\n\nfunction initFeatureFlags() {\n  const needWarn = [];\n  if (typeof __VUE_OPTIONS_API__ !== \"boolean\") {\n    !!(process.env.NODE_ENV !== \"production\") && needWarn.push(`__VUE_OPTIONS_API__`);\n    getGlobalThis().__VUE_OPTIONS_API__ = true;\n  }\n  if (typeof __VUE_PROD_DEVTOOLS__ !== \"boolean\") {\n    !!(process.env.NODE_ENV !== \"production\") && needWarn.push(`__VUE_PROD_DEVTOOLS__`);\n    getGlobalThis().__VUE_PROD_DEVTOOLS__ = false;\n  }\n  if (typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__ !== \"boolean\") {\n    !!(process.env.NODE_ENV !== \"production\") && needWarn.push(`__VUE_PROD_HYDRATION_MISMATCH_DETAILS__`);\n    getGlobalThis().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__ = false;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && needWarn.length) {\n    const multi = needWarn.length > 1;\n    console.warn(\n      `Feature flag${multi ? `s` : ``} ${needWarn.join(\", \")} ${multi ? `are` : `is`} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.\n\nFor more details, see https://link.vuejs.org/feature-flags.`\n    );\n  }\n}\n\nconst queuePostRenderEffect = queueEffectWithSuspense ;\nfunction createRenderer(options) {\n  return baseCreateRenderer(options);\n}\nfunction createHydrationRenderer(options) {\n  return baseCreateRenderer(options, createHydrationFunctions);\n}\nfunction baseCreateRenderer(options, createHydrationFns) {\n  {\n    initFeatureFlags();\n  }\n  const target = getGlobalThis();\n  target.__VUE__ = true;\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    setDevtoolsHook$1(target.__VUE_DEVTOOLS_GLOBAL_HOOK__, target);\n  }\n  const {\n    insert: hostInsert,\n    remove: hostRemove,\n    patchProp: hostPatchProp,\n    createElement: hostCreateElement,\n    createText: hostCreateText,\n    createComment: hostCreateComment,\n    setText: hostSetText,\n    setElementText: hostSetElementText,\n    parentNode: hostParentNode,\n    nextSibling: hostNextSibling,\n    setScopeId: hostSetScopeId = NOOP,\n    insertStaticContent: hostInsertStaticContent\n  } = options;\n  const patch = (n1, n2, container, anchor = null, parentComponent = null, parentSuspense = null, namespace = void 0, slotScopeIds = null, optimized = !!(process.env.NODE_ENV !== \"production\") && isHmrUpdating ? false : !!n2.dynamicChildren) => {\n    if (n1 === n2) {\n      return;\n    }\n    if (n1 && !isSameVNodeType(n1, n2)) {\n      anchor = getNextHostNode(n1);\n      unmount(n1, parentComponent, parentSuspense, true);\n      n1 = null;\n    }\n    if (n2.patchFlag === -2) {\n      optimized = false;\n      n2.dynamicChildren = null;\n    }\n    const { type, ref, shapeFlag } = n2;\n    switch (type) {\n      case Text:\n        processText(n1, n2, container, anchor);\n        break;\n      case Comment:\n        processCommentNode(n1, n2, container, anchor);\n        break;\n      case Static:\n        if (n1 == null) {\n          mountStaticNode(n2, container, anchor, namespace);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          patchStaticNode(n1, n2, container, namespace);\n        }\n        break;\n      case Fragment:\n        processFragment(\n          n1,\n          n2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n        break;\n      default:\n        if (shapeFlag & 1) {\n          processElement(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n        } else if (shapeFlag & 6) {\n          processComponent(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n        } else if (shapeFlag & 64) {\n          type.process(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized,\n            internals\n          );\n        } else if (shapeFlag & 128) {\n          type.process(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized,\n            internals\n          );\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(\"Invalid VNode type:\", type, `(${typeof type})`);\n        }\n    }\n    if (ref != null && parentComponent) {\n      setRef(ref, n1 && n1.ref, parentSuspense, n2 || n1, !n2);\n    } else if (ref == null && n1 && n1.ref != null) {\n      setRef(n1.ref, null, parentSuspense, n1, true);\n    }\n  };\n  const processText = (n1, n2, container, anchor) => {\n    if (n1 == null) {\n      hostInsert(\n        n2.el = hostCreateText(n2.children),\n        container,\n        anchor\n      );\n    } else {\n      const el = n2.el = n1.el;\n      if (n2.children !== n1.children) {\n        hostSetText(el, n2.children);\n      }\n    }\n  };\n  const processCommentNode = (n1, n2, container, anchor) => {\n    if (n1 == null) {\n      hostInsert(\n        n2.el = hostCreateComment(n2.children || \"\"),\n        container,\n        anchor\n      );\n    } else {\n      n2.el = n1.el;\n    }\n  };\n  const mountStaticNode = (n2, container, anchor, namespace) => {\n    [n2.el, n2.anchor] = hostInsertStaticContent(\n      n2.children,\n      container,\n      anchor,\n      namespace,\n      n2.el,\n      n2.anchor\n    );\n  };\n  const patchStaticNode = (n1, n2, container, namespace) => {\n    if (n2.children !== n1.children) {\n      const anchor = hostNextSibling(n1.anchor);\n      removeStaticNode(n1);\n      [n2.el, n2.anchor] = hostInsertStaticContent(\n        n2.children,\n        container,\n        anchor,\n        namespace\n      );\n    } else {\n      n2.el = n1.el;\n      n2.anchor = n1.anchor;\n    }\n  };\n  const moveStaticNode = ({ el, anchor }, container, nextSibling) => {\n    let next;\n    while (el && el !== anchor) {\n      next = hostNextSibling(el);\n      hostInsert(el, container, nextSibling);\n      el = next;\n    }\n    hostInsert(anchor, container, nextSibling);\n  };\n  const removeStaticNode = ({ el, anchor }) => {\n    let next;\n    while (el && el !== anchor) {\n      next = hostNextSibling(el);\n      hostRemove(el);\n      el = next;\n    }\n    hostRemove(anchor);\n  };\n  const processElement = (n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    if (n2.type === \"svg\") {\n      namespace = \"svg\";\n    } else if (n2.type === \"math\") {\n      namespace = \"mathml\";\n    }\n    if (n1 == null) {\n      mountElement(\n        n2,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n    } else {\n      const customElement = !!(n1.el && n1.el._isVueCE) ? n1.el : null;\n      try {\n        if (customElement) {\n          customElement._beginPatch();\n        }\n        patchElement(\n          n1,\n          n2,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n      } finally {\n        if (customElement) {\n          customElement._endPatch();\n        }\n      }\n    }\n  };\n  const mountElement = (vnode, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    let el;\n    let vnodeHook;\n    const { props, shapeFlag, transition, dirs } = vnode;\n    el = vnode.el = hostCreateElement(\n      vnode.type,\n      namespace,\n      props && props.is,\n      props\n    );\n    if (shapeFlag & 8) {\n      hostSetElementText(el, vnode.children);\n    } else if (shapeFlag & 16) {\n      mountChildren(\n        vnode.children,\n        el,\n        null,\n        parentComponent,\n        parentSuspense,\n        resolveChildrenNamespace(vnode, namespace),\n        slotScopeIds,\n        optimized\n      );\n    }\n    if (dirs) {\n      invokeDirectiveHook(vnode, null, parentComponent, \"created\");\n    }\n    setScopeId(el, vnode, vnode.scopeId, slotScopeIds, parentComponent);\n    if (props) {\n      for (const key in props) {\n        if (key !== \"value\" && !isReservedProp(key)) {\n          hostPatchProp(el, key, null, props[key], namespace, parentComponent);\n        }\n      }\n      if (\"value\" in props) {\n        hostPatchProp(el, \"value\", null, props.value, namespace);\n      }\n      if (vnodeHook = props.onVnodeBeforeMount) {\n        invokeVNodeHook(vnodeHook, parentComponent, vnode);\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      def(el, \"__vnode\", vnode, true);\n      def(el, \"__vueParentComponent\", parentComponent, true);\n    }\n    if (dirs) {\n      invokeDirectiveHook(vnode, null, parentComponent, \"beforeMount\");\n    }\n    const needCallTransitionHooks = needTransition(parentSuspense, transition);\n    if (needCallTransitionHooks) {\n      transition.beforeEnter(el);\n    }\n    hostInsert(el, container, anchor);\n    if ((vnodeHook = props && props.onVnodeMounted) || needCallTransitionHooks || dirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\n        needCallTransitionHooks && transition.enter(el);\n        dirs && invokeDirectiveHook(vnode, null, parentComponent, \"mounted\");\n      }, parentSuspense);\n    }\n  };\n  const setScopeId = (el, vnode, scopeId, slotScopeIds, parentComponent) => {\n    if (scopeId) {\n      hostSetScopeId(el, scopeId);\n    }\n    if (slotScopeIds) {\n      for (let i = 0; i < slotScopeIds.length; i++) {\n        hostSetScopeId(el, slotScopeIds[i]);\n      }\n    }\n    if (parentComponent) {\n      let subTree = parentComponent.subTree;\n      if (!!(process.env.NODE_ENV !== \"production\") && subTree.patchFlag > 0 && subTree.patchFlag & 2048) {\n        subTree = filterSingleRoot(subTree.children) || subTree;\n      }\n      if (vnode === subTree || isSuspense(subTree.type) && (subTree.ssContent === vnode || subTree.ssFallback === vnode)) {\n        const parentVNode = parentComponent.vnode;\n        setScopeId(\n          el,\n          parentVNode,\n          parentVNode.scopeId,\n          parentVNode.slotScopeIds,\n          parentComponent.parent\n        );\n      }\n    }\n  };\n  const mountChildren = (children, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, start = 0) => {\n    for (let i = start; i < children.length; i++) {\n      const child = children[i] = optimized ? cloneIfMounted(children[i]) : normalizeVNode(children[i]);\n      patch(\n        null,\n        child,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n    }\n  };\n  const patchElement = (n1, n2, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    const el = n2.el = n1.el;\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      el.__vnode = n2;\n    }\n    let { patchFlag, dynamicChildren, dirs } = n2;\n    patchFlag |= n1.patchFlag & 16;\n    const oldProps = n1.props || EMPTY_OBJ;\n    const newProps = n2.props || EMPTY_OBJ;\n    let vnodeHook;\n    parentComponent && toggleRecurse(parentComponent, false);\n    if (vnodeHook = newProps.onVnodeBeforeUpdate) {\n      invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\n    }\n    if (dirs) {\n      invokeDirectiveHook(n2, n1, parentComponent, \"beforeUpdate\");\n    }\n    parentComponent && toggleRecurse(parentComponent, true);\n    if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) {\n      patchFlag = 0;\n      optimized = false;\n      dynamicChildren = null;\n    }\n    if (oldProps.innerHTML && newProps.innerHTML == null || oldProps.textContent && newProps.textContent == null) {\n      hostSetElementText(el, \"\");\n    }\n    if (dynamicChildren) {\n      patchBlockChildren(\n        n1.dynamicChildren,\n        dynamicChildren,\n        el,\n        parentComponent,\n        parentSuspense,\n        resolveChildrenNamespace(n2, namespace),\n        slotScopeIds\n      );\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        traverseStaticChildren(n1, n2);\n      }\n    } else if (!optimized) {\n      patchChildren(\n        n1,\n        n2,\n        el,\n        null,\n        parentComponent,\n        parentSuspense,\n        resolveChildrenNamespace(n2, namespace),\n        slotScopeIds,\n        false\n      );\n    }\n    if (patchFlag > 0) {\n      if (patchFlag & 16) {\n        patchProps(el, oldProps, newProps, parentComponent, namespace);\n      } else {\n        if (patchFlag & 2) {\n          if (oldProps.class !== newProps.class) {\n            hostPatchProp(el, \"class\", null, newProps.class, namespace);\n          }\n        }\n        if (patchFlag & 4) {\n          hostPatchProp(el, \"style\", oldProps.style, newProps.style, namespace);\n        }\n        if (patchFlag & 8) {\n          const propsToUpdate = n2.dynamicProps;\n          for (let i = 0; i < propsToUpdate.length; i++) {\n            const key = propsToUpdate[i];\n            const prev = oldProps[key];\n            const next = newProps[key];\n            if (next !== prev || key === \"value\") {\n              hostPatchProp(el, key, prev, next, namespace, parentComponent);\n            }\n          }\n        }\n      }\n      if (patchFlag & 1) {\n        if (n1.children !== n2.children) {\n          hostSetElementText(el, n2.children);\n        }\n      }\n    } else if (!optimized && dynamicChildren == null) {\n      patchProps(el, oldProps, newProps, parentComponent, namespace);\n    }\n    if ((vnodeHook = newProps.onVnodeUpdated) || dirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\n        dirs && invokeDirectiveHook(n2, n1, parentComponent, \"updated\");\n      }, parentSuspense);\n    }\n  };\n  const patchBlockChildren = (oldChildren, newChildren, fallbackContainer, parentComponent, parentSuspense, namespace, slotScopeIds) => {\n    for (let i = 0; i < newChildren.length; i++) {\n      const oldVNode = oldChildren[i];\n      const newVNode = newChildren[i];\n      const container = (\n        // oldVNode may be an errored async setup() component inside Suspense\n        // which will not have a mounted element\n        oldVNode.el && // - In the case of a Fragment, we need to provide the actual parent\n        // of the Fragment itself so it can move its children.\n        (oldVNode.type === Fragment || // - In the case of different nodes, there is going to be a replacement\n        // which also requires the correct parent container\n        !isSameVNodeType(oldVNode, newVNode) || // - In the case of a component, it could contain anything.\n        oldVNode.shapeFlag & (6 | 64 | 128)) ? hostParentNode(oldVNode.el) : (\n          // In other cases, the parent container is not actually used so we\n          // just pass the block element here to avoid a DOM parentNode call.\n          fallbackContainer\n        )\n      );\n      patch(\n        oldVNode,\n        newVNode,\n        container,\n        null,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        true\n      );\n    }\n  };\n  const patchProps = (el, oldProps, newProps, parentComponent, namespace) => {\n    if (oldProps !== newProps) {\n      if (oldProps !== EMPTY_OBJ) {\n        for (const key in oldProps) {\n          if (!isReservedProp(key) && !(key in newProps)) {\n            hostPatchProp(\n              el,\n              key,\n              oldProps[key],\n              null,\n              namespace,\n              parentComponent\n            );\n          }\n        }\n      }\n      for (const key in newProps) {\n        if (isReservedProp(key)) continue;\n        const next = newProps[key];\n        const prev = oldProps[key];\n        if (next !== prev && key !== \"value\") {\n          hostPatchProp(el, key, prev, next, namespace, parentComponent);\n        }\n      }\n      if (\"value\" in newProps) {\n        hostPatchProp(el, \"value\", oldProps.value, newProps.value, namespace);\n      }\n    }\n  };\n  const processFragment = (n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    const fragmentStartAnchor = n2.el = n1 ? n1.el : hostCreateText(\"\");\n    const fragmentEndAnchor = n2.anchor = n1 ? n1.anchor : hostCreateText(\"\");\n    let { patchFlag, dynamicChildren, slotScopeIds: fragmentSlotScopeIds } = n2;\n    if (!!(process.env.NODE_ENV !== \"production\") && // #5523 dev root fragment may inherit directives\n    (isHmrUpdating || patchFlag & 2048)) {\n      patchFlag = 0;\n      optimized = false;\n      dynamicChildren = null;\n    }\n    if (fragmentSlotScopeIds) {\n      slotScopeIds = slotScopeIds ? slotScopeIds.concat(fragmentSlotScopeIds) : fragmentSlotScopeIds;\n    }\n    if (n1 == null) {\n      hostInsert(fragmentStartAnchor, container, anchor);\n      hostInsert(fragmentEndAnchor, container, anchor);\n      mountChildren(\n        // #10007\n        // such fragment like `<></>` will be compiled into\n        // a fragment which doesn't have a children.\n        // In this case fallback to an empty array\n        n2.children || [],\n        container,\n        fragmentEndAnchor,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n    } else {\n      if (patchFlag > 0 && patchFlag & 64 && dynamicChildren && // #2715 the previous fragment could've been a BAILed one as a result\n      // of renderSlot() with no valid children\n      n1.dynamicChildren) {\n        patchBlockChildren(\n          n1.dynamicChildren,\n          dynamicChildren,\n          container,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds\n        );\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          traverseStaticChildren(n1, n2);\n        } else if (\n          // #2080 if the stable fragment has a key, it's a <template v-for> that may\n          //  get moved around. Make sure all root level vnodes inherit el.\n          // #2134 or if it's a component root, it may also get moved around\n          // as the component is being moved.\n          n2.key != null || parentComponent && n2 === parentComponent.subTree\n        ) {\n          traverseStaticChildren(\n            n1,\n            n2,\n            true\n            /* shallow */\n          );\n        }\n      } else {\n        patchChildren(\n          n1,\n          n2,\n          container,\n          fragmentEndAnchor,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n      }\n    }\n  };\n  const processComponent = (n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    n2.slotScopeIds = slotScopeIds;\n    if (n1 == null) {\n      if (n2.shapeFlag & 512) {\n        parentComponent.ctx.activate(\n          n2,\n          container,\n          anchor,\n          namespace,\n          optimized\n        );\n      } else {\n        mountComponent(\n          n2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          optimized\n        );\n      }\n    } else {\n      updateComponent(n1, n2, optimized);\n    }\n  };\n  const mountComponent = (initialVNode, container, anchor, parentComponent, parentSuspense, namespace, optimized) => {\n    const instance = (initialVNode.component = createComponentInstance(\n      initialVNode,\n      parentComponent,\n      parentSuspense\n    ));\n    if (!!(process.env.NODE_ENV !== \"production\") && instance.type.__hmrId) {\n      registerHMR(instance);\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      pushWarningContext(initialVNode);\n      startMeasure(instance, `mount`);\n    }\n    if (isKeepAlive(initialVNode)) {\n      instance.ctx.renderer = internals;\n    }\n    {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        startMeasure(instance, `init`);\n      }\n      setupComponent(instance, false, optimized);\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        endMeasure(instance, `init`);\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) initialVNode.el = null;\n    if (instance.asyncDep) {\n      parentSuspense && parentSuspense.registerDep(instance, setupRenderEffect, optimized);\n      if (!initialVNode.el) {\n        const placeholder = instance.subTree = createVNode(Comment);\n        processCommentNode(null, placeholder, container, anchor);\n        initialVNode.placeholder = placeholder.el;\n      }\n    } else {\n      setupRenderEffect(\n        instance,\n        initialVNode,\n        container,\n        anchor,\n        parentSuspense,\n        namespace,\n        optimized\n      );\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      popWarningContext();\n      endMeasure(instance, `mount`);\n    }\n  };\n  const updateComponent = (n1, n2, optimized) => {\n    const instance = n2.component = n1.component;\n    if (shouldUpdateComponent(n1, n2, optimized)) {\n      if (instance.asyncDep && !instance.asyncResolved) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          pushWarningContext(n2);\n        }\n        updateComponentPreRender(instance, n2, optimized);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          popWarningContext();\n        }\n        return;\n      } else {\n        instance.next = n2;\n        instance.update();\n      }\n    } else {\n      n2.el = n1.el;\n      instance.vnode = n2;\n    }\n  };\n  const setupRenderEffect = (instance, initialVNode, container, anchor, parentSuspense, namespace, optimized) => {\n    const componentUpdateFn = () => {\n      if (!instance.isMounted) {\n        let vnodeHook;\n        const { el, props } = initialVNode;\n        const { bm, m, parent, root, type } = instance;\n        const isAsyncWrapperVNode = isAsyncWrapper(initialVNode);\n        toggleRecurse(instance, false);\n        if (bm) {\n          invokeArrayFns(bm);\n        }\n        if (!isAsyncWrapperVNode && (vnodeHook = props && props.onVnodeBeforeMount)) {\n          invokeVNodeHook(vnodeHook, parent, initialVNode);\n        }\n        toggleRecurse(instance, true);\n        if (el && hydrateNode) {\n          const hydrateSubTree = () => {\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              startMeasure(instance, `render`);\n            }\n            instance.subTree = renderComponentRoot(instance);\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              endMeasure(instance, `render`);\n            }\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              startMeasure(instance, `hydrate`);\n            }\n            hydrateNode(\n              el,\n              instance.subTree,\n              instance,\n              parentSuspense,\n              null\n            );\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              endMeasure(instance, `hydrate`);\n            }\n          };\n          if (isAsyncWrapperVNode && type.__asyncHydrate) {\n            type.__asyncHydrate(\n              el,\n              instance,\n              hydrateSubTree\n            );\n          } else {\n            hydrateSubTree();\n          }\n        } else {\n          if (root.ce && // @ts-expect-error _def is private\n          root.ce._def.shadowRoot !== false) {\n            root.ce._injectChildStyle(type);\n          }\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            startMeasure(instance, `render`);\n          }\n          const subTree = instance.subTree = renderComponentRoot(instance);\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            endMeasure(instance, `render`);\n          }\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            startMeasure(instance, `patch`);\n          }\n          patch(\n            null,\n            subTree,\n            container,\n            anchor,\n            instance,\n            parentSuspense,\n            namespace\n          );\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            endMeasure(instance, `patch`);\n          }\n          initialVNode.el = subTree.el;\n        }\n        if (m) {\n          queuePostRenderEffect(m, parentSuspense);\n        }\n        if (!isAsyncWrapperVNode && (vnodeHook = props && props.onVnodeMounted)) {\n          const scopedInitialVNode = initialVNode;\n          queuePostRenderEffect(\n            () => invokeVNodeHook(vnodeHook, parent, scopedInitialVNode),\n            parentSuspense\n          );\n        }\n        if (initialVNode.shapeFlag & 256 || parent && isAsyncWrapper(parent.vnode) && parent.vnode.shapeFlag & 256) {\n          instance.a && queuePostRenderEffect(instance.a, parentSuspense);\n        }\n        instance.isMounted = true;\n        if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n          devtoolsComponentAdded(instance);\n        }\n        initialVNode = container = anchor = null;\n      } else {\n        let { next, bu, u, parent, vnode } = instance;\n        {\n          const nonHydratedAsyncRoot = locateNonHydratedAsyncRoot(instance);\n          if (nonHydratedAsyncRoot) {\n            if (next) {\n              next.el = vnode.el;\n              updateComponentPreRender(instance, next, optimized);\n            }\n            nonHydratedAsyncRoot.asyncDep.then(() => {\n              if (!instance.isUnmounted) {\n                componentUpdateFn();\n              }\n            });\n            return;\n          }\n        }\n        let originNext = next;\n        let vnodeHook;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          pushWarningContext(next || instance.vnode);\n        }\n        toggleRecurse(instance, false);\n        if (next) {\n          next.el = vnode.el;\n          updateComponentPreRender(instance, next, optimized);\n        } else {\n          next = vnode;\n        }\n        if (bu) {\n          invokeArrayFns(bu);\n        }\n        if (vnodeHook = next.props && next.props.onVnodeBeforeUpdate) {\n          invokeVNodeHook(vnodeHook, parent, next, vnode);\n        }\n        toggleRecurse(instance, true);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          startMeasure(instance, `render`);\n        }\n        const nextTree = renderComponentRoot(instance);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          endMeasure(instance, `render`);\n        }\n        const prevTree = instance.subTree;\n        instance.subTree = nextTree;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          startMeasure(instance, `patch`);\n        }\n        patch(\n          prevTree,\n          nextTree,\n          // parent may have changed if it's in a teleport\n          hostParentNode(prevTree.el),\n          // anchor may have changed if it's in a fragment\n          getNextHostNode(prevTree),\n          instance,\n          parentSuspense,\n          namespace\n        );\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          endMeasure(instance, `patch`);\n        }\n        next.el = nextTree.el;\n        if (originNext === null) {\n          updateHOCHostEl(instance, nextTree.el);\n        }\n        if (u) {\n          queuePostRenderEffect(u, parentSuspense);\n        }\n        if (vnodeHook = next.props && next.props.onVnodeUpdated) {\n          queuePostRenderEffect(\n            () => invokeVNodeHook(vnodeHook, parent, next, vnode),\n            parentSuspense\n          );\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n          devtoolsComponentUpdated(instance);\n        }\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          popWarningContext();\n        }\n      }\n    };\n    instance.scope.on();\n    const effect = instance.effect = new ReactiveEffect(componentUpdateFn);\n    instance.scope.off();\n    const update = instance.update = effect.run.bind(effect);\n    const job = instance.job = effect.runIfDirty.bind(effect);\n    job.i = instance;\n    job.id = instance.uid;\n    effect.scheduler = () => queueJob(job);\n    toggleRecurse(instance, true);\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      effect.onTrack = instance.rtc ? (e) => invokeArrayFns(instance.rtc, e) : void 0;\n      effect.onTrigger = instance.rtg ? (e) => invokeArrayFns(instance.rtg, e) : void 0;\n    }\n    update();\n  };\n  const updateComponentPreRender = (instance, nextVNode, optimized) => {\n    nextVNode.component = instance;\n    const prevProps = instance.vnode.props;\n    instance.vnode = nextVNode;\n    instance.next = null;\n    updateProps(instance, nextVNode.props, prevProps, optimized);\n    updateSlots(instance, nextVNode.children, optimized);\n    pauseTracking();\n    flushPreFlushCbs(instance);\n    resetTracking();\n  };\n  const patchChildren = (n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized = false) => {\n    const c1 = n1 && n1.children;\n    const prevShapeFlag = n1 ? n1.shapeFlag : 0;\n    const c2 = n2.children;\n    const { patchFlag, shapeFlag } = n2;\n    if (patchFlag > 0) {\n      if (patchFlag & 128) {\n        patchKeyedChildren(\n          c1,\n          c2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n        return;\n      } else if (patchFlag & 256) {\n        patchUnkeyedChildren(\n          c1,\n          c2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n        return;\n      }\n    }\n    if (shapeFlag & 8) {\n      if (prevShapeFlag & 16) {\n        unmountChildren(c1, parentComponent, parentSuspense);\n      }\n      if (c2 !== c1) {\n        hostSetElementText(container, c2);\n      }\n    } else {\n      if (prevShapeFlag & 16) {\n        if (shapeFlag & 16) {\n          patchKeyedChildren(\n            c1,\n            c2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n        } else {\n          unmountChildren(c1, parentComponent, parentSuspense, true);\n        }\n      } else {\n        if (prevShapeFlag & 8) {\n          hostSetElementText(container, \"\");\n        }\n        if (shapeFlag & 16) {\n          mountChildren(\n            c2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n        }\n      }\n    }\n  };\n  const patchUnkeyedChildren = (c1, c2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    c1 = c1 || EMPTY_ARR;\n    c2 = c2 || EMPTY_ARR;\n    const oldLength = c1.length;\n    const newLength = c2.length;\n    const commonLength = Math.min(oldLength, newLength);\n    let i;\n    for (i = 0; i < commonLength; i++) {\n      const nextChild = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n      patch(\n        c1[i],\n        nextChild,\n        container,\n        null,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n    }\n    if (oldLength > newLength) {\n      unmountChildren(\n        c1,\n        parentComponent,\n        parentSuspense,\n        true,\n        false,\n        commonLength\n      );\n    } else {\n      mountChildren(\n        c2,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized,\n        commonLength\n      );\n    }\n  };\n  const patchKeyedChildren = (c1, c2, container, parentAnchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    let i = 0;\n    const l2 = c2.length;\n    let e1 = c1.length - 1;\n    let e2 = l2 - 1;\n    while (i <= e1 && i <= e2) {\n      const n1 = c1[i];\n      const n2 = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n      if (isSameVNodeType(n1, n2)) {\n        patch(\n          n1,\n          n2,\n          container,\n          null,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n      } else {\n        break;\n      }\n      i++;\n    }\n    while (i <= e1 && i <= e2) {\n      const n1 = c1[e1];\n      const n2 = c2[e2] = optimized ? cloneIfMounted(c2[e2]) : normalizeVNode(c2[e2]);\n      if (isSameVNodeType(n1, n2)) {\n        patch(\n          n1,\n          n2,\n          container,\n          null,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n      } else {\n        break;\n      }\n      e1--;\n      e2--;\n    }\n    if (i > e1) {\n      if (i <= e2) {\n        const nextPos = e2 + 1;\n        const anchor = nextPos < l2 ? c2[nextPos].el : parentAnchor;\n        while (i <= e2) {\n          patch(\n            null,\n            c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]),\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n          i++;\n        }\n      }\n    } else if (i > e2) {\n      while (i <= e1) {\n        unmount(c1[i], parentComponent, parentSuspense, true);\n        i++;\n      }\n    } else {\n      const s1 = i;\n      const s2 = i;\n      const keyToNewIndexMap = /* @__PURE__ */ new Map();\n      for (i = s2; i <= e2; i++) {\n        const nextChild = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n        if (nextChild.key != null) {\n          if (!!(process.env.NODE_ENV !== \"production\") && keyToNewIndexMap.has(nextChild.key)) {\n            warn$1(\n              `Duplicate keys found during update:`,\n              JSON.stringify(nextChild.key),\n              `Make sure keys are unique.`\n            );\n          }\n          keyToNewIndexMap.set(nextChild.key, i);\n        }\n      }\n      let j;\n      let patched = 0;\n      const toBePatched = e2 - s2 + 1;\n      let moved = false;\n      let maxNewIndexSoFar = 0;\n      const newIndexToOldIndexMap = new Array(toBePatched);\n      for (i = 0; i < toBePatched; i++) newIndexToOldIndexMap[i] = 0;\n      for (i = s1; i <= e1; i++) {\n        const prevChild = c1[i];\n        if (patched >= toBePatched) {\n          unmount(prevChild, parentComponent, parentSuspense, true);\n          continue;\n        }\n        let newIndex;\n        if (prevChild.key != null) {\n          newIndex = keyToNewIndexMap.get(prevChild.key);\n        } else {\n          for (j = s2; j <= e2; j++) {\n            if (newIndexToOldIndexMap[j - s2] === 0 && isSameVNodeType(prevChild, c2[j])) {\n              newIndex = j;\n              break;\n            }\n          }\n        }\n        if (newIndex === void 0) {\n          unmount(prevChild, parentComponent, parentSuspense, true);\n        } else {\n          newIndexToOldIndexMap[newIndex - s2] = i + 1;\n          if (newIndex >= maxNewIndexSoFar) {\n            maxNewIndexSoFar = newIndex;\n          } else {\n            moved = true;\n          }\n          patch(\n            prevChild,\n            c2[newIndex],\n            container,\n            null,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n          patched++;\n        }\n      }\n      const increasingNewIndexSequence = moved ? getSequence(newIndexToOldIndexMap) : EMPTY_ARR;\n      j = increasingNewIndexSequence.length - 1;\n      for (i = toBePatched - 1; i >= 0; i--) {\n        const nextIndex = s2 + i;\n        const nextChild = c2[nextIndex];\n        const anchorVNode = c2[nextIndex + 1];\n        const anchor = nextIndex + 1 < l2 ? (\n          // #13559, fallback to el placeholder for unresolved async component\n          anchorVNode.el || anchorVNode.placeholder\n        ) : parentAnchor;\n        if (newIndexToOldIndexMap[i] === 0) {\n          patch(\n            null,\n            nextChild,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n        } else if (moved) {\n          if (j < 0 || i !== increasingNewIndexSequence[j]) {\n            move(nextChild, container, anchor, 2);\n          } else {\n            j--;\n          }\n        }\n      }\n    }\n  };\n  const move = (vnode, container, anchor, moveType, parentSuspense = null) => {\n    const { el, type, transition, children, shapeFlag } = vnode;\n    if (shapeFlag & 6) {\n      move(vnode.component.subTree, container, anchor, moveType);\n      return;\n    }\n    if (shapeFlag & 128) {\n      vnode.suspense.move(container, anchor, moveType);\n      return;\n    }\n    if (shapeFlag & 64) {\n      type.move(vnode, container, anchor, internals);\n      return;\n    }\n    if (type === Fragment) {\n      hostInsert(el, container, anchor);\n      for (let i = 0; i < children.length; i++) {\n        move(children[i], container, anchor, moveType);\n      }\n      hostInsert(vnode.anchor, container, anchor);\n      return;\n    }\n    if (type === Static) {\n      moveStaticNode(vnode, container, anchor);\n      return;\n    }\n    const needTransition2 = moveType !== 2 && shapeFlag & 1 && transition;\n    if (needTransition2) {\n      if (moveType === 0) {\n        transition.beforeEnter(el);\n        hostInsert(el, container, anchor);\n        queuePostRenderEffect(() => transition.enter(el), parentSuspense);\n      } else {\n        const { leave, delayLeave, afterLeave } = transition;\n        const remove2 = () => {\n          if (vnode.ctx.isUnmounted) {\n            hostRemove(el);\n          } else {\n            hostInsert(el, container, anchor);\n          }\n        };\n        const performLeave = () => {\n          if (el._isLeaving) {\n            el[leaveCbKey](\n              true\n              /* cancelled */\n            );\n          }\n          leave(el, () => {\n            remove2();\n            afterLeave && afterLeave();\n          });\n        };\n        if (delayLeave) {\n          delayLeave(el, remove2, performLeave);\n        } else {\n          performLeave();\n        }\n      }\n    } else {\n      hostInsert(el, container, anchor);\n    }\n  };\n  const unmount = (vnode, parentComponent, parentSuspense, doRemove = false, optimized = false) => {\n    const {\n      type,\n      props,\n      ref,\n      children,\n      dynamicChildren,\n      shapeFlag,\n      patchFlag,\n      dirs,\n      cacheIndex\n    } = vnode;\n    if (patchFlag === -2) {\n      optimized = false;\n    }\n    if (ref != null) {\n      pauseTracking();\n      setRef(ref, null, parentSuspense, vnode, true);\n      resetTracking();\n    }\n    if (cacheIndex != null) {\n      parentComponent.renderCache[cacheIndex] = void 0;\n    }\n    if (shapeFlag & 256) {\n      parentComponent.ctx.deactivate(vnode);\n      return;\n    }\n    const shouldInvokeDirs = shapeFlag & 1 && dirs;\n    const shouldInvokeVnodeHook = !isAsyncWrapper(vnode);\n    let vnodeHook;\n    if (shouldInvokeVnodeHook && (vnodeHook = props && props.onVnodeBeforeUnmount)) {\n      invokeVNodeHook(vnodeHook, parentComponent, vnode);\n    }\n    if (shapeFlag & 6) {\n      unmountComponent(vnode.component, parentSuspense, doRemove);\n    } else {\n      if (shapeFlag & 128) {\n        vnode.suspense.unmount(parentSuspense, doRemove);\n        return;\n      }\n      if (shouldInvokeDirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"beforeUnmount\");\n      }\n      if (shapeFlag & 64) {\n        vnode.type.remove(\n          vnode,\n          parentComponent,\n          parentSuspense,\n          internals,\n          doRemove\n        );\n      } else if (dynamicChildren && // #5154\n      // when v-once is used inside a block, setBlockTracking(-1) marks the\n      // parent block with hasOnce: true\n      // so that it doesn't take the fast path during unmount - otherwise\n      // components nested in v-once are never unmounted.\n      !dynamicChildren.hasOnce && // #1153: fast path should not be taken for non-stable (v-for) fragments\n      (type !== Fragment || patchFlag > 0 && patchFlag & 64)) {\n        unmountChildren(\n          dynamicChildren,\n          parentComponent,\n          parentSuspense,\n          false,\n          true\n        );\n      } else if (type === Fragment && patchFlag & (128 | 256) || !optimized && shapeFlag & 16) {\n        unmountChildren(children, parentComponent, parentSuspense);\n      }\n      if (doRemove) {\n        remove(vnode);\n      }\n    }\n    if (shouldInvokeVnodeHook && (vnodeHook = props && props.onVnodeUnmounted) || shouldInvokeDirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\n        shouldInvokeDirs && invokeDirectiveHook(vnode, null, parentComponent, \"unmounted\");\n      }, parentSuspense);\n    }\n  };\n  const remove = (vnode) => {\n    const { type, el, anchor, transition } = vnode;\n    if (type === Fragment) {\n      if (!!(process.env.NODE_ENV !== \"production\") && vnode.patchFlag > 0 && vnode.patchFlag & 2048 && transition && !transition.persisted) {\n        vnode.children.forEach((child) => {\n          if (child.type === Comment) {\n            hostRemove(child.el);\n          } else {\n            remove(child);\n          }\n        });\n      } else {\n        removeFragment(el, anchor);\n      }\n      return;\n    }\n    if (type === Static) {\n      removeStaticNode(vnode);\n      return;\n    }\n    const performRemove = () => {\n      hostRemove(el);\n      if (transition && !transition.persisted && transition.afterLeave) {\n        transition.afterLeave();\n      }\n    };\n    if (vnode.shapeFlag & 1 && transition && !transition.persisted) {\n      const { leave, delayLeave } = transition;\n      const performLeave = () => leave(el, performRemove);\n      if (delayLeave) {\n        delayLeave(vnode.el, performRemove, performLeave);\n      } else {\n        performLeave();\n      }\n    } else {\n      performRemove();\n    }\n  };\n  const removeFragment = (cur, end) => {\n    let next;\n    while (cur !== end) {\n      next = hostNextSibling(cur);\n      hostRemove(cur);\n      cur = next;\n    }\n    hostRemove(end);\n  };\n  const unmountComponent = (instance, parentSuspense, doRemove) => {\n    if (!!(process.env.NODE_ENV !== \"production\") && instance.type.__hmrId) {\n      unregisterHMR(instance);\n    }\n    const { bum, scope, job, subTree, um, m, a } = instance;\n    invalidateMount(m);\n    invalidateMount(a);\n    if (bum) {\n      invokeArrayFns(bum);\n    }\n    scope.stop();\n    if (job) {\n      job.flags |= 8;\n      unmount(subTree, instance, parentSuspense, doRemove);\n    }\n    if (um) {\n      queuePostRenderEffect(um, parentSuspense);\n    }\n    queuePostRenderEffect(() => {\n      instance.isUnmounted = true;\n    }, parentSuspense);\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      devtoolsComponentRemoved(instance);\n    }\n  };\n  const unmountChildren = (children, parentComponent, parentSuspense, doRemove = false, optimized = false, start = 0) => {\n    for (let i = start; i < children.length; i++) {\n      unmount(children[i], parentComponent, parentSuspense, doRemove, optimized);\n    }\n  };\n  const getNextHostNode = (vnode) => {\n    if (vnode.shapeFlag & 6) {\n      return getNextHostNode(vnode.component.subTree);\n    }\n    if (vnode.shapeFlag & 128) {\n      return vnode.suspense.next();\n    }\n    const el = hostNextSibling(vnode.anchor || vnode.el);\n    const teleportEnd = el && el[TeleportEndKey];\n    return teleportEnd ? hostNextSibling(teleportEnd) : el;\n  };\n  let isFlushing = false;\n  const render = (vnode, container, namespace) => {\n    if (vnode == null) {\n      if (container._vnode) {\n        unmount(container._vnode, null, null, true);\n      }\n    } else {\n      patch(\n        container._vnode || null,\n        vnode,\n        container,\n        null,\n        null,\n        null,\n        namespace\n      );\n    }\n    container._vnode = vnode;\n    if (!isFlushing) {\n      isFlushing = true;\n      flushPreFlushCbs();\n      flushPostFlushCbs();\n      isFlushing = false;\n    }\n  };\n  const internals = {\n    p: patch,\n    um: unmount,\n    m: move,\n    r: remove,\n    mt: mountComponent,\n    mc: mountChildren,\n    pc: patchChildren,\n    pbc: patchBlockChildren,\n    n: getNextHostNode,\n    o: options\n  };\n  let hydrate;\n  let hydrateNode;\n  if (createHydrationFns) {\n    [hydrate, hydrateNode] = createHydrationFns(\n      internals\n    );\n  }\n  return {\n    render,\n    hydrate,\n    createApp: createAppAPI(render, hydrate)\n  };\n}\nfunction resolveChildrenNamespace({ type, props }, currentNamespace) {\n  return currentNamespace === \"svg\" && type === \"foreignObject\" || currentNamespace === \"mathml\" && type === \"annotation-xml\" && props && props.encoding && props.encoding.includes(\"html\") ? void 0 : currentNamespace;\n}\nfunction toggleRecurse({ effect, job }, allowed) {\n  if (allowed) {\n    effect.flags |= 32;\n    job.flags |= 4;\n  } else {\n    effect.flags &= -33;\n    job.flags &= -5;\n  }\n}\nfunction needTransition(parentSuspense, transition) {\n  return (!parentSuspense || parentSuspense && !parentSuspense.pendingBranch) && transition && !transition.persisted;\n}\nfunction traverseStaticChildren(n1, n2, shallow = false) {\n  const ch1 = n1.children;\n  const ch2 = n2.children;\n  if (isArray(ch1) && isArray(ch2)) {\n    for (let i = 0; i < ch1.length; i++) {\n      const c1 = ch1[i];\n      let c2 = ch2[i];\n      if (c2.shapeFlag & 1 && !c2.dynamicChildren) {\n        if (c2.patchFlag <= 0 || c2.patchFlag === 32) {\n          c2 = ch2[i] = cloneIfMounted(ch2[i]);\n          c2.el = c1.el;\n        }\n        if (!shallow && c2.patchFlag !== -2)\n          traverseStaticChildren(c1, c2);\n      }\n      if (c2.type === Text && // avoid cached text nodes retaining detached dom nodes\n      c2.patchFlag !== -1) {\n        c2.el = c1.el;\n      }\n      if (c2.type === Comment && !c2.el) {\n        c2.el = c1.el;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        c2.el && (c2.el.__vnode = c2);\n      }\n    }\n  }\n}\nfunction getSequence(arr) {\n  const p = arr.slice();\n  const result = [0];\n  let i, j, u, v, c;\n  const len = arr.length;\n  for (i = 0; i < len; i++) {\n    const arrI = arr[i];\n    if (arrI !== 0) {\n      j = result[result.length - 1];\n      if (arr[j] < arrI) {\n        p[i] = j;\n        result.push(i);\n        continue;\n      }\n      u = 0;\n      v = result.length - 1;\n      while (u < v) {\n        c = u + v >> 1;\n        if (arr[result[c]] < arrI) {\n          u = c + 1;\n        } else {\n          v = c;\n        }\n      }\n      if (arrI < arr[result[u]]) {\n        if (u > 0) {\n          p[i] = result[u - 1];\n        }\n        result[u] = i;\n      }\n    }\n  }\n  u = result.length;\n  v = result[u - 1];\n  while (u-- > 0) {\n    result[u] = v;\n    v = p[v];\n  }\n  return result;\n}\nfunction locateNonHydratedAsyncRoot(instance) {\n  const subComponent = instance.subTree.component;\n  if (subComponent) {\n    if (subComponent.asyncDep && !subComponent.asyncResolved) {\n      return subComponent;\n    } else {\n      return locateNonHydratedAsyncRoot(subComponent);\n    }\n  }\n}\nfunction invalidateMount(hooks) {\n  if (hooks) {\n    for (let i = 0; i < hooks.length; i++)\n      hooks[i].flags |= 8;\n  }\n}\n\nconst isSuspense = (type) => type.__isSuspense;\nlet suspenseId = 0;\nconst SuspenseImpl = {\n  name: \"Suspense\",\n  // In order to make Suspense tree-shakable, we need to avoid importing it\n  // directly in the renderer. The renderer checks for the __isSuspense flag\n  // on a vnode's type and calls the `process` method, passing in renderer\n  // internals.\n  __isSuspense: true,\n  process(n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, rendererInternals) {\n    if (n1 == null) {\n      mountSuspense(\n        n2,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized,\n        rendererInternals\n      );\n    } else {\n      if (parentSuspense && parentSuspense.deps > 0 && !n1.suspense.isInFallback) {\n        n2.suspense = n1.suspense;\n        n2.suspense.vnode = n2;\n        n2.el = n1.el;\n        return;\n      }\n      patchSuspense(\n        n1,\n        n2,\n        container,\n        anchor,\n        parentComponent,\n        namespace,\n        slotScopeIds,\n        optimized,\n        rendererInternals\n      );\n    }\n  },\n  hydrate: hydrateSuspense,\n  normalize: normalizeSuspenseChildren\n};\nconst Suspense = SuspenseImpl ;\nfunction triggerEvent(vnode, name) {\n  const eventListener = vnode.props && vnode.props[name];\n  if (isFunction(eventListener)) {\n    eventListener();\n  }\n}\nfunction mountSuspense(vnode, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, rendererInternals) {\n  const {\n    p: patch,\n    o: { createElement }\n  } = rendererInternals;\n  const hiddenContainer = createElement(\"div\");\n  const suspense = vnode.suspense = createSuspenseBoundary(\n    vnode,\n    parentSuspense,\n    parentComponent,\n    container,\n    hiddenContainer,\n    anchor,\n    namespace,\n    slotScopeIds,\n    optimized,\n    rendererInternals\n  );\n  patch(\n    null,\n    suspense.pendingBranch = vnode.ssContent,\n    hiddenContainer,\n    null,\n    parentComponent,\n    suspense,\n    namespace,\n    slotScopeIds\n  );\n  if (suspense.deps > 0) {\n    triggerEvent(vnode, \"onPending\");\n    triggerEvent(vnode, \"onFallback\");\n    patch(\n      null,\n      vnode.ssFallback,\n      container,\n      anchor,\n      parentComponent,\n      null,\n      // fallback tree will not have suspense context\n      namespace,\n      slotScopeIds\n    );\n    setActiveBranch(suspense, vnode.ssFallback);\n  } else {\n    suspense.resolve(false, true);\n  }\n}\nfunction patchSuspense(n1, n2, container, anchor, parentComponent, namespace, slotScopeIds, optimized, { p: patch, um: unmount, o: { createElement } }) {\n  const suspense = n2.suspense = n1.suspense;\n  suspense.vnode = n2;\n  n2.el = n1.el;\n  const newBranch = n2.ssContent;\n  const newFallback = n2.ssFallback;\n  const { activeBranch, pendingBranch, isInFallback, isHydrating } = suspense;\n  if (pendingBranch) {\n    suspense.pendingBranch = newBranch;\n    if (isSameVNodeType(pendingBranch, newBranch)) {\n      patch(\n        pendingBranch,\n        newBranch,\n        suspense.hiddenContainer,\n        null,\n        parentComponent,\n        suspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n      if (suspense.deps <= 0) {\n        suspense.resolve();\n      } else if (isInFallback) {\n        if (!isHydrating) {\n          patch(\n            activeBranch,\n            newFallback,\n            container,\n            anchor,\n            parentComponent,\n            null,\n            // fallback tree will not have suspense context\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n          setActiveBranch(suspense, newFallback);\n        }\n      }\n    } else {\n      suspense.pendingId = suspenseId++;\n      if (isHydrating) {\n        suspense.isHydrating = false;\n        suspense.activeBranch = pendingBranch;\n      } else {\n        unmount(pendingBranch, parentComponent, suspense);\n      }\n      suspense.deps = 0;\n      suspense.effects.length = 0;\n      suspense.hiddenContainer = createElement(\"div\");\n      if (isInFallback) {\n        patch(\n          null,\n          newBranch,\n          suspense.hiddenContainer,\n          null,\n          parentComponent,\n          suspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n        if (suspense.deps <= 0) {\n          suspense.resolve();\n        } else {\n          patch(\n            activeBranch,\n            newFallback,\n            container,\n            anchor,\n            parentComponent,\n            null,\n            // fallback tree will not have suspense context\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n          setActiveBranch(suspense, newFallback);\n        }\n      } else if (activeBranch && isSameVNodeType(activeBranch, newBranch)) {\n        patch(\n          activeBranch,\n          newBranch,\n          container,\n          anchor,\n          parentComponent,\n          suspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n        suspense.resolve(true);\n      } else {\n        patch(\n          null,\n          newBranch,\n          suspense.hiddenContainer,\n          null,\n          parentComponent,\n          suspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n        if (suspense.deps <= 0) {\n          suspense.resolve();\n        }\n      }\n    }\n  } else {\n    if (activeBranch && isSameVNodeType(activeBranch, newBranch)) {\n      patch(\n        activeBranch,\n        newBranch,\n        container,\n        anchor,\n        parentComponent,\n        suspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n      setActiveBranch(suspense, newBranch);\n    } else {\n      triggerEvent(n2, \"onPending\");\n      suspense.pendingBranch = newBranch;\n      if (newBranch.shapeFlag & 512) {\n        suspense.pendingId = newBranch.component.suspenseId;\n      } else {\n        suspense.pendingId = suspenseId++;\n      }\n      patch(\n        null,\n        newBranch,\n        suspense.hiddenContainer,\n        null,\n        parentComponent,\n        suspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n      if (suspense.deps <= 0) {\n        suspense.resolve();\n      } else {\n        const { timeout, pendingId } = suspense;\n        if (timeout > 0) {\n          setTimeout(() => {\n            if (suspense.pendingId === pendingId) {\n              suspense.fallback(newFallback);\n            }\n          }, timeout);\n        } else if (timeout === 0) {\n          suspense.fallback(newFallback);\n        }\n      }\n    }\n  }\n}\nlet hasWarned = false;\nfunction createSuspenseBoundary(vnode, parentSuspense, parentComponent, container, hiddenContainer, anchor, namespace, slotScopeIds, optimized, rendererInternals, isHydrating = false) {\n  if (!!(process.env.NODE_ENV !== \"production\") && true && !hasWarned) {\n    hasWarned = true;\n    console[console.info ? \"info\" : \"log\"](\n      `<Suspense> is an experimental feature and its API will likely change.`\n    );\n  }\n  const {\n    p: patch,\n    m: move,\n    um: unmount,\n    n: next,\n    o: { parentNode, remove }\n  } = rendererInternals;\n  let parentSuspenseId;\n  const isSuspensible = isVNodeSuspensible(vnode);\n  if (isSuspensible) {\n    if (parentSuspense && parentSuspense.pendingBranch) {\n      parentSuspenseId = parentSuspense.pendingId;\n      parentSuspense.deps++;\n    }\n  }\n  const timeout = vnode.props ? toNumber(vnode.props.timeout) : void 0;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    assertNumber(timeout, `Suspense timeout`);\n  }\n  const initialAnchor = anchor;\n  const suspense = {\n    vnode,\n    parent: parentSuspense,\n    parentComponent,\n    namespace,\n    container,\n    hiddenContainer,\n    deps: 0,\n    pendingId: suspenseId++,\n    timeout: typeof timeout === \"number\" ? timeout : -1,\n    activeBranch: null,\n    pendingBranch: null,\n    isInFallback: !isHydrating,\n    isHydrating,\n    isUnmounted: false,\n    effects: [],\n    resolve(resume = false, sync = false) {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        if (!resume && !suspense.pendingBranch) {\n          throw new Error(\n            `suspense.resolve() is called without a pending branch.`\n          );\n        }\n        if (suspense.isUnmounted) {\n          throw new Error(\n            `suspense.resolve() is called on an already unmounted suspense boundary.`\n          );\n        }\n      }\n      const {\n        vnode: vnode2,\n        activeBranch,\n        pendingBranch,\n        pendingId,\n        effects,\n        parentComponent: parentComponent2,\n        container: container2,\n        isInFallback\n      } = suspense;\n      let delayEnter = false;\n      if (suspense.isHydrating) {\n        suspense.isHydrating = false;\n      } else if (!resume) {\n        delayEnter = activeBranch && pendingBranch.transition && pendingBranch.transition.mode === \"out-in\";\n        if (delayEnter) {\n          activeBranch.transition.afterLeave = () => {\n            if (pendingId === suspense.pendingId) {\n              move(\n                pendingBranch,\n                container2,\n                anchor === initialAnchor ? next(activeBranch) : anchor,\n                0\n              );\n              queuePostFlushCb(effects);\n              if (isInFallback && vnode2.ssFallback) {\n                vnode2.ssFallback.el = null;\n              }\n            }\n          };\n        }\n        if (activeBranch) {\n          if (parentNode(activeBranch.el) === container2) {\n            anchor = next(activeBranch);\n          }\n          unmount(activeBranch, parentComponent2, suspense, true);\n          if (!delayEnter && isInFallback && vnode2.ssFallback) {\n            queuePostRenderEffect(() => vnode2.ssFallback.el = null, suspense);\n          }\n        }\n        if (!delayEnter) {\n          move(pendingBranch, container2, anchor, 0);\n        }\n      }\n      setActiveBranch(suspense, pendingBranch);\n      suspense.pendingBranch = null;\n      suspense.isInFallback = false;\n      let parent = suspense.parent;\n      let hasUnresolvedAncestor = false;\n      while (parent) {\n        if (parent.pendingBranch) {\n          parent.effects.push(...effects);\n          hasUnresolvedAncestor = true;\n          break;\n        }\n        parent = parent.parent;\n      }\n      if (!hasUnresolvedAncestor && !delayEnter) {\n        queuePostFlushCb(effects);\n      }\n      suspense.effects = [];\n      if (isSuspensible) {\n        if (parentSuspense && parentSuspense.pendingBranch && parentSuspenseId === parentSuspense.pendingId) {\n          parentSuspense.deps--;\n          if (parentSuspense.deps === 0 && !sync) {\n            parentSuspense.resolve();\n          }\n        }\n      }\n      triggerEvent(vnode2, \"onResolve\");\n    },\n    fallback(fallbackVNode) {\n      if (!suspense.pendingBranch) {\n        return;\n      }\n      const { vnode: vnode2, activeBranch, parentComponent: parentComponent2, container: container2, namespace: namespace2 } = suspense;\n      triggerEvent(vnode2, \"onFallback\");\n      const anchor2 = next(activeBranch);\n      const mountFallback = () => {\n        if (!suspense.isInFallback) {\n          return;\n        }\n        patch(\n          null,\n          fallbackVNode,\n          container2,\n          anchor2,\n          parentComponent2,\n          null,\n          // fallback tree will not have suspense context\n          namespace2,\n          slotScopeIds,\n          optimized\n        );\n        setActiveBranch(suspense, fallbackVNode);\n      };\n      const delayEnter = fallbackVNode.transition && fallbackVNode.transition.mode === \"out-in\";\n      if (delayEnter) {\n        activeBranch.transition.afterLeave = mountFallback;\n      }\n      suspense.isInFallback = true;\n      unmount(\n        activeBranch,\n        parentComponent2,\n        null,\n        // no suspense so unmount hooks fire now\n        true\n        // shouldRemove\n      );\n      if (!delayEnter) {\n        mountFallback();\n      }\n    },\n    move(container2, anchor2, type) {\n      suspense.activeBranch && move(suspense.activeBranch, container2, anchor2, type);\n      suspense.container = container2;\n    },\n    next() {\n      return suspense.activeBranch && next(suspense.activeBranch);\n    },\n    registerDep(instance, setupRenderEffect, optimized2) {\n      const isInPendingSuspense = !!suspense.pendingBranch;\n      if (isInPendingSuspense) {\n        suspense.deps++;\n      }\n      const hydratedEl = instance.vnode.el;\n      instance.asyncDep.catch((err) => {\n        handleError(err, instance, 0);\n      }).then((asyncSetupResult) => {\n        if (instance.isUnmounted || suspense.isUnmounted || suspense.pendingId !== instance.suspenseId) {\n          return;\n        }\n        instance.asyncResolved = true;\n        const { vnode: vnode2 } = instance;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          pushWarningContext(vnode2);\n        }\n        handleSetupResult(instance, asyncSetupResult, false);\n        if (hydratedEl) {\n          vnode2.el = hydratedEl;\n        }\n        const placeholder = !hydratedEl && instance.subTree.el;\n        setupRenderEffect(\n          instance,\n          vnode2,\n          // component may have been moved before resolve.\n          // if this is not a hydration, instance.subTree will be the comment\n          // placeholder.\n          parentNode(hydratedEl || instance.subTree.el),\n          // anchor will not be used if this is hydration, so only need to\n          // consider the comment placeholder case.\n          hydratedEl ? null : next(instance.subTree),\n          suspense,\n          namespace,\n          optimized2\n        );\n        if (placeholder) {\n          vnode2.placeholder = null;\n          remove(placeholder);\n        }\n        updateHOCHostEl(instance, vnode2.el);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          popWarningContext();\n        }\n        if (isInPendingSuspense && --suspense.deps === 0) {\n          suspense.resolve();\n        }\n      });\n    },\n    unmount(parentSuspense2, doRemove) {\n      suspense.isUnmounted = true;\n      if (suspense.activeBranch) {\n        unmount(\n          suspense.activeBranch,\n          parentComponent,\n          parentSuspense2,\n          doRemove\n        );\n      }\n      if (suspense.pendingBranch) {\n        unmount(\n          suspense.pendingBranch,\n          parentComponent,\n          parentSuspense2,\n          doRemove\n        );\n      }\n    }\n  };\n  return suspense;\n}\nfunction hydrateSuspense(node, vnode, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, rendererInternals, hydrateNode) {\n  const suspense = vnode.suspense = createSuspenseBoundary(\n    vnode,\n    parentSuspense,\n    parentComponent,\n    node.parentNode,\n    // eslint-disable-next-line no-restricted-globals\n    document.createElement(\"div\"),\n    null,\n    namespace,\n    slotScopeIds,\n    optimized,\n    rendererInternals,\n    true\n  );\n  const result = hydrateNode(\n    node,\n    suspense.pendingBranch = vnode.ssContent,\n    parentComponent,\n    suspense,\n    slotScopeIds,\n    optimized\n  );\n  if (suspense.deps === 0) {\n    suspense.resolve(false, true);\n  }\n  return result;\n}\nfunction normalizeSuspenseChildren(vnode) {\n  const { shapeFlag, children } = vnode;\n  const isSlotChildren = shapeFlag & 32;\n  vnode.ssContent = normalizeSuspenseSlot(\n    isSlotChildren ? children.default : children\n  );\n  vnode.ssFallback = isSlotChildren ? normalizeSuspenseSlot(children.fallback) : createVNode(Comment);\n}\nfunction normalizeSuspenseSlot(s) {\n  let block;\n  if (isFunction(s)) {\n    const trackBlock = isBlockTreeEnabled && s._c;\n    if (trackBlock) {\n      s._d = false;\n      openBlock();\n    }\n    s = s();\n    if (trackBlock) {\n      s._d = true;\n      block = currentBlock;\n      closeBlock();\n    }\n  }\n  if (isArray(s)) {\n    const singleChild = filterSingleRoot(s);\n    if (!!(process.env.NODE_ENV !== \"production\") && !singleChild && s.filter((child) => child !== NULL_DYNAMIC_COMPONENT).length > 0) {\n      warn$1(`<Suspense> slots expect a single root node.`);\n    }\n    s = singleChild;\n  }\n  s = normalizeVNode(s);\n  if (block && !s.dynamicChildren) {\n    s.dynamicChildren = block.filter((c) => c !== s);\n  }\n  return s;\n}\nfunction queueEffectWithSuspense(fn, suspense) {\n  if (suspense && suspense.pendingBranch) {\n    if (isArray(fn)) {\n      suspense.effects.push(...fn);\n    } else {\n      suspense.effects.push(fn);\n    }\n  } else {\n    queuePostFlushCb(fn);\n  }\n}\nfunction setActiveBranch(suspense, branch) {\n  suspense.activeBranch = branch;\n  const { vnode, parentComponent } = suspense;\n  let el = branch.el;\n  while (!el && branch.component) {\n    branch = branch.component.subTree;\n    el = branch.el;\n  }\n  vnode.el = el;\n  if (parentComponent && parentComponent.subTree === vnode) {\n    parentComponent.vnode.el = el;\n    updateHOCHostEl(parentComponent, el);\n  }\n}\nfunction isVNodeSuspensible(vnode) {\n  const suspensible = vnode.props && vnode.props.suspensible;\n  return suspensible != null && suspensible !== false;\n}\n\nconst Fragment = Symbol.for(\"v-fgt\");\nconst Text = Symbol.for(\"v-txt\");\nconst Comment = Symbol.for(\"v-cmt\");\nconst Static = Symbol.for(\"v-stc\");\nconst blockStack = [];\nlet currentBlock = null;\nfunction openBlock(disableTracking = false) {\n  blockStack.push(currentBlock = disableTracking ? null : []);\n}\nfunction closeBlock() {\n  blockStack.pop();\n  currentBlock = blockStack[blockStack.length - 1] || null;\n}\nlet isBlockTreeEnabled = 1;\nfunction setBlockTracking(value, inVOnce = false) {\n  isBlockTreeEnabled += value;\n  if (value < 0 && currentBlock && inVOnce) {\n    currentBlock.hasOnce = true;\n  }\n}\nfunction setupBlock(vnode) {\n  vnode.dynamicChildren = isBlockTreeEnabled > 0 ? currentBlock || EMPTY_ARR : null;\n  closeBlock();\n  if (isBlockTreeEnabled > 0 && currentBlock) {\n    currentBlock.push(vnode);\n  }\n  return vnode;\n}\nfunction createElementBlock(type, props, children, patchFlag, dynamicProps, shapeFlag) {\n  return setupBlock(\n    createBaseVNode(\n      type,\n      props,\n      children,\n      patchFlag,\n      dynamicProps,\n      shapeFlag,\n      true\n    )\n  );\n}\nfunction createBlock(type, props, children, patchFlag, dynamicProps) {\n  return setupBlock(\n    createVNode(\n      type,\n      props,\n      children,\n      patchFlag,\n      dynamicProps,\n      true\n    )\n  );\n}\nfunction isVNode(value) {\n  return value ? value.__v_isVNode === true : false;\n}\nfunction isSameVNodeType(n1, n2) {\n  if (!!(process.env.NODE_ENV !== \"production\") && n2.shapeFlag & 6 && n1.component) {\n    const dirtyInstances = hmrDirtyComponents.get(n2.type);\n    if (dirtyInstances && dirtyInstances.has(n1.component)) {\n      n1.shapeFlag &= -257;\n      n2.shapeFlag &= -513;\n      return false;\n    }\n  }\n  return n1.type === n2.type && n1.key === n2.key;\n}\nlet vnodeArgsTransformer;\nfunction transformVNodeArgs(transformer) {\n  vnodeArgsTransformer = transformer;\n}\nconst createVNodeWithArgsTransform = (...args) => {\n  return _createVNode(\n    ...vnodeArgsTransformer ? vnodeArgsTransformer(args, currentRenderingInstance) : args\n  );\n};\nconst normalizeKey = ({ key }) => key != null ? key : null;\nconst normalizeRef = ({\n  ref,\n  ref_key,\n  ref_for\n}) => {\n  if (typeof ref === \"number\") {\n    ref = \"\" + ref;\n  }\n  return ref != null ? isString(ref) || isRef(ref) || isFunction(ref) ? { i: currentRenderingInstance, r: ref, k: ref_key, f: !!ref_for } : ref : null;\n};\nfunction createBaseVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, shapeFlag = type === Fragment ? 0 : 1, isBlockNode = false, needFullChildrenNormalization = false) {\n  const vnode = {\n    __v_isVNode: true,\n    __v_skip: true,\n    type,\n    props,\n    key: props && normalizeKey(props),\n    ref: props && normalizeRef(props),\n    scopeId: currentScopeId,\n    slotScopeIds: null,\n    children,\n    component: null,\n    suspense: null,\n    ssContent: null,\n    ssFallback: null,\n    dirs: null,\n    transition: null,\n    el: null,\n    anchor: null,\n    target: null,\n    targetStart: null,\n    targetAnchor: null,\n    staticCount: 0,\n    shapeFlag,\n    patchFlag,\n    dynamicProps,\n    dynamicChildren: null,\n    appContext: null,\n    ctx: currentRenderingInstance\n  };\n  if (needFullChildrenNormalization) {\n    normalizeChildren(vnode, children);\n    if (shapeFlag & 128) {\n      type.normalize(vnode);\n    }\n  } else if (children) {\n    vnode.shapeFlag |= isString(children) ? 8 : 16;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && vnode.key !== vnode.key) {\n    warn$1(`VNode created with invalid key (NaN). VNode type:`, vnode.type);\n  }\n  if (isBlockTreeEnabled > 0 && // avoid a block node from tracking itself\n  !isBlockNode && // has current parent block\n  currentBlock && // presence of a patch flag indicates this node needs patching on updates.\n  // component nodes also should always be patched, because even if the\n  // component doesn't need to update, it needs to persist the instance on to\n  // the next vnode so that it can be properly unmounted later.\n  (vnode.patchFlag > 0 || shapeFlag & 6) && // the EVENTS flag is only for hydration and if it is the only flag, the\n  // vnode should not be considered dynamic due to handler caching.\n  vnode.patchFlag !== 32) {\n    currentBlock.push(vnode);\n  }\n  return vnode;\n}\nconst createVNode = !!(process.env.NODE_ENV !== \"production\") ? createVNodeWithArgsTransform : _createVNode;\nfunction _createVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, isBlockNode = false) {\n  if (!type || type === NULL_DYNAMIC_COMPONENT) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !type) {\n      warn$1(`Invalid vnode type when creating vnode: ${type}.`);\n    }\n    type = Comment;\n  }\n  if (isVNode(type)) {\n    const cloned = cloneVNode(\n      type,\n      props,\n      true\n      /* mergeRef: true */\n    );\n    if (children) {\n      normalizeChildren(cloned, children);\n    }\n    if (isBlockTreeEnabled > 0 && !isBlockNode && currentBlock) {\n      if (cloned.shapeFlag & 6) {\n        currentBlock[currentBlock.indexOf(type)] = cloned;\n      } else {\n        currentBlock.push(cloned);\n      }\n    }\n    cloned.patchFlag = -2;\n    return cloned;\n  }\n  if (isClassComponent(type)) {\n    type = type.__vccOpts;\n  }\n  if (props) {\n    props = guardReactiveProps(props);\n    let { class: klass, style } = props;\n    if (klass && !isString(klass)) {\n      props.class = normalizeClass(klass);\n    }\n    if (isObject(style)) {\n      if (isProxy(style) && !isArray(style)) {\n        style = extend({}, style);\n      }\n      props.style = normalizeStyle(style);\n    }\n  }\n  const shapeFlag = isString(type) ? 1 : isSuspense(type) ? 128 : isTeleport(type) ? 64 : isObject(type) ? 4 : isFunction(type) ? 2 : 0;\n  if (!!(process.env.NODE_ENV !== \"production\") && shapeFlag & 4 && isProxy(type)) {\n    type = toRaw(type);\n    warn$1(\n      `Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with \\`markRaw\\` or using \\`shallowRef\\` instead of \\`ref\\`.`,\n      `\nComponent that was made reactive: `,\n      type\n    );\n  }\n  return createBaseVNode(\n    type,\n    props,\n    children,\n    patchFlag,\n    dynamicProps,\n    shapeFlag,\n    isBlockNode,\n    true\n  );\n}\nfunction guardReactiveProps(props) {\n  if (!props) return null;\n  return isProxy(props) || isInternalObject(props) ? extend({}, props) : props;\n}\nfunction cloneVNode(vnode, extraProps, mergeRef = false, cloneTransition = false) {\n  const { props, ref, patchFlag, children, transition } = vnode;\n  const mergedProps = extraProps ? mergeProps(props || {}, extraProps) : props;\n  const cloned = {\n    __v_isVNode: true,\n    __v_skip: true,\n    type: vnode.type,\n    props: mergedProps,\n    key: mergedProps && normalizeKey(mergedProps),\n    ref: extraProps && extraProps.ref ? (\n      // #2078 in the case of <component :is=\"vnode\" ref=\"extra\"/>\n      // if the vnode itself already has a ref, cloneVNode will need to merge\n      // the refs so the single vnode can be set on multiple refs\n      mergeRef && ref ? isArray(ref) ? ref.concat(normalizeRef(extraProps)) : [ref, normalizeRef(extraProps)] : normalizeRef(extraProps)\n    ) : ref,\n    scopeId: vnode.scopeId,\n    slotScopeIds: vnode.slotScopeIds,\n    children: !!(process.env.NODE_ENV !== \"production\") && patchFlag === -1 && isArray(children) ? children.map(deepCloneVNode) : children,\n    target: vnode.target,\n    targetStart: vnode.targetStart,\n    targetAnchor: vnode.targetAnchor,\n    staticCount: vnode.staticCount,\n    shapeFlag: vnode.shapeFlag,\n    // if the vnode is cloned with extra props, we can no longer assume its\n    // existing patch flag to be reliable and need to add the FULL_PROPS flag.\n    // note: preserve flag for fragments since they use the flag for children\n    // fast paths only.\n    patchFlag: extraProps && vnode.type !== Fragment ? patchFlag === -1 ? 16 : patchFlag | 16 : patchFlag,\n    dynamicProps: vnode.dynamicProps,\n    dynamicChildren: vnode.dynamicChildren,\n    appContext: vnode.appContext,\n    dirs: vnode.dirs,\n    transition,\n    // These should technically only be non-null on mounted VNodes. However,\n    // they *should* be copied for kept-alive vnodes. So we just always copy\n    // them since them being non-null during a mount doesn't affect the logic as\n    // they will simply be overwritten.\n    component: vnode.component,\n    suspense: vnode.suspense,\n    ssContent: vnode.ssContent && cloneVNode(vnode.ssContent),\n    ssFallback: vnode.ssFallback && cloneVNode(vnode.ssFallback),\n    placeholder: vnode.placeholder,\n    el: vnode.el,\n    anchor: vnode.anchor,\n    ctx: vnode.ctx,\n    ce: vnode.ce\n  };\n  if (transition && cloneTransition) {\n    setTransitionHooks(\n      cloned,\n      transition.clone(cloned)\n    );\n  }\n  return cloned;\n}\nfunction deepCloneVNode(vnode) {\n  const cloned = cloneVNode(vnode);\n  if (isArray(vnode.children)) {\n    cloned.children = vnode.children.map(deepCloneVNode);\n  }\n  return cloned;\n}\nfunction createTextVNode(text = \" \", flag = 0) {\n  return createVNode(Text, null, text, flag);\n}\nfunction createStaticVNode(content, numberOfNodes) {\n  const vnode = createVNode(Static, null, content);\n  vnode.staticCount = numberOfNodes;\n  return vnode;\n}\nfunction createCommentVNode(text = \"\", asBlock = false) {\n  return asBlock ? (openBlock(), createBlock(Comment, null, text)) : createVNode(Comment, null, text);\n}\nfunction normalizeVNode(child) {\n  if (child == null || typeof child === \"boolean\") {\n    return createVNode(Comment);\n  } else if (isArray(child)) {\n    return createVNode(\n      Fragment,\n      null,\n      // #3666, avoid reference pollution when reusing vnode\n      child.slice()\n    );\n  } else if (isVNode(child)) {\n    return cloneIfMounted(child);\n  } else {\n    return createVNode(Text, null, String(child));\n  }\n}\nfunction cloneIfMounted(child) {\n  return child.el === null && child.patchFlag !== -1 || child.memo ? child : cloneVNode(child);\n}\nfunction normalizeChildren(vnode, children) {\n  let type = 0;\n  const { shapeFlag } = vnode;\n  if (children == null) {\n    children = null;\n  } else if (isArray(children)) {\n    type = 16;\n  } else if (typeof children === \"object\") {\n    if (shapeFlag & (1 | 64)) {\n      const slot = children.default;\n      if (slot) {\n        slot._c && (slot._d = false);\n        normalizeChildren(vnode, slot());\n        slot._c && (slot._d = true);\n      }\n      return;\n    } else {\n      type = 32;\n      const slotFlag = children._;\n      if (!slotFlag && !isInternalObject(children)) {\n        children._ctx = currentRenderingInstance;\n      } else if (slotFlag === 3 && currentRenderingInstance) {\n        if (currentRenderingInstance.slots._ === 1) {\n          children._ = 1;\n        } else {\n          children._ = 2;\n          vnode.patchFlag |= 1024;\n        }\n      }\n    }\n  } else if (isFunction(children)) {\n    children = { default: children, _ctx: currentRenderingInstance };\n    type = 32;\n  } else {\n    children = String(children);\n    if (shapeFlag & 64) {\n      type = 16;\n      children = [createTextVNode(children)];\n    } else {\n      type = 8;\n    }\n  }\n  vnode.children = children;\n  vnode.shapeFlag |= type;\n}\nfunction mergeProps(...args) {\n  const ret = {};\n  for (let i = 0; i < args.length; i++) {\n    const toMerge = args[i];\n    for (const key in toMerge) {\n      if (key === \"class\") {\n        if (ret.class !== toMerge.class) {\n          ret.class = normalizeClass([ret.class, toMerge.class]);\n        }\n      } else if (key === \"style\") {\n        ret.style = normalizeStyle([ret.style, toMerge.style]);\n      } else if (isOn(key)) {\n        const existing = ret[key];\n        const incoming = toMerge[key];\n        if (incoming && existing !== incoming && !(isArray(existing) && existing.includes(incoming))) {\n          ret[key] = existing ? [].concat(existing, incoming) : incoming;\n        }\n      } else if (key !== \"\") {\n        ret[key] = toMerge[key];\n      }\n    }\n  }\n  return ret;\n}\nfunction invokeVNodeHook(hook, instance, vnode, prevVNode = null) {\n  callWithAsyncErrorHandling(hook, instance, 7, [\n    vnode,\n    prevVNode\n  ]);\n}\n\nconst emptyAppContext = createAppContext();\nlet uid = 0;\nfunction createComponentInstance(vnode, parent, suspense) {\n  const type = vnode.type;\n  const appContext = (parent ? parent.appContext : vnode.appContext) || emptyAppContext;\n  const instance = {\n    uid: uid++,\n    vnode,\n    type,\n    parent,\n    appContext,\n    root: null,\n    // to be immediately set\n    next: null,\n    subTree: null,\n    // will be set synchronously right after creation\n    effect: null,\n    update: null,\n    // will be set synchronously right after creation\n    job: null,\n    scope: new EffectScope(\n      true\n      /* detached */\n    ),\n    render: null,\n    proxy: null,\n    exposed: null,\n    exposeProxy: null,\n    withProxy: null,\n    provides: parent ? parent.provides : Object.create(appContext.provides),\n    ids: parent ? parent.ids : [\"\", 0, 0],\n    accessCache: null,\n    renderCache: [],\n    // local resolved assets\n    components: null,\n    directives: null,\n    // resolved props and emits options\n    propsOptions: normalizePropsOptions(type, appContext),\n    emitsOptions: normalizeEmitsOptions(type, appContext),\n    // emit\n    emit: null,\n    // to be set immediately\n    emitted: null,\n    // props default value\n    propsDefaults: EMPTY_OBJ,\n    // inheritAttrs\n    inheritAttrs: type.inheritAttrs,\n    // state\n    ctx: EMPTY_OBJ,\n    data: EMPTY_OBJ,\n    props: EMPTY_OBJ,\n    attrs: EMPTY_OBJ,\n    slots: EMPTY_OBJ,\n    refs: EMPTY_OBJ,\n    setupState: EMPTY_OBJ,\n    setupContext: null,\n    // suspense related\n    suspense,\n    suspenseId: suspense ? suspense.pendingId : 0,\n    asyncDep: null,\n    asyncResolved: false,\n    // lifecycle hooks\n    // not using enums here because it results in computed properties\n    isMounted: false,\n    isUnmounted: false,\n    isDeactivated: false,\n    bc: null,\n    c: null,\n    bm: null,\n    m: null,\n    bu: null,\n    u: null,\n    um: null,\n    bum: null,\n    da: null,\n    a: null,\n    rtg: null,\n    rtc: null,\n    ec: null,\n    sp: null\n  };\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    instance.ctx = createDevRenderContext(instance);\n  } else {\n    instance.ctx = { _: instance };\n  }\n  instance.root = parent ? parent.root : instance;\n  instance.emit = emit.bind(null, instance);\n  if (vnode.ce) {\n    vnode.ce(instance);\n  }\n  return instance;\n}\nlet currentInstance = null;\nconst getCurrentInstance = () => currentInstance || currentRenderingInstance;\nlet internalSetCurrentInstance;\nlet setInSSRSetupState;\n{\n  const g = getGlobalThis();\n  const registerGlobalSetter = (key, setter) => {\n    let setters;\n    if (!(setters = g[key])) setters = g[key] = [];\n    setters.push(setter);\n    return (v) => {\n      if (setters.length > 1) setters.forEach((set) => set(v));\n      else setters[0](v);\n    };\n  };\n  internalSetCurrentInstance = registerGlobalSetter(\n    `__VUE_INSTANCE_SETTERS__`,\n    (v) => currentInstance = v\n  );\n  setInSSRSetupState = registerGlobalSetter(\n    `__VUE_SSR_SETTERS__`,\n    (v) => isInSSRComponentSetup = v\n  );\n}\nconst setCurrentInstance = (instance) => {\n  const prev = currentInstance;\n  internalSetCurrentInstance(instance);\n  instance.scope.on();\n  return () => {\n    instance.scope.off();\n    internalSetCurrentInstance(prev);\n  };\n};\nconst unsetCurrentInstance = () => {\n  currentInstance && currentInstance.scope.off();\n  internalSetCurrentInstance(null);\n};\nconst isBuiltInTag = /* @__PURE__ */ makeMap(\"slot,component\");\nfunction validateComponentName(name, { isNativeTag }) {\n  if (isBuiltInTag(name) || isNativeTag(name)) {\n    warn$1(\n      \"Do not use built-in or reserved HTML elements as component id: \" + name\n    );\n  }\n}\nfunction isStatefulComponent(instance) {\n  return instance.vnode.shapeFlag & 4;\n}\nlet isInSSRComponentSetup = false;\nfunction setupComponent(instance, isSSR = false, optimized = false) {\n  isSSR && setInSSRSetupState(isSSR);\n  const { props, children } = instance.vnode;\n  const isStateful = isStatefulComponent(instance);\n  initProps(instance, props, isStateful, isSSR);\n  initSlots(instance, children, optimized || isSSR);\n  const setupResult = isStateful ? setupStatefulComponent(instance, isSSR) : void 0;\n  isSSR && setInSSRSetupState(false);\n  return setupResult;\n}\nfunction setupStatefulComponent(instance, isSSR) {\n  const Component = instance.type;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    if (Component.name) {\n      validateComponentName(Component.name, instance.appContext.config);\n    }\n    if (Component.components) {\n      const names = Object.keys(Component.components);\n      for (let i = 0; i < names.length; i++) {\n        validateComponentName(names[i], instance.appContext.config);\n      }\n    }\n    if (Component.directives) {\n      const names = Object.keys(Component.directives);\n      for (let i = 0; i < names.length; i++) {\n        validateDirectiveName(names[i]);\n      }\n    }\n    if (Component.compilerOptions && isRuntimeOnly()) {\n      warn$1(\n        `\"compilerOptions\" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.`\n      );\n    }\n  }\n  instance.accessCache = /* @__PURE__ */ Object.create(null);\n  instance.proxy = new Proxy(instance.ctx, PublicInstanceProxyHandlers);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    exposePropsOnRenderContext(instance);\n  }\n  const { setup } = Component;\n  if (setup) {\n    pauseTracking();\n    const setupContext = instance.setupContext = setup.length > 1 ? createSetupContext(instance) : null;\n    const reset = setCurrentInstance(instance);\n    const setupResult = callWithErrorHandling(\n      setup,\n      instance,\n      0,\n      [\n        !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(instance.props) : instance.props,\n        setupContext\n      ]\n    );\n    const isAsyncSetup = isPromise(setupResult);\n    resetTracking();\n    reset();\n    if ((isAsyncSetup || instance.sp) && !isAsyncWrapper(instance)) {\n      markAsyncBoundary(instance);\n    }\n    if (isAsyncSetup) {\n      setupResult.then(unsetCurrentInstance, unsetCurrentInstance);\n      if (isSSR) {\n        return setupResult.then((resolvedResult) => {\n          handleSetupResult(instance, resolvedResult, isSSR);\n        }).catch((e) => {\n          handleError(e, instance, 0);\n        });\n      } else {\n        instance.asyncDep = setupResult;\n        if (!!(process.env.NODE_ENV !== \"production\") && !instance.suspense) {\n          const name = formatComponentName(instance, Component);\n          warn$1(\n            `Component <${name}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`\n          );\n        }\n      }\n    } else {\n      handleSetupResult(instance, setupResult, isSSR);\n    }\n  } else {\n    finishComponentSetup(instance, isSSR);\n  }\n}\nfunction handleSetupResult(instance, setupResult, isSSR) {\n  if (isFunction(setupResult)) {\n    if (instance.type.__ssrInlineRender) {\n      instance.ssrRender = setupResult;\n    } else {\n      instance.render = setupResult;\n    }\n  } else if (isObject(setupResult)) {\n    if (!!(process.env.NODE_ENV !== \"production\") && isVNode(setupResult)) {\n      warn$1(\n        `setup() should not return VNodes directly - return a render function instead.`\n      );\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      instance.devtoolsRawSetupState = setupResult;\n    }\n    instance.setupState = proxyRefs(setupResult);\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      exposeSetupStateOnRenderContext(instance);\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\") && setupResult !== void 0) {\n    warn$1(\n      `setup() should return an object. Received: ${setupResult === null ? \"null\" : typeof setupResult}`\n    );\n  }\n  finishComponentSetup(instance, isSSR);\n}\nlet compile;\nlet installWithProxy;\nfunction registerRuntimeCompiler(_compile) {\n  compile = _compile;\n  installWithProxy = (i) => {\n    if (i.render._rc) {\n      i.withProxy = new Proxy(i.ctx, RuntimeCompiledPublicInstanceProxyHandlers);\n    }\n  };\n}\nconst isRuntimeOnly = () => !compile;\nfunction finishComponentSetup(instance, isSSR, skipOptions) {\n  const Component = instance.type;\n  if (!instance.render) {\n    if (!isSSR && compile && !Component.render) {\n      const template = Component.template || __VUE_OPTIONS_API__ && resolveMergedOptions(instance).template;\n      if (template) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          startMeasure(instance, `compile`);\n        }\n        const { isCustomElement, compilerOptions } = instance.appContext.config;\n        const { delimiters, compilerOptions: componentCompilerOptions } = Component;\n        const finalCompilerOptions = extend(\n          extend(\n            {\n              isCustomElement,\n              delimiters\n            },\n            compilerOptions\n          ),\n          componentCompilerOptions\n        );\n        Component.render = compile(template, finalCompilerOptions);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          endMeasure(instance, `compile`);\n        }\n      }\n    }\n    instance.render = Component.render || NOOP;\n    if (installWithProxy) {\n      installWithProxy(instance);\n    }\n  }\n  if (__VUE_OPTIONS_API__ && true) {\n    const reset = setCurrentInstance(instance);\n    pauseTracking();\n    try {\n      applyOptions(instance);\n    } finally {\n      resetTracking();\n      reset();\n    }\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && !Component.render && instance.render === NOOP && !isSSR) {\n    if (!compile && Component.template) {\n      warn$1(\n        `Component provided template option but runtime compilation is not supported in this build of Vue.` + (` Configure your bundler to alias \"vue\" to \"vue/dist/vue.esm-bundler.js\".` )\n      );\n    } else {\n      warn$1(`Component is missing template or render function: `, Component);\n    }\n  }\n}\nconst attrsProxyHandlers = !!(process.env.NODE_ENV !== \"production\") ? {\n  get(target, key) {\n    markAttrsAccessed();\n    track(target, \"get\", \"\");\n    return target[key];\n  },\n  set() {\n    warn$1(`setupContext.attrs is readonly.`);\n    return false;\n  },\n  deleteProperty() {\n    warn$1(`setupContext.attrs is readonly.`);\n    return false;\n  }\n} : {\n  get(target, key) {\n    track(target, \"get\", \"\");\n    return target[key];\n  }\n};\nfunction getSlotsProxy(instance) {\n  return new Proxy(instance.slots, {\n    get(target, key) {\n      track(instance, \"get\", \"$slots\");\n      return target[key];\n    }\n  });\n}\nfunction createSetupContext(instance) {\n  const expose = (exposed) => {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      if (instance.exposed) {\n        warn$1(`expose() should be called only once per setup().`);\n      }\n      if (exposed != null) {\n        let exposedType = typeof exposed;\n        if (exposedType === \"object\") {\n          if (isArray(exposed)) {\n            exposedType = \"array\";\n          } else if (isRef(exposed)) {\n            exposedType = \"ref\";\n          }\n        }\n        if (exposedType !== \"object\") {\n          warn$1(\n            `expose() should be passed a plain object, received ${exposedType}.`\n          );\n        }\n      }\n    }\n    instance.exposed = exposed || {};\n  };\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    let attrsProxy;\n    let slotsProxy;\n    return Object.freeze({\n      get attrs() {\n        return attrsProxy || (attrsProxy = new Proxy(instance.attrs, attrsProxyHandlers));\n      },\n      get slots() {\n        return slotsProxy || (slotsProxy = getSlotsProxy(instance));\n      },\n      get emit() {\n        return (event, ...args) => instance.emit(event, ...args);\n      },\n      expose\n    });\n  } else {\n    return {\n      attrs: new Proxy(instance.attrs, attrsProxyHandlers),\n      slots: instance.slots,\n      emit: instance.emit,\n      expose\n    };\n  }\n}\nfunction getComponentPublicInstance(instance) {\n  if (instance.exposed) {\n    return instance.exposeProxy || (instance.exposeProxy = new Proxy(proxyRefs(markRaw(instance.exposed)), {\n      get(target, key) {\n        if (key in target) {\n          return target[key];\n        } else if (key in publicPropertiesMap) {\n          return publicPropertiesMap[key](instance);\n        }\n      },\n      has(target, key) {\n        return key in target || key in publicPropertiesMap;\n      }\n    }));\n  } else {\n    return instance.proxy;\n  }\n}\nconst classifyRE = /(?:^|[-_])\\w/g;\nconst classify = (str) => str.replace(classifyRE, (c) => c.toUpperCase()).replace(/[-_]/g, \"\");\nfunction getComponentName(Component, includeInferred = true) {\n  return isFunction(Component) ? Component.displayName || Component.name : Component.name || includeInferred && Component.__name;\n}\nfunction formatComponentName(instance, Component, isRoot = false) {\n  let name = getComponentName(Component);\n  if (!name && Component.__file) {\n    const match = Component.__file.match(/([^/\\\\]+)\\.\\w+$/);\n    if (match) {\n      name = match[1];\n    }\n  }\n  if (!name && instance) {\n    const inferFromRegistry = (registry) => {\n      for (const key in registry) {\n        if (registry[key] === Component) {\n          return key;\n        }\n      }\n    };\n    name = inferFromRegistry(instance.components) || instance.parent && inferFromRegistry(\n      instance.parent.type.components\n    ) || inferFromRegistry(instance.appContext.components);\n  }\n  return name ? classify(name) : isRoot ? `App` : `Anonymous`;\n}\nfunction isClassComponent(value) {\n  return isFunction(value) && \"__vccOpts\" in value;\n}\n\nconst computed = (getterOrOptions, debugOptions) => {\n  const c = computed$1(getterOrOptions, debugOptions, isInSSRComponentSetup);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const i = getCurrentInstance();\n    if (i && i.appContext.config.warnRecursiveComputed) {\n      c._warnRecursive = true;\n    }\n  }\n  return c;\n};\n\nfunction h(type, propsOrChildren, children) {\n  try {\n    setBlockTracking(-1);\n    const l = arguments.length;\n    if (l === 2) {\n      if (isObject(propsOrChildren) && !isArray(propsOrChildren)) {\n        if (isVNode(propsOrChildren)) {\n          return createVNode(type, null, [propsOrChildren]);\n        }\n        return createVNode(type, propsOrChildren);\n      } else {\n        return createVNode(type, null, propsOrChildren);\n      }\n    } else {\n      if (l > 3) {\n        children = Array.prototype.slice.call(arguments, 2);\n      } else if (l === 3 && isVNode(children)) {\n        children = [children];\n      }\n      return createVNode(type, propsOrChildren, children);\n    }\n  } finally {\n    setBlockTracking(1);\n  }\n}\n\nfunction initCustomFormatter() {\n  if (!!!(process.env.NODE_ENV !== \"production\") || typeof window === \"undefined\") {\n    return;\n  }\n  const vueStyle = { style: \"color:#3ba776\" };\n  const numberStyle = { style: \"color:#1677ff\" };\n  const stringStyle = { style: \"color:#f5222d\" };\n  const keywordStyle = { style: \"color:#eb2f96\" };\n  const formatter = {\n    __vue_custom_formatter: true,\n    header(obj) {\n      if (!isObject(obj)) {\n        return null;\n      }\n      if (obj.__isVue) {\n        return [\"div\", vueStyle, `VueInstance`];\n      } else if (isRef(obj)) {\n        pauseTracking();\n        const value = obj.value;\n        resetTracking();\n        return [\n          \"div\",\n          {},\n          [\"span\", vueStyle, genRefFlag(obj)],\n          \"<\",\n          formatValue(value),\n          `>`\n        ];\n      } else if (isReactive(obj)) {\n        return [\n          \"div\",\n          {},\n          [\"span\", vueStyle, isShallow(obj) ? \"ShallowReactive\" : \"Reactive\"],\n          \"<\",\n          formatValue(obj),\n          `>${isReadonly(obj) ? ` (readonly)` : ``}`\n        ];\n      } else if (isReadonly(obj)) {\n        return [\n          \"div\",\n          {},\n          [\"span\", vueStyle, isShallow(obj) ? \"ShallowReadonly\" : \"Readonly\"],\n          \"<\",\n          formatValue(obj),\n          \">\"\n        ];\n      }\n      return null;\n    },\n    hasBody(obj) {\n      return obj && obj.__isVue;\n    },\n    body(obj) {\n      if (obj && obj.__isVue) {\n        return [\n          \"div\",\n          {},\n          ...formatInstance(obj.$)\n        ];\n      }\n    }\n  };\n  function formatInstance(instance) {\n    const blocks = [];\n    if (instance.type.props && instance.props) {\n      blocks.push(createInstanceBlock(\"props\", toRaw(instance.props)));\n    }\n    if (instance.setupState !== EMPTY_OBJ) {\n      blocks.push(createInstanceBlock(\"setup\", instance.setupState));\n    }\n    if (instance.data !== EMPTY_OBJ) {\n      blocks.push(createInstanceBlock(\"data\", toRaw(instance.data)));\n    }\n    const computed = extractKeys(instance, \"computed\");\n    if (computed) {\n      blocks.push(createInstanceBlock(\"computed\", computed));\n    }\n    const injected = extractKeys(instance, \"inject\");\n    if (injected) {\n      blocks.push(createInstanceBlock(\"injected\", injected));\n    }\n    blocks.push([\n      \"div\",\n      {},\n      [\n        \"span\",\n        {\n          style: keywordStyle.style + \";opacity:0.66\"\n        },\n        \"$ (internal): \"\n      ],\n      [\"object\", { object: instance }]\n    ]);\n    return blocks;\n  }\n  function createInstanceBlock(type, target) {\n    target = extend({}, target);\n    if (!Object.keys(target).length) {\n      return [\"span\", {}];\n    }\n    return [\n      \"div\",\n      { style: \"line-height:1.25em;margin-bottom:0.6em\" },\n      [\n        \"div\",\n        {\n          style: \"color:#476582\"\n        },\n        type\n      ],\n      [\n        \"div\",\n        {\n          style: \"padding-left:1.25em\"\n        },\n        ...Object.keys(target).map((key) => {\n          return [\n            \"div\",\n            {},\n            [\"span\", keywordStyle, key + \": \"],\n            formatValue(target[key], false)\n          ];\n        })\n      ]\n    ];\n  }\n  function formatValue(v, asRaw = true) {\n    if (typeof v === \"number\") {\n      return [\"span\", numberStyle, v];\n    } else if (typeof v === \"string\") {\n      return [\"span\", stringStyle, JSON.stringify(v)];\n    } else if (typeof v === \"boolean\") {\n      return [\"span\", keywordStyle, v];\n    } else if (isObject(v)) {\n      return [\"object\", { object: asRaw ? toRaw(v) : v }];\n    } else {\n      return [\"span\", stringStyle, String(v)];\n    }\n  }\n  function extractKeys(instance, type) {\n    const Comp = instance.type;\n    if (isFunction(Comp)) {\n      return;\n    }\n    const extracted = {};\n    for (const key in instance.ctx) {\n      if (isKeyOfType(Comp, key, type)) {\n        extracted[key] = instance.ctx[key];\n      }\n    }\n    return extracted;\n  }\n  function isKeyOfType(Comp, key, type) {\n    const opts = Comp[type];\n    if (isArray(opts) && opts.includes(key) || isObject(opts) && key in opts) {\n      return true;\n    }\n    if (Comp.extends && isKeyOfType(Comp.extends, key, type)) {\n      return true;\n    }\n    if (Comp.mixins && Comp.mixins.some((m) => isKeyOfType(m, key, type))) {\n      return true;\n    }\n  }\n  function genRefFlag(v) {\n    if (isShallow(v)) {\n      return `ShallowRef`;\n    }\n    if (v.effect) {\n      return `ComputedRef`;\n    }\n    return `Ref`;\n  }\n  if (window.devtoolsFormatters) {\n    window.devtoolsFormatters.push(formatter);\n  } else {\n    window.devtoolsFormatters = [formatter];\n  }\n}\n\nfunction withMemo(memo, render, cache, index) {\n  const cached = cache[index];\n  if (cached && isMemoSame(cached, memo)) {\n    return cached;\n  }\n  const ret = render();\n  ret.memo = memo.slice();\n  ret.cacheIndex = index;\n  return cache[index] = ret;\n}\nfunction isMemoSame(cached, memo) {\n  const prev = cached.memo;\n  if (prev.length != memo.length) {\n    return false;\n  }\n  for (let i = 0; i < prev.length; i++) {\n    if (hasChanged(prev[i], memo[i])) {\n      return false;\n    }\n  }\n  if (isBlockTreeEnabled > 0 && currentBlock) {\n    currentBlock.push(cached);\n  }\n  return true;\n}\n\nconst version = \"3.5.25\";\nconst warn = !!(process.env.NODE_ENV !== \"production\") ? warn$1 : NOOP;\nconst ErrorTypeStrings = ErrorTypeStrings$1 ;\nconst devtools = !!(process.env.NODE_ENV !== \"production\") || true ? devtools$1 : void 0;\nconst setDevtoolsHook = !!(process.env.NODE_ENV !== \"production\") || true ? setDevtoolsHook$1 : NOOP;\nconst _ssrUtils = {\n  createComponentInstance,\n  setupComponent,\n  renderComponentRoot,\n  setCurrentRenderingInstance,\n  isVNode: isVNode,\n  normalizeVNode,\n  getComponentPublicInstance,\n  ensureValidVNode,\n  pushWarningContext,\n  popWarningContext\n};\nconst ssrUtils = _ssrUtils ;\nconst resolveFilter = null;\nconst compatUtils = null;\nconst DeprecationTypes = null;\n\nexport { BaseTransition, BaseTransitionPropsValidators, Comment, DeprecationTypes, ErrorCodes, ErrorTypeStrings, Fragment, KeepAlive, Static, Suspense, Teleport, Text, assertNumber, callWithAsyncErrorHandling, callWithErrorHandling, cloneVNode, compatUtils, computed, createBlock, createCommentVNode, createElementBlock, createBaseVNode as createElementVNode, createHydrationRenderer, createPropsRestProxy, createRenderer, createSlots, createStaticVNode, createTextVNode, createVNode, defineAsyncComponent, defineComponent, defineEmits, defineExpose, defineModel, defineOptions, defineProps, defineSlots, devtools, getCurrentInstance, getTransitionRawChildren, guardReactiveProps, h, handleError, hasInjectionContext, hydrateOnIdle, hydrateOnInteraction, hydrateOnMediaQuery, hydrateOnVisible, initCustomFormatter, inject, isMemoSame, isRuntimeOnly, isVNode, mergeDefaults, mergeModels, mergeProps, nextTick, onActivated, onBeforeMount, onBeforeUnmount, onBeforeUpdate, onDeactivated, onErrorCaptured, onMounted, onRenderTracked, onRenderTriggered, onServerPrefetch, onUnmounted, onUpdated, openBlock, popScopeId, provide, pushScopeId, queuePostFlushCb, registerRuntimeCompiler, renderList, renderSlot, resolveComponent, resolveDirective, resolveDynamicComponent, resolveFilter, resolveTransitionHooks, setBlockTracking, setDevtoolsHook, setTransitionHooks, ssrContextKey, ssrUtils, toHandlers, transformVNodeArgs, useAttrs, useId, useModel, useSSRContext, useSlots, useTemplateRef, useTransitionState, version, warn, watch, watchEffect, watchPostEffect, watchSyncEffect, withAsyncContext, withCtx, withDefaults, withDirectives, withMemo, withScopeId };\n","/**\n* @vue/runtime-dom v3.5.25\n* (c) 2018-present Yuxi (Evan) You and Vue contributors\n* @license MIT\n**/\nimport { warn, BaseTransitionPropsValidators, h, BaseTransition, assertNumber, getCurrentInstance, onBeforeUpdate, queuePostFlushCb, onMounted, watch, onUnmounted, Fragment, Static, camelize, callWithAsyncErrorHandling, defineComponent, nextTick, unref, createVNode, useTransitionState, onUpdated, toRaw, getTransitionRawChildren, setTransitionHooks, resolveTransitionHooks, Text, createRenderer, createHydrationRenderer, isRuntimeOnly } from '@vue/runtime-core';\nexport * from '@vue/runtime-core';\nimport { extend, isObject, toNumber, isArray, NOOP, normalizeCssVarValue, isString, hyphenate, capitalize, isSpecialBooleanAttr, includeBooleanAttr, isSymbol, isFunction, isOn, isModelListener, camelize as camelize$1, isPlainObject, hasOwn, EMPTY_OBJ, looseToNumber, looseIndexOf, isSet, looseEqual, invokeArrayFns, isHTMLTag, isSVGTag, isMathMLTag } from '@vue/shared';\n\nlet policy = void 0;\nconst tt = typeof window !== \"undefined\" && window.trustedTypes;\nif (tt) {\n  try {\n    policy = /* @__PURE__ */ tt.createPolicy(\"vue\", {\n      createHTML: (val) => val\n    });\n  } catch (e) {\n    !!(process.env.NODE_ENV !== \"production\") && warn(`Error creating trusted types policy: ${e}`);\n  }\n}\nconst unsafeToTrustedHTML = policy ? (val) => policy.createHTML(val) : (val) => val;\nconst svgNS = \"http://www.w3.org/2000/svg\";\nconst mathmlNS = \"http://www.w3.org/1998/Math/MathML\";\nconst doc = typeof document !== \"undefined\" ? document : null;\nconst templateContainer = doc && /* @__PURE__ */ doc.createElement(\"template\");\nconst nodeOps = {\n  insert: (child, parent, anchor) => {\n    parent.insertBefore(child, anchor || null);\n  },\n  remove: (child) => {\n    const parent = child.parentNode;\n    if (parent) {\n      parent.removeChild(child);\n    }\n  },\n  createElement: (tag, namespace, is, props) => {\n    const el = namespace === \"svg\" ? doc.createElementNS(svgNS, tag) : namespace === \"mathml\" ? doc.createElementNS(mathmlNS, tag) : is ? doc.createElement(tag, { is }) : doc.createElement(tag);\n    if (tag === \"select\" && props && props.multiple != null) {\n      el.setAttribute(\"multiple\", props.multiple);\n    }\n    return el;\n  },\n  createText: (text) => doc.createTextNode(text),\n  createComment: (text) => doc.createComment(text),\n  setText: (node, text) => {\n    node.nodeValue = text;\n  },\n  setElementText: (el, text) => {\n    el.textContent = text;\n  },\n  parentNode: (node) => node.parentNode,\n  nextSibling: (node) => node.nextSibling,\n  querySelector: (selector) => doc.querySelector(selector),\n  setScopeId(el, id) {\n    el.setAttribute(id, \"\");\n  },\n  // __UNSAFE__\n  // Reason: innerHTML.\n  // Static content here can only come from compiled templates.\n  // As long as the user only uses trusted templates, this is safe.\n  insertStaticContent(content, parent, anchor, namespace, start, end) {\n    const before = anchor ? anchor.previousSibling : parent.lastChild;\n    if (start && (start === end || start.nextSibling)) {\n      while (true) {\n        parent.insertBefore(start.cloneNode(true), anchor);\n        if (start === end || !(start = start.nextSibling)) break;\n      }\n    } else {\n      templateContainer.innerHTML = unsafeToTrustedHTML(\n        namespace === \"svg\" ? `<svg>${content}</svg>` : namespace === \"mathml\" ? `<math>${content}</math>` : content\n      );\n      const template = templateContainer.content;\n      if (namespace === \"svg\" || namespace === \"mathml\") {\n        const wrapper = template.firstChild;\n        while (wrapper.firstChild) {\n          template.appendChild(wrapper.firstChild);\n        }\n        template.removeChild(wrapper);\n      }\n      parent.insertBefore(template, anchor);\n    }\n    return [\n      // first\n      before ? before.nextSibling : parent.firstChild,\n      // last\n      anchor ? anchor.previousSibling : parent.lastChild\n    ];\n  }\n};\n\nconst TRANSITION = \"transition\";\nconst ANIMATION = \"animation\";\nconst vtcKey = Symbol(\"_vtc\");\nconst DOMTransitionPropsValidators = {\n  name: String,\n  type: String,\n  css: {\n    type: Boolean,\n    default: true\n  },\n  duration: [String, Number, Object],\n  enterFromClass: String,\n  enterActiveClass: String,\n  enterToClass: String,\n  appearFromClass: String,\n  appearActiveClass: String,\n  appearToClass: String,\n  leaveFromClass: String,\n  leaveActiveClass: String,\n  leaveToClass: String\n};\nconst TransitionPropsValidators = /* @__PURE__ */ extend(\n  {},\n  BaseTransitionPropsValidators,\n  DOMTransitionPropsValidators\n);\nconst decorate$1 = (t) => {\n  t.displayName = \"Transition\";\n  t.props = TransitionPropsValidators;\n  return t;\n};\nconst Transition = /* @__PURE__ */ decorate$1(\n  (props, { slots }) => h(BaseTransition, resolveTransitionProps(props), slots)\n);\nconst callHook = (hook, args = []) => {\n  if (isArray(hook)) {\n    hook.forEach((h2) => h2(...args));\n  } else if (hook) {\n    hook(...args);\n  }\n};\nconst hasExplicitCallback = (hook) => {\n  return hook ? isArray(hook) ? hook.some((h2) => h2.length > 1) : hook.length > 1 : false;\n};\nfunction resolveTransitionProps(rawProps) {\n  const baseProps = {};\n  for (const key in rawProps) {\n    if (!(key in DOMTransitionPropsValidators)) {\n      baseProps[key] = rawProps[key];\n    }\n  }\n  if (rawProps.css === false) {\n    return baseProps;\n  }\n  const {\n    name = \"v\",\n    type,\n    duration,\n    enterFromClass = `${name}-enter-from`,\n    enterActiveClass = `${name}-enter-active`,\n    enterToClass = `${name}-enter-to`,\n    appearFromClass = enterFromClass,\n    appearActiveClass = enterActiveClass,\n    appearToClass = enterToClass,\n    leaveFromClass = `${name}-leave-from`,\n    leaveActiveClass = `${name}-leave-active`,\n    leaveToClass = `${name}-leave-to`\n  } = rawProps;\n  const durations = normalizeDuration(duration);\n  const enterDuration = durations && durations[0];\n  const leaveDuration = durations && durations[1];\n  const {\n    onBeforeEnter,\n    onEnter,\n    onEnterCancelled,\n    onLeave,\n    onLeaveCancelled,\n    onBeforeAppear = onBeforeEnter,\n    onAppear = onEnter,\n    onAppearCancelled = onEnterCancelled\n  } = baseProps;\n  const finishEnter = (el, isAppear, done, isCancelled) => {\n    el._enterCancelled = isCancelled;\n    removeTransitionClass(el, isAppear ? appearToClass : enterToClass);\n    removeTransitionClass(el, isAppear ? appearActiveClass : enterActiveClass);\n    done && done();\n  };\n  const finishLeave = (el, done) => {\n    el._isLeaving = false;\n    removeTransitionClass(el, leaveFromClass);\n    removeTransitionClass(el, leaveToClass);\n    removeTransitionClass(el, leaveActiveClass);\n    done && done();\n  };\n  const makeEnterHook = (isAppear) => {\n    return (el, done) => {\n      const hook = isAppear ? onAppear : onEnter;\n      const resolve = () => finishEnter(el, isAppear, done);\n      callHook(hook, [el, resolve]);\n      nextFrame(() => {\n        removeTransitionClass(el, isAppear ? appearFromClass : enterFromClass);\n        addTransitionClass(el, isAppear ? appearToClass : enterToClass);\n        if (!hasExplicitCallback(hook)) {\n          whenTransitionEnds(el, type, enterDuration, resolve);\n        }\n      });\n    };\n  };\n  return extend(baseProps, {\n    onBeforeEnter(el) {\n      callHook(onBeforeEnter, [el]);\n      addTransitionClass(el, enterFromClass);\n      addTransitionClass(el, enterActiveClass);\n    },\n    onBeforeAppear(el) {\n      callHook(onBeforeAppear, [el]);\n      addTransitionClass(el, appearFromClass);\n      addTransitionClass(el, appearActiveClass);\n    },\n    onEnter: makeEnterHook(false),\n    onAppear: makeEnterHook(true),\n    onLeave(el, done) {\n      el._isLeaving = true;\n      const resolve = () => finishLeave(el, done);\n      addTransitionClass(el, leaveFromClass);\n      if (!el._enterCancelled) {\n        forceReflow(el);\n        addTransitionClass(el, leaveActiveClass);\n      } else {\n        addTransitionClass(el, leaveActiveClass);\n        forceReflow(el);\n      }\n      nextFrame(() => {\n        if (!el._isLeaving) {\n          return;\n        }\n        removeTransitionClass(el, leaveFromClass);\n        addTransitionClass(el, leaveToClass);\n        if (!hasExplicitCallback(onLeave)) {\n          whenTransitionEnds(el, type, leaveDuration, resolve);\n        }\n      });\n      callHook(onLeave, [el, resolve]);\n    },\n    onEnterCancelled(el) {\n      finishEnter(el, false, void 0, true);\n      callHook(onEnterCancelled, [el]);\n    },\n    onAppearCancelled(el) {\n      finishEnter(el, true, void 0, true);\n      callHook(onAppearCancelled, [el]);\n    },\n    onLeaveCancelled(el) {\n      finishLeave(el);\n      callHook(onLeaveCancelled, [el]);\n    }\n  });\n}\nfunction normalizeDuration(duration) {\n  if (duration == null) {\n    return null;\n  } else if (isObject(duration)) {\n    return [NumberOf(duration.enter), NumberOf(duration.leave)];\n  } else {\n    const n = NumberOf(duration);\n    return [n, n];\n  }\n}\nfunction NumberOf(val) {\n  const res = toNumber(val);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    assertNumber(res, \"<transition> explicit duration\");\n  }\n  return res;\n}\nfunction addTransitionClass(el, cls) {\n  cls.split(/\\s+/).forEach((c) => c && el.classList.add(c));\n  (el[vtcKey] || (el[vtcKey] = /* @__PURE__ */ new Set())).add(cls);\n}\nfunction removeTransitionClass(el, cls) {\n  cls.split(/\\s+/).forEach((c) => c && el.classList.remove(c));\n  const _vtc = el[vtcKey];\n  if (_vtc) {\n    _vtc.delete(cls);\n    if (!_vtc.size) {\n      el[vtcKey] = void 0;\n    }\n  }\n}\nfunction nextFrame(cb) {\n  requestAnimationFrame(() => {\n    requestAnimationFrame(cb);\n  });\n}\nlet endId = 0;\nfunction whenTransitionEnds(el, expectedType, explicitTimeout, resolve) {\n  const id = el._endId = ++endId;\n  const resolveIfNotStale = () => {\n    if (id === el._endId) {\n      resolve();\n    }\n  };\n  if (explicitTimeout != null) {\n    return setTimeout(resolveIfNotStale, explicitTimeout);\n  }\n  const { type, timeout, propCount } = getTransitionInfo(el, expectedType);\n  if (!type) {\n    return resolve();\n  }\n  const endEvent = type + \"end\";\n  let ended = 0;\n  const end = () => {\n    el.removeEventListener(endEvent, onEnd);\n    resolveIfNotStale();\n  };\n  const onEnd = (e) => {\n    if (e.target === el && ++ended >= propCount) {\n      end();\n    }\n  };\n  setTimeout(() => {\n    if (ended < propCount) {\n      end();\n    }\n  }, timeout + 1);\n  el.addEventListener(endEvent, onEnd);\n}\nfunction getTransitionInfo(el, expectedType) {\n  const styles = window.getComputedStyle(el);\n  const getStyleProperties = (key) => (styles[key] || \"\").split(\", \");\n  const transitionDelays = getStyleProperties(`${TRANSITION}Delay`);\n  const transitionDurations = getStyleProperties(`${TRANSITION}Duration`);\n  const transitionTimeout = getTimeout(transitionDelays, transitionDurations);\n  const animationDelays = getStyleProperties(`${ANIMATION}Delay`);\n  const animationDurations = getStyleProperties(`${ANIMATION}Duration`);\n  const animationTimeout = getTimeout(animationDelays, animationDurations);\n  let type = null;\n  let timeout = 0;\n  let propCount = 0;\n  if (expectedType === TRANSITION) {\n    if (transitionTimeout > 0) {\n      type = TRANSITION;\n      timeout = transitionTimeout;\n      propCount = transitionDurations.length;\n    }\n  } else if (expectedType === ANIMATION) {\n    if (animationTimeout > 0) {\n      type = ANIMATION;\n      timeout = animationTimeout;\n      propCount = animationDurations.length;\n    }\n  } else {\n    timeout = Math.max(transitionTimeout, animationTimeout);\n    type = timeout > 0 ? transitionTimeout > animationTimeout ? TRANSITION : ANIMATION : null;\n    propCount = type ? type === TRANSITION ? transitionDurations.length : animationDurations.length : 0;\n  }\n  const hasTransform = type === TRANSITION && /\\b(?:transform|all)(?:,|$)/.test(\n    getStyleProperties(`${TRANSITION}Property`).toString()\n  );\n  return {\n    type,\n    timeout,\n    propCount,\n    hasTransform\n  };\n}\nfunction getTimeout(delays, durations) {\n  while (delays.length < durations.length) {\n    delays = delays.concat(delays);\n  }\n  return Math.max(...durations.map((d, i) => toMs(d) + toMs(delays[i])));\n}\nfunction toMs(s) {\n  if (s === \"auto\") return 0;\n  return Number(s.slice(0, -1).replace(\",\", \".\")) * 1e3;\n}\nfunction forceReflow(el) {\n  const targetDocument = el ? el.ownerDocument : document;\n  return targetDocument.body.offsetHeight;\n}\n\nfunction patchClass(el, value, isSVG) {\n  const transitionClasses = el[vtcKey];\n  if (transitionClasses) {\n    value = (value ? [value, ...transitionClasses] : [...transitionClasses]).join(\" \");\n  }\n  if (value == null) {\n    el.removeAttribute(\"class\");\n  } else if (isSVG) {\n    el.setAttribute(\"class\", value);\n  } else {\n    el.className = value;\n  }\n}\n\nconst vShowOriginalDisplay = Symbol(\"_vod\");\nconst vShowHidden = Symbol(\"_vsh\");\nconst vShow = {\n  // used for prop mismatch check during hydration\n  name: \"show\",\n  beforeMount(el, { value }, { transition }) {\n    el[vShowOriginalDisplay] = el.style.display === \"none\" ? \"\" : el.style.display;\n    if (transition && value) {\n      transition.beforeEnter(el);\n    } else {\n      setDisplay(el, value);\n    }\n  },\n  mounted(el, { value }, { transition }) {\n    if (transition && value) {\n      transition.enter(el);\n    }\n  },\n  updated(el, { value, oldValue }, { transition }) {\n    if (!value === !oldValue) return;\n    if (transition) {\n      if (value) {\n        transition.beforeEnter(el);\n        setDisplay(el, true);\n        transition.enter(el);\n      } else {\n        transition.leave(el, () => {\n          setDisplay(el, false);\n        });\n      }\n    } else {\n      setDisplay(el, value);\n    }\n  },\n  beforeUnmount(el, { value }) {\n    setDisplay(el, value);\n  }\n};\nfunction setDisplay(el, value) {\n  el.style.display = value ? el[vShowOriginalDisplay] : \"none\";\n  el[vShowHidden] = !value;\n}\nfunction initVShowForSSR() {\n  vShow.getSSRProps = ({ value }) => {\n    if (!value) {\n      return { style: { display: \"none\" } };\n    }\n  };\n}\n\nconst CSS_VAR_TEXT = Symbol(!!(process.env.NODE_ENV !== \"production\") ? \"CSS_VAR_TEXT\" : \"\");\nfunction useCssVars(getter) {\n  const instance = getCurrentInstance();\n  if (!instance) {\n    !!(process.env.NODE_ENV !== \"production\") && warn(`useCssVars is called without current active component instance.`);\n    return;\n  }\n  const updateTeleports = instance.ut = (vars = getter(instance.proxy)) => {\n    Array.from(\n      document.querySelectorAll(`[data-v-owner=\"${instance.uid}\"]`)\n    ).forEach((node) => setVarsOnNode(node, vars));\n  };\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    instance.getCssVars = () => getter(instance.proxy);\n  }\n  const setVars = () => {\n    const vars = getter(instance.proxy);\n    if (instance.ce) {\n      setVarsOnNode(instance.ce, vars);\n    } else {\n      setVarsOnVNode(instance.subTree, vars);\n    }\n    updateTeleports(vars);\n  };\n  onBeforeUpdate(() => {\n    queuePostFlushCb(setVars);\n  });\n  onMounted(() => {\n    watch(setVars, NOOP, { flush: \"post\" });\n    const ob = new MutationObserver(setVars);\n    ob.observe(instance.subTree.el.parentNode, { childList: true });\n    onUnmounted(() => ob.disconnect());\n  });\n}\nfunction setVarsOnVNode(vnode, vars) {\n  if (vnode.shapeFlag & 128) {\n    const suspense = vnode.suspense;\n    vnode = suspense.activeBranch;\n    if (suspense.pendingBranch && !suspense.isHydrating) {\n      suspense.effects.push(() => {\n        setVarsOnVNode(suspense.activeBranch, vars);\n      });\n    }\n  }\n  while (vnode.component) {\n    vnode = vnode.component.subTree;\n  }\n  if (vnode.shapeFlag & 1 && vnode.el) {\n    setVarsOnNode(vnode.el, vars);\n  } else if (vnode.type === Fragment) {\n    vnode.children.forEach((c) => setVarsOnVNode(c, vars));\n  } else if (vnode.type === Static) {\n    let { el, anchor } = vnode;\n    while (el) {\n      setVarsOnNode(el, vars);\n      if (el === anchor) break;\n      el = el.nextSibling;\n    }\n  }\n}\nfunction setVarsOnNode(el, vars) {\n  if (el.nodeType === 1) {\n    const style = el.style;\n    let cssText = \"\";\n    for (const key in vars) {\n      const value = normalizeCssVarValue(vars[key]);\n      style.setProperty(`--${key}`, value);\n      cssText += `--${key}: ${value};`;\n    }\n    style[CSS_VAR_TEXT] = cssText;\n  }\n}\n\nconst displayRE = /(?:^|;)\\s*display\\s*:/;\nfunction patchStyle(el, prev, next) {\n  const style = el.style;\n  const isCssString = isString(next);\n  let hasControlledDisplay = false;\n  if (next && !isCssString) {\n    if (prev) {\n      if (!isString(prev)) {\n        for (const key in prev) {\n          if (next[key] == null) {\n            setStyle(style, key, \"\");\n          }\n        }\n      } else {\n        for (const prevStyle of prev.split(\";\")) {\n          const key = prevStyle.slice(0, prevStyle.indexOf(\":\")).trim();\n          if (next[key] == null) {\n            setStyle(style, key, \"\");\n          }\n        }\n      }\n    }\n    for (const key in next) {\n      if (key === \"display\") {\n        hasControlledDisplay = true;\n      }\n      setStyle(style, key, next[key]);\n    }\n  } else {\n    if (isCssString) {\n      if (prev !== next) {\n        const cssVarText = style[CSS_VAR_TEXT];\n        if (cssVarText) {\n          next += \";\" + cssVarText;\n        }\n        style.cssText = next;\n        hasControlledDisplay = displayRE.test(next);\n      }\n    } else if (prev) {\n      el.removeAttribute(\"style\");\n    }\n  }\n  if (vShowOriginalDisplay in el) {\n    el[vShowOriginalDisplay] = hasControlledDisplay ? style.display : \"\";\n    if (el[vShowHidden]) {\n      style.display = \"none\";\n    }\n  }\n}\nconst semicolonRE = /[^\\\\];\\s*$/;\nconst importantRE = /\\s*!important$/;\nfunction setStyle(style, name, val) {\n  if (isArray(val)) {\n    val.forEach((v) => setStyle(style, name, v));\n  } else {\n    if (val == null) val = \"\";\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      if (semicolonRE.test(val)) {\n        warn(\n          `Unexpected semicolon at the end of '${name}' style value: '${val}'`\n        );\n      }\n    }\n    if (name.startsWith(\"--\")) {\n      style.setProperty(name, val);\n    } else {\n      const prefixed = autoPrefix(style, name);\n      if (importantRE.test(val)) {\n        style.setProperty(\n          hyphenate(prefixed),\n          val.replace(importantRE, \"\"),\n          \"important\"\n        );\n      } else {\n        style[prefixed] = val;\n      }\n    }\n  }\n}\nconst prefixes = [\"Webkit\", \"Moz\", \"ms\"];\nconst prefixCache = {};\nfunction autoPrefix(style, rawName) {\n  const cached = prefixCache[rawName];\n  if (cached) {\n    return cached;\n  }\n  let name = camelize(rawName);\n  if (name !== \"filter\" && name in style) {\n    return prefixCache[rawName] = name;\n  }\n  name = capitalize(name);\n  for (let i = 0; i < prefixes.length; i++) {\n    const prefixed = prefixes[i] + name;\n    if (prefixed in style) {\n      return prefixCache[rawName] = prefixed;\n    }\n  }\n  return rawName;\n}\n\nconst xlinkNS = \"http://www.w3.org/1999/xlink\";\nfunction patchAttr(el, key, value, isSVG, instance, isBoolean = isSpecialBooleanAttr(key)) {\n  if (isSVG && key.startsWith(\"xlink:\")) {\n    if (value == null) {\n      el.removeAttributeNS(xlinkNS, key.slice(6, key.length));\n    } else {\n      el.setAttributeNS(xlinkNS, key, value);\n    }\n  } else {\n    if (value == null || isBoolean && !includeBooleanAttr(value)) {\n      el.removeAttribute(key);\n    } else {\n      el.setAttribute(\n        key,\n        isBoolean ? \"\" : isSymbol(value) ? String(value) : value\n      );\n    }\n  }\n}\n\nfunction patchDOMProp(el, key, value, parentComponent, attrName) {\n  if (key === \"innerHTML\" || key === \"textContent\") {\n    if (value != null) {\n      el[key] = key === \"innerHTML\" ? unsafeToTrustedHTML(value) : value;\n    }\n    return;\n  }\n  const tag = el.tagName;\n  if (key === \"value\" && tag !== \"PROGRESS\" && // custom elements may use _value internally\n  !tag.includes(\"-\")) {\n    const oldValue = tag === \"OPTION\" ? el.getAttribute(\"value\") || \"\" : el.value;\n    const newValue = value == null ? (\n      // #11647: value should be set as empty string for null and undefined,\n      // but <input type=\"checkbox\"> should be set as 'on'.\n      el.type === \"checkbox\" ? \"on\" : \"\"\n    ) : String(value);\n    if (oldValue !== newValue || !(\"_value\" in el)) {\n      el.value = newValue;\n    }\n    if (value == null) {\n      el.removeAttribute(key);\n    }\n    el._value = value;\n    return;\n  }\n  let needRemove = false;\n  if (value === \"\" || value == null) {\n    const type = typeof el[key];\n    if (type === \"boolean\") {\n      value = includeBooleanAttr(value);\n    } else if (value == null && type === \"string\") {\n      value = \"\";\n      needRemove = true;\n    } else if (type === \"number\") {\n      value = 0;\n      needRemove = true;\n    }\n  }\n  try {\n    el[key] = value;\n  } catch (e) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !needRemove) {\n      warn(\n        `Failed setting prop \"${key}\" on <${tag.toLowerCase()}>: value ${value} is invalid.`,\n        e\n      );\n    }\n  }\n  needRemove && el.removeAttribute(attrName || key);\n}\n\nfunction addEventListener(el, event, handler, options) {\n  el.addEventListener(event, handler, options);\n}\nfunction removeEventListener(el, event, handler, options) {\n  el.removeEventListener(event, handler, options);\n}\nconst veiKey = Symbol(\"_vei\");\nfunction patchEvent(el, rawName, prevValue, nextValue, instance = null) {\n  const invokers = el[veiKey] || (el[veiKey] = {});\n  const existingInvoker = invokers[rawName];\n  if (nextValue && existingInvoker) {\n    existingInvoker.value = !!(process.env.NODE_ENV !== \"production\") ? sanitizeEventValue(nextValue, rawName) : nextValue;\n  } else {\n    const [name, options] = parseName(rawName);\n    if (nextValue) {\n      const invoker = invokers[rawName] = createInvoker(\n        !!(process.env.NODE_ENV !== \"production\") ? sanitizeEventValue(nextValue, rawName) : nextValue,\n        instance\n      );\n      addEventListener(el, name, invoker, options);\n    } else if (existingInvoker) {\n      removeEventListener(el, name, existingInvoker, options);\n      invokers[rawName] = void 0;\n    }\n  }\n}\nconst optionsModifierRE = /(?:Once|Passive|Capture)$/;\nfunction parseName(name) {\n  let options;\n  if (optionsModifierRE.test(name)) {\n    options = {};\n    let m;\n    while (m = name.match(optionsModifierRE)) {\n      name = name.slice(0, name.length - m[0].length);\n      options[m[0].toLowerCase()] = true;\n    }\n  }\n  const event = name[2] === \":\" ? name.slice(3) : hyphenate(name.slice(2));\n  return [event, options];\n}\nlet cachedNow = 0;\nconst p = /* @__PURE__ */ Promise.resolve();\nconst getNow = () => cachedNow || (p.then(() => cachedNow = 0), cachedNow = Date.now());\nfunction createInvoker(initialValue, instance) {\n  const invoker = (e) => {\n    if (!e._vts) {\n      e._vts = Date.now();\n    } else if (e._vts <= invoker.attached) {\n      return;\n    }\n    callWithAsyncErrorHandling(\n      patchStopImmediatePropagation(e, invoker.value),\n      instance,\n      5,\n      [e]\n    );\n  };\n  invoker.value = initialValue;\n  invoker.attached = getNow();\n  return invoker;\n}\nfunction sanitizeEventValue(value, propName) {\n  if (isFunction(value) || isArray(value)) {\n    return value;\n  }\n  warn(\n    `Wrong type passed as event handler to ${propName} - did you forget @ or : in front of your prop?\nExpected function or array of functions, received type ${typeof value}.`\n  );\n  return NOOP;\n}\nfunction patchStopImmediatePropagation(e, value) {\n  if (isArray(value)) {\n    const originalStop = e.stopImmediatePropagation;\n    e.stopImmediatePropagation = () => {\n      originalStop.call(e);\n      e._stopped = true;\n    };\n    return value.map(\n      (fn) => (e2) => !e2._stopped && fn && fn(e2)\n    );\n  } else {\n    return value;\n  }\n}\n\nconst isNativeOn = (key) => key.charCodeAt(0) === 111 && key.charCodeAt(1) === 110 && // lowercase letter\nkey.charCodeAt(2) > 96 && key.charCodeAt(2) < 123;\nconst patchProp = (el, key, prevValue, nextValue, namespace, parentComponent) => {\n  const isSVG = namespace === \"svg\";\n  if (key === \"class\") {\n    patchClass(el, nextValue, isSVG);\n  } else if (key === \"style\") {\n    patchStyle(el, prevValue, nextValue);\n  } else if (isOn(key)) {\n    if (!isModelListener(key)) {\n      patchEvent(el, key, prevValue, nextValue, parentComponent);\n    }\n  } else if (key[0] === \".\" ? (key = key.slice(1), true) : key[0] === \"^\" ? (key = key.slice(1), false) : shouldSetAsProp(el, key, nextValue, isSVG)) {\n    patchDOMProp(el, key, nextValue);\n    if (!el.tagName.includes(\"-\") && (key === \"value\" || key === \"checked\" || key === \"selected\")) {\n      patchAttr(el, key, nextValue, isSVG, parentComponent, key !== \"value\");\n    }\n  } else if (\n    // #11081 force set props for possible async custom element\n    el._isVueCE && (/[A-Z]/.test(key) || !isString(nextValue))\n  ) {\n    patchDOMProp(el, camelize$1(key), nextValue, parentComponent, key);\n  } else {\n    if (key === \"true-value\") {\n      el._trueValue = nextValue;\n    } else if (key === \"false-value\") {\n      el._falseValue = nextValue;\n    }\n    patchAttr(el, key, nextValue, isSVG);\n  }\n};\nfunction shouldSetAsProp(el, key, value, isSVG) {\n  if (isSVG) {\n    if (key === \"innerHTML\" || key === \"textContent\") {\n      return true;\n    }\n    if (key in el && isNativeOn(key) && isFunction(value)) {\n      return true;\n    }\n    return false;\n  }\n  if (key === \"spellcheck\" || key === \"draggable\" || key === \"translate\" || key === \"autocorrect\") {\n    return false;\n  }\n  if (key === \"sandbox\" && el.tagName === \"IFRAME\") {\n    return false;\n  }\n  if (key === \"form\") {\n    return false;\n  }\n  if (key === \"list\" && el.tagName === \"INPUT\") {\n    return false;\n  }\n  if (key === \"type\" && el.tagName === \"TEXTAREA\") {\n    return false;\n  }\n  if (key === \"width\" || key === \"height\") {\n    const tag = el.tagName;\n    if (tag === \"IMG\" || tag === \"VIDEO\" || tag === \"CANVAS\" || tag === \"SOURCE\") {\n      return false;\n    }\n  }\n  if (isNativeOn(key) && isString(value)) {\n    return false;\n  }\n  return key in el;\n}\n\nconst REMOVAL = {};\n// @__NO_SIDE_EFFECTS__\nfunction defineCustomElement(options, extraOptions, _createApp) {\n  let Comp = defineComponent(options, extraOptions);\n  if (isPlainObject(Comp)) Comp = extend({}, Comp, extraOptions);\n  class VueCustomElement extends VueElement {\n    constructor(initialProps) {\n      super(Comp, initialProps, _createApp);\n    }\n  }\n  VueCustomElement.def = Comp;\n  return VueCustomElement;\n}\nconst defineSSRCustomElement = (/* @__NO_SIDE_EFFECTS__ */ (options, extraOptions) => {\n  return /* @__PURE__ */ defineCustomElement(options, extraOptions, createSSRApp);\n});\nconst BaseClass = typeof HTMLElement !== \"undefined\" ? HTMLElement : class {\n};\nclass VueElement extends BaseClass {\n  constructor(_def, _props = {}, _createApp = createApp) {\n    super();\n    this._def = _def;\n    this._props = _props;\n    this._createApp = _createApp;\n    this._isVueCE = true;\n    /**\n     * @internal\n     */\n    this._instance = null;\n    /**\n     * @internal\n     */\n    this._app = null;\n    /**\n     * @internal\n     */\n    this._nonce = this._def.nonce;\n    this._connected = false;\n    this._resolved = false;\n    this._patching = false;\n    this._dirty = false;\n    this._numberProps = null;\n    this._styleChildren = /* @__PURE__ */ new WeakSet();\n    this._ob = null;\n    if (this.shadowRoot && _createApp !== createApp) {\n      this._root = this.shadowRoot;\n    } else {\n      if (!!(process.env.NODE_ENV !== \"production\") && this.shadowRoot) {\n        warn(\n          `Custom element has pre-rendered declarative shadow root but is not defined as hydratable. Use \\`defineSSRCustomElement\\`.`\n        );\n      }\n      if (_def.shadowRoot !== false) {\n        this.attachShadow(\n          extend({}, _def.shadowRootOptions, {\n            mode: \"open\"\n          })\n        );\n        this._root = this.shadowRoot;\n      } else {\n        this._root = this;\n      }\n    }\n  }\n  connectedCallback() {\n    if (!this.isConnected) return;\n    if (!this.shadowRoot && !this._resolved) {\n      this._parseSlots();\n    }\n    this._connected = true;\n    let parent = this;\n    while (parent = parent && (parent.parentNode || parent.host)) {\n      if (parent instanceof VueElement) {\n        this._parent = parent;\n        break;\n      }\n    }\n    if (!this._instance) {\n      if (this._resolved) {\n        this._mount(this._def);\n      } else {\n        if (parent && parent._pendingResolve) {\n          this._pendingResolve = parent._pendingResolve.then(() => {\n            this._pendingResolve = void 0;\n            this._resolveDef();\n          });\n        } else {\n          this._resolveDef();\n        }\n      }\n    }\n  }\n  _setParent(parent = this._parent) {\n    if (parent) {\n      this._instance.parent = parent._instance;\n      this._inheritParentContext(parent);\n    }\n  }\n  _inheritParentContext(parent = this._parent) {\n    if (parent && this._app) {\n      Object.setPrototypeOf(\n        this._app._context.provides,\n        parent._instance.provides\n      );\n    }\n  }\n  disconnectedCallback() {\n    this._connected = false;\n    nextTick(() => {\n      if (!this._connected) {\n        if (this._ob) {\n          this._ob.disconnect();\n          this._ob = null;\n        }\n        this._app && this._app.unmount();\n        if (this._instance) this._instance.ce = void 0;\n        this._app = this._instance = null;\n        if (this._teleportTargets) {\n          this._teleportTargets.clear();\n          this._teleportTargets = void 0;\n        }\n      }\n    });\n  }\n  _processMutations(mutations) {\n    for (const m of mutations) {\n      this._setAttr(m.attributeName);\n    }\n  }\n  /**\n   * resolve inner component definition (handle possible async component)\n   */\n  _resolveDef() {\n    if (this._pendingResolve) {\n      return;\n    }\n    for (let i = 0; i < this.attributes.length; i++) {\n      this._setAttr(this.attributes[i].name);\n    }\n    this._ob = new MutationObserver(this._processMutations.bind(this));\n    this._ob.observe(this, { attributes: true });\n    const resolve = (def, isAsync = false) => {\n      this._resolved = true;\n      this._pendingResolve = void 0;\n      const { props, styles } = def;\n      let numberProps;\n      if (props && !isArray(props)) {\n        for (const key in props) {\n          const opt = props[key];\n          if (opt === Number || opt && opt.type === Number) {\n            if (key in this._props) {\n              this._props[key] = toNumber(this._props[key]);\n            }\n            (numberProps || (numberProps = /* @__PURE__ */ Object.create(null)))[camelize$1(key)] = true;\n          }\n        }\n      }\n      this._numberProps = numberProps;\n      this._resolveProps(def);\n      if (this.shadowRoot) {\n        this._applyStyles(styles);\n      } else if (!!(process.env.NODE_ENV !== \"production\") && styles) {\n        warn(\n          \"Custom element style injection is not supported when using shadowRoot: false\"\n        );\n      }\n      this._mount(def);\n    };\n    const asyncDef = this._def.__asyncLoader;\n    if (asyncDef) {\n      this._pendingResolve = asyncDef().then((def) => {\n        def.configureApp = this._def.configureApp;\n        resolve(this._def = def, true);\n      });\n    } else {\n      resolve(this._def);\n    }\n  }\n  _mount(def) {\n    if ((!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) && !def.name) {\n      def.name = \"VueElement\";\n    }\n    this._app = this._createApp(def);\n    this._inheritParentContext();\n    if (def.configureApp) {\n      def.configureApp(this._app);\n    }\n    this._app._ceVNode = this._createVNode();\n    this._app.mount(this._root);\n    const exposed = this._instance && this._instance.exposed;\n    if (!exposed) return;\n    for (const key in exposed) {\n      if (!hasOwn(this, key)) {\n        Object.defineProperty(this, key, {\n          // unwrap ref to be consistent with public instance behavior\n          get: () => unref(exposed[key])\n        });\n      } else if (!!(process.env.NODE_ENV !== \"production\")) {\n        warn(`Exposed property \"${key}\" already exists on custom element.`);\n      }\n    }\n  }\n  _resolveProps(def) {\n    const { props } = def;\n    const declaredPropKeys = isArray(props) ? props : Object.keys(props || {});\n    for (const key of Object.keys(this)) {\n      if (key[0] !== \"_\" && declaredPropKeys.includes(key)) {\n        this._setProp(key, this[key]);\n      }\n    }\n    for (const key of declaredPropKeys.map(camelize$1)) {\n      Object.defineProperty(this, key, {\n        get() {\n          return this._getProp(key);\n        },\n        set(val) {\n          this._setProp(key, val, true, !this._patching);\n        }\n      });\n    }\n  }\n  _setAttr(key) {\n    if (key.startsWith(\"data-v-\")) return;\n    const has = this.hasAttribute(key);\n    let value = has ? this.getAttribute(key) : REMOVAL;\n    const camelKey = camelize$1(key);\n    if (has && this._numberProps && this._numberProps[camelKey]) {\n      value = toNumber(value);\n    }\n    this._setProp(camelKey, value, false, true);\n  }\n  /**\n   * @internal\n   */\n  _getProp(key) {\n    return this._props[key];\n  }\n  /**\n   * @internal\n   */\n  _setProp(key, val, shouldReflect = true, shouldUpdate = false) {\n    if (val !== this._props[key]) {\n      this._dirty = true;\n      if (val === REMOVAL) {\n        delete this._props[key];\n      } else {\n        this._props[key] = val;\n        if (key === \"key\" && this._app) {\n          this._app._ceVNode.key = val;\n        }\n      }\n      if (shouldUpdate && this._instance) {\n        this._update();\n      }\n      if (shouldReflect) {\n        const ob = this._ob;\n        if (ob) {\n          this._processMutations(ob.takeRecords());\n          ob.disconnect();\n        }\n        if (val === true) {\n          this.setAttribute(hyphenate(key), \"\");\n        } else if (typeof val === \"string\" || typeof val === \"number\") {\n          this.setAttribute(hyphenate(key), val + \"\");\n        } else if (!val) {\n          this.removeAttribute(hyphenate(key));\n        }\n        ob && ob.observe(this, { attributes: true });\n      }\n    }\n  }\n  _update() {\n    const vnode = this._createVNode();\n    if (this._app) vnode.appContext = this._app._context;\n    render(vnode, this._root);\n  }\n  _createVNode() {\n    const baseProps = {};\n    if (!this.shadowRoot) {\n      baseProps.onVnodeMounted = baseProps.onVnodeUpdated = this._renderSlots.bind(this);\n    }\n    const vnode = createVNode(this._def, extend(baseProps, this._props));\n    if (!this._instance) {\n      vnode.ce = (instance) => {\n        this._instance = instance;\n        instance.ce = this;\n        instance.isCE = true;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          instance.ceReload = (newStyles) => {\n            if (this._styles) {\n              this._styles.forEach((s) => this._root.removeChild(s));\n              this._styles.length = 0;\n            }\n            this._applyStyles(newStyles);\n            this._instance = null;\n            this._update();\n          };\n        }\n        const dispatch = (event, args) => {\n          this.dispatchEvent(\n            new CustomEvent(\n              event,\n              isPlainObject(args[0]) ? extend({ detail: args }, args[0]) : { detail: args }\n            )\n          );\n        };\n        instance.emit = (event, ...args) => {\n          dispatch(event, args);\n          if (hyphenate(event) !== event) {\n            dispatch(hyphenate(event), args);\n          }\n        };\n        this._setParent();\n      };\n    }\n    return vnode;\n  }\n  _applyStyles(styles, owner) {\n    if (!styles) return;\n    if (owner) {\n      if (owner === this._def || this._styleChildren.has(owner)) {\n        return;\n      }\n      this._styleChildren.add(owner);\n    }\n    const nonce = this._nonce;\n    for (let i = styles.length - 1; i >= 0; i--) {\n      const s = document.createElement(\"style\");\n      if (nonce) s.setAttribute(\"nonce\", nonce);\n      s.textContent = styles[i];\n      this.shadowRoot.prepend(s);\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        if (owner) {\n          if (owner.__hmrId) {\n            if (!this._childStyles) this._childStyles = /* @__PURE__ */ new Map();\n            let entry = this._childStyles.get(owner.__hmrId);\n            if (!entry) {\n              this._childStyles.set(owner.__hmrId, entry = []);\n            }\n            entry.push(s);\n          }\n        } else {\n          (this._styles || (this._styles = [])).push(s);\n        }\n      }\n    }\n  }\n  /**\n   * Only called when shadowRoot is false\n   */\n  _parseSlots() {\n    const slots = this._slots = {};\n    let n;\n    while (n = this.firstChild) {\n      const slotName = n.nodeType === 1 && n.getAttribute(\"slot\") || \"default\";\n      (slots[slotName] || (slots[slotName] = [])).push(n);\n      this.removeChild(n);\n    }\n  }\n  /**\n   * Only called when shadowRoot is false\n   */\n  _renderSlots() {\n    const outlets = this._getSlots();\n    const scopeId = this._instance.type.__scopeId;\n    for (let i = 0; i < outlets.length; i++) {\n      const o = outlets[i];\n      const slotName = o.getAttribute(\"name\") || \"default\";\n      const content = this._slots[slotName];\n      const parent = o.parentNode;\n      if (content) {\n        for (const n of content) {\n          if (scopeId && n.nodeType === 1) {\n            const id = scopeId + \"-s\";\n            const walker = document.createTreeWalker(n, 1);\n            n.setAttribute(id, \"\");\n            let child;\n            while (child = walker.nextNode()) {\n              child.setAttribute(id, \"\");\n            }\n          }\n          parent.insertBefore(n, o);\n        }\n      } else {\n        while (o.firstChild) parent.insertBefore(o.firstChild, o);\n      }\n      parent.removeChild(o);\n    }\n  }\n  /**\n   * @internal\n   */\n  _getSlots() {\n    const roots = [this];\n    if (this._teleportTargets) {\n      roots.push(...this._teleportTargets);\n    }\n    const slots = /* @__PURE__ */ new Set();\n    for (const root of roots) {\n      const found = root.querySelectorAll(\"slot\");\n      for (let i = 0; i < found.length; i++) {\n        slots.add(found[i]);\n      }\n    }\n    return Array.from(slots);\n  }\n  /**\n   * @internal\n   */\n  _injectChildStyle(comp) {\n    this._applyStyles(comp.styles, comp);\n  }\n  /**\n   * @internal\n   */\n  _beginPatch() {\n    this._patching = true;\n    this._dirty = false;\n  }\n  /**\n   * @internal\n   */\n  _endPatch() {\n    this._patching = false;\n    if (this._dirty && this._instance) {\n      this._update();\n    }\n  }\n  /**\n   * @internal\n   */\n  _removeChildStyle(comp) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      this._styleChildren.delete(comp);\n      if (this._childStyles && comp.__hmrId) {\n        const oldStyles = this._childStyles.get(comp.__hmrId);\n        if (oldStyles) {\n          oldStyles.forEach((s) => this._root.removeChild(s));\n          oldStyles.length = 0;\n        }\n      }\n    }\n  }\n}\nfunction useHost(caller) {\n  const instance = getCurrentInstance();\n  const el = instance && instance.ce;\n  if (el) {\n    return el;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    if (!instance) {\n      warn(\n        `${caller || \"useHost\"} called without an active component instance.`\n      );\n    } else {\n      warn(\n        `${caller || \"useHost\"} can only be used in components defined via defineCustomElement.`\n      );\n    }\n  }\n  return null;\n}\nfunction useShadowRoot() {\n  const el = !!(process.env.NODE_ENV !== \"production\") ? useHost(\"useShadowRoot\") : useHost();\n  return el && el.shadowRoot;\n}\n\nfunction useCssModule(name = \"$style\") {\n  {\n    const instance = getCurrentInstance();\n    if (!instance) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`useCssModule must be called inside setup()`);\n      return EMPTY_OBJ;\n    }\n    const modules = instance.type.__cssModules;\n    if (!modules) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`Current instance does not have CSS modules injected.`);\n      return EMPTY_OBJ;\n    }\n    const mod = modules[name];\n    if (!mod) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`Current instance does not have CSS module named \"${name}\".`);\n      return EMPTY_OBJ;\n    }\n    return mod;\n  }\n}\n\nconst positionMap = /* @__PURE__ */ new WeakMap();\nconst newPositionMap = /* @__PURE__ */ new WeakMap();\nconst moveCbKey = Symbol(\"_moveCb\");\nconst enterCbKey = Symbol(\"_enterCb\");\nconst decorate = (t) => {\n  delete t.props.mode;\n  return t;\n};\nconst TransitionGroupImpl = /* @__PURE__ */ decorate({\n  name: \"TransitionGroup\",\n  props: /* @__PURE__ */ extend({}, TransitionPropsValidators, {\n    tag: String,\n    moveClass: String\n  }),\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const state = useTransitionState();\n    let prevChildren;\n    let children;\n    onUpdated(() => {\n      if (!prevChildren.length) {\n        return;\n      }\n      const moveClass = props.moveClass || `${props.name || \"v\"}-move`;\n      if (!hasCSSTransform(\n        prevChildren[0].el,\n        instance.vnode.el,\n        moveClass\n      )) {\n        prevChildren = [];\n        return;\n      }\n      prevChildren.forEach(callPendingCbs);\n      prevChildren.forEach(recordPosition);\n      const movedChildren = prevChildren.filter(applyTranslation);\n      forceReflow(instance.vnode.el);\n      movedChildren.forEach((c) => {\n        const el = c.el;\n        const style = el.style;\n        addTransitionClass(el, moveClass);\n        style.transform = style.webkitTransform = style.transitionDuration = \"\";\n        const cb = el[moveCbKey] = (e) => {\n          if (e && e.target !== el) {\n            return;\n          }\n          if (!e || e.propertyName.endsWith(\"transform\")) {\n            el.removeEventListener(\"transitionend\", cb);\n            el[moveCbKey] = null;\n            removeTransitionClass(el, moveClass);\n          }\n        };\n        el.addEventListener(\"transitionend\", cb);\n      });\n      prevChildren = [];\n    });\n    return () => {\n      const rawProps = toRaw(props);\n      const cssTransitionProps = resolveTransitionProps(rawProps);\n      let tag = rawProps.tag || Fragment;\n      prevChildren = [];\n      if (children) {\n        for (let i = 0; i < children.length; i++) {\n          const child = children[i];\n          if (child.el && child.el instanceof Element) {\n            prevChildren.push(child);\n            setTransitionHooks(\n              child,\n              resolveTransitionHooks(\n                child,\n                cssTransitionProps,\n                state,\n                instance\n              )\n            );\n            positionMap.set(child, {\n              left: child.el.offsetLeft,\n              top: child.el.offsetTop\n            });\n          }\n        }\n      }\n      children = slots.default ? getTransitionRawChildren(slots.default()) : [];\n      for (let i = 0; i < children.length; i++) {\n        const child = children[i];\n        if (child.key != null) {\n          setTransitionHooks(\n            child,\n            resolveTransitionHooks(child, cssTransitionProps, state, instance)\n          );\n        } else if (!!(process.env.NODE_ENV !== \"production\") && child.type !== Text) {\n          warn(`<TransitionGroup> children must be keyed.`);\n        }\n      }\n      return createVNode(tag, null, children);\n    };\n  }\n});\nconst TransitionGroup = TransitionGroupImpl;\nfunction callPendingCbs(c) {\n  const el = c.el;\n  if (el[moveCbKey]) {\n    el[moveCbKey]();\n  }\n  if (el[enterCbKey]) {\n    el[enterCbKey]();\n  }\n}\nfunction recordPosition(c) {\n  newPositionMap.set(c, {\n    left: c.el.offsetLeft,\n    top: c.el.offsetTop\n  });\n}\nfunction applyTranslation(c) {\n  const oldPos = positionMap.get(c);\n  const newPos = newPositionMap.get(c);\n  const dx = oldPos.left - newPos.left;\n  const dy = oldPos.top - newPos.top;\n  if (dx || dy) {\n    const s = c.el.style;\n    s.transform = s.webkitTransform = `translate(${dx}px,${dy}px)`;\n    s.transitionDuration = \"0s\";\n    return c;\n  }\n}\nfunction hasCSSTransform(el, root, moveClass) {\n  const clone = el.cloneNode();\n  const _vtc = el[vtcKey];\n  if (_vtc) {\n    _vtc.forEach((cls) => {\n      cls.split(/\\s+/).forEach((c) => c && clone.classList.remove(c));\n    });\n  }\n  moveClass.split(/\\s+/).forEach((c) => c && clone.classList.add(c));\n  clone.style.display = \"none\";\n  const container = root.nodeType === 1 ? root : root.parentNode;\n  container.appendChild(clone);\n  const { hasTransform } = getTransitionInfo(clone);\n  container.removeChild(clone);\n  return hasTransform;\n}\n\nconst getModelAssigner = (vnode) => {\n  const fn = vnode.props[\"onUpdate:modelValue\"] || false;\n  return isArray(fn) ? (value) => invokeArrayFns(fn, value) : fn;\n};\nfunction onCompositionStart(e) {\n  e.target.composing = true;\n}\nfunction onCompositionEnd(e) {\n  const target = e.target;\n  if (target.composing) {\n    target.composing = false;\n    target.dispatchEvent(new Event(\"input\"));\n  }\n}\nconst assignKey = Symbol(\"_assign\");\nfunction castValue(value, trim, number) {\n  if (trim) value = value.trim();\n  if (number) value = looseToNumber(value);\n  return value;\n}\nconst vModelText = {\n  created(el, { modifiers: { lazy, trim, number } }, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    const castToNumber = number || vnode.props && vnode.props.type === \"number\";\n    addEventListener(el, lazy ? \"change\" : \"input\", (e) => {\n      if (e.target.composing) return;\n      el[assignKey](castValue(el.value, trim, castToNumber));\n    });\n    if (trim || castToNumber) {\n      addEventListener(el, \"change\", () => {\n        el.value = castValue(el.value, trim, castToNumber);\n      });\n    }\n    if (!lazy) {\n      addEventListener(el, \"compositionstart\", onCompositionStart);\n      addEventListener(el, \"compositionend\", onCompositionEnd);\n      addEventListener(el, \"change\", onCompositionEnd);\n    }\n  },\n  // set value on mounted so it's after min/max for type=\"range\"\n  mounted(el, { value }) {\n    el.value = value == null ? \"\" : value;\n  },\n  beforeUpdate(el, { value, oldValue, modifiers: { lazy, trim, number } }, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    if (el.composing) return;\n    const elValue = (number || el.type === \"number\") && !/^0\\d/.test(el.value) ? looseToNumber(el.value) : el.value;\n    const newValue = value == null ? \"\" : value;\n    if (elValue === newValue) {\n      return;\n    }\n    if (document.activeElement === el && el.type !== \"range\") {\n      if (lazy && value === oldValue) {\n        return;\n      }\n      if (trim && el.value.trim() === newValue) {\n        return;\n      }\n    }\n    el.value = newValue;\n  }\n};\nconst vModelCheckbox = {\n  // #4096 array checkboxes need to be deep traversed\n  deep: true,\n  created(el, _, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    addEventListener(el, \"change\", () => {\n      const modelValue = el._modelValue;\n      const elementValue = getValue(el);\n      const checked = el.checked;\n      const assign = el[assignKey];\n      if (isArray(modelValue)) {\n        const index = looseIndexOf(modelValue, elementValue);\n        const found = index !== -1;\n        if (checked && !found) {\n          assign(modelValue.concat(elementValue));\n        } else if (!checked && found) {\n          const filtered = [...modelValue];\n          filtered.splice(index, 1);\n          assign(filtered);\n        }\n      } else if (isSet(modelValue)) {\n        const cloned = new Set(modelValue);\n        if (checked) {\n          cloned.add(elementValue);\n        } else {\n          cloned.delete(elementValue);\n        }\n        assign(cloned);\n      } else {\n        assign(getCheckboxValue(el, checked));\n      }\n    });\n  },\n  // set initial checked on mount to wait for true-value/false-value\n  mounted: setChecked,\n  beforeUpdate(el, binding, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    setChecked(el, binding, vnode);\n  }\n};\nfunction setChecked(el, { value, oldValue }, vnode) {\n  el._modelValue = value;\n  let checked;\n  if (isArray(value)) {\n    checked = looseIndexOf(value, vnode.props.value) > -1;\n  } else if (isSet(value)) {\n    checked = value.has(vnode.props.value);\n  } else {\n    if (value === oldValue) return;\n    checked = looseEqual(value, getCheckboxValue(el, true));\n  }\n  if (el.checked !== checked) {\n    el.checked = checked;\n  }\n}\nconst vModelRadio = {\n  created(el, { value }, vnode) {\n    el.checked = looseEqual(value, vnode.props.value);\n    el[assignKey] = getModelAssigner(vnode);\n    addEventListener(el, \"change\", () => {\n      el[assignKey](getValue(el));\n    });\n  },\n  beforeUpdate(el, { value, oldValue }, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    if (value !== oldValue) {\n      el.checked = looseEqual(value, vnode.props.value);\n    }\n  }\n};\nconst vModelSelect = {\n  // <select multiple> value need to be deep traversed\n  deep: true,\n  created(el, { value, modifiers: { number } }, vnode) {\n    const isSetModel = isSet(value);\n    addEventListener(el, \"change\", () => {\n      const selectedVal = Array.prototype.filter.call(el.options, (o) => o.selected).map(\n        (o) => number ? looseToNumber(getValue(o)) : getValue(o)\n      );\n      el[assignKey](\n        el.multiple ? isSetModel ? new Set(selectedVal) : selectedVal : selectedVal[0]\n      );\n      el._assigning = true;\n      nextTick(() => {\n        el._assigning = false;\n      });\n    });\n    el[assignKey] = getModelAssigner(vnode);\n  },\n  // set value in mounted & updated because <select> relies on its children\n  // <option>s.\n  mounted(el, { value }) {\n    setSelected(el, value);\n  },\n  beforeUpdate(el, _binding, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n  },\n  updated(el, { value }) {\n    if (!el._assigning) {\n      setSelected(el, value);\n    }\n  }\n};\nfunction setSelected(el, value) {\n  const isMultiple = el.multiple;\n  const isArrayValue = isArray(value);\n  if (isMultiple && !isArrayValue && !isSet(value)) {\n    !!(process.env.NODE_ENV !== \"production\") && warn(\n      `<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(value).slice(8, -1)}.`\n    );\n    return;\n  }\n  for (let i = 0, l = el.options.length; i < l; i++) {\n    const option = el.options[i];\n    const optionValue = getValue(option);\n    if (isMultiple) {\n      if (isArrayValue) {\n        const optionType = typeof optionValue;\n        if (optionType === \"string\" || optionType === \"number\") {\n          option.selected = value.some((v) => String(v) === String(optionValue));\n        } else {\n          option.selected = looseIndexOf(value, optionValue) > -1;\n        }\n      } else {\n        option.selected = value.has(optionValue);\n      }\n    } else if (looseEqual(getValue(option), value)) {\n      if (el.selectedIndex !== i) el.selectedIndex = i;\n      return;\n    }\n  }\n  if (!isMultiple && el.selectedIndex !== -1) {\n    el.selectedIndex = -1;\n  }\n}\nfunction getValue(el) {\n  return \"_value\" in el ? el._value : el.value;\n}\nfunction getCheckboxValue(el, checked) {\n  const key = checked ? \"_trueValue\" : \"_falseValue\";\n  return key in el ? el[key] : checked;\n}\nconst vModelDynamic = {\n  created(el, binding, vnode) {\n    callModelHook(el, binding, vnode, null, \"created\");\n  },\n  mounted(el, binding, vnode) {\n    callModelHook(el, binding, vnode, null, \"mounted\");\n  },\n  beforeUpdate(el, binding, vnode, prevVNode) {\n    callModelHook(el, binding, vnode, prevVNode, \"beforeUpdate\");\n  },\n  updated(el, binding, vnode, prevVNode) {\n    callModelHook(el, binding, vnode, prevVNode, \"updated\");\n  }\n};\nfunction resolveDynamicModel(tagName, type) {\n  switch (tagName) {\n    case \"SELECT\":\n      return vModelSelect;\n    case \"TEXTAREA\":\n      return vModelText;\n    default:\n      switch (type) {\n        case \"checkbox\":\n          return vModelCheckbox;\n        case \"radio\":\n          return vModelRadio;\n        default:\n          return vModelText;\n      }\n  }\n}\nfunction callModelHook(el, binding, vnode, prevVNode, hook) {\n  const modelToUse = resolveDynamicModel(\n    el.tagName,\n    vnode.props && vnode.props.type\n  );\n  const fn = modelToUse[hook];\n  fn && fn(el, binding, vnode, prevVNode);\n}\nfunction initVModelForSSR() {\n  vModelText.getSSRProps = ({ value }) => ({ value });\n  vModelRadio.getSSRProps = ({ value }, vnode) => {\n    if (vnode.props && looseEqual(vnode.props.value, value)) {\n      return { checked: true };\n    }\n  };\n  vModelCheckbox.getSSRProps = ({ value }, vnode) => {\n    if (isArray(value)) {\n      if (vnode.props && looseIndexOf(value, vnode.props.value) > -1) {\n        return { checked: true };\n      }\n    } else if (isSet(value)) {\n      if (vnode.props && value.has(vnode.props.value)) {\n        return { checked: true };\n      }\n    } else if (value) {\n      return { checked: true };\n    }\n  };\n  vModelDynamic.getSSRProps = (binding, vnode) => {\n    if (typeof vnode.type !== \"string\") {\n      return;\n    }\n    const modelToUse = resolveDynamicModel(\n      // resolveDynamicModel expects an uppercase tag name, but vnode.type is lowercase\n      vnode.type.toUpperCase(),\n      vnode.props && vnode.props.type\n    );\n    if (modelToUse.getSSRProps) {\n      return modelToUse.getSSRProps(binding, vnode);\n    }\n  };\n}\n\nconst systemModifiers = [\"ctrl\", \"shift\", \"alt\", \"meta\"];\nconst modifierGuards = {\n  stop: (e) => e.stopPropagation(),\n  prevent: (e) => e.preventDefault(),\n  self: (e) => e.target !== e.currentTarget,\n  ctrl: (e) => !e.ctrlKey,\n  shift: (e) => !e.shiftKey,\n  alt: (e) => !e.altKey,\n  meta: (e) => !e.metaKey,\n  left: (e) => \"button\" in e && e.button !== 0,\n  middle: (e) => \"button\" in e && e.button !== 1,\n  right: (e) => \"button\" in e && e.button !== 2,\n  exact: (e, modifiers) => systemModifiers.some((m) => e[`${m}Key`] && !modifiers.includes(m))\n};\nconst withModifiers = (fn, modifiers) => {\n  const cache = fn._withMods || (fn._withMods = {});\n  const cacheKey = modifiers.join(\".\");\n  return cache[cacheKey] || (cache[cacheKey] = ((event, ...args) => {\n    for (let i = 0; i < modifiers.length; i++) {\n      const guard = modifierGuards[modifiers[i]];\n      if (guard && guard(event, modifiers)) return;\n    }\n    return fn(event, ...args);\n  }));\n};\nconst keyNames = {\n  esc: \"escape\",\n  space: \" \",\n  up: \"arrow-up\",\n  left: \"arrow-left\",\n  right: \"arrow-right\",\n  down: \"arrow-down\",\n  delete: \"backspace\"\n};\nconst withKeys = (fn, modifiers) => {\n  const cache = fn._withKeys || (fn._withKeys = {});\n  const cacheKey = modifiers.join(\".\");\n  return cache[cacheKey] || (cache[cacheKey] = ((event) => {\n    if (!(\"key\" in event)) {\n      return;\n    }\n    const eventKey = hyphenate(event.key);\n    if (modifiers.some(\n      (k) => k === eventKey || keyNames[k] === eventKey\n    )) {\n      return fn(event);\n    }\n  }));\n};\n\nconst rendererOptions = /* @__PURE__ */ extend({ patchProp }, nodeOps);\nlet renderer;\nlet enabledHydration = false;\nfunction ensureRenderer() {\n  return renderer || (renderer = createRenderer(rendererOptions));\n}\nfunction ensureHydrationRenderer() {\n  renderer = enabledHydration ? renderer : createHydrationRenderer(rendererOptions);\n  enabledHydration = true;\n  return renderer;\n}\nconst render = ((...args) => {\n  ensureRenderer().render(...args);\n});\nconst hydrate = ((...args) => {\n  ensureHydrationRenderer().hydrate(...args);\n});\nconst createApp = ((...args) => {\n  const app = ensureRenderer().createApp(...args);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    injectNativeTagCheck(app);\n    injectCompilerOptionsCheck(app);\n  }\n  const { mount } = app;\n  app.mount = (containerOrSelector) => {\n    const container = normalizeContainer(containerOrSelector);\n    if (!container) return;\n    const component = app._component;\n    if (!isFunction(component) && !component.render && !component.template) {\n      component.template = container.innerHTML;\n    }\n    if (container.nodeType === 1) {\n      container.textContent = \"\";\n    }\n    const proxy = mount(container, false, resolveRootNamespace(container));\n    if (container instanceof Element) {\n      container.removeAttribute(\"v-cloak\");\n      container.setAttribute(\"data-v-app\", \"\");\n    }\n    return proxy;\n  };\n  return app;\n});\nconst createSSRApp = ((...args) => {\n  const app = ensureHydrationRenderer().createApp(...args);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    injectNativeTagCheck(app);\n    injectCompilerOptionsCheck(app);\n  }\n  const { mount } = app;\n  app.mount = (containerOrSelector) => {\n    const container = normalizeContainer(containerOrSelector);\n    if (container) {\n      return mount(container, true, resolveRootNamespace(container));\n    }\n  };\n  return app;\n});\nfunction resolveRootNamespace(container) {\n  if (container instanceof SVGElement) {\n    return \"svg\";\n  }\n  if (typeof MathMLElement === \"function\" && container instanceof MathMLElement) {\n    return \"mathml\";\n  }\n}\nfunction injectNativeTagCheck(app) {\n  Object.defineProperty(app.config, \"isNativeTag\", {\n    value: (tag) => isHTMLTag(tag) || isSVGTag(tag) || isMathMLTag(tag),\n    writable: false\n  });\n}\nfunction injectCompilerOptionsCheck(app) {\n  if (isRuntimeOnly()) {\n    const isCustomElement = app.config.isCustomElement;\n    Object.defineProperty(app.config, \"isCustomElement\", {\n      get() {\n        return isCustomElement;\n      },\n      set() {\n        warn(\n          `The \\`isCustomElement\\` config option is deprecated. Use \\`compilerOptions.isCustomElement\\` instead.`\n        );\n      }\n    });\n    const compilerOptions = app.config.compilerOptions;\n    const msg = `The \\`compilerOptions\\` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka \"full build\"). Since you are using the runtime-only build, \\`compilerOptions\\` must be passed to \\`@vue/compiler-dom\\` in the build setup instead.\n- For vue-loader: pass it via vue-loader's \\`compilerOptions\\` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc`;\n    Object.defineProperty(app.config, \"compilerOptions\", {\n      get() {\n        warn(msg);\n        return compilerOptions;\n      },\n      set() {\n        warn(msg);\n      }\n    });\n  }\n}\nfunction normalizeContainer(container) {\n  if (isString(container)) {\n    const res = document.querySelector(container);\n    if (!!(process.env.NODE_ENV !== \"production\") && !res) {\n      warn(\n        `Failed to mount app: mount target selector \"${container}\" returned null.`\n      );\n    }\n    return res;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && window.ShadowRoot && container instanceof window.ShadowRoot && container.mode === \"closed\") {\n    warn(\n      `mounting on a ShadowRoot with \\`{mode: \"closed\"}\\` may lead to unpredictable bugs`\n    );\n  }\n  return container;\n}\nlet ssrDirectiveInitialized = false;\nconst initDirectivesForSSR = () => {\n  if (!ssrDirectiveInitialized) {\n    ssrDirectiveInitialized = true;\n    initVModelForSSR();\n    initVShowForSSR();\n  }\n} ;\n\nexport { Transition, TransitionGroup, VueElement, createApp, createSSRApp, defineCustomElement, defineSSRCustomElement, hydrate, initDirectivesForSSR, nodeOps, patchProp, render, useCssModule, useCssVars, useHost, useShadowRoot, vModelCheckbox, vModelDynamic, vModelRadio, vModelSelect, vModelText, vShow, withKeys, withModifiers };\n","/**\n* vue v3.5.25\n* (c) 2018-present Yuxi (Evan) You and Vue contributors\n* @license MIT\n**/\nimport { initCustomFormatter, warn } from '@vue/runtime-dom';\nexport * from '@vue/runtime-dom';\n\nfunction initDev() {\n  {\n    initCustomFormatter();\n  }\n}\n\nif (!!(process.env.NODE_ENV !== \"production\")) {\n  initDev();\n}\nconst compile = () => {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn(\n      `Runtime compilation is not supported in this build of Vue.` + (` Configure your bundler to alias \"vue\" to \"vue/dist/vue.esm-bundler.js\".` )\n    );\n  }\n};\n\nexport { compile };\n","import * as Vue from 'vue'\n\nvar isVue2 = false\nvar isVue3 = true\nvar Vue2 = undefined\n\nfunction install() {}\n\nexport function set(target, key, val) {\n  if (Array.isArray(target)) {\n    target.length = Math.max(target.length, key)\n    target.splice(key, 1, val)\n    return val\n  }\n  target[key] = val\n  return val\n}\n\nexport function del(target, key) {\n  if (Array.isArray(target)) {\n    target.splice(key, 1)\n    return\n  }\n  delete target[key]\n}\n\nexport * from 'vue'\nexport {\n  Vue,\n  Vue2,\n  isVue2,\n  isVue3,\n  install,\n}\n","export function getDevtoolsGlobalHook() {\n    return getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__;\n}\nexport function getTarget() {\n    // @ts-expect-error navigator and windows are not available in all environments\n    return (typeof navigator !== 'undefined' && typeof window !== 'undefined')\n        ? window\n        : typeof globalThis !== 'undefined'\n            ? globalThis\n            : {};\n}\nexport const isProxyAvailable = typeof Proxy === 'function';\n","export const HOOK_SETUP = 'devtools-plugin:setup';\nexport const HOOK_PLUGIN_SETTINGS_SET = 'plugin:settings:set';\n","let supported;\nlet perf;\nexport function isPerformanceSupported() {\n    var _a;\n    if (supported !== undefined) {\n        return supported;\n    }\n    if (typeof window !== 'undefined' && window.performance) {\n        supported = true;\n        perf = window.performance;\n    }\n    else if (typeof globalThis !== 'undefined' && ((_a = globalThis.perf_hooks) === null || _a === void 0 ? void 0 : _a.performance)) {\n        supported = true;\n        perf = globalThis.perf_hooks.performance;\n    }\n    else {\n        supported = false;\n    }\n    return supported;\n}\nexport function now() {\n    return isPerformanceSupported() ? perf.now() : Date.now();\n}\n","import { HOOK_PLUGIN_SETTINGS_SET } from './const.js';\nimport { now } from './time.js';\nexport class ApiProxy {\n    constructor(plugin, hook) {\n        this.target = null;\n        this.targetQueue = [];\n        this.onQueue = [];\n        this.plugin = plugin;\n        this.hook = hook;\n        const defaultSettings = {};\n        if (plugin.settings) {\n            for (const id in plugin.settings) {\n                const item = plugin.settings[id];\n                defaultSettings[id] = item.defaultValue;\n            }\n        }\n        const localSettingsSaveId = `__vue-devtools-plugin-settings__${plugin.id}`;\n        let currentSettings = Object.assign({}, defaultSettings);\n        try {\n            const raw = localStorage.getItem(localSettingsSaveId);\n            const data = JSON.parse(raw);\n            Object.assign(currentSettings, data);\n        }\n        catch (e) {\n            // noop\n        }\n        this.fallbacks = {\n            getSettings() {\n                return currentSettings;\n            },\n            setSettings(value) {\n                try {\n                    localStorage.setItem(localSettingsSaveId, JSON.stringify(value));\n                }\n                catch (e) {\n                    // noop\n                }\n                currentSettings = value;\n            },\n            now() {\n                return now();\n            },\n        };\n        if (hook) {\n            hook.on(HOOK_PLUGIN_SETTINGS_SET, (pluginId, value) => {\n                if (pluginId === this.plugin.id) {\n                    this.fallbacks.setSettings(value);\n                }\n            });\n        }\n        this.proxiedOn = new Proxy({}, {\n            get: (_target, prop) => {\n                if (this.target) {\n                    return this.target.on[prop];\n                }\n                else {\n                    return (...args) => {\n                        this.onQueue.push({\n                            method: prop,\n                            args,\n                        });\n                    };\n                }\n            },\n        });\n        this.proxiedTarget = new Proxy({}, {\n            get: (_target, prop) => {\n                if (this.target) {\n                    return this.target[prop];\n                }\n                else if (prop === 'on') {\n                    return this.proxiedOn;\n                }\n                else if (Object.keys(this.fallbacks).includes(prop)) {\n                    return (...args) => {\n                        this.targetQueue.push({\n                            method: prop,\n                            args,\n                            resolve: () => { },\n                        });\n                        return this.fallbacks[prop](...args);\n                    };\n                }\n                else {\n                    return (...args) => {\n                        return new Promise((resolve) => {\n                            this.targetQueue.push({\n                                method: prop,\n                                args,\n                                resolve,\n                            });\n                        });\n                    };\n                }\n            },\n        });\n    }\n    async setRealTarget(target) {\n        this.target = target;\n        for (const item of this.onQueue) {\n            this.target.on[item.method](...item.args);\n        }\n        for (const item of this.targetQueue) {\n            item.resolve(await this.target[item.method](...item.args));\n        }\n    }\n}\n","import { getDevtoolsGlobalHook, getTarget, isProxyAvailable } from './env.js';\nimport { HOOK_SETUP } from './const.js';\nimport { ApiProxy } from './proxy.js';\nexport * from './api/index.js';\nexport * from './plugin.js';\nexport * from './time.js';\nexport function setupDevtoolsPlugin(pluginDescriptor, setupFn) {\n    const descriptor = pluginDescriptor;\n    const target = getTarget();\n    const hook = getDevtoolsGlobalHook();\n    const enableProxy = isProxyAvailable && descriptor.enableEarlyProxy;\n    if (hook && (target.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__ || !enableProxy)) {\n        hook.emit(HOOK_SETUP, pluginDescriptor, setupFn);\n    }\n    else {\n        const proxy = enableProxy ? new ApiProxy(descriptor, hook) : null;\n        const list = target.__VUE_DEVTOOLS_PLUGINS__ = target.__VUE_DEVTOOLS_PLUGINS__ || [];\n        list.push({\n            pluginDescriptor: descriptor,\n            setupFn,\n            proxy,\n        });\n        if (proxy) {\n            setupFn(proxy.proxiedTarget);\n        }\n    }\n}\n","/*!\n * pinia v2.3.1\n * (c) 2025 Eduardo San Martin Morote\n * @license MIT\n */\nimport { hasInjectionContext, inject, toRaw, watch, unref, markRaw, effectScope, ref, isVue2, isRef, isReactive, set, getCurrentScope, onScopeDispose, getCurrentInstance, reactive, toRef, del, nextTick, computed, toRefs } from 'vue-demi';\nimport { setupDevtoolsPlugin } from '@vue/devtools-api';\n\n/**\n * setActivePinia must be called to handle SSR at the top of functions like\n * `fetch`, `setup`, `serverPrefetch` and others\n */\nlet activePinia;\n/**\n * Sets or unsets the active pinia. Used in SSR and internally when calling\n * actions and getters\n *\n * @param pinia - Pinia instance\n */\n// @ts-expect-error: cannot constrain the type of the return\nconst setActivePinia = (pinia) => (activePinia = pinia);\n/**\n * Get the currently active pinia if there is any.\n */\nconst getActivePinia = () => (hasInjectionContext() && inject(piniaSymbol)) || activePinia;\nconst piniaSymbol = ((process.env.NODE_ENV !== 'production') ? Symbol('pinia') : /* istanbul ignore next */ Symbol());\n\nfunction isPlainObject(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\no) {\n    return (o &&\n        typeof o === 'object' &&\n        Object.prototype.toString.call(o) === '[object Object]' &&\n        typeof o.toJSON !== 'function');\n}\n// type DeepReadonly<T> = { readonly [P in keyof T]: DeepReadonly<T[P]> }\n// TODO: can we change these to numbers?\n/**\n * Possible types for SubscriptionCallback\n */\nvar MutationType;\n(function (MutationType) {\n    /**\n     * Direct mutation of the state:\n     *\n     * - `store.name = 'new name'`\n     * - `store.$state.name = 'new name'`\n     * - `store.list.push('new item')`\n     */\n    MutationType[\"direct\"] = \"direct\";\n    /**\n     * Mutated the state with `$patch` and an object\n     *\n     * - `store.$patch({ name: 'newName' })`\n     */\n    MutationType[\"patchObject\"] = \"patch object\";\n    /**\n     * Mutated the state with `$patch` and a function\n     *\n     * - `store.$patch(state => state.name = 'newName')`\n     */\n    MutationType[\"patchFunction\"] = \"patch function\";\n    // maybe reset? for $state = {} and $reset\n})(MutationType || (MutationType = {}));\n\nconst IS_CLIENT = typeof window !== 'undefined';\n\n/*\n * FileSaver.js A saveAs() FileSaver implementation.\n *\n * Originally by Eli Grey, adapted as an ESM module by Eduardo San Martin\n * Morote.\n *\n * License : MIT\n */\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nconst _global = /*#__PURE__*/ (() => typeof window === 'object' && window.window === window\n    ? window\n    : typeof self === 'object' && self.self === self\n        ? self\n        : typeof global === 'object' && global.global === global\n            ? global\n            : typeof globalThis === 'object'\n                ? globalThis\n                : { HTMLElement: null })();\nfunction bom(blob, { autoBom = false } = {}) {\n    // prepend BOM for UTF-8 XML and text/* types (including HTML)\n    // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n    if (autoBom &&\n        /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n        return new Blob([String.fromCharCode(0xfeff), blob], { type: blob.type });\n    }\n    return blob;\n}\nfunction download(url, name, opts) {\n    const xhr = new XMLHttpRequest();\n    xhr.open('GET', url);\n    xhr.responseType = 'blob';\n    xhr.onload = function () {\n        saveAs(xhr.response, name, opts);\n    };\n    xhr.onerror = function () {\n        console.error('could not download file');\n    };\n    xhr.send();\n}\nfunction corsEnabled(url) {\n    const xhr = new XMLHttpRequest();\n    // use sync to avoid popup blocker\n    xhr.open('HEAD', url, false);\n    try {\n        xhr.send();\n    }\n    catch (e) { }\n    return xhr.status >= 200 && xhr.status <= 299;\n}\n// `a.click()` doesn't work for all browsers (#465)\nfunction click(node) {\n    try {\n        node.dispatchEvent(new MouseEvent('click'));\n    }\n    catch (e) {\n        const evt = document.createEvent('MouseEvents');\n        evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null);\n        node.dispatchEvent(evt);\n    }\n}\nconst _navigator = typeof navigator === 'object' ? navigator : { userAgent: '' };\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nconst isMacOSWebView = /*#__PURE__*/ (() => /Macintosh/.test(_navigator.userAgent) &&\n    /AppleWebKit/.test(_navigator.userAgent) &&\n    !/Safari/.test(_navigator.userAgent))();\nconst saveAs = !IS_CLIENT\n    ? () => { } // noop\n    : // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView or mini program\n        typeof HTMLAnchorElement !== 'undefined' &&\n            'download' in HTMLAnchorElement.prototype &&\n            !isMacOSWebView\n            ? downloadSaveAs\n            : // Use msSaveOrOpenBlob as a second approach\n                'msSaveOrOpenBlob' in _navigator\n                    ? msSaveAs\n                    : // Fallback to using FileReader and a popup\n                        fileSaverSaveAs;\nfunction downloadSaveAs(blob, name = 'download', opts) {\n    const a = document.createElement('a');\n    a.download = name;\n    a.rel = 'noopener'; // tabnabbing\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n    if (typeof blob === 'string') {\n        // Support regular links\n        a.href = blob;\n        if (a.origin !== location.origin) {\n            if (corsEnabled(a.href)) {\n                download(blob, name, opts);\n            }\n            else {\n                a.target = '_blank';\n                click(a);\n            }\n        }\n        else {\n            click(a);\n        }\n    }\n    else {\n        // Support blobs\n        a.href = URL.createObjectURL(blob);\n        setTimeout(function () {\n            URL.revokeObjectURL(a.href);\n        }, 4e4); // 40s\n        setTimeout(function () {\n            click(a);\n        }, 0);\n    }\n}\nfunction msSaveAs(blob, name = 'download', opts) {\n    if (typeof blob === 'string') {\n        if (corsEnabled(blob)) {\n            download(blob, name, opts);\n        }\n        else {\n            const a = document.createElement('a');\n            a.href = blob;\n            a.target = '_blank';\n            setTimeout(function () {\n                click(a);\n            });\n        }\n    }\n    else {\n        // @ts-ignore: works on windows\n        navigator.msSaveOrOpenBlob(bom(blob, opts), name);\n    }\n}\nfunction fileSaverSaveAs(blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank');\n    if (popup) {\n        popup.document.title = popup.document.body.innerText = 'downloading...';\n    }\n    if (typeof blob === 'string')\n        return download(blob, name, opts);\n    const force = blob.type === 'application/octet-stream';\n    const isSafari = /constructor/i.test(String(_global.HTMLElement)) || 'safari' in _global;\n    const isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent);\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) &&\n        typeof FileReader !== 'undefined') {\n        // Safari doesn't allow downloading of blob URLs\n        const reader = new FileReader();\n        reader.onloadend = function () {\n            let url = reader.result;\n            if (typeof url !== 'string') {\n                popup = null;\n                throw new Error('Wrong reader.result type');\n            }\n            url = isChromeIOS\n                ? url\n                : url.replace(/^data:[^;]*;/, 'data:attachment/file;');\n            if (popup) {\n                popup.location.href = url;\n            }\n            else {\n                location.assign(url);\n            }\n            popup = null; // reverse-tabnabbing #460\n        };\n        reader.readAsDataURL(blob);\n    }\n    else {\n        const url = URL.createObjectURL(blob);\n        if (popup)\n            popup.location.assign(url);\n        else\n            location.href = url;\n        popup = null; // reverse-tabnabbing #460\n        setTimeout(function () {\n            URL.revokeObjectURL(url);\n        }, 4e4); // 40s\n    }\n}\n\n/**\n * Shows a toast or console.log\n *\n * @param message - message to log\n * @param type - different color of the tooltip\n */\nfunction toastMessage(message, type) {\n    const piniaMessage = ' ' + message;\n    if (typeof __VUE_DEVTOOLS_TOAST__ === 'function') {\n        // No longer available :(\n        __VUE_DEVTOOLS_TOAST__(piniaMessage, type);\n    }\n    else if (type === 'error') {\n        console.error(piniaMessage);\n    }\n    else if (type === 'warn') {\n        console.warn(piniaMessage);\n    }\n    else {\n        console.log(piniaMessage);\n    }\n}\nfunction isPinia(o) {\n    return '_a' in o && 'install' in o;\n}\n\n/**\n * This file contain devtools actions, they are not Pinia actions.\n */\n// ---\nfunction checkClipboardAccess() {\n    if (!('clipboard' in navigator)) {\n        toastMessage(`Your browser doesn't support the Clipboard API`, 'error');\n        return true;\n    }\n}\nfunction checkNotFocusedError(error) {\n    if (error instanceof Error &&\n        error.message.toLowerCase().includes('document is not focused')) {\n        toastMessage('You need to activate the \"Emulate a focused page\" setting in the \"Rendering\" panel of devtools.', 'warn');\n        return true;\n    }\n    return false;\n}\nasync function actionGlobalCopyState(pinia) {\n    if (checkClipboardAccess())\n        return;\n    try {\n        await navigator.clipboard.writeText(JSON.stringify(pinia.state.value));\n        toastMessage('Global state copied to clipboard.');\n    }\n    catch (error) {\n        if (checkNotFocusedError(error))\n            return;\n        toastMessage(`Failed to serialize the state. Check the console for more details.`, 'error');\n        console.error(error);\n    }\n}\nasync function actionGlobalPasteState(pinia) {\n    if (checkClipboardAccess())\n        return;\n    try {\n        loadStoresState(pinia, JSON.parse(await navigator.clipboard.readText()));\n        toastMessage('Global state pasted from clipboard.');\n    }\n    catch (error) {\n        if (checkNotFocusedError(error))\n            return;\n        toastMessage(`Failed to deserialize the state from clipboard. Check the console for more details.`, 'error');\n        console.error(error);\n    }\n}\nasync function actionGlobalSaveState(pinia) {\n    try {\n        saveAs(new Blob([JSON.stringify(pinia.state.value)], {\n            type: 'text/plain;charset=utf-8',\n        }), 'pinia-state.json');\n    }\n    catch (error) {\n        toastMessage(`Failed to export the state as JSON. Check the console for more details.`, 'error');\n        console.error(error);\n    }\n}\nlet fileInput;\nfunction getFileOpener() {\n    if (!fileInput) {\n        fileInput = document.createElement('input');\n        fileInput.type = 'file';\n        fileInput.accept = '.json';\n    }\n    function openFile() {\n        return new Promise((resolve, reject) => {\n            fileInput.onchange = async () => {\n                const files = fileInput.files;\n                if (!files)\n                    return resolve(null);\n                const file = files.item(0);\n                if (!file)\n                    return resolve(null);\n                return resolve({ text: await file.text(), file });\n            };\n            // @ts-ignore: TODO: changed from 4.3 to 4.4\n            fileInput.oncancel = () => resolve(null);\n            fileInput.onerror = reject;\n            fileInput.click();\n        });\n    }\n    return openFile;\n}\nasync function actionGlobalOpenStateFile(pinia) {\n    try {\n        const open = getFileOpener();\n        const result = await open();\n        if (!result)\n            return;\n        const { text, file } = result;\n        loadStoresState(pinia, JSON.parse(text));\n        toastMessage(`Global state imported from \"${file.name}\".`);\n    }\n    catch (error) {\n        toastMessage(`Failed to import the state from JSON. Check the console for more details.`, 'error');\n        console.error(error);\n    }\n}\nfunction loadStoresState(pinia, state) {\n    for (const key in state) {\n        const storeState = pinia.state.value[key];\n        // store is already instantiated, patch it\n        if (storeState) {\n            Object.assign(storeState, state[key]);\n        }\n        else {\n            // store is not instantiated, set the initial state\n            pinia.state.value[key] = state[key];\n        }\n    }\n}\n\nfunction formatDisplay(display) {\n    return {\n        _custom: {\n            display,\n        },\n    };\n}\nconst PINIA_ROOT_LABEL = ' Pinia (root)';\nconst PINIA_ROOT_ID = '_root';\nfunction formatStoreForInspectorTree(store) {\n    return isPinia(store)\n        ? {\n            id: PINIA_ROOT_ID,\n            label: PINIA_ROOT_LABEL,\n        }\n        : {\n            id: store.$id,\n            label: store.$id,\n        };\n}\nfunction formatStoreForInspectorState(store) {\n    if (isPinia(store)) {\n        const storeNames = Array.from(store._s.keys());\n        const storeMap = store._s;\n        const state = {\n            state: storeNames.map((storeId) => ({\n                editable: true,\n                key: storeId,\n                value: store.state.value[storeId],\n            })),\n            getters: storeNames\n                .filter((id) => storeMap.get(id)._getters)\n                .map((id) => {\n                const store = storeMap.get(id);\n                return {\n                    editable: false,\n                    key: id,\n                    value: store._getters.reduce((getters, key) => {\n                        getters[key] = store[key];\n                        return getters;\n                    }, {}),\n                };\n            }),\n        };\n        return state;\n    }\n    const state = {\n        state: Object.keys(store.$state).map((key) => ({\n            editable: true,\n            key,\n            value: store.$state[key],\n        })),\n    };\n    // avoid adding empty getters\n    if (store._getters && store._getters.length) {\n        state.getters = store._getters.map((getterName) => ({\n            editable: false,\n            key: getterName,\n            value: store[getterName],\n        }));\n    }\n    if (store._customProperties.size) {\n        state.customProperties = Array.from(store._customProperties).map((key) => ({\n            editable: true,\n            key,\n            value: store[key],\n        }));\n    }\n    return state;\n}\nfunction formatEventData(events) {\n    if (!events)\n        return {};\n    if (Array.isArray(events)) {\n        // TODO: handle add and delete for arrays and objects\n        return events.reduce((data, event) => {\n            data.keys.push(event.key);\n            data.operations.push(event.type);\n            data.oldValue[event.key] = event.oldValue;\n            data.newValue[event.key] = event.newValue;\n            return data;\n        }, {\n            oldValue: {},\n            keys: [],\n            operations: [],\n            newValue: {},\n        });\n    }\n    else {\n        return {\n            operation: formatDisplay(events.type),\n            key: formatDisplay(events.key),\n            oldValue: events.oldValue,\n            newValue: events.newValue,\n        };\n    }\n}\nfunction formatMutationType(type) {\n    switch (type) {\n        case MutationType.direct:\n            return 'mutation';\n        case MutationType.patchFunction:\n            return '$patch';\n        case MutationType.patchObject:\n            return '$patch';\n        default:\n            return 'unknown';\n    }\n}\n\n// timeline can be paused when directly changing the state\nlet isTimelineActive = true;\nconst componentStateTypes = [];\nconst MUTATIONS_LAYER_ID = 'pinia:mutations';\nconst INSPECTOR_ID = 'pinia';\nconst { assign: assign$1 } = Object;\n/**\n * Gets the displayed name of a store in devtools\n *\n * @param id - id of the store\n * @returns a formatted string\n */\nconst getStoreType = (id) => ' ' + id;\n/**\n * Add the pinia plugin without any store. Allows displaying a Pinia plugin tab\n * as soon as it is added to the application.\n *\n * @param app - Vue application\n * @param pinia - pinia instance\n */\nfunction registerPiniaDevtools(app, pinia) {\n    setupDevtoolsPlugin({\n        id: 'dev.esm.pinia',\n        label: 'Pinia ',\n        logo: 'https://pinia.vuejs.org/logo.svg',\n        packageName: 'pinia',\n        homepage: 'https://pinia.vuejs.org',\n        componentStateTypes,\n        app,\n    }, (api) => {\n        if (typeof api.now !== 'function') {\n            toastMessage('You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html.');\n        }\n        api.addTimelineLayer({\n            id: MUTATIONS_LAYER_ID,\n            label: `Pinia `,\n            color: 0xe5df88,\n        });\n        api.addInspector({\n            id: INSPECTOR_ID,\n            label: 'Pinia ',\n            icon: 'storage',\n            treeFilterPlaceholder: 'Search stores',\n            actions: [\n                {\n                    icon: 'content_copy',\n                    action: () => {\n                        actionGlobalCopyState(pinia);\n                    },\n                    tooltip: 'Serialize and copy the state',\n                },\n                {\n                    icon: 'content_paste',\n                    action: async () => {\n                        await actionGlobalPasteState(pinia);\n                        api.sendInspectorTree(INSPECTOR_ID);\n                        api.sendInspectorState(INSPECTOR_ID);\n                    },\n                    tooltip: 'Replace the state with the content of your clipboard',\n                },\n                {\n                    icon: 'save',\n                    action: () => {\n                        actionGlobalSaveState(pinia);\n                    },\n                    tooltip: 'Save the state as a JSON file',\n                },\n                {\n                    icon: 'folder_open',\n                    action: async () => {\n                        await actionGlobalOpenStateFile(pinia);\n                        api.sendInspectorTree(INSPECTOR_ID);\n                        api.sendInspectorState(INSPECTOR_ID);\n                    },\n                    tooltip: 'Import the state from a JSON file',\n                },\n            ],\n            nodeActions: [\n                {\n                    icon: 'restore',\n                    tooltip: 'Reset the state (with \"$reset\")',\n                    action: (nodeId) => {\n                        const store = pinia._s.get(nodeId);\n                        if (!store) {\n                            toastMessage(`Cannot reset \"${nodeId}\" store because it wasn't found.`, 'warn');\n                        }\n                        else if (typeof store.$reset !== 'function') {\n                            toastMessage(`Cannot reset \"${nodeId}\" store because it doesn't have a \"$reset\" method implemented.`, 'warn');\n                        }\n                        else {\n                            store.$reset();\n                            toastMessage(`Store \"${nodeId}\" reset.`);\n                        }\n                    },\n                },\n            ],\n        });\n        api.on.inspectComponent((payload, ctx) => {\n            const proxy = (payload.componentInstance &&\n                payload.componentInstance.proxy);\n            if (proxy && proxy._pStores) {\n                const piniaStores = payload.componentInstance.proxy._pStores;\n                Object.values(piniaStores).forEach((store) => {\n                    payload.instanceData.state.push({\n                        type: getStoreType(store.$id),\n                        key: 'state',\n                        editable: true,\n                        value: store._isOptionsAPI\n                            ? {\n                                _custom: {\n                                    value: toRaw(store.$state),\n                                    actions: [\n                                        {\n                                            icon: 'restore',\n                                            tooltip: 'Reset the state of this store',\n                                            action: () => store.$reset(),\n                                        },\n                                    ],\n                                },\n                            }\n                            : // NOTE: workaround to unwrap transferred refs\n                                Object.keys(store.$state).reduce((state, key) => {\n                                    state[key] = store.$state[key];\n                                    return state;\n                                }, {}),\n                    });\n                    if (store._getters && store._getters.length) {\n                        payload.instanceData.state.push({\n                            type: getStoreType(store.$id),\n                            key: 'getters',\n                            editable: false,\n                            value: store._getters.reduce((getters, key) => {\n                                try {\n                                    getters[key] = store[key];\n                                }\n                                catch (error) {\n                                    // @ts-expect-error: we just want to show it in devtools\n                                    getters[key] = error;\n                                }\n                                return getters;\n                            }, {}),\n                        });\n                    }\n                });\n            }\n        });\n        api.on.getInspectorTree((payload) => {\n            if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n                let stores = [pinia];\n                stores = stores.concat(Array.from(pinia._s.values()));\n                payload.rootNodes = (payload.filter\n                    ? stores.filter((store) => '$id' in store\n                        ? store.$id\n                            .toLowerCase()\n                            .includes(payload.filter.toLowerCase())\n                        : PINIA_ROOT_LABEL.toLowerCase().includes(payload.filter.toLowerCase()))\n                    : stores).map(formatStoreForInspectorTree);\n            }\n        });\n        // Expose pinia instance as $pinia to window\n        globalThis.$pinia = pinia;\n        api.on.getInspectorState((payload) => {\n            if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n                const inspectedStore = payload.nodeId === PINIA_ROOT_ID\n                    ? pinia\n                    : pinia._s.get(payload.nodeId);\n                if (!inspectedStore) {\n                    // this could be the selected store restored for a different project\n                    // so it's better not to say anything here\n                    return;\n                }\n                if (inspectedStore) {\n                    // Expose selected store as $store to window\n                    if (payload.nodeId !== PINIA_ROOT_ID)\n                        globalThis.$store = toRaw(inspectedStore);\n                    payload.state = formatStoreForInspectorState(inspectedStore);\n                }\n            }\n        });\n        api.on.editInspectorState((payload, ctx) => {\n            if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n                const inspectedStore = payload.nodeId === PINIA_ROOT_ID\n                    ? pinia\n                    : pinia._s.get(payload.nodeId);\n                if (!inspectedStore) {\n                    return toastMessage(`store \"${payload.nodeId}\" not found`, 'error');\n                }\n                const { path } = payload;\n                if (!isPinia(inspectedStore)) {\n                    // access only the state\n                    if (path.length !== 1 ||\n                        !inspectedStore._customProperties.has(path[0]) ||\n                        path[0] in inspectedStore.$state) {\n                        path.unshift('$state');\n                    }\n                }\n                else {\n                    // Root access, we can omit the `.value` because the devtools API does it for us\n                    path.unshift('state');\n                }\n                isTimelineActive = false;\n                payload.set(inspectedStore, path, payload.state.value);\n                isTimelineActive = true;\n            }\n        });\n        api.on.editComponentState((payload) => {\n            if (payload.type.startsWith('')) {\n                const storeId = payload.type.replace(/^\\s*/, '');\n                const store = pinia._s.get(storeId);\n                if (!store) {\n                    return toastMessage(`store \"${storeId}\" not found`, 'error');\n                }\n                const { path } = payload;\n                if (path[0] !== 'state') {\n                    return toastMessage(`Invalid path for store \"${storeId}\":\\n${path}\\nOnly state can be modified.`);\n                }\n                // rewrite the first entry to be able to directly set the state as\n                // well as any other path\n                path[0] = '$state';\n                isTimelineActive = false;\n                payload.set(store, path, payload.state.value);\n                isTimelineActive = true;\n            }\n        });\n    });\n}\nfunction addStoreToDevtools(app, store) {\n    if (!componentStateTypes.includes(getStoreType(store.$id))) {\n        componentStateTypes.push(getStoreType(store.$id));\n    }\n    setupDevtoolsPlugin({\n        id: 'dev.esm.pinia',\n        label: 'Pinia ',\n        logo: 'https://pinia.vuejs.org/logo.svg',\n        packageName: 'pinia',\n        homepage: 'https://pinia.vuejs.org',\n        componentStateTypes,\n        app,\n        settings: {\n            logStoreChanges: {\n                label: 'Notify about new/deleted stores',\n                type: 'boolean',\n                defaultValue: true,\n            },\n            // useEmojis: {\n            //   label: 'Use emojis in messages ',\n            //   type: 'boolean',\n            //   defaultValue: true,\n            // },\n        },\n    }, (api) => {\n        // gracefully handle errors\n        const now = typeof api.now === 'function' ? api.now.bind(api) : Date.now;\n        store.$onAction(({ after, onError, name, args }) => {\n            const groupId = runningActionId++;\n            api.addTimelineEvent({\n                layerId: MUTATIONS_LAYER_ID,\n                event: {\n                    time: now(),\n                    title: ' ' + name,\n                    subtitle: 'start',\n                    data: {\n                        store: formatDisplay(store.$id),\n                        action: formatDisplay(name),\n                        args,\n                    },\n                    groupId,\n                },\n            });\n            after((result) => {\n                activeAction = undefined;\n                api.addTimelineEvent({\n                    layerId: MUTATIONS_LAYER_ID,\n                    event: {\n                        time: now(),\n                        title: ' ' + name,\n                        subtitle: 'end',\n                        data: {\n                            store: formatDisplay(store.$id),\n                            action: formatDisplay(name),\n                            args,\n                            result,\n                        },\n                        groupId,\n                    },\n                });\n            });\n            onError((error) => {\n                activeAction = undefined;\n                api.addTimelineEvent({\n                    layerId: MUTATIONS_LAYER_ID,\n                    event: {\n                        time: now(),\n                        logType: 'error',\n                        title: ' ' + name,\n                        subtitle: 'end',\n                        data: {\n                            store: formatDisplay(store.$id),\n                            action: formatDisplay(name),\n                            args,\n                            error,\n                        },\n                        groupId,\n                    },\n                });\n            });\n        }, true);\n        store._customProperties.forEach((name) => {\n            watch(() => unref(store[name]), (newValue, oldValue) => {\n                api.notifyComponentUpdate();\n                api.sendInspectorState(INSPECTOR_ID);\n                if (isTimelineActive) {\n                    api.addTimelineEvent({\n                        layerId: MUTATIONS_LAYER_ID,\n                        event: {\n                            time: now(),\n                            title: 'Change',\n                            subtitle: name,\n                            data: {\n                                newValue,\n                                oldValue,\n                            },\n                            groupId: activeAction,\n                        },\n                    });\n                }\n            }, { deep: true });\n        });\n        store.$subscribe(({ events, type }, state) => {\n            api.notifyComponentUpdate();\n            api.sendInspectorState(INSPECTOR_ID);\n            if (!isTimelineActive)\n                return;\n            // rootStore.state[store.id] = state\n            const eventData = {\n                time: now(),\n                title: formatMutationType(type),\n                data: assign$1({ store: formatDisplay(store.$id) }, formatEventData(events)),\n                groupId: activeAction,\n            };\n            if (type === MutationType.patchFunction) {\n                eventData.subtitle = '';\n            }\n            else if (type === MutationType.patchObject) {\n                eventData.subtitle = '';\n            }\n            else if (events && !Array.isArray(events)) {\n                eventData.subtitle = events.type;\n            }\n            if (events) {\n                eventData.data['rawEvent(s)'] = {\n                    _custom: {\n                        display: 'DebuggerEvent',\n                        type: 'object',\n                        tooltip: 'raw DebuggerEvent[]',\n                        value: events,\n                    },\n                };\n            }\n            api.addTimelineEvent({\n                layerId: MUTATIONS_LAYER_ID,\n                event: eventData,\n            });\n        }, { detached: true, flush: 'sync' });\n        const hotUpdate = store._hotUpdate;\n        store._hotUpdate = markRaw((newStore) => {\n            hotUpdate(newStore);\n            api.addTimelineEvent({\n                layerId: MUTATIONS_LAYER_ID,\n                event: {\n                    time: now(),\n                    title: ' ' + store.$id,\n                    subtitle: 'HMR update',\n                    data: {\n                        store: formatDisplay(store.$id),\n                        info: formatDisplay(`HMR update`),\n                    },\n                },\n            });\n            // update the devtools too\n            api.notifyComponentUpdate();\n            api.sendInspectorTree(INSPECTOR_ID);\n            api.sendInspectorState(INSPECTOR_ID);\n        });\n        const { $dispose } = store;\n        store.$dispose = () => {\n            $dispose();\n            api.notifyComponentUpdate();\n            api.sendInspectorTree(INSPECTOR_ID);\n            api.sendInspectorState(INSPECTOR_ID);\n            api.getSettings().logStoreChanges &&\n                toastMessage(`Disposed \"${store.$id}\" store `);\n        };\n        // trigger an update so it can display new registered stores\n        api.notifyComponentUpdate();\n        api.sendInspectorTree(INSPECTOR_ID);\n        api.sendInspectorState(INSPECTOR_ID);\n        api.getSettings().logStoreChanges &&\n            toastMessage(`\"${store.$id}\" store installed `);\n    });\n}\nlet runningActionId = 0;\nlet activeAction;\n/**\n * Patches a store to enable action grouping in devtools by wrapping the store with a Proxy that is passed as the\n * context of all actions, allowing us to set `runningAction` on each access and effectively associating any state\n * mutation to the action.\n *\n * @param store - store to patch\n * @param actionNames - list of actionst to patch\n */\nfunction patchActionForGrouping(store, actionNames, wrapWithProxy) {\n    // original actions of the store as they are given by pinia. We are going to override them\n    const actions = actionNames.reduce((storeActions, actionName) => {\n        // use toRaw to avoid tracking #541\n        storeActions[actionName] = toRaw(store)[actionName];\n        return storeActions;\n    }, {});\n    for (const actionName in actions) {\n        store[actionName] = function () {\n            // the running action id is incremented in a before action hook\n            const _actionId = runningActionId;\n            const trackedStore = wrapWithProxy\n                ? new Proxy(store, {\n                    get(...args) {\n                        activeAction = _actionId;\n                        return Reflect.get(...args);\n                    },\n                    set(...args) {\n                        activeAction = _actionId;\n                        return Reflect.set(...args);\n                    },\n                })\n                : store;\n            // For Setup Stores we need https://github.com/tc39/proposal-async-context\n            activeAction = _actionId;\n            const retValue = actions[actionName].apply(trackedStore, arguments);\n            // this is safer as async actions in Setup Stores would associate mutations done outside of the action\n            activeAction = undefined;\n            return retValue;\n        };\n    }\n}\n/**\n * pinia.use(devtoolsPlugin)\n */\nfunction devtoolsPlugin({ app, store, options }) {\n    // HMR module\n    if (store.$id.startsWith('__hot:')) {\n        return;\n    }\n    // detect option api vs setup api\n    store._isOptionsAPI = !!options.state;\n    // Do not overwrite actions mocked by @pinia/testing (#2298)\n    if (!store._p._testing) {\n        patchActionForGrouping(store, Object.keys(options.actions), store._isOptionsAPI);\n        // Upgrade the HMR to also update the new actions\n        const originalHotUpdate = store._hotUpdate;\n        toRaw(store)._hotUpdate = function (newStore) {\n            originalHotUpdate.apply(this, arguments);\n            patchActionForGrouping(store, Object.keys(newStore._hmrPayload.actions), !!store._isOptionsAPI);\n        };\n    }\n    addStoreToDevtools(app, \n    // FIXME: is there a way to allow the assignment from Store<Id, S, G, A> to StoreGeneric?\n    store);\n}\n\n/**\n * Creates a Pinia instance to be used by the application\n */\nfunction createPinia() {\n    const scope = effectScope(true);\n    // NOTE: here we could check the window object for a state and directly set it\n    // if there is anything like it with Vue 3 SSR\n    const state = scope.run(() => ref({}));\n    let _p = [];\n    // plugins added before calling app.use(pinia)\n    let toBeInstalled = [];\n    const pinia = markRaw({\n        install(app) {\n            // this allows calling useStore() outside of a component setup after\n            // installing pinia's plugin\n            setActivePinia(pinia);\n            if (!isVue2) {\n                pinia._a = app;\n                app.provide(piniaSymbol, pinia);\n                app.config.globalProperties.$pinia = pinia;\n                /* istanbul ignore else */\n                if ((((process.env.NODE_ENV !== 'production') || (typeof __VUE_PROD_DEVTOOLS__ !== 'undefined' && __VUE_PROD_DEVTOOLS__)) && !(process.env.NODE_ENV === 'test')) && IS_CLIENT) {\n                    registerPiniaDevtools(app, pinia);\n                }\n                toBeInstalled.forEach((plugin) => _p.push(plugin));\n                toBeInstalled = [];\n            }\n        },\n        use(plugin) {\n            if (!this._a && !isVue2) {\n                toBeInstalled.push(plugin);\n            }\n            else {\n                _p.push(plugin);\n            }\n            return this;\n        },\n        _p,\n        // it's actually undefined here\n        // @ts-expect-error\n        _a: null,\n        _e: scope,\n        _s: new Map(),\n        state,\n    });\n    // pinia devtools rely on dev only features so they cannot be forced unless\n    // the dev build of Vue is used. Avoid old browsers like IE11.\n    if ((((process.env.NODE_ENV !== 'production') || (typeof __VUE_PROD_DEVTOOLS__ !== 'undefined' && __VUE_PROD_DEVTOOLS__)) && !(process.env.NODE_ENV === 'test')) && IS_CLIENT && typeof Proxy !== 'undefined') {\n        pinia.use(devtoolsPlugin);\n    }\n    return pinia;\n}\n/**\n * Dispose a Pinia instance by stopping its effectScope and removing the state, plugins and stores. This is mostly\n * useful in tests, with both a testing pinia or a regular pinia and in applications that use multiple pinia instances.\n * Once disposed, the pinia instance cannot be used anymore.\n *\n * @param pinia - pinia instance\n */\nfunction disposePinia(pinia) {\n    pinia._e.stop();\n    pinia._s.clear();\n    pinia._p.splice(0);\n    pinia.state.value = {};\n    // @ts-expect-error: non valid\n    pinia._a = null;\n}\n\n/**\n * Checks if a function is a `StoreDefinition`.\n *\n * @param fn - object to test\n * @returns true if `fn` is a StoreDefinition\n */\nconst isUseStore = (fn) => {\n    return typeof fn === 'function' && typeof fn.$id === 'string';\n};\n/**\n * Mutates in place `newState` with `oldState` to _hot update_ it. It will\n * remove any key not existing in `newState` and recursively merge plain\n * objects.\n *\n * @param newState - new state object to be patched\n * @param oldState - old state that should be used to patch newState\n * @returns - newState\n */\nfunction patchObject(newState, oldState) {\n    // no need to go through symbols because they cannot be serialized anyway\n    for (const key in oldState) {\n        const subPatch = oldState[key];\n        // skip the whole sub tree\n        if (!(key in newState)) {\n            continue;\n        }\n        const targetValue = newState[key];\n        if (isPlainObject(targetValue) &&\n            isPlainObject(subPatch) &&\n            !isRef(subPatch) &&\n            !isReactive(subPatch)) {\n            newState[key] = patchObject(targetValue, subPatch);\n        }\n        else {\n            // objects are either a bit more complex (e.g. refs) or primitives, so we\n            // just set the whole thing\n            if (isVue2) {\n                set(newState, key, subPatch);\n            }\n            else {\n                newState[key] = subPatch;\n            }\n        }\n    }\n    return newState;\n}\n/**\n * Creates an _accept_ function to pass to `import.meta.hot` in Vite applications.\n *\n * @example\n * ```js\n * const useUser = defineStore(...)\n * if (import.meta.hot) {\n *   import.meta.hot.accept(acceptHMRUpdate(useUser, import.meta.hot))\n * }\n * ```\n *\n * @param initialUseStore - return of the defineStore to hot update\n * @param hot - `import.meta.hot`\n */\nfunction acceptHMRUpdate(initialUseStore, hot) {\n    // strip as much as possible from iife.prod\n    if (!(process.env.NODE_ENV !== 'production')) {\n        return () => { };\n    }\n    return (newModule) => {\n        const pinia = hot.data.pinia || initialUseStore._pinia;\n        if (!pinia) {\n            // this store is still not used\n            return;\n        }\n        // preserve the pinia instance across loads\n        hot.data.pinia = pinia;\n        // console.log('got data', newStore)\n        for (const exportName in newModule) {\n            const useStore = newModule[exportName];\n            // console.log('checking for', exportName)\n            if (isUseStore(useStore) && pinia._s.has(useStore.$id)) {\n                // console.log('Accepting update for', useStore.$id)\n                const id = useStore.$id;\n                if (id !== initialUseStore.$id) {\n                    console.warn(`The id of the store changed from \"${initialUseStore.$id}\" to \"${id}\". Reloading.`);\n                    // return import.meta.hot.invalidate()\n                    return hot.invalidate();\n                }\n                const existingStore = pinia._s.get(id);\n                if (!existingStore) {\n                    console.log(`[Pinia]: skipping hmr because store doesn't exist yet`);\n                    return;\n                }\n                useStore(pinia, existingStore);\n            }\n        }\n    };\n}\n\nconst noop = () => { };\nfunction addSubscription(subscriptions, callback, detached, onCleanup = noop) {\n    subscriptions.push(callback);\n    const removeSubscription = () => {\n        const idx = subscriptions.indexOf(callback);\n        if (idx > -1) {\n            subscriptions.splice(idx, 1);\n            onCleanup();\n        }\n    };\n    if (!detached && getCurrentScope()) {\n        onScopeDispose(removeSubscription);\n    }\n    return removeSubscription;\n}\nfunction triggerSubscriptions(subscriptions, ...args) {\n    subscriptions.slice().forEach((callback) => {\n        callback(...args);\n    });\n}\n\nconst fallbackRunWithContext = (fn) => fn();\n/**\n * Marks a function as an action for `$onAction`\n * @internal\n */\nconst ACTION_MARKER = Symbol();\n/**\n * Action name symbol. Allows to add a name to an action after defining it\n * @internal\n */\nconst ACTION_NAME = Symbol();\nfunction mergeReactiveObjects(target, patchToApply) {\n    // Handle Map instances\n    if (target instanceof Map && patchToApply instanceof Map) {\n        patchToApply.forEach((value, key) => target.set(key, value));\n    }\n    else if (target instanceof Set && patchToApply instanceof Set) {\n        // Handle Set instances\n        patchToApply.forEach(target.add, target);\n    }\n    // no need to go through symbols because they cannot be serialized anyway\n    for (const key in patchToApply) {\n        if (!patchToApply.hasOwnProperty(key))\n            continue;\n        const subPatch = patchToApply[key];\n        const targetValue = target[key];\n        if (isPlainObject(targetValue) &&\n            isPlainObject(subPatch) &&\n            target.hasOwnProperty(key) &&\n            !isRef(subPatch) &&\n            !isReactive(subPatch)) {\n            // NOTE: here I wanted to warn about inconsistent types but it's not possible because in setup stores one might\n            // start the value of a property as a certain type e.g. a Map, and then for some reason, during SSR, change that\n            // to `undefined`. When trying to hydrate, we want to override the Map with `undefined`.\n            target[key] = mergeReactiveObjects(targetValue, subPatch);\n        }\n        else {\n            // @ts-expect-error: subPatch is a valid value\n            target[key] = subPatch;\n        }\n    }\n    return target;\n}\nconst skipHydrateSymbol = (process.env.NODE_ENV !== 'production')\n    ? Symbol('pinia:skipHydration')\n    : /* istanbul ignore next */ Symbol();\n/**\n * Tells Pinia to skip the hydration process of a given object. This is useful in setup stores (only) when you return a\n * stateful object in the store but it isn't really state. e.g. returning a router instance in a setup store.\n *\n * @param obj - target object\n * @returns obj\n */\nfunction skipHydrate(obj) {\n    return Object.defineProperty(obj, skipHydrateSymbol, {});\n}\n/**\n * Returns whether a value should be hydrated\n *\n * @param obj - target variable\n * @returns true if `obj` should be hydrated\n */\nfunction shouldHydrate(obj) {\n    return !isPlainObject(obj) || !obj.hasOwnProperty(skipHydrateSymbol);\n}\nconst { assign } = Object;\nfunction isComputed(o) {\n    return !!(isRef(o) && o.effect);\n}\nfunction createOptionsStore(id, options, pinia, hot) {\n    const { state, actions, getters } = options;\n    const initialState = pinia.state.value[id];\n    let store;\n    function setup() {\n        if (!initialState && (!(process.env.NODE_ENV !== 'production') || !hot)) {\n            /* istanbul ignore if */\n            if (isVue2) {\n                set(pinia.state.value, id, state ? state() : {});\n            }\n            else {\n                pinia.state.value[id] = state ? state() : {};\n            }\n        }\n        // avoid creating a state in pinia.state.value\n        const localState = (process.env.NODE_ENV !== 'production') && hot\n            ? // use ref() to unwrap refs inside state TODO: check if this is still necessary\n                toRefs(ref(state ? state() : {}).value)\n            : toRefs(pinia.state.value[id]);\n        return assign(localState, actions, Object.keys(getters || {}).reduce((computedGetters, name) => {\n            if ((process.env.NODE_ENV !== 'production') && name in localState) {\n                console.warn(`[]: A getter cannot have the same name as another state property. Rename one of them. Found with \"${name}\" in store \"${id}\".`);\n            }\n            computedGetters[name] = markRaw(computed(() => {\n                setActivePinia(pinia);\n                // it was created just before\n                const store = pinia._s.get(id);\n                // allow cross using stores\n                /* istanbul ignore if */\n                if (isVue2 && !store._r)\n                    return;\n                // @ts-expect-error\n                // return getters![name].call(context, context)\n                // TODO: avoid reading the getter while assigning with a global variable\n                return getters[name].call(store, store);\n            }));\n            return computedGetters;\n        }, {}));\n    }\n    store = createSetupStore(id, setup, options, pinia, hot, true);\n    return store;\n}\nfunction createSetupStore($id, setup, options = {}, pinia, hot, isOptionsStore) {\n    let scope;\n    const optionsForPlugin = assign({ actions: {} }, options);\n    /* istanbul ignore if */\n    if ((process.env.NODE_ENV !== 'production') && !pinia._e.active) {\n        throw new Error('Pinia destroyed');\n    }\n    // watcher options for $subscribe\n    const $subscribeOptions = { deep: true };\n    /* istanbul ignore else */\n    if ((process.env.NODE_ENV !== 'production') && !isVue2) {\n        $subscribeOptions.onTrigger = (event) => {\n            /* istanbul ignore else */\n            if (isListening) {\n                debuggerEvents = event;\n                // avoid triggering this while the store is being built and the state is being set in pinia\n            }\n            else if (isListening == false && !store._hotUpdating) {\n                // let patch send all the events together later\n                /* istanbul ignore else */\n                if (Array.isArray(debuggerEvents)) {\n                    debuggerEvents.push(event);\n                }\n                else {\n                    console.error(' debuggerEvents should be an array. This is most likely an internal Pinia bug.');\n                }\n            }\n        };\n    }\n    // internal state\n    let isListening; // set to true at the end\n    let isSyncListening; // set to true at the end\n    let subscriptions = [];\n    let actionSubscriptions = [];\n    let debuggerEvents;\n    const initialState = pinia.state.value[$id];\n    // avoid setting the state for option stores if it is set\n    // by the setup\n    if (!isOptionsStore && !initialState && (!(process.env.NODE_ENV !== 'production') || !hot)) {\n        /* istanbul ignore if */\n        if (isVue2) {\n            set(pinia.state.value, $id, {});\n        }\n        else {\n            pinia.state.value[$id] = {};\n        }\n    }\n    const hotState = ref({});\n    // avoid triggering too many listeners\n    // https://github.com/vuejs/pinia/issues/1129\n    let activeListener;\n    function $patch(partialStateOrMutator) {\n        let subscriptionMutation;\n        isListening = isSyncListening = false;\n        // reset the debugger events since patches are sync\n        /* istanbul ignore else */\n        if ((process.env.NODE_ENV !== 'production')) {\n            debuggerEvents = [];\n        }\n        if (typeof partialStateOrMutator === 'function') {\n            partialStateOrMutator(pinia.state.value[$id]);\n            subscriptionMutation = {\n                type: MutationType.patchFunction,\n                storeId: $id,\n                events: debuggerEvents,\n            };\n        }\n        else {\n            mergeReactiveObjects(pinia.state.value[$id], partialStateOrMutator);\n            subscriptionMutation = {\n                type: MutationType.patchObject,\n                payload: partialStateOrMutator,\n                storeId: $id,\n                events: debuggerEvents,\n            };\n        }\n        const myListenerId = (activeListener = Symbol());\n        nextTick().then(() => {\n            if (activeListener === myListenerId) {\n                isListening = true;\n            }\n        });\n        isSyncListening = true;\n        // because we paused the watcher, we need to manually call the subscriptions\n        triggerSubscriptions(subscriptions, subscriptionMutation, pinia.state.value[$id]);\n    }\n    const $reset = isOptionsStore\n        ? function $reset() {\n            const { state } = options;\n            const newState = state ? state() : {};\n            // we use a patch to group all changes into one single subscription\n            this.$patch(($state) => {\n                // @ts-expect-error: FIXME: shouldn't error?\n                assign($state, newState);\n            });\n        }\n        : /* istanbul ignore next */\n            (process.env.NODE_ENV !== 'production')\n                ? () => {\n                    throw new Error(`: Store \"${$id}\" is built using the setup syntax and does not implement $reset().`);\n                }\n                : noop;\n    function $dispose() {\n        scope.stop();\n        subscriptions = [];\n        actionSubscriptions = [];\n        pinia._s.delete($id);\n    }\n    /**\n     * Helper that wraps function so it can be tracked with $onAction\n     * @param fn - action to wrap\n     * @param name - name of the action\n     */\n    const action = (fn, name = '') => {\n        if (ACTION_MARKER in fn) {\n            fn[ACTION_NAME] = name;\n            return fn;\n        }\n        const wrappedAction = function () {\n            setActivePinia(pinia);\n            const args = Array.from(arguments);\n            const afterCallbackList = [];\n            const onErrorCallbackList = [];\n            function after(callback) {\n                afterCallbackList.push(callback);\n            }\n            function onError(callback) {\n                onErrorCallbackList.push(callback);\n            }\n            // @ts-expect-error\n            triggerSubscriptions(actionSubscriptions, {\n                args,\n                name: wrappedAction[ACTION_NAME],\n                store,\n                after,\n                onError,\n            });\n            let ret;\n            try {\n                ret = fn.apply(this && this.$id === $id ? this : store, args);\n                // handle sync errors\n            }\n            catch (error) {\n                triggerSubscriptions(onErrorCallbackList, error);\n                throw error;\n            }\n            if (ret instanceof Promise) {\n                return ret\n                    .then((value) => {\n                    triggerSubscriptions(afterCallbackList, value);\n                    return value;\n                })\n                    .catch((error) => {\n                    triggerSubscriptions(onErrorCallbackList, error);\n                    return Promise.reject(error);\n                });\n            }\n            // trigger after callbacks\n            triggerSubscriptions(afterCallbackList, ret);\n            return ret;\n        };\n        wrappedAction[ACTION_MARKER] = true;\n        wrappedAction[ACTION_NAME] = name; // will be set later\n        // @ts-expect-error: we are intentionally limiting the returned type to just Fn\n        // because all the added properties are internals that are exposed through `$onAction()` only\n        return wrappedAction;\n    };\n    const _hmrPayload = /*#__PURE__*/ markRaw({\n        actions: {},\n        getters: {},\n        state: [],\n        hotState,\n    });\n    const partialStore = {\n        _p: pinia,\n        // _s: scope,\n        $id,\n        $onAction: addSubscription.bind(null, actionSubscriptions),\n        $patch,\n        $reset,\n        $subscribe(callback, options = {}) {\n            const removeSubscription = addSubscription(subscriptions, callback, options.detached, () => stopWatcher());\n            const stopWatcher = scope.run(() => watch(() => pinia.state.value[$id], (state) => {\n                if (options.flush === 'sync' ? isSyncListening : isListening) {\n                    callback({\n                        storeId: $id,\n                        type: MutationType.direct,\n                        events: debuggerEvents,\n                    }, state);\n                }\n            }, assign({}, $subscribeOptions, options)));\n            return removeSubscription;\n        },\n        $dispose,\n    };\n    /* istanbul ignore if */\n    if (isVue2) {\n        // start as non ready\n        partialStore._r = false;\n    }\n    const store = reactive((process.env.NODE_ENV !== 'production') || ((((process.env.NODE_ENV !== 'production') || (typeof __VUE_PROD_DEVTOOLS__ !== 'undefined' && __VUE_PROD_DEVTOOLS__)) && !(process.env.NODE_ENV === 'test')) && IS_CLIENT)\n        ? assign({\n            _hmrPayload,\n            _customProperties: markRaw(new Set()), // devtools custom properties\n        }, partialStore\n        // must be added later\n        // setupStore\n        )\n        : partialStore);\n    // store the partial store now so the setup of stores can instantiate each other before they are finished without\n    // creating infinite loops.\n    pinia._s.set($id, store);\n    const runWithContext = (pinia._a && pinia._a.runWithContext) || fallbackRunWithContext;\n    // TODO: idea create skipSerialize that marks properties as non serializable and they are skipped\n    const setupStore = runWithContext(() => pinia._e.run(() => (scope = effectScope()).run(() => setup({ action }))));\n    // overwrite existing actions to support $onAction\n    for (const key in setupStore) {\n        const prop = setupStore[key];\n        if ((isRef(prop) && !isComputed(prop)) || isReactive(prop)) {\n            // mark it as a piece of state to be serialized\n            if ((process.env.NODE_ENV !== 'production') && hot) {\n                set(hotState.value, key, toRef(setupStore, key));\n                // createOptionStore directly sets the state in pinia.state.value so we\n                // can just skip that\n            }\n            else if (!isOptionsStore) {\n                // in setup stores we must hydrate the state and sync pinia state tree with the refs the user just created\n                if (initialState && shouldHydrate(prop)) {\n                    if (isRef(prop)) {\n                        prop.value = initialState[key];\n                    }\n                    else {\n                        // probably a reactive object, lets recursively assign\n                        // @ts-expect-error: prop is unknown\n                        mergeReactiveObjects(prop, initialState[key]);\n                    }\n                }\n                // transfer the ref to the pinia state to keep everything in sync\n                /* istanbul ignore if */\n                if (isVue2) {\n                    set(pinia.state.value[$id], key, prop);\n                }\n                else {\n                    pinia.state.value[$id][key] = prop;\n                }\n            }\n            /* istanbul ignore else */\n            if ((process.env.NODE_ENV !== 'production')) {\n                _hmrPayload.state.push(key);\n            }\n            // action\n        }\n        else if (typeof prop === 'function') {\n            const actionValue = (process.env.NODE_ENV !== 'production') && hot ? prop : action(prop, key);\n            // this a hot module replacement store because the hotUpdate method needs\n            // to do it with the right context\n            /* istanbul ignore if */\n            if (isVue2) {\n                set(setupStore, key, actionValue);\n            }\n            else {\n                // @ts-expect-error\n                setupStore[key] = actionValue;\n            }\n            /* istanbul ignore else */\n            if ((process.env.NODE_ENV !== 'production')) {\n                _hmrPayload.actions[key] = prop;\n            }\n            // list actions so they can be used in plugins\n            // @ts-expect-error\n            optionsForPlugin.actions[key] = prop;\n        }\n        else if ((process.env.NODE_ENV !== 'production')) {\n            // add getters for devtools\n            if (isComputed(prop)) {\n                _hmrPayload.getters[key] = isOptionsStore\n                    ? // @ts-expect-error\n                        options.getters[key]\n                    : prop;\n                if (IS_CLIENT) {\n                    const getters = setupStore._getters ||\n                        // @ts-expect-error: same\n                        (setupStore._getters = markRaw([]));\n                    getters.push(key);\n                }\n            }\n        }\n    }\n    // add the state, getters, and action properties\n    /* istanbul ignore if */\n    if (isVue2) {\n        Object.keys(setupStore).forEach((key) => {\n            set(store, key, setupStore[key]);\n        });\n    }\n    else {\n        assign(store, setupStore);\n        // allows retrieving reactive objects with `storeToRefs()`. Must be called after assigning to the reactive object.\n        // Make `storeToRefs()` work with `reactive()` #799\n        assign(toRaw(store), setupStore);\n    }\n    // use this instead of a computed with setter to be able to create it anywhere\n    // without linking the computed lifespan to wherever the store is first\n    // created.\n    Object.defineProperty(store, '$state', {\n        get: () => ((process.env.NODE_ENV !== 'production') && hot ? hotState.value : pinia.state.value[$id]),\n        set: (state) => {\n            /* istanbul ignore if */\n            if ((process.env.NODE_ENV !== 'production') && hot) {\n                throw new Error('cannot set hotState');\n            }\n            $patch(($state) => {\n                // @ts-expect-error: FIXME: shouldn't error?\n                assign($state, state);\n            });\n        },\n    });\n    // add the hotUpdate before plugins to allow them to override it\n    /* istanbul ignore else */\n    if ((process.env.NODE_ENV !== 'production')) {\n        store._hotUpdate = markRaw((newStore) => {\n            store._hotUpdating = true;\n            newStore._hmrPayload.state.forEach((stateKey) => {\n                if (stateKey in store.$state) {\n                    const newStateTarget = newStore.$state[stateKey];\n                    const oldStateSource = store.$state[stateKey];\n                    if (typeof newStateTarget === 'object' &&\n                        isPlainObject(newStateTarget) &&\n                        isPlainObject(oldStateSource)) {\n                        patchObject(newStateTarget, oldStateSource);\n                    }\n                    else {\n                        // transfer the ref\n                        newStore.$state[stateKey] = oldStateSource;\n                    }\n                }\n                // patch direct access properties to allow store.stateProperty to work as\n                // store.$state.stateProperty\n                set(store, stateKey, toRef(newStore.$state, stateKey));\n            });\n            // remove deleted state properties\n            Object.keys(store.$state).forEach((stateKey) => {\n                if (!(stateKey in newStore.$state)) {\n                    del(store, stateKey);\n                }\n            });\n            // avoid devtools logging this as a mutation\n            isListening = false;\n            isSyncListening = false;\n            pinia.state.value[$id] = toRef(newStore._hmrPayload, 'hotState');\n            isSyncListening = true;\n            nextTick().then(() => {\n                isListening = true;\n            });\n            for (const actionName in newStore._hmrPayload.actions) {\n                const actionFn = newStore[actionName];\n                set(store, actionName, action(actionFn, actionName));\n            }\n            // TODO: does this work in both setup and option store?\n            for (const getterName in newStore._hmrPayload.getters) {\n                const getter = newStore._hmrPayload.getters[getterName];\n                const getterValue = isOptionsStore\n                    ? // special handling of options api\n                        computed(() => {\n                            setActivePinia(pinia);\n                            return getter.call(store, store);\n                        })\n                    : getter;\n                set(store, getterName, getterValue);\n            }\n            // remove deleted getters\n            Object.keys(store._hmrPayload.getters).forEach((key) => {\n                if (!(key in newStore._hmrPayload.getters)) {\n                    del(store, key);\n                }\n            });\n            // remove old actions\n            Object.keys(store._hmrPayload.actions).forEach((key) => {\n                if (!(key in newStore._hmrPayload.actions)) {\n                    del(store, key);\n                }\n            });\n            // update the values used in devtools and to allow deleting new properties later on\n            store._hmrPayload = newStore._hmrPayload;\n            store._getters = newStore._getters;\n            store._hotUpdating = false;\n        });\n    }\n    if ((((process.env.NODE_ENV !== 'production') || (typeof __VUE_PROD_DEVTOOLS__ !== 'undefined' && __VUE_PROD_DEVTOOLS__)) && !(process.env.NODE_ENV === 'test')) && IS_CLIENT) {\n        const nonEnumerable = {\n            writable: true,\n            configurable: true,\n            // avoid warning on devtools trying to display this property\n            enumerable: false,\n        };\n        ['_p', '_hmrPayload', '_getters', '_customProperties'].forEach((p) => {\n            Object.defineProperty(store, p, assign({ value: store[p] }, nonEnumerable));\n        });\n    }\n    /* istanbul ignore if */\n    if (isVue2) {\n        // mark the store as ready before plugins\n        store._r = true;\n    }\n    // apply all plugins\n    pinia._p.forEach((extender) => {\n        /* istanbul ignore else */\n        if ((((process.env.NODE_ENV !== 'production') || (typeof __VUE_PROD_DEVTOOLS__ !== 'undefined' && __VUE_PROD_DEVTOOLS__)) && !(process.env.NODE_ENV === 'test')) && IS_CLIENT) {\n            const extensions = scope.run(() => extender({\n                store: store,\n                app: pinia._a,\n                pinia,\n                options: optionsForPlugin,\n            }));\n            Object.keys(extensions || {}).forEach((key) => store._customProperties.add(key));\n            assign(store, extensions);\n        }\n        else {\n            assign(store, scope.run(() => extender({\n                store: store,\n                app: pinia._a,\n                pinia,\n                options: optionsForPlugin,\n            })));\n        }\n    });\n    if ((process.env.NODE_ENV !== 'production') &&\n        store.$state &&\n        typeof store.$state === 'object' &&\n        typeof store.$state.constructor === 'function' &&\n        !store.$state.constructor.toString().includes('[native code]')) {\n        console.warn(`[]: The \"state\" must be a plain object. It cannot be\\n` +\n            `\\tstate: () => new MyClass()\\n` +\n            `Found in store \"${store.$id}\".`);\n    }\n    // only apply hydrate to option stores with an initial state in pinia\n    if (initialState &&\n        isOptionsStore &&\n        options.hydrate) {\n        options.hydrate(store.$state, initialState);\n    }\n    isListening = true;\n    isSyncListening = true;\n    return store;\n}\n// allows unused stores to be tree shaken\n/*! #__NO_SIDE_EFFECTS__ */\nfunction defineStore(\n// TODO: add proper types from above\nidOrOptions, setup, setupOptions) {\n    let id;\n    let options;\n    const isSetupStore = typeof setup === 'function';\n    if (typeof idOrOptions === 'string') {\n        id = idOrOptions;\n        // the option store setup will contain the actual options in this case\n        options = isSetupStore ? setupOptions : setup;\n    }\n    else {\n        options = idOrOptions;\n        id = idOrOptions.id;\n        if ((process.env.NODE_ENV !== 'production') && typeof id !== 'string') {\n            throw new Error(`[]: \"defineStore()\" must be passed a store id as its first argument.`);\n        }\n    }\n    function useStore(pinia, hot) {\n        const hasContext = hasInjectionContext();\n        pinia =\n            // in test mode, ignore the argument provided as we can always retrieve a\n            // pinia instance with getActivePinia()\n            ((process.env.NODE_ENV === 'test') && activePinia && activePinia._testing ? null : pinia) ||\n                (hasContext ? inject(piniaSymbol, null) : null);\n        if (pinia)\n            setActivePinia(pinia);\n        if ((process.env.NODE_ENV !== 'production') && !activePinia) {\n            throw new Error(`[]: \"getActivePinia()\" was called but there was no active Pinia. Are you trying to use a store before calling \"app.use(pinia)\"?\\n` +\n                `See https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.\\n` +\n                `This will fail in production.`);\n        }\n        pinia = activePinia;\n        if (!pinia._s.has(id)) {\n            // creating the store registers it in `pinia._s`\n            if (isSetupStore) {\n                createSetupStore(id, setup, options, pinia);\n            }\n            else {\n                createOptionsStore(id, options, pinia);\n            }\n            /* istanbul ignore else */\n            if ((process.env.NODE_ENV !== 'production')) {\n                // @ts-expect-error: not the right inferred type\n                useStore._pinia = pinia;\n            }\n        }\n        const store = pinia._s.get(id);\n        if ((process.env.NODE_ENV !== 'production') && hot) {\n            const hotId = '__hot:' + id;\n            const newStore = isSetupStore\n                ? createSetupStore(hotId, setup, options, pinia, true)\n                : createOptionsStore(hotId, assign({}, options), pinia, true);\n            hot._hotUpdate(newStore);\n            // cleanup the state properties and the store from the cache\n            delete pinia.state.value[hotId];\n            pinia._s.delete(hotId);\n        }\n        if ((process.env.NODE_ENV !== 'production') && IS_CLIENT) {\n            const currentInstance = getCurrentInstance();\n            // save stores in instances to access them devtools\n            if (currentInstance &&\n                currentInstance.proxy &&\n                // avoid adding stores that are just built for hot module replacement\n                !hot) {\n                const vm = currentInstance.proxy;\n                const cache = '_pStores' in vm ? vm._pStores : (vm._pStores = {});\n                cache[id] = store;\n            }\n        }\n        // StoreGeneric cannot be casted towards Store\n        return store;\n    }\n    useStore.$id = id;\n    return useStore;\n}\n\nlet mapStoreSuffix = 'Store';\n/**\n * Changes the suffix added by `mapStores()`. Can be set to an empty string.\n * Defaults to `\"Store\"`. Make sure to extend the MapStoresCustomization\n * interface if you are using TypeScript.\n *\n * @param suffix - new suffix\n */\nfunction setMapStoreSuffix(suffix // could be 'Store' but that would be annoying for JS\n) {\n    mapStoreSuffix = suffix;\n}\n/**\n * Allows using stores without the composition API (`setup()`) by generating an\n * object to be spread in the `computed` field of a component. It accepts a list\n * of store definitions.\n *\n * @example\n * ```js\n * export default {\n *   computed: {\n *     // other computed properties\n *     ...mapStores(useUserStore, useCartStore)\n *   },\n *\n *   created() {\n *     this.userStore // store with id \"user\"\n *     this.cartStore // store with id \"cart\"\n *   }\n * }\n * ```\n *\n * @param stores - list of stores to map to an object\n */\nfunction mapStores(...stores) {\n    if ((process.env.NODE_ENV !== 'production') && Array.isArray(stores[0])) {\n        console.warn(`[]: Directly pass all stores to \"mapStores()\" without putting them in an array:\\n` +\n            `Replace\\n` +\n            `\\tmapStores([useAuthStore, useCartStore])\\n` +\n            `with\\n` +\n            `\\tmapStores(useAuthStore, useCartStore)\\n` +\n            `This will fail in production if not fixed.`);\n        stores = stores[0];\n    }\n    return stores.reduce((reduced, useStore) => {\n        // @ts-expect-error: $id is added by defineStore\n        reduced[useStore.$id + mapStoreSuffix] = function () {\n            return useStore(this.$pinia);\n        };\n        return reduced;\n    }, {});\n}\n/**\n * Allows using state and getters from one store without using the composition\n * API (`setup()`) by generating an object to be spread in the `computed` field\n * of a component.\n *\n * @param useStore - store to map from\n * @param keysOrMapper - array or object\n */\nfunction mapState(useStore, keysOrMapper) {\n    return Array.isArray(keysOrMapper)\n        ? keysOrMapper.reduce((reduced, key) => {\n            reduced[key] = function () {\n                // @ts-expect-error: FIXME: should work?\n                return useStore(this.$pinia)[key];\n            };\n            return reduced;\n        }, {})\n        : Object.keys(keysOrMapper).reduce((reduced, key) => {\n            // @ts-expect-error\n            reduced[key] = function () {\n                const store = useStore(this.$pinia);\n                const storeKey = keysOrMapper[key];\n                // for some reason TS is unable to infer the type of storeKey to be a\n                // function\n                return typeof storeKey === 'function'\n                    ? storeKey.call(this, store)\n                    : // @ts-expect-error: FIXME: should work?\n                        store[storeKey];\n            };\n            return reduced;\n        }, {});\n}\n/**\n * Alias for `mapState()`. You should use `mapState()` instead.\n * @deprecated use `mapState()` instead.\n */\nconst mapGetters = mapState;\n/**\n * Allows directly using actions from your store without using the composition\n * API (`setup()`) by generating an object to be spread in the `methods` field\n * of a component.\n *\n * @param useStore - store to map from\n * @param keysOrMapper - array or object\n */\nfunction mapActions(useStore, keysOrMapper) {\n    return Array.isArray(keysOrMapper)\n        ? keysOrMapper.reduce((reduced, key) => {\n            // @ts-expect-error\n            reduced[key] = function (...args) {\n                // @ts-expect-error: FIXME: should work?\n                return useStore(this.$pinia)[key](...args);\n            };\n            return reduced;\n        }, {})\n        : Object.keys(keysOrMapper).reduce((reduced, key) => {\n            // @ts-expect-error\n            reduced[key] = function (...args) {\n                // @ts-expect-error: FIXME: should work?\n                return useStore(this.$pinia)[keysOrMapper[key]](...args);\n            };\n            return reduced;\n        }, {});\n}\n/**\n * Allows using state and getters from one store without using the composition\n * API (`setup()`) by generating an object to be spread in the `computed` field\n * of a component.\n *\n * @param useStore - store to map from\n * @param keysOrMapper - array or object\n */\nfunction mapWritableState(useStore, keysOrMapper) {\n    return Array.isArray(keysOrMapper)\n        ? keysOrMapper.reduce((reduced, key) => {\n            reduced[key] = {\n                get() {\n                    return useStore(this.$pinia)[key];\n                },\n                set(value) {\n                    return (useStore(this.$pinia)[key] = value);\n                },\n            };\n            return reduced;\n        }, {})\n        : Object.keys(keysOrMapper).reduce((reduced, key) => {\n            reduced[key] = {\n                get() {\n                    return useStore(this.$pinia)[keysOrMapper[key]];\n                },\n                set(value) {\n                    return (useStore(this.$pinia)[keysOrMapper[key]] = value);\n                },\n            };\n            return reduced;\n        }, {});\n}\n\n/**\n * Creates an object of references with all the state, getters, and plugin-added\n * state properties of the store. Similar to `toRefs()` but specifically\n * designed for Pinia stores so methods and non reactive properties are\n * completely ignored.\n *\n * @param store - store to extract the refs from\n */\nfunction storeToRefs(store) {\n    // See https://github.com/vuejs/pinia/issues/852\n    // It's easier to just use toRefs() even if it includes more stuff\n    if (isVue2) {\n        // @ts-expect-error: toRefs include methods and others\n        return toRefs(store);\n    }\n    else {\n        const rawStore = toRaw(store);\n        const refs = {};\n        for (const key in rawStore) {\n            const value = rawStore[key];\n            // There is no native method to check for a computed\n            // https://github.com/vuejs/core/pull/4165\n            if (value.effect) {\n                // @ts-expect-error: too hard to type correctly\n                refs[key] =\n                    // ...\n                    computed({\n                        get: () => store[key],\n                        set(value) {\n                            store[key] = value;\n                        },\n                    });\n            }\n            else if (isRef(value) || isReactive(value)) {\n                // @ts-expect-error: the key is state or getter\n                refs[key] =\n                    // ---\n                    toRef(store, key);\n            }\n        }\n        return refs;\n    }\n}\n\n/**\n * Vue 2 Plugin that must be installed for pinia to work. Note **you don't need\n * this plugin if you are using Nuxt.js**. Use the `buildModule` instead:\n * https://pinia.vuejs.org/ssr/nuxt.html.\n *\n * @example\n * ```js\n * import Vue from 'vue'\n * import { PiniaVuePlugin, createPinia } from 'pinia'\n *\n * Vue.use(PiniaVuePlugin)\n * const pinia = createPinia()\n *\n * new Vue({\n *   el: '#app',\n *   // ...\n *   pinia,\n * })\n * ```\n *\n * @param _Vue - `Vue` imported from 'vue'.\n */\nconst PiniaVuePlugin = function (_Vue) {\n    // Equivalent of\n    // app.config.globalProperties.$pinia = pinia\n    _Vue.mixin({\n        beforeCreate() {\n            const options = this.$options;\n            if (options.pinia) {\n                const pinia = options.pinia;\n                // HACK: taken from provide(): https://github.com/vuejs/composition-api/blob/main/src/apis/inject.ts#L31\n                /* istanbul ignore else */\n                if (!this._provided) {\n                    const provideCache = {};\n                    Object.defineProperty(this, '_provided', {\n                        get: () => provideCache,\n                        set: (v) => Object.assign(provideCache, v),\n                    });\n                }\n                this._provided[piniaSymbol] = pinia;\n                // propagate the pinia instance in an SSR friendly way\n                // avoid adding it to nuxt twice\n                /* istanbul ignore else */\n                if (!this.$pinia) {\n                    this.$pinia = pinia;\n                }\n                pinia._a = this;\n                if (IS_CLIENT) {\n                    // this allows calling useStore() outside of a component setup after\n                    // installing pinia's plugin\n                    setActivePinia(pinia);\n                }\n                if ((((process.env.NODE_ENV !== 'production') || (typeof __VUE_PROD_DEVTOOLS__ !== 'undefined' && __VUE_PROD_DEVTOOLS__)) && !(process.env.NODE_ENV === 'test')) && IS_CLIENT) {\n                    registerPiniaDevtools(pinia._a, pinia);\n                }\n            }\n            else if (!this.$pinia && options.parent && options.parent.$pinia) {\n                this.$pinia = options.parent.$pinia;\n            }\n        },\n        destroyed() {\n            delete this._pStores;\n        },\n    });\n};\n\nexport { MutationType, PiniaVuePlugin, acceptHMRUpdate, createPinia, defineStore, disposePinia, getActivePinia, mapActions, mapGetters, mapState, mapStores, mapWritableState, setActivePinia, setMapStoreSuffix, shouldHydrate, skipHydrate, storeToRefs };\n","import { useSlots as ce, ref as k, computed as z, watch as B, onMounted as G, onBeforeUnmount as X, provide as g, createBlock as ve, openBlock as Y, resolveDynamicComponent as me, nextTick as T, h as fe, inject as w, getCurrentInstance as de, createElementBlock as pe, normalizeStyle as ze, unref as he, renderSlot as xe } from \"vue\";\nconst Pe = {\n  __name: \"splitpanes\",\n  props: {\n    horizontal: { type: Boolean, default: !1 },\n    pushOtherPanes: { type: Boolean, default: !0 },\n    maximizePanes: { type: Boolean, default: !0 },\n    // Maximize pane on splitter double click/tap.\n    rtl: { type: Boolean, default: !1 },\n    // Right to left direction.\n    firstSplitter: { type: Boolean, default: !1 }\n  },\n  emits: [\n    \"ready\",\n    \"resize\",\n    \"resized\",\n    \"pane-click\",\n    \"pane-maximize\",\n    \"pane-add\",\n    \"pane-remove\",\n    \"splitter-click\",\n    \"splitter-dblclick\"\n  ],\n  setup(D, { emit: h }) {\n    const y = h, u = D, E = ce(), l = k([]), M = z(() => l.value.reduce((e, n) => (e[~~n.id] = n) && e, {})), m = z(() => l.value.length), x = k(null), S = k(!1), c = k({\n      mouseDown: !1,\n      dragging: !1,\n      activeSplitter: null,\n      cursorOffset: 0\n      // Cursor offset within the splitter.\n    }), f = k({\n      // Used to detect double click on touch devices.\n      splitter: null,\n      timeoutId: null\n    }), _ = z(() => ({\n      [`splitpanes splitpanes--${u.horizontal ? \"horizontal\" : \"vertical\"}`]: !0,\n      \"splitpanes--dragging\": c.value.dragging\n    })), R = () => {\n      document.addEventListener(\"mousemove\", r, { passive: !1 }), document.addEventListener(\"mouseup\", P), \"ontouchstart\" in window && (document.addEventListener(\"touchmove\", r, { passive: !1 }), document.addEventListener(\"touchend\", P));\n    }, O = () => {\n      document.removeEventListener(\"mousemove\", r, { passive: !1 }), document.removeEventListener(\"mouseup\", P), \"ontouchstart\" in window && (document.removeEventListener(\"touchmove\", r, { passive: !1 }), document.removeEventListener(\"touchend\", P));\n    }, b = (e, n) => {\n      const t = e.target.closest(\".splitpanes__splitter\");\n      if (t) {\n        const { left: i, top: a } = t.getBoundingClientRect(), { clientX: s, clientY: o } = \"ontouchstart\" in window && e.touches ? e.touches[0] : e;\n        c.value.cursorOffset = u.horizontal ? o - a : s - i;\n      }\n      R(), c.value.mouseDown = !0, c.value.activeSplitter = n;\n    }, r = (e) => {\n      c.value.mouseDown && (e.preventDefault(), c.value.dragging = !0, requestAnimationFrame(() => {\n        K(I(e)), d(\"resize\", { event: e }, !0);\n      }));\n    }, P = (e) => {\n      c.value.dragging && (window.getSelection().removeAllRanges(), d(\"resized\", { event: e }, !0)), c.value.mouseDown = !1, c.value.activeSplitter = null, setTimeout(() => {\n        c.value.dragging = !1, O();\n      }, 100);\n    }, A = (e, n) => {\n      \"ontouchstart\" in window && (e.preventDefault(), f.value.splitter === n ? (clearTimeout(f.value.timeoutId), f.value.timeoutId = null, U(e, n), f.value.splitter = null) : (f.value.splitter = n, f.value.timeoutId = setTimeout(() => f.value.splitter = null, 500))), c.value.dragging || d(\"splitter-click\", { event: e, index: n }, !0);\n    }, U = (e, n) => {\n      if (d(\"splitter-dblclick\", { event: e, index: n }, !0), u.maximizePanes) {\n        let t = 0;\n        l.value = l.value.map((i, a) => (i.size = a === n ? i.max : i.min, a !== n && (t += i.min), i)), l.value[n].size -= t, d(\"pane-maximize\", { event: e, index: n, pane: l.value[n] }), d(\"resized\", { event: e, index: n }, !0);\n      }\n    }, W = (e, n) => {\n      d(\"pane-click\", {\n        event: e,\n        index: M.value[n].index,\n        pane: M.value[n]\n      });\n    }, I = (e) => {\n      const n = x.value.getBoundingClientRect(), { clientX: t, clientY: i } = \"ontouchstart\" in window && e.touches ? e.touches[0] : e;\n      return {\n        x: t - (u.horizontal ? 0 : c.value.cursorOffset) - n.left,\n        y: i - (u.horizontal ? c.value.cursorOffset : 0) - n.top\n      };\n    }, J = (e) => {\n      e = e[u.horizontal ? \"y\" : \"x\"];\n      const n = x.value[u.horizontal ? \"clientHeight\" : \"clientWidth\"];\n      return u.rtl && !u.horizontal && (e = n - e), e * 100 / n;\n    }, K = (e) => {\n      const n = c.value.activeSplitter;\n      let t = {\n        prevPanesSize: $(n),\n        nextPanesSize: N(n),\n        prevReachedMinPanes: 0,\n        nextReachedMinPanes: 0\n      };\n      const i = 0 + (u.pushOtherPanes ? 0 : t.prevPanesSize), a = 100 - (u.pushOtherPanes ? 0 : t.nextPanesSize), s = Math.max(Math.min(J(e), a), i);\n      let o = [n, n + 1], v = l.value[o[0]] || null, p = l.value[o[1]] || null;\n      const H = v.max < 100 && s >= v.max + t.prevPanesSize, ue = p.max < 100 && s <= 100 - (p.max + N(n + 1));\n      if (H || ue) {\n        H ? (v.size = v.max, p.size = Math.max(100 - v.max - t.prevPanesSize - t.nextPanesSize, 0)) : (v.size = Math.max(100 - p.max - t.prevPanesSize - N(n + 1), 0), p.size = p.max);\n        return;\n      }\n      if (u.pushOtherPanes) {\n        const j = Q(t, s);\n        if (!j) return;\n        ({ sums: t, panesToResize: o } = j), v = l.value[o[0]] || null, p = l.value[o[1]] || null;\n      }\n      v !== null && (v.size = Math.min(Math.max(s - t.prevPanesSize - t.prevReachedMinPanes, v.min), v.max)), p !== null && (p.size = Math.min(Math.max(100 - s - t.nextPanesSize - t.nextReachedMinPanes, p.min), p.max));\n    }, Q = (e, n) => {\n      const t = c.value.activeSplitter, i = [t, t + 1];\n      return n < e.prevPanesSize + l.value[i[0]].min && (i[0] = V(t).index, e.prevReachedMinPanes = 0, i[0] < t && l.value.forEach((a, s) => {\n        s > i[0] && s <= t && (a.size = a.min, e.prevReachedMinPanes += a.min);\n      }), e.prevPanesSize = $(i[0]), i[0] === void 0) ? (e.prevReachedMinPanes = 0, l.value[0].size = l.value[0].min, l.value.forEach((a, s) => {\n        s > 0 && s <= t && (a.size = a.min, e.prevReachedMinPanes += a.min);\n      }), l.value[i[1]].size = 100 - e.prevReachedMinPanes - l.value[0].min - e.prevPanesSize - e.nextPanesSize, null) : n > 100 - e.nextPanesSize - l.value[i[1]].min && (i[1] = Z(t).index, e.nextReachedMinPanes = 0, i[1] > t + 1 && l.value.forEach((a, s) => {\n        s > t && s < i[1] && (a.size = a.min, e.nextReachedMinPanes += a.min);\n      }), e.nextPanesSize = N(i[1] - 1), i[1] === void 0) ? (e.nextReachedMinPanes = 0, l.value.forEach((a, s) => {\n        s < m.value - 1 && s >= t + 1 && (a.size = a.min, e.nextReachedMinPanes += a.min);\n      }), l.value[i[0]].size = 100 - e.prevPanesSize - N(i[0] - 1), null) : { sums: e, panesToResize: i };\n    }, $ = (e) => l.value.reduce((n, t, i) => n + (i < e ? t.size : 0), 0), N = (e) => l.value.reduce((n, t, i) => n + (i > e + 1 ? t.size : 0), 0), V = (e) => [...l.value].reverse().find((t) => t.index < e && t.size > t.min) || {}, Z = (e) => l.value.find((t) => t.index > e + 1 && t.size > t.min) || {}, ee = () => {\n      var n;\n      const e = Array.from(((n = x.value) == null ? void 0 : n.children) || []);\n      for (const t of e) {\n        const i = t.classList.contains(\"splitpanes__pane\"), a = t.classList.contains(\"splitpanes__splitter\");\n        !i && !a && (t.remove(), console.warn(\"Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed.\"));\n      }\n    }, F = (e, n, t = !1) => {\n      const i = e - 1, a = document.createElement(\"div\");\n      a.classList.add(\"splitpanes__splitter\"), t || (a.onmousedown = (s) => b(s, i), typeof window < \"u\" && \"ontouchstart\" in window && (a.ontouchstart = (s) => b(s, i)), a.onclick = (s) => A(s, i + 1)), a.ondblclick = (s) => U(s, i + 1), n.parentNode.insertBefore(a, n);\n    }, ne = (e) => {\n      e.onmousedown = void 0, e.onclick = void 0, e.ondblclick = void 0, e.remove();\n    }, C = () => {\n      var t;\n      const e = Array.from(((t = x.value) == null ? void 0 : t.children) || []);\n      for (const i of e)\n        i.className.includes(\"splitpanes__splitter\") && ne(i);\n      let n = 0;\n      for (const i of e)\n        i.className.includes(\"splitpanes__pane\") && (!n && u.firstSplitter ? F(n, i, !0) : n && F(n, i), n++);\n    }, ie = ({ uid: e, ...n }) => {\n      const t = M.value[e];\n      for (const [i, a] of Object.entries(n)) t[i] = a;\n    }, te = (e) => {\n      var t;\n      let n = -1;\n      Array.from(((t = x.value) == null ? void 0 : t.children) || []).some((i) => (i.className.includes(\"splitpanes__pane\") && n++, i.isSameNode(e.el))), l.value.splice(n, 0, { ...e, index: n }), l.value.forEach((i, a) => i.index = a), S.value && T(() => {\n        C(), L({ addedPane: l.value[n] }), d(\"pane-add\", { pane: l.value[n] });\n      });\n    }, ae = (e) => {\n      const n = l.value.findIndex((i) => i.id === e);\n      l.value[n].el = null;\n      const t = l.value.splice(n, 1)[0];\n      l.value.forEach((i, a) => i.index = a), T(() => {\n        C(), d(\"pane-remove\", { pane: t }), L({ removedPane: { ...t } });\n      });\n    }, L = (e = {}) => {\n      !e.addedPane && !e.removedPane ? le() : l.value.some((n) => n.givenSize !== null || n.min || n.max < 100) ? oe(e) : se(), S.value && d(\"resized\");\n    }, se = () => {\n      const e = 100 / m.value;\n      let n = 0;\n      const t = [], i = [];\n      for (const a of l.value)\n        a.size = Math.max(Math.min(e, a.max), a.min), n -= a.size, a.size >= a.max && t.push(a.id), a.size <= a.min && i.push(a.id);\n      n > 0.1 && q(n, t, i);\n    }, le = () => {\n      let e = 100;\n      const n = [], t = [];\n      let i = 0;\n      for (const s of l.value)\n        e -= s.size, s.givenSize !== null && i++, s.size >= s.max && n.push(s.id), s.size <= s.min && t.push(s.id);\n      let a = 100;\n      if (e > 0.1) {\n        for (const s of l.value)\n          s.givenSize === null && (s.size = Math.max(Math.min(e / (m.value - i), s.max), s.min)), a -= s.size;\n        a > 0.1 && q(a, n, t);\n      }\n    }, oe = ({ addedPane: e, removedPane: n } = {}) => {\n      let t = 100 / m.value, i = 0;\n      const a = [], s = [];\n      ((e == null ? void 0 : e.givenSize) ?? null) !== null && (t = (100 - e.givenSize) / (m.value - 1));\n      for (const o of l.value)\n        i -= o.size, o.size >= o.max && a.push(o.id), o.size <= o.min && s.push(o.id);\n      if (!(Math.abs(i) < 0.1)) {\n        for (const o of l.value)\n          (e == null ? void 0 : e.givenSize) !== null && (e == null ? void 0 : e.id) === o.id || (o.size = Math.max(Math.min(t, o.max), o.min)), i -= o.size, o.size >= o.max && a.push(o.id), o.size <= o.min && s.push(o.id);\n        i > 0.1 && q(i, a, s);\n      }\n    }, q = (e, n, t) => {\n      let i;\n      e > 0 ? i = e / (m.value - n.length) : i = e / (m.value - t.length), l.value.forEach((a, s) => {\n        if (e > 0 && !n.includes(a.id)) {\n          const o = Math.max(Math.min(a.size + i, a.max), a.min), v = o - a.size;\n          e -= v, a.size = o;\n        } else if (!t.includes(a.id)) {\n          const o = Math.max(Math.min(a.size + i, a.max), a.min), v = o - a.size;\n          e -= v, a.size = o;\n        }\n      }), Math.abs(e) > 0.1 && T(() => {\n        S.value && console.warn(\"Splitpanes: Could not resize panes correctly due to their constraints.\");\n      });\n    }, d = (e, n = void 0, t = !1) => {\n      const i = (n == null ? void 0 : n.index) ?? c.value.activeSplitter ?? null;\n      y(e, {\n        ...n,\n        ...i !== null && { index: i },\n        ...t && i !== null && {\n          prevPane: l.value[i - (u.firstSplitter ? 1 : 0)],\n          nextPane: l.value[i + (u.firstSplitter ? 0 : 1)]\n        },\n        panes: l.value.map((a) => ({ min: a.min, max: a.max, size: a.size }))\n      });\n    };\n    B(() => u.firstSplitter, () => C()), G(() => {\n      ee(), C(), L(), d(\"ready\"), S.value = !0;\n    }), X(() => S.value = !1);\n    const re = () => {\n      var e;\n      return fe(\n        \"div\",\n        { ref: x, class: _.value },\n        (e = E.default) == null ? void 0 : e.call(E)\n      );\n    };\n    return g(\"panes\", l), g(\"indexedPanes\", M), g(\"horizontal\", z(() => u.horizontal)), g(\"requestUpdate\", ie), g(\"onPaneAdd\", te), g(\"onPaneRemove\", ae), g(\"onPaneClick\", W), (e, n) => (Y(), ve(me(re)));\n  }\n}, ge = {\n  __name: \"pane\",\n  props: {\n    size: { type: [Number, String] },\n    minSize: { type: [Number, String], default: 0 },\n    maxSize: { type: [Number, String], default: 100 }\n  },\n  setup(D) {\n    var b;\n    const h = D, y = w(\"requestUpdate\"), u = w(\"onPaneAdd\"), E = w(\"horizontal\"), l = w(\"onPaneRemove\"), M = w(\"onPaneClick\"), m = (b = de()) == null ? void 0 : b.uid, x = w(\"indexedPanes\"), S = z(() => x.value[m]), c = k(null), f = z(() => {\n      const r = isNaN(h.size) || h.size === void 0 ? 0 : parseFloat(h.size);\n      return Math.max(Math.min(r, R.value), _.value);\n    }), _ = z(() => {\n      const r = parseFloat(h.minSize);\n      return isNaN(r) ? 0 : r;\n    }), R = z(() => {\n      const r = parseFloat(h.maxSize);\n      return isNaN(r) ? 100 : r;\n    }), O = z(() => {\n      var r;\n      return `${E.value ? \"height\" : \"width\"}: ${(r = S.value) == null ? void 0 : r.size}%`;\n    });\n    return B(() => f.value, (r) => y({ uid: m, size: r })), B(() => _.value, (r) => y({ uid: m, min: r })), B(() => R.value, (r) => y({ uid: m, max: r })), G(() => {\n      u({\n        id: m,\n        el: c.value,\n        min: _.value,\n        max: R.value,\n        // The given size (useful to know the user intention).\n        givenSize: h.size === void 0 ? null : f.value,\n        size: f.value\n        // The computed current size at any time.\n      });\n    }), X(() => l(m)), (r, P) => (Y(), pe(\"div\", {\n      ref_key: \"paneEl\",\n      ref: c,\n      class: \"splitpanes__pane\",\n      onClick: P[0] || (P[0] = (A) => he(M)(A, r._.uid)),\n      style: ze(O.value)\n    }, [\n      xe(r.$slots, \"default\")\n    ], 4));\n  }\n};\nexport {\n  ge as Pane,\n  Pe as Splitpanes\n};\n","/**\n * Audio Feature Extraction Service\n *\n * Uses Web Audio API for comprehensive audio analysis.\n * Supports amplitude, RMS, spectral analysis, onset detection, and BPM estimation.\n * Matches ATI_AudioReactive and Yvann-Nodes functionality.\n */\n\n// ============================================================================\n// Types\n// ============================================================================\n\nexport interface AudioAnalysis {\n  sampleRate: number;\n  duration: number;\n  frameCount: number;\n  amplitudeEnvelope: number[];\n  rmsEnergy: number[];\n  spectralCentroid: number[];\n  frequencyBands: {\n    sub: number[];\n    bass: number[];\n    lowMid: number[];\n    mid: number[];\n    highMid: number[];\n    high: number[];\n  };\n  onsets: number[];\n  bpm: number;\n}\n\nexport interface FrequencyBandRanges {\n  sub: [number, number];\n  bass: [number, number];\n  lowMid: [number, number];\n  mid: [number, number];\n  highMid: [number, number];\n  high: [number, number];\n}\n\n// ============================================================================\n// Constants\n// ============================================================================\n\nconst DEFAULT_FFT_SIZE = 2048;\n\nconst FREQUENCY_BANDS: FrequencyBandRanges = {\n  sub: [20, 60],\n  bass: [60, 250],\n  lowMid: [250, 500],\n  mid: [500, 2000],\n  highMid: [2000, 4000],\n  high: [4000, 20000]\n};\n\n// ============================================================================\n// Audio Loading\n// ============================================================================\n\n/**\n * Load an audio file and decode it to an AudioBuffer\n */\nexport async function loadAudioFile(file: File): Promise<AudioBuffer> {\n  const arrayBuffer = await file.arrayBuffer();\n  const audioContext = new AudioContext();\n\n  try {\n    const audioBuffer = await audioContext.decodeAudioData(arrayBuffer);\n    await audioContext.close();\n    return audioBuffer;\n  } catch (error) {\n    await audioContext.close();\n    throw new Error(`Failed to decode audio file: ${error}`);\n  }\n}\n\n/**\n * Load audio from a URL\n */\nexport async function loadAudioFromUrl(url: string): Promise<AudioBuffer> {\n  const response = await fetch(url);\n  const arrayBuffer = await response.arrayBuffer();\n  const audioContext = new AudioContext();\n\n  try {\n    const audioBuffer = await audioContext.decodeAudioData(arrayBuffer);\n    await audioContext.close();\n    return audioBuffer;\n  } catch (error) {\n    await audioContext.close();\n    throw new Error(`Failed to decode audio from URL: ${error}`);\n  }\n}\n\n// ============================================================================\n// Main Analysis Function\n// ============================================================================\n\n/**\n * Perform comprehensive audio analysis\n */\nexport async function analyzeAudio(buffer: AudioBuffer, fps: number): Promise<AudioAnalysis> {\n  const duration = buffer.duration;\n  const frameCount = Math.ceil(duration * fps);\n  const sampleRate = buffer.sampleRate;\n\n  // Extract features\n  const amplitudeEnvelope = extractAmplitudeEnvelope(buffer, fps);\n  const rmsEnergy = extractRMSEnergy(buffer, fps);\n  const frequencyBands = await extractFrequencyBands(buffer, fps);\n  const spectralCentroid = await extractSpectralCentroid(buffer, fps);\n  const onsets = detectOnsets(buffer, fps);\n  const bpm = detectBPM(buffer);\n\n  return {\n    sampleRate,\n    duration,\n    frameCount,\n    amplitudeEnvelope,\n    rmsEnergy,\n    spectralCentroid,\n    frequencyBands,\n    onsets,\n    bpm\n  };\n}\n\n// ============================================================================\n// Amplitude Envelope\n// ============================================================================\n\n/**\n * Extract amplitude envelope (peak values per frame)\n */\nexport function extractAmplitudeEnvelope(buffer: AudioBuffer, fps: number): number[] {\n  const channelData = buffer.getChannelData(0); // Use first channel\n  const samplesPerFrame = Math.floor(buffer.sampleRate / fps);\n  const frameCount = Math.ceil(buffer.duration * fps);\n  const envelope: number[] = [];\n\n  for (let frame = 0; frame < frameCount; frame++) {\n    const startSample = frame * samplesPerFrame;\n    const endSample = Math.min(startSample + samplesPerFrame, channelData.length);\n\n    let maxAmp = 0;\n    for (let i = startSample; i < endSample; i++) {\n      const amp = Math.abs(channelData[i]);\n      if (amp > maxAmp) maxAmp = amp;\n    }\n\n    envelope.push(maxAmp);\n  }\n\n  // Normalize to 0-1\n  const maxValue = Math.max(...envelope, 0.0001);\n  return envelope.map(v => v / maxValue);\n}\n\n// ============================================================================\n// RMS Energy\n// ============================================================================\n\n/**\n * Extract RMS (Root Mean Square) energy per frame\n */\nexport function extractRMSEnergy(buffer: AudioBuffer, fps: number): number[] {\n  const channelData = buffer.getChannelData(0);\n  const samplesPerFrame = Math.floor(buffer.sampleRate / fps);\n  const frameCount = Math.ceil(buffer.duration * fps);\n  const rmsValues: number[] = [];\n\n  for (let frame = 0; frame < frameCount; frame++) {\n    const startSample = frame * samplesPerFrame;\n    const endSample = Math.min(startSample + samplesPerFrame, channelData.length);\n\n    let sumSquares = 0;\n    let count = 0;\n    for (let i = startSample; i < endSample; i++) {\n      sumSquares += channelData[i] * channelData[i];\n      count++;\n    }\n\n    const rms = count > 0 ? Math.sqrt(sumSquares / count) : 0;\n    rmsValues.push(rms);\n  }\n\n  // Normalize to 0-1\n  const maxValue = Math.max(...rmsValues, 0.0001);\n  return rmsValues.map(v => v / maxValue);\n}\n\n// ============================================================================\n// Frequency Band Analysis\n// ============================================================================\n\n/**\n * Extract energy in different frequency bands per frame\n */\nexport async function extractFrequencyBands(\n  buffer: AudioBuffer,\n  fps: number\n): Promise<AudioAnalysis['frequencyBands']> {\n  const duration = buffer.duration;\n  const frameCount = Math.ceil(duration * fps);\n  const sampleRate = buffer.sampleRate;\n\n  // Create offline context for analysis\n  const offlineCtx = new OfflineAudioContext(\n    1,\n    buffer.length,\n    sampleRate\n  );\n\n  const source = offlineCtx.createBufferSource();\n  source.buffer = buffer;\n\n  const analyser = offlineCtx.createAnalyser();\n  analyser.fftSize = DEFAULT_FFT_SIZE;\n  analyser.smoothingTimeConstant = 0;\n\n  source.connect(analyser);\n  analyser.connect(offlineCtx.destination);\n\n  // Initialize band arrays\n  const bands: AudioAnalysis['frequencyBands'] = {\n    sub: [],\n    bass: [],\n    lowMid: [],\n    mid: [],\n    highMid: [],\n    high: []\n  };\n\n  const binFrequency = sampleRate / DEFAULT_FFT_SIZE;\n\n  // Calculate bin ranges for each band\n  const bandBins = Object.entries(FREQUENCY_BANDS).reduce((acc, [band, [low, high]]) => {\n    acc[band as keyof FrequencyBandRanges] = {\n      start: Math.floor(low / binFrequency),\n      end: Math.ceil(high / binFrequency)\n    };\n    return acc;\n  }, {} as Record<keyof FrequencyBandRanges, { start: number; end: number }>);\n\n  // Process each frame\n  const samplesPerFrame = Math.floor(sampleRate / fps);\n\n  // Since OfflineAudioContext doesn't support real-time analysis easily,\n  // we'll use a simpler approach with the raw samples\n  const channelData = buffer.getChannelData(0);\n\n  for (let frame = 0; frame < frameCount; frame++) {\n    const startSample = frame * samplesPerFrame;\n    const endSample = Math.min(startSample + DEFAULT_FFT_SIZE, channelData.length);\n\n    // Get window of samples\n    const windowSize = endSample - startSample;\n    if (windowSize < 64) {\n      // Not enough samples, use previous values or zero\n      Object.keys(bands).forEach(band => {\n        const arr = bands[band as keyof typeof bands];\n        arr.push(arr.length > 0 ? arr[arr.length - 1] : 0);\n      });\n      continue;\n    }\n\n    // Perform simple FFT using the channel data\n    const fftResult = simpleFFT(channelData.slice(startSample, startSample + DEFAULT_FFT_SIZE));\n\n    // Extract band energies\n    for (const [band, { start, end }] of Object.entries(bandBins)) {\n      let energy = 0;\n      let count = 0;\n      for (let i = start; i < Math.min(end, fftResult.length); i++) {\n        energy += fftResult[i];\n        count++;\n      }\n      bands[band as keyof typeof bands].push(count > 0 ? energy / count : 0);\n    }\n  }\n\n  // Normalize each band to 0-1\n  for (const band of Object.keys(bands) as (keyof typeof bands)[]) {\n    const maxValue = Math.max(...bands[band], 0.0001);\n    bands[band] = bands[band].map(v => v / maxValue);\n  }\n\n  return bands;\n}\n\n/**\n * Simple FFT implementation for magnitude spectrum\n */\nfunction simpleFFT(samples: Float32Array): number[] {\n  const n = samples.length;\n  const magnitudes: number[] = [];\n\n  // Apply Hanning window\n  const windowed = new Float32Array(n);\n  for (let i = 0; i < n; i++) {\n    const windowValue = 0.5 * (1 - Math.cos((2 * Math.PI * i) / (n - 1)));\n    windowed[i] = (samples[i] || 0) * windowValue;\n  }\n\n  // Simple DFT (not optimized, but works for our purposes)\n  const halfN = Math.floor(n / 2);\n  for (let k = 0; k < halfN; k++) {\n    let real = 0;\n    let imag = 0;\n\n    for (let t = 0; t < n; t++) {\n      const angle = (2 * Math.PI * k * t) / n;\n      real += windowed[t] * Math.cos(angle);\n      imag -= windowed[t] * Math.sin(angle);\n    }\n\n    magnitudes.push(Math.sqrt(real * real + imag * imag) / n);\n  }\n\n  return magnitudes;\n}\n\n// ============================================================================\n// Spectral Centroid\n// ============================================================================\n\n/**\n * Extract spectral centroid (brightness) per frame\n */\nexport async function extractSpectralCentroid(buffer: AudioBuffer, fps: number): Promise<number[]> {\n  const frameCount = Math.ceil(buffer.duration * fps);\n  const sampleRate = buffer.sampleRate;\n  const channelData = buffer.getChannelData(0);\n  const samplesPerFrame = Math.floor(sampleRate / fps);\n  const centroids: number[] = [];\n  const binFrequency = sampleRate / DEFAULT_FFT_SIZE;\n\n  for (let frame = 0; frame < frameCount; frame++) {\n    const startSample = frame * samplesPerFrame;\n\n    if (startSample + DEFAULT_FFT_SIZE > channelData.length) {\n      centroids.push(centroids.length > 0 ? centroids[centroids.length - 1] : 0);\n      continue;\n    }\n\n    const fftResult = simpleFFT(channelData.slice(startSample, startSample + DEFAULT_FFT_SIZE));\n\n    // Calculate spectral centroid\n    let weightedSum = 0;\n    let totalMagnitude = 0;\n\n    for (let i = 0; i < fftResult.length; i++) {\n      const frequency = i * binFrequency;\n      weightedSum += frequency * fftResult[i];\n      totalMagnitude += fftResult[i];\n    }\n\n    const centroid = totalMagnitude > 0 ? weightedSum / totalMagnitude : 0;\n    centroids.push(centroid);\n  }\n\n  // Normalize to 0-1\n  const maxValue = Math.max(...centroids, 0.0001);\n  return centroids.map(v => v / maxValue);\n}\n\n// ============================================================================\n// Onset Detection\n// ============================================================================\n\n/**\n * Detect onsets (beats/transients) in the audio\n */\nexport function detectOnsets(\n  buffer: AudioBuffer,\n  fps: number,\n  sensitivity: number = 0.5\n): number[] {\n  const channelData = buffer.getChannelData(0);\n  const sampleRate = buffer.sampleRate;\n  const samplesPerFrame = Math.floor(sampleRate / fps);\n  const frameCount = Math.ceil(buffer.duration * fps);\n\n  // Calculate spectral flux\n  const spectralFlux: number[] = [];\n  let prevSpectrum: number[] | null = null;\n\n  for (let frame = 0; frame < frameCount; frame++) {\n    const startSample = frame * samplesPerFrame;\n\n    if (startSample + DEFAULT_FFT_SIZE > channelData.length) {\n      spectralFlux.push(0);\n      continue;\n    }\n\n    const spectrum = simpleFFT(channelData.slice(startSample, startSample + DEFAULT_FFT_SIZE));\n\n    if (prevSpectrum) {\n      // Calculate flux (sum of positive differences)\n      let flux = 0;\n      for (let i = 0; i < spectrum.length; i++) {\n        const diff = spectrum[i] - prevSpectrum[i];\n        if (diff > 0) flux += diff;\n      }\n      spectralFlux.push(flux);\n    } else {\n      spectralFlux.push(0);\n    }\n\n    prevSpectrum = spectrum;\n  }\n\n  // Find peaks in spectral flux\n  const onsets: number[] = [];\n  const threshold = calculateAdaptiveThreshold(spectralFlux, sensitivity);\n\n  for (let i = 1; i < spectralFlux.length - 1; i++) {\n    // Check if local maximum and above threshold\n    if (\n      spectralFlux[i] > spectralFlux[i - 1] &&\n      spectralFlux[i] > spectralFlux[i + 1] &&\n      spectralFlux[i] > threshold[i]\n    ) {\n      onsets.push(i);\n    }\n  }\n\n  return onsets;\n}\n\n/**\n * Calculate adaptive threshold for onset detection\n */\nfunction calculateAdaptiveThreshold(flux: number[], sensitivity: number): number[] {\n  const windowSize = 10;\n  const threshold: number[] = [];\n\n  for (let i = 0; i < flux.length; i++) {\n    const start = Math.max(0, i - windowSize);\n    const end = Math.min(flux.length, i + windowSize + 1);\n    const window = flux.slice(start, end);\n    const mean = window.reduce((a, b) => a + b, 0) / window.length;\n    const std = Math.sqrt(\n      window.reduce((a, b) => a + (b - mean) ** 2, 0) / window.length\n    );\n\n    // Threshold = mean + sensitivity * std\n    threshold.push(mean + (1 - sensitivity) * 2 * std);\n  }\n\n  return threshold;\n}\n\n// ============================================================================\n// BPM Detection\n// ============================================================================\n\n/**\n * Detect BPM (beats per minute) using autocorrelation\n */\nexport function detectBPM(buffer: AudioBuffer): number {\n  const channelData = buffer.getChannelData(0);\n  const sampleRate = buffer.sampleRate;\n\n  // Downsample for efficiency\n  const downsampleFactor = 4;\n  const downsampled: number[] = [];\n  for (let i = 0; i < channelData.length; i += downsampleFactor) {\n    downsampled.push(Math.abs(channelData[i]));\n  }\n\n  // Apply envelope follower\n  const envelope = applyEnvelopeFollower(downsampled, 0.1);\n\n  // Calculate autocorrelation\n  const minBPM = 60;\n  const maxBPM = 200;\n  const downsampledRate = sampleRate / downsampleFactor;\n  const minLag = Math.floor((60 / maxBPM) * downsampledRate);\n  const maxLag = Math.floor((60 / minBPM) * downsampledRate);\n\n  let maxCorrelation = 0;\n  let bestLag = minLag;\n\n  // Use a subset of the signal for efficiency\n  const analysisLength = Math.min(envelope.length, downsampledRate * 10);\n  const signal = envelope.slice(0, analysisLength);\n\n  for (let lag = minLag; lag <= maxLag; lag++) {\n    let correlation = 0;\n    let count = 0;\n\n    for (let i = 0; i < signal.length - lag; i++) {\n      correlation += signal[i] * signal[i + lag];\n      count++;\n    }\n\n    if (count > 0) {\n      correlation /= count;\n      if (correlation > maxCorrelation) {\n        maxCorrelation = correlation;\n        bestLag = lag;\n      }\n    }\n  }\n\n  // Convert lag to BPM\n  const bpm = (60 * downsampledRate) / bestLag;\n\n  // Clamp to reasonable range\n  return Math.round(Math.max(minBPM, Math.min(maxBPM, bpm)));\n}\n\n/**\n * Apply envelope follower for BPM detection\n */\nfunction applyEnvelopeFollower(signal: number[], smoothing: number): number[] {\n  const envelope: number[] = [];\n  let env = 0;\n\n  for (const sample of signal) {\n    if (sample > env) {\n      env = sample;\n    } else {\n      env = env * (1 - smoothing) + sample * smoothing;\n    }\n    envelope.push(env);\n  }\n\n  return envelope;\n}\n\n// ============================================================================\n// Feature Access\n// ============================================================================\n\n/**\n * Get a specific feature value at a given frame\n */\nexport function getFeatureAtFrame(\n  analysis: AudioAnalysis,\n  feature: string,\n  frame: number\n): number {\n  const clampedFrame = Math.max(0, Math.min(frame, analysis.frameCount - 1));\n\n  switch (feature) {\n    case 'amplitude':\n      return analysis.amplitudeEnvelope[clampedFrame] ?? 0;\n\n    case 'rms':\n      return analysis.rmsEnergy[clampedFrame] ?? 0;\n\n    case 'spectralCentroid':\n      return analysis.spectralCentroid[clampedFrame] ?? 0;\n\n    case 'sub':\n      return analysis.frequencyBands.sub[clampedFrame] ?? 0;\n\n    case 'bass':\n      return analysis.frequencyBands.bass[clampedFrame] ?? 0;\n\n    case 'lowMid':\n      return analysis.frequencyBands.lowMid[clampedFrame] ?? 0;\n\n    case 'mid':\n      return analysis.frequencyBands.mid[clampedFrame] ?? 0;\n\n    case 'highMid':\n      return analysis.frequencyBands.highMid[clampedFrame] ?? 0;\n\n    case 'high':\n      return analysis.frequencyBands.high[clampedFrame] ?? 0;\n\n    case 'onsets':\n      // Return 1 if this frame is an onset, 0 otherwise\n      return analysis.onsets.includes(clampedFrame) ? 1 : 0;\n\n    default:\n      return 0;\n  }\n}\n\n/**\n * Get smoothed feature value with temporal smoothing\n */\nexport function getSmoothedFeature(\n  analysis: AudioAnalysis,\n  feature: string,\n  frame: number,\n  smoothingWindow: number = 3\n): number {\n  let sum = 0;\n  let count = 0;\n\n  for (let i = frame - smoothingWindow; i <= frame + smoothingWindow; i++) {\n    if (i >= 0 && i < analysis.frameCount) {\n      sum += getFeatureAtFrame(analysis, feature, i);\n      count++;\n    }\n  }\n\n  return count > 0 ? sum / count : 0;\n}\n\n/**\n * Normalize a feature array to a specific range\n */\nexport function normalizeFeature(\n  values: number[],\n  min: number = 0,\n  max: number = 1\n): number[] {\n  const minVal = Math.min(...values);\n  const maxVal = Math.max(...values);\n  const range = maxVal - minVal || 1;\n\n  return values.map(v => min + ((v - minVal) / range) * (max - min));\n}\n\n/**\n * Apply a curve to a feature (for more dramatic or subtle responses)\n */\nexport function applyFeatureCurve(\n  value: number,\n  curve: 'linear' | 'exponential' | 'logarithmic' | 'smoothstep' = 'linear'\n): number {\n  const clamped = Math.max(0, Math.min(1, value));\n\n  switch (curve) {\n    case 'exponential':\n      return clamped * clamped;\n\n    case 'logarithmic':\n      return Math.sqrt(clamped);\n\n    case 'smoothstep':\n      return clamped * clamped * (3 - 2 * clamped);\n\n    case 'linear':\n    default:\n      return clamped;\n  }\n}\n\n// ============================================================================\n// Peak Detection (from Yvann-Nodes)\n// ============================================================================\n\nexport interface PeakDetectionConfig {\n  threshold: number;          // Minimum value to count as peak (0-1)\n  minPeaksDistance: number;   // Minimum frames between peaks\n  multiply: number;           // Amplification factor before detection\n}\n\nexport interface PeakData {\n  indices: number[];          // Frame indices where peaks occur\n  values: number[];           // Peak values at those frames\n  count: number;\n  alternating: number[];      // Same length as total frames, alternates 0/1 at each peak\n}\n\n/**\n * Detect peaks in audio weights array\n * Based on Yvann-Nodes peak detection\n */\nexport function detectPeaks(\n  weights: number[],\n  config: PeakDetectionConfig\n): PeakData {\n  const { threshold, minPeaksDistance, multiply } = config;\n\n  // Apply multiply factor\n  const amplified = weights.map(w => Math.min(1, w * multiply));\n\n  // Find local maxima above threshold\n  const rawPeaks: Array<{ index: number; value: number }> = [];\n\n  for (let i = 1; i < amplified.length - 1; i++) {\n    const prev = amplified[i - 1];\n    const curr = amplified[i];\n    const next = amplified[i + 1];\n\n    // Check if local maximum and above threshold\n    if (curr > prev && curr > next && curr >= threshold) {\n      rawPeaks.push({ index: i, value: curr });\n    }\n  }\n\n  // Enforce minPeaksDistance (keep higher peak if too close)\n  const filteredPeaks: Array<{ index: number; value: number }> = [];\n\n  for (const peak of rawPeaks) {\n    // Check if there's a recent peak within minPeaksDistance\n    const recentPeakIndex = filteredPeaks.findIndex(\n      p => Math.abs(p.index - peak.index) < minPeaksDistance\n    );\n\n    if (recentPeakIndex === -1) {\n      // No recent peak, add this one\n      filteredPeaks.push(peak);\n    } else {\n      // There's a recent peak - keep the higher one\n      if (peak.value > filteredPeaks[recentPeakIndex].value) {\n        filteredPeaks[recentPeakIndex] = peak;\n      }\n    }\n  }\n\n  // Sort by index\n  filteredPeaks.sort((a, b) => a.index - b.index);\n\n  // Generate alternating array (starts 0, flips at each peak)\n  const alternating: number[] = new Array(weights.length).fill(0);\n  let currentState = 0;\n\n  for (let i = 0; i < weights.length; i++) {\n    const isPeak = filteredPeaks.some(p => p.index === i);\n    if (isPeak) {\n      currentState = 1 - currentState; // Flip\n    }\n    alternating[i] = currentState;\n  }\n\n  return {\n    indices: filteredPeaks.map(p => p.index),\n    values: filteredPeaks.map(p => p.value),\n    count: filteredPeaks.length,\n    alternating\n  };\n}\n\n/**\n * Generate peak visualization graph as ImageData\n */\nexport function generatePeakGraph(\n  weights: number[],\n  peaks: PeakData,\n  width: number,\n  height: number\n): ImageData {\n  const canvas = new OffscreenCanvas(width, height);\n  const ctx = canvas.getContext('2d')!;\n\n  // Background\n  ctx.fillStyle = '#1e1e1e';\n  ctx.fillRect(0, 0, width, height);\n\n  // Draw weight curve\n  ctx.strokeStyle = '#4a90d9';\n  ctx.lineWidth = 1;\n  ctx.beginPath();\n\n  for (let i = 0; i < weights.length; i++) {\n    const x = (i / weights.length) * width;\n    const y = height - weights[i] * height * 0.9 - 5;\n\n    if (i === 0) {\n      ctx.moveTo(x, y);\n    } else {\n      ctx.lineTo(x, y);\n    }\n  }\n  ctx.stroke();\n\n  // Draw peak markers\n  ctx.fillStyle = '#ff6b6b';\n  for (let i = 0; i < peaks.indices.length; i++) {\n    const x = (peaks.indices[i] / weights.length) * width;\n    const y = height - peaks.values[i] * height * 0.9 - 5;\n\n    ctx.beginPath();\n    ctx.arc(x, y, 4, 0, Math.PI * 2);\n    ctx.fill();\n  }\n\n  // Draw alternating regions\n  ctx.fillStyle = 'rgba(255, 193, 7, 0.1)';\n  let regionStart = 0;\n  let inRegion = peaks.alternating[0] === 1;\n\n  for (let i = 1; i < peaks.alternating.length; i++) {\n    const state = peaks.alternating[i] === 1;\n    if (state !== inRegion) {\n      if (inRegion) {\n        // End of yellow region\n        const startX = (regionStart / weights.length) * width;\n        const endX = (i / weights.length) * width;\n        ctx.fillRect(startX, 0, endX - startX, height);\n      }\n      regionStart = i;\n      inRegion = state;\n    }\n  }\n\n  // Final region\n  if (inRegion) {\n    const startX = (regionStart / weights.length) * width;\n    ctx.fillRect(startX, 0, width - startX, height);\n  }\n\n  return ctx.getImageData(0, 0, width, height);\n}\n\n/**\n * Check if a frame is a beat/onset\n */\nexport function isBeatAtFrame(analysis: AudioAnalysis, frame: number): boolean {\n  return analysis.onsets.includes(frame);\n}\n\n/**\n * Check if a frame is a peak\n */\nexport function isPeakAtFrame(peaks: PeakData, frame: number): boolean {\n  return peaks.indices.includes(frame);\n}\n\nexport default {\n  loadAudioFile,\n  loadAudioFromUrl,\n  analyzeAudio,\n  extractAmplitudeEnvelope,\n  extractRMSEnergy,\n  extractFrequencyBands,\n  extractSpectralCentroid,\n  detectOnsets,\n  detectBPM,\n  getFeatureAtFrame,\n  getSmoothedFeature,\n  normalizeFeature,\n  applyFeatureCurve,\n  detectPeaks,\n  generatePeakGraph,\n  isBeatAtFrame,\n  isPeakAtFrame\n};\n","// ============================================================\n// WEYL PROJECT SCHEMA - Complete Type Definitions\n// ============================================================\n\nexport interface WeylProject {\n  version: \"1.0.0\";\n  meta: ProjectMeta;\n  composition: CompositionSettings;\n  assets: Record<string, AssetReference>;\n  layers: Layer[];\n  currentFrame: number;\n}\n\nexport interface ProjectMeta {\n  name: string;\n  created: string;    // ISO 8601 date\n  modified: string;   // ISO 8601 date\n  author?: string;\n}\n\nexport interface CompositionSettings {\n  width: number;      // Must be divisible by 8\n  height: number;     // Must be divisible by 8\n  frameCount: number; // 81 for Phase 1\n  fps: number;        // 16 for Phase 1\n  duration: number;   // Calculated: frameCount / fps\n  backgroundColor: string;\n}\n\nexport interface AssetReference {\n  id: string;\n  type: 'depth_map' | 'image' | 'video';\n  source: 'comfyui_node' | 'file' | 'generated';\n  nodeId?: string;\n  width: number;\n  height: number;\n  data?: string;      // Base64 or URL\n}\n\n// ============================================================\n// LAYER TYPES\n// ============================================================\n\nexport interface Layer {\n  id: string;\n  name: string;\n  type: LayerType;\n  visible: boolean;\n  locked: boolean;\n  solo: boolean;\n  inPoint: number;      // Start frame (0-80)\n  outPoint: number;     // End frame (0-80)\n  parentId: string | null;\n  blendMode: BlendMode;\n  opacity: AnimatableProperty<number>;\n  transform: LayerTransform;\n  properties: AnimatableProperty<any>[];\n  data: SplineData | TextData | ParticleData | ParticleLayerData | DepthflowLayerData | GeneratedMapData | null;\n}\n\nexport type LayerType =\n  | 'depth'      // Depth map visualization\n  | 'normal'     // Normal map visualization\n  | 'spline'     // Bezier path\n  | 'text'       // Animated text\n  | 'shape'      // Vector shapes\n  | 'particle'   // Particle emitter (legacy)\n  | 'particles'  // New particle system layer\n  | 'depthflow'  // Depthflow parallax layer\n  | 'image'      // Static/animated image\n  | 'generated'  // AI-generated map (depth, normal, edge, etc.)\n  | 'group';     // Layer group\n\nexport type BlendMode = 'normal' | 'multiply' | 'screen' | 'overlay' | 'add' | 'difference';\n\n// ============================================================\n// GENERATED MAP DATA (AI-powered layer generation)\n// ============================================================\n\nexport interface GeneratedMapData {\n  sourceLayerId: string;      // Which layer to generate from\n  mapType: GeneratedMapType;\n  modelId: string;            // Which model to use\n  parameters: Record<string, any>;\n  cachedResult?: string;      // Base64 cached output\n  lastGenerated?: string;     // ISO timestamp\n}\n\nexport type GeneratedMapType =\n  | 'depth'         // DepthAnything V3\n  | 'normal'        // NormalCrafter\n  | 'edge'          // Canny/HED\n  | 'pose'          // DWPose/OpenPose\n  | 'segment'       // SAM2/MatSeg\n  | 'lineart'       // Lineart extraction\n  | 'softedge';     // Soft edge detection\n\n// ============================================================\n// PARTICLE SYSTEM DATA\n// ============================================================\n\nexport interface ParticleData {\n  emitter: ParticleEmitter;\n  texture: ParticleTexture;\n  physics: ParticlePhysics;\n  rendering: ParticleRendering;\n}\n\nexport interface ParticleEmitter {\n  type: 'point' | 'line' | 'circle' | 'box' | 'path';\n  position: AnimatableProperty<{ x: number; y: number }>;\n\n  // For path emitter - particles spawn along a spline\n  pathLayerId?: string;\n\n  // Emission parameters\n  rate: AnimatableProperty<number>;           // Particles per frame\n  lifetime: AnimatableProperty<number>;       // Frames until death\n  lifetimeVariance: number;                   // 0-1 randomness\n\n  // Initial velocity\n  speed: AnimatableProperty<number>;\n  speedVariance: number;\n  direction: AnimatableProperty<number>;      // Degrees\n  spread: AnimatableProperty<number>;         // Cone angle\n\n  // Emission shape parameters\n  radius?: AnimatableProperty<number>;        // For circle\n  width?: AnimatableProperty<number>;         // For box\n  height?: AnimatableProperty<number>;        // For box\n}\n\nexport interface ParticleTexture {\n  type: 'builtin' | 'image' | 'generated' | 'extracted';\n\n  // Built-in shapes\n  builtinShape?: 'circle' | 'square' | 'star' | 'spark' | 'smoke';\n\n  // Custom image\n  imageAssetId?: string;\n\n  // AI-generated (SDXL)\n  generatedPrompt?: string;\n\n  // Extracted from image (MatSeg)\n  extractedFromAssetId?: string;\n  extractedRegion?: BoundingBox;\n\n  // PBR maps (optional, for 3D-like rendering)\n  albedo?: string;      // Base64\n  normal?: string;\n  roughness?: string;\n}\n\nexport interface ParticlePhysics {\n  gravity: AnimatableProperty<{ x: number; y: number }>;\n  wind: AnimatableProperty<{ x: number; y: number }>;\n  drag: AnimatableProperty<number>;           // 0-1, air resistance\n  turbulence: AnimatableProperty<number>;     // Random motion\n  turbulenceScale: number;                    // Noise scale\n\n  // Collision (optional, uses depth map)\n  depthCollision: boolean;\n  depthLayerId?: string;\n  bounciness: number;\n}\n\nexport interface ParticleRendering {\n  startSize: AnimatableProperty<number>;\n  endSize: AnimatableProperty<number>;\n  sizeVariance: number;\n\n  startColor: AnimatableProperty<string>;     // Hex\n  endColor: AnimatableProperty<string>;\n  colorVariance: number;\n\n  startOpacity: AnimatableProperty<number>;\n  endOpacity: AnimatableProperty<number>;\n\n  rotation: AnimatableProperty<number>;\n  rotationSpeed: AnimatableProperty<number>;\n\n  blendMode: BlendMode;\n\n  // Advanced\n  stretchToVelocity: boolean;\n  stretchFactor: number;\n}\n\n// ============================================================\n// NEW PARTICLE SYSTEM LAYER DATA (matching RyanOnTheInside)\n// ============================================================\n\nexport interface ParticleLayerData {\n  systemConfig: ParticleSystemLayerConfig;\n  emitters: ParticleEmitterConfig[];\n  gravityWells: GravityWellConfig[];\n  vortices: VortexConfig[];\n  modulations: ParticleModulationConfig[];\n  renderOptions: ParticleRenderOptions;\n  turbulenceFields?: TurbulenceFieldConfig[];\n  subEmitters?: SubEmitterConfig[];\n}\n\nexport interface ParticleSystemLayerConfig {\n  maxParticles: number;\n  gravity: number;\n  windStrength: number;\n  windDirection: number;\n  warmupPeriod: number;\n  respectMaskBoundary: boolean;\n  boundaryBehavior: 'bounce' | 'kill' | 'wrap';\n  friction: number;\n  turbulenceFields?: TurbulenceFieldConfig[];\n  subEmitters?: SubEmitterConfig[];\n}\n\nexport interface TurbulenceFieldConfig {\n  id: string;\n  enabled: boolean;\n  scale: number;              // Noise frequency, 0.001-0.01 (smaller = larger swirls)\n  strength: number;           // Force magnitude, 0-500\n  evolutionSpeed: number;     // How fast noise changes over time, 0-1\n}\n\nexport interface ConnectionRenderConfig {\n  enabled: boolean;\n  maxDistance: number;        // Pixels, connect if closer than this\n  maxConnections: number;     // Per particle, 1-5 (HARD LIMIT for performance)\n  lineWidth: number;          // 0.5-3\n  lineOpacity: number;        // 0-1\n  fadeByDistance: boolean;    // Opacity decreases with distance\n}\n\nexport interface SubEmitterConfig {\n  id: string;\n  parentEmitterId: string;    // Which emitter's particles trigger this, or '*' for all\n  trigger: 'death';           // Only death trigger for now\n  spawnCount: number;         // 1-10 particles on trigger\n  inheritVelocity: number;    // 0-1, how much parent velocity inherited\n  size: number;\n  sizeVariance: number;\n  lifetime: number;           // Frames\n  speed: number;\n  spread: number;             // Degrees, emission cone\n  color: [number, number, number];\n  enabled: boolean;\n}\n\nexport interface ParticleEmitterConfig {\n  id: string;\n  name: string;\n  x: number;\n  y: number;\n  direction: number;\n  spread: number;\n  speed: number;\n  speedVariance: number;\n  size: number;\n  sizeVariance: number;\n  color: [number, number, number];\n  emissionRate: number;\n  initialBurst: number;\n  particleLifetime: number;\n  lifetimeVariance: number;\n  enabled: boolean;\n  burstOnBeat: boolean;\n  burstCount: number;\n}\n\nexport interface GravityWellConfig {\n  id: string;\n  name: string;\n  x: number;\n  y: number;\n  strength: number;\n  radius: number;\n  falloff: 'linear' | 'quadratic' | 'constant';\n  enabled: boolean;\n}\n\nexport interface VortexConfig {\n  id: string;\n  name: string;\n  x: number;\n  y: number;\n  strength: number;\n  radius: number;\n  rotationSpeed: number;\n  inwardPull: number;\n  enabled: boolean;\n}\n\nexport interface ParticleModulationConfig {\n  id: string;\n  emitterId: string;\n  property: 'size' | 'speed' | 'opacity' | 'colorR' | 'colorG' | 'colorB';\n  startValue: number;\n  endValue: number;\n  easing: string;\n}\n\nexport interface ParticleRenderOptions {\n  blendMode: 'normal' | 'additive' | 'multiply' | 'screen';\n  renderTrails: boolean;\n  trailLength: number;\n  trailOpacityFalloff: number;\n  particleShape: 'circle' | 'square' | 'triangle' | 'star';\n  glowEnabled: boolean;\n  glowRadius: number;\n  glowIntensity: number;\n  // Motion blur settings\n  motionBlur: boolean;\n  motionBlurStrength: number;   // 0-1, how much to stretch based on velocity\n  motionBlurSamples: number;    // Number of samples for blur (1-16)\n  // Particle connection settings\n  connections: ConnectionRenderConfig;\n}\n\n// ============================================================\n// DEPTHFLOW PARALLAX LAYER DATA (matching akatz-ai)\n// ============================================================\n\nexport type DepthflowPreset =\n  | 'static'\n  | 'zoom_in'\n  | 'zoom_out'\n  | 'dolly_zoom_in'\n  | 'dolly_zoom_out'\n  | 'pan_left'\n  | 'pan_right'\n  | 'pan_up'\n  | 'pan_down'\n  | 'circle_cw'\n  | 'circle_ccw'\n  | 'horizontal_swing'\n  | 'vertical_swing'\n  | 'custom';\n\nexport interface DepthflowLayerData {\n  sourceLayerId: string;\n  depthLayerId: string;\n  config: DepthflowConfig;\n  animatedZoom?: AnimatableProperty<number>;\n  animatedOffsetX?: AnimatableProperty<number>;\n  animatedOffsetY?: AnimatableProperty<number>;\n  animatedRotation?: AnimatableProperty<number>;\n  animatedDepthScale?: AnimatableProperty<number>;\n}\n\nexport interface DepthflowConfig {\n  preset: DepthflowPreset;\n  zoom: number;\n  offsetX: number;\n  offsetY: number;\n  rotation: number;\n  depthScale: number;\n  focusDepth: number;\n  dollyZoom: number;\n  orbitRadius: number;\n  orbitSpeed: number;\n  swingAmplitude: number;\n  swingFrequency: number;\n  edgeDilation: number;\n  inpaintEdges: boolean;\n}\n\n// ============================================================\n// AUDIO REACTIVITY DATA\n// ============================================================\n\nexport interface AudioParticleMapping {\n  feature: 'amplitude' | 'rms' | 'bass' | 'mid' | 'high' | 'onsets';\n  parameter: 'emissionRate' | 'speed' | 'size' | 'gravity' | 'windStrength';\n  emitterId?: string;\n  sensitivity: number;\n  smoothing: number;\n}\n\n// ============================================================\n// EXTRACTED TEXTURE DATA (from MatSeg)\n// ============================================================\n\nexport interface ExtractedTexture {\n  id: string;\n  sourceAssetId: string;\n  region: BoundingBox;\n\n  // The extracted tileable texture\n  albedo: string;         // Base64 PNG\n\n  // Generated PBR maps\n  pbr: {\n    roughness: string;\n    metallic: string;\n    normal: string;\n    height: string;\n    ao: string;\n  };\n\n  // Metadata\n  extractionMethod: 'matseg' | 'manual' | 'sdxl';\n  seamless: boolean;\n  resolution: { width: number; height: number };\n}\n\nexport interface LayerTransform {\n  position: AnimatableProperty<{ x: number; y: number }>;\n  anchor: { x: number; y: number };\n  scale: AnimatableProperty<{ x: number; y: number }>;\n  rotation: AnimatableProperty<number>;\n}\n\n// ============================================================\n// ANIMATION TYPES\n// ============================================================\n\nexport interface AnimatableProperty<T> {\n  id: string;\n  name: string;\n  type: 'number' | 'position' | 'color' | 'enum';\n  value: T;             // Default/current value\n  animated: boolean;\n  keyframes: Keyframe<T>[];\n}\n\nexport interface Keyframe<T> {\n  id: string;\n  frame: number;        // 0-80\n  value: T;\n  interpolation: InterpolationType;\n  inHandle: BezierHandle;\n  outHandle: BezierHandle;\n  handlesBroken: boolean;\n}\n\nexport type InterpolationType = 'linear' | 'bezier' | 'hold';\n\nexport interface BezierHandle {\n  x: number;  // 0-1, time influence (cannot go backwards)\n  y: number;  // Unbounded, value influence (can overshoot)\n}\n\n// ============================================================\n// SPLINE DATA\n// ============================================================\n\nexport interface SplineData {\n  pathData: string;     // SVG path commands (M, C, Q, L, Z)\n  controlPoints: ControlPoint[];\n  closed: boolean;\n  stroke: string;\n  strokeWidth: number;\n  fill: string;\n}\n\nexport interface ControlPoint {\n  id: string;\n  x: number;\n  y: number;\n  depth?: number;       // Sampled from depth map\n  handleIn: { x: number; y: number } | null;\n  handleOut: { x: number; y: number } | null;\n  type: 'corner' | 'smooth' | 'symmetric';\n}\n\n// ============================================================\n// TEXT DATA\n// ============================================================\n\nexport interface TextData {\n  text: string;\n  fontFamily: string;\n  fontSize: number;\n  fontWeight: string;\n  fontStyle: 'normal' | 'italic';\n  fill: string;\n  stroke: string;\n  strokeWidth: number;\n  letterSpacing: number;\n  lineHeight: number;\n  textAlign: 'left' | 'center' | 'right';\n\n  // Text on path\n  pathLayerId: string | null;\n  pathOffset: number;     // 0-1, animatable\n  pathAlign: 'left' | 'center' | 'right';\n}\n\n// ============================================================\n// UTILITY TYPES\n// ============================================================\n\nexport interface Point {\n  x: number;\n  y: number;\n}\n\nexport interface BoundingBox {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n}\n\nexport interface ExportOptions {\n  format: 'png_sequence';\n  matteMode: 'exclude_text' | 'include_all';\n  resolution: { width: number; height: number };\n}\n\n// ============================================================\n// HELPER FUNCTIONS\n// ============================================================\n\n/**\n * Create a new animatable property with default values\n */\nexport function createAnimatableProperty<T>(\n  name: string,\n  value: T,\n  type: 'number' | 'position' | 'color' | 'enum' = 'number'\n): AnimatableProperty<T> {\n  return {\n    id: `prop_${name}_${Date.now()}`,\n    name,\n    type,\n    value,\n    animated: false,\n    keyframes: []\n  };\n}\n\n/**\n * Create default layer transform\n */\nexport function createDefaultTransform(): LayerTransform {\n  return {\n    position: createAnimatableProperty('position', { x: 0, y: 0 }, 'position'),\n    anchor: { x: 0, y: 0 },\n    scale: createAnimatableProperty('scale', { x: 1, y: 1 }, 'position'),\n    rotation: createAnimatableProperty('rotation', 0, 'number')\n  };\n}\n\n/**\n * Create a new empty project\n */\nexport function createEmptyProject(width: number, height: number): WeylProject {\n  return {\n    version: \"1.0.0\",\n    meta: {\n      name: \"Untitled\",\n      created: new Date().toISOString(),\n      modified: new Date().toISOString()\n    },\n    composition: {\n      width,\n      height,\n      frameCount: 81,\n      fps: 16,\n      duration: 81 / 16,\n      backgroundColor: '#000000'\n    },\n    assets: {},\n    layers: [],\n    currentFrame: 0\n  };\n}\n","/**\n * Keyframe Interpolation Engine\n *\n * Handles linear, bezier, and hold interpolation between keyframes.\n */\nimport type { Keyframe, AnimatableProperty, BezierHandle } from '@/types/project';\n\n/**\n * Interpolate a property value at a given frame\n */\nexport function interpolateProperty<T>(\n  property: AnimatableProperty<T>,\n  frame: number\n): T {\n  // If not animated, return static value\n  if (!property.animated || property.keyframes.length === 0) {\n    return property.value;\n  }\n\n  const keyframes = property.keyframes;\n\n  // Before first keyframe - return first keyframe value\n  if (frame <= keyframes[0].frame) {\n    return keyframes[0].value;\n  }\n\n  // After last keyframe - return last keyframe value\n  if (frame >= keyframes[keyframes.length - 1].frame) {\n    return keyframes[keyframes.length - 1].value;\n  }\n\n  // Find surrounding keyframes\n  let k1: Keyframe<T> = keyframes[0];\n  let k2: Keyframe<T> = keyframes[1];\n\n  for (let i = 0; i < keyframes.length - 1; i++) {\n    if (frame >= keyframes[i].frame && frame <= keyframes[i + 1].frame) {\n      k1 = keyframes[i];\n      k2 = keyframes[i + 1];\n      break;\n    }\n  }\n\n  // Calculate t (0-1) between keyframes\n  const duration = k2.frame - k1.frame;\n  const elapsed = frame - k1.frame;\n  let t = duration > 0 ? elapsed / duration : 0;\n\n  // Apply interpolation based on type\n  switch (k1.interpolation) {\n    case 'hold':\n      return k1.value;\n\n    case 'bezier':\n      t = cubicBezierEasing(t, k1.outHandle, k2.inHandle);\n      break;\n\n    case 'linear':\n    default:\n      // t stays linear\n      break;\n  }\n\n  // Interpolate the value based on type\n  return interpolateValue(k1.value, k2.value, t);\n}\n\n/**\n * Cubic bezier easing function\n *\n * @param t - Linear time (0-1)\n * @param outHandle - First keyframe's out handle\n * @param inHandle - Second keyframe's in handle\n * @returns Eased time (0-1, can overshoot)\n */\nfunction cubicBezierEasing(\n  t: number,\n  outHandle: BezierHandle,\n  inHandle: BezierHandle\n): number {\n  // Control points for the easing curve\n  // P0 = (0, 0), P1 = outHandle, P2 = (1-inHandle.x, 1-inHandle.y), P3 = (1, 1)\n  const x1 = outHandle.x;\n  const y1 = outHandle.y;\n  const x2 = 1 - inHandle.x;\n  const y2 = 1 - inHandle.y;\n\n  // Find t value for given x using Newton-Raphson iteration\n  let guessT = t;\n\n  for (let i = 0; i < 8; i++) {\n    const currentX = bezierPoint(guessT, 0, x1, x2, 1);\n    const currentSlope = bezierDerivative(guessT, 0, x1, x2, 1);\n\n    if (Math.abs(currentSlope) < 1e-6) break;\n\n    const error = currentX - t;\n    guessT -= error / currentSlope;\n\n    guessT = Math.max(0, Math.min(1, guessT));\n  }\n\n  // Return y value at found t\n  return bezierPoint(guessT, 0, y1, y2, 1);\n}\n\n/**\n * Cubic bezier point calculation\n */\nfunction bezierPoint(t: number, p0: number, p1: number, p2: number, p3: number): number {\n  const mt = 1 - t;\n  return (\n    mt * mt * mt * p0 +\n    3 * mt * mt * t * p1 +\n    3 * mt * t * t * p2 +\n    t * t * t * p3\n  );\n}\n\n/**\n * Cubic bezier derivative\n */\nfunction bezierDerivative(t: number, p0: number, p1: number, p2: number, p3: number): number {\n  const mt = 1 - t;\n  return (\n    3 * mt * mt * (p1 - p0) +\n    6 * mt * t * (p2 - p1) +\n    3 * t * t * (p3 - p2)\n  );\n}\n\n/**\n * Interpolate between two values based on their type\n */\nfunction interpolateValue<T>(v1: T, v2: T, t: number): T {\n  // Number\n  if (typeof v1 === 'number' && typeof v2 === 'number') {\n    return (v1 + (v2 - v1) * t) as T;\n  }\n\n  // Position object\n  if (\n    typeof v1 === 'object' && v1 !== null &&\n    'x' in v1 && 'y' in v1 &&\n    typeof v2 === 'object' && v2 !== null &&\n    'x' in v2 && 'y' in v2\n  ) {\n    return {\n      x: (v1 as any).x + ((v2 as any).x - (v1 as any).x) * t,\n      y: (v1 as any).y + ((v2 as any).y - (v1 as any).y) * t\n    } as T;\n  }\n\n  // Color (hex string)\n  if (typeof v1 === 'string' && typeof v2 === 'string' &&\n      v1.startsWith('#') && v2.startsWith('#')) {\n    return interpolateColor(v1, v2, t) as T;\n  }\n\n  // Default: no interpolation, return first value until t >= 0.5\n  return t < 0.5 ? v1 : v2;\n}\n\n/**\n * Interpolate between two hex colors\n */\nfunction interpolateColor(c1: string, c2: string, t: number): string {\n  const r1 = parseInt(c1.slice(1, 3), 16);\n  const g1 = parseInt(c1.slice(3, 5), 16);\n  const b1 = parseInt(c1.slice(5, 7), 16);\n\n  const r2 = parseInt(c2.slice(1, 3), 16);\n  const g2 = parseInt(c2.slice(3, 5), 16);\n  const b2 = parseInt(c2.slice(5, 7), 16);\n\n  const r = Math.round(r1 + (r2 - r1) * t);\n  const g = Math.round(g1 + (g2 - g1) * t);\n  const b = Math.round(b1 + (b2 - b1) * t);\n\n  return `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`;\n}\n\n/**\n * Easing presets - standard easing functions as bezier handles\n */\nexport const EASING_PRESETS = {\n  linear: {\n    outHandle: { x: 0.33, y: 0.33 },\n    inHandle: { x: 0.33, y: 0.33 }\n  },\n  easeIn: {\n    outHandle: { x: 0.42, y: 0 },\n    inHandle: { x: 0.33, y: 0.33 }\n  },\n  easeOut: {\n    outHandle: { x: 0.33, y: 0.33 },\n    inHandle: { x: 0.58, y: 1 }\n  },\n  easeInOut: {\n    outHandle: { x: 0.42, y: 0 },\n    inHandle: { x: 0.58, y: 1 }\n  },\n  easeOutBack: {\n    outHandle: { x: 0.33, y: 0.33 },\n    inHandle: { x: 0.34, y: 1.56 }  // Overshoot\n  }\n};\n\n/**\n * Apply an easing preset to a keyframe\n */\nexport function applyEasingPreset(\n  keyframe: Keyframe<any>,\n  presetName: keyof typeof EASING_PRESETS,\n  direction: 'in' | 'out' | 'both' = 'both'\n): void {\n  const preset = EASING_PRESETS[presetName];\n\n  if (direction === 'in' || direction === 'both') {\n    keyframe.inHandle = { ...preset.inHandle };\n  }\n\n  if (direction === 'out' || direction === 'both') {\n    keyframe.outHandle = { ...preset.outHandle };\n  }\n\n  keyframe.interpolation = presetName === 'linear' ? 'linear' : 'bezier';\n}\n\n/**\n * Get the value from a bezier curve at time t for graph visualization\n * This is exported for use by the GraphEditor\n */\nexport function getBezierCurvePoint(\n  t: number,\n  outHandle: BezierHandle,\n  inHandle: BezierHandle\n): { x: number; y: number } {\n  const x1 = outHandle.x;\n  const y1 = outHandle.y;\n  const x2 = 1 - inHandle.x;\n  const y2 = 1 - inHandle.y;\n\n  return {\n    x: bezierPoint(t, 0, x1, x2, 1),\n    y: bezierPoint(t, 0, y1, y2, 1)\n  };\n}\n\n/**\n * Apply easing to a ratio value (0-1)\n * Takes a linear ratio and returns an eased ratio based on the preset\n */\nexport function applyEasing(\n  ratio: number,\n  preset: { outHandle: BezierHandle; inHandle: BezierHandle }\n): number {\n  // Clamp ratio to 0-1\n  const t = Math.max(0, Math.min(1, ratio));\n\n  // Get the bezier curve point at t\n  const point = getBezierCurvePoint(t, preset.outHandle, preset.inHandle);\n\n  // Return the y value (eased value)\n  return point.y;\n}\n\nexport default { interpolateProperty, applyEasingPreset, applyEasing, EASING_PRESETS, getBezierCurvePoint };\n","/**\n * Audio Reactive Mapping System\n *\n * Maps ANY audio feature to ANY animatable parameter.\n * This is the core of RyanOnTheInside's \"Flex Features\" system.\n */\n\nimport type { AudioAnalysis, PeakData } from './audioFeatures';\nimport { getFeatureAtFrame, isPeakAtFrame } from './audioFeatures';\n\n// ============================================================================\n// Types\n// ============================================================================\n\nexport type AudioFeature =\n  | 'amplitude' | 'rms' | 'spectralCentroid'\n  | 'sub' | 'bass' | 'lowMid' | 'mid' | 'highMid' | 'high'\n  | 'onsets' | 'peaks';\n\nexport type TargetParameter =\n  // Particle parameters\n  | 'particle.emissionRate' | 'particle.speed' | 'particle.size'\n  | 'particle.gravity' | 'particle.windStrength' | 'particle.windDirection'\n  // Depthflow parameters\n  | 'depthflow.zoom' | 'depthflow.offsetX' | 'depthflow.offsetY'\n  | 'depthflow.rotation' | 'depthflow.depthScale'\n  // Path animation\n  | 'path.position'\n  // Generic layer properties\n  | 'layer.opacity' | 'layer.scale' | 'layer.rotation' | 'layer.x' | 'layer.y';\n\nexport interface AudioMapping {\n  id: string;\n  feature: AudioFeature;\n  target: TargetParameter;\n  targetLayerId?: string;     // Which layer to affect\n  targetEmitterId?: string;   // For particle emitter-specific mapping\n  // Mapping curve\n  sensitivity: number;        // Multiplier (default 1.0)\n  offset: number;             // Added to result (default 0)\n  min: number;                // Clamp minimum\n  max: number;                // Clamp maximum\n  smoothing: number;          // 0-1 temporal smoothing\n  invert: boolean;            // Flip the value (1 - value)\n  threshold: number;          // Values below this become 0 (noise gate)\n  enabled: boolean;           // Toggle mapping on/off\n}\n\nexport interface IPAdapterTransition {\n  imageLayerIds: string[];    // Layer IDs of images to transition between\n  peakData: PeakData;         // From detectPeaks()\n  blendMode: 'linear' | 'step' | 'smooth';\n  transitionLength: number;   // Frames for crossfade\n  minWeight: number;          // Minimum IPAdapter weight (0-1)\n}\n\nexport interface WeightSchedule {\n  frame: number;\n  weights: number[];          // Weight for each image at this frame\n}\n\n// ============================================================================\n// Default Values\n// ============================================================================\n\nexport function createDefaultAudioMapping(\n  id?: string,\n  feature: AudioFeature = 'amplitude',\n  target: TargetParameter = 'particle.emissionRate'\n): AudioMapping {\n  return {\n    id: id || `mapping_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n    feature,\n    target,\n    targetLayerId: undefined,\n    targetEmitterId: undefined,\n    sensitivity: 1.0,\n    offset: 0,\n    min: 0,\n    max: 1,\n    smoothing: 0.3,\n    invert: false,\n    threshold: 0,\n    enabled: true\n  };\n}\n\n// ============================================================================\n// Audio Reactive Mapper\n// ============================================================================\n\nexport class AudioReactiveMapper {\n  private analysis: AudioAnalysis;\n  private mappings: Map<string, AudioMapping> = new Map();\n  private smoothedValues: Map<string, number> = new Map();\n  private peakData: PeakData | null = null;\n\n  constructor(analysis: AudioAnalysis) {\n    this.analysis = analysis;\n  }\n\n  /**\n   * Set peak data for peak-based features\n   */\n  setPeakData(peakData: PeakData): void {\n    this.peakData = peakData;\n  }\n\n  /**\n   * Add a new mapping\n   */\n  addMapping(mapping: AudioMapping): void {\n    this.mappings.set(mapping.id, mapping);\n    this.smoothedValues.set(mapping.id, 0);\n  }\n\n  /**\n   * Remove a mapping\n   */\n  removeMapping(id: string): void {\n    this.mappings.delete(id);\n    this.smoothedValues.delete(id);\n  }\n\n  /**\n   * Update an existing mapping\n   */\n  updateMapping(id: string, updates: Partial<AudioMapping>): void {\n    const mapping = this.mappings.get(id);\n    if (mapping) {\n      Object.assign(mapping, updates);\n    }\n  }\n\n  /**\n   * Get a specific mapping\n   */\n  getMapping(id: string): AudioMapping | undefined {\n    return this.mappings.get(id);\n  }\n\n  /**\n   * Get all mappings\n   */\n  getAllMappings(): AudioMapping[] {\n    return Array.from(this.mappings.values());\n  }\n\n  /**\n   * Get mappings for a specific layer\n   */\n  getMappingsForLayer(layerId: string): AudioMapping[] {\n    return Array.from(this.mappings.values()).filter(\n      m => m.targetLayerId === layerId || m.targetLayerId === undefined\n    );\n  }\n\n  /**\n   * Get mappings for a specific target parameter\n   */\n  getMappingsForTarget(target: TargetParameter): AudioMapping[] {\n    return Array.from(this.mappings.values()).filter(m => m.target === target);\n  }\n\n  /**\n   * Get raw feature value at frame (before mapping transforms)\n   */\n  getFeatureAtFrame(feature: AudioFeature, frame: number): number {\n    if (feature === 'peaks') {\n      if (this.peakData) {\n        return isPeakAtFrame(this.peakData, frame) ? 1 : 0;\n      }\n      return 0;\n    }\n\n    return getFeatureAtFrame(this.analysis, feature, frame);\n  }\n\n  /**\n   * Get the mapped value for a specific mapping at a frame\n   */\n  getValueAtFrame(mappingId: string, frame: number): number {\n    const mapping = this.mappings.get(mappingId);\n    if (!mapping || !mapping.enabled) return 0;\n\n    // Get raw feature value\n    let value = this.getFeatureAtFrame(mapping.feature, frame);\n\n    // Apply threshold (noise gate)\n    if (value < mapping.threshold) {\n      value = 0;\n    }\n\n    // Apply inversion\n    if (mapping.invert) {\n      value = 1 - value;\n    }\n\n    // Apply sensitivity (multiplier)\n    value *= mapping.sensitivity;\n\n    // Apply offset\n    value += mapping.offset;\n\n    // Clamp to min/max\n    value = Math.max(mapping.min, Math.min(mapping.max, value));\n\n    // Apply smoothing\n    const prevSmoothed = this.smoothedValues.get(mappingId) || 0;\n    const smoothed = prevSmoothed * mapping.smoothing + value * (1 - mapping.smoothing);\n    this.smoothedValues.set(mappingId, smoothed);\n\n    return smoothed;\n  }\n\n  /**\n   * Get ALL mapped values at a frame, organized by target\n   */\n  getAllValuesAtFrame(frame: number): Map<TargetParameter, number> {\n    const values = new Map<TargetParameter, number>();\n\n    for (const mapping of this.mappings.values()) {\n      if (!mapping.enabled) continue;\n\n      const value = this.getValueAtFrame(mapping.id, frame);\n      const existing = values.get(mapping.target);\n\n      if (existing !== undefined) {\n        // Multiple mappings to same target - combine additively\n        values.set(mapping.target, existing + value);\n      } else {\n        values.set(mapping.target, value);\n      }\n    }\n\n    return values;\n  }\n\n  /**\n   * Get mapped values for a specific layer at a frame\n   */\n  getValuesForLayerAtFrame(\n    layerId: string,\n    frame: number\n  ): Map<TargetParameter, number> {\n    const values = new Map<TargetParameter, number>();\n\n    for (const mapping of this.mappings.values()) {\n      if (!mapping.enabled) continue;\n      if (mapping.targetLayerId && mapping.targetLayerId !== layerId) continue;\n\n      const value = this.getValueAtFrame(mapping.id, frame);\n      const existing = values.get(mapping.target);\n\n      if (existing !== undefined) {\n        values.set(mapping.target, existing + value);\n      } else {\n        values.set(mapping.target, value);\n      }\n    }\n\n    return values;\n  }\n\n  /**\n   * Reset smoothing state\n   */\n  resetSmoothing(): void {\n    this.smoothedValues.clear();\n    for (const mapping of this.mappings.values()) {\n      this.smoothedValues.set(mapping.id, 0);\n    }\n  }\n\n  /**\n   * Update analysis data\n   */\n  setAnalysis(analysis: AudioAnalysis): void {\n    this.analysis = analysis;\n    this.resetSmoothing();\n  }\n\n  /**\n   * Clear all mappings\n   */\n  clear(): void {\n    this.mappings.clear();\n    this.smoothedValues.clear();\n  }\n\n  /**\n   * Serialize mappings for storage\n   */\n  serialize(): AudioMapping[] {\n    return Array.from(this.mappings.values());\n  }\n\n  /**\n   * Load mappings from serialized data\n   */\n  deserialize(mappings: AudioMapping[]): void {\n    this.clear();\n    for (const mapping of mappings) {\n      this.addMapping(mapping);\n    }\n  }\n}\n\n// ============================================================================\n// IPAdapter Schedule Generation (from Yvann-Nodes)\n// ============================================================================\n\n/**\n * Generate IPAdapter weight schedule from peaks\n * At each peak, transition to next image in sequence\n */\nexport function createIPAdapterSchedule(\n  transition: IPAdapterTransition,\n  totalFrames: number\n): WeightSchedule[] {\n  const { imageLayerIds, peakData, blendMode, transitionLength, minWeight } = transition;\n  const numImages = imageLayerIds.length;\n\n  if (numImages === 0) return [];\n\n  const schedule: WeightSchedule[] = [];\n\n  // Track current image index\n  let currentImageIndex = 0;\n  let transitionProgress = 0;\n  let isTransitioning = false;\n  let transitionStartFrame = 0;\n\n  for (let frame = 0; frame < totalFrames; frame++) {\n    const isPeak = isPeakAtFrame(peakData, frame);\n\n    // Start transition on peak\n    if (isPeak && !isTransitioning) {\n      isTransitioning = true;\n      transitionStartFrame = frame;\n    }\n\n    // Calculate weights\n    const weights: number[] = new Array(numImages).fill(minWeight);\n\n    if (isTransitioning) {\n      transitionProgress = (frame - transitionStartFrame) / transitionLength;\n\n      if (transitionProgress >= 1) {\n        // Transition complete\n        isTransitioning = false;\n        currentImageIndex = (currentImageIndex + 1) % numImages;\n        transitionProgress = 0;\n      }\n\n      if (isTransitioning) {\n        // Calculate blend between current and next image\n        const nextIndex = (currentImageIndex + 1) % numImages;\n        let blend: number;\n\n        switch (blendMode) {\n          case 'step':\n            blend = transitionProgress >= 0.5 ? 1 : 0;\n            break;\n          case 'smooth':\n            // Smoothstep\n            blend = transitionProgress * transitionProgress * (3 - 2 * transitionProgress);\n            break;\n          case 'linear':\n          default:\n            blend = transitionProgress;\n        }\n\n        weights[currentImageIndex] = Math.max(minWeight, 1 - blend);\n        weights[nextIndex] = Math.max(minWeight, blend);\n      } else {\n        // Not transitioning - current image at full weight\n        weights[currentImageIndex] = 1;\n      }\n    } else {\n      // Not transitioning - current image at full weight\n      weights[currentImageIndex] = 1;\n    }\n\n    schedule.push({ frame, weights });\n  }\n\n  return schedule;\n}\n\n/**\n * Get IPAdapter weights at a specific frame\n */\nexport function getIPAdapterWeightsAtFrame(\n  schedule: WeightSchedule[],\n  frame: number\n): number[] {\n  const entry = schedule.find(s => s.frame === frame);\n  return entry ? entry.weights : [];\n}\n\n// ============================================================================\n// Utility Functions\n// ============================================================================\n\n/**\n * Get human-readable name for a feature\n */\nexport function getFeatureDisplayName(feature: AudioFeature): string {\n  const names: Record<AudioFeature, string> = {\n    amplitude: 'Amplitude',\n    rms: 'RMS Energy',\n    spectralCentroid: 'Brightness',\n    sub: 'Sub Bass (20-60Hz)',\n    bass: 'Bass (60-250Hz)',\n    lowMid: 'Low Mid (250-500Hz)',\n    mid: 'Mid (500-2kHz)',\n    highMid: 'High Mid (2-4kHz)',\n    high: 'High (4-20kHz)',\n    onsets: 'Beat Onsets',\n    peaks: 'Detected Peaks'\n  };\n  return names[feature] || feature;\n}\n\n/**\n * Get human-readable name for a target parameter\n */\nexport function getTargetDisplayName(target: TargetParameter): string {\n  const names: Record<TargetParameter, string> = {\n    'particle.emissionRate': 'Particle: Emission Rate',\n    'particle.speed': 'Particle: Speed',\n    'particle.size': 'Particle: Size',\n    'particle.gravity': 'Particle: Gravity',\n    'particle.windStrength': 'Particle: Wind Strength',\n    'particle.windDirection': 'Particle: Wind Direction',\n    'depthflow.zoom': 'Depthflow: Zoom',\n    'depthflow.offsetX': 'Depthflow: Offset X',\n    'depthflow.offsetY': 'Depthflow: Offset Y',\n    'depthflow.rotation': 'Depthflow: Rotation',\n    'depthflow.depthScale': 'Depthflow: Depth Scale',\n    'path.position': 'Path: Position',\n    'layer.opacity': 'Layer: Opacity',\n    'layer.scale': 'Layer: Scale',\n    'layer.rotation': 'Layer: Rotation',\n    'layer.x': 'Layer: X Position',\n    'layer.y': 'Layer: Y Position'\n  };\n  return names[target] || target;\n}\n\n/**\n * Get all available features\n */\nexport function getAllFeatures(): AudioFeature[] {\n  return [\n    'amplitude', 'rms', 'spectralCentroid',\n    'sub', 'bass', 'lowMid', 'mid', 'highMid', 'high',\n    'onsets', 'peaks'\n  ];\n}\n\n/**\n * Get all available targets\n */\nexport function getAllTargets(): TargetParameter[] {\n  return [\n    'particle.emissionRate', 'particle.speed', 'particle.size',\n    'particle.gravity', 'particle.windStrength', 'particle.windDirection',\n    'depthflow.zoom', 'depthflow.offsetX', 'depthflow.offsetY',\n    'depthflow.rotation', 'depthflow.depthScale',\n    'path.position',\n    'layer.opacity', 'layer.scale', 'layer.rotation', 'layer.x', 'layer.y'\n  ];\n}\n\n/**\n * Get targets filtered by category\n */\nexport function getTargetsByCategory(): Record<string, TargetParameter[]> {\n  return {\n    'Particle': [\n      'particle.emissionRate', 'particle.speed', 'particle.size',\n      'particle.gravity', 'particle.windStrength', 'particle.windDirection'\n    ],\n    'Depthflow': [\n      'depthflow.zoom', 'depthflow.offsetX', 'depthflow.offsetY',\n      'depthflow.rotation', 'depthflow.depthScale'\n    ],\n    'Path': ['path.position'],\n    'Layer': [\n      'layer.opacity', 'layer.scale', 'layer.rotation', 'layer.x', 'layer.y'\n    ]\n  };\n}\n\nexport default {\n  AudioReactiveMapper,\n  createDefaultAudioMapping,\n  createIPAdapterSchedule,\n  getIPAdapterWeightsAtFrame,\n  getFeatureDisplayName,\n  getTargetDisplayName,\n  getAllFeatures,\n  getAllTargets,\n  getTargetsByCategory\n};\n","/**\n * Audio Path Animator\n *\n * Animates elements along spline paths based on audio features.\n * Two modes like ATI_AudioReactive:\n * - amplitude: position directly maps to volume (silence=start, loud=end)\n * - accumulate: travels forward on sound, bounces at ends\n */\n\nexport type MovementMode = 'amplitude' | 'accumulate';\n\nexport interface PathAnimatorConfig {\n  movementMode: MovementMode;\n  sensitivity: number;        // Range (amplitude) or Speed (accumulate)\n  smoothing: number;          // 0-1, temporal smoothing\n  // Amplitude mode specifics\n  release: number;            // 0-1, how fast returns to start after beat (0.2=snappy, 0.8=slow)\n  amplitudeCurve: number;     // 1.0=linear, >1=noise gate/expander\n  // Accumulate mode specifics\n  flipOnBeat: boolean;        // Reverse direction on beat detection\n  beatThreshold: number;      // 0.02=sensitive, 0.1=only kicks\n  // Visual\n  motionBlur: boolean;        // Streak connecting previous to current frame\n  motionBlurStrength: number; // 0-1\n}\n\nexport interface PathAnimatorState {\n  position: number;           // 0-1 along path\n  direction: 1 | -1;          // For accumulate bounce/flip\n  previousPosition: number;   // For motion blur\n  smoothedValue: number;      // After smoothing applied\n  x: number;                  // Current X position on path\n  y: number;                  // Current Y position on path\n  angle: number;              // Current tangent angle on path\n}\n\ninterface PathSegment {\n  type: 'M' | 'L' | 'C' | 'Q' | 'Z';\n  points: number[];\n  length: number;\n  startT: number;\n  endT: number;\n}\n\nconst DEFAULT_CONFIG: PathAnimatorConfig = {\n  movementMode: 'amplitude',\n  sensitivity: 1.0,\n  smoothing: 0.3,\n  release: 0.5,\n  amplitudeCurve: 1.0,\n  flipOnBeat: true,\n  beatThreshold: 0.05,\n  motionBlur: false,\n  motionBlurStrength: 0.5\n};\n\nexport class AudioPathAnimator {\n  private config: PathAnimatorConfig;\n  private state: PathAnimatorState;\n  private pathSegments: PathSegment[] = [];\n  private totalLength: number = 0;\n  private releaseState: number = 0;  // For amplitude mode release tracking\n\n  constructor(config: Partial<PathAnimatorConfig> = {}) {\n    this.config = { ...DEFAULT_CONFIG, ...config };\n    this.state = {\n      position: 0,\n      direction: 1,\n      previousPosition: 0,\n      smoothedValue: 0,\n      x: 0,\n      y: 0,\n      angle: 0\n    };\n  }\n\n  /**\n   * Set the SVG path data to animate along\n   */\n  setPath(pathData: string): void {\n    this.pathSegments = this.parsePath(pathData);\n    this.calculateSegmentLengths();\n  }\n\n  /**\n   * Parse SVG path data into segments\n   */\n  private parsePath(pathData: string): PathSegment[] {\n    const segments: PathSegment[] = [];\n    const commands = pathData.match(/[MLCQZ][^MLCQZ]*/gi) || [];\n\n    let currentX = 0;\n    let currentY = 0;\n\n    for (const cmd of commands) {\n      const type = cmd[0].toUpperCase() as PathSegment['type'];\n      const nums = cmd.slice(1).trim().split(/[\\s,]+/).map(Number).filter(n => !isNaN(n));\n\n      switch (type) {\n        case 'M':\n          currentX = nums[0] || 0;\n          currentY = nums[1] || 0;\n          segments.push({\n            type: 'M',\n            points: [currentX, currentY],\n            length: 0,\n            startT: 0,\n            endT: 0\n          });\n          break;\n\n        case 'L':\n          segments.push({\n            type: 'L',\n            points: [currentX, currentY, nums[0], nums[1]],\n            length: 0,\n            startT: 0,\n            endT: 0\n          });\n          currentX = nums[0];\n          currentY = nums[1];\n          break;\n\n        case 'C':\n          segments.push({\n            type: 'C',\n            points: [currentX, currentY, nums[0], nums[1], nums[2], nums[3], nums[4], nums[5]],\n            length: 0,\n            startT: 0,\n            endT: 0\n          });\n          currentX = nums[4];\n          currentY = nums[5];\n          break;\n\n        case 'Q':\n          segments.push({\n            type: 'Q',\n            points: [currentX, currentY, nums[0], nums[1], nums[2], nums[3]],\n            length: 0,\n            startT: 0,\n            endT: 0\n          });\n          currentX = nums[2];\n          currentY = nums[3];\n          break;\n\n        case 'Z':\n          // Close path - line back to start\n          const firstMove = segments.find(s => s.type === 'M');\n          if (firstMove) {\n            segments.push({\n              type: 'L',\n              points: [currentX, currentY, firstMove.points[0], firstMove.points[1]],\n              length: 0,\n              startT: 0,\n              endT: 0\n            });\n          }\n          break;\n      }\n    }\n\n    return segments;\n  }\n\n  /**\n   * Calculate lengths for each segment\n   */\n  private calculateSegmentLengths(): void {\n    let totalLength = 0;\n\n    for (const segment of this.pathSegments) {\n      switch (segment.type) {\n        case 'M':\n          segment.length = 0;\n          break;\n        case 'L':\n          segment.length = this.lineLength(segment.points);\n          break;\n        case 'C':\n          segment.length = this.bezierLength(segment.points, 3);\n          break;\n        case 'Q':\n          segment.length = this.bezierLength(segment.points, 2);\n          break;\n      }\n\n      segment.startT = totalLength;\n      totalLength += segment.length;\n      segment.endT = totalLength;\n    }\n\n    this.totalLength = totalLength;\n\n    // Normalize to 0-1\n    if (this.totalLength > 0) {\n      for (const segment of this.pathSegments) {\n        segment.startT /= this.totalLength;\n        segment.endT /= this.totalLength;\n      }\n    }\n  }\n\n  private lineLength(points: number[]): number {\n    const dx = points[2] - points[0];\n    const dy = points[3] - points[1];\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n\n  private bezierLength(points: number[], degree: number): number {\n    // Approximate bezier length using line segments\n    const steps = 20;\n    let length = 0;\n    let prevX = points[0];\n    let prevY = points[1];\n\n    for (let i = 1; i <= steps; i++) {\n      const t = i / steps;\n      const { x, y } = this.getBezierPoint(points, t, degree);\n      const dx = x - prevX;\n      const dy = y - prevY;\n      length += Math.sqrt(dx * dx + dy * dy);\n      prevX = x;\n      prevY = y;\n    }\n\n    return length;\n  }\n\n  private getBezierPoint(points: number[], t: number, degree: number): { x: number; y: number } {\n    if (degree === 2) {\n      // Quadratic bezier\n      const mt = 1 - t;\n      return {\n        x: mt * mt * points[0] + 2 * mt * t * points[2] + t * t * points[4],\n        y: mt * mt * points[1] + 2 * mt * t * points[3] + t * t * points[5]\n      };\n    } else {\n      // Cubic bezier\n      const mt = 1 - t;\n      const mt2 = mt * mt;\n      const t2 = t * t;\n      return {\n        x: mt2 * mt * points[0] + 3 * mt2 * t * points[2] + 3 * mt * t2 * points[4] + t2 * t * points[6],\n        y: mt2 * mt * points[1] + 3 * mt2 * t * points[3] + 3 * mt * t2 * points[5] + t2 * t * points[7]\n      };\n    }\n  }\n\n  /**\n   * Update position based on audio value\n   */\n  update(audioValue: number, isBeat: boolean): PathAnimatorState {\n    this.state.previousPosition = this.state.position;\n\n    // Apply smoothing\n    const smoothedInput = this.state.smoothedValue * this.config.smoothing +\n                          audioValue * (1 - this.config.smoothing);\n    this.state.smoothedValue = smoothedInput;\n\n    if (this.config.movementMode === 'amplitude') {\n      this.updateAmplitudeMode(smoothedInput);\n    } else {\n      this.updateAccumulateMode(smoothedInput, isBeat);\n    }\n\n    // Update x, y, angle from current position on path\n    const pathPoint = this.getPositionOnPath(this.state.position);\n    this.state.x = pathPoint.x;\n    this.state.y = pathPoint.y;\n    this.state.angle = pathPoint.angle;\n\n    return { ...this.state };\n  }\n\n  private updateAmplitudeMode(audioValue: number): void {\n    // Apply amplitude curve (power function for noise gate effect)\n    let processedValue = Math.pow(audioValue, this.config.amplitudeCurve);\n\n    // Apply release envelope\n    if (processedValue > this.releaseState) {\n      this.releaseState = processedValue;\n    } else {\n      // Exponential decay based on release setting\n      // Lower release = faster decay (snappier)\n      const decayRate = 1 - (this.config.release * 0.95);\n      this.releaseState *= decayRate;\n    }\n\n    // Final position is blend of current value and release envelope\n    const finalValue = Math.max(processedValue, this.releaseState);\n\n    // Map to position with sensitivity\n    this.state.position = Math.max(0, Math.min(1, finalValue * this.config.sensitivity));\n  }\n\n  private updateAccumulateMode(audioValue: number, isBeat: boolean): void {\n    // Check for beat-triggered direction flip\n    if (this.config.flipOnBeat && isBeat && audioValue > this.config.beatThreshold) {\n      this.state.direction *= -1;\n    }\n\n    // Accumulate position based on audio value\n    const delta = audioValue * this.config.sensitivity * 0.02 * this.state.direction;\n    let newPosition = this.state.position + delta;\n\n    // Bounce at boundaries\n    if (newPosition > 1) {\n      newPosition = 2 - newPosition;\n      this.state.direction = -1;\n    } else if (newPosition < 0) {\n      newPosition = -newPosition;\n      this.state.direction = 1;\n    }\n\n    // Clamp just in case\n    this.state.position = Math.max(0, Math.min(1, newPosition));\n  }\n\n  /**\n   * Get x, y, angle at position t along path\n   */\n  getPositionOnPath(t: number): { x: number; y: number; angle: number } {\n    t = Math.max(0, Math.min(1, t));\n\n    if (this.pathSegments.length === 0) {\n      return { x: 0, y: 0, angle: 0 };\n    }\n\n    // Find the segment containing t\n    let segment = this.pathSegments[0];\n    for (const seg of this.pathSegments) {\n      if (seg.type !== 'M' && t >= seg.startT && t <= seg.endT) {\n        segment = seg;\n        break;\n      }\n    }\n\n    if (segment.type === 'M') {\n      return { x: segment.points[0], y: segment.points[1], angle: 0 };\n    }\n\n    // Calculate local t within segment\n    const segmentT = segment.endT > segment.startT\n      ? (t - segment.startT) / (segment.endT - segment.startT)\n      : 0;\n\n    let x: number, y: number;\n    let tangentX: number, tangentY: number;\n\n    switch (segment.type) {\n      case 'L':\n        x = segment.points[0] + (segment.points[2] - segment.points[0]) * segmentT;\n        y = segment.points[1] + (segment.points[3] - segment.points[1]) * segmentT;\n        tangentX = segment.points[2] - segment.points[0];\n        tangentY = segment.points[3] - segment.points[1];\n        break;\n\n      case 'Q': {\n        const result = this.getBezierPoint(segment.points, segmentT, 2);\n        x = result.x;\n        y = result.y;\n        // Quadratic bezier tangent\n        const mt = 1 - segmentT;\n        tangentX = 2 * mt * (segment.points[2] - segment.points[0]) +\n                   2 * segmentT * (segment.points[4] - segment.points[2]);\n        tangentY = 2 * mt * (segment.points[3] - segment.points[1]) +\n                   2 * segmentT * (segment.points[5] - segment.points[3]);\n        break;\n      }\n\n      case 'C': {\n        const result = this.getBezierPoint(segment.points, segmentT, 3);\n        x = result.x;\n        y = result.y;\n        // Cubic bezier tangent\n        const mt = 1 - segmentT;\n        const mt2 = mt * mt;\n        const t2 = segmentT * segmentT;\n        tangentX = 3 * mt2 * (segment.points[2] - segment.points[0]) +\n                   6 * mt * segmentT * (segment.points[4] - segment.points[2]) +\n                   3 * t2 * (segment.points[6] - segment.points[4]);\n        tangentY = 3 * mt2 * (segment.points[3] - segment.points[1]) +\n                   6 * mt * segmentT * (segment.points[5] - segment.points[3]) +\n                   3 * t2 * (segment.points[7] - segment.points[5]);\n        break;\n      }\n\n      default:\n        x = 0;\n        y = 0;\n        tangentX = 1;\n        tangentY = 0;\n    }\n\n    const angle = Math.atan2(tangentY, tangentX);\n\n    return { x, y, angle };\n  }\n\n  /**\n   * Get motion blur trail points\n   */\n  getMotionBlurTrail(steps: number = 5): Array<{ x: number; y: number; opacity: number }> {\n    if (!this.config.motionBlur) return [];\n\n    const trail: Array<{ x: number; y: number; opacity: number }> = [];\n    const startT = this.state.previousPosition;\n    const endT = this.state.position;\n\n    for (let i = 0; i <= steps; i++) {\n      const t = startT + (endT - startT) * (i / steps);\n      const pos = this.getPositionOnPath(t);\n      const opacity = (i / steps) * this.config.motionBlurStrength;\n      trail.push({ x: pos.x, y: pos.y, opacity });\n    }\n\n    return trail;\n  }\n\n  /**\n   * Reset animator state\n   */\n  reset(): void {\n    this.state = {\n      position: 0,\n      direction: 1,\n      previousPosition: 0,\n      smoothedValue: 0,\n      x: 0,\n      y: 0,\n      angle: 0\n    };\n    this.releaseState = 0;\n  }\n\n  /**\n   * Get current config\n   */\n  getConfig(): PathAnimatorConfig {\n    return { ...this.config };\n  }\n\n  /**\n   * Update config\n   */\n  setConfig(updates: Partial<PathAnimatorConfig>): void {\n    Object.assign(this.config, updates);\n  }\n\n  /**\n   * Get current state\n   */\n  getState(): PathAnimatorState {\n    return { ...this.state };\n  }\n}\n\nexport function createDefaultPathAnimatorConfig(): PathAnimatorConfig {\n  return { ...DEFAULT_CONFIG };\n}\n","/**\n * Main Compositor Store\n *\n * Manages project state, layers, playback, and ComfyUI communication.\n */\nimport { defineStore } from 'pinia';\nimport type {\n  WeylProject,\n  Layer,\n  AssetReference,\n  AnimatableProperty,\n  Keyframe,\n  TextData,\n  SplineData,\n  ParticleLayerData,\n  DepthflowLayerData,\n  ParticleEmitterConfig,\n  AudioParticleMapping\n} from '@/types/project';\nimport type { AudioAnalysis, PeakData, PeakDetectionConfig } from '@/services/audioFeatures';\nimport { loadAudioFile, analyzeAudio, getFeatureAtFrame, detectPeaks, isBeatAtFrame } from '@/services/audioFeatures';\nimport { createEmptyProject, createDefaultTransform, createAnimatableProperty } from '@/types/project';\nimport { interpolateProperty } from '@/services/interpolation';\nimport type { AudioMapping, TargetParameter } from '@/services/audioReactiveMapping';\nimport { AudioReactiveMapper } from '@/services/audioReactiveMapping';\nimport { AudioPathAnimator, type PathAnimatorConfig } from '@/services/audioPathAnimator';\n\ninterface CompositorState {\n  // Project data\n  project: WeylProject;\n\n  // ComfyUI connection\n  comfyuiNodeId: string | null;\n\n  // Input data from ComfyUI\n  sourceImage: string | null;\n  depthMap: string | null;\n\n  // Playback state\n  isPlaying: boolean;\n  playbackRequestId: number | null;\n  playbackStartTime: number | null;\n  playbackStartFrame: number;\n\n  // Selection state\n  selectedLayerIds: string[];\n  selectedKeyframeIds: string[];\n\n  // Tool state\n  currentTool: 'select' | 'pen' | 'text' | 'hand';\n\n  // UI state\n  graphEditorVisible: boolean;\n\n  // History for undo/redo\n  historyStack: WeylProject[];\n  historyIndex: number;\n\n  // Audio state\n  audioBuffer: AudioBuffer | null;\n  audioAnalysis: AudioAnalysis | null;\n  audioFile: File | null;\n\n  // Audio-particle mappings (legacy)\n  audioMappings: Map<string, AudioParticleMapping[]>;\n\n  // New audio reactive system\n  peakData: PeakData | null;\n  audioReactiveMappings: AudioMapping[];\n  audioReactiveMapper: AudioReactiveMapper | null;\n  pathAnimators: Map<string, AudioPathAnimator>;\n}\n\nexport const useCompositorStore = defineStore('compositor', {\n  state: (): CompositorState => ({\n    project: createEmptyProject(1024, 1024),\n    comfyuiNodeId: null,\n    sourceImage: null,\n    depthMap: null,\n    isPlaying: false,\n    playbackRequestId: null,\n    playbackStartTime: null,\n    playbackStartFrame: 0,\n    selectedLayerIds: [],\n    selectedKeyframeIds: [],\n    currentTool: 'select',\n    graphEditorVisible: false,\n    historyStack: [],\n    historyIndex: -1,\n    audioBuffer: null,\n    audioAnalysis: null,\n    audioFile: null,\n    audioMappings: new Map(),\n    peakData: null,\n    audioReactiveMappings: [],\n    audioReactiveMapper: null,\n    pathAnimators: new Map()\n  }),\n\n  getters: {\n    // Project info\n    hasProject: (state): boolean => state.sourceImage !== null,\n    width: (state): number => state.project.composition.width,\n    height: (state): number => state.project.composition.height,\n    frameCount: (state): number => state.project.composition.frameCount,\n    fps: (state): number => state.project.composition.fps,\n    duration: (state): number => state.project.composition.duration,\n\n    // Current frame\n    currentFrame: (state): number => state.project.currentFrame,\n    currentTime: (state): number => state.project.currentFrame / state.project.composition.fps,\n\n    // Layers\n    layers: (state): Layer[] => state.project.layers,\n    visibleLayers: (state): Layer[] => state.project.layers.filter(l => l.visible),\n\n    // Selection\n    selectedLayers: (state): Layer[] =>\n      state.project.layers.filter(l => state.selectedLayerIds.includes(l.id)),\n    selectedLayer: (state): Layer | null => {\n      if (state.selectedLayerIds.length !== 1) return null;\n      return state.project.layers.find(l => l.id === state.selectedLayerIds[0]) || null;\n    },\n\n    // Assets\n    assets: (state): Record<string, AssetReference> => state.project.assets,\n\n    // History\n    canUndo: (state): boolean => state.historyIndex > 0,\n    canRedo: (state): boolean => state.historyIndex < state.historyStack.length - 1\n  },\n\n  actions: {\n    /**\n     * Load inputs from ComfyUI node\n     */\n    loadInputs(inputs: {\n      node_id: string;\n      source_image: string;\n      depth_map: string;\n      width: number;\n      height: number;\n      frame_count: number;\n    }): void {\n      this.comfyuiNodeId = inputs.node_id;\n      this.sourceImage = inputs.source_image;\n      this.depthMap = inputs.depth_map;\n\n      // Update project composition settings\n      this.project.composition.width = inputs.width;\n      this.project.composition.height = inputs.height;\n      this.project.composition.frameCount = inputs.frame_count;\n      this.project.composition.duration = inputs.frame_count / this.project.composition.fps;\n\n      // Store as assets\n      if (inputs.source_image) {\n        this.project.assets['source_image'] = {\n          id: 'source_image',\n          type: 'image',\n          source: 'comfyui_node',\n          nodeId: inputs.node_id,\n          width: inputs.width,\n          height: inputs.height,\n          data: inputs.source_image\n        };\n      }\n\n      if (inputs.depth_map) {\n        this.project.assets['depth_map'] = {\n          id: 'depth_map',\n          type: 'depth_map',\n          source: 'comfyui_node',\n          nodeId: inputs.node_id,\n          width: inputs.width,\n          height: inputs.height,\n          data: inputs.depth_map\n        };\n      }\n\n      this.project.currentFrame = 0;\n      this.project.meta.modified = new Date().toISOString();\n\n      console.log('[Weyl] Loaded inputs from ComfyUI:', {\n        width: inputs.width,\n        height: inputs.height,\n        frameCount: inputs.frame_count\n      });\n\n      // Save initial state to history\n      this.pushHistory();\n    },\n\n    /**\n     * Create a new layer\n     */\n    createLayer(type: Layer['type'], name?: string): Layer {\n      const id = `layer_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n\n      const layer: Layer = {\n        id,\n        name: name || `${type.charAt(0).toUpperCase() + type.slice(1)} ${this.project.layers.length + 1}`,\n        type,\n        visible: true,\n        locked: false,\n        solo: false,\n        inPoint: 0,\n        outPoint: this.project.composition.frameCount - 1,\n        parentId: null,\n        blendMode: 'normal',\n        opacity: createAnimatableProperty('opacity', 100, 'number'),\n        transform: createDefaultTransform(),\n        properties: [],\n        data: null\n      };\n\n      this.project.layers.unshift(layer);\n      this.project.meta.modified = new Date().toISOString();\n      this.pushHistory();\n\n      return layer;\n    },\n\n    /**\n     * Delete a layer\n     */\n    deleteLayer(layerId: string): void {\n      const index = this.project.layers.findIndex(l => l.id === layerId);\n      if (index === -1) return;\n\n      this.project.layers.splice(index, 1);\n      this.selectedLayerIds = this.selectedLayerIds.filter(id => id !== layerId);\n      this.project.meta.modified = new Date().toISOString();\n      this.pushHistory();\n    },\n\n    /**\n     * Update layer properties\n     */\n    updateLayer(layerId: string, updates: Partial<Layer>): void {\n      const layer = this.project.layers.find(l => l.id === layerId);\n      if (!layer) return;\n\n      Object.assign(layer, updates);\n      this.project.meta.modified = new Date().toISOString();\n    },\n\n    /**\n     * Reorder layers\n     */\n    moveLayer(layerId: string, newIndex: number): void {\n      const currentIndex = this.project.layers.findIndex(l => l.id === layerId);\n      if (currentIndex === -1) return;\n\n      const [layer] = this.project.layers.splice(currentIndex, 1);\n      this.project.layers.splice(newIndex, 0, layer);\n      this.project.meta.modified = new Date().toISOString();\n      this.pushHistory();\n    },\n\n    /**\n     * Selection\n     */\n    selectLayer(layerId: string, addToSelection = false): void {\n      if (addToSelection) {\n        if (!this.selectedLayerIds.includes(layerId)) {\n          this.selectedLayerIds.push(layerId);\n        }\n      } else {\n        this.selectedLayerIds = [layerId];\n      }\n    },\n\n    deselectLayer(layerId: string): void {\n      this.selectedLayerIds = this.selectedLayerIds.filter(id => id !== layerId);\n    },\n\n    clearSelection(): void {\n      this.selectedLayerIds = [];\n      this.selectedKeyframeIds = [];\n    },\n\n    /**\n     * Playback controls\n     */\n    play(): void {\n      if (this.isPlaying) return;\n\n      this.isPlaying = true;\n      this.playbackStartTime = performance.now();\n      this.playbackStartFrame = this.project.currentFrame;\n\n      this.playbackLoop();\n    },\n\n    pause(): void {\n      this.isPlaying = false;\n      if (this.playbackRequestId !== null) {\n        cancelAnimationFrame(this.playbackRequestId);\n        this.playbackRequestId = null;\n      }\n    },\n\n    togglePlayback(): void {\n      if (this.isPlaying) {\n        this.pause();\n      } else {\n        this.play();\n      }\n    },\n\n    /**\n     * Animation loop for playback\n     */\n    playbackLoop(): void {\n      if (!this.isPlaying) return;\n\n      const elapsed = performance.now() - (this.playbackStartTime || 0);\n      const fps = this.project.composition.fps;\n      const frameCount = this.project.composition.frameCount;\n\n      const elapsedFrames = Math.floor((elapsed / 1000) * fps);\n      let newFrame = this.playbackStartFrame + elapsedFrames;\n\n      // Loop playback\n      if (newFrame >= frameCount) {\n        newFrame = 0;\n        this.playbackStartFrame = 0;\n        this.playbackStartTime = performance.now();\n      }\n\n      this.project.currentFrame = newFrame;\n\n      this.playbackRequestId = requestAnimationFrame(() => this.playbackLoop());\n    },\n\n    setFrame(frame: number): void {\n      this.project.currentFrame = Math.max(0, Math.min(frame, this.project.composition.frameCount - 1));\n    },\n\n    nextFrame(): void {\n      if (this.project.currentFrame < this.project.composition.frameCount - 1) {\n        this.project.currentFrame++;\n      }\n    },\n\n    prevFrame(): void {\n      if (this.project.currentFrame > 0) {\n        this.project.currentFrame--;\n      }\n    },\n\n    goToStart(): void {\n      this.project.currentFrame = 0;\n    },\n\n    goToEnd(): void {\n      this.project.currentFrame = this.project.composition.frameCount - 1;\n    },\n\n    /**\n     * Tool selection\n     */\n    setTool(tool: CompositorState['currentTool']): void {\n      this.currentTool = tool;\n    },\n\n    /**\n     * History management\n     */\n    pushHistory(): void {\n      // Remove any future history if we're not at the end\n      if (this.historyIndex < this.historyStack.length - 1) {\n        this.historyStack = this.historyStack.slice(0, this.historyIndex + 1);\n      }\n\n      // Deep clone the project\n      const snapshot = JSON.parse(JSON.stringify(this.project));\n      this.historyStack.push(snapshot);\n      this.historyIndex = this.historyStack.length - 1;\n\n      // Limit history size\n      const maxHistory = 50;\n      if (this.historyStack.length > maxHistory) {\n        this.historyStack = this.historyStack.slice(-maxHistory);\n        this.historyIndex = this.historyStack.length - 1;\n      }\n    },\n\n    undo(): void {\n      if (this.historyIndex <= 0) return;\n\n      this.historyIndex--;\n      this.project = JSON.parse(JSON.stringify(this.historyStack[this.historyIndex]));\n    },\n\n    redo(): void {\n      if (this.historyIndex >= this.historyStack.length - 1) return;\n\n      this.historyIndex++;\n      this.project = JSON.parse(JSON.stringify(this.historyStack[this.historyIndex]));\n    },\n\n    /**\n     * Project serialization\n     */\n    exportProject(): string {\n      return JSON.stringify(this.project, null, 2);\n    },\n\n    importProject(json: string): void {\n      try {\n        const project = JSON.parse(json) as WeylProject;\n        this.project = project;\n        this.pushHistory();\n      } catch (err) {\n        console.error('[Weyl] Failed to import project:', err);\n      }\n    },\n\n    /**\n     * Toggle graph editor visibility\n     */\n    toggleGraphEditor(): void {\n      this.graphEditorVisible = !this.graphEditorVisible;\n    },\n\n    /**\n     * Get interpolated value for any animatable property at current frame\n     */\n    getInterpolatedValue<T>(property: AnimatableProperty<T>): T {\n      return interpolateProperty(property, this.project.currentFrame);\n    },\n\n    /**\n     * Add a keyframe to a property\n     */\n    addKeyframe<T>(\n      layerId: string,\n      propertyName: string,\n      value: T\n    ): Keyframe<T> | null {\n      const layer = this.project.layers.find(l => l.id === layerId);\n      if (!layer) return null;\n\n      // Find the property\n      let property: AnimatableProperty<T> | undefined;\n\n      // Check transform properties\n      if (propertyName === 'position') {\n        property = layer.transform.position as unknown as AnimatableProperty<T>;\n      } else if (propertyName === 'scale') {\n        property = layer.transform.scale as unknown as AnimatableProperty<T>;\n      } else if (propertyName === 'rotation') {\n        property = layer.transform.rotation as unknown as AnimatableProperty<T>;\n      } else if (propertyName === 'opacity') {\n        property = layer.opacity as unknown as AnimatableProperty<T>;\n      } else {\n        // Check custom properties\n        property = layer.properties.find(p => p.name === propertyName) as AnimatableProperty<T> | undefined;\n      }\n\n      if (!property) return null;\n\n      // Enable animation\n      property.animated = true;\n\n      // Create keyframe\n      const keyframe: Keyframe<T> = {\n        id: `kf_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n        frame: this.project.currentFrame,\n        value,\n        interpolation: 'bezier',\n        inHandle: { x: 0.33, y: 0.33 },\n        outHandle: { x: 0.33, y: 0.33 },\n        handlesBroken: false\n      };\n\n      // Check for existing keyframe at this frame\n      const existingIndex = property.keyframes.findIndex(k => k.frame === this.project.currentFrame);\n      if (existingIndex >= 0) {\n        property.keyframes[existingIndex] = keyframe;\n      } else {\n        property.keyframes.push(keyframe);\n        property.keyframes.sort((a, b) => a.frame - b.frame);\n      }\n\n      this.project.meta.modified = new Date().toISOString();\n      return keyframe;\n    },\n\n    /**\n     * Remove a keyframe\n     */\n    removeKeyframe(layerId: string, propertyName: string, keyframeId: string): void {\n      const layer = this.project.layers.find(l => l.id === layerId);\n      if (!layer) return;\n\n      // Find the property\n      let property: AnimatableProperty<any> | undefined;\n\n      if (propertyName === 'position') {\n        property = layer.transform.position;\n      } else if (propertyName === 'scale') {\n        property = layer.transform.scale;\n      } else if (propertyName === 'rotation') {\n        property = layer.transform.rotation;\n      } else if (propertyName === 'opacity') {\n        property = layer.opacity;\n      } else {\n        property = layer.properties.find(p => p.name === propertyName);\n      }\n\n      if (!property) return;\n\n      const index = property.keyframes.findIndex(k => k.id === keyframeId);\n      if (index >= 0) {\n        property.keyframes.splice(index, 1);\n\n        // Disable animation if no keyframes left\n        if (property.keyframes.length === 0) {\n          property.animated = false;\n        }\n      }\n\n      this.project.meta.modified = new Date().toISOString();\n    },\n\n    /**\n     * Create a text layer with proper data structure\n     */\n    createTextLayer(text: string = 'Text'): Layer {\n      const layer = this.createLayer('text', text.substring(0, 20));\n\n      // Set up text data\n      const textData: TextData = {\n        text,\n        fontFamily: 'Arial',\n        fontSize: 48,\n        fontWeight: '400',\n        fontStyle: 'normal',\n        fill: '#ffffff',\n        stroke: '',\n        strokeWidth: 0,\n        letterSpacing: 0,\n        lineHeight: 1.2,\n        textAlign: 'left',\n        pathLayerId: null,\n        pathOffset: 0,\n        pathAlign: 'left'\n      };\n\n      layer.data = textData;\n\n      // Add animatable properties for text\n      layer.properties.push(createAnimatableProperty('fontSize', 48, 'number'));\n      layer.properties.push(createAnimatableProperty('pathOffset', 0, 'number'));\n      layer.properties.push(createAnimatableProperty('letterSpacing', 0, 'number'));\n\n      return layer;\n    },\n\n    /**\n     * Create a spline layer with proper data structure\n     */\n    createSplineLayer(): Layer {\n      const layer = this.createLayer('spline');\n\n      // Set up spline data\n      const splineData: SplineData = {\n        pathData: '',\n        controlPoints: [],\n        closed: false,\n        stroke: '#00ff00',\n        strokeWidth: 2,\n        fill: ''\n      };\n\n      layer.data = splineData;\n\n      return layer;\n    },\n\n    // ============================================================\n    // PARTICLE SYSTEM LAYER ACTIONS\n    // ============================================================\n\n    /**\n     * Create a particle system layer\n     */\n    createParticleLayer(): Layer {\n      const layer = this.createLayer('particles', 'Particle System');\n\n      // Set up particle layer data\n      const particleData: ParticleLayerData = {\n        systemConfig: {\n          maxParticles: 10000,\n          gravity: 0,\n          windStrength: 0,\n          windDirection: 0,\n          warmupPeriod: 0,\n          respectMaskBoundary: false,\n          boundaryBehavior: 'kill',\n          friction: 0.01\n        },\n        emitters: [{\n          id: `emitter_${Date.now()}`,\n          name: 'Emitter 1',\n          x: 0.5,\n          y: 0.5,\n          direction: 270,\n          spread: 30,\n          speed: 330,\n          speedVariance: 50,\n          size: 17,\n          sizeVariance: 5,\n          color: [255, 255, 255],\n          emissionRate: 10,\n          initialBurst: 0,\n          particleLifetime: 60,\n          lifetimeVariance: 10,\n          enabled: true,\n          burstOnBeat: false,\n          burstCount: 20\n        }],\n        gravityWells: [],\n        vortices: [],\n        modulations: [{\n          id: `mod_${Date.now()}`,\n          emitterId: '*',\n          property: 'opacity',\n          startValue: 1,\n          endValue: 0,\n          easing: 'linear'\n        }],\n        renderOptions: {\n          blendMode: 'additive',\n          renderTrails: false,\n          trailLength: 5,\n          trailOpacityFalloff: 0.7,\n          particleShape: 'circle',\n          glowEnabled: false,\n          glowRadius: 10,\n          glowIntensity: 0.5,\n          motionBlur: false,\n          motionBlurStrength: 0.5,\n          motionBlurSamples: 8,\n          connections: {\n            enabled: false,\n            maxDistance: 100,\n            maxConnections: 3,\n            lineWidth: 1,\n            lineOpacity: 0.5,\n            fadeByDistance: true\n          }\n        },\n        turbulenceFields: [],\n        subEmitters: []\n      };\n\n      layer.data = particleData;\n\n      return layer;\n    },\n\n    /**\n     * Update particle layer data\n     */\n    updateParticleLayerData(layerId: string, updates: Partial<ParticleLayerData>): void {\n      const layer = this.project.layers.find(l => l.id === layerId);\n      if (!layer || layer.type !== 'particles') return;\n\n      const data = layer.data as ParticleLayerData;\n      Object.assign(data, updates);\n      this.project.meta.modified = new Date().toISOString();\n    },\n\n    /**\n     * Add emitter to particle layer\n     */\n    addParticleEmitter(layerId: string, config: ParticleEmitterConfig): void {\n      const layer = this.project.layers.find(l => l.id === layerId);\n      if (!layer || layer.type !== 'particles') return;\n\n      const data = layer.data as ParticleLayerData;\n      data.emitters.push(config);\n      this.project.meta.modified = new Date().toISOString();\n    },\n\n    /**\n     * Update particle emitter\n     */\n    updateParticleEmitter(layerId: string, emitterId: string, updates: Partial<ParticleEmitterConfig>): void {\n      const layer = this.project.layers.find(l => l.id === layerId);\n      if (!layer || layer.type !== 'particles') return;\n\n      const data = layer.data as ParticleLayerData;\n      const emitter = data.emitters.find(e => e.id === emitterId);\n      if (emitter) {\n        Object.assign(emitter, updates);\n        this.project.meta.modified = new Date().toISOString();\n      }\n    },\n\n    /**\n     * Remove particle emitter\n     */\n    removeParticleEmitter(layerId: string, emitterId: string): void {\n      const layer = this.project.layers.find(l => l.id === layerId);\n      if (!layer || layer.type !== 'particles') return;\n\n      const data = layer.data as ParticleLayerData;\n      data.emitters = data.emitters.filter(e => e.id !== emitterId);\n      this.project.meta.modified = new Date().toISOString();\n    },\n\n    // ============================================================\n    // DEPTHFLOW LAYER ACTIONS\n    // ============================================================\n\n    /**\n     * Create a depthflow parallax layer\n     */\n    createDepthflowLayer(sourceLayerId: string = '', depthLayerId: string = ''): Layer {\n      const layer = this.createLayer('depthflow', 'Depthflow');\n\n      // Set up depthflow layer data\n      const depthflowData: DepthflowLayerData = {\n        sourceLayerId,\n        depthLayerId,\n        config: {\n          preset: 'zoom_in',\n          zoom: 1.0,\n          offsetX: 0,\n          offsetY: 0,\n          rotation: 0,\n          depthScale: 1.0,\n          focusDepth: 0.5,\n          dollyZoom: 0,\n          orbitRadius: 0.1,\n          orbitSpeed: 360,\n          swingAmplitude: 0.1,\n          swingFrequency: 1,\n          edgeDilation: 5,\n          inpaintEdges: true\n        },\n        animatedZoom: createAnimatableProperty('zoom', 1.0, 'number'),\n        animatedOffsetX: createAnimatableProperty('offsetX', 0, 'number'),\n        animatedOffsetY: createAnimatableProperty('offsetY', 0, 'number'),\n        animatedRotation: createAnimatableProperty('rotation', 0, 'number'),\n        animatedDepthScale: createAnimatableProperty('depthScale', 1.0, 'number')\n      };\n\n      layer.data = depthflowData;\n\n      return layer;\n    },\n\n    /**\n     * Update depthflow config\n     */\n    updateDepthflowConfig(layerId: string, updates: Partial<DepthflowLayerData['config']>): void {\n      const layer = this.project.layers.find(l => l.id === layerId);\n      if (!layer || layer.type !== 'depthflow') return;\n\n      const data = layer.data as DepthflowLayerData;\n      Object.assign(data.config, updates);\n      this.project.meta.modified = new Date().toISOString();\n    },\n\n    // ============================================================\n    // AUDIO ACTIONS\n    // ============================================================\n\n    /**\n     * Load audio file for analysis\n     */\n    async loadAudio(file: File): Promise<void> {\n      try {\n        this.audioFile = file;\n        this.audioBuffer = await loadAudioFile(file);\n        this.audioAnalysis = await analyzeAudio(this.audioBuffer, this.project.composition.fps);\n\n        // Initialize the audio reactive mapper\n        this.initializeAudioReactiveMapper();\n\n        console.log('[Weyl] Audio loaded:', {\n          duration: this.audioBuffer.duration,\n          bpm: this.audioAnalysis.bpm,\n          frameCount: this.audioAnalysis.frameCount\n        });\n      } catch (error) {\n        console.error('[Weyl] Failed to load audio:', error);\n        this.audioFile = null;\n        this.audioBuffer = null;\n        this.audioAnalysis = null;\n        this.audioReactiveMapper = null;\n      }\n    },\n\n    /**\n     * Clear loaded audio\n     */\n    clearAudio(): void {\n      this.audioFile = null;\n      this.audioBuffer = null;\n      this.audioAnalysis = null;\n      this.audioMappings.clear();\n    },\n\n    /**\n     * Get audio feature value at current frame\n     */\n    getAudioFeatureAtFrame(feature: string, frame?: number): number {\n      if (!this.audioAnalysis) return 0;\n      return getFeatureAtFrame(this.audioAnalysis, feature, frame ?? this.project.currentFrame);\n    },\n\n    /**\n     * Apply audio reactivity mapping to particle layer\n     */\n    applyAudioToParticles(layerId: string, mapping: AudioParticleMapping): void {\n      const existing = this.audioMappings.get(layerId) || [];\n      existing.push(mapping);\n      this.audioMappings.set(layerId, existing);\n    },\n\n    /**\n     * Remove audio mapping (legacy)\n     */\n    removeLegacyAudioMapping(layerId: string, index: number): void {\n      const mappings = this.audioMappings.get(layerId);\n      if (mappings) {\n        mappings.splice(index, 1);\n        if (mappings.length === 0) {\n          this.audioMappings.delete(layerId);\n        }\n      }\n    },\n\n    /**\n     * Get audio mappings for a layer (legacy)\n     */\n    getAudioMappingsForLayer(layerId: string): AudioParticleMapping[] {\n      return this.audioMappings.get(layerId) || [];\n    },\n\n    // ============================================================\n    // NEW AUDIO REACTIVE SYSTEM\n    // ============================================================\n\n    /**\n     * Set peak data\n     */\n    setPeakData(peakData: PeakData): void {\n      this.peakData = peakData;\n      if (this.audioReactiveMapper) {\n        this.audioReactiveMapper.setPeakData(peakData);\n      }\n    },\n\n    /**\n     * Detect peaks with config\n     */\n    detectAudioPeaks(config: PeakDetectionConfig): PeakData | null {\n      if (!this.audioAnalysis) return null;\n\n      const weights = this.audioAnalysis.amplitudeEnvelope;\n      const peakData = detectPeaks(weights, config);\n      this.peakData = peakData;\n\n      if (this.audioReactiveMapper) {\n        this.audioReactiveMapper.setPeakData(peakData);\n      }\n\n      return peakData;\n    },\n\n    /**\n     * Add new audio mapping\n     */\n    addAudioMapping(mapping: AudioMapping): void {\n      this.audioReactiveMappings.push(mapping);\n\n      if (this.audioReactiveMapper) {\n        this.audioReactiveMapper.addMapping(mapping);\n      }\n    },\n\n    /**\n     * Remove audio mapping by ID\n     */\n    removeAudioMapping(mappingId: string): void {\n      const index = this.audioReactiveMappings.findIndex(m => m.id === mappingId);\n      if (index >= 0) {\n        this.audioReactiveMappings.splice(index, 1);\n      }\n\n      if (this.audioReactiveMapper) {\n        this.audioReactiveMapper.removeMapping(mappingId);\n      }\n    },\n\n    /**\n     * Update audio mapping\n     */\n    updateAudioMapping(mappingId: string, updates: Partial<AudioMapping>): void {\n      const mapping = this.audioReactiveMappings.find(m => m.id === mappingId);\n      if (mapping) {\n        Object.assign(mapping, updates);\n      }\n\n      if (this.audioReactiveMapper) {\n        this.audioReactiveMapper.updateMapping(mappingId, updates);\n      }\n    },\n\n    /**\n     * Get all audio mappings\n     */\n    getAudioMappings(): AudioMapping[] {\n      return this.audioReactiveMappings;\n    },\n\n    /**\n     * Get mapped value at frame\n     */\n    getMappedValueAtFrame(mappingId: string, frame: number): number {\n      if (!this.audioReactiveMapper) return 0;\n      return this.audioReactiveMapper.getValueAtFrame(mappingId, frame);\n    },\n\n    /**\n     * Get all mapped values at current frame\n     */\n    getAllMappedValuesAtFrame(frame?: number): Map<TargetParameter, number> {\n      if (!this.audioReactiveMapper) return new Map();\n      return this.audioReactiveMapper.getAllValuesAtFrame(frame ?? this.project.currentFrame);\n    },\n\n    /**\n     * Get active mappings for a specific layer\n     */\n    getActiveMappingsForLayer(layerId: string): AudioMapping[] {\n      return this.audioReactiveMappings.filter(\n        m => m.enabled && (m.targetLayerId === layerId || m.targetLayerId === undefined)\n      );\n    },\n\n    /**\n     * Check if current frame is a beat\n     */\n    isBeatAtCurrentFrame(): boolean {\n      if (!this.audioAnalysis) return false;\n      return isBeatAtFrame(this.audioAnalysis, this.project.currentFrame);\n    },\n\n    // ============================================================\n    // PATH ANIMATOR ACTIONS\n    // ============================================================\n\n    /**\n     * Create path animator for a layer\n     */\n    createPathAnimator(layerId: string, config: Partial<PathAnimatorConfig> = {}): void {\n      const animator = new AudioPathAnimator(config);\n      this.pathAnimators.set(layerId, animator);\n    },\n\n    /**\n     * Set path for an animator\n     */\n    setPathAnimatorPath(layerId: string, pathData: string): void {\n      const animator = this.pathAnimators.get(layerId);\n      if (animator) {\n        animator.setPath(pathData);\n      }\n    },\n\n    /**\n     * Update path animator config\n     */\n    updatePathAnimatorConfig(layerId: string, config: Partial<PathAnimatorConfig>): void {\n      const animator = this.pathAnimators.get(layerId);\n      if (animator) {\n        animator.setConfig(config);\n      }\n    },\n\n    /**\n     * Remove path animator\n     */\n    removePathAnimator(layerId: string): void {\n      this.pathAnimators.delete(layerId);\n    },\n\n    /**\n     * Get path animator for layer\n     */\n    getPathAnimator(layerId: string): AudioPathAnimator | undefined {\n      return this.pathAnimators.get(layerId) as AudioPathAnimator | undefined;\n    },\n\n    /**\n     * Update all path animators for current frame\n     */\n    updatePathAnimators(): void {\n      if (!this.audioAnalysis) return;\n\n      const frame = this.project.currentFrame;\n      const amplitude = getFeatureAtFrame(this.audioAnalysis, 'amplitude', frame);\n      const isBeat = isBeatAtFrame(this.audioAnalysis, frame);\n\n      for (const [_layerId, animator] of this.pathAnimators) {\n        animator.update(amplitude, isBeat);\n      }\n    },\n\n    /**\n     * Reset all path animators\n     */\n    resetPathAnimators(): void {\n      for (const animator of this.pathAnimators.values()) {\n        animator.reset();\n      }\n    },\n\n    /**\n     * Initialize audio reactive mapper when audio is loaded\n     */\n    initializeAudioReactiveMapper(): void {\n      if (!this.audioAnalysis) return;\n\n      this.audioReactiveMapper = new AudioReactiveMapper(this.audioAnalysis);\n\n      // Add existing mappings\n      for (const mapping of this.audioReactiveMappings) {\n        this.audioReactiveMapper.addMapping(mapping);\n      }\n\n      // Set peak data if available\n      if (this.peakData) {\n        this.audioReactiveMapper.setPeakData(this.peakData);\n      }\n    }\n  }\n});\n","/**\n * GPU Tier Detection Service\n *\n * Detects GPU capabilities and returns appropriate rendering tier.\n */\n\nexport interface GPUTier {\n  tier: 'cpu' | 'webgl' | 'webgpu' | 'blackwell';\n  vram: number;\n  features: string[];\n}\n\n/**\n * Estimate VRAM from WebGPU adapter (approximation)\n */\nasync function estimateVRAM(adapter: GPUAdapter): Promise<number> {\n  try {\n    const device = await adapter.requestDevice();\n    // WebGPU doesn't directly expose VRAM, but we can check limits\n    const maxBufferSize = device.limits.maxBufferSize;\n    device.destroy();\n    // Rough estimate: max buffer size is usually ~25% of VRAM\n    return Math.round((maxBufferSize * 4) / (1024 * 1024 * 1024)); // GB\n  } catch {\n    return 0;\n  }\n}\n\n/**\n * Detect GPU tier based on available APIs\n */\nexport async function detectGPUTier(): Promise<GPUTier> {\n  // Check WebGPU (best for canvas rendering)\n  if ('gpu' in navigator) {\n    try {\n      const gpu = navigator.gpu;\n      const adapter = await gpu.requestAdapter({\n        powerPreference: 'high-performance'\n      });\n\n      if (adapter) {\n        // Get adapter info - method varies by browser version\n        let deviceName = '';\n        if ('info' in adapter) {\n          // Newer API\n          const info = (adapter as any).info;\n          deviceName = info?.device || info?.description || '';\n        }\n\n        // Detect Blackwell (RTX 50 series)\n        if (\n          deviceName.includes('RTX 50') ||\n          deviceName.toLowerCase().includes('blackwell') ||\n          deviceName.includes('B100') ||\n          deviceName.includes('B200')\n        ) {\n          return {\n            tier: 'blackwell',\n            vram: await estimateVRAM(adapter),\n            features: ['fp4_tensor', 'webgpu', 'cuda_12']\n          };\n        }\n\n        return {\n          tier: 'webgpu',\n          vram: await estimateVRAM(adapter),\n          features: ['webgpu']\n        };\n      }\n    } catch (error) {\n      console.warn('[Weyl] WebGPU detection failed:', error);\n    }\n  }\n\n  // Fallback to WebGL\n  const canvas = document.createElement('canvas');\n  const gl = canvas.getContext('webgl2');\n  if (gl) {\n    const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');\n    const renderer = debugInfo\n      ? gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL)\n      : 'Unknown';\n\n    console.log('[Weyl] WebGL renderer:', renderer);\n\n    return {\n      tier: 'webgl',\n      vram: 0, // Can't detect in WebGL\n      features: ['webgl2']\n    };\n  }\n\n  // CPU fallback\n  return {\n    tier: 'cpu',\n    vram: 0,\n    features: []\n  };\n}\n\nexport default detectGPUTier;\n","/**\n * 2.5D Camera System Types\n * Matching After Effects camera functionality\n */\n\nexport type CameraType = 'one-node' | 'two-node';\n\nexport type AutoOrientMode =\n  | 'off'\n  | 'orient-along-path'\n  | 'orient-towards-poi';\n\nexport type MeasureFilmSize = 'horizontal' | 'vertical' | 'diagonal';\n\nexport type WireframeVisibility = 'always' | 'selected' | 'off';\n\nexport interface Camera3D {\n  id: string;\n  name: string;\n  type: CameraType;\n\n  // === TRANSFORM ===\n  position: { x: number; y: number; z: number };\n  pointOfInterest: { x: number; y: number; z: number };  // Two-node only\n\n  // Orientation (combined XYZ rotation)\n  orientation: { x: number; y: number; z: number };\n\n  // Individual rotation axes (additive with orientation)\n  xRotation: number;\n  yRotation: number;\n  zRotation: number;\n\n  // === LENS SETTINGS ===\n  zoom: number;                      // Pixels (AE internal)\n  focalLength: number;               // mm (display)\n  angleOfView: number;               // Degrees (computed)\n  filmSize: number;                  // mm (default 36 = full frame)\n  measureFilmSize: MeasureFilmSize;\n\n  // === DEPTH OF FIELD ===\n  depthOfField: {\n    enabled: boolean;\n    focusDistance: number;           // Pixels\n    aperture: number;                // Pixels (internal)\n    fStop: number;                   // f-stop (display)\n    blurLevel: number;               // 0-1 multiplier\n    lockToZoom: boolean;\n  };\n\n  // === IRIS PROPERTIES ===\n  iris: {\n    shape: number;                   // 0-10 (pentagon to circle)\n    rotation: number;                // Degrees\n    roundness: number;               // 0-1\n    aspectRatio: number;             // 0.5-2\n    diffractionFringe: number;       // 0-1\n  };\n\n  // === HIGHLIGHT PROPERTIES ===\n  highlight: {\n    gain: number;                    // 0-1\n    threshold: number;               // 0-1\n    saturation: number;              // 0-1\n  };\n\n  // === AUTO-ORIENT ===\n  autoOrient: AutoOrientMode;\n\n  // === CLIPPING ===\n  nearClip: number;\n  farClip: number;\n}\n\n// Camera presets matching AE focal lengths\nexport const CAMERA_PRESETS = [\n  { name: '15mm', focalLength: 15, angleOfView: 100.4, zoom: 533 },\n  { name: '20mm', focalLength: 20, angleOfView: 84.0, zoom: 711 },\n  { name: '24mm', focalLength: 24, angleOfView: 73.7, zoom: 853 },\n  { name: '28mm', focalLength: 28, angleOfView: 65.5, zoom: 996 },\n  { name: '35mm', focalLength: 35, angleOfView: 54.4, zoom: 1244 },\n  { name: '50mm', focalLength: 50, angleOfView: 39.6, zoom: 1778 },\n  { name: '80mm', focalLength: 80, angleOfView: 25.4, zoom: 2844 },\n  { name: '135mm', focalLength: 135, angleOfView: 15.2, zoom: 4800 },\n] as const;\n\n// View types for multi-view layout\nexport type ViewType =\n  | 'active-camera'\n  | 'custom-1'\n  | 'custom-2'\n  | 'custom-3'\n  | 'front'\n  | 'back'\n  | 'left'\n  | 'right'\n  | 'top'\n  | 'bottom';\n\nexport type ViewLayout =\n  | '1-view'\n  | '2-view-horizontal'\n  | '2-view-vertical'\n  | '4-view';\n\nexport interface CustomViewState {\n  orbitCenter: { x: number; y: number; z: number };\n  orbitDistance: number;\n  orbitPhi: number;      // Vertical angle (0=top, 90=side)\n  orbitTheta: number;    // Horizontal angle\n  orthoZoom: number;     // For orthographic views\n  orthoOffset: { x: number; y: number };\n}\n\nexport interface ViewportState {\n  layout: ViewLayout;\n  views: ViewType[];                    // Which view in each panel\n  customViews: {\n    'custom-1': CustomViewState;\n    'custom-2': CustomViewState;\n    'custom-3': CustomViewState;\n  };\n  activeViewIndex: number;\n}\n\nexport interface ViewOptions {\n  cameraWireframes: WireframeVisibility;\n  lightWireframes: WireframeVisibility;\n  showMotionPaths: boolean;\n  showLayerHandles: boolean;\n  showSafeZones: boolean;\n  showGrid: boolean;\n  showRulers: boolean;\n  show3DReferenceAxes: boolean;\n  showCompositionBounds: boolean;       // Canvas as 3D plane\n  showFocalPlane: boolean;              // DOF focus indicator\n}\n\n// Camera keyframes for animation\nexport interface CameraKeyframe {\n  frame: number;\n\n  // Transform (optional - only keyframed properties)\n  position?: { x: number; y: number; z: number };\n  pointOfInterest?: { x: number; y: number; z: number };\n  orientation?: { x: number; y: number; z: number };\n  xRotation?: number;\n  yRotation?: number;\n  zRotation?: number;\n\n  // Lens\n  zoom?: number;\n  focalLength?: number;\n  focusDistance?: number;\n  aperture?: number;\n\n  // Bezier handles for curve editor\n  inHandle?: { x: number; y: number };\n  outHandle?: { x: number; y: number };\n\n  // Spatial interpolation type\n  spatialInterpolation?: 'linear' | 'bezier' | 'auto-bezier' | 'continuous-bezier';\n\n  // Temporal interpolation type\n  temporalInterpolation?: 'linear' | 'bezier' | 'hold';\n\n  // Separate dimensions (animate X/Y/Z independently)\n  separateDimensions?: boolean;\n}\n\n// Default camera factory\nexport function createDefaultCamera(\n  id: string,\n  compWidth: number,\n  compHeight: number\n): Camera3D {\n  const centerX = compWidth / 2;\n  const centerY = compHeight / 2;\n\n  return {\n    id,\n    name: 'Camera 1',\n    type: 'two-node',\n\n    position: { x: centerX, y: centerY, z: -1500 },\n    pointOfInterest: { x: centerX, y: centerY, z: 0 },\n\n    orientation: { x: 0, y: 0, z: 0 },\n    xRotation: 0,\n    yRotation: 0,\n    zRotation: 0,\n\n    zoom: 1778,  // 50mm equivalent\n    focalLength: 50,\n    angleOfView: 39.6,\n    filmSize: 36,\n    measureFilmSize: 'horizontal',\n\n    depthOfField: {\n      enabled: false,\n      focusDistance: 1500,\n      aperture: 50,\n      fStop: 2.8,\n      blurLevel: 1,\n      lockToZoom: false\n    },\n\n    iris: {\n      shape: 7,        // Heptagon by default\n      rotation: 0,\n      roundness: 0,\n      aspectRatio: 1,\n      diffractionFringe: 0\n    },\n\n    highlight: {\n      gain: 0,\n      threshold: 1,\n      saturation: 1\n    },\n\n    autoOrient: 'off',\n\n    nearClip: 1,\n    farClip: 10000\n  };\n}\n\n// Default viewport state\nexport function createDefaultViewportState(): ViewportState {\n  return {\n    layout: '1-view',\n    views: ['active-camera'],\n    customViews: {\n      'custom-1': {\n        orbitCenter: { x: 0, y: 0, z: 0 },\n        orbitDistance: 2000,\n        orbitPhi: 60,\n        orbitTheta: 45,\n        orthoZoom: 1,\n        orthoOffset: { x: 0, y: 0 }\n      },\n      'custom-2': {\n        orbitCenter: { x: 0, y: 0, z: 0 },\n        orbitDistance: 2000,\n        orbitPhi: 90,\n        orbitTheta: 0,\n        orthoZoom: 1,\n        orthoOffset: { x: 0, y: 0 }\n      },\n      'custom-3': {\n        orbitCenter: { x: 0, y: 0, z: 0 },\n        orbitDistance: 2000,\n        orbitPhi: 0,\n        orbitTheta: 0,\n        orthoZoom: 1,\n        orthoOffset: { x: 0, y: 0 }\n      }\n    },\n    activeViewIndex: 0\n  };\n}\n\n// Default view options\nexport function createDefaultViewOptions(): ViewOptions {\n  return {\n    cameraWireframes: 'selected',\n    lightWireframes: 'selected',\n    showMotionPaths: true,\n    showLayerHandles: true,\n    showSafeZones: false,\n    showGrid: false,\n    showRulers: true,\n    show3DReferenceAxes: true,\n    showCompositionBounds: true,\n    showFocalPlane: false\n  };\n}\n","<template>\n  <div class=\"project-panel\">\n    <div class=\"panel-header\">\n      <span class=\"panel-title\">Project</span>\n      <div class=\"header-actions\">\n        <button @click=\"createNewItem\" title=\"New Item\">+</button>\n        <button @click=\"showSearch = !showSearch\" title=\"Search\"></button>\n      </div>\n    </div>\n\n    <div v-if=\"showSearch\" class=\"search-bar\">\n      <input\n        type=\"text\"\n        v-model=\"searchQuery\"\n        placeholder=\"Search project...\"\n        class=\"search-input\"\n      />\n    </div>\n\n    <div class=\"panel-content\">\n      <!-- Folders -->\n      <div class=\"folder-tree\">\n        <div\n          v-for=\"folder in filteredFolders\"\n          :key=\"folder.id\"\n          class=\"folder-item\"\n        >\n          <div\n            class=\"folder-header\"\n            :class=\"{ selected: selectedItem === folder.id }\"\n            @click=\"selectItem(folder.id)\"\n            @dblclick=\"toggleFolder(folder.id)\"\n          >\n            <span class=\"expand-icon\" @click.stop=\"toggleFolder(folder.id)\">\n              {{ expandedFolders.includes(folder.id) ? '' : '' }}\n            </span>\n            <span class=\"folder-icon\"></span>\n            <span class=\"folder-name\">{{ folder.name }}</span>\n            <span class=\"item-count\">{{ folder.items.length }}</span>\n          </div>\n\n          <div v-if=\"expandedFolders.includes(folder.id)\" class=\"folder-contents\">\n            <div\n              v-for=\"item in folder.items\"\n              :key=\"item.id\"\n              class=\"project-item\"\n              :class=\"{ selected: selectedItem === item.id }\"\n              @click=\"selectItem(item.id)\"\n              @dblclick=\"openItem(item)\"\n              draggable=\"true\"\n              @dragstart=\"onDragStart(item, $event)\"\n            >\n              <span class=\"item-icon\">{{ getItemIcon(item.type) }}</span>\n              <span class=\"item-name\">{{ item.name }}</span>\n              <span class=\"item-info\">{{ getItemInfo(item) }}</span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Root Items (not in folders) -->\n        <div\n          v-for=\"item in filteredRootItems\"\n          :key=\"item.id\"\n          class=\"project-item\"\n          :class=\"{ selected: selectedItem === item.id }\"\n          @click=\"selectItem(item.id)\"\n          @dblclick=\"openItem(item)\"\n          draggable=\"true\"\n          @dragstart=\"onDragStart(item, $event)\"\n        >\n          <span class=\"item-icon\">{{ getItemIcon(item.type) }}</span>\n          <span class=\"item-name\">{{ item.name }}</span>\n          <span class=\"item-info\">{{ getItemInfo(item) }}</span>\n        </div>\n      </div>\n\n      <!-- Empty State -->\n      <div v-if=\"items.length === 0\" class=\"empty-state\">\n        <p>No items in project</p>\n        <p class=\"hint\">Import footage or create compositions</p>\n      </div>\n    </div>\n\n    <!-- Footer with item details -->\n    <div v-if=\"selectedItemDetails\" class=\"panel-footer\">\n      <div class=\"item-details\">\n        <span class=\"detail-label\">{{ selectedItemDetails.name }}</span>\n        <span class=\"detail-info\">{{ selectedItemDetails.info }}</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from 'vue';\nimport { useCompositorStore } from '@/stores/compositorStore';\n\ninterface ProjectItem {\n  id: string;\n  name: string;\n  type: 'composition' | 'footage' | 'solid' | 'audio' | 'folder';\n  width?: number;\n  height?: number;\n  duration?: number;\n  fps?: number;\n}\n\ninterface Folder {\n  id: string;\n  name: string;\n  items: ProjectItem[];\n}\n\nconst store = useCompositorStore();\n\n// State\nconst showSearch = ref(false);\nconst searchQuery = ref('');\nconst selectedItem = ref<string | null>(null);\nconst expandedFolders = ref<string[]>(['compositions', 'footage']);\n\n// Demo data - in real app this would come from store\nconst folders = ref<Folder[]>([\n  {\n    id: 'compositions',\n    name: 'Compositions',\n    items: [\n      { id: 'comp-1', name: 'Main Comp', type: 'composition', width: 1920, height: 1080, fps: 30, duration: 300 }\n    ]\n  },\n  {\n    id: 'footage',\n    name: 'Footage',\n    items: []\n  },\n  {\n    id: 'solids',\n    name: 'Solids',\n    items: []\n  }\n]);\n\nconst items = ref<ProjectItem[]>([]);\n\n// Computed\nconst filteredFolders = computed(() => {\n  if (!searchQuery.value) return folders.value;\n\n  const query = searchQuery.value.toLowerCase();\n  return folders.value.map(folder => ({\n    ...folder,\n    items: folder.items.filter(item =>\n      item.name.toLowerCase().includes(query)\n    )\n  })).filter(folder => folder.items.length > 0 || folder.name.toLowerCase().includes(query));\n});\n\nconst filteredRootItems = computed(() => {\n  if (!searchQuery.value) return items.value;\n\n  const query = searchQuery.value.toLowerCase();\n  return items.value.filter(item =>\n    item.name.toLowerCase().includes(query)\n  );\n});\n\nconst selectedItemDetails = computed(() => {\n  if (!selectedItem.value) return null;\n\n  // Find in folders\n  for (const folder of folders.value) {\n    const item = folder.items.find(i => i.id === selectedItem.value);\n    if (item) {\n      return {\n        name: item.name,\n        info: getItemInfo(item)\n      };\n    }\n  }\n\n  // Find in root items\n  const item = items.value.find(i => i.id === selectedItem.value);\n  if (item) {\n    return {\n      name: item.name,\n      info: getItemInfo(item)\n    };\n  }\n\n  return null;\n});\n\n// Methods\nfunction toggleFolder(folderId: string) {\n  const index = expandedFolders.value.indexOf(folderId);\n  if (index >= 0) {\n    expandedFolders.value.splice(index, 1);\n  } else {\n    expandedFolders.value.push(folderId);\n  }\n}\n\nfunction selectItem(itemId: string) {\n  selectedItem.value = itemId;\n}\n\nfunction openItem(item: ProjectItem) {\n  if (item.type === 'composition') {\n    // Open composition in viewer\n    console.log('Opening composition:', item.name);\n  }\n}\n\nfunction createNewItem() {\n  // Show new item dialog\n  console.log('Create new item');\n}\n\nfunction getItemIcon(type: ProjectItem['type']): string {\n  const icons: Record<ProjectItem['type'], string> = {\n    composition: '',\n    footage: '',\n    solid: '',\n    audio: '',\n    folder: ''\n  };\n  return icons[type] || '';\n}\n\nfunction getItemInfo(item: ProjectItem): string {\n  if (item.type === 'composition' || item.type === 'footage') {\n    const parts: string[] = [];\n    if (item.width && item.height) {\n      parts.push(`${item.width}${item.height}`);\n    }\n    if (item.fps) {\n      parts.push(`${item.fps}fps`);\n    }\n    if (item.duration) {\n      const seconds = item.duration / (item.fps || 30);\n      parts.push(`${seconds.toFixed(1)}s`);\n    }\n    return parts.join('  ');\n  }\n  return '';\n}\n\nfunction onDragStart(item: ProjectItem, event: DragEvent) {\n  event.dataTransfer?.setData('application/project-item', JSON.stringify(item));\n}\n</script>\n\n<style scoped>\n.project-panel {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: #1e1e1e;\n  color: #e0e0e0;\n  font-size: 11px;\n}\n\n.panel-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 10px;\n  background: #252525;\n  border-bottom: 1px solid #333;\n}\n\n.panel-title {\n  font-weight: 600;\n  font-size: 12px;\n}\n\n.header-actions {\n  display: flex;\n  gap: 4px;\n}\n\n.header-actions button {\n  width: 22px;\n  height: 22px;\n  padding: 0;\n  border: none;\n  background: transparent;\n  color: #888;\n  border-radius: 3px;\n  cursor: pointer;\n  font-size: 12px;\n}\n\n.header-actions button:hover {\n  background: #3a3a3a;\n  color: #e0e0e0;\n}\n\n.search-bar {\n  padding: 6px 8px;\n  background: #222;\n  border-bottom: 1px solid #333;\n}\n\n.search-input {\n  width: 100%;\n  padding: 5px 8px;\n  border: 1px solid #3a3a3a;\n  background: #1a1a1a;\n  color: #e0e0e0;\n  border-radius: 3px;\n  font-size: 11px;\n}\n\n.search-input:focus {\n  outline: none;\n  border-color: #4a90d9;\n}\n\n.panel-content {\n  flex: 1;\n  overflow-y: auto;\n}\n\n.folder-tree {\n  padding: 4px 0;\n}\n\n.folder-item {\n  border-bottom: 1px solid #2a2a2a;\n}\n\n.folder-header {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 6px 8px;\n  cursor: pointer;\n  user-select: none;\n}\n\n.folder-header:hover {\n  background: #2a2a2a;\n}\n\n.folder-header.selected {\n  background: #3a5070;\n}\n\n.expand-icon {\n  width: 12px;\n  font-size: 8px;\n  color: #666;\n}\n\n.folder-icon {\n  font-size: 12px;\n}\n\n.folder-name {\n  flex: 1;\n}\n\n.item-count {\n  font-size: 9px;\n  color: #666;\n  background: #333;\n  padding: 1px 5px;\n  border-radius: 8px;\n}\n\n.folder-contents {\n  background: #1a1a1a;\n}\n\n.project-item {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 5px 8px 5px 24px;\n  cursor: pointer;\n  user-select: none;\n}\n\n.project-item:hover {\n  background: #2a2a2a;\n}\n\n.project-item.selected {\n  background: #3a5070;\n}\n\n.item-icon {\n  font-size: 12px;\n  width: 18px;\n  text-align: center;\n}\n\n.item-name {\n  flex: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.item-info {\n  font-size: 9px;\n  color: #666;\n}\n\n.empty-state {\n  padding: 24px;\n  text-align: center;\n  color: #555;\n}\n\n.empty-state .hint {\n  font-size: 10px;\n  margin-top: 4px;\n}\n\n.panel-footer {\n  padding: 6px 10px;\n  background: #222;\n  border-top: 1px solid #333;\n}\n\n.item-details {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.detail-label {\n  font-weight: 500;\n}\n\n.detail-info {\n  font-size: 10px;\n  color: #888;\n}\n</style>\n","/**\n * Effect System Types\n * Defines effects, presets, and animation templates\n */\n\nexport type EffectCategory =\n  | 'blur-sharpen'\n  | 'color-correction'\n  | 'distort'\n  | 'generate'\n  | 'keying'\n  | 'matte'\n  | 'noise-grain'\n  | 'perspective'\n  | 'stylize'\n  | 'time'\n  | 'transition'\n  | 'utility';\n\nexport interface EffectParameter {\n  id: string;\n  name: string;\n  type: 'number' | 'color' | 'point' | 'angle' | 'checkbox' | 'dropdown' | 'layer';\n  value: any;\n  defaultValue: any;\n  min?: number;\n  max?: number;\n  step?: number;\n  options?: Array<{ label: string; value: any }>;\n  animatable: boolean;\n  group?: string;\n}\n\nexport interface Effect {\n  id: string;\n  name: string;\n  category: EffectCategory;\n  enabled: boolean;\n  expanded: boolean;\n  parameters: EffectParameter[];\n  // Optional GPU shader code\n  fragmentShader?: string;\n}\n\nexport interface EffectDefinition {\n  name: string;\n  category: EffectCategory;\n  description: string;\n  parameters: Omit<EffectParameter, 'id' | 'value'>[];\n  fragmentShader?: string;\n}\n\n// Built-in effect definitions\nexport const EFFECT_DEFINITIONS: Record<string, EffectDefinition> = {\n  // Blur & Sharpen\n  'gaussian-blur': {\n    name: 'Gaussian Blur',\n    category: 'blur-sharpen',\n    description: 'Smooth, bell-curve blur',\n    parameters: [\n      { name: 'Blurriness', type: 'number', defaultValue: 10, min: 0, max: 250, animatable: true },\n      { name: 'Blur Dimensions', type: 'dropdown', defaultValue: 'both', options: [\n        { label: 'Horizontal and Vertical', value: 'both' },\n        { label: 'Horizontal', value: 'horizontal' },\n        { label: 'Vertical', value: 'vertical' }\n      ], animatable: false },\n      { name: 'Repeat Edge Pixels', type: 'checkbox', defaultValue: true, animatable: false }\n    ]\n  },\n\n  'directional-blur': {\n    name: 'Directional Blur',\n    category: 'blur-sharpen',\n    description: 'Blur in a specific direction',\n    parameters: [\n      { name: 'Direction', type: 'angle', defaultValue: 0, animatable: true },\n      { name: 'Blur Length', type: 'number', defaultValue: 10, min: 0, max: 500, animatable: true }\n    ]\n  },\n\n  'radial-blur': {\n    name: 'Radial Blur',\n    category: 'blur-sharpen',\n    description: 'Spin or zoom blur effect',\n    parameters: [\n      { name: 'Amount', type: 'number', defaultValue: 10, min: 0, max: 100, animatable: true },\n      { name: 'Center', type: 'point', defaultValue: { x: 0.5, y: 0.5 }, animatable: true },\n      { name: 'Type', type: 'dropdown', defaultValue: 'spin', options: [\n        { label: 'Spin', value: 'spin' },\n        { label: 'Zoom', value: 'zoom' }\n      ], animatable: false },\n      { name: 'Antialiasing', type: 'dropdown', defaultValue: 'high', options: [\n        { label: 'Low', value: 'low' },\n        { label: 'Medium', value: 'medium' },\n        { label: 'High', value: 'high' }\n      ], animatable: false }\n    ]\n  },\n\n  'sharpen': {\n    name: 'Sharpen',\n    category: 'blur-sharpen',\n    description: 'Increase image contrast at edges',\n    parameters: [\n      { name: 'Sharpen Amount', type: 'number', defaultValue: 50, min: 0, max: 500, animatable: true }\n    ]\n  },\n\n  'unsharp-mask': {\n    name: 'Unsharp Mask',\n    category: 'blur-sharpen',\n    description: 'Professional sharpening with radius control',\n    parameters: [\n      { name: 'Amount', type: 'number', defaultValue: 100, min: 1, max: 500, animatable: true },\n      { name: 'Radius', type: 'number', defaultValue: 1, min: 0.1, max: 250, step: 0.1, animatable: true },\n      { name: 'Threshold', type: 'number', defaultValue: 0, min: 0, max: 255, animatable: true }\n    ]\n  },\n\n  // Color Correction\n  'brightness-contrast': {\n    name: 'Brightness & Contrast',\n    category: 'color-correction',\n    description: 'Adjust brightness and contrast',\n    parameters: [\n      { name: 'Brightness', type: 'number', defaultValue: 0, min: -150, max: 150, animatable: true },\n      { name: 'Contrast', type: 'number', defaultValue: 0, min: -100, max: 100, animatable: true },\n      { name: 'Use Legacy', type: 'checkbox', defaultValue: false, animatable: false }\n    ]\n  },\n\n  'hue-saturation': {\n    name: 'Hue/Saturation',\n    category: 'color-correction',\n    description: 'Adjust hue, saturation, and lightness',\n    parameters: [\n      { name: 'Channel Control', type: 'dropdown', defaultValue: 'master', options: [\n        { label: 'Master', value: 'master' },\n        { label: 'Reds', value: 'reds' },\n        { label: 'Yellows', value: 'yellows' },\n        { label: 'Greens', value: 'greens' },\n        { label: 'Cyans', value: 'cyans' },\n        { label: 'Blues', value: 'blues' },\n        { label: 'Magentas', value: 'magentas' }\n      ], animatable: false },\n      { name: 'Master Hue', type: 'angle', defaultValue: 0, animatable: true, group: 'Master' },\n      { name: 'Master Saturation', type: 'number', defaultValue: 0, min: -100, max: 100, animatable: true, group: 'Master' },\n      { name: 'Master Lightness', type: 'number', defaultValue: 0, min: -100, max: 100, animatable: true, group: 'Master' },\n      { name: 'Colorize', type: 'checkbox', defaultValue: false, animatable: false }\n    ]\n  },\n\n  'curves': {\n    name: 'Curves',\n    category: 'color-correction',\n    description: 'Precise tonal adjustment with curves',\n    parameters: [\n      { name: 'Channel', type: 'dropdown', defaultValue: 'rgb', options: [\n        { label: 'RGB', value: 'rgb' },\n        { label: 'Red', value: 'red' },\n        { label: 'Green', value: 'green' },\n        { label: 'Blue', value: 'blue' }\n      ], animatable: false }\n      // Note: Actual curve control would be a custom component\n    ]\n  },\n\n  'levels': {\n    name: 'Levels',\n    category: 'color-correction',\n    description: 'Adjust input/output levels',\n    parameters: [\n      { name: 'Channel', type: 'dropdown', defaultValue: 'rgb', options: [\n        { label: 'RGB', value: 'rgb' },\n        { label: 'Red', value: 'red' },\n        { label: 'Green', value: 'green' },\n        { label: 'Blue', value: 'blue' },\n        { label: 'Alpha', value: 'alpha' }\n      ], animatable: false },\n      { name: 'Input Black', type: 'number', defaultValue: 0, min: 0, max: 255, animatable: true },\n      { name: 'Input White', type: 'number', defaultValue: 255, min: 0, max: 255, animatable: true },\n      { name: 'Gamma', type: 'number', defaultValue: 1, min: 0.1, max: 10, step: 0.01, animatable: true },\n      { name: 'Output Black', type: 'number', defaultValue: 0, min: 0, max: 255, animatable: true },\n      { name: 'Output White', type: 'number', defaultValue: 255, min: 0, max: 255, animatable: true }\n    ]\n  },\n\n  'color-balance': {\n    name: 'Color Balance',\n    category: 'color-correction',\n    description: 'Adjust color balance by tonal range',\n    parameters: [\n      { name: 'Shadow Red', type: 'number', defaultValue: 0, min: -100, max: 100, animatable: true, group: 'Shadows' },\n      { name: 'Shadow Green', type: 'number', defaultValue: 0, min: -100, max: 100, animatable: true, group: 'Shadows' },\n      { name: 'Shadow Blue', type: 'number', defaultValue: 0, min: -100, max: 100, animatable: true, group: 'Shadows' },\n      { name: 'Midtone Red', type: 'number', defaultValue: 0, min: -100, max: 100, animatable: true, group: 'Midtones' },\n      { name: 'Midtone Green', type: 'number', defaultValue: 0, min: -100, max: 100, animatable: true, group: 'Midtones' },\n      { name: 'Midtone Blue', type: 'number', defaultValue: 0, min: -100, max: 100, animatable: true, group: 'Midtones' },\n      { name: 'Highlight Red', type: 'number', defaultValue: 0, min: -100, max: 100, animatable: true, group: 'Highlights' },\n      { name: 'Highlight Green', type: 'number', defaultValue: 0, min: -100, max: 100, animatable: true, group: 'Highlights' },\n      { name: 'Highlight Blue', type: 'number', defaultValue: 0, min: -100, max: 100, animatable: true, group: 'Highlights' },\n      { name: 'Preserve Luminosity', type: 'checkbox', defaultValue: true, animatable: false }\n    ]\n  },\n\n  'tint': {\n    name: 'Tint',\n    category: 'color-correction',\n    description: 'Map black and white to colors',\n    parameters: [\n      { name: 'Map Black To', type: 'color', defaultValue: { r: 0, g: 0, b: 0, a: 1 }, animatable: true },\n      { name: 'Map White To', type: 'color', defaultValue: { r: 255, g: 255, b: 255, a: 1 }, animatable: true },\n      { name: 'Amount to Tint', type: 'number', defaultValue: 100, min: 0, max: 100, animatable: true }\n    ]\n  },\n\n  // Distort\n  'transform': {\n    name: 'Transform',\n    category: 'distort',\n    description: 'Transform layer with anchor point control',\n    parameters: [\n      { name: 'Anchor Point', type: 'point', defaultValue: { x: 0.5, y: 0.5 }, animatable: true },\n      { name: 'Position', type: 'point', defaultValue: { x: 0.5, y: 0.5 }, animatable: true },\n      { name: 'Scale Height', type: 'number', defaultValue: 100, min: -10000, max: 10000, animatable: true },\n      { name: 'Scale Width', type: 'number', defaultValue: 100, min: -10000, max: 10000, animatable: true },\n      { name: 'Skew', type: 'number', defaultValue: 0, min: -85, max: 85, animatable: true },\n      { name: 'Skew Axis', type: 'angle', defaultValue: 0, animatable: true },\n      { name: 'Rotation', type: 'angle', defaultValue: 0, animatable: true },\n      { name: 'Opacity', type: 'number', defaultValue: 100, min: 0, max: 100, animatable: true }\n    ]\n  },\n\n  'warp': {\n    name: 'Warp',\n    category: 'distort',\n    description: 'Apply warp distortion',\n    parameters: [\n      { name: 'Warp Style', type: 'dropdown', defaultValue: 'arc', options: [\n        { label: 'Arc', value: 'arc' },\n        { label: 'Arc Lower', value: 'arc-lower' },\n        { label: 'Arc Upper', value: 'arc-upper' },\n        { label: 'Arch', value: 'arch' },\n        { label: 'Bulge', value: 'bulge' },\n        { label: 'Shell Lower', value: 'shell-lower' },\n        { label: 'Shell Upper', value: 'shell-upper' },\n        { label: 'Flag', value: 'flag' },\n        { label: 'Wave', value: 'wave' },\n        { label: 'Fish', value: 'fish' },\n        { label: 'Rise', value: 'rise' },\n        { label: 'Fisheye', value: 'fisheye' },\n        { label: 'Inflate', value: 'inflate' },\n        { label: 'Squeeze', value: 'squeeze' },\n        { label: 'Twist', value: 'twist' }\n      ], animatable: false },\n      { name: 'Bend', type: 'number', defaultValue: 0, min: -100, max: 100, animatable: true },\n      { name: 'Horizontal Distortion', type: 'number', defaultValue: 0, min: -100, max: 100, animatable: true },\n      { name: 'Vertical Distortion', type: 'number', defaultValue: 0, min: -100, max: 100, animatable: true }\n    ]\n  },\n\n  'displacement-map': {\n    name: 'Displacement Map',\n    category: 'distort',\n    description: 'Displace pixels using a map layer',\n    parameters: [\n      { name: 'Displacement Map Layer', type: 'layer', defaultValue: null, animatable: false },\n      { name: 'Use For Horizontal', type: 'dropdown', defaultValue: 'red', options: [\n        { label: 'Red', value: 'red' },\n        { label: 'Green', value: 'green' },\n        { label: 'Blue', value: 'blue' },\n        { label: 'Alpha', value: 'alpha' },\n        { label: 'Luminance', value: 'luminance' }\n      ], animatable: false },\n      { name: 'Max Horizontal', type: 'number', defaultValue: 0, min: -4000, max: 4000, animatable: true },\n      { name: 'Use For Vertical', type: 'dropdown', defaultValue: 'green', options: [\n        { label: 'Red', value: 'red' },\n        { label: 'Green', value: 'green' },\n        { label: 'Blue', value: 'blue' },\n        { label: 'Alpha', value: 'alpha' },\n        { label: 'Luminance', value: 'luminance' }\n      ], animatable: false },\n      { name: 'Max Vertical', type: 'number', defaultValue: 0, min: -4000, max: 4000, animatable: true }\n    ]\n  },\n\n  // Generate\n  'fill': {\n    name: 'Fill',\n    category: 'generate',\n    description: 'Fill layer with a solid color',\n    parameters: [\n      { name: 'Fill Mask', type: 'dropdown', defaultValue: 'all', options: [\n        { label: 'All Masks', value: 'all' },\n        { label: 'None', value: 'none' }\n      ], animatable: false },\n      { name: 'Color', type: 'color', defaultValue: { r: 255, g: 0, b: 0, a: 1 }, animatable: true },\n      { name: 'Invert', type: 'checkbox', defaultValue: false, animatable: false },\n      { name: 'Horizontal Feather', type: 'number', defaultValue: 0, min: 0, max: 500, animatable: true },\n      { name: 'Vertical Feather', type: 'number', defaultValue: 0, min: 0, max: 500, animatable: true },\n      { name: 'Opacity', type: 'number', defaultValue: 100, min: 0, max: 100, animatable: true }\n    ]\n  },\n\n  'gradient-ramp': {\n    name: 'Gradient Ramp',\n    category: 'generate',\n    description: 'Generate a color gradient',\n    parameters: [\n      { name: 'Start of Ramp', type: 'point', defaultValue: { x: 0, y: 0.5 }, animatable: true },\n      { name: 'Start Color', type: 'color', defaultValue: { r: 0, g: 0, b: 0, a: 1 }, animatable: true },\n      { name: 'End of Ramp', type: 'point', defaultValue: { x: 1, y: 0.5 }, animatable: true },\n      { name: 'End Color', type: 'color', defaultValue: { r: 255, g: 255, b: 255, a: 1 }, animatable: true },\n      { name: 'Ramp Shape', type: 'dropdown', defaultValue: 'linear', options: [\n        { label: 'Linear Ramp', value: 'linear' },\n        { label: 'Radial Ramp', value: 'radial' }\n      ], animatable: false },\n      { name: 'Ramp Scatter', type: 'number', defaultValue: 0, min: 0, max: 100, animatable: true },\n      { name: 'Blend With Original', type: 'number', defaultValue: 0, min: 0, max: 100, animatable: true }\n    ]\n  },\n\n  // Stylize\n  'glow': {\n    name: 'Glow',\n    category: 'stylize',\n    description: 'Add a glow effect',\n    parameters: [\n      { name: 'Glow Threshold', type: 'number', defaultValue: 60, min: 0, max: 100, animatable: true },\n      { name: 'Glow Radius', type: 'number', defaultValue: 25, min: 0, max: 500, animatable: true },\n      { name: 'Glow Intensity', type: 'number', defaultValue: 1, min: 0, max: 10, step: 0.1, animatable: true },\n      { name: 'Composite Original', type: 'dropdown', defaultValue: 'on-top', options: [\n        { label: 'On Top', value: 'on-top' },\n        { label: 'Behind', value: 'behind' },\n        { label: 'None', value: 'none' }\n      ], animatable: false },\n      { name: 'Glow Colors', type: 'dropdown', defaultValue: 'original', options: [\n        { label: 'Original Colors', value: 'original' },\n        { label: 'A & B Colors', value: 'ab' }\n      ], animatable: false },\n      { name: 'Color A', type: 'color', defaultValue: { r: 255, g: 255, b: 255, a: 1 }, animatable: true },\n      { name: 'Color B', type: 'color', defaultValue: { r: 255, g: 128, b: 0, a: 1 }, animatable: true }\n    ]\n  },\n\n  'drop-shadow': {\n    name: 'Drop Shadow',\n    category: 'stylize',\n    description: 'Add a drop shadow',\n    parameters: [\n      { name: 'Shadow Color', type: 'color', defaultValue: { r: 0, g: 0, b: 0, a: 0.5 }, animatable: true },\n      { name: 'Opacity', type: 'number', defaultValue: 50, min: 0, max: 100, animatable: true },\n      { name: 'Direction', type: 'angle', defaultValue: 135, animatable: true },\n      { name: 'Distance', type: 'number', defaultValue: 5, min: 0, max: 1000, animatable: true },\n      { name: 'Softness', type: 'number', defaultValue: 5, min: 0, max: 250, animatable: true },\n      { name: 'Shadow Only', type: 'checkbox', defaultValue: false, animatable: false }\n    ]\n  },\n\n  // Noise & Grain\n  'fractal-noise': {\n    name: 'Fractal Noise',\n    category: 'noise-grain',\n    description: 'Generate fractal noise pattern',\n    parameters: [\n      { name: 'Fractal Type', type: 'dropdown', defaultValue: 'basic', options: [\n        { label: 'Basic', value: 'basic' },\n        { label: 'Turbulent Basic', value: 'turbulent-basic' },\n        { label: 'Soft Linear', value: 'soft-linear' },\n        { label: 'Turbulent Soft', value: 'turbulent-soft' }\n      ], animatable: false },\n      { name: 'Noise Type', type: 'dropdown', defaultValue: 'block', options: [\n        { label: 'Block', value: 'block' },\n        { label: 'Linear', value: 'linear' },\n        { label: 'Soft Linear', value: 'soft-linear' },\n        { label: 'Spline', value: 'spline' }\n      ], animatable: false },\n      { name: 'Invert', type: 'checkbox', defaultValue: false, animatable: false },\n      { name: 'Contrast', type: 'number', defaultValue: 100, min: 0, max: 400, animatable: true },\n      { name: 'Brightness', type: 'number', defaultValue: 0, min: -200, max: 200, animatable: true },\n      { name: 'Scale', type: 'number', defaultValue: 100, min: 10, max: 10000, animatable: true },\n      { name: 'Complexity', type: 'number', defaultValue: 6, min: 1, max: 20, animatable: true },\n      { name: 'Evolution', type: 'angle', defaultValue: 0, animatable: true }\n    ]\n  }\n};\n\n// Effect categories with icons and descriptions\nexport const EFFECT_CATEGORIES: Record<EffectCategory, { label: string; icon: string; description: string }> = {\n  'blur-sharpen': { label: 'Blur & Sharpen', icon: 'B', description: 'Blur and sharpen effects' },\n  'color-correction': { label: 'Color Correction', icon: 'C', description: 'Color adjustment effects' },\n  'distort': { label: 'Distort', icon: 'D', description: 'Distortion effects' },\n  'generate': { label: 'Generate', icon: 'G', description: 'Generate patterns and fills' },\n  'keying': { label: 'Keying', icon: 'K', description: 'Chromakey and luma key' },\n  'matte': { label: 'Matte', icon: 'M', description: 'Matte manipulation' },\n  'noise-grain': { label: 'Noise & Grain', icon: 'N', description: 'Add or remove noise' },\n  'perspective': { label: 'Perspective', icon: 'P', description: '3D perspective effects' },\n  'stylize': { label: 'Stylize', icon: 'S', description: 'Stylization effects' },\n  'time': { label: 'Time', icon: 'T', description: 'Time-based effects' },\n  'transition': { label: 'Transition', icon: 'Tr', description: 'Transition effects' },\n  'utility': { label: 'Utility', icon: 'U', description: 'Utility effects' }\n};\n\n// Create effect instance from definition\nexport function createEffect(definitionKey: string): Effect | null {\n  const def = EFFECT_DEFINITIONS[definitionKey];\n  if (!def) return null;\n\n  return {\n    id: `effect-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n    name: def.name,\n    category: def.category,\n    enabled: true,\n    expanded: true,\n    parameters: def.parameters.map((p, index) => ({\n      ...p,\n      id: `param-${index}`,\n      value: p.defaultValue\n    })),\n    fragmentShader: def.fragmentShader\n  };\n}\n\n// Animation presets\nexport interface AnimationPreset {\n  id: string;\n  name: string;\n  category: string;\n  description: string;\n  keyframes: Array<{\n    property: string;\n    keyframes: Array<{\n      time: number;  // 0-1 normalized\n      value: any;\n      inHandle?: { x: number; y: number };\n      outHandle?: { x: number; y: number };\n    }>;\n  }>;\n}\n\nexport const ANIMATION_PRESETS: AnimationPreset[] = [\n  {\n    id: 'fade-in',\n    name: 'Fade In',\n    category: 'Fade',\n    description: 'Fade from transparent to opaque',\n    keyframes: [{\n      property: 'opacity',\n      keyframes: [\n        { time: 0, value: 0, outHandle: { x: 0.4, y: 0 } },\n        { time: 1, value: 100, inHandle: { x: 0.6, y: 1 } }\n      ]\n    }]\n  },\n  {\n    id: 'fade-out',\n    name: 'Fade Out',\n    category: 'Fade',\n    description: 'Fade from opaque to transparent',\n    keyframes: [{\n      property: 'opacity',\n      keyframes: [\n        { time: 0, value: 100, outHandle: { x: 0.4, y: 1 } },\n        { time: 1, value: 0, inHandle: { x: 0.6, y: 0 } }\n      ]\n    }]\n  },\n  {\n    id: 'scale-up',\n    name: 'Scale Up',\n    category: 'Scale',\n    description: 'Scale from small to full size',\n    keyframes: [{\n      property: 'scale',\n      keyframes: [\n        { time: 0, value: { x: 0, y: 0 }, outHandle: { x: 0.25, y: 0.1 } },\n        { time: 1, value: { x: 100, y: 100 }, inHandle: { x: 0.25, y: 1 } }\n      ]\n    }]\n  },\n  {\n    id: 'bounce-in',\n    name: 'Bounce In',\n    category: 'Scale',\n    description: 'Scale up with bounce effect',\n    keyframes: [{\n      property: 'scale',\n      keyframes: [\n        { time: 0, value: { x: 0, y: 0 } },\n        { time: 0.6, value: { x: 110, y: 110 } },\n        { time: 0.8, value: { x: 95, y: 95 } },\n        { time: 1, value: { x: 100, y: 100 } }\n      ]\n    }]\n  },\n  {\n    id: 'slide-left',\n    name: 'Slide Left',\n    category: 'Position',\n    description: 'Slide in from right',\n    keyframes: [{\n      property: 'position',\n      keyframes: [\n        { time: 0, value: { x: 1.5, y: 0.5 }, outHandle: { x: 0.25, y: 0.1 } },\n        { time: 1, value: { x: 0.5, y: 0.5 }, inHandle: { x: 0.25, y: 1 } }\n      ]\n    }]\n  },\n  {\n    id: 'rotate-in',\n    name: 'Rotate In',\n    category: 'Rotation',\n    description: 'Rotate from 0 to 360 degrees',\n    keyframes: [{\n      property: 'rotation',\n      keyframes: [\n        { time: 0, value: 0 },\n        { time: 1, value: 360 }\n      ]\n    }]\n  },\n  {\n    id: 'typewriter',\n    name: 'Typewriter',\n    category: 'Text',\n    description: 'Reveal text character by character',\n    keyframes: [{\n      property: 'textReveal',\n      keyframes: [\n        { time: 0, value: 0 },\n        { time: 1, value: 100 }\n      ]\n    }]\n  }\n];\n","<template>\n  <div class=\"effects-panel\">\n    <div class=\"panel-header\">\n      <span class=\"panel-title\">Effects & Presets</span>\n      <div class=\"header-actions\">\n        <input\n          type=\"text\"\n          v-model=\"searchQuery\"\n          placeholder=\"Search...\"\n          class=\"search-input\"\n        />\n      </div>\n    </div>\n\n    <div class=\"panel-content\">\n      <!-- Tabs -->\n      <div class=\"tabs\">\n        <button\n          :class=\"{ active: activeTab === 'effects' }\"\n          @click=\"activeTab = 'effects'\"\n        >\n          Effects\n        </button>\n        <button\n          :class=\"{ active: activeTab === 'presets' }\"\n          @click=\"activeTab = 'presets'\"\n        >\n          Presets\n        </button>\n        <button\n          :class=\"{ active: activeTab === 'favorites' }\"\n          @click=\"activeTab = 'favorites'\"\n        >\n          Favorites\n        </button>\n      </div>\n\n      <!-- Effects List -->\n      <div v-if=\"activeTab === 'effects'\" class=\"effects-list\">\n        <div\n          v-for=\"category in filteredCategories\"\n          :key=\"category.key\"\n          class=\"effect-category\"\n        >\n          <div\n            class=\"category-header\"\n            @click=\"toggleCategory(category.key)\"\n          >\n            <span class=\"expand-icon\">{{ expandedCategories.includes(category.key) ? '' : '' }}</span>\n            <span class=\"category-icon\">{{ category.icon }}</span>\n            <span class=\"category-name\">{{ category.label }}</span>\n            <span class=\"effect-count\">{{ category.effects.length }}</span>\n          </div>\n\n          <div v-if=\"expandedCategories.includes(category.key)\" class=\"category-effects\">\n            <div\n              v-for=\"effect in category.effects\"\n              :key=\"effect.key\"\n              class=\"effect-item\"\n              :class=\"{ favorite: favorites.includes(effect.key) }\"\n              @dblclick=\"applyEffect(effect.key)\"\n              @dragstart=\"onDragStart(effect.key, $event)\"\n              draggable=\"true\"\n            >\n              <span class=\"effect-name\">{{ effect.name }}</span>\n              <button\n                class=\"favorite-btn\"\n                @click.stop=\"toggleFavorite(effect.key)\"\n                :title=\"favorites.includes(effect.key) ? 'Remove from favorites' : 'Add to favorites'\"\n              >\n                {{ favorites.includes(effect.key) ? '' : '' }}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Animation Presets -->\n      <div v-else-if=\"activeTab === 'presets'\" class=\"presets-list\">\n        <div\n          v-for=\"group in groupedPresets\"\n          :key=\"group.category\"\n          class=\"preset-category\"\n        >\n          <div\n            class=\"category-header\"\n            @click=\"togglePresetCategory(group.category)\"\n          >\n            <span class=\"expand-icon\">{{ expandedPresetCategories.includes(group.category) ? '' : '' }}</span>\n            <span class=\"category-name\">{{ group.category }}</span>\n            <span class=\"preset-count\">{{ group.presets.length }}</span>\n          </div>\n\n          <div v-if=\"expandedPresetCategories.includes(group.category)\" class=\"category-presets\">\n            <div\n              v-for=\"preset in group.presets\"\n              :key=\"preset.id\"\n              class=\"preset-item\"\n              @dblclick=\"applyPreset(preset)\"\n              @dragstart=\"onDragPreset(preset, $event)\"\n              draggable=\"true\"\n            >\n              <div class=\"preset-preview\">\n                <!-- Simple animation preview icon -->\n                <span class=\"preview-icon\"></span>\n              </div>\n              <div class=\"preset-info\">\n                <span class=\"preset-name\">{{ preset.name }}</span>\n                <span class=\"preset-description\">{{ preset.description }}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Favorites -->\n      <div v-else-if=\"activeTab === 'favorites'\" class=\"favorites-list\">\n        <div v-if=\"favoriteEffects.length === 0\" class=\"empty-favorites\">\n          <p>No favorites yet</p>\n          <p class=\"hint\">Click the star icon on effects to add them here</p>\n        </div>\n        <div\n          v-for=\"effect in favoriteEffects\"\n          :key=\"effect.key\"\n          class=\"effect-item\"\n          @dblclick=\"applyEffect(effect.key)\"\n          @dragstart=\"onDragStart(effect.key, $event)\"\n          draggable=\"true\"\n        >\n          <span class=\"category-badge\">{{ getCategoryIcon(effect.category) }}</span>\n          <span class=\"effect-name\">{{ effect.name }}</span>\n          <button\n            class=\"favorite-btn active\"\n            @click.stop=\"toggleFavorite(effect.key)\"\n          >\n            \n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Quick apply info -->\n    <div class=\"panel-footer\">\n      <span class=\"info-text\">Double-click or drag to apply</span>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted } from 'vue';\nimport { useCompositorStore } from '@/stores/compositorStore';\nimport {\n  EFFECT_DEFINITIONS,\n  EFFECT_CATEGORIES,\n  ANIMATION_PRESETS,\n  createEffect,\n  type EffectCategory,\n  type AnimationPreset\n} from '@/types/effects';\n\nconst store = useCompositorStore();\n\n// State\nconst activeTab = ref<'effects' | 'presets' | 'favorites'>('effects');\nconst searchQuery = ref('');\nconst expandedCategories = ref<EffectCategory[]>(['blur-sharpen', 'color-correction']);\nconst expandedPresetCategories = ref<string[]>(['Fade', 'Scale']);\nconst favorites = ref<string[]>([]);\n\n// Load favorites from localStorage\nonMounted(() => {\n  const saved = localStorage.getItem('effect-favorites');\n  if (saved) {\n    try {\n      favorites.value = JSON.parse(saved);\n    } catch {\n      favorites.value = [];\n    }\n  }\n});\n\n// Save favorites\nfunction saveFavorites() {\n  localStorage.setItem('effect-favorites', JSON.stringify(favorites.value));\n}\n\n// Computed\nconst allEffects = computed(() => {\n  return Object.entries(EFFECT_DEFINITIONS).map(([key, def]) => ({\n    key,\n    name: def.name,\n    category: def.category,\n    description: def.description\n  }));\n});\n\nconst filteredCategories = computed(() => {\n  const query = searchQuery.value.toLowerCase();\n\n  return (Object.entries(EFFECT_CATEGORIES) as [EffectCategory, typeof EFFECT_CATEGORIES[EffectCategory]][]).map(([key, cat]) => {\n    const effects = allEffects.value.filter(e => {\n      if (e.category !== key) return false;\n      if (query && !e.name.toLowerCase().includes(query)) return false;\n      return true;\n    });\n\n    return {\n      key,\n      label: cat.label,\n      icon: cat.icon,\n      effects\n    };\n  }).filter(cat => cat.effects.length > 0);\n});\n\nconst groupedPresets = computed(() => {\n  const query = searchQuery.value.toLowerCase();\n  const groups: Record<string, AnimationPreset[]> = {};\n\n  for (const preset of ANIMATION_PRESETS) {\n    if (query && !preset.name.toLowerCase().includes(query)) continue;\n\n    if (!groups[preset.category]) {\n      groups[preset.category] = [];\n    }\n    groups[preset.category].push(preset);\n  }\n\n  return Object.entries(groups).map(([category, presets]) => ({\n    category,\n    presets\n  }));\n});\n\nconst favoriteEffects = computed(() => {\n  return allEffects.value.filter(e => favorites.value.includes(e.key));\n});\n\n// Actions\nfunction toggleCategory(category: EffectCategory) {\n  const index = expandedCategories.value.indexOf(category);\n  if (index >= 0) {\n    expandedCategories.value.splice(index, 1);\n  } else {\n    expandedCategories.value.push(category);\n  }\n}\n\nfunction togglePresetCategory(category: string) {\n  const index = expandedPresetCategories.value.indexOf(category);\n  if (index >= 0) {\n    expandedPresetCategories.value.splice(index, 1);\n  } else {\n    expandedPresetCategories.value.push(category);\n  }\n}\n\nfunction toggleFavorite(effectKey: string) {\n  const index = favorites.value.indexOf(effectKey);\n  if (index >= 0) {\n    favorites.value.splice(index, 1);\n  } else {\n    favorites.value.push(effectKey);\n  }\n  saveFavorites();\n}\n\nfunction getCategoryIcon(category: EffectCategory): string {\n  return EFFECT_CATEGORIES[category]?.icon || '?';\n}\n\nfunction applyEffect(effectKey: string) {\n  const effect = createEffect(effectKey);\n  if (!effect) return;\n\n  const selectedLayer = store.selectedLayer;\n  if (!selectedLayer) {\n    console.warn('No layer selected to apply effect');\n    return;\n  }\n\n  // Add effect to layer\n  if (!selectedLayer.effects) {\n    (selectedLayer as any).effects = [];\n  }\n  (selectedLayer as any).effects.push(effect);\n}\n\nfunction applyPreset(preset: AnimationPreset) {\n  const selectedLayer = store.selectedLayer;\n  if (!selectedLayer) {\n    console.warn('No layer selected to apply preset');\n    return;\n  }\n\n  // Apply preset keyframes to layer\n  // This would need to be implemented based on your keyframe system\n  console.log('Applying preset:', preset.name);\n}\n\n// Drag and drop\nfunction onDragStart(effectKey: string, event: DragEvent) {\n  event.dataTransfer?.setData('application/effect', effectKey);\n}\n\nfunction onDragPreset(preset: AnimationPreset, event: DragEvent) {\n  event.dataTransfer?.setData('application/preset', JSON.stringify(preset));\n}\n</script>\n\n<style scoped>\n.effects-panel {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: #1e1e1e;\n  color: #e0e0e0;\n  font-size: 12px;\n}\n\n.panel-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 12px;\n  background: #252525;\n  border-bottom: 1px solid #333;\n}\n\n.panel-title {\n  font-weight: 600;\n}\n\n.search-input {\n  width: 120px;\n  padding: 4px 8px;\n  border: 1px solid #444;\n  background: #1a1a1a;\n  color: #e0e0e0;\n  border-radius: 3px;\n  font-size: 11px;\n}\n\n.search-input:focus {\n  outline: none;\n  border-color: #7c9cff;\n}\n\n.panel-content {\n  flex: 1;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n.tabs {\n  display: flex;\n  background: #222;\n  border-bottom: 1px solid #333;\n}\n\n.tabs button {\n  flex: 1;\n  padding: 8px;\n  border: none;\n  background: transparent;\n  color: #888;\n  font-size: 11px;\n  cursor: pointer;\n  border-bottom: 2px solid transparent;\n}\n\n.tabs button:hover {\n  color: #e0e0e0;\n}\n\n.tabs button.active {\n  color: #e0e0e0;\n  border-bottom-color: #7c9cff;\n}\n\n.effects-list,\n.presets-list,\n.favorites-list {\n  flex: 1;\n  overflow-y: auto;\n}\n\n.effect-category,\n.preset-category {\n  border-bottom: 1px solid #2a2a2a;\n}\n\n.category-header {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 8px;\n  background: #222;\n  cursor: pointer;\n  user-select: none;\n}\n\n.category-header:hover {\n  background: #2a2a2a;\n}\n\n.expand-icon {\n  font-size: 8px;\n  color: #666;\n  width: 10px;\n}\n\n.category-icon {\n  width: 18px;\n  height: 18px;\n  background: #333;\n  border-radius: 3px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n  color: #7c9cff;\n}\n\n.category-name {\n  flex: 1;\n  font-size: 11px;\n}\n\n.effect-count,\n.preset-count {\n  font-size: 9px;\n  color: #666;\n  background: #333;\n  padding: 2px 6px;\n  border-radius: 10px;\n}\n\n.category-effects,\n.category-presets {\n  padding: 4px;\n}\n\n.effect-item {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 6px 8px;\n  border-radius: 3px;\n  cursor: grab;\n}\n\n.effect-item:hover {\n  background: #2a2a2a;\n}\n\n.effect-item.favorite .effect-name {\n  color: #ffc107;\n}\n\n.category-badge {\n  width: 20px;\n  height: 20px;\n  background: #333;\n  border-radius: 3px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 9px;\n  color: #7c9cff;\n}\n\n.effect-name {\n  flex: 1;\n  font-size: 11px;\n}\n\n.favorite-btn {\n  width: 20px;\n  height: 20px;\n  border: none;\n  background: transparent;\n  color: #555;\n  cursor: pointer;\n  font-size: 12px;\n  opacity: 0;\n  transition: opacity 0.1s;\n}\n\n.effect-item:hover .favorite-btn,\n.effect-item.favorite .favorite-btn {\n  opacity: 1;\n}\n\n.favorite-btn:hover,\n.favorite-btn.active {\n  color: #ffc107;\n}\n\n.preset-item {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px;\n  border-radius: 3px;\n  cursor: grab;\n}\n\n.preset-item:hover {\n  background: #2a2a2a;\n}\n\n.preset-preview {\n  width: 40px;\n  height: 30px;\n  background: #333;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.preview-icon {\n  color: #7c9cff;\n  font-size: 14px;\n}\n\n.preset-info {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n}\n\n.preset-name {\n  font-size: 11px;\n}\n\n.preset-description {\n  font-size: 9px;\n  color: #666;\n}\n\n.empty-favorites {\n  padding: 24px;\n  text-align: center;\n  color: #555;\n}\n\n.empty-favorites .hint {\n  font-size: 11px;\n  margin-top: 8px;\n}\n\n.panel-footer {\n  padding: 8px 12px;\n  background: #222;\n  border-top: 1px solid #333;\n}\n\n.info-text {\n  font-size: 10px;\n  color: #666;\n}\n</style>\n","<template>\n  <div class=\"scrubable-number\" :class=\"{ disabled }\">\n    <label\n      v-if=\"label\"\n      class=\"scrub-label\"\n      :class=\"{ scrubbing: isScrubbing }\"\n      @mousedown=\"startScrub\"\n    >\n      {{ label }}\n    </label>\n    <input\n      type=\"number\"\n      class=\"scrub-input\"\n      :value=\"displayValue\"\n      :min=\"min\"\n      :max=\"max\"\n      :step=\"step\"\n      :disabled=\"disabled\"\n      @input=\"onInput\"\n      @keydown=\"onKeyDown\"\n      @blur=\"onBlur\"\n    />\n    <span v-if=\"unit\" class=\"scrub-unit\">{{ unit }}</span>\n    <button\n      v-if=\"showReset && modelValue !== defaultValue\"\n      class=\"reset-btn\"\n      @click=\"reset\"\n      title=\"Reset to default\"\n    >\n      <i class=\"pi pi-refresh\" />\n    </button>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from 'vue';\n\ninterface Props {\n  modelValue: number;\n  label?: string;\n  min?: number;\n  max?: number;\n  step?: number;\n  precision?: number;\n  unit?: string;\n  default?: number;\n  sensitivity?: number;\n  disabled?: boolean;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  min: -Infinity,\n  max: Infinity,\n  step: 1,\n  precision: 2,\n  sensitivity: 1,\n  disabled: false\n});\n\nconst emit = defineEmits<{\n  (e: 'update:modelValue', value: number): void;\n}>();\n\nconst isScrubbing = ref(false);\nconst scrubStartX = ref(0);\nconst scrubStartValue = ref(0);\n\nconst defaultValue = computed(() => props.default ?? props.modelValue);\nconst showReset = computed(() => props.default !== undefined);\n\nconst displayValue = computed(() => {\n  if (Number.isInteger(props.modelValue) && props.precision === 0) {\n    return props.modelValue;\n  }\n  return Number(props.modelValue.toFixed(props.precision));\n});\n\nfunction clamp(value: number): number {\n  return Math.max(props.min, Math.min(props.max, value));\n}\n\nfunction round(value: number): number {\n  const factor = Math.pow(10, props.precision);\n  return Math.round(value * factor) / factor;\n}\n\nfunction startScrub(e: MouseEvent): void {\n  if (props.disabled) return;\n\n  isScrubbing.value = true;\n  scrubStartX.value = e.clientX;\n  scrubStartValue.value = props.modelValue;\n\n  document.addEventListener('mousemove', onScrubMove);\n  document.addEventListener('mouseup', stopScrub);\n  document.body.style.cursor = 'ew-resize';\n  document.body.style.userSelect = 'none';\n}\n\nfunction onScrubMove(e: MouseEvent): void {\n  const deltaX = e.clientX - scrubStartX.value;\n\n  // Modifier keys affect sensitivity\n  let multiplier = props.sensitivity;\n  if (e.shiftKey) multiplier *= 10;\n  if (e.ctrlKey || e.metaKey) multiplier *= 0.1;\n\n  const deltaValue = deltaX * props.step * multiplier * 0.5;\n  const newValue = round(clamp(scrubStartValue.value + deltaValue));\n\n  if (newValue !== props.modelValue) {\n    emit('update:modelValue', newValue);\n  }\n}\n\nfunction stopScrub(): void {\n  isScrubbing.value = false;\n  document.removeEventListener('mousemove', onScrubMove);\n  document.removeEventListener('mouseup', stopScrub);\n  document.body.style.cursor = '';\n  document.body.style.userSelect = '';\n}\n\nfunction onInput(e: Event): void {\n  const input = e.target as HTMLInputElement;\n  const value = parseFloat(input.value);\n\n  if (!isNaN(value)) {\n    emit('update:modelValue', round(clamp(value)));\n  }\n}\n\nfunction onKeyDown(e: KeyboardEvent): void {\n  if (props.disabled) return;\n\n  let delta = 0;\n  if (e.key === 'ArrowUp') delta = props.step;\n  else if (e.key === 'ArrowDown') delta = -props.step;\n\n  if (delta !== 0) {\n    e.preventDefault();\n    if (e.shiftKey) delta *= 10;\n    if (e.ctrlKey || e.metaKey) delta *= 0.1;\n\n    emit('update:modelValue', round(clamp(props.modelValue + delta)));\n  }\n}\n\nfunction onBlur(e: FocusEvent): void {\n  const input = e.target as HTMLInputElement;\n  const value = parseFloat(input.value);\n\n  if (isNaN(value)) {\n    // Reset to current model value if invalid\n    input.value = displayValue.value.toString();\n  }\n}\n\nfunction reset(): void {\n  if (props.default !== undefined) {\n    emit('update:modelValue', props.default);\n  }\n}\n</script>\n\n<style scoped>\n.scrubable-number {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.scrubable-number.disabled {\n  opacity: 0.5;\n  pointer-events: none;\n}\n\n.scrub-label {\n  min-width: 70px;\n  font-size: 11px;\n  color: #888;\n  cursor: ew-resize;\n  user-select: none;\n  transition: color 0.1s;\n}\n\n.scrub-label:hover {\n  color: #7c9cff;\n}\n\n.scrub-label.scrubbing {\n  color: #7c9cff;\n}\n\n.scrub-input {\n  width: 60px;\n  padding: 4px 6px;\n  border: 1px solid #3d3d3d;\n  border-radius: 3px;\n  background: #2a2a2a;\n  color: #e0e0e0;\n  font-size: 11px;\n  font-family: inherit;\n  text-align: right;\n}\n\n.scrub-input:focus {\n  outline: none;\n  border-color: #7c9cff;\n}\n\n.scrub-input::-webkit-inner-spin-button,\n.scrub-input::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\n.scrub-input[type=number] {\n  -moz-appearance: textfield;\n}\n\n.scrub-unit {\n  font-size: 10px;\n  color: #666;\n  min-width: 16px;\n}\n\n.reset-btn {\n  width: 18px;\n  height: 18px;\n  padding: 0;\n  border: none;\n  border-radius: 3px;\n  background: transparent;\n  color: #666;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0;\n  transition: opacity 0.1s;\n}\n\n.scrubable-number:hover .reset-btn {\n  opacity: 1;\n}\n\n.reset-btn:hover {\n  background: #333;\n  color: #7c9cff;\n}\n\n.reset-btn i {\n  font-size: 10px;\n}\n</style>\n","<template>\n  <div class=\"slider-input\" :class=\"{ disabled }\">\n    <label\n      v-if=\"label\"\n      class=\"slider-label\"\n      :class=\"{ scrubbing: isScrubbing }\"\n      @mousedown=\"startScrub\"\n    >\n      {{ label }}\n    </label>\n    <div class=\"slider-track\" ref=\"trackRef\" @mousedown=\"onTrackClick\">\n      <div\n        class=\"slider-fill\"\n        :style=\"{ width: fillPercent + '%', background: gradient || undefined }\"\n      />\n      <div\n        class=\"slider-thumb\"\n        :style=\"{ left: fillPercent + '%' }\"\n        @mousedown.stop=\"startThumbDrag\"\n      />\n    </div>\n    <input\n      v-if=\"showValue\"\n      type=\"number\"\n      class=\"slider-value\"\n      :value=\"displayValue\"\n      :min=\"min\"\n      :max=\"max\"\n      :step=\"step\"\n      :disabled=\"disabled\"\n      @input=\"onInput\"\n      @blur=\"onBlur\"\n    />\n    <span v-if=\"unit\" class=\"slider-unit\">{{ unit }}</span>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from 'vue';\n\ninterface Props {\n  modelValue: number;\n  label?: string;\n  min: number;\n  max: number;\n  step?: number;\n  unit?: string;\n  showValue?: boolean;\n  gradient?: string;\n  disabled?: boolean;\n  precision?: number;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  step: 1,\n  showValue: true,\n  disabled: false,\n  precision: 2\n});\n\nconst emit = defineEmits<{\n  (e: 'update:modelValue', value: number): void;\n}>();\n\nconst trackRef = ref<HTMLDivElement | null>(null);\nconst isScrubbing = ref(false);\nconst isDragging = ref(false);\nconst scrubStartX = ref(0);\nconst scrubStartValue = ref(0);\n\nconst fillPercent = computed(() => {\n  const range = props.max - props.min;\n  if (range === 0) return 0;\n  return ((props.modelValue - props.min) / range) * 100;\n});\n\nconst displayValue = computed(() => {\n  if (Number.isInteger(props.step) && props.precision === 0) {\n    return props.modelValue;\n  }\n  return Number(props.modelValue.toFixed(props.precision));\n});\n\nfunction clamp(value: number): number {\n  return Math.max(props.min, Math.min(props.max, value));\n}\n\nfunction round(value: number): number {\n  const factor = Math.pow(10, props.precision);\n  return Math.round(value * factor) / factor;\n}\n\nfunction startScrub(e: MouseEvent): void {\n  if (props.disabled) return;\n\n  isScrubbing.value = true;\n  scrubStartX.value = e.clientX;\n  scrubStartValue.value = props.modelValue;\n\n  document.addEventListener('mousemove', onScrubMove);\n  document.addEventListener('mouseup', stopScrub);\n  document.body.style.cursor = 'ew-resize';\n  document.body.style.userSelect = 'none';\n}\n\nfunction onScrubMove(e: MouseEvent): void {\n  const deltaX = e.clientX - scrubStartX.value;\n  const range = props.max - props.min;\n\n  let multiplier = 1;\n  if (e.shiftKey) multiplier *= 10;\n  if (e.ctrlKey || e.metaKey) multiplier *= 0.1;\n\n  const deltaValue = (deltaX / 200) * range * multiplier;\n  const newValue = round(clamp(scrubStartValue.value + deltaValue));\n\n  if (newValue !== props.modelValue) {\n    emit('update:modelValue', newValue);\n  }\n}\n\nfunction stopScrub(): void {\n  isScrubbing.value = false;\n  document.removeEventListener('mousemove', onScrubMove);\n  document.removeEventListener('mouseup', stopScrub);\n  document.body.style.cursor = '';\n  document.body.style.userSelect = '';\n}\n\nfunction onTrackClick(e: MouseEvent): void {\n  if (props.disabled || !trackRef.value) return;\n\n  const rect = trackRef.value.getBoundingClientRect();\n  const percent = (e.clientX - rect.left) / rect.width;\n  const value = props.min + percent * (props.max - props.min);\n\n  emit('update:modelValue', round(clamp(value)));\n}\n\nfunction startThumbDrag(_e: MouseEvent): void {\n  if (props.disabled) return;\n\n  isDragging.value = true;\n  document.addEventListener('mousemove', onThumbDrag);\n  document.addEventListener('mouseup', stopThumbDrag);\n  document.body.style.cursor = 'grabbing';\n  document.body.style.userSelect = 'none';\n}\n\nfunction onThumbDrag(e: MouseEvent): void {\n  if (!trackRef.value) return;\n\n  const rect = trackRef.value.getBoundingClientRect();\n  const percent = (e.clientX - rect.left) / rect.width;\n  const value = props.min + Math.max(0, Math.min(1, percent)) * (props.max - props.min);\n\n  emit('update:modelValue', round(clamp(value)));\n}\n\nfunction stopThumbDrag(): void {\n  isDragging.value = false;\n  document.removeEventListener('mousemove', onThumbDrag);\n  document.removeEventListener('mouseup', stopThumbDrag);\n  document.body.style.cursor = '';\n  document.body.style.userSelect = '';\n}\n\nfunction onInput(e: Event): void {\n  const input = e.target as HTMLInputElement;\n  const value = parseFloat(input.value);\n\n  if (!isNaN(value)) {\n    emit('update:modelValue', round(clamp(value)));\n  }\n}\n\nfunction onBlur(e: FocusEvent): void {\n  const input = e.target as HTMLInputElement;\n  const value = parseFloat(input.value);\n\n  if (isNaN(value)) {\n    input.value = displayValue.value.toString();\n  }\n}\n</script>\n\n<style scoped>\n.slider-input {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.slider-input.disabled {\n  opacity: 0.5;\n  pointer-events: none;\n}\n\n.slider-label {\n  min-width: 70px;\n  font-size: 11px;\n  color: #888;\n  cursor: ew-resize;\n  user-select: none;\n  transition: color 0.1s;\n}\n\n.slider-label:hover,\n.slider-label.scrubbing {\n  color: #7c9cff;\n}\n\n.slider-track {\n  flex: 1;\n  height: 4px;\n  background: #3a3a3a;\n  border-radius: 2px;\n  position: relative;\n  cursor: pointer;\n  min-width: 80px;\n}\n\n.slider-fill {\n  height: 100%;\n  background: #7c9cff;\n  border-radius: 2px;\n  pointer-events: none;\n}\n\n.slider-thumb {\n  position: absolute;\n  top: 50%;\n  width: 12px;\n  height: 12px;\n  background: #e0e0e0;\n  border: 2px solid #7c9cff;\n  border-radius: 50%;\n  transform: translate(-50%, -50%);\n  cursor: grab;\n  transition: transform 0.1s;\n}\n\n.slider-thumb:hover {\n  transform: translate(-50%, -50%) scale(1.2);\n}\n\n.slider-thumb:active {\n  cursor: grabbing;\n}\n\n.slider-value {\n  width: 50px;\n  padding: 4px 6px;\n  border: 1px solid #3d3d3d;\n  border-radius: 3px;\n  background: #2a2a2a;\n  color: #e0e0e0;\n  font-size: 11px;\n  text-align: right;\n}\n\n.slider-value:focus {\n  outline: none;\n  border-color: #7c9cff;\n}\n\n.slider-value::-webkit-inner-spin-button,\n.slider-value::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\n.slider-value[type=number] {\n  -moz-appearance: textfield;\n}\n\n.slider-unit {\n  font-size: 10px;\n  color: #666;\n  min-width: 16px;\n}\n</style>\n","<template>\n  <div class=\"angle-dial\" :class=\"{ disabled }\">\n    <div\n      class=\"dial\"\n      ref=\"dialRef\"\n      :style=\"{ width: size + 'px', height: size + 'px' }\"\n      @mousedown=\"startDrag\"\n    >\n      <div class=\"dial-ring\" />\n      <div class=\"dial-center\" />\n      <div\n        class=\"dial-indicator\"\n        :style=\"{ transform: `rotate(${modelValue}deg)` }\"\n      />\n      <div class=\"dial-marks\">\n        <div class=\"dial-mark\" v-for=\"i in 8\" :key=\"i\" :style=\"{ transform: `rotate(${i * 45}deg)` }\" />\n      </div>\n    </div>\n    <div v-if=\"showValue\" class=\"angle-value\">\n      <input\n        type=\"number\"\n        class=\"angle-input\"\n        :value=\"displayValue\"\n        :disabled=\"disabled\"\n        @input=\"onInput\"\n        @blur=\"onBlur\"\n      />\n      <span class=\"angle-unit\"></span>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from 'vue';\n\ninterface Props {\n  modelValue: number;\n  size?: number;\n  showValue?: boolean;\n  disabled?: boolean;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  size: 48,\n  showValue: true,\n  disabled: false\n});\n\nconst emit = defineEmits<{\n  (e: 'update:modelValue', value: number): void;\n}>();\n\nconst dialRef = ref<HTMLDivElement | null>(null);\nconst isDragging = ref(false);\n\nconst displayValue = computed(() => {\n  return Math.round(props.modelValue * 10) / 10;\n});\n\nfunction normalizeAngle(angle: number): number {\n  return ((angle % 360) + 360) % 360;\n}\n\nfunction startDrag(e: MouseEvent): void {\n  if (props.disabled) return;\n\n  isDragging.value = true;\n  updateAngle(e);\n\n  document.addEventListener('mousemove', onDrag);\n  document.addEventListener('mouseup', stopDrag);\n  document.body.style.cursor = 'grabbing';\n  document.body.style.userSelect = 'none';\n}\n\nfunction onDrag(e: MouseEvent): void {\n  if (!isDragging.value) return;\n  updateAngle(e);\n}\n\nfunction updateAngle(e: MouseEvent): void {\n  if (!dialRef.value) return;\n\n  const rect = dialRef.value.getBoundingClientRect();\n  const centerX = rect.left + rect.width / 2;\n  const centerY = rect.top + rect.height / 2;\n\n  const deltaX = e.clientX - centerX;\n  const deltaY = e.clientY - centerY;\n\n  // Calculate angle (0 = up, clockwise positive)\n  let angle = Math.atan2(deltaX, -deltaY) * (180 / Math.PI);\n  angle = normalizeAngle(angle);\n\n  // Snap to 45 increments when Shift is held\n  if (e.shiftKey) {\n    angle = Math.round(angle / 45) * 45;\n  }\n\n  emit('update:modelValue', angle);\n}\n\nfunction stopDrag(): void {\n  isDragging.value = false;\n  document.removeEventListener('mousemove', onDrag);\n  document.removeEventListener('mouseup', stopDrag);\n  document.body.style.cursor = '';\n  document.body.style.userSelect = '';\n}\n\nfunction onInput(e: Event): void {\n  const input = e.target as HTMLInputElement;\n  const value = parseFloat(input.value);\n\n  if (!isNaN(value)) {\n    emit('update:modelValue', normalizeAngle(value));\n  }\n}\n\nfunction onBlur(e: FocusEvent): void {\n  const input = e.target as HTMLInputElement;\n  const value = parseFloat(input.value);\n\n  if (isNaN(value)) {\n    input.value = displayValue.value.toString();\n  }\n}\n</script>\n\n<style scoped>\n.angle-dial {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.angle-dial.disabled {\n  opacity: 0.5;\n  pointer-events: none;\n}\n\n.dial {\n  position: relative;\n  cursor: grab;\n}\n\n.dial:active {\n  cursor: grabbing;\n}\n\n.dial-ring {\n  position: absolute;\n  inset: 4px;\n  border: 2px solid #3d3d3d;\n  border-radius: 50%;\n}\n\n.dial-center {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 6px;\n  height: 6px;\n  background: #666;\n  border-radius: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.dial-indicator {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 2px;\n  height: 45%;\n  background: #7c9cff;\n  border-radius: 1px;\n  transform-origin: center bottom;\n  transform: rotate(0deg);\n}\n\n.dial-marks {\n  position: absolute;\n  inset: 0;\n}\n\n.dial-mark {\n  position: absolute;\n  top: 2px;\n  left: 50%;\n  width: 1px;\n  height: 4px;\n  background: #555;\n  transform-origin: center calc(50% - 2px);\n}\n\n.angle-value {\n  display: flex;\n  align-items: center;\n  gap: 2px;\n}\n\n.angle-input {\n  width: 50px;\n  padding: 4px 6px;\n  border: 1px solid #3d3d3d;\n  border-radius: 3px;\n  background: #2a2a2a;\n  color: #e0e0e0;\n  font-size: 11px;\n  text-align: right;\n}\n\n.angle-input:focus {\n  outline: none;\n  border-color: #7c9cff;\n}\n\n.angle-input::-webkit-inner-spin-button,\n.angle-input::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\n.angle-input[type=number] {\n  -moz-appearance: textfield;\n}\n\n.angle-unit {\n  font-size: 11px;\n  color: #666;\n}\n</style>\n","/**\n * Font Loading and Enumeration Service\n *\n * Handles: Web-safe fonts, Google Fonts, and Local Font Access API (Chrome/Edge)\n */\n\nexport interface FontInfo {\n  family: string;\n  fullName: string;\n  style: string;\n  source: 'system' | 'websafe' | 'google';\n}\n\nexport interface FontCategory {\n  name: string;\n  fonts: FontInfo[];\n}\n\n// Web-safe fonts that work everywhere\nconst WEB_SAFE_FONTS: FontInfo[] = [\n  { family: 'Arial', fullName: 'Arial', style: 'normal', source: 'websafe' },\n  { family: 'Arial Black', fullName: 'Arial Black', style: 'normal', source: 'websafe' },\n  { family: 'Verdana', fullName: 'Verdana', style: 'normal', source: 'websafe' },\n  { family: 'Tahoma', fullName: 'Tahoma', style: 'normal', source: 'websafe' },\n  { family: 'Trebuchet MS', fullName: 'Trebuchet MS', style: 'normal', source: 'websafe' },\n  { family: 'Times New Roman', fullName: 'Times New Roman', style: 'normal', source: 'websafe' },\n  { family: 'Georgia', fullName: 'Georgia', style: 'normal', source: 'websafe' },\n  { family: 'Courier New', fullName: 'Courier New', style: 'normal', source: 'websafe' },\n  { family: 'Impact', fullName: 'Impact', style: 'normal', source: 'websafe' },\n  { family: 'Comic Sans MS', fullName: 'Comic Sans MS', style: 'normal', source: 'websafe' },\n];\n\n// Popular Google Fonts\nconst GOOGLE_FONTS = [\n  'Roboto', 'Open Sans', 'Lato', 'Montserrat', 'Oswald',\n  'Raleway', 'Poppins', 'Nunito', 'Playfair Display', 'Merriweather',\n  'Ubuntu', 'PT Sans', 'Roboto Mono', 'Bebas Neue', 'Source Sans Pro',\n  'Inter', 'Fira Sans', 'Quicksand', 'Work Sans', 'Barlow'\n];\n\nclass FontService {\n  private systemFonts: FontInfo[] = [];\n  private loadedGoogleFonts: Set<string> = new Set();\n  private initialized: boolean = false;\n\n  /**\n   * Initialize font service and attempt to load system fonts\n   */\n  async initialize(): Promise<void> {\n    if (this.initialized) return;\n\n    // Try to load system fonts (Chrome/Edge 103+ only)\n    if ('queryLocalFonts' in window) {\n      await this.loadSystemFonts();\n    }\n\n    this.initialized = true;\n  }\n\n  /**\n   * Load system fonts using Local Font Access API\n   * Requires user permission\n   */\n  private async loadSystemFonts(): Promise<void> {\n    try {\n      // This will prompt for permission\n      const fonts = await (window as any).queryLocalFonts();\n\n      // Group by family, keep one entry per family\n      const familyMap = new Map<string, FontInfo>();\n\n      for (const font of fonts) {\n        if (!familyMap.has(font.family) || font.style === 'Regular') {\n          familyMap.set(font.family, {\n            family: font.family,\n            fullName: font.fullName,\n            style: font.style,\n            source: 'system'\n          });\n        }\n      }\n\n      this.systemFonts = Array.from(familyMap.values())\n        .sort((a, b) => a.family.localeCompare(b.family));\n\n      console.log(`[FontService] Loaded ${this.systemFonts.length} system fonts`);\n    } catch (error) {\n      if ((error as Error).name === 'NotAllowedError') {\n        console.log('[FontService] User denied font access permission');\n      } else {\n        console.error('[FontService] Error loading system fonts:', error);\n      }\n    }\n  }\n\n  /**\n   * Get all available fonts organized by category\n   */\n  getFontCategories(): FontCategory[] {\n    const categories: FontCategory[] = [];\n\n    // System fonts (if available)\n    if (this.systemFonts.length > 0) {\n      categories.push({\n        name: 'System Fonts',\n        fonts: this.systemFonts\n      });\n    }\n\n    // Web-safe fonts\n    categories.push({\n      name: 'Web Safe',\n      fonts: WEB_SAFE_FONTS\n    });\n\n    // Google Fonts\n    categories.push({\n      name: 'Google Fonts',\n      fonts: GOOGLE_FONTS.map(family => ({\n        family,\n        fullName: family,\n        style: 'normal',\n        source: 'google' as const\n      }))\n    });\n\n    return categories;\n  }\n\n  /**\n   * Get flat list of all font families\n   */\n  getAllFontFamilies(): string[] {\n    const families = new Set<string>();\n\n    WEB_SAFE_FONTS.forEach(f => families.add(f.family));\n    GOOGLE_FONTS.forEach(f => families.add(f));\n    this.systemFonts.forEach(f => families.add(f.family));\n\n    return Array.from(families).sort();\n  }\n\n  /**\n   * Load a Google Font dynamically\n   */\n  async loadGoogleFont(family: string, weights: string[] = ['400', '700']): Promise<void> {\n    if (this.loadedGoogleFonts.has(family)) return;\n\n    const weightsStr = weights.join(';');\n    const url = `https://fonts.googleapis.com/css2?family=${encodeURIComponent(family)}:wght@${weightsStr}&display=swap`;\n\n    // Create and append link element\n    const link = document.createElement('link');\n    link.rel = 'stylesheet';\n    link.href = url;\n    document.head.appendChild(link);\n\n    // Wait for font to be ready\n    try {\n      await document.fonts.load(`400 16px \"${family}\"`);\n      this.loadedGoogleFonts.add(family);\n      console.log(`[FontService] Loaded Google Font: ${family}`);\n    } catch (error) {\n      console.error(`[FontService] Failed to load Google Font: ${family}`, error);\n    }\n  }\n\n  /**\n   * Ensure a font is available before using it\n   */\n  async ensureFont(family: string): Promise<boolean> {\n    // Check if it's web-safe\n    if (WEB_SAFE_FONTS.some(f => f.family === family)) {\n      return true;\n    }\n\n    // Check if it's a Google Font\n    if (GOOGLE_FONTS.includes(family)) {\n      await this.loadGoogleFont(family);\n      return true;\n    }\n\n    // Check if it's a loaded system font\n    if (this.systemFonts.some(f => f.family === family)) {\n      return true;\n    }\n\n    // Try to detect if font is available\n    return this.isFontAvailable(family);\n  }\n\n  /**\n   * Check if a font is available by measuring text\n   */\n  private isFontAvailable(family: string): boolean {\n    const testString = 'mmmmmmmmmmlli';\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d')!;\n\n    // Measure with monospace fallback\n    ctx.font = '72px monospace';\n    const fallbackWidth = ctx.measureText(testString).width;\n\n    // Measure with requested font\n    ctx.font = `72px \"${family}\", monospace`;\n    const testWidth = ctx.measureText(testString).width;\n\n    return fallbackWidth !== testWidth;\n  }\n\n  /**\n   * Get web-safe fonts list\n   */\n  getWebSafeFonts(): FontInfo[] {\n    return WEB_SAFE_FONTS;\n  }\n\n  /**\n   * Get Google fonts list\n   */\n  getGoogleFonts(): string[] {\n    return GOOGLE_FONTS;\n  }\n\n  /**\n   * Check if system fonts are available\n   */\n  hasSystemFonts(): boolean {\n    return this.systemFonts.length > 0;\n  }\n\n  /**\n   * Request system font access (must be triggered by user action)\n   */\n  async requestSystemFontAccess(): Promise<boolean> {\n    if (!('queryLocalFonts' in window)) {\n      console.log('[FontService] Local Font Access API not available');\n      return false;\n    }\n\n    await this.loadSystemFonts();\n    return this.systemFonts.length > 0;\n  }\n}\n\n// Singleton instance\nexport const fontService = new FontService();\nexport default fontService;\n","<template>\n  <button\n    class=\"keyframe-toggle\"\n    :class=\"{\n      animated: property.animated,\n      'has-keyframe': hasKeyframeAtCurrentFrame\n    }\"\n    @click=\"toggleKeyframe\"\n    :title=\"buttonTitle\"\n  >\n    <i class=\"pi\" :class=\"iconClass\" />\n  </button>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue';\nimport { useCompositorStore } from '@/stores/compositorStore';\nimport type { AnimatableProperty, Keyframe, BezierHandle } from '@/types/project';\n\ninterface Props {\n  property: AnimatableProperty<any>;\n  layerId: string;\n}\n\nconst props = defineProps<Props>();\n\nconst emit = defineEmits<{\n  (e: 'keyframeAdded', keyframe: Keyframe<any>): void;\n  (e: 'keyframeRemoved', keyframeId: string): void;\n  (e: 'animationToggled', animated: boolean): void;\n}>();\n\nconst store = useCompositorStore();\n\n// Check if there's a keyframe at current frame\nconst hasKeyframeAtCurrentFrame = computed(() => {\n  if (!props.property.animated) return false;\n  return props.property.keyframes.some(k => k.frame === store.currentFrame);\n});\n\n// Get the keyframe at current frame (if exists)\nconst keyframeAtCurrentFrame = computed(() => {\n  if (!props.property.animated) return null;\n  return props.property.keyframes.find(k => k.frame === store.currentFrame) || null;\n});\n\n// Icon class based on state\nconst iconClass = computed(() => {\n  if (hasKeyframeAtCurrentFrame.value) {\n    return 'pi-circle-fill'; // Filled diamond/circle for keyframe present\n  }\n  if (props.property.animated) {\n    return 'pi-circle'; // Empty circle for animated but no keyframe here\n  }\n  return 'pi-stopwatch'; // Stopwatch for not animated\n});\n\n// Button title\nconst buttonTitle = computed(() => {\n  if (hasKeyframeAtCurrentFrame.value) {\n    return 'Remove keyframe at current frame';\n  }\n  if (props.property.animated) {\n    return 'Add keyframe at current frame';\n  }\n  return 'Enable animation (add keyframe)';\n});\n\n// Toggle keyframe\nfunction toggleKeyframe(): void {\n  if (hasKeyframeAtCurrentFrame.value) {\n    // Remove keyframe at current frame\n    removeKeyframe();\n  } else {\n    // Add keyframe at current frame\n    addKeyframe();\n  }\n}\n\nfunction addKeyframe(): void {\n  const defaultHandles: BezierHandle = { x: 0.33, y: 0.33 };\n\n  const newKeyframe: Keyframe<any> = {\n    id: `kf_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n    frame: store.currentFrame,\n    value: props.property.value,\n    interpolation: 'bezier',\n    inHandle: { ...defaultHandles },\n    outHandle: { ...defaultHandles },\n    handlesBroken: false\n  };\n\n  // Enable animation if not already\n  if (!props.property.animated) {\n    props.property.animated = true;\n    emit('animationToggled', true);\n  }\n\n  // Add keyframe and sort by frame\n  props.property.keyframes.push(newKeyframe);\n  props.property.keyframes.sort((a, b) => a.frame - b.frame);\n\n  emit('keyframeAdded', newKeyframe);\n}\n\nfunction removeKeyframe(): void {\n  const keyframe = keyframeAtCurrentFrame.value;\n  if (!keyframe) return;\n\n  const index = props.property.keyframes.findIndex(k => k.id === keyframe.id);\n  if (index >= 0) {\n    props.property.keyframes.splice(index, 1);\n    emit('keyframeRemoved', keyframe.id);\n  }\n\n  // If no keyframes left, disable animation\n  if (props.property.keyframes.length === 0) {\n    props.property.animated = false;\n    emit('animationToggled', false);\n  }\n}\n</script>\n\n<style scoped>\n.keyframe-toggle {\n  width: 20px;\n  height: 20px;\n  padding: 0;\n  border: none;\n  background: transparent;\n  color: #666;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 3px;\n  transition: all 0.1s;\n}\n\n.keyframe-toggle:hover {\n  background: #3a3a3a;\n  color: #aaa;\n}\n\n.keyframe-toggle.animated {\n  color: #4a90d9;\n}\n\n.keyframe-toggle.has-keyframe {\n  color: #ffc107;\n}\n\n.keyframe-toggle.has-keyframe:hover {\n  color: #ffca28;\n}\n\n.keyframe-toggle i {\n  font-size: 12px;\n}\n</style>\n","<template>\n  <div class=\"font-picker-overlay\" @click.self=\"emit('close')\">\n    <div class=\"font-picker\">\n      <div class=\"picker-header\">\n        <h3>Select Font</h3>\n        <button class=\"close-btn\" @click=\"emit('close')\">\n          <i class=\"pi pi-times\" />\n        </button>\n      </div>\n\n      <!-- Search -->\n      <div class=\"search-row\">\n        <i class=\"pi pi-search search-icon\" />\n        <input\n          v-model=\"searchQuery\"\n          type=\"text\"\n          placeholder=\"Search fonts...\"\n          class=\"search-input\"\n          ref=\"searchInputRef\"\n        />\n      </div>\n\n      <!-- Font Categories -->\n      <div class=\"font-categories\">\n        <div\n          v-for=\"category in filteredCategories\"\n          :key=\"category.name\"\n          class=\"font-category\"\n        >\n          <div class=\"category-header\" @click=\"toggleCategory(category.name)\">\n            <i\n              class=\"pi\"\n              :class=\"expandedCategories.has(category.name) ? 'pi-chevron-down' : 'pi-chevron-right'\"\n            />\n            <span>{{ category.name }}</span>\n            <span class=\"font-count\">{{ category.fonts.length }}</span>\n          </div>\n\n          <div\n            v-if=\"expandedCategories.has(category.name)\"\n            class=\"category-fonts\"\n          >\n            <div\n              v-for=\"font in category.fonts\"\n              :key=\"font.family\"\n              class=\"font-item\"\n              :class=\"{ selected: font.family === currentFont }\"\n              @click=\"selectFont(font.family)\"\n            >\n              <span\n                class=\"font-preview\"\n                :style=\"{ fontFamily: `'${font.family}', sans-serif` }\"\n              >\n                {{ font.family }}\n              </span>\n              <span class=\"font-source\">{{ font.source }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Preview -->\n      <div class=\"preview-section\">\n        <label>Preview:</label>\n        <div\n          class=\"preview-text\"\n          :style=\"{ fontFamily: `'${selectedPreviewFont}', sans-serif` }\"\n        >\n          {{ previewText }}\n        </div>\n        <input\n          v-model=\"previewText\"\n          type=\"text\"\n          class=\"preview-input\"\n          placeholder=\"Type preview text...\"\n        />\n      </div>\n\n      <!-- Actions -->\n      <div class=\"picker-actions\">\n        <button\n          v-if=\"hasSystemFonts === false\"\n          class=\"system-fonts-btn\"\n          @click=\"requestSystemFonts\"\n        >\n          <i class=\"pi pi-desktop\" />\n          Load System Fonts\n        </button>\n        <button class=\"cancel-btn\" @click=\"emit('close')\">Cancel</button>\n        <button\n          class=\"select-btn\"\n          @click=\"confirmSelection\"\n          :disabled=\"!selectedPreviewFont\"\n        >\n          Select\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted, nextTick } from 'vue';\nimport { fontService, type FontCategory } from '@/services/fontService';\n\ninterface Props {\n  currentFont: string;\n}\n\nconst props = defineProps<Props>();\n\nconst emit = defineEmits<{\n  (e: 'select', fontFamily: string): void;\n  (e: 'close'): void;\n}>();\n\n// Refs\nconst searchInputRef = ref<HTMLInputElement | null>(null);\n\n// State\nconst searchQuery = ref('');\nconst selectedPreviewFont = ref(props.currentFont);\nconst previewText = ref('The quick brown fox jumps over the lazy dog');\nconst expandedCategories = ref(new Set(['Web Safe']));\nconst fontCategories = ref<FontCategory[]>([]);\nconst hasSystemFonts = ref<boolean | null>(null);\n\n// Filter categories based on search\nconst filteredCategories = computed(() => {\n  if (!searchQuery.value.trim()) {\n    return fontCategories.value;\n  }\n\n  const query = searchQuery.value.toLowerCase();\n\n  return fontCategories.value\n    .map(category => ({\n      ...category,\n      fonts: category.fonts.filter(font =>\n        font.family.toLowerCase().includes(query)\n      )\n    }))\n    .filter(category => category.fonts.length > 0);\n});\n\n// Initialize\nonMounted(async () => {\n  await fontService.initialize();\n  fontCategories.value = fontService.getFontCategories();\n  hasSystemFonts.value = fontService.hasSystemFonts();\n\n  // Focus search input\n  await nextTick();\n  searchInputRef.value?.focus();\n\n  // Load Google Font for current selection if needed\n  if (props.currentFont) {\n    await fontService.ensureFont(props.currentFont);\n  }\n});\n\n// Category toggle\nfunction toggleCategory(categoryName: string): void {\n  if (expandedCategories.value.has(categoryName)) {\n    expandedCategories.value.delete(categoryName);\n  } else {\n    expandedCategories.value.add(categoryName);\n  }\n}\n\n// Font selection\nasync function selectFont(fontFamily: string): Promise<void> {\n  selectedPreviewFont.value = fontFamily;\n\n  // Ensure font is loaded for preview\n  await fontService.ensureFont(fontFamily);\n}\n\n// Confirm selection\nfunction confirmSelection(): void {\n  if (selectedPreviewFont.value) {\n    emit('select', selectedPreviewFont.value);\n  }\n}\n\n// Request system fonts\nasync function requestSystemFonts(): Promise<void> {\n  const success = await fontService.requestSystemFontAccess();\n  if (success) {\n    fontCategories.value = fontService.getFontCategories();\n    hasSystemFonts.value = true;\n    expandedCategories.value.add('System Fonts');\n  }\n}\n</script>\n\n<style scoped>\n.font-picker-overlay {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.6);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.font-picker {\n  width: 480px;\n  max-height: 80vh;\n  background: #2a2a2a;\n  border-radius: 8px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);\n  display: flex;\n  flex-direction: column;\n}\n\n.picker-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px 16px;\n  border-bottom: 1px solid #3d3d3d;\n}\n\n.picker-header h3 {\n  margin: 0;\n  font-size: 14px;\n  font-weight: 500;\n  color: #e0e0e0;\n}\n\n.close-btn {\n  padding: 4px 8px;\n  border: none;\n  background: transparent;\n  color: #888;\n  cursor: pointer;\n}\n\n.close-btn:hover {\n  color: #fff;\n}\n\n.search-row {\n  display: flex;\n  align-items: center;\n  padding: 12px 16px;\n  border-bottom: 1px solid #3d3d3d;\n  gap: 8px;\n}\n\n.search-icon {\n  color: #666;\n  font-size: 14px;\n}\n\n.search-input {\n  flex: 1;\n  padding: 6px 8px;\n  border: 1px solid #3d3d3d;\n  background: #1e1e1e;\n  color: #e0e0e0;\n  border-radius: 4px;\n  font-size: 13px;\n}\n\n.search-input:focus {\n  outline: none;\n  border-color: #4a90d9;\n}\n\n.font-categories {\n  flex: 1;\n  overflow-y: auto;\n  min-height: 200px;\n  max-height: 300px;\n}\n\n.font-category {\n  border-bottom: 1px solid #333;\n}\n\n.category-header {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 16px;\n  cursor: pointer;\n  background: #2d2d2d;\n  font-size: 12px;\n  font-weight: 500;\n  color: #aaa;\n}\n\n.category-header:hover {\n  background: #333;\n}\n\n.category-header i {\n  font-size: 10px;\n  width: 16px;\n}\n\n.font-count {\n  margin-left: auto;\n  font-size: 10px;\n  color: #666;\n}\n\n.category-fonts {\n  background: #252525;\n}\n\n.font-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 8px 16px 8px 32px;\n  cursor: pointer;\n  transition: background 0.1s;\n}\n\n.font-item:hover {\n  background: #2d2d2d;\n}\n\n.font-item.selected {\n  background: rgba(74, 144, 217, 0.2);\n}\n\n.font-preview {\n  font-size: 14px;\n  color: #e0e0e0;\n}\n\n.font-source {\n  font-size: 9px;\n  color: #666;\n  text-transform: uppercase;\n  padding: 2px 4px;\n  background: #333;\n  border-radius: 2px;\n}\n\n.preview-section {\n  padding: 12px 16px;\n  border-top: 1px solid #3d3d3d;\n}\n\n.preview-section label {\n  display: block;\n  font-size: 11px;\n  color: #888;\n  margin-bottom: 8px;\n}\n\n.preview-text {\n  font-size: 18px;\n  color: #e0e0e0;\n  padding: 12px;\n  background: #1e1e1e;\n  border-radius: 4px;\n  margin-bottom: 8px;\n  min-height: 48px;\n  word-break: break-word;\n}\n\n.preview-input {\n  width: 100%;\n  padding: 6px 8px;\n  border: 1px solid #3d3d3d;\n  background: #1e1e1e;\n  color: #e0e0e0;\n  border-radius: 4px;\n  font-size: 12px;\n}\n\n.preview-input:focus {\n  outline: none;\n  border-color: #4a90d9;\n}\n\n.picker-actions {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 12px 16px;\n  border-top: 1px solid #3d3d3d;\n}\n\n.system-fonts-btn {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 6px 12px;\n  border: 1px solid #3d3d3d;\n  background: transparent;\n  color: #aaa;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n  margin-right: auto;\n}\n\n.system-fonts-btn:hover {\n  background: #333;\n  color: #fff;\n}\n\n.cancel-btn {\n  padding: 6px 16px;\n  border: 1px solid #3d3d3d;\n  background: transparent;\n  color: #aaa;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.cancel-btn:hover {\n  background: #333;\n  color: #fff;\n}\n\n.select-btn {\n  padding: 6px 16px;\n  border: none;\n  background: #4a90d9;\n  color: #fff;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.select-btn:hover {\n  background: #5a9fe9;\n}\n\n.select-btn:disabled {\n  background: #333;\n  color: #666;\n  cursor: not-allowed;\n}\n</style>\n","<template>\n  <div class=\"text-properties\">\n    <h4>Text Properties</h4>\n\n    <!-- Text Content -->\n    <div class=\"property-group\">\n      <label>Text</label>\n      <textarea\n        v-model=\"textData.text\"\n        class=\"text-input\"\n        rows=\"2\"\n        @input=\"updateTextContent\"\n      />\n    </div>\n\n    <!-- Font Family -->\n    <div class=\"property-group\">\n      <label>Font Family</label>\n      <div class=\"font-select-row\">\n        <select\n          v-model=\"textData.fontFamily\"\n          class=\"font-select\"\n          @change=\"updateFont\"\n        >\n          <optgroup label=\"Web Safe\">\n            <option v-for=\"font in webSafeFonts\" :key=\"font\" :value=\"font\">\n              {{ font }}\n            </option>\n          </optgroup>\n          <optgroup label=\"Google Fonts\">\n            <option v-for=\"font in googleFonts\" :key=\"font\" :value=\"font\">\n              {{ font }}\n            </option>\n          </optgroup>\n        </select>\n        <button class=\"picker-btn\" @click=\"showFontPicker = true\" title=\"Browse fonts\">\n          <i class=\"pi pi-search\" />\n        </button>\n      </div>\n    </div>\n\n    <!-- Font Size (Animatable) -->\n    <div class=\"property-group\">\n      <div class=\"property-header\">\n        <label>Font Size</label>\n        <KeyframeToggle\n          v-if=\"fontSizeProperty\"\n          :property=\"fontSizeProperty\"\n          :layerId=\"layer.id\"\n        />\n      </div>\n      <div class=\"slider-row\">\n        <input\n          type=\"range\"\n          v-model.number=\"textData.fontSize\"\n          :min=\"8\"\n          :max=\"200\"\n          class=\"slider\"\n          @input=\"updateFontSize\"\n        />\n        <input\n          type=\"number\"\n          v-model.number=\"textData.fontSize\"\n          :min=\"8\"\n          :max=\"200\"\n          class=\"number-input\"\n          @change=\"updateFontSize\"\n        />\n      </div>\n    </div>\n\n    <!-- Text Color -->\n    <div class=\"property-group\">\n      <label>Fill Color</label>\n      <div class=\"color-row\">\n        <input\n          type=\"color\"\n          v-model=\"textData.fill\"\n          class=\"color-input\"\n          @input=\"updateFill\"\n        />\n        <input\n          type=\"text\"\n          v-model=\"textData.fill\"\n          class=\"color-text\"\n          @change=\"updateFill\"\n        />\n      </div>\n    </div>\n\n    <!-- Path Attachment -->\n    <div class=\"property-group\">\n      <label>Attach to Path</label>\n      <select\n        v-model=\"textData.pathLayerId\"\n        class=\"path-select\"\n        @change=\"updatePathAttachment\"\n      >\n        <option :value=\"null\">None</option>\n        <option v-for=\"path in splineLayers\" :key=\"path.id\" :value=\"path.id\">\n          {{ path.name }}\n        </option>\n      </select>\n    </div>\n\n    <!-- Path Offset (Animatable) - only shown when attached to path -->\n    <div class=\"property-group\" v-if=\"textData.pathLayerId\">\n      <div class=\"property-header\">\n        <label>Path Offset</label>\n        <KeyframeToggle\n          v-if=\"pathOffsetProperty\"\n          :property=\"pathOffsetProperty\"\n          :layerId=\"layer.id\"\n        />\n      </div>\n      <div class=\"slider-row\">\n        <input\n          type=\"range\"\n          v-model.number=\"pathOffsetValue\"\n          :min=\"0\"\n          :max=\"100\"\n          class=\"slider\"\n          @input=\"updatePathOffset\"\n        />\n        <span class=\"value-display\">{{ Math.round(pathOffsetValue) }}%</span>\n      </div>\n    </div>\n\n    <!-- Letter Spacing -->\n    <div class=\"property-group\">\n      <label>Letter Spacing</label>\n      <div class=\"slider-row\">\n        <input\n          type=\"range\"\n          v-model.number=\"textData.letterSpacing\"\n          :min=\"-20\"\n          :max=\"50\"\n          class=\"slider\"\n          @input=\"updateLetterSpacing\"\n        />\n        <input\n          type=\"number\"\n          v-model.number=\"textData.letterSpacing\"\n          class=\"number-input\"\n          @change=\"updateLetterSpacing\"\n        />\n      </div>\n    </div>\n\n    <!-- Font Picker Dialog -->\n    <FontPicker\n      v-if=\"showFontPicker\"\n      :current-font=\"textData.fontFamily\"\n      @select=\"selectFont\"\n      @close=\"showFontPicker = false\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch, onMounted } from 'vue';\nimport { useCompositorStore } from '@/stores/compositorStore';\nimport { fontService } from '@/services/fontService';\nimport KeyframeToggle from './KeyframeToggle.vue';\nimport FontPicker from '../dialogs/FontPicker.vue';\nimport type { Layer, TextData, AnimatableProperty } from '@/types/project';\n\ninterface Props {\n  layer: Layer;\n}\n\nconst props = defineProps<Props>();\n\nconst emit = defineEmits<{\n  (e: 'update'): void;\n}>();\n\nconst store = useCompositorStore();\n\n// Font picker visibility\nconst showFontPicker = ref(false);\n\n// Font lists\nconst webSafeFonts = ref<string[]>([]);\nconst googleFonts = ref<string[]>([]);\n\n// Get text data from layer\nconst textData = computed<TextData>(() => {\n  return (props.layer.data as TextData) || {\n    text: 'Text',\n    fontFamily: 'Arial',\n    fontSize: 48,\n    fontWeight: '400',\n    fontStyle: 'normal',\n    fill: '#ffffff',\n    stroke: '',\n    strokeWidth: 0,\n    letterSpacing: 0,\n    lineHeight: 1.2,\n    textAlign: 'left',\n    pathLayerId: null,\n    pathOffset: 0,\n    pathAlign: 'left'\n  };\n});\n\n// Get spline layers for path attachment\nconst splineLayers = computed(() => {\n  return store.layers.filter(l => l.type === 'spline' && l.id !== props.layer.id);\n});\n\n// Find animatable properties\nconst fontSizeProperty = computed((): AnimatableProperty<number> | undefined => {\n  return props.layer.properties.find(p => p.name === 'fontSize') as AnimatableProperty<number> | undefined;\n});\n\nconst pathOffsetProperty = computed((): AnimatableProperty<number> | undefined => {\n  return props.layer.properties.find(p => p.name === 'pathOffset') as AnimatableProperty<number> | undefined;\n});\n\n// Path offset as percentage (0-100)\nconst pathOffsetValue = computed({\n  get: () => (textData.value.pathOffset || 0) * 100,\n  set: (v: number) => {\n    textData.value.pathOffset = v / 100;\n  }\n});\n\n// Initialize font service\nonMounted(async () => {\n  await fontService.initialize();\n  webSafeFonts.value = fontService.getWebSafeFonts().map(f => f.family);\n  googleFonts.value = fontService.getGoogleFonts();\n});\n\n// Update handlers\nfunction updateTextContent(): void {\n  emit('update');\n}\n\nfunction updateFont(): void {\n  // Ensure font is loaded\n  fontService.ensureFont(textData.value.fontFamily);\n  emit('update');\n}\n\nfunction updateFontSize(): void {\n  // Also update the animatable property if exists\n  if (fontSizeProperty.value) {\n    fontSizeProperty.value.value = textData.value.fontSize;\n  }\n  emit('update');\n}\n\nfunction updateFill(): void {\n  emit('update');\n}\n\nfunction updatePathAttachment(): void {\n  // Reset path offset when changing path\n  if (!textData.value.pathLayerId) {\n    textData.value.pathOffset = 0;\n  }\n  emit('update');\n}\n\nfunction updatePathOffset(): void {\n  // Also update the animatable property if exists\n  if (pathOffsetProperty.value) {\n    pathOffsetProperty.value.value = textData.value.pathOffset;\n  }\n  emit('update');\n}\n\nfunction updateLetterSpacing(): void {\n  emit('update');\n}\n\nfunction selectFont(fontFamily: string): void {\n  textData.value.fontFamily = fontFamily;\n  showFontPicker.value = false;\n  updateFont();\n}\n\n// Ensure animatable properties exist for fontSize and pathOffset\nwatch(() => props.layer, (layer) => {\n  if (layer.type !== 'text') return;\n\n  // Ensure fontSize property exists\n  if (!layer.properties.find(p => p.name === 'fontSize')) {\n    layer.properties.push({\n      id: `prop_fontSize_${Date.now()}`,\n      name: 'fontSize',\n      type: 'number',\n      value: textData.value.fontSize,\n      animated: false,\n      keyframes: []\n    });\n  }\n\n  // Ensure pathOffset property exists\n  if (!layer.properties.find(p => p.name === 'pathOffset')) {\n    layer.properties.push({\n      id: `prop_pathOffset_${Date.now()}`,\n      name: 'pathOffset',\n      type: 'number',\n      value: 0,\n      animated: false,\n      keyframes: []\n    });\n  }\n}, { immediate: true });\n</script>\n\n<style scoped>\n.text-properties {\n  padding: 0;\n}\n\n.text-properties h4 {\n  margin: 0 0 12px 0;\n  padding-bottom: 8px;\n  border-bottom: 1px solid #3d3d3d;\n  font-size: 12px;\n  font-weight: 500;\n  color: #aaa;\n}\n\n.property-group {\n  margin-bottom: 12px;\n}\n\n.property-group label {\n  display: block;\n  font-size: 11px;\n  color: #888;\n  margin-bottom: 4px;\n}\n\n.property-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 4px;\n}\n\n.property-header label {\n  margin-bottom: 0;\n}\n\n.text-input {\n  width: 100%;\n  padding: 6px 8px;\n  border: 1px solid #3d3d3d;\n  background: #1e1e1e;\n  color: #e0e0e0;\n  border-radius: 4px;\n  font-size: 12px;\n  resize: vertical;\n  font-family: inherit;\n}\n\n.text-input:focus {\n  outline: none;\n  border-color: #4a90d9;\n}\n\n.font-select-row {\n  display: flex;\n  gap: 4px;\n}\n\n.font-select {\n  flex: 1;\n  padding: 6px 8px;\n  border: 1px solid #3d3d3d;\n  background: #1e1e1e;\n  color: #e0e0e0;\n  border-radius: 4px;\n  font-size: 12px;\n}\n\n.picker-btn {\n  padding: 6px 10px;\n  border: 1px solid #3d3d3d;\n  background: #2a2a2a;\n  color: #aaa;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.picker-btn:hover {\n  background: #3a3a3a;\n  color: #fff;\n}\n\n.slider-row {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.slider {\n  flex: 1;\n  height: 4px;\n  cursor: pointer;\n}\n\n.number-input {\n  width: 60px;\n  padding: 4px 6px;\n  border: 1px solid #3d3d3d;\n  background: #1e1e1e;\n  color: #e0e0e0;\n  border-radius: 4px;\n  font-size: 12px;\n  text-align: right;\n}\n\n.number-input:focus {\n  outline: none;\n  border-color: #4a90d9;\n}\n\n.value-display {\n  width: 50px;\n  font-size: 11px;\n  color: #aaa;\n  text-align: right;\n}\n\n.color-row {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.color-input {\n  width: 32px;\n  height: 24px;\n  padding: 0;\n  border: 1px solid #3d3d3d;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.color-text {\n  flex: 1;\n  padding: 4px 8px;\n  border: 1px solid #3d3d3d;\n  background: #1e1e1e;\n  color: #e0e0e0;\n  border-radius: 4px;\n  font-size: 12px;\n  font-family: monospace;\n}\n\n.color-text:focus {\n  outline: none;\n  border-color: #4a90d9;\n}\n\n.path-select {\n  width: 100%;\n  padding: 6px 8px;\n  border: 1px solid #3d3d3d;\n  background: #1e1e1e;\n  color: #e0e0e0;\n  border-radius: 4px;\n  font-size: 12px;\n}\n</style>\n","<template>\n  <div class=\"particle-properties\">\n    <!-- System Settings -->\n    <div class=\"property-section\">\n      <div class=\"section-header\" @click=\"toggleSection('system')\">\n        <i class=\"pi\" :class=\"expandedSections.has('system') ? 'pi-chevron-down' : 'pi-chevron-right'\" />\n        <span>System Settings</span>\n      </div>\n      <div v-if=\"expandedSections.has('system')\" class=\"section-content\">\n        <div class=\"property-row\">\n          <label>Max Particles</label>\n          <input\n            type=\"range\"\n            :value=\"systemConfig.maxParticles\"\n            min=\"100\"\n            max=\"50000\"\n            step=\"100\"\n            @input=\"updateSystemConfig('maxParticles', Number(($event.target as HTMLInputElement).value))\"\n          />\n          <span class=\"value-display\">{{ systemConfig.maxParticles }}</span>\n        </div>\n        <div class=\"property-row\">\n          <label>Gravity</label>\n          <input\n            type=\"range\"\n            :value=\"systemConfig.gravity\"\n            min=\"-1000\"\n            max=\"1000\"\n            step=\"10\"\n            @input=\"updateSystemConfig('gravity', Number(($event.target as HTMLInputElement).value))\"\n          />\n          <span class=\"value-display\">{{ systemConfig.gravity }}</span>\n        </div>\n        <div class=\"property-row\">\n          <label>Wind Strength</label>\n          <input\n            type=\"range\"\n            :value=\"systemConfig.windStrength\"\n            min=\"0\"\n            max=\"1000\"\n            step=\"10\"\n            @input=\"updateSystemConfig('windStrength', Number(($event.target as HTMLInputElement).value))\"\n          />\n          <span class=\"value-display\">{{ systemConfig.windStrength }}</span>\n        </div>\n        <div class=\"property-row\">\n          <label>Wind Direction</label>\n          <input\n            type=\"range\"\n            :value=\"systemConfig.windDirection\"\n            min=\"0\"\n            max=\"360\"\n            step=\"5\"\n            @input=\"updateSystemConfig('windDirection', Number(($event.target as HTMLInputElement).value))\"\n          />\n          <span class=\"value-display\">{{ systemConfig.windDirection }}</span>\n        </div>\n        <div class=\"property-row\">\n          <label>Friction</label>\n          <input\n            type=\"range\"\n            :value=\"systemConfig.friction\"\n            min=\"0\"\n            max=\"1\"\n            step=\"0.01\"\n            @input=\"updateSystemConfig('friction', Number(($event.target as HTMLInputElement).value))\"\n          />\n          <span class=\"value-display\">{{ systemConfig.friction.toFixed(2) }}</span>\n        </div>\n        <div class=\"property-row\">\n          <label>Boundary</label>\n          <select\n            :value=\"systemConfig.boundaryBehavior\"\n            @change=\"updateSystemConfig('boundaryBehavior', ($event.target as HTMLSelectElement).value)\"\n          >\n            <option value=\"kill\">Kill</option>\n            <option value=\"bounce\">Bounce</option>\n            <option value=\"wrap\">Wrap</option>\n          </select>\n        </div>\n      </div>\n    </div>\n\n    <!-- Emitters -->\n    <div class=\"property-section\">\n      <div class=\"section-header\" @click=\"toggleSection('emitters')\">\n        <i class=\"pi\" :class=\"expandedSections.has('emitters') ? 'pi-chevron-down' : 'pi-chevron-right'\" />\n        <span>Emitters</span>\n        <button class=\"add-btn\" @click.stop=\"addEmitter\" title=\"Add Emitter\">\n          <i class=\"pi pi-plus\" />\n        </button>\n      </div>\n      <div v-if=\"expandedSections.has('emitters')\" class=\"section-content\">\n        <div\n          v-for=\"emitter in emitters\"\n          :key=\"emitter.id\"\n          class=\"emitter-item\"\n        >\n          <div class=\"emitter-header\" @click=\"toggleEmitter(emitter.id)\">\n            <i class=\"pi\" :class=\"expandedEmitters.has(emitter.id) ? 'pi-chevron-down' : 'pi-chevron-right'\" />\n            <input\n              type=\"text\"\n              :value=\"emitter.name\"\n              @input=\"updateEmitter(emitter.id, 'name', ($event.target as HTMLInputElement).value)\"\n              @click.stop\n              class=\"emitter-name\"\n            />\n            <label class=\"enabled-toggle\">\n              <input\n                type=\"checkbox\"\n                :checked=\"emitter.enabled\"\n                @change=\"updateEmitter(emitter.id, 'enabled', ($event.target as HTMLInputElement).checked)\"\n                @click.stop\n              />\n            </label>\n            <button class=\"remove-btn\" @click.stop=\"removeEmitter(emitter.id)\" title=\"Remove\">\n              <i class=\"pi pi-trash\" />\n            </button>\n          </div>\n\n          <div v-if=\"expandedEmitters.has(emitter.id)\" class=\"emitter-content\">\n            <div class=\"property-row\">\n              <label>Position X</label>\n              <input\n                type=\"range\"\n                :value=\"emitter.x\"\n                min=\"0\"\n                max=\"1\"\n                step=\"0.01\"\n                @input=\"updateEmitter(emitter.id, 'x', Number(($event.target as HTMLInputElement).value))\"\n              />\n              <span class=\"value-display\">{{ emitter.x.toFixed(2) }}</span>\n            </div>\n            <div class=\"property-row\">\n              <label>Position Y</label>\n              <input\n                type=\"range\"\n                :value=\"emitter.y\"\n                min=\"0\"\n                max=\"1\"\n                step=\"0.01\"\n                @input=\"updateEmitter(emitter.id, 'y', Number(($event.target as HTMLInputElement).value))\"\n              />\n              <span class=\"value-display\">{{ emitter.y.toFixed(2) }}</span>\n            </div>\n            <div class=\"property-row\">\n              <label>Direction</label>\n              <input\n                type=\"range\"\n                :value=\"emitter.direction\"\n                min=\"0\"\n                max=\"360\"\n                step=\"5\"\n                @input=\"updateEmitter(emitter.id, 'direction', Number(($event.target as HTMLInputElement).value))\"\n              />\n              <span class=\"value-display\">{{ emitter.direction }}</span>\n            </div>\n            <div class=\"property-row\">\n              <label>Spread</label>\n              <input\n                type=\"range\"\n                :value=\"emitter.spread\"\n                min=\"0\"\n                max=\"360\"\n                step=\"5\"\n                @input=\"updateEmitter(emitter.id, 'spread', Number(($event.target as HTMLInputElement).value))\"\n              />\n              <span class=\"value-display\">{{ emitter.spread }}</span>\n            </div>\n            <div class=\"property-row\">\n              <label>Speed</label>\n              <input\n                type=\"range\"\n                :value=\"emitter.speed\"\n                min=\"1\"\n                max=\"1000\"\n                step=\"10\"\n                @input=\"updateEmitter(emitter.id, 'speed', Number(($event.target as HTMLInputElement).value))\"\n              />\n              <span class=\"value-display\">{{ emitter.speed }}</span>\n            </div>\n            <div class=\"property-row\">\n              <label>Speed Variance</label>\n              <input\n                type=\"range\"\n                :value=\"emitter.speedVariance\"\n                min=\"0\"\n                max=\"500\"\n                step=\"10\"\n                @input=\"updateEmitter(emitter.id, 'speedVariance', Number(($event.target as HTMLInputElement).value))\"\n              />\n              <span class=\"value-display\">{{ emitter.speedVariance }}</span>\n            </div>\n            <div class=\"property-row\">\n              <label>Size</label>\n              <input\n                type=\"range\"\n                :value=\"emitter.size\"\n                min=\"1\"\n                max=\"400\"\n                step=\"1\"\n                @input=\"updateEmitter(emitter.id, 'size', Number(($event.target as HTMLInputElement).value))\"\n              />\n              <span class=\"value-display\">{{ emitter.size }}px</span>\n            </div>\n            <div class=\"property-row\">\n              <label>Size Variance</label>\n              <input\n                type=\"range\"\n                :value=\"emitter.sizeVariance\"\n                min=\"0\"\n                max=\"100\"\n                step=\"1\"\n                @input=\"updateEmitter(emitter.id, 'sizeVariance', Number(($event.target as HTMLInputElement).value))\"\n              />\n              <span class=\"value-display\">{{ emitter.sizeVariance }}</span>\n            </div>\n            <div class=\"property-row\">\n              <label>Color</label>\n              <input\n                type=\"color\"\n                :value=\"rgbToHex(emitter.color)\"\n                @input=\"updateEmitterColor(emitter.id, ($event.target as HTMLInputElement).value)\"\n              />\n            </div>\n            <div class=\"property-row\">\n              <label>Emission Rate</label>\n              <input\n                type=\"range\"\n                :value=\"emitter.emissionRate\"\n                min=\"0.1\"\n                max=\"100\"\n                step=\"0.1\"\n                @input=\"updateEmitter(emitter.id, 'emissionRate', Number(($event.target as HTMLInputElement).value))\"\n              />\n              <span class=\"value-display\">{{ emitter.emissionRate.toFixed(1) }}/s</span>\n            </div>\n            <div class=\"property-row\">\n              <label>Lifetime</label>\n              <input\n                type=\"range\"\n                :value=\"emitter.particleLifetime\"\n                min=\"1\"\n                max=\"300\"\n                step=\"1\"\n                @input=\"updateEmitter(emitter.id, 'particleLifetime', Number(($event.target as HTMLInputElement).value))\"\n              />\n              <span class=\"value-display\">{{ emitter.particleLifetime }}f</span>\n            </div>\n            <div class=\"property-row\">\n              <label>Initial Burst</label>\n              <input\n                type=\"range\"\n                :value=\"emitter.initialBurst\"\n                min=\"0\"\n                max=\"1\"\n                step=\"0.1\"\n                @input=\"updateEmitter(emitter.id, 'initialBurst', Number(($event.target as HTMLInputElement).value))\"\n              />\n              <span class=\"value-display\">{{ (emitter.initialBurst * 100).toFixed(0) }}%</span>\n            </div>\n            <div class=\"property-row checkbox-row\">\n              <label>\n                <input\n                  type=\"checkbox\"\n                  :checked=\"emitter.burstOnBeat\"\n                  @change=\"updateEmitter(emitter.id, 'burstOnBeat', ($event.target as HTMLInputElement).checked)\"\n                />\n                Burst on Beat\n              </label>\n            </div>\n            <div v-if=\"emitter.burstOnBeat\" class=\"property-row\">\n              <label>Burst Count</label>\n              <input\n                type=\"range\"\n                :value=\"emitter.burstCount\"\n                min=\"1\"\n                max=\"100\"\n                step=\"1\"\n                @input=\"updateEmitter(emitter.id, 'burstCount', Number(($event.target as HTMLInputElement).value))\"\n              />\n              <span class=\"value-display\">{{ emitter.burstCount }}</span>\n            </div>\n          </div>\n        </div>\n\n        <div v-if=\"emitters.length === 0\" class=\"empty-message\">\n          No emitters. Click + to add one.\n        </div>\n      </div>\n    </div>\n\n    <!-- Force Fields -->\n    <div class=\"property-section\">\n      <div class=\"section-header\" @click=\"toggleSection('forces')\">\n        <i class=\"pi\" :class=\"expandedSections.has('forces') ? 'pi-chevron-down' : 'pi-chevron-right'\" />\n        <span>Force Fields</span>\n      </div>\n      <div v-if=\"expandedSections.has('forces')\" class=\"section-content\">\n        <!-- Tabs -->\n        <div class=\"force-tabs\">\n          <button\n            :class=\"{ active: forceTab === 'wells' }\"\n            @click=\"forceTab = 'wells'\"\n          >\n            Gravity Wells\n          </button>\n          <button\n            :class=\"{ active: forceTab === 'vortices' }\"\n            @click=\"forceTab = 'vortices'\"\n          >\n            Vortices\n          </button>\n        </div>\n\n        <!-- Gravity Wells -->\n        <div v-if=\"forceTab === 'wells'\" class=\"force-list\">\n          <button class=\"add-btn full-width\" @click=\"addGravityWell\">\n            <i class=\"pi pi-plus\" /> Add Gravity Well\n          </button>\n          <div\n            v-for=\"well in gravityWells\"\n            :key=\"well.id\"\n            class=\"force-item\"\n          >\n            <div class=\"force-header\">\n              <input\n                type=\"text\"\n                :value=\"well.name\"\n                @input=\"updateGravityWell(well.id, 'name', ($event.target as HTMLInputElement).value)\"\n                class=\"force-name\"\n              />\n              <label class=\"enabled-toggle\">\n                <input\n                  type=\"checkbox\"\n                  :checked=\"well.enabled\"\n                  @change=\"updateGravityWell(well.id, 'enabled', ($event.target as HTMLInputElement).checked)\"\n                />\n              </label>\n              <button class=\"remove-btn\" @click=\"removeGravityWell(well.id)\">\n                <i class=\"pi pi-trash\" />\n              </button>\n            </div>\n            <div class=\"property-row\">\n              <label>Position X</label>\n              <input\n                type=\"range\"\n                :value=\"well.x\"\n                min=\"0\"\n                max=\"1\"\n                step=\"0.01\"\n                @input=\"updateGravityWell(well.id, 'x', Number(($event.target as HTMLInputElement).value))\"\n              />\n              <span class=\"value-display\">{{ well.x.toFixed(2) }}</span>\n            </div>\n            <div class=\"property-row\">\n              <label>Position Y</label>\n              <input\n                type=\"range\"\n                :value=\"well.y\"\n                min=\"0\"\n                max=\"1\"\n                step=\"0.01\"\n                @input=\"updateGravityWell(well.id, 'y', Number(($event.target as HTMLInputElement).value))\"\n              />\n              <span class=\"value-display\">{{ well.y.toFixed(2) }}</span>\n            </div>\n            <div class=\"property-row\">\n              <label>Strength</label>\n              <input\n                type=\"range\"\n                :value=\"well.strength\"\n                min=\"-1000\"\n                max=\"1000\"\n                step=\"10\"\n                @input=\"updateGravityWell(well.id, 'strength', Number(($event.target as HTMLInputElement).value))\"\n              />\n              <span class=\"value-display\">{{ well.strength }}</span>\n            </div>\n            <div class=\"property-row\">\n              <label>Radius</label>\n              <input\n                type=\"range\"\n                :value=\"well.radius\"\n                min=\"0.01\"\n                max=\"1\"\n                step=\"0.01\"\n                @input=\"updateGravityWell(well.id, 'radius', Number(($event.target as HTMLInputElement).value))\"\n              />\n              <span class=\"value-display\">{{ well.radius.toFixed(2) }}</span>\n            </div>\n            <div class=\"property-row\">\n              <label>Falloff</label>\n              <select\n                :value=\"well.falloff\"\n                @change=\"updateGravityWell(well.id, 'falloff', ($event.target as HTMLSelectElement).value)\"\n              >\n                <option value=\"linear\">Linear</option>\n                <option value=\"quadratic\">Quadratic</option>\n                <option value=\"constant\">Constant</option>\n              </select>\n            </div>\n          </div>\n        </div>\n\n        <!-- Vortices -->\n        <div v-if=\"forceTab === 'vortices'\" class=\"force-list\">\n          <button class=\"add-btn full-width\" @click=\"addVortex\">\n            <i class=\"pi pi-plus\" /> Add Vortex\n          </button>\n          <div\n            v-for=\"vortex in vortices\"\n            :key=\"vortex.id\"\n            class=\"force-item\"\n          >\n            <div class=\"force-header\">\n              <input\n                type=\"text\"\n                :value=\"vortex.name\"\n                @input=\"updateVortex(vortex.id, 'name', ($event.target as HTMLInputElement).value)\"\n                class=\"force-name\"\n              />\n              <label class=\"enabled-toggle\">\n                <input\n                  type=\"checkbox\"\n                  :checked=\"vortex.enabled\"\n                  @change=\"updateVortex(vortex.id, 'enabled', ($event.target as HTMLInputElement).checked)\"\n                />\n              </label>\n              <button class=\"remove-btn\" @click=\"removeVortex(vortex.id)\">\n                <i class=\"pi pi-trash\" />\n              </button>\n            </div>\n            <div class=\"property-row\">\n              <label>Position X</label>\n              <input\n                type=\"range\"\n                :value=\"vortex.x\"\n                min=\"0\"\n                max=\"1\"\n                step=\"0.01\"\n                @input=\"updateVortex(vortex.id, 'x', Number(($event.target as HTMLInputElement).value))\"\n              />\n              <span class=\"value-display\">{{ vortex.x.toFixed(2) }}</span>\n            </div>\n            <div class=\"property-row\">\n              <label>Position Y</label>\n              <input\n                type=\"range\"\n                :value=\"vortex.y\"\n                min=\"0\"\n                max=\"1\"\n                step=\"0.01\"\n                @input=\"updateVortex(vortex.id, 'y', Number(($event.target as HTMLInputElement).value))\"\n              />\n              <span class=\"value-display\">{{ vortex.y.toFixed(2) }}</span>\n            </div>\n            <div class=\"property-row\">\n              <label>Strength</label>\n              <input\n                type=\"range\"\n                :value=\"vortex.strength\"\n                min=\"0\"\n                max=\"1000\"\n                step=\"10\"\n                @input=\"updateVortex(vortex.id, 'strength', Number(($event.target as HTMLInputElement).value))\"\n              />\n              <span class=\"value-display\">{{ vortex.strength }}</span>\n            </div>\n            <div class=\"property-row\">\n              <label>Radius</label>\n              <input\n                type=\"range\"\n                :value=\"vortex.radius\"\n                min=\"0.01\"\n                max=\"1\"\n                step=\"0.01\"\n                @input=\"updateVortex(vortex.id, 'radius', Number(($event.target as HTMLInputElement).value))\"\n              />\n              <span class=\"value-display\">{{ vortex.radius.toFixed(2) }}</span>\n            </div>\n            <div class=\"property-row\">\n              <label>Rotation Speed</label>\n              <input\n                type=\"range\"\n                :value=\"vortex.rotationSpeed\"\n                min=\"0\"\n                max=\"50\"\n                step=\"1\"\n                @input=\"updateVortex(vortex.id, 'rotationSpeed', Number(($event.target as HTMLInputElement).value))\"\n              />\n              <span class=\"value-display\">{{ vortex.rotationSpeed }}/f</span>\n            </div>\n            <div class=\"property-row\">\n              <label>Inward Pull</label>\n              <input\n                type=\"range\"\n                :value=\"vortex.inwardPull\"\n                min=\"0\"\n                max=\"100\"\n                step=\"1\"\n                @input=\"updateVortex(vortex.id, 'inwardPull', Number(($event.target as HTMLInputElement).value))\"\n              />\n              <span class=\"value-display\">{{ vortex.inwardPull }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Turbulence Fields -->\n    <div class=\"property-section\">\n      <div class=\"section-header\" @click=\"toggleSection('turbulence')\">\n        <i class=\"pi\" :class=\"expandedSections.has('turbulence') ? 'pi-chevron-down' : 'pi-chevron-right'\" />\n        <span>Turbulence</span>\n        <button class=\"add-btn\" @click.stop=\"addTurbulence\" title=\"Add Turbulence Field\">\n          <i class=\"pi pi-plus\" />\n        </button>\n      </div>\n      <div v-if=\"expandedSections.has('turbulence')\" class=\"section-content\">\n        <div\n          v-for=\"turb in turbulenceFields\"\n          :key=\"turb.id\"\n          class=\"force-item\"\n        >\n          <div class=\"force-header\">\n            <span class=\"force-label\">Turbulence Field</span>\n            <label class=\"enabled-toggle\">\n              <input\n                type=\"checkbox\"\n                :checked=\"turb.enabled\"\n                @change=\"updateTurbulence(turb.id, 'enabled', ($event.target as HTMLInputElement).checked)\"\n              />\n            </label>\n            <button class=\"remove-btn\" @click=\"removeTurbulence(turb.id)\">\n              <i class=\"pi pi-trash\" />\n            </button>\n          </div>\n          <div class=\"property-row\">\n            <label>Scale</label>\n            <input\n              type=\"range\"\n              :value=\"turb.scale\"\n              min=\"0.001\"\n              max=\"0.02\"\n              step=\"0.001\"\n              @input=\"updateTurbulence(turb.id, 'scale', Number(($event.target as HTMLInputElement).value))\"\n            />\n            <span class=\"value-display\">{{ turb.scale.toFixed(3) }}</span>\n          </div>\n          <div class=\"property-row\">\n            <label>Strength</label>\n            <input\n              type=\"range\"\n              :value=\"turb.strength\"\n              min=\"0\"\n              max=\"500\"\n              step=\"10\"\n              @input=\"updateTurbulence(turb.id, 'strength', Number(($event.target as HTMLInputElement).value))\"\n            />\n            <span class=\"value-display\">{{ turb.strength }}</span>\n          </div>\n          <div class=\"property-row\">\n            <label>Evolution</label>\n            <input\n              type=\"range\"\n              :value=\"turb.evolutionSpeed\"\n              min=\"0\"\n              max=\"1\"\n              step=\"0.01\"\n              @input=\"updateTurbulence(turb.id, 'evolutionSpeed', Number(($event.target as HTMLInputElement).value))\"\n            />\n            <span class=\"value-display\">{{ turb.evolutionSpeed.toFixed(2) }}</span>\n          </div>\n        </div>\n\n        <div v-if=\"turbulenceFields.length === 0\" class=\"empty-message\">\n          No turbulence fields. Add one for organic particle motion.\n        </div>\n      </div>\n    </div>\n\n    <!-- Sub-Emitters -->\n    <div class=\"property-section\">\n      <div class=\"section-header\" @click=\"toggleSection('subEmitters')\">\n        <i class=\"pi\" :class=\"expandedSections.has('subEmitters') ? 'pi-chevron-down' : 'pi-chevron-right'\" />\n        <span>Sub-Emitters</span>\n        <button class=\"add-btn\" @click.stop=\"addSubEmitter\" title=\"Add Sub-Emitter\">\n          <i class=\"pi pi-plus\" />\n        </button>\n      </div>\n      <div v-if=\"expandedSections.has('subEmitters')\" class=\"section-content\">\n        <div\n          v-for=\"sub in subEmitters\"\n          :key=\"sub.id\"\n          class=\"force-item\"\n        >\n          <div class=\"force-header\">\n            <select\n              :value=\"sub.parentEmitterId\"\n              @change=\"updateSubEmitter(sub.id, 'parentEmitterId', ($event.target as HTMLSelectElement).value)\"\n              class=\"sub-emitter-parent\"\n            >\n              <option value=\"*\">All Emitters</option>\n              <option v-for=\"e in emitters\" :key=\"e.id\" :value=\"e.id\">{{ e.name }}</option>\n            </select>\n            <label class=\"enabled-toggle\">\n              <input\n                type=\"checkbox\"\n                :checked=\"sub.enabled\"\n                @change=\"updateSubEmitter(sub.id, 'enabled', ($event.target as HTMLInputElement).checked)\"\n              />\n            </label>\n            <button class=\"remove-btn\" @click=\"removeSubEmitter(sub.id)\">\n              <i class=\"pi pi-trash\" />\n            </button>\n          </div>\n          <div class=\"property-row\">\n            <label>Trigger</label>\n            <select\n              :value=\"sub.trigger\"\n              @change=\"updateSubEmitter(sub.id, 'trigger', ($event.target as HTMLSelectElement).value)\"\n            >\n              <option value=\"death\">On Death</option>\n            </select>\n          </div>\n          <div class=\"property-row\">\n            <label>Spawn Count</label>\n            <input\n              type=\"range\"\n              :value=\"sub.spawnCount\"\n              min=\"1\"\n              max=\"10\"\n              step=\"1\"\n              @input=\"updateSubEmitter(sub.id, 'spawnCount', Number(($event.target as HTMLInputElement).value))\"\n            />\n            <span class=\"value-display\">{{ sub.spawnCount }}</span>\n          </div>\n          <div class=\"property-row\">\n            <label>Inherit Velocity</label>\n            <input\n              type=\"range\"\n              :value=\"sub.inheritVelocity\"\n              min=\"0\"\n              max=\"1\"\n              step=\"0.1\"\n              @input=\"updateSubEmitter(sub.id, 'inheritVelocity', Number(($event.target as HTMLInputElement).value))\"\n            />\n            <span class=\"value-display\">{{ (sub.inheritVelocity * 100).toFixed(0) }}%</span>\n          </div>\n          <div class=\"property-row\">\n            <label>Size</label>\n            <input\n              type=\"range\"\n              :value=\"sub.size\"\n              min=\"1\"\n              max=\"100\"\n              step=\"1\"\n              @input=\"updateSubEmitter(sub.id, 'size', Number(($event.target as HTMLInputElement).value))\"\n            />\n            <span class=\"value-display\">{{ sub.size }}px</span>\n          </div>\n          <div class=\"property-row\">\n            <label>Lifetime</label>\n            <input\n              type=\"range\"\n              :value=\"sub.lifetime\"\n              min=\"1\"\n              max=\"120\"\n              step=\"1\"\n              @input=\"updateSubEmitter(sub.id, 'lifetime', Number(($event.target as HTMLInputElement).value))\"\n            />\n            <span class=\"value-display\">{{ sub.lifetime }}f</span>\n          </div>\n          <div class=\"property-row\">\n            <label>Speed</label>\n            <input\n              type=\"range\"\n              :value=\"sub.speed\"\n              min=\"1\"\n              max=\"500\"\n              step=\"10\"\n              @input=\"updateSubEmitter(sub.id, 'speed', Number(($event.target as HTMLInputElement).value))\"\n            />\n            <span class=\"value-display\">{{ sub.speed }}</span>\n          </div>\n          <div class=\"property-row\">\n            <label>Spread</label>\n            <input\n              type=\"range\"\n              :value=\"sub.spread\"\n              min=\"0\"\n              max=\"360\"\n              step=\"5\"\n              @input=\"updateSubEmitter(sub.id, 'spread', Number(($event.target as HTMLInputElement).value))\"\n            />\n            <span class=\"value-display\">{{ sub.spread }}</span>\n          </div>\n          <div class=\"property-row\">\n            <label>Color</label>\n            <input\n              type=\"color\"\n              :value=\"rgbToHex(sub.color)\"\n              @input=\"updateSubEmitterColor(sub.id, ($event.target as HTMLInputElement).value)\"\n            />\n          </div>\n        </div>\n\n        <div v-if=\"subEmitters.length === 0\" class=\"empty-message\">\n          No sub-emitters. Add one for particle death effects.\n        </div>\n      </div>\n    </div>\n\n    <!-- Modulations -->\n    <div class=\"property-section\">\n      <div class=\"section-header\" @click=\"toggleSection('modulations')\">\n        <i class=\"pi\" :class=\"expandedSections.has('modulations') ? 'pi-chevron-down' : 'pi-chevron-right'\" />\n        <span>Modulations</span>\n        <button class=\"add-btn\" @click.stop=\"addModulation\" title=\"Add Modulation\">\n          <i class=\"pi pi-plus\" />\n        </button>\n      </div>\n      <div v-if=\"expandedSections.has('modulations')\" class=\"section-content\">\n        <div\n          v-for=\"mod in modulations\"\n          :key=\"mod.id\"\n          class=\"modulation-item\"\n        >\n          <div class=\"modulation-header\">\n            <select\n              :value=\"mod.emitterId\"\n              @change=\"updateModulation(mod.id, 'emitterId', ($event.target as HTMLSelectElement).value)\"\n            >\n              <option value=\"*\">All Emitters</option>\n              <option v-for=\"e in emitters\" :key=\"e.id\" :value=\"e.id\">{{ e.name }}</option>\n            </select>\n            <button class=\"remove-btn\" @click=\"removeModulation(mod.id)\">\n              <i class=\"pi pi-trash\" />\n            </button>\n          </div>\n          <div class=\"property-row\">\n            <label>Property</label>\n            <select\n              :value=\"mod.property\"\n              @change=\"updateModulation(mod.id, 'property', ($event.target as HTMLSelectElement).value)\"\n            >\n              <option value=\"size\">Size</option>\n              <option value=\"speed\">Speed</option>\n              <option value=\"opacity\">Opacity</option>\n              <option value=\"colorR\">Color R</option>\n              <option value=\"colorG\">Color G</option>\n              <option value=\"colorB\">Color B</option>\n            </select>\n          </div>\n          <div class=\"property-row\">\n            <label>Start Value</label>\n            <input\n              type=\"number\"\n              :value=\"mod.startValue\"\n              step=\"0.1\"\n              @input=\"updateModulation(mod.id, 'startValue', Number(($event.target as HTMLInputElement).value))\"\n            />\n          </div>\n          <div class=\"property-row\">\n            <label>End Value</label>\n            <input\n              type=\"number\"\n              :value=\"mod.endValue\"\n              step=\"0.1\"\n              @input=\"updateModulation(mod.id, 'endValue', Number(($event.target as HTMLInputElement).value))\"\n            />\n          </div>\n          <div class=\"property-row\">\n            <label>Easing</label>\n            <select\n              :value=\"mod.easing\"\n              @change=\"updateModulation(mod.id, 'easing', ($event.target as HTMLSelectElement).value)\"\n            >\n              <option value=\"linear\">Linear</option>\n              <option value=\"easeIn\">Ease In</option>\n              <option value=\"easeOut\">Ease Out</option>\n              <option value=\"easeInOut\">Ease In Out</option>\n              <option value=\"bounce\">Bounce</option>\n              <option value=\"elastic\">Elastic</option>\n            </select>\n          </div>\n        </div>\n\n        <div v-if=\"modulations.length === 0\" class=\"empty-message\">\n          No modulations. Add one to animate particle properties over lifetime.\n        </div>\n      </div>\n    </div>\n\n    <!-- Render Options -->\n    <div class=\"property-section\">\n      <div class=\"section-header\" @click=\"toggleSection('render')\">\n        <i class=\"pi\" :class=\"expandedSections.has('render') ? 'pi-chevron-down' : 'pi-chevron-right'\" />\n        <span>Render Options</span>\n      </div>\n      <div v-if=\"expandedSections.has('render')\" class=\"section-content\">\n        <div class=\"property-row\">\n          <label>Blend Mode</label>\n          <select\n            :value=\"renderOptions.blendMode\"\n            @change=\"updateRenderOption('blendMode', ($event.target as HTMLSelectElement).value)\"\n          >\n            <option value=\"normal\">Normal</option>\n            <option value=\"additive\">Additive</option>\n            <option value=\"multiply\">Multiply</option>\n            <option value=\"screen\">Screen</option>\n          </select>\n        </div>\n        <div class=\"property-row\">\n          <label>Shape</label>\n          <select\n            :value=\"renderOptions.particleShape\"\n            @change=\"updateRenderOption('particleShape', ($event.target as HTMLSelectElement).value)\"\n          >\n            <option value=\"circle\">Circle</option>\n            <option value=\"square\">Square</option>\n            <option value=\"triangle\">Triangle</option>\n            <option value=\"star\">Star</option>\n          </select>\n        </div>\n        <div class=\"property-row checkbox-row\">\n          <label>\n            <input\n              type=\"checkbox\"\n              :checked=\"renderOptions.renderTrails\"\n              @change=\"updateRenderOption('renderTrails', ($event.target as HTMLInputElement).checked)\"\n            />\n            Render Trails\n          </label>\n        </div>\n        <div v-if=\"renderOptions.renderTrails\" class=\"property-row\">\n          <label>Trail Length</label>\n          <input\n            type=\"range\"\n            :value=\"renderOptions.trailLength\"\n            min=\"1\"\n            max=\"20\"\n            step=\"1\"\n            @input=\"updateRenderOption('trailLength', Number(($event.target as HTMLInputElement).value))\"\n          />\n          <span class=\"value-display\">{{ renderOptions.trailLength }}</span>\n        </div>\n        <div class=\"property-row checkbox-row\">\n          <label>\n            <input\n              type=\"checkbox\"\n              :checked=\"renderOptions.glowEnabled\"\n              @change=\"updateRenderOption('glowEnabled', ($event.target as HTMLInputElement).checked)\"\n            />\n            Enable Glow\n          </label>\n        </div>\n        <div v-if=\"renderOptions.glowEnabled\" class=\"property-row\">\n          <label>Glow Radius</label>\n          <input\n            type=\"range\"\n            :value=\"renderOptions.glowRadius\"\n            min=\"1\"\n            max=\"50\"\n            step=\"1\"\n            @input=\"updateRenderOption('glowRadius', Number(($event.target as HTMLInputElement).value))\"\n          />\n          <span class=\"value-display\">{{ renderOptions.glowRadius }}px</span>\n        </div>\n        <div v-if=\"renderOptions.glowEnabled\" class=\"property-row\">\n          <label>Glow Intensity</label>\n          <input\n            type=\"range\"\n            :value=\"renderOptions.glowIntensity\"\n            min=\"0\"\n            max=\"1\"\n            step=\"0.05\"\n            @input=\"updateRenderOption('glowIntensity', Number(($event.target as HTMLInputElement).value))\"\n          />\n          <span class=\"value-display\">{{ renderOptions.glowIntensity.toFixed(2) }}</span>\n        </div>\n\n        <!-- Particle Connections -->\n        <div class=\"subsection-divider\">Particle Connections</div>\n        <div class=\"property-row checkbox-row\">\n          <label>\n            <input\n              type=\"checkbox\"\n              :checked=\"connections.enabled\"\n              @change=\"updateConnection('enabled', ($event.target as HTMLInputElement).checked)\"\n            />\n            Enable Connections\n          </label>\n        </div>\n        <div v-if=\"connections.enabled\" class=\"property-row\">\n          <label>Max Distance</label>\n          <input\n            type=\"range\"\n            :value=\"connections.maxDistance\"\n            min=\"10\"\n            max=\"300\"\n            step=\"10\"\n            @input=\"updateConnection('maxDistance', Number(($event.target as HTMLInputElement).value))\"\n          />\n          <span class=\"value-display\">{{ connections.maxDistance }}px</span>\n        </div>\n        <div v-if=\"connections.enabled\" class=\"property-row\">\n          <label>Max Connections</label>\n          <input\n            type=\"range\"\n            :value=\"connections.maxConnections\"\n            min=\"1\"\n            max=\"5\"\n            step=\"1\"\n            @input=\"updateConnection('maxConnections', Number(($event.target as HTMLInputElement).value))\"\n          />\n          <span class=\"value-display\">{{ connections.maxConnections }}</span>\n        </div>\n        <div v-if=\"connections.enabled\" class=\"property-row\">\n          <label>Line Width</label>\n          <input\n            type=\"range\"\n            :value=\"connections.lineWidth\"\n            min=\"0.5\"\n            max=\"3\"\n            step=\"0.1\"\n            @input=\"updateConnection('lineWidth', Number(($event.target as HTMLInputElement).value))\"\n          />\n          <span class=\"value-display\">{{ connections.lineWidth.toFixed(1) }}</span>\n        </div>\n        <div v-if=\"connections.enabled\" class=\"property-row\">\n          <label>Line Opacity</label>\n          <input\n            type=\"range\"\n            :value=\"connections.lineOpacity\"\n            min=\"0\"\n            max=\"1\"\n            step=\"0.05\"\n            @input=\"updateConnection('lineOpacity', Number(($event.target as HTMLInputElement).value))\"\n          />\n          <span class=\"value-display\">{{ connections.lineOpacity.toFixed(2) }}</span>\n        </div>\n        <div v-if=\"connections.enabled\" class=\"property-row checkbox-row\">\n          <label>\n            <input\n              type=\"checkbox\"\n              :checked=\"connections.fadeByDistance\"\n              @change=\"updateConnection('fadeByDistance', ($event.target as HTMLInputElement).checked)\"\n            />\n            Fade by Distance\n          </label>\n        </div>\n      </div>\n    </div>\n\n    <!-- Particle Count Display -->\n    <div class=\"particle-count\">\n      <i class=\"pi pi-circle-fill\" />\n      <span>{{ particleCount }} particles</span>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from 'vue';\nimport type {\n  Layer,\n  ParticleLayerData,\n  ParticleSystemLayerConfig,\n  ParticleEmitterConfig,\n  GravityWellConfig,\n  VortexConfig,\n  ParticleModulationConfig,\n  ParticleRenderOptions,\n  TurbulenceFieldConfig,\n  SubEmitterConfig,\n  ConnectionRenderConfig\n} from '@/types/project';\n\ninterface Props {\n  layer: Layer;\n  particleCount?: number;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  particleCount: 0\n});\n\nconst emit = defineEmits<{\n  (e: 'update', data: Partial<ParticleLayerData>): void;\n}>();\n\n// UI State\nconst expandedSections = ref(new Set(['system', 'emitters']));\nconst expandedEmitters = ref(new Set<string>());\nconst forceTab = ref<'wells' | 'vortices'>('wells');\n\n// Get layer data with defaults\nconst layerData = computed((): ParticleLayerData => {\n  const data = props.layer.data as ParticleLayerData | null;\n  return data || {\n    systemConfig: {\n      maxParticles: 10000,\n      gravity: 0,\n      windStrength: 0,\n      windDirection: 0,\n      warmupPeriod: 0,\n      respectMaskBoundary: false,\n      boundaryBehavior: 'kill',\n      friction: 0.01\n    },\n    emitters: [],\n    gravityWells: [],\n    vortices: [],\n    modulations: [],\n    renderOptions: {\n      blendMode: 'additive',\n      renderTrails: false,\n      trailLength: 5,\n      trailOpacityFalloff: 0.7,\n      particleShape: 'circle',\n      glowEnabled: false,\n      glowRadius: 10,\n      glowIntensity: 0.5,\n      motionBlur: false,\n      motionBlurStrength: 0.5,\n      motionBlurSamples: 8,\n      connections: {\n        enabled: false,\n        maxDistance: 100,\n        maxConnections: 3,\n        lineWidth: 1,\n        lineOpacity: 0.5,\n        fadeByDistance: true\n      }\n    },\n    turbulenceFields: [],\n    subEmitters: []\n  };\n});\n\nconst systemConfig = computed(() => layerData.value.systemConfig);\nconst emitters = computed(() => layerData.value.emitters);\nconst gravityWells = computed(() => layerData.value.gravityWells);\nconst vortices = computed(() => layerData.value.vortices);\nconst modulations = computed(() => layerData.value.modulations);\nconst renderOptions = computed(() => layerData.value.renderOptions);\nconst turbulenceFields = computed(() => layerData.value.turbulenceFields || []);\nconst subEmitters = computed(() => layerData.value.subEmitters || []);\nconst connections = computed(() => renderOptions.value.connections || {\n  enabled: false,\n  maxDistance: 100,\n  maxConnections: 3,\n  lineWidth: 1,\n  lineOpacity: 0.5,\n  fadeByDistance: true\n});\nconst particleCount = computed(() => props.particleCount);\n\n// Section toggle\nfunction toggleSection(section: string): void {\n  if (expandedSections.value.has(section)) {\n    expandedSections.value.delete(section);\n  } else {\n    expandedSections.value.add(section);\n  }\n}\n\nfunction toggleEmitter(id: string): void {\n  if (expandedEmitters.value.has(id)) {\n    expandedEmitters.value.delete(id);\n  } else {\n    expandedEmitters.value.add(id);\n  }\n}\n\n// Update functions\nfunction updateSystemConfig(key: keyof ParticleSystemLayerConfig, value: any): void {\n  emit('update', {\n    systemConfig: { ...systemConfig.value, [key]: value }\n  });\n}\n\nfunction updateEmitter(id: string, key: keyof ParticleEmitterConfig, value: any): void {\n  const updated = emitters.value.map(e =>\n    e.id === id ? { ...e, [key]: value } : e\n  );\n  emit('update', { emitters: updated });\n}\n\nfunction updateEmitterColor(id: string, hex: string): void {\n  const rgb = hexToRgb(hex);\n  updateEmitter(id, 'color', rgb);\n}\n\nfunction addEmitter(): void {\n  const newEmitter: ParticleEmitterConfig = {\n    id: `emitter_${Date.now()}`,\n    name: `Emitter ${emitters.value.length + 1}`,\n    x: 0.5,\n    y: 0.5,\n    direction: 270,\n    spread: 30,\n    speed: 330,\n    speedVariance: 50,\n    size: 17,\n    sizeVariance: 5,\n    color: [255, 255, 255],\n    emissionRate: 10,\n    initialBurst: 0,\n    particleLifetime: 60,\n    lifetimeVariance: 10,\n    enabled: true,\n    burstOnBeat: false,\n    burstCount: 20\n  };\n  emit('update', { emitters: [...emitters.value, newEmitter] });\n  expandedEmitters.value.add(newEmitter.id);\n}\n\nfunction removeEmitter(id: string): void {\n  emit('update', { emitters: emitters.value.filter(e => e.id !== id) });\n}\n\nfunction updateGravityWell(id: string, key: keyof GravityWellConfig, value: any): void {\n  const updated = gravityWells.value.map(w =>\n    w.id === id ? { ...w, [key]: value } : w\n  );\n  emit('update', { gravityWells: updated });\n}\n\nfunction addGravityWell(): void {\n  const newWell: GravityWellConfig = {\n    id: `well_${Date.now()}`,\n    name: `Gravity Well ${gravityWells.value.length + 1}`,\n    x: 0.5,\n    y: 0.5,\n    strength: 100,\n    radius: 0.3,\n    falloff: 'quadratic',\n    enabled: true\n  };\n  emit('update', { gravityWells: [...gravityWells.value, newWell] });\n}\n\nfunction removeGravityWell(id: string): void {\n  emit('update', { gravityWells: gravityWells.value.filter(w => w.id !== id) });\n}\n\nfunction updateVortex(id: string, key: keyof VortexConfig, value: any): void {\n  const updated = vortices.value.map(v =>\n    v.id === id ? { ...v, [key]: value } : v\n  );\n  emit('update', { vortices: updated });\n}\n\nfunction addVortex(): void {\n  const newVortex: VortexConfig = {\n    id: `vortex_${Date.now()}`,\n    name: `Vortex ${vortices.value.length + 1}`,\n    x: 0.5,\n    y: 0.5,\n    strength: 200,\n    radius: 0.3,\n    rotationSpeed: 5,\n    inwardPull: 10,\n    enabled: true\n  };\n  emit('update', { vortices: [...vortices.value, newVortex] });\n}\n\nfunction removeVortex(id: string): void {\n  emit('update', { vortices: vortices.value.filter(v => v.id !== id) });\n}\n\nfunction updateModulation(id: string, key: keyof ParticleModulationConfig, value: any): void {\n  const updated = modulations.value.map(m =>\n    m.id === id ? { ...m, [key]: value } : m\n  );\n  emit('update', { modulations: updated });\n}\n\nfunction addModulation(): void {\n  const newMod: ParticleModulationConfig = {\n    id: `mod_${Date.now()}`,\n    emitterId: '*',\n    property: 'opacity',\n    startValue: 1,\n    endValue: 0,\n    easing: 'linear'\n  };\n  emit('update', { modulations: [...modulations.value, newMod] });\n}\n\nfunction removeModulation(id: string): void {\n  emit('update', { modulations: modulations.value.filter(m => m.id !== id) });\n}\n\nfunction updateRenderOption(key: keyof ParticleRenderOptions, value: any): void {\n  emit('update', {\n    renderOptions: { ...renderOptions.value, [key]: value }\n  });\n}\n\n// Connection functions\nfunction updateConnection(key: keyof ConnectionRenderConfig, value: any): void {\n  emit('update', {\n    renderOptions: {\n      ...renderOptions.value,\n      connections: { ...connections.value, [key]: value }\n    }\n  });\n}\n\n// Turbulence functions\nfunction updateTurbulence(id: string, key: keyof TurbulenceFieldConfig, value: any): void {\n  const updated = turbulenceFields.value.map(t =>\n    t.id === id ? { ...t, [key]: value } : t\n  );\n  emit('update', { turbulenceFields: updated });\n}\n\nfunction addTurbulence(): void {\n  const newTurb: TurbulenceFieldConfig = {\n    id: `turb_${Date.now()}`,\n    enabled: true,\n    scale: 0.005,\n    strength: 100,\n    evolutionSpeed: 0.1\n  };\n  emit('update', { turbulenceFields: [...turbulenceFields.value, newTurb] });\n}\n\nfunction removeTurbulence(id: string): void {\n  emit('update', { turbulenceFields: turbulenceFields.value.filter(t => t.id !== id) });\n}\n\n// Sub-emitter functions\nfunction updateSubEmitter(id: string, key: keyof SubEmitterConfig, value: any): void {\n  const updated = subEmitters.value.map(s =>\n    s.id === id ? { ...s, [key]: value } : s\n  );\n  emit('update', { subEmitters: updated });\n}\n\nfunction updateSubEmitterColor(id: string, hex: string): void {\n  const rgb = hexToRgb(hex);\n  updateSubEmitter(id, 'color', rgb);\n}\n\nfunction addSubEmitter(): void {\n  const newSub: SubEmitterConfig = {\n    id: `sub_${Date.now()}`,\n    parentEmitterId: '*',\n    trigger: 'death',\n    spawnCount: 3,\n    inheritVelocity: 0.5,\n    size: 5,\n    sizeVariance: 2,\n    lifetime: 30,\n    speed: 50,\n    spread: 360,\n    color: [255, 200, 100],\n    enabled: true\n  };\n  emit('update', { subEmitters: [...subEmitters.value, newSub] });\n}\n\nfunction removeSubEmitter(id: string): void {\n  emit('update', { subEmitters: subEmitters.value.filter(s => s.id !== id) });\n}\n\n// Color utilities\nfunction rgbToHex(rgb: [number, number, number]): string {\n  return '#' + rgb.map(c => c.toString(16).padStart(2, '0')).join('');\n}\n\nfunction hexToRgb(hex: string): [number, number, number] {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result\n    ? [parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)]\n    : [255, 255, 255];\n}\n</script>\n\n<style scoped>\n.particle-properties {\n  font-size: 12px;\n}\n\n.property-section {\n  border-bottom: 1px solid #333;\n}\n\n.section-header {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 8px;\n  cursor: pointer;\n  background: #2d2d2d;\n  font-weight: 500;\n}\n\n.section-header:hover {\n  background: #333;\n}\n\n.section-header i {\n  font-size: 10px;\n  width: 14px;\n}\n\n.section-header .add-btn {\n  margin-left: auto;\n  padding: 2px 6px;\n  border: none;\n  background: transparent;\n  color: #888;\n  cursor: pointer;\n}\n\n.section-header .add-btn:hover {\n  color: #4a90d9;\n}\n\n.section-content {\n  padding: 8px;\n  background: #252525;\n}\n\n.property-row {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-bottom: 8px;\n}\n\n.property-row label {\n  width: 90px;\n  flex-shrink: 0;\n  color: #888;\n  font-size: 11px;\n}\n\n.property-row input[type=\"range\"] {\n  flex: 1;\n  min-width: 60px;\n}\n\n.property-row input[type=\"number\"],\n.property-row input[type=\"text\"],\n.property-row select {\n  flex: 1;\n  padding: 4px 6px;\n  border: 1px solid #3d3d3d;\n  background: #1e1e1e;\n  color: #e0e0e0;\n  border-radius: 3px;\n  font-size: 11px;\n}\n\n.property-row input[type=\"color\"] {\n  width: 40px;\n  height: 24px;\n  padding: 0;\n  border: 1px solid #3d3d3d;\n  border-radius: 3px;\n}\n\n.value-display {\n  width: 50px;\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n  color: #aaa;\n  font-size: 10px;\n}\n\n.checkbox-row label {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  width: auto;\n  cursor: pointer;\n}\n\n.emitter-item,\n.force-item,\n.modulation-item {\n  background: #1e1e1e;\n  border-radius: 4px;\n  margin-bottom: 8px;\n  overflow: hidden;\n}\n\n.emitter-header,\n.force-header,\n.modulation-header {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 6px 8px;\n  background: #2a2a2a;\n  cursor: pointer;\n}\n\n.emitter-header i {\n  font-size: 10px;\n  color: #666;\n}\n\n.emitter-name,\n.force-name {\n  flex: 1;\n  padding: 2px 4px;\n  border: 1px solid transparent;\n  background: transparent;\n  color: #e0e0e0;\n  font-size: 11px;\n}\n\n.emitter-name:focus,\n.force-name:focus {\n  border-color: #4a90d9;\n  background: #1e1e1e;\n  outline: none;\n}\n\n.enabled-toggle {\n  display: flex;\n  align-items: center;\n}\n\n.enabled-toggle input {\n  margin: 0;\n}\n\n.remove-btn {\n  padding: 2px 6px;\n  border: none;\n  background: transparent;\n  color: #666;\n  cursor: pointer;\n}\n\n.remove-btn:hover {\n  color: #e55;\n}\n\n.emitter-content {\n  padding: 8px;\n}\n\n.force-tabs {\n  display: flex;\n  gap: 4px;\n  margin-bottom: 8px;\n}\n\n.force-tabs button {\n  flex: 1;\n  padding: 6px;\n  border: 1px solid #3d3d3d;\n  background: #1e1e1e;\n  color: #888;\n  border-radius: 3px;\n  font-size: 11px;\n  cursor: pointer;\n}\n\n.force-tabs button.active {\n  background: #4a90d9;\n  border-color: #4a90d9;\n  color: #fff;\n}\n\n.force-list {\n  max-height: 300px;\n  overflow-y: auto;\n}\n\n.add-btn.full-width {\n  width: 100%;\n  padding: 8px;\n  margin-bottom: 8px;\n  border: 1px dashed #3d3d3d;\n  background: transparent;\n  color: #888;\n  border-radius: 4px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n}\n\n.add-btn.full-width:hover {\n  border-color: #4a90d9;\n  color: #4a90d9;\n}\n\n.empty-message {\n  padding: 12px;\n  text-align: center;\n  color: #666;\n  font-style: italic;\n}\n\n.particle-count {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 8px 12px;\n  background: #2d2d2d;\n  color: #888;\n  font-size: 11px;\n}\n\n.particle-count i {\n  font-size: 8px;\n  color: #4a90d9;\n}\n\n.subsection-divider {\n  margin: 12px 0 8px;\n  padding: 6px 0;\n  border-top: 1px solid #3d3d3d;\n  font-size: 11px;\n  color: #888;\n  font-weight: 500;\n}\n\n.force-label {\n  flex: 1;\n  font-size: 11px;\n  color: #aaa;\n}\n\n.sub-emitter-parent {\n  flex: 1;\n  padding: 2px 4px;\n  border: 1px solid #3d3d3d;\n  background: #1e1e1e;\n  color: #e0e0e0;\n  border-radius: 3px;\n  font-size: 11px;\n}\n</style>\n","<template>\n  <div class=\"depthflow-properties\">\n    <!-- Source Selection -->\n    <div class=\"property-section\">\n      <div class=\"section-header\" @click=\"toggleSection('source')\">\n        <i class=\"pi\" :class=\"expandedSections.has('source') ? 'pi-chevron-down' : 'pi-chevron-right'\" />\n        <span>Source Selection</span>\n      </div>\n      <div v-if=\"expandedSections.has('source')\" class=\"section-content\">\n        <div class=\"property-row\">\n          <label>Source Layer</label>\n          <select\n            :value=\"config.sourceLayerId\"\n            @change=\"updateConfig('sourceLayerId', ($event.target as HTMLSelectElement).value)\"\n          >\n            <option value=\"\">Select source...</option>\n            <option\n              v-for=\"layer in imageLayers\"\n              :key=\"layer.id\"\n              :value=\"layer.id\"\n            >\n              {{ layer.name }}\n            </option>\n          </select>\n        </div>\n        <div class=\"property-row\">\n          <label>Depth Layer</label>\n          <select\n            :value=\"config.depthLayerId\"\n            @change=\"updateConfig('depthLayerId', ($event.target as HTMLSelectElement).value)\"\n          >\n            <option value=\"\">Select depth map...</option>\n            <option\n              v-for=\"layer in depthLayers\"\n              :key=\"layer.id\"\n              :value=\"layer.id\"\n            >\n              {{ layer.name }}\n            </option>\n          </select>\n        </div>\n      </div>\n    </div>\n\n    <!-- Motion Preset -->\n    <div class=\"property-section\">\n      <div class=\"section-header\" @click=\"toggleSection('preset')\">\n        <i class=\"pi\" :class=\"expandedSections.has('preset') ? 'pi-chevron-down' : 'pi-chevron-right'\" />\n        <span>Motion Preset</span>\n      </div>\n      <div v-if=\"expandedSections.has('preset')\" class=\"section-content\">\n        <div class=\"preset-grid\">\n          <button\n            v-for=\"preset in presets\"\n            :key=\"preset.value\"\n            class=\"preset-btn\"\n            :class=\"{ active: depthflowConfig.preset === preset.value }\"\n            @click=\"selectPreset(preset.value)\"\n          >\n            <i :class=\"preset.icon\" />\n            <span>{{ preset.label }}</span>\n          </button>\n        </div>\n        <div class=\"property-row\" v-if=\"depthflowConfig.preset !== 'static'\">\n          <label>Intensity</label>\n          <input\n            type=\"range\"\n            :value=\"presetIntensity\"\n            min=\"0.1\"\n            max=\"2\"\n            step=\"0.1\"\n            @input=\"updatePresetIntensity(Number(($event.target as HTMLInputElement).value))\"\n          />\n          <span class=\"value-display\">{{ presetIntensity.toFixed(1) }}x</span>\n        </div>\n      </div>\n    </div>\n\n    <!-- Camera Controls -->\n    <div class=\"property-section\">\n      <div class=\"section-header\" @click=\"toggleSection('camera')\">\n        <i class=\"pi\" :class=\"expandedSections.has('camera') ? 'pi-chevron-down' : 'pi-chevron-right'\" />\n        <span>Camera Controls</span>\n      </div>\n      <div v-if=\"expandedSections.has('camera')\" class=\"section-content\">\n        <div class=\"property-row\">\n          <label>Zoom</label>\n          <KeyframeToggle\n            v-if=\"config.animatedZoom\"\n            :property=\"config.animatedZoom\"\n            :layer-id=\"layer.id\"\n          />\n          <input\n            type=\"range\"\n            :value=\"depthflowConfig.zoom\"\n            min=\"0.5\"\n            max=\"2\"\n            step=\"0.01\"\n            @input=\"updateDepthflowConfig('zoom', Number(($event.target as HTMLInputElement).value))\"\n          />\n          <span class=\"value-display\">{{ depthflowConfig.zoom.toFixed(2) }}</span>\n        </div>\n        <div class=\"property-row\">\n          <label>Offset X</label>\n          <KeyframeToggle\n            v-if=\"config.animatedOffsetX\"\n            :property=\"config.animatedOffsetX\"\n            :layer-id=\"layer.id\"\n          />\n          <input\n            type=\"range\"\n            :value=\"depthflowConfig.offsetX\"\n            min=\"-1\"\n            max=\"1\"\n            step=\"0.01\"\n            @input=\"updateDepthflowConfig('offsetX', Number(($event.target as HTMLInputElement).value))\"\n          />\n          <span class=\"value-display\">{{ depthflowConfig.offsetX.toFixed(2) }}</span>\n        </div>\n        <div class=\"property-row\">\n          <label>Offset Y</label>\n          <KeyframeToggle\n            v-if=\"config.animatedOffsetY\"\n            :property=\"config.animatedOffsetY\"\n            :layer-id=\"layer.id\"\n          />\n          <input\n            type=\"range\"\n            :value=\"depthflowConfig.offsetY\"\n            min=\"-1\"\n            max=\"1\"\n            step=\"0.01\"\n            @input=\"updateDepthflowConfig('offsetY', Number(($event.target as HTMLInputElement).value))\"\n          />\n          <span class=\"value-display\">{{ depthflowConfig.offsetY.toFixed(2) }}</span>\n        </div>\n        <div class=\"property-row\">\n          <label>Rotation</label>\n          <KeyframeToggle\n            v-if=\"config.animatedRotation\"\n            :property=\"config.animatedRotation\"\n            :layer-id=\"layer.id\"\n          />\n          <input\n            type=\"range\"\n            :value=\"depthflowConfig.rotation\"\n            min=\"-180\"\n            max=\"180\"\n            step=\"1\"\n            @input=\"updateDepthflowConfig('rotation', Number(($event.target as HTMLInputElement).value))\"\n          />\n          <span class=\"value-display\">{{ depthflowConfig.rotation }}</span>\n        </div>\n      </div>\n    </div>\n\n    <!-- Depth Settings -->\n    <div class=\"property-section\">\n      <div class=\"section-header\" @click=\"toggleSection('depth')\">\n        <i class=\"pi\" :class=\"expandedSections.has('depth') ? 'pi-chevron-down' : 'pi-chevron-right'\" />\n        <span>Depth Settings</span>\n      </div>\n      <div v-if=\"expandedSections.has('depth')\" class=\"section-content\">\n        <div class=\"property-row\">\n          <label>Depth Scale</label>\n          <KeyframeToggle\n            v-if=\"config.animatedDepthScale\"\n            :property=\"config.animatedDepthScale\"\n            :layer-id=\"layer.id\"\n          />\n          <input\n            type=\"range\"\n            :value=\"depthflowConfig.depthScale\"\n            min=\"0\"\n            max=\"2\"\n            step=\"0.05\"\n            @input=\"updateDepthflowConfig('depthScale', Number(($event.target as HTMLInputElement).value))\"\n          />\n          <span class=\"value-display\">{{ depthflowConfig.depthScale.toFixed(2) }}</span>\n        </div>\n        <div class=\"property-row\">\n          <label>Focus Depth</label>\n          <input\n            type=\"range\"\n            :value=\"depthflowConfig.focusDepth\"\n            min=\"0\"\n            max=\"1\"\n            step=\"0.01\"\n            @input=\"updateDepthflowConfig('focusDepth', Number(($event.target as HTMLInputElement).value))\"\n          />\n          <span class=\"value-display\">{{ depthflowConfig.focusDepth.toFixed(2) }}</span>\n        </div>\n        <div class=\"depth-hint\">\n          Objects at focus depth stay stationary.<br/>\n          Closer objects move more, distant objects move less.\n        </div>\n      </div>\n    </div>\n\n    <!-- Preset-Specific Settings -->\n    <div\n      v-if=\"showPresetSettings\"\n      class=\"property-section\"\n    >\n      <div class=\"section-header\" @click=\"toggleSection('presetSettings')\">\n        <i class=\"pi\" :class=\"expandedSections.has('presetSettings') ? 'pi-chevron-down' : 'pi-chevron-right'\" />\n        <span>{{ presetSettingsTitle }}</span>\n      </div>\n      <div v-if=\"expandedSections.has('presetSettings')\" class=\"section-content\">\n        <!-- Circle/Orbit settings -->\n        <template v-if=\"isOrbitPreset\">\n          <div class=\"property-row\">\n            <label>Orbit Radius</label>\n            <input\n              type=\"range\"\n              :value=\"depthflowConfig.orbitRadius\"\n              min=\"0.01\"\n              max=\"0.5\"\n              step=\"0.01\"\n              @input=\"updateDepthflowConfig('orbitRadius', Number(($event.target as HTMLInputElement).value))\"\n            />\n            <span class=\"value-display\">{{ depthflowConfig.orbitRadius.toFixed(2) }}</span>\n          </div>\n          <div class=\"property-row\">\n            <label>Orbit Speed</label>\n            <input\n              type=\"range\"\n              :value=\"depthflowConfig.orbitSpeed\"\n              min=\"1\"\n              max=\"720\"\n              step=\"1\"\n              @input=\"updateDepthflowConfig('orbitSpeed', Number(($event.target as HTMLInputElement).value))\"\n            />\n            <span class=\"value-display\">{{ depthflowConfig.orbitSpeed }}</span>\n          </div>\n        </template>\n\n        <!-- Swing settings -->\n        <template v-if=\"isSwingPreset\">\n          <div class=\"property-row\">\n            <label>Amplitude</label>\n            <input\n              type=\"range\"\n              :value=\"depthflowConfig.swingAmplitude\"\n              min=\"0.01\"\n              max=\"0.5\"\n              step=\"0.01\"\n              @input=\"updateDepthflowConfig('swingAmplitude', Number(($event.target as HTMLInputElement).value))\"\n            />\n            <span class=\"value-display\">{{ depthflowConfig.swingAmplitude.toFixed(2) }}</span>\n          </div>\n          <div class=\"property-row\">\n            <label>Frequency</label>\n            <input\n              type=\"range\"\n              :value=\"depthflowConfig.swingFrequency\"\n              min=\"0.1\"\n              max=\"5\"\n              step=\"0.1\"\n              @input=\"updateDepthflowConfig('swingFrequency', Number(($event.target as HTMLInputElement).value))\"\n            />\n            <span class=\"value-display\">{{ depthflowConfig.swingFrequency.toFixed(1) }} Hz</span>\n          </div>\n        </template>\n\n        <!-- Dolly zoom settings -->\n        <template v-if=\"isDollyPreset\">\n          <div class=\"property-row\">\n            <label>Dolly Rate</label>\n            <input\n              type=\"range\"\n              :value=\"depthflowConfig.dollyZoom\"\n              min=\"0\"\n              max=\"1\"\n              step=\"0.05\"\n              @input=\"updateDepthflowConfig('dollyZoom', Number(($event.target as HTMLInputElement).value))\"\n            />\n            <span class=\"value-display\">{{ depthflowConfig.dollyZoom.toFixed(2) }}</span>\n          </div>\n        </template>\n      </div>\n    </div>\n\n    <!-- Quality Settings -->\n    <div class=\"property-section\">\n      <div class=\"section-header\" @click=\"toggleSection('quality')\">\n        <i class=\"pi\" :class=\"expandedSections.has('quality') ? 'pi-chevron-down' : 'pi-chevron-right'\" />\n        <span>Quality</span>\n      </div>\n      <div v-if=\"expandedSections.has('quality')\" class=\"section-content\">\n        <div class=\"property-row\">\n          <label>Edge Dilation</label>\n          <input\n            type=\"range\"\n            :value=\"depthflowConfig.edgeDilation\"\n            min=\"0\"\n            max=\"50\"\n            step=\"1\"\n            @input=\"updateDepthflowConfig('edgeDilation', Number(($event.target as HTMLInputElement).value))\"\n          />\n          <span class=\"value-display\">{{ depthflowConfig.edgeDilation }}px</span>\n        </div>\n        <div class=\"property-row checkbox-row\">\n          <label>\n            <input\n              type=\"checkbox\"\n              :checked=\"depthflowConfig.inpaintEdges\"\n              @change=\"updateDepthflowConfig('inpaintEdges', ($event.target as HTMLInputElement).checked)\"\n            />\n            Inpaint Edges\n          </label>\n        </div>\n      </div>\n    </div>\n\n    <!-- Preview -->\n    <div class=\"property-section\">\n      <div class=\"section-header\" @click=\"toggleSection('preview')\">\n        <i class=\"pi\" :class=\"expandedSections.has('preview') ? 'pi-chevron-down' : 'pi-chevron-right'\" />\n        <span>Preview</span>\n      </div>\n      <div v-if=\"expandedSections.has('preview')\" class=\"section-content\">\n        <div class=\"preview-container\">\n          <canvas\n            ref=\"previewCanvas\"\n            class=\"preview-canvas\"\n            :width=\"previewSize\"\n            :height=\"previewSize\"\n          />\n        </div>\n        <div class=\"preview-controls\">\n          <button\n            class=\"preview-btn\"\n            :class=\"{ active: isPreviewPlaying }\"\n            @click=\"togglePreview\"\n          >\n            <i :class=\"isPreviewPlaying ? 'pi pi-pause' : 'pi pi-play'\" />\n            {{ isPreviewPlaying ? 'Pause' : 'Play' }}\n          </button>\n          <span class=\"frame-indicator\">\n            Frame {{ previewFrame }} / {{ totalFrames - 1 }}\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted, onUnmounted } from 'vue';\nimport type { Layer, DepthflowLayerData, DepthflowConfig, DepthflowPreset } from '@/types/project';\nimport { useCompositorStore } from '@/stores/compositorStore';\nimport KeyframeToggle from './KeyframeToggle.vue';\n\ninterface Props {\n  layer: Layer;\n}\n\nconst props = defineProps<Props>();\n\nconst emit = defineEmits<{\n  (e: 'update', data: Partial<DepthflowLayerData>): void;\n}>();\n\nconst store = useCompositorStore();\n\n// Refs\nconst previewCanvas = ref<HTMLCanvasElement | null>(null);\nconst isPreviewPlaying = ref(false);\nconst previewFrame = ref(0);\nconst previewAnimationId = ref<number | null>(null);\n\n// UI State\nconst expandedSections = ref(new Set(['source', 'preset', 'camera']));\nconst presetIntensity = ref(1.0);\nconst previewSize = 200;\n\n// Presets\nconst presets = [\n  { value: 'static' as DepthflowPreset, label: 'Static', icon: 'pi pi-stop' },\n  { value: 'zoom_in' as DepthflowPreset, label: 'Zoom In', icon: 'pi pi-search-plus' },\n  { value: 'zoom_out' as DepthflowPreset, label: 'Zoom Out', icon: 'pi pi-search-minus' },\n  { value: 'dolly_zoom_in' as DepthflowPreset, label: 'Dolly In', icon: 'pi pi-video' },\n  { value: 'dolly_zoom_out' as DepthflowPreset, label: 'Dolly Out', icon: 'pi pi-video' },\n  { value: 'pan_left' as DepthflowPreset, label: 'Pan Left', icon: 'pi pi-arrow-left' },\n  { value: 'pan_right' as DepthflowPreset, label: 'Pan Right', icon: 'pi pi-arrow-right' },\n  { value: 'pan_up' as DepthflowPreset, label: 'Pan Up', icon: 'pi pi-arrow-up' },\n  { value: 'pan_down' as DepthflowPreset, label: 'Pan Down', icon: 'pi pi-arrow-down' },\n  { value: 'circle_cw' as DepthflowPreset, label: 'Circle CW', icon: 'pi pi-replay' },\n  { value: 'circle_ccw' as DepthflowPreset, label: 'Circle CCW', icon: 'pi pi-refresh' },\n  { value: 'horizontal_swing' as DepthflowPreset, label: 'H Swing', icon: 'pi pi-arrows-h' },\n  { value: 'vertical_swing' as DepthflowPreset, label: 'V Swing', icon: 'pi pi-arrows-v' },\n  { value: 'custom' as DepthflowPreset, label: 'Custom', icon: 'pi pi-sliders-h' }\n];\n\n// Computed\nconst config = computed((): DepthflowLayerData => {\n  const data = props.layer.data as DepthflowLayerData | null;\n  return data || {\n    sourceLayerId: '',\n    depthLayerId: '',\n    config: {\n      preset: 'static',\n      zoom: 1.0,\n      offsetX: 0,\n      offsetY: 0,\n      rotation: 0,\n      depthScale: 1.0,\n      focusDepth: 0.5,\n      dollyZoom: 0,\n      orbitRadius: 0.1,\n      orbitSpeed: 360,\n      swingAmplitude: 0.1,\n      swingFrequency: 1,\n      edgeDilation: 5,\n      inpaintEdges: true\n    }\n  };\n});\n\nconst depthflowConfig = computed(() => config.value.config);\nconst totalFrames = computed(() => store.frameCount);\n\nconst imageLayers = computed(() =>\n  store.layers.filter(l => l.type === 'image' || l.type === 'generated')\n);\n\nconst depthLayers = computed(() =>\n  store.layers.filter(l => l.type === 'depth' || l.type === 'generated')\n);\n\nconst isOrbitPreset = computed(() =>\n  ['circle_cw', 'circle_ccw'].includes(depthflowConfig.value.preset)\n);\n\nconst isSwingPreset = computed(() =>\n  ['horizontal_swing', 'vertical_swing'].includes(depthflowConfig.value.preset)\n);\n\nconst isDollyPreset = computed(() =>\n  ['dolly_zoom_in', 'dolly_zoom_out'].includes(depthflowConfig.value.preset)\n);\n\nconst showPresetSettings = computed(() =>\n  isOrbitPreset.value || isSwingPreset.value || isDollyPreset.value\n);\n\nconst presetSettingsTitle = computed(() => {\n  if (isOrbitPreset.value) return 'Orbit Settings';\n  if (isSwingPreset.value) return 'Swing Settings';\n  if (isDollyPreset.value) return 'Dolly Zoom Settings';\n  return 'Preset Settings';\n});\n\n// Methods\nfunction toggleSection(section: string): void {\n  if (expandedSections.value.has(section)) {\n    expandedSections.value.delete(section);\n  } else {\n    expandedSections.value.add(section);\n  }\n}\n\nfunction updateConfig(key: keyof DepthflowLayerData, value: any): void {\n  emit('update', { [key]: value });\n}\n\nfunction updateDepthflowConfig(key: keyof DepthflowConfig, value: any): void {\n  emit('update', {\n    config: { ...depthflowConfig.value, [key]: value }\n  });\n}\n\nfunction selectPreset(preset: DepthflowPreset): void {\n  updateDepthflowConfig('preset', preset);\n}\n\nfunction updatePresetIntensity(intensity: number): void {\n  presetIntensity.value = intensity;\n  // Apply intensity to relevant parameters based on preset\n  if (isOrbitPreset.value) {\n    updateDepthflowConfig('orbitRadius', 0.1 * intensity);\n  } else if (isSwingPreset.value) {\n    updateDepthflowConfig('swingAmplitude', 0.1 * intensity);\n  } else {\n    updateDepthflowConfig('depthScale', 1.0 * intensity);\n  }\n}\n\nfunction togglePreview(): void {\n  isPreviewPlaying.value = !isPreviewPlaying.value;\n\n  if (isPreviewPlaying.value) {\n    playPreview();\n  } else {\n    if (previewAnimationId.value !== null) {\n      cancelAnimationFrame(previewAnimationId.value);\n      previewAnimationId.value = null;\n    }\n  }\n}\n\nfunction playPreview(): void {\n  if (!isPreviewPlaying.value) return;\n\n  previewFrame.value = (previewFrame.value + 1) % totalFrames.value;\n  renderPreview();\n\n  previewAnimationId.value = requestAnimationFrame(() => {\n    setTimeout(playPreview, 1000 / store.fps);\n  });\n}\n\nfunction renderPreview(): void {\n  const canvas = previewCanvas.value;\n  if (!canvas) return;\n\n  const ctx = canvas.getContext('2d');\n  if (!ctx) return;\n\n  // Clear canvas\n  ctx.fillStyle = '#1e1e1e';\n  ctx.fillRect(0, 0, previewSize, previewSize);\n\n  // Draw placeholder preview\n  ctx.fillStyle = '#333';\n  ctx.fillRect(10, 10, previewSize - 20, previewSize - 20);\n\n  ctx.fillStyle = '#666';\n  ctx.font = '12px sans-serif';\n  ctx.textAlign = 'center';\n  ctx.fillText('Depthflow Preview', previewSize / 2, previewSize / 2);\n  ctx.fillText(`Frame ${previewFrame.value}`, previewSize / 2, previewSize / 2 + 16);\n}\n\n// Lifecycle\nonMounted(() => {\n  renderPreview();\n});\n\nonUnmounted(() => {\n  if (previewAnimationId.value !== null) {\n    cancelAnimationFrame(previewAnimationId.value);\n  }\n});\n</script>\n\n<style scoped>\n.depthflow-properties {\n  font-size: 12px;\n}\n\n.property-section {\n  border-bottom: 1px solid #333;\n}\n\n.section-header {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 8px;\n  cursor: pointer;\n  background: #2d2d2d;\n  font-weight: 500;\n}\n\n.section-header:hover {\n  background: #333;\n}\n\n.section-header i {\n  font-size: 10px;\n  width: 14px;\n}\n\n.section-content {\n  padding: 8px;\n  background: #252525;\n}\n\n.property-row {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-bottom: 8px;\n}\n\n.property-row label {\n  width: 80px;\n  flex-shrink: 0;\n  color: #888;\n  font-size: 11px;\n}\n\n.property-row input[type=\"range\"] {\n  flex: 1;\n  min-width: 60px;\n}\n\n.property-row select {\n  flex: 1;\n  padding: 4px 6px;\n  border: 1px solid #3d3d3d;\n  background: #1e1e1e;\n  color: #e0e0e0;\n  border-radius: 3px;\n  font-size: 11px;\n}\n\n.value-display {\n  width: 50px;\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n  color: #aaa;\n  font-size: 10px;\n}\n\n.checkbox-row label {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  width: auto;\n  cursor: pointer;\n}\n\n.preset-grid {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 4px;\n  margin-bottom: 8px;\n}\n\n.preset-btn {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 2px;\n  padding: 6px 4px;\n  border: 1px solid #3d3d3d;\n  background: #1e1e1e;\n  color: #888;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 9px;\n}\n\n.preset-btn i {\n  font-size: 14px;\n}\n\n.preset-btn:hover {\n  background: #333;\n  color: #fff;\n}\n\n.preset-btn.active {\n  background: rgba(74, 144, 217, 0.2);\n  border-color: #4a90d9;\n  color: #4a90d9;\n}\n\n.depth-hint {\n  padding: 8px;\n  background: #1e1e1e;\n  border-radius: 4px;\n  font-size: 10px;\n  color: #666;\n  line-height: 1.4;\n}\n\n.preview-container {\n  display: flex;\n  justify-content: center;\n  margin-bottom: 8px;\n}\n\n.preview-canvas {\n  border: 1px solid #3d3d3d;\n  border-radius: 4px;\n}\n\n.preview-controls {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.preview-btn {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  padding: 4px 12px;\n  border: 1px solid #3d3d3d;\n  background: #1e1e1e;\n  color: #aaa;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 11px;\n}\n\n.preview-btn:hover {\n  background: #333;\n  color: #fff;\n}\n\n.preview-btn.active {\n  background: #4a90d9;\n  border-color: #4a90d9;\n  color: #fff;\n}\n\n.frame-indicator {\n  font-size: 10px;\n  color: #666;\n  font-variant-numeric: tabular-nums;\n}\n</style>\n","<template>\n  <div class=\"properties-panel\">\n    <div class=\"panel-header\">\n      <span class=\"panel-title\">Properties</span>\n    </div>\n\n    <div class=\"panel-content\" v-if=\"selectedLayer\">\n      <!-- Layer Name -->\n      <div class=\"property-section\">\n        <div class=\"property-row\">\n          <input\n            type=\"text\"\n            v-model=\"layerName\"\n            class=\"layer-name-input\"\n            @blur=\"updateLayerName\"\n            @keydown.enter=\"($event.target as HTMLInputElement).blur()\"\n          />\n        </div>\n      </div>\n\n      <!-- Transform Section -->\n      <div class=\"property-section\">\n        <div\n          class=\"section-header\"\n          @click=\"toggleSection('transform')\"\n        >\n          <span class=\"expand-icon\">{{ expandedSections.includes('transform') ? '' : '' }}</span>\n          <span class=\"section-title\">Transform</span>\n        </div>\n\n        <div v-if=\"expandedSections.includes('transform')\" class=\"section-content\">\n          <div class=\"property-row\">\n            <label>Position</label>\n            <div class=\"multi-value\">\n              <ScrubableNumber\n                v-model=\"transform.position.x\"\n                :min=\"-10000\"\n                :max=\"10000\"\n                :precision=\"1\"\n                unit=\"px\"\n                @update:modelValue=\"updateTransform\"\n              />\n              <ScrubableNumber\n                v-model=\"transform.position.y\"\n                :min=\"-10000\"\n                :max=\"10000\"\n                :precision=\"1\"\n                unit=\"px\"\n                @update:modelValue=\"updateTransform\"\n              />\n            </div>\n            <button class=\"keyframe-btn\" :class=\"{ active: hasKeyframe('position') }\" @click=\"toggleKeyframe('position')\"></button>\n          </div>\n\n          <div class=\"property-row\">\n            <label>Scale</label>\n            <div class=\"multi-value\">\n              <ScrubableNumber\n                v-model=\"transform.scale.x\"\n                :min=\"0\"\n                :max=\"1000\"\n                :precision=\"1\"\n                unit=\"%\"\n                @update:modelValue=\"updateTransform\"\n              />\n              <button\n                class=\"link-btn\"\n                :class=\"{ active: scaleLocked }\"\n                @click=\"scaleLocked = !scaleLocked\"\n                title=\"Link scale values\"\n              >\n                \n              </button>\n              <ScrubableNumber\n                v-model=\"transform.scale.y\"\n                :min=\"0\"\n                :max=\"1000\"\n                :precision=\"1\"\n                unit=\"%\"\n                @update:modelValue=\"updateTransform\"\n              />\n            </div>\n            <button class=\"keyframe-btn\" :class=\"{ active: hasKeyframe('scale') }\" @click=\"toggleKeyframe('scale')\"></button>\n          </div>\n\n          <div class=\"property-row\">\n            <label>Rotation</label>\n            <div class=\"single-value\">\n              <ScrubableNumber\n                v-model=\"transform.rotation\"\n                :min=\"-180\"\n                :max=\"180\"\n                :precision=\"1\"\n                :wrap=\"true\"\n                unit=\"\"\n                @update:modelValue=\"updateTransform\"\n              />\n            </div>\n            <button class=\"keyframe-btn\" :class=\"{ active: hasKeyframe('rotation') }\" @click=\"toggleKeyframe('rotation')\"></button>\n          </div>\n\n          <div class=\"property-row\">\n            <label>Anchor Point</label>\n            <div class=\"multi-value\">\n              <ScrubableNumber\n                v-model=\"transform.anchorPoint.x\"\n                :min=\"-10000\"\n                :max=\"10000\"\n                :precision=\"1\"\n                unit=\"px\"\n                @update:modelValue=\"updateTransform\"\n              />\n              <ScrubableNumber\n                v-model=\"transform.anchorPoint.y\"\n                :min=\"-10000\"\n                :max=\"10000\"\n                :precision=\"1\"\n                unit=\"px\"\n                @update:modelValue=\"updateTransform\"\n              />\n            </div>\n            <button class=\"keyframe-btn\" :class=\"{ active: hasKeyframe('anchorPoint') }\" @click=\"toggleKeyframe('anchorPoint')\"></button>\n          </div>\n\n          <div class=\"property-row\">\n            <label>Opacity</label>\n            <div class=\"single-value\">\n              <SliderInput\n                v-model=\"transform.opacity\"\n                :min=\"0\"\n                :max=\"100\"\n                :precision=\"0\"\n                unit=\"%\"\n                @update:modelValue=\"updateTransform\"\n              />\n            </div>\n            <button class=\"keyframe-btn\" :class=\"{ active: hasKeyframe('opacity') }\" @click=\"toggleKeyframe('opacity')\"></button>\n          </div>\n        </div>\n      </div>\n\n      <!-- Blend Mode Section -->\n      <div class=\"property-section\">\n        <div class=\"property-row\">\n          <label>Blend Mode</label>\n          <select v-model=\"blendMode\" class=\"blend-select\" @change=\"updateBlendMode\">\n            <option v-for=\"mode in blendModes\" :key=\"mode.value\" :value=\"mode.value\">\n              {{ mode.label }}\n            </option>\n          </select>\n        </div>\n      </div>\n\n      <!-- Effects Section -->\n      <div v-if=\"effects.length > 0\" class=\"property-section\">\n        <div\n          class=\"section-header\"\n          @click=\"toggleSection('effects')\"\n        >\n          <span class=\"expand-icon\">{{ expandedSections.includes('effects') ? '' : '' }}</span>\n          <span class=\"section-title\">Effects</span>\n          <span class=\"effect-count\">{{ effects.length }}</span>\n        </div>\n\n        <div v-if=\"expandedSections.includes('effects')\" class=\"section-content\">\n          <div\n            v-for=\"(effect, index) in effects\"\n            :key=\"effect.id\"\n            class=\"effect-item\"\n          >\n            <div class=\"effect-header\">\n              <input\n                type=\"checkbox\"\n                :checked=\"effect.enabled\"\n                @change=\"toggleEffect(index)\"\n                class=\"effect-toggle\"\n              />\n              <span class=\"effect-name\">{{ effect.name }}</span>\n              <button class=\"effect-delete\" @click=\"removeEffect(index)\"></button>\n            </div>\n            <!-- Effect parameters would go here -->\n          </div>\n        </div>\n      </div>\n\n      <!-- Layer-specific properties -->\n      <component\n        v-if=\"layerPropertiesComponent\"\n        :is=\"layerPropertiesComponent\"\n        :layer=\"selectedLayer\"\n        @update=\"onLayerUpdate\"\n      />\n    </div>\n\n    <!-- No Selection -->\n    <div v-else class=\"empty-state\">\n      <p>No layer selected</p>\n      <p class=\"hint\">Select a layer to edit its properties</p>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch, markRaw, type Component } from 'vue';\nimport { useCompositorStore } from '@/stores/compositorStore';\nimport { ScrubableNumber, SliderInput } from '@/components/controls';\n\n// Layer-specific property panels\nimport TextProperties from '@/components/properties/TextProperties.vue';\nimport ParticleProperties from '@/components/properties/ParticleProperties.vue';\nimport DepthflowProperties from '@/components/properties/DepthflowProperties.vue';\n\nconst store = useCompositorStore();\n\n// State\nconst expandedSections = ref<string[]>(['transform']);\nconst scaleLocked = ref(true);\n\nconst layerName = ref('');\nconst transform = ref({\n  position: { x: 0, y: 0 },\n  scale: { x: 100, y: 100 },\n  rotation: 0,\n  anchorPoint: { x: 0, y: 0 },\n  opacity: 100\n});\nconst blendMode = ref('normal');\nconst effects = ref<any[]>([]);\nconst keyframes = ref<string[]>([]);\n\n// Blend modes\nconst blendModes = [\n  { label: 'Normal', value: 'normal' },\n  { label: 'Multiply', value: 'multiply' },\n  { label: 'Screen', value: 'screen' },\n  { label: 'Overlay', value: 'overlay' },\n  { label: 'Soft Light', value: 'soft-light' },\n  { label: 'Hard Light', value: 'hard-light' },\n  { label: 'Color Dodge', value: 'color-dodge' },\n  { label: 'Color Burn', value: 'color-burn' },\n  { label: 'Darken', value: 'darken' },\n  { label: 'Lighten', value: 'lighten' },\n  { label: 'Difference', value: 'difference' },\n  { label: 'Exclusion', value: 'exclusion' },\n  { label: 'Hue', value: 'hue' },\n  { label: 'Saturation', value: 'saturation' },\n  { label: 'Color', value: 'color' },\n  { label: 'Luminosity', value: 'luminosity' },\n  { label: 'Add', value: 'add' }\n];\n\n// Computed\nconst selectedLayer = computed(() => store.selectedLayer);\n\nconst layerPropertiesComponent = computed<Component | null>(() => {\n  if (!selectedLayer.value) return null;\n\n  switch (selectedLayer.value.type) {\n    case 'text':\n      return markRaw(TextProperties);\n    case 'particles':\n      return markRaw(ParticleProperties);\n    case 'depthflow':\n      return markRaw(DepthflowProperties);\n    default:\n      return null;\n  }\n});\n\n// Watch selected layer\nwatch(selectedLayer, (layer) => {\n  if (layer) {\n    layerName.value = layer.name;\n    transform.value = {\n      position: { x: layer.position?.value?.[0] || 0, y: layer.position?.value?.[1] || 0 },\n      scale: { x: layer.scale?.value?.[0] || 100, y: layer.scale?.value?.[1] || 100 },\n      rotation: layer.rotation?.value || 0,\n      anchorPoint: { x: layer.anchorPoint?.value?.[0] || 0, y: layer.anchorPoint?.value?.[1] || 0 },\n      opacity: layer.opacity?.value || 100\n    };\n    blendMode.value = layer.blendMode || 'normal';\n    effects.value = (layer as any).effects || [];\n  }\n}, { immediate: true });\n\n// Watch scale lock\nwatch(() => transform.value.scale.x, (newX, oldX) => {\n  if (scaleLocked.value && newX !== oldX) {\n    const ratio = newX / oldX;\n    transform.value.scale.y = Math.round(transform.value.scale.y * ratio * 10) / 10;\n  }\n});\n\n// Methods\nfunction toggleSection(section: string) {\n  const index = expandedSections.value.indexOf(section);\n  if (index >= 0) {\n    expandedSections.value.splice(index, 1);\n  } else {\n    expandedSections.value.push(section);\n  }\n}\n\nfunction updateLayerName() {\n  if (selectedLayer.value && layerName.value) {\n    selectedLayer.value.name = layerName.value;\n  }\n}\n\nfunction updateTransform() {\n  if (!selectedLayer.value) return;\n\n  if (selectedLayer.value.position) {\n    selectedLayer.value.position.value = [transform.value.position.x, transform.value.position.y];\n  }\n  if (selectedLayer.value.scale) {\n    selectedLayer.value.scale.value = [transform.value.scale.x, transform.value.scale.y];\n  }\n  if (selectedLayer.value.rotation) {\n    selectedLayer.value.rotation.value = transform.value.rotation;\n  }\n  if (selectedLayer.value.anchorPoint) {\n    selectedLayer.value.anchorPoint.value = [transform.value.anchorPoint.x, transform.value.anchorPoint.y];\n  }\n  if (selectedLayer.value.opacity) {\n    selectedLayer.value.opacity.value = transform.value.opacity;\n  }\n}\n\nfunction updateBlendMode() {\n  if (selectedLayer.value) {\n    selectedLayer.value.blendMode = blendMode.value;\n  }\n}\n\nfunction hasKeyframe(property: string): boolean {\n  return keyframes.value.includes(property);\n}\n\nfunction toggleKeyframe(property: string) {\n  const index = keyframes.value.indexOf(property);\n  if (index >= 0) {\n    keyframes.value.splice(index, 1);\n  } else {\n    keyframes.value.push(property);\n    // In real implementation, this would add a keyframe at current time\n    console.log(`Added keyframe for ${property} at frame ${store.currentFrame}`);\n  }\n}\n\nfunction toggleEffect(index: number) {\n  if (effects.value[index]) {\n    effects.value[index].enabled = !effects.value[index].enabled;\n  }\n}\n\nfunction removeEffect(index: number) {\n  effects.value.splice(index, 1);\n  if (selectedLayer.value && (selectedLayer.value as any).effects) {\n    (selectedLayer.value as any).effects.splice(index, 1);\n  }\n}\n\nfunction onLayerUpdate() {\n  store.project.meta.modified = new Date().toISOString();\n}\n</script>\n\n<style scoped>\n.properties-panel {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: #1e1e1e;\n  color: #e0e0e0;\n  font-size: 11px;\n}\n\n.panel-header {\n  padding: 8px 10px;\n  background: #252525;\n  border-bottom: 1px solid #333;\n}\n\n.panel-title {\n  font-weight: 600;\n  font-size: 12px;\n}\n\n.panel-content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 8px 0;\n}\n\n.property-section {\n  border-bottom: 1px solid #2a2a2a;\n}\n\n.section-header {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 8px 10px;\n  cursor: pointer;\n  user-select: none;\n}\n\n.section-header:hover {\n  background: #252525;\n}\n\n.expand-icon {\n  width: 10px;\n  font-size: 8px;\n  color: #666;\n}\n\n.section-title {\n  font-weight: 500;\n  flex: 1;\n}\n\n.effect-count {\n  font-size: 9px;\n  color: #666;\n  background: #333;\n  padding: 1px 5px;\n  border-radius: 8px;\n}\n\n.section-content {\n  padding: 4px 10px 8px;\n}\n\n.property-row {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 4px 10px;\n  min-height: 26px;\n}\n\n.property-row label {\n  width: 80px;\n  color: #888;\n  font-size: 10px;\n  flex-shrink: 0;\n}\n\n.single-value {\n  flex: 1;\n}\n\n.multi-value {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.multi-value > * {\n  flex: 1;\n}\n\n.link-btn {\n  flex: 0 0 auto !important;\n  width: 18px;\n  height: 18px;\n  padding: 0;\n  border: none;\n  background: transparent;\n  color: #555;\n  cursor: pointer;\n  border-radius: 3px;\n  font-size: 10px;\n}\n\n.link-btn:hover {\n  background: #333;\n}\n\n.link-btn.active {\n  color: #4a90d9;\n}\n\n.keyframe-btn {\n  width: 18px;\n  height: 18px;\n  padding: 0;\n  border: none;\n  background: transparent;\n  color: #444;\n  cursor: pointer;\n  font-size: 10px;\n  border-radius: 2px;\n}\n\n.keyframe-btn:hover {\n  color: #888;\n}\n\n.keyframe-btn.active {\n  color: #f0c040;\n}\n\n.layer-name-input {\n  width: 100%;\n  padding: 6px 8px;\n  border: 1px solid #3a3a3a;\n  background: #1a1a1a;\n  color: #e0e0e0;\n  border-radius: 3px;\n  font-size: 12px;\n  font-weight: 500;\n}\n\n.layer-name-input:focus {\n  outline: none;\n  border-color: #4a90d9;\n}\n\n.blend-select {\n  flex: 1;\n  padding: 4px 8px;\n  background: #1a1a1a;\n  border: 1px solid #3a3a3a;\n  color: #e0e0e0;\n  border-radius: 3px;\n  font-size: 11px;\n}\n\n.effect-item {\n  background: #222;\n  border-radius: 4px;\n  margin-bottom: 4px;\n}\n\n.effect-header {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 6px 8px;\n}\n\n.effect-toggle {\n  width: 14px;\n  height: 14px;\n}\n\n.effect-name {\n  flex: 1;\n  font-size: 11px;\n}\n\n.effect-delete {\n  width: 18px;\n  height: 18px;\n  padding: 0;\n  border: none;\n  background: transparent;\n  color: #666;\n  cursor: pointer;\n  font-size: 14px;\n  border-radius: 3px;\n}\n\n.effect-delete:hover {\n  background: #3a3a3a;\n  color: #ff6b6b;\n}\n\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  padding: 24px;\n  text-align: center;\n  color: #555;\n}\n\n.empty-state .hint {\n  font-size: 10px;\n  margin-top: 4px;\n}\n</style>\n","/**\n * 3D Math Utilities for Camera System\n * Vector and matrix operations for camera transforms\n */\n\nexport interface Vec3 {\n  x: number;\n  y: number;\n  z: number;\n}\n\nexport interface Mat4 {\n  elements: Float32Array;  // 16 elements, column-major\n}\n\n// ============================================================================\n// Vector Operations\n// ============================================================================\n\nexport function vec3(x: number, y: number, z: number): Vec3 {\n  return { x, y, z };\n}\n\nexport function addVec3(a: Vec3, b: Vec3): Vec3 {\n  return { x: a.x + b.x, y: a.y + b.y, z: a.z + b.z };\n}\n\nexport function subVec3(a: Vec3, b: Vec3): Vec3 {\n  return { x: a.x - b.x, y: a.y - b.y, z: a.z - b.z };\n}\n\nexport function scaleVec3(v: Vec3, s: number): Vec3 {\n  return { x: v.x * s, y: v.y * s, z: v.z * s };\n}\n\nexport function lengthVec3(v: Vec3): number {\n  return Math.sqrt(v.x * v.x + v.y * v.y + v.z * v.z);\n}\n\nexport function normalizeVec3(v: Vec3): Vec3 {\n  const len = lengthVec3(v);\n  if (len === 0) return { x: 0, y: 0, z: 0 };\n  return { x: v.x / len, y: v.y / len, z: v.z / len };\n}\n\nexport function crossVec3(a: Vec3, b: Vec3): Vec3 {\n  return {\n    x: a.y * b.z - a.z * b.y,\n    y: a.z * b.x - a.x * b.z,\n    z: a.x * b.y - a.y * b.x\n  };\n}\n\nexport function dotVec3(a: Vec3, b: Vec3): number {\n  return a.x * b.x + a.y * b.y + a.z * b.z;\n}\n\nexport function lerpVec3(a: Vec3, b: Vec3, t: number): Vec3 {\n  return {\n    x: a.x + (b.x - a.x) * t,\n    y: a.y + (b.y - a.y) * t,\n    z: a.z + (b.z - a.z) * t\n  };\n}\n\nexport function distanceVec3(a: Vec3, b: Vec3): number {\n  return lengthVec3(subVec3(a, b));\n}\n\n// ============================================================================\n// Matrix Operations\n// ============================================================================\n\nexport function identityMat4(): Mat4 {\n  return {\n    elements: new Float32Array([\n      1, 0, 0, 0,\n      0, 1, 0, 0,\n      0, 0, 1, 0,\n      0, 0, 0, 1\n    ])\n  };\n}\n\nexport function multiplyMat4(a: Mat4, b: Mat4): Mat4 {\n  const ae = a.elements;\n  const be = b.elements;\n  const te = new Float32Array(16);\n\n  const a11 = ae[0], a12 = ae[4], a13 = ae[8], a14 = ae[12];\n  const a21 = ae[1], a22 = ae[5], a23 = ae[9], a24 = ae[13];\n  const a31 = ae[2], a32 = ae[6], a33 = ae[10], a34 = ae[14];\n  const a41 = ae[3], a42 = ae[7], a43 = ae[11], a44 = ae[15];\n\n  const b11 = be[0], b12 = be[4], b13 = be[8], b14 = be[12];\n  const b21 = be[1], b22 = be[5], b23 = be[9], b24 = be[13];\n  const b31 = be[2], b32 = be[6], b33 = be[10], b34 = be[14];\n  const b41 = be[3], b42 = be[7], b43 = be[11], b44 = be[15];\n\n  te[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n  te[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n  te[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n  te[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n  te[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n  te[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n  te[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n  te[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n  te[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n  te[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n  te[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n  te[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n  te[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n  te[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n  te[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n  te[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n  return { elements: te };\n}\n\nexport function perspectiveMat4(\n  fovY: number,\n  aspect: number,\n  near: number,\n  far: number\n): Mat4 {\n  const te = new Float32Array(16);\n  const f = 1.0 / Math.tan(fovY / 2);\n  const nf = 1 / (near - far);\n\n  te[0] = f / aspect;\n  te[1] = 0;\n  te[2] = 0;\n  te[3] = 0;\n  te[4] = 0;\n  te[5] = f;\n  te[6] = 0;\n  te[7] = 0;\n  te[8] = 0;\n  te[9] = 0;\n  te[10] = (far + near) * nf;\n  te[11] = -1;\n  te[12] = 0;\n  te[13] = 0;\n  te[14] = 2 * far * near * nf;\n  te[15] = 0;\n\n  return { elements: te };\n}\n\nexport function orthographicMat4(\n  left: number,\n  right: number,\n  bottom: number,\n  top: number,\n  near: number,\n  far: number\n): Mat4 {\n  const te = new Float32Array(16);\n  const w = 1.0 / (right - left);\n  const h = 1.0 / (top - bottom);\n  const p = 1.0 / (far - near);\n\n  te[0] = 2 * w;\n  te[1] = 0;\n  te[2] = 0;\n  te[3] = 0;\n  te[4] = 0;\n  te[5] = 2 * h;\n  te[6] = 0;\n  te[7] = 0;\n  te[8] = 0;\n  te[9] = 0;\n  te[10] = -2 * p;\n  te[11] = 0;\n  te[12] = -(right + left) * w;\n  te[13] = -(top + bottom) * h;\n  te[14] = -(far + near) * p;\n  te[15] = 1;\n\n  return { elements: te };\n}\n\nexport function lookAtMat4(eye: Vec3, target: Vec3, up: Vec3): Mat4 {\n  const te = new Float32Array(16);\n\n  let zx = eye.x - target.x;\n  let zy = eye.y - target.y;\n  let zz = eye.z - target.z;\n  let len = Math.sqrt(zx * zx + zy * zy + zz * zz);\n\n  if (len === 0) {\n    zz = 1;\n  } else {\n    len = 1 / len;\n    zx *= len;\n    zy *= len;\n    zz *= len;\n  }\n\n  let xx = up.y * zz - up.z * zy;\n  let xy = up.z * zx - up.x * zz;\n  let xz = up.x * zy - up.y * zx;\n  len = Math.sqrt(xx * xx + xy * xy + xz * xz);\n\n  if (len === 0) {\n    xx = 0;\n    xy = 0;\n    xz = 0;\n  } else {\n    len = 1 / len;\n    xx *= len;\n    xy *= len;\n    xz *= len;\n  }\n\n  let yx = zy * xz - zz * xy;\n  let yy = zz * xx - zx * xz;\n  let yz = zx * xy - zy * xx;\n  len = Math.sqrt(yx * yx + yy * yy + yz * yz);\n\n  if (len === 0) {\n    yx = 0;\n    yy = 0;\n    yz = 0;\n  } else {\n    len = 1 / len;\n    yx *= len;\n    yy *= len;\n    yz *= len;\n  }\n\n  te[0] = xx; te[4] = xy; te[8] = xz; te[12] = -dotVec3({ x: xx, y: xy, z: xz }, eye);\n  te[1] = yx; te[5] = yy; te[9] = yz; te[13] = -dotVec3({ x: yx, y: yy, z: yz }, eye);\n  te[2] = zx; te[6] = zy; te[10] = zz; te[14] = -dotVec3({ x: zx, y: zy, z: zz }, eye);\n  te[3] = 0; te[7] = 0; te[11] = 0; te[15] = 1;\n\n  return { elements: te };\n}\n\nexport function translateMat4(v: Vec3): Mat4 {\n  return {\n    elements: new Float32Array([\n      1, 0, 0, 0,\n      0, 1, 0, 0,\n      0, 0, 1, 0,\n      v.x, v.y, v.z, 1\n    ])\n  };\n}\n\nexport function rotateXMat4(angle: number): Mat4 {\n  const c = Math.cos(angle);\n  const s = Math.sin(angle);\n  return {\n    elements: new Float32Array([\n      1, 0, 0, 0,\n      0, c, s, 0,\n      0, -s, c, 0,\n      0, 0, 0, 1\n    ])\n  };\n}\n\nexport function rotateYMat4(angle: number): Mat4 {\n  const c = Math.cos(angle);\n  const s = Math.sin(angle);\n  return {\n    elements: new Float32Array([\n      c, 0, -s, 0,\n      0, 1, 0, 0,\n      s, 0, c, 0,\n      0, 0, 0, 1\n    ])\n  };\n}\n\nexport function rotateZMat4(angle: number): Mat4 {\n  const c = Math.cos(angle);\n  const s = Math.sin(angle);\n  return {\n    elements: new Float32Array([\n      c, s, 0, 0,\n      -s, c, 0, 0,\n      0, 0, 1, 0,\n      0, 0, 0, 1\n    ])\n  };\n}\n\nexport function scaleMat4(s: Vec3): Mat4 {\n  return {\n    elements: new Float32Array([\n      s.x, 0, 0, 0,\n      0, s.y, 0, 0,\n      0, 0, s.z, 0,\n      0, 0, 0, 1\n    ])\n  };\n}\n\nexport function transformPoint(m: Mat4, p: Vec3): Vec3 {\n  const e = m.elements;\n  const w = e[3] * p.x + e[7] * p.y + e[11] * p.z + e[15];\n  return {\n    x: (e[0] * p.x + e[4] * p.y + e[8] * p.z + e[12]) / w,\n    y: (e[1] * p.x + e[5] * p.y + e[9] * p.z + e[13]) / w,\n    z: (e[2] * p.x + e[6] * p.y + e[10] * p.z + e[14]) / w\n  };\n}\n\nexport function transformDirection(m: Mat4, v: Vec3): Vec3 {\n  const e = m.elements;\n  return {\n    x: e[0] * v.x + e[4] * v.y + e[8] * v.z,\n    y: e[1] * v.x + e[5] * v.y + e[9] * v.z,\n    z: e[2] * v.x + e[6] * v.y + e[10] * v.z\n  };\n}\n\nexport function invertMat4(m: Mat4): Mat4 | null {\n  const te = new Float32Array(16);\n  const me = m.elements;\n\n  const n11 = me[0], n21 = me[1], n31 = me[2], n41 = me[3];\n  const n12 = me[4], n22 = me[5], n32 = me[6], n42 = me[7];\n  const n13 = me[8], n23 = me[9], n33 = me[10], n43 = me[11];\n  const n14 = me[12], n24 = me[13], n34 = me[14], n44 = me[15];\n\n  const t11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44;\n  const t12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44;\n  const t13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44;\n  const t14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n  const det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n  if (det === 0) return null;\n\n  const detInv = 1 / det;\n\n  te[0] = t11 * detInv;\n  te[1] = (n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44) * detInv;\n  te[2] = (n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44) * detInv;\n  te[3] = (n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43) * detInv;\n\n  te[4] = t12 * detInv;\n  te[5] = (n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44) * detInv;\n  te[6] = (n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44) * detInv;\n  te[7] = (n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43) * detInv;\n\n  te[8] = t13 * detInv;\n  te[9] = (n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44) * detInv;\n  te[10] = (n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44) * detInv;\n  te[11] = (n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43) * detInv;\n\n  te[12] = t14 * detInv;\n  te[13] = (n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34) * detInv;\n  te[14] = (n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34) * detInv;\n  te[15] = (n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33) * detInv;\n\n  return { elements: te };\n}\n\n// ============================================================================\n// Lens Math\n// ============================================================================\n\n/**\n * Convert focal length to field of view\n * @param focalLength Focal length in mm\n * @param sensorSize Sensor size in mm (36mm for full frame)\n * @returns FOV in radians\n */\nexport function focalLengthToFOV(focalLength: number, sensorSize: number): number {\n  return 2 * Math.atan(sensorSize / (2 * focalLength));\n}\n\n/**\n * Convert field of view to focal length\n * @param fov Field of view in radians\n * @param sensorSize Sensor size in mm\n * @returns Focal length in mm\n */\nexport function fovToFocalLength(fov: number, sensorSize: number): number {\n  return sensorSize / (2 * Math.tan(fov / 2));\n}\n\n/**\n * Convert AE zoom value to focal length\n * @param zoom Zoom value in pixels\n * @param compWidth Composition width in pixels\n * @param filmSize Film size in mm\n * @returns Focal length in mm\n */\nexport function zoomToFocalLength(\n  zoom: number,\n  compWidth: number,\n  filmSize: number\n): number {\n  return (zoom * filmSize) / compWidth;\n}\n\n/**\n * Convert focal length to AE zoom value\n * @param focalLength Focal length in mm\n * @param compWidth Composition width in pixels\n * @param filmSize Film size in mm\n * @returns Zoom value in pixels\n */\nexport function focalLengthToZoom(\n  focalLength: number,\n  compWidth: number,\n  filmSize: number\n): number {\n  return (focalLength * compWidth) / filmSize;\n}\n\n/**\n * Convert degrees to radians\n */\nexport function degToRad(degrees: number): number {\n  return degrees * (Math.PI / 180);\n}\n\n/**\n * Convert radians to degrees\n */\nexport function radToDeg(radians: number): number {\n  return radians * (180 / Math.PI);\n}\n\n// ============================================================================\n// Quaternion (for smooth rotation interpolation)\n// ============================================================================\n\nexport interface Quat {\n  x: number;\n  y: number;\n  z: number;\n  w: number;\n}\n\nexport function quatIdentity(): Quat {\n  return { x: 0, y: 0, z: 0, w: 1 };\n}\n\nexport function quatFromEuler(x: number, y: number, z: number): Quat {\n  const c1 = Math.cos(x / 2);\n  const c2 = Math.cos(y / 2);\n  const c3 = Math.cos(z / 2);\n  const s1 = Math.sin(x / 2);\n  const s2 = Math.sin(y / 2);\n  const s3 = Math.sin(z / 2);\n\n  return {\n    x: s1 * c2 * c3 + c1 * s2 * s3,\n    y: c1 * s2 * c3 - s1 * c2 * s3,\n    z: c1 * c2 * s3 + s1 * s2 * c3,\n    w: c1 * c2 * c3 - s1 * s2 * s3\n  };\n}\n\nexport function quatToEuler(q: Quat): Vec3 {\n  const sinr_cosp = 2 * (q.w * q.x + q.y * q.z);\n  const cosr_cosp = 1 - 2 * (q.x * q.x + q.y * q.y);\n  const x = Math.atan2(sinr_cosp, cosr_cosp);\n\n  const sinp = 2 * (q.w * q.y - q.z * q.x);\n  let y: number;\n  if (Math.abs(sinp) >= 1) {\n    y = Math.sign(sinp) * (Math.PI / 2);\n  } else {\n    y = Math.asin(sinp);\n  }\n\n  const siny_cosp = 2 * (q.w * q.z + q.x * q.y);\n  const cosy_cosp = 1 - 2 * (q.y * q.y + q.z * q.z);\n  const z = Math.atan2(siny_cosp, cosy_cosp);\n\n  return { x, y, z };\n}\n\nexport function slerpQuat(a: Quat, b: Quat, t: number): Quat {\n  let dot = a.x * b.x + a.y * b.y + a.z * b.z + a.w * b.w;\n\n  if (dot < 0) {\n    b = { x: -b.x, y: -b.y, z: -b.z, w: -b.w };\n    dot = -dot;\n  }\n\n  if (dot > 0.9995) {\n    return {\n      x: a.x + t * (b.x - a.x),\n      y: a.y + t * (b.y - a.y),\n      z: a.z + t * (b.z - a.z),\n      w: a.w + t * (b.w - a.w)\n    };\n  }\n\n  const theta0 = Math.acos(dot);\n  const theta = theta0 * t;\n  const sinTheta = Math.sin(theta);\n  const sinTheta0 = Math.sin(theta0);\n\n  const s0 = Math.cos(theta) - dot * sinTheta / sinTheta0;\n  const s1 = sinTheta / sinTheta0;\n\n  return {\n    x: s0 * a.x + s1 * b.x,\n    y: s0 * a.y + s1 * b.y,\n    z: s0 * a.z + s1 * b.z,\n    w: s0 * a.w + s1 * b.w\n  };\n}\n","<template>\n  <div class=\"camera-properties\">\n    <div class=\"panel-header\">\n      <span class=\"panel-title\">Camera</span>\n      <span class=\"camera-name\">{{ camera?.name ?? 'No Camera' }}</span>\n    </div>\n\n    <div v-if=\"camera\" class=\"properties-content\">\n      <!-- Camera Type -->\n      <div class=\"property-section\">\n        <div class=\"section-header\">Type</div>\n        <div class=\"property-row\">\n          <select\n            :value=\"camera.type\"\n            @change=\"updateProperty('type', ($event.target as HTMLSelectElement).value)\"\n            class=\"type-select\"\n          >\n            <option value=\"one-node\">One-Node Camera</option>\n            <option value=\"two-node\">Two-Node Camera</option>\n          </select>\n        </div>\n      </div>\n\n      <!-- Transform -->\n      <div class=\"property-section\">\n        <div class=\"section-header\" @click=\"toggleSection('transform')\">\n          <span class=\"toggle-icon\">{{ expandedSections.transform ? '' : '' }}</span>\n          Transform\n        </div>\n        <div v-show=\"expandedSections.transform\" class=\"section-content\">\n          <!-- Position -->\n          <div class=\"property-group\">\n            <label>Position</label>\n            <div class=\"xyz-inputs\">\n              <ScrubableNumber\n                :modelValue=\"camera.position.x\"\n                @update:modelValue=\"v => updatePosition('x', v)\"\n                label=\"X\"\n                :precision=\"1\"\n              />\n              <ScrubableNumber\n                :modelValue=\"camera.position.y\"\n                @update:modelValue=\"v => updatePosition('y', v)\"\n                label=\"Y\"\n                :precision=\"1\"\n              />\n              <ScrubableNumber\n                :modelValue=\"camera.position.z\"\n                @update:modelValue=\"v => updatePosition('z', v)\"\n                label=\"Z\"\n                :precision=\"1\"\n              />\n            </div>\n          </div>\n\n          <!-- Point of Interest (two-node only) -->\n          <div v-if=\"camera.type === 'two-node'\" class=\"property-group\">\n            <label>Point of Interest</label>\n            <div class=\"xyz-inputs\">\n              <ScrubableNumber\n                :modelValue=\"camera.pointOfInterest.x\"\n                @update:modelValue=\"v => updatePOI('x', v)\"\n                label=\"X\"\n                :precision=\"1\"\n              />\n              <ScrubableNumber\n                :modelValue=\"camera.pointOfInterest.y\"\n                @update:modelValue=\"v => updatePOI('y', v)\"\n                label=\"Y\"\n                :precision=\"1\"\n              />\n              <ScrubableNumber\n                :modelValue=\"camera.pointOfInterest.z\"\n                @update:modelValue=\"v => updatePOI('z', v)\"\n                label=\"Z\"\n                :precision=\"1\"\n              />\n            </div>\n          </div>\n\n          <!-- Orientation -->\n          <div class=\"property-group\">\n            <label>Orientation</label>\n            <div class=\"xyz-inputs\">\n              <ScrubableNumber\n                :modelValue=\"camera.orientation.x\"\n                @update:modelValue=\"v => updateOrientation('x', v)\"\n                label=\"X\"\n                unit=\"\"\n                :precision=\"1\"\n              />\n              <ScrubableNumber\n                :modelValue=\"camera.orientation.y\"\n                @update:modelValue=\"v => updateOrientation('y', v)\"\n                label=\"Y\"\n                unit=\"\"\n                :precision=\"1\"\n              />\n              <ScrubableNumber\n                :modelValue=\"camera.orientation.z\"\n                @update:modelValue=\"v => updateOrientation('z', v)\"\n                label=\"Z\"\n                unit=\"\"\n                :precision=\"1\"\n              />\n            </div>\n          </div>\n\n          <!-- Individual Rotations -->\n          <div class=\"property-group\">\n            <label>X Rotation</label>\n            <ScrubableNumber\n              :modelValue=\"camera.xRotation\"\n              @update:modelValue=\"v => updateProperty('xRotation', v)\"\n              unit=\"\"\n              :precision=\"1\"\n            />\n          </div>\n          <div class=\"property-group\">\n            <label>Y Rotation</label>\n            <ScrubableNumber\n              :modelValue=\"camera.yRotation\"\n              @update:modelValue=\"v => updateProperty('yRotation', v)\"\n              unit=\"\"\n              :precision=\"1\"\n            />\n          </div>\n          <div class=\"property-group\">\n            <label>Z Rotation</label>\n            <ScrubableNumber\n              :modelValue=\"camera.zRotation\"\n              @update:modelValue=\"v => updateProperty('zRotation', v)\"\n              unit=\"\"\n              :precision=\"1\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <!-- Lens Settings -->\n      <div class=\"property-section\">\n        <div class=\"section-header\" @click=\"toggleSection('lens')\">\n          <span class=\"toggle-icon\">{{ expandedSections.lens ? '' : '' }}</span>\n          Lens\n        </div>\n        <div v-show=\"expandedSections.lens\" class=\"section-content\">\n          <!-- Preset buttons -->\n          <div class=\"preset-row\">\n            <button\n              v-for=\"preset in CAMERA_PRESETS\"\n              :key=\"preset.name\"\n              :class=\"{ active: Math.abs(camera.focalLength - preset.focalLength) < 0.5 }\"\n              @click=\"applyPreset(preset)\"\n            >\n              {{ preset.name }}\n            </button>\n          </div>\n\n          <div class=\"property-group\">\n            <label>Focal Length</label>\n            <ScrubableNumber\n              :modelValue=\"camera.focalLength\"\n              @update:modelValue=\"updateFocalLength\"\n              :min=\"1\"\n              :max=\"500\"\n              unit=\"mm\"\n              :precision=\"1\"\n            />\n          </div>\n\n          <div class=\"property-group\">\n            <label>Angle of View</label>\n            <ScrubableNumber\n              :modelValue=\"camera.angleOfView\"\n              @update:modelValue=\"updateAngleOfView\"\n              :min=\"1\"\n              :max=\"170\"\n              unit=\"\"\n              :precision=\"1\"\n            />\n          </div>\n\n          <div class=\"property-group\">\n            <label>Film Size</label>\n            <ScrubableNumber\n              :modelValue=\"camera.filmSize\"\n              @update:modelValue=\"v => updateProperty('filmSize', v)\"\n              :min=\"1\"\n              :max=\"100\"\n              unit=\"mm\"\n              :precision=\"1\"\n            />\n          </div>\n\n          <div class=\"property-group\">\n            <label>Measure Film Size</label>\n            <select\n              :value=\"camera.measureFilmSize\"\n              @change=\"updateProperty('measureFilmSize', ($event.target as HTMLSelectElement).value)\"\n            >\n              <option value=\"horizontal\">Horizontal</option>\n              <option value=\"vertical\">Vertical</option>\n              <option value=\"diagonal\">Diagonal</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      <!-- Depth of Field -->\n      <div class=\"property-section\">\n        <div class=\"section-header\" @click=\"toggleSection('dof')\">\n          <span class=\"toggle-icon\">{{ expandedSections.dof ? '' : '' }}</span>\n          Depth of Field\n        </div>\n        <div v-show=\"expandedSections.dof\" class=\"section-content\">\n          <div class=\"property-group checkbox-group\">\n            <label>\n              <input\n                type=\"checkbox\"\n                :checked=\"camera.depthOfField.enabled\"\n                @change=\"updateDOF('enabled', ($event.target as HTMLInputElement).checked)\"\n              />\n              Enable DOF\n            </label>\n          </div>\n\n          <template v-if=\"camera.depthOfField.enabled\">\n            <div class=\"property-group\">\n              <label>Focus Distance</label>\n              <ScrubableNumber\n                :modelValue=\"camera.depthOfField.focusDistance\"\n                @update:modelValue=\"v => updateDOF('focusDistance', v)\"\n                :min=\"1\"\n                unit=\"px\"\n                :precision=\"0\"\n              />\n            </div>\n\n            <div class=\"property-group\">\n              <label>f-Stop</label>\n              <ScrubableNumber\n                :modelValue=\"camera.depthOfField.fStop\"\n                @update:modelValue=\"v => updateDOF('fStop', v)\"\n                :min=\"0.1\"\n                :max=\"64\"\n                :precision=\"1\"\n              />\n            </div>\n\n            <div class=\"property-group\">\n              <label>Blur Level</label>\n              <SliderInput\n                :modelValue=\"camera.depthOfField.blurLevel\"\n                @update:modelValue=\"v => updateDOF('blurLevel', v)\"\n                :min=\"0\"\n                :max=\"1\"\n                :step=\"0.01\"\n              />\n            </div>\n\n            <div class=\"property-group checkbox-group\">\n              <label>\n                <input\n                  type=\"checkbox\"\n                  :checked=\"camera.depthOfField.lockToZoom\"\n                  @change=\"updateDOF('lockToZoom', ($event.target as HTMLInputElement).checked)\"\n                />\n                Lock to Zoom\n              </label>\n            </div>\n          </template>\n        </div>\n      </div>\n\n      <!-- Iris Properties -->\n      <div class=\"property-section\">\n        <div class=\"section-header\" @click=\"toggleSection('iris')\">\n          <span class=\"toggle-icon\">{{ expandedSections.iris ? '' : '' }}</span>\n          Iris\n        </div>\n        <div v-show=\"expandedSections.iris\" class=\"section-content\">\n          <div class=\"property-group\">\n            <label>Shape ({{ Math.round(camera.iris.shape) }}-gon)</label>\n            <SliderInput\n              :modelValue=\"camera.iris.shape\"\n              @update:modelValue=\"v => updateIris('shape', v)\"\n              :min=\"3\"\n              :max=\"10\"\n              :step=\"1\"\n            />\n          </div>\n\n          <div class=\"property-group\">\n            <label>Rotation</label>\n            <AngleDial\n              :modelValue=\"camera.iris.rotation\"\n              @update:modelValue=\"v => updateIris('rotation', v)\"\n              :size=\"48\"\n            />\n          </div>\n\n          <div class=\"property-group\">\n            <label>Roundness</label>\n            <SliderInput\n              :modelValue=\"camera.iris.roundness\"\n              @update:modelValue=\"v => updateIris('roundness', v)\"\n              :min=\"0\"\n              :max=\"1\"\n              :step=\"0.01\"\n            />\n          </div>\n\n          <div class=\"property-group\">\n            <label>Aspect Ratio</label>\n            <SliderInput\n              :modelValue=\"camera.iris.aspectRatio\"\n              @update:modelValue=\"v => updateIris('aspectRatio', v)\"\n              :min=\"0.5\"\n              :max=\"2\"\n              :step=\"0.01\"\n            />\n          </div>\n\n          <div class=\"property-group\">\n            <label>Diffraction Fringe</label>\n            <SliderInput\n              :modelValue=\"camera.iris.diffractionFringe\"\n              @update:modelValue=\"v => updateIris('diffractionFringe', v)\"\n              :min=\"0\"\n              :max=\"1\"\n              :step=\"0.01\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <!-- Highlight Properties -->\n      <div class=\"property-section\">\n        <div class=\"section-header\" @click=\"toggleSection('highlight')\">\n          <span class=\"toggle-icon\">{{ expandedSections.highlight ? '' : '' }}</span>\n          Highlight\n        </div>\n        <div v-show=\"expandedSections.highlight\" class=\"section-content\">\n          <div class=\"property-group\">\n            <label>Gain</label>\n            <SliderInput\n              :modelValue=\"camera.highlight.gain\"\n              @update:modelValue=\"v => updateHighlight('gain', v)\"\n              :min=\"0\"\n              :max=\"1\"\n              :step=\"0.01\"\n            />\n          </div>\n\n          <div class=\"property-group\">\n            <label>Threshold</label>\n            <SliderInput\n              :modelValue=\"camera.highlight.threshold\"\n              @update:modelValue=\"v => updateHighlight('threshold', v)\"\n              :min=\"0\"\n              :max=\"1\"\n              :step=\"0.01\"\n            />\n          </div>\n\n          <div class=\"property-group\">\n            <label>Saturation</label>\n            <SliderInput\n              :modelValue=\"camera.highlight.saturation\"\n              @update:modelValue=\"v => updateHighlight('saturation', v)\"\n              :min=\"0\"\n              :max=\"1\"\n              :step=\"0.01\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <!-- Auto-Orient -->\n      <div class=\"property-section\">\n        <div class=\"section-header\" @click=\"toggleSection('autoOrient')\">\n          <span class=\"toggle-icon\">{{ expandedSections.autoOrient ? '' : '' }}</span>\n          Auto-Orient\n        </div>\n        <div v-show=\"expandedSections.autoOrient\" class=\"section-content\">\n          <div class=\"property-group\">\n            <select\n              :value=\"camera.autoOrient\"\n              @change=\"updateProperty('autoOrient', ($event.target as HTMLSelectElement).value)\"\n            >\n              <option value=\"off\">Off</option>\n              <option value=\"orient-along-path\">Orient Along Path</option>\n              <option value=\"orient-towards-poi\">Orient Towards Point of Interest</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      <!-- Clipping -->\n      <div class=\"property-section\">\n        <div class=\"section-header\" @click=\"toggleSection('clipping')\">\n          <span class=\"toggle-icon\">{{ expandedSections.clipping ? '' : '' }}</span>\n          Clipping\n        </div>\n        <div v-show=\"expandedSections.clipping\" class=\"section-content\">\n          <div class=\"property-group\">\n            <label>Near Clip</label>\n            <ScrubableNumber\n              :modelValue=\"camera.nearClip\"\n              @update:modelValue=\"v => updateProperty('nearClip', v)\"\n              :min=\"0.1\"\n              :precision=\"1\"\n            />\n          </div>\n\n          <div class=\"property-group\">\n            <label>Far Clip</label>\n            <ScrubableNumber\n              :modelValue=\"camera.farClip\"\n              @update:modelValue=\"v => updateProperty('farClip', v)\"\n              :min=\"100\"\n              :precision=\"0\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div v-else class=\"no-camera\">\n      <p>No camera selected</p>\n      <button @click=\"$emit('createCamera')\">Create Camera</button>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive } from 'vue';\nimport type { Camera3D } from '../../types/camera';\nimport { CAMERA_PRESETS } from '../../types/camera';\nimport { focalLengthToFOV, fovToFocalLength } from '../../services/math3d';\nimport { ScrubableNumber, SliderInput, AngleDial } from '../controls';\n\ninterface Props {\n  camera: Camera3D | null;\n}\n\nconst props = defineProps<Props>();\n\nconst emit = defineEmits<{\n  (e: 'update:camera', camera: Camera3D): void;\n  (e: 'createCamera'): void;\n}>();\n\nconst expandedSections = reactive({\n  transform: true,\n  lens: true,\n  dof: false,\n  iris: false,\n  highlight: false,\n  autoOrient: false,\n  clipping: false\n});\n\nfunction toggleSection(section: keyof typeof expandedSections) {\n  expandedSections[section] = !expandedSections[section];\n}\n\nfunction updateProperty<K extends keyof Camera3D>(key: K, value: Camera3D[K]) {\n  if (!props.camera) return;\n  emit('update:camera', { ...props.camera, [key]: value });\n}\n\nfunction updatePosition(axis: 'x' | 'y' | 'z', value: number) {\n  if (!props.camera) return;\n  emit('update:camera', {\n    ...props.camera,\n    position: { ...props.camera.position, [axis]: value }\n  });\n}\n\nfunction updatePOI(axis: 'x' | 'y' | 'z', value: number) {\n  if (!props.camera) return;\n  emit('update:camera', {\n    ...props.camera,\n    pointOfInterest: { ...props.camera.pointOfInterest, [axis]: value }\n  });\n}\n\nfunction updateOrientation(axis: 'x' | 'y' | 'z', value: number) {\n  if (!props.camera) return;\n  emit('update:camera', {\n    ...props.camera,\n    orientation: { ...props.camera.orientation, [axis]: value }\n  });\n}\n\nfunction updateFocalLength(value: number) {\n  if (!props.camera) return;\n  const angleOfView = focalLengthToFOV(value, props.camera.filmSize);\n  emit('update:camera', {\n    ...props.camera,\n    focalLength: value,\n    angleOfView\n  });\n}\n\nfunction updateAngleOfView(value: number) {\n  if (!props.camera) return;\n  const focalLength = fovToFocalLength(value, props.camera.filmSize);\n  emit('update:camera', {\n    ...props.camera,\n    angleOfView: value,\n    focalLength\n  });\n}\n\nfunction updateDOF<K extends keyof Camera3D['depthOfField']>(key: K, value: Camera3D['depthOfField'][K]) {\n  if (!props.camera) return;\n  emit('update:camera', {\n    ...props.camera,\n    depthOfField: { ...props.camera.depthOfField, [key]: value }\n  });\n}\n\nfunction updateIris<K extends keyof Camera3D['iris']>(key: K, value: Camera3D['iris'][K]) {\n  if (!props.camera) return;\n  emit('update:camera', {\n    ...props.camera,\n    iris: { ...props.camera.iris, [key]: value }\n  });\n}\n\nfunction updateHighlight<K extends keyof Camera3D['highlight']>(key: K, value: Camera3D['highlight'][K]) {\n  if (!props.camera) return;\n  emit('update:camera', {\n    ...props.camera,\n    highlight: { ...props.camera.highlight, [key]: value }\n  });\n}\n\nfunction applyPreset(preset: typeof CAMERA_PRESETS[number]) {\n  if (!props.camera) return;\n  emit('update:camera', {\n    ...props.camera,\n    focalLength: preset.focalLength,\n    angleOfView: preset.angleOfView,\n    zoom: preset.zoom\n  });\n}\n</script>\n\n<style scoped>\n.camera-properties {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: #1e1e1e;\n  color: #e0e0e0;\n  font-size: 12px;\n  overflow: hidden;\n}\n\n.panel-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 12px;\n  background: #252525;\n  border-bottom: 1px solid #333;\n}\n\n.panel-title {\n  font-weight: 600;\n}\n\n.camera-name {\n  color: #888;\n  font-size: 11px;\n}\n\n.properties-content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 8px;\n}\n\n.property-section {\n  margin-bottom: 8px;\n  border: 1px solid #333;\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n.section-header {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 8px;\n  background: #252525;\n  cursor: pointer;\n  user-select: none;\n}\n\n.section-header:hover {\n  background: #2a2a2a;\n}\n\n.toggle-icon {\n  font-size: 8px;\n  color: #666;\n}\n\n.section-content {\n  padding: 8px;\n}\n\n.property-group {\n  margin-bottom: 8px;\n}\n\n.property-group:last-child {\n  margin-bottom: 0;\n}\n\n.property-group > label {\n  display: block;\n  color: #888;\n  font-size: 10px;\n  margin-bottom: 4px;\n}\n\n.xyz-inputs {\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  gap: 4px;\n}\n\n.checkbox-group label {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  cursor: pointer;\n}\n\n.checkbox-group input[type=\"checkbox\"] {\n  width: 14px;\n  height: 14px;\n}\n\n.type-select,\n.property-group select {\n  width: 100%;\n  padding: 6px 8px;\n  background: #2a2a2a;\n  border: 1px solid #3d3d3d;\n  border-radius: 4px;\n  color: #e0e0e0;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.type-select:hover,\n.property-group select:hover {\n  border-color: #555;\n}\n\n.preset-row {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 4px;\n  margin-bottom: 12px;\n}\n\n.preset-row button {\n  padding: 4px 8px;\n  border: 1px solid #3d3d3d;\n  border-radius: 3px;\n  background: #2a2a2a;\n  color: #888;\n  font-size: 10px;\n  cursor: pointer;\n  transition: all 0.1s;\n}\n\n.preset-row button:hover {\n  background: #333;\n  color: #e0e0e0;\n}\n\n.preset-row button.active {\n  background: #7c9cff;\n  border-color: #7c9cff;\n  color: #fff;\n}\n\n.no-camera {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  color: #666;\n}\n\n.no-camera button {\n  padding: 8px 16px;\n  border: 1px solid #7c9cff;\n  border-radius: 4px;\n  background: transparent;\n  color: #7c9cff;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.no-camera button:hover {\n  background: #7c9cff;\n  color: #fff;\n}\n</style>\n","<template>\n  <div class=\"audio-panel\">\n    <div class=\"panel-header\">\n      <span class=\"panel-title\">Audio</span>\n      <div class=\"header-actions\">\n        <button @click=\"loadAudioFile\" title=\"Load Audio\">\n          <span class=\"icon\"></span>\n        </button>\n      </div>\n    </div>\n\n    <div class=\"panel-content\" v-if=\"hasAudio\">\n      <!-- Audio Info -->\n      <div class=\"audio-info\">\n        <div class=\"file-info\">\n          <span class=\"file-icon\"></span>\n          <div class=\"file-details\">\n            <span class=\"file-name\">{{ audioFileName }}</span>\n            <span class=\"file-meta\">{{ audioDuration }}  {{ audioSampleRate }}</span>\n          </div>\n          <button class=\"remove-btn\" @click=\"removeAudio\" title=\"Remove Audio\"></button>\n        </div>\n      </div>\n\n      <!-- Volume Control -->\n      <div class=\"control-section\">\n        <div class=\"control-row\">\n          <label>Master Volume</label>\n          <SliderInput\n            v-model=\"masterVolume\"\n            :min=\"0\"\n            :max=\"100\"\n            :precision=\"0\"\n            unit=\"%\"\n          />\n          <button class=\"mute-btn\" :class=\"{ active: isMuted }\" @click=\"toggleMute\" title=\"Mute\">\n            {{ isMuted ? '' : '' }}\n          </button>\n        </div>\n      </div>\n\n      <!-- Waveform Display -->\n      <div class=\"waveform-section\">\n        <div class=\"section-header\">\n          <span class=\"section-title\">Waveform</span>\n          <div class=\"waveform-controls\">\n            <button\n              :class=\"{ active: waveformMode === 'waveform' }\"\n              @click=\"waveformMode = 'waveform'\"\n            >\n              Wave\n            </button>\n            <button\n              :class=\"{ active: waveformMode === 'spectrum' }\"\n              @click=\"waveformMode = 'spectrum'\"\n            >\n              Spectrum\n            </button>\n          </div>\n        </div>\n        <div class=\"waveform-display\">\n          <canvas ref=\"waveformCanvas\" class=\"waveform-canvas\"></canvas>\n        </div>\n      </div>\n\n      <!-- Beat Detection -->\n      <div class=\"control-section\">\n        <div class=\"section-header\" @click=\"toggleSection('beats')\">\n          <span class=\"expand-icon\">{{ expandedSections.includes('beats') ? '' : '' }}</span>\n          <span class=\"section-title\">Beat Detection</span>\n        </div>\n\n        <div v-if=\"expandedSections.includes('beats')\" class=\"section-content\">\n          <div class=\"control-row\">\n            <label>Sensitivity</label>\n            <SliderInput\n              v-model=\"beatSensitivity\"\n              :min=\"0\"\n              :max=\"100\"\n              :precision=\"0\"\n              unit=\"%\"\n            />\n          </div>\n          <div class=\"control-row\">\n            <label>Threshold</label>\n            <SliderInput\n              v-model=\"beatThreshold\"\n              :min=\"0\"\n              :max=\"100\"\n              :precision=\"0\"\n              unit=\"%\"\n            />\n          </div>\n          <div class=\"beat-indicator\">\n            <span class=\"beat-label\">BPM:</span>\n            <span class=\"beat-value\">{{ detectedBPM }}</span>\n            <span class=\"beat-pulse\" :class=\"{ active: beatPulse }\"></span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Frequency Bands -->\n      <div class=\"control-section\">\n        <div class=\"section-header\" @click=\"toggleSection('bands')\">\n          <span class=\"expand-icon\">{{ expandedSections.includes('bands') ? '' : '' }}</span>\n          <span class=\"section-title\">Frequency Bands</span>\n        </div>\n\n        <div v-if=\"expandedSections.includes('bands')\" class=\"section-content\">\n          <div class=\"frequency-bands\">\n            <div\n              v-for=\"(band, index) in frequencyBands\"\n              :key=\"band.name\"\n              class=\"band-item\"\n            >\n              <span class=\"band-name\">{{ band.name }}</span>\n              <div class=\"band-meter\">\n                <div class=\"band-fill\" :style=\"{ height: `${band.level}%` }\"></div>\n              </div>\n              <span class=\"band-value\">{{ Math.round(band.level) }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Audio Reactivity -->\n      <div class=\"control-section\">\n        <div class=\"section-header\" @click=\"toggleSection('reactivity')\">\n          <span class=\"expand-icon\">{{ expandedSections.includes('reactivity') ? '' : '' }}</span>\n          <span class=\"section-title\">Audio Reactivity</span>\n        </div>\n\n        <div v-if=\"expandedSections.includes('reactivity')\" class=\"section-content\">\n          <div class=\"control-row\">\n            <label>Link to Layer</label>\n            <select v-model=\"linkedLayer\" class=\"layer-select\">\n              <option value=\"\">None</option>\n              <option v-for=\"layer in availableLayers\" :key=\"layer.id\" :value=\"layer.id\">\n                {{ layer.name }}\n              </option>\n            </select>\n          </div>\n\n          <div v-if=\"linkedLayer\" class=\"reactivity-options\">\n            <div class=\"control-row\">\n              <label>Property</label>\n              <select v-model=\"reactiveProperty\" class=\"property-select\">\n                <option value=\"opacity\">Opacity</option>\n                <option value=\"scale\">Scale</option>\n                <option value=\"rotation\">Rotation</option>\n                <option value=\"position.x\">Position X</option>\n                <option value=\"position.y\">Position Y</option>\n              </select>\n            </div>\n\n            <div class=\"control-row\">\n              <label>Band</label>\n              <select v-model=\"reactiveBand\" class=\"band-select\">\n                <option value=\"bass\">Bass</option>\n                <option value=\"lowMid\">Low Mid</option>\n                <option value=\"mid\">Mid</option>\n                <option value=\"highMid\">High Mid</option>\n                <option value=\"treble\">Treble</option>\n                <option value=\"overall\">Overall</option>\n              </select>\n            </div>\n\n            <div class=\"control-row\">\n              <label>Intensity</label>\n              <SliderInput\n                v-model=\"reactiveIntensity\"\n                :min=\"0\"\n                :max=\"200\"\n                :precision=\"0\"\n                unit=\"%\"\n              />\n            </div>\n\n            <div class=\"control-row\">\n              <label>Smoothing</label>\n              <SliderInput\n                v-model=\"reactiveSmoothing\"\n                :min=\"0\"\n                :max=\"100\"\n                :precision=\"0\"\n                unit=\"%\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- No Audio State -->\n    <div v-else class=\"empty-state\">\n      <div class=\"empty-icon\"></div>\n      <p>No audio loaded</p>\n      <button class=\"load-btn\" @click=\"loadAudioFile\">\n        Load Audio File\n      </button>\n      <p class=\"hint\">Supports MP3, WAV, OGG, AAC</p>\n    </div>\n\n    <!-- Hidden file input -->\n    <input\n      ref=\"audioFileInput\"\n      type=\"file\"\n      accept=\"audio/*\"\n      style=\"display: none\"\n      @change=\"handleAudioFileSelected\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted, onUnmounted, watch } from 'vue';\nimport { useCompositorStore } from '@/stores/compositorStore';\nimport { SliderInput } from '@/components/controls';\n\nconst store = useCompositorStore();\n\n// Refs\nconst audioFileInput = ref<HTMLInputElement | null>(null);\nconst waveformCanvas = ref<HTMLCanvasElement | null>(null);\n\n// State\nconst expandedSections = ref<string[]>(['beats', 'bands']);\nconst waveformMode = ref<'waveform' | 'spectrum'>('waveform');\n\nconst masterVolume = ref(80);\nconst isMuted = ref(false);\n\nconst beatSensitivity = ref(70);\nconst beatThreshold = ref(50);\nconst detectedBPM = ref(120);\nconst beatPulse = ref(false);\n\nconst frequencyBands = ref([\n  { name: 'Bass', level: 45 },\n  { name: 'Low', level: 60 },\n  { name: 'Mid', level: 75 },\n  { name: 'High', level: 55 },\n  { name: 'Treble', level: 40 }\n]);\n\nconst linkedLayer = ref('');\nconst reactiveProperty = ref('opacity');\nconst reactiveBand = ref('bass');\nconst reactiveIntensity = ref(100);\nconst reactiveSmoothing = ref(50);\n\n// Computed\nconst hasAudio = computed(() => !!store.audioBuffer);\n\nconst audioFileName = computed(() => {\n  return store.audioFile?.name || 'Unknown';\n});\n\nconst audioDuration = computed(() => {\n  if (!store.audioBuffer) return '0:00';\n  const duration = store.audioBuffer.duration;\n  const minutes = Math.floor(duration / 60);\n  const seconds = Math.floor(duration % 60);\n  return `${minutes}:${String(seconds).padStart(2, '0')}`;\n});\n\nconst audioSampleRate = computed(() => {\n  if (!store.audioBuffer) return '0 Hz';\n  return `${(store.audioBuffer.sampleRate / 1000).toFixed(1)} kHz`;\n});\n\nconst availableLayers = computed(() => {\n  return store.project?.composition?.layers || [];\n});\n\n// Methods\nfunction loadAudioFile() {\n  audioFileInput.value?.click();\n}\n\nasync function handleAudioFileSelected(event: Event) {\n  const input = event.target as HTMLInputElement;\n  if (!input.files?.length) return;\n\n  const file = input.files[0];\n  await store.loadAudio(file);\n\n  // Reset input\n  input.value = '';\n}\n\nfunction removeAudio() {\n  store.clearAudio();\n}\n\nfunction toggleMute() {\n  isMuted.value = !isMuted.value;\n}\n\nfunction toggleSection(section: string) {\n  const index = expandedSections.value.indexOf(section);\n  if (index >= 0) {\n    expandedSections.value.splice(index, 1);\n  } else {\n    expandedSections.value.push(section);\n  }\n}\n\n// Waveform visualization\nlet animationFrame: number;\nlet analyser: AnalyserNode | null = null;\n\nfunction initWaveformVisualization() {\n  if (!waveformCanvas.value || !store.audioBuffer) return;\n\n  const canvas = waveformCanvas.value;\n  const ctx = canvas.getContext('2d');\n  if (!ctx) return;\n\n  // Set canvas size\n  const rect = canvas.getBoundingClientRect();\n  canvas.width = rect.width * window.devicePixelRatio;\n  canvas.height = rect.height * window.devicePixelRatio;\n  ctx.scale(window.devicePixelRatio, window.devicePixelRatio);\n\n  // Draw static waveform from audio buffer\n  drawStaticWaveform(ctx, rect.width, rect.height);\n}\n\nfunction drawStaticWaveform(ctx: CanvasRenderingContext2D, width: number, height: number) {\n  if (!store.audioBuffer) return;\n\n  const data = store.audioBuffer.getChannelData(0);\n  const step = Math.ceil(data.length / width);\n  const amp = height / 2;\n\n  ctx.fillStyle = '#1a1a1a';\n  ctx.fillRect(0, 0, width, height);\n\n  ctx.beginPath();\n  ctx.strokeStyle = '#4a90d9';\n  ctx.lineWidth = 1;\n\n  for (let i = 0; i < width; i++) {\n    let min = 1.0;\n    let max = -1.0;\n\n    for (let j = 0; j < step; j++) {\n      const sample = data[i * step + j];\n      if (sample < min) min = sample;\n      if (sample > max) max = sample;\n    }\n\n    const y1 = (1 + min) * amp;\n    const y2 = (1 + max) * amp;\n\n    ctx.moveTo(i, y1);\n    ctx.lineTo(i, y2);\n  }\n\n  ctx.stroke();\n\n  // Draw playhead\n  const playheadX = (store.currentFrame / store.frameCount) * width;\n  ctx.beginPath();\n  ctx.strokeStyle = '#fff';\n  ctx.lineWidth = 1;\n  ctx.moveTo(playheadX, 0);\n  ctx.lineTo(playheadX, height);\n  ctx.stroke();\n}\n\n// Simulate beat detection\nlet beatInterval: number;\n\nfunction startBeatSimulation() {\n  const bpm = detectedBPM.value;\n  const beatMs = 60000 / bpm;\n\n  beatInterval = window.setInterval(() => {\n    beatPulse.value = true;\n    setTimeout(() => {\n      beatPulse.value = false;\n    }, 100);\n\n    // Simulate frequency band changes\n    frequencyBands.value = frequencyBands.value.map(band => ({\n      ...band,\n      level: Math.min(100, Math.max(10, band.level + (Math.random() - 0.5) * 30))\n    }));\n  }, beatMs);\n}\n\nfunction stopBeatSimulation() {\n  clearInterval(beatInterval);\n}\n\n// Lifecycle\nonMounted(() => {\n  if (hasAudio.value) {\n    initWaveformVisualization();\n    startBeatSimulation();\n  }\n});\n\nonUnmounted(() => {\n  if (animationFrame) {\n    cancelAnimationFrame(animationFrame);\n  }\n  stopBeatSimulation();\n});\n\n// Watch audio changes\nwatch(hasAudio, (hasAudio) => {\n  if (hasAudio) {\n    setTimeout(() => {\n      initWaveformVisualization();\n      startBeatSimulation();\n    }, 100);\n  } else {\n    stopBeatSimulation();\n  }\n});\n\nwatch(() => store.currentFrame, () => {\n  if (hasAudio.value && waveformCanvas.value) {\n    const ctx = waveformCanvas.value.getContext('2d');\n    if (ctx) {\n      const rect = waveformCanvas.value.getBoundingClientRect();\n      drawStaticWaveform(ctx, rect.width, rect.height);\n    }\n  }\n});\n</script>\n\n<style scoped>\n.audio-panel {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: #1e1e1e;\n  color: #e0e0e0;\n  font-size: 11px;\n}\n\n.panel-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 10px;\n  background: #252525;\n  border-bottom: 1px solid #333;\n}\n\n.panel-title {\n  font-weight: 600;\n  font-size: 12px;\n}\n\n.header-actions button {\n  width: 24px;\n  height: 24px;\n  padding: 0;\n  border: none;\n  background: transparent;\n  color: #888;\n  border-radius: 3px;\n  cursor: pointer;\n}\n\n.header-actions button:hover {\n  background: #3a3a3a;\n  color: #e0e0e0;\n}\n\n.panel-content {\n  flex: 1;\n  overflow-y: auto;\n}\n\n.audio-info {\n  padding: 10px;\n  border-bottom: 1px solid #2a2a2a;\n}\n\n.file-info {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  padding: 8px;\n  background: #252525;\n  border-radius: 4px;\n}\n\n.file-icon {\n  font-size: 20px;\n}\n\n.file-details {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.file-name {\n  font-weight: 500;\n  font-size: 12px;\n}\n\n.file-meta {\n  font-size: 10px;\n  color: #888;\n}\n\n.remove-btn {\n  width: 24px;\n  height: 24px;\n  padding: 0;\n  border: none;\n  background: transparent;\n  color: #666;\n  border-radius: 3px;\n  cursor: pointer;\n  font-size: 16px;\n}\n\n.remove-btn:hover {\n  background: #3a3a3a;\n  color: #ff6b6b;\n}\n\n.control-section {\n  border-bottom: 1px solid #2a2a2a;\n}\n\n.section-header {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 8px 10px;\n  cursor: pointer;\n  user-select: none;\n}\n\n.section-header:hover {\n  background: #252525;\n}\n\n.expand-icon {\n  width: 10px;\n  font-size: 8px;\n  color: #666;\n}\n\n.section-title {\n  flex: 1;\n  font-weight: 500;\n}\n\n.section-content {\n  padding: 4px 10px 10px;\n}\n\n.control-row {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 4px 10px;\n  min-height: 26px;\n}\n\n.control-row label {\n  width: 80px;\n  color: #888;\n  font-size: 10px;\n  flex-shrink: 0;\n}\n\n.control-row > :last-child:not(label) {\n  flex: 1;\n}\n\n.mute-btn {\n  flex: 0 0 auto;\n  width: 28px;\n  height: 28px;\n  padding: 0;\n  border: none;\n  background: transparent;\n  color: #888;\n  border-radius: 3px;\n  cursor: pointer;\n  font-size: 14px;\n}\n\n.mute-btn:hover {\n  background: #3a3a3a;\n}\n\n.mute-btn.active {\n  color: #ff6b6b;\n}\n\n/* Waveform */\n.waveform-section {\n  padding: 10px;\n  border-bottom: 1px solid #2a2a2a;\n}\n\n.waveform-controls {\n  display: flex;\n  gap: 2px;\n}\n\n.waveform-controls button {\n  padding: 3px 8px;\n  border: none;\n  background: transparent;\n  color: #888;\n  font-size: 10px;\n  border-radius: 3px;\n  cursor: pointer;\n}\n\n.waveform-controls button:hover {\n  color: #e0e0e0;\n}\n\n.waveform-controls button.active {\n  background: #3a3a3a;\n  color: #e0e0e0;\n}\n\n.waveform-display {\n  margin-top: 8px;\n  height: 60px;\n  background: #1a1a1a;\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n.waveform-canvas {\n  width: 100%;\n  height: 100%;\n}\n\n/* Beat Detection */\n.beat-indicator {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px;\n  background: #252525;\n  border-radius: 4px;\n  margin-top: 8px;\n}\n\n.beat-label {\n  color: #888;\n}\n\n.beat-value {\n  font-family: 'SF Mono', Monaco, monospace;\n  font-size: 14px;\n  font-weight: 600;\n  color: #4a90d9;\n}\n\n.beat-pulse {\n  width: 12px;\n  height: 12px;\n  background: #333;\n  border-radius: 50%;\n  margin-left: auto;\n  transition: background 0.1s;\n}\n\n.beat-pulse.active {\n  background: #4a90d9;\n  box-shadow: 0 0 8px #4a90d9;\n}\n\n/* Frequency Bands */\n.frequency-bands {\n  display: flex;\n  gap: 8px;\n  padding: 8px;\n  background: #1a1a1a;\n  border-radius: 4px;\n}\n\n.band-item {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 4px;\n}\n\n.band-name {\n  font-size: 9px;\n  color: #888;\n}\n\n.band-meter {\n  width: 100%;\n  height: 60px;\n  background: #252525;\n  border-radius: 3px;\n  position: relative;\n  overflow: hidden;\n}\n\n.band-fill {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: linear-gradient(to top, #4a90d9, #7c9cff);\n  border-radius: 3px;\n  transition: height 0.1s;\n}\n\n.band-value {\n  font-size: 9px;\n  color: #666;\n  font-family: 'SF Mono', Monaco, monospace;\n}\n\n/* Selects */\n.layer-select,\n.property-select,\n.band-select {\n  flex: 1;\n  padding: 4px 8px;\n  background: #1a1a1a;\n  border: 1px solid #3a3a3a;\n  color: #e0e0e0;\n  border-radius: 3px;\n  font-size: 11px;\n}\n\n.reactivity-options {\n  margin-top: 8px;\n  padding: 8px;\n  background: #252525;\n  border-radius: 4px;\n}\n\n/* Empty State */\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  padding: 24px;\n  text-align: center;\n  color: #555;\n}\n\n.empty-icon {\n  font-size: 48px;\n  margin-bottom: 12px;\n  opacity: 0.5;\n}\n\n.load-btn {\n  margin-top: 12px;\n  padding: 8px 16px;\n  background: #4a90d9;\n  border: none;\n  color: #fff;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 12px;\n}\n\n.load-btn:hover {\n  background: #5aa0e9;\n}\n\n.hint {\n  font-size: 10px;\n  margin-top: 8px;\n  color: #555;\n}\n\n.icon {\n  font-size: 14px;\n}\n</style>\n","/**\n * Camera 3D Visualization Service\n * Generates geometry for camera wireframes, frustums, and guides\n */\n\nimport type { Camera3D, ViewType, CustomViewState } from '../types/camera';\nimport {\n  vec3, subVec3, addVec3, scaleVec3, normalizeVec3, crossVec3,\n  lookAtMat4, perspectiveMat4, orthographicMat4, invertMat4,\n  transformPoint, focalLengthToFOV,\n  type Vec3, type Mat4\n} from './math3d';\n\nexport interface LineSegment {\n  start: Vec3;\n  end: Vec3;\n  color: string;\n}\n\nexport interface CameraVisualization {\n  body: LineSegment[];           // Camera body wireframe\n  frustum: LineSegment[];        // View frustum cone\n  compositionBounds: LineSegment[];  // Comp as 3D rectangle\n  poiLine: LineSegment | null;   // Point of Interest connection\n  focalPlane: LineSegment[];     // DOF focus plane indicator\n  motionPath: Vec3[];            // Camera motion path points\n}\n\nexport interface ViewMatrices {\n  view: Mat4;\n  projection: Mat4;\n  viewProjection: Mat4;\n}\n\n// Camera body dimensions (in world units)\nconst CAMERA_BODY_SIZE = 40;\nconst CAMERA_LENS_LENGTH = 30;\nconst CAMERA_LENS_RADIUS = 15;\n\n/**\n * Generate camera body wireframe geometry\n */\nexport function generateCameraBody(camera: Camera3D): LineSegment[] {\n  const lines: LineSegment[] = [];\n  const color = '#ffcc00';  // Yellow for camera\n\n  // Camera is at position, looking towards POI (two-node) or along orientation (one-node)\n  const pos = camera.position;\n\n  // Get camera forward direction\n  let forward: Vec3;\n  if (camera.type === 'two-node') {\n    forward = normalizeVec3(subVec3(camera.pointOfInterest, pos));\n  } else {\n    // One-node: use orientation to determine forward\n    const radX = camera.orientation.x * Math.PI / 180;\n    const radY = camera.orientation.y * Math.PI / 180;\n    forward = vec3(\n      Math.sin(radY) * Math.cos(radX),\n      -Math.sin(radX),\n      Math.cos(radY) * Math.cos(radX)\n    );\n  }\n\n  // Get right and up vectors\n  const worldUp = vec3(0, -1, 0);  // Y-down in AE coordinate system\n  let right = normalizeVec3(crossVec3(forward, worldUp));\n  if (isNaN(right.x)) {\n    right = vec3(1, 0, 0);\n  }\n  const up = normalizeVec3(crossVec3(right, forward));\n\n  // Camera body - box behind the position\n  const halfSize = CAMERA_BODY_SIZE / 2;\n  const bodyBack = addVec3(pos, scaleVec3(forward, -CAMERA_BODY_SIZE));\n\n  // 8 corners of the body box\n  const corners: Vec3[] = [];\n  for (let z = 0; z < 2; z++) {\n    const zOffset = z === 0 ? pos : bodyBack;\n    for (let x = -1; x <= 1; x += 2) {\n      for (let y = -1; y <= 1; y += 2) {\n        corners.push(addVec3(\n          addVec3(zOffset, scaleVec3(right, x * halfSize)),\n          scaleVec3(up, y * halfSize)\n        ));\n      }\n    }\n  }\n\n  // Connect corners to form box\n  // Front face\n  lines.push({ start: corners[0], end: corners[1], color });\n  lines.push({ start: corners[1], end: corners[3], color });\n  lines.push({ start: corners[3], end: corners[2], color });\n  lines.push({ start: corners[2], end: corners[0], color });\n\n  // Back face\n  lines.push({ start: corners[4], end: corners[5], color });\n  lines.push({ start: corners[5], end: corners[7], color });\n  lines.push({ start: corners[7], end: corners[6], color });\n  lines.push({ start: corners[6], end: corners[4], color });\n\n  // Connecting edges\n  lines.push({ start: corners[0], end: corners[4], color });\n  lines.push({ start: corners[1], end: corners[5], color });\n  lines.push({ start: corners[2], end: corners[6], color });\n  lines.push({ start: corners[3], end: corners[7], color });\n\n  // Lens cone at front\n  const lensEnd = addVec3(pos, scaleVec3(forward, CAMERA_LENS_LENGTH));\n  const lensPoints = 8;\n  for (let i = 0; i < lensPoints; i++) {\n    const angle = (i / lensPoints) * Math.PI * 2;\n    const nextAngle = ((i + 1) / lensPoints) * Math.PI * 2;\n\n    const p1 = addVec3(\n      addVec3(pos, scaleVec3(right, Math.cos(angle) * halfSize * 0.5)),\n      scaleVec3(up, Math.sin(angle) * halfSize * 0.5)\n    );\n    const p2 = addVec3(\n      addVec3(pos, scaleVec3(right, Math.cos(nextAngle) * halfSize * 0.5)),\n      scaleVec3(up, Math.sin(nextAngle) * halfSize * 0.5)\n    );\n\n    // Lens ring at camera position\n    lines.push({ start: p1, end: p2, color });\n\n    // Lines to lens tip\n    lines.push({ start: p1, end: lensEnd, color });\n  }\n\n  return lines;\n}\n\n/**\n * Generate view frustum wireframe\n */\nexport function generateFrustum(\n  camera: Camera3D,\n  compWidth: number,\n  compHeight: number,\n  maxDistance: number = 2000\n): LineSegment[] {\n  const lines: LineSegment[] = [];\n  const color = '#7c9cff';  // Blue for frustum\n\n  const fovY = focalLengthToFOV(camera.focalLength, camera.filmSize);\n  const aspect = compWidth / compHeight;\n  const fovX = fovY * aspect;\n\n  const pos = camera.position;\n\n  // Get camera basis vectors\n  let forward: Vec3;\n  if (camera.type === 'two-node') {\n    forward = normalizeVec3(subVec3(camera.pointOfInterest, pos));\n  } else {\n    const radX = camera.orientation.x * Math.PI / 180;\n    const radY = camera.orientation.y * Math.PI / 180;\n    forward = vec3(\n      Math.sin(radY) * Math.cos(radX),\n      -Math.sin(radX),\n      Math.cos(radY) * Math.cos(radX)\n    );\n  }\n\n  const worldUp = vec3(0, -1, 0);\n  let right = normalizeVec3(crossVec3(forward, worldUp));\n  if (isNaN(right.x)) {\n    right = vec3(1, 0, 0);\n  }\n  const up = normalizeVec3(crossVec3(right, forward));\n\n  // Calculate frustum corners at near and far planes\n  const near = camera.nearClip;\n  const far = Math.min(camera.farClip, maxDistance);\n\n  const nearHalfHeight = near * Math.tan(fovY * Math.PI / 360);\n  const nearHalfWidth = nearHalfHeight * aspect;\n  const farHalfHeight = far * Math.tan(fovY * Math.PI / 360);\n  const farHalfWidth = farHalfHeight * aspect;\n\n  // Near plane corners\n  const nearCenter = addVec3(pos, scaleVec3(forward, near));\n  const nearCorners = [\n    addVec3(addVec3(nearCenter, scaleVec3(right, -nearHalfWidth)), scaleVec3(up, nearHalfHeight)),\n    addVec3(addVec3(nearCenter, scaleVec3(right, nearHalfWidth)), scaleVec3(up, nearHalfHeight)),\n    addVec3(addVec3(nearCenter, scaleVec3(right, nearHalfWidth)), scaleVec3(up, -nearHalfHeight)),\n    addVec3(addVec3(nearCenter, scaleVec3(right, -nearHalfWidth)), scaleVec3(up, -nearHalfHeight)),\n  ];\n\n  // Far plane corners\n  const farCenter = addVec3(pos, scaleVec3(forward, far));\n  const farCorners = [\n    addVec3(addVec3(farCenter, scaleVec3(right, -farHalfWidth)), scaleVec3(up, farHalfHeight)),\n    addVec3(addVec3(farCenter, scaleVec3(right, farHalfWidth)), scaleVec3(up, farHalfHeight)),\n    addVec3(addVec3(farCenter, scaleVec3(right, farHalfWidth)), scaleVec3(up, -farHalfHeight)),\n    addVec3(addVec3(farCenter, scaleVec3(right, -farHalfWidth)), scaleVec3(up, -farHalfHeight)),\n  ];\n\n  // Draw near plane\n  for (let i = 0; i < 4; i++) {\n    lines.push({ start: nearCorners[i], end: nearCorners[(i + 1) % 4], color });\n  }\n\n  // Draw far plane\n  for (let i = 0; i < 4; i++) {\n    lines.push({ start: farCorners[i], end: farCorners[(i + 1) % 4], color });\n  }\n\n  // Connect near to far\n  for (let i = 0; i < 4; i++) {\n    lines.push({ start: nearCorners[i], end: farCorners[i], color });\n  }\n\n  return lines;\n}\n\n/**\n * Generate composition bounds as 3D rectangle at Z=0\n */\nexport function generateCompositionBounds(\n  compWidth: number,\n  compHeight: number\n): LineSegment[] {\n  const color = '#00ff88';  // Green for comp bounds\n\n  const corners: Vec3[] = [\n    vec3(0, 0, 0),\n    vec3(compWidth, 0, 0),\n    vec3(compWidth, compHeight, 0),\n    vec3(0, compHeight, 0),\n  ];\n\n  const lines: LineSegment[] = [];\n  for (let i = 0; i < 4; i++) {\n    lines.push({ start: corners[i], end: corners[(i + 1) % 4], color });\n  }\n\n  // Cross lines for center reference\n  lines.push({ start: corners[0], end: corners[2], color: '#005533' });\n  lines.push({ start: corners[1], end: corners[3], color: '#005533' });\n\n  return lines;\n}\n\n/**\n * Generate point of interest connection line\n */\nexport function generatePOILine(camera: Camera3D): LineSegment | null {\n  if (camera.type !== 'two-node') {\n    return null;\n  }\n\n  return {\n    start: camera.position,\n    end: camera.pointOfInterest,\n    color: '#ff6600'  // Orange for POI connection\n  };\n}\n\n/**\n * Generate focal plane indicator for DOF\n */\nexport function generateFocalPlane(\n  camera: Camera3D,\n  compWidth: number,\n  compHeight: number\n): LineSegment[] {\n  if (!camera.depthOfField.enabled) {\n    return [];\n  }\n\n  const color = '#ff00ff';  // Magenta for focal plane\n  const lines: LineSegment[] = [];\n\n  const pos = camera.position;\n  const focusDist = camera.depthOfField.focusDistance;\n\n  // Get camera forward direction\n  let forward: Vec3;\n  if (camera.type === 'two-node') {\n    forward = normalizeVec3(subVec3(camera.pointOfInterest, pos));\n  } else {\n    const radX = camera.orientation.x * Math.PI / 180;\n    const radY = camera.orientation.y * Math.PI / 180;\n    forward = vec3(\n      Math.sin(radY) * Math.cos(radX),\n      -Math.sin(radX),\n      Math.cos(radY) * Math.cos(radX)\n    );\n  }\n\n  const worldUp = vec3(0, -1, 0);\n  let right = normalizeVec3(crossVec3(forward, worldUp));\n  if (isNaN(right.x)) {\n    right = vec3(1, 0, 0);\n  }\n  const up = normalizeVec3(crossVec3(right, forward));\n\n  // Focal plane center\n  const center = addVec3(pos, scaleVec3(forward, focusDist));\n\n  // Draw a rectangle representing the focal plane\n  const halfWidth = compWidth / 4;\n  const halfHeight = compHeight / 4;\n\n  const corners = [\n    addVec3(addVec3(center, scaleVec3(right, -halfWidth)), scaleVec3(up, halfHeight)),\n    addVec3(addVec3(center, scaleVec3(right, halfWidth)), scaleVec3(up, halfHeight)),\n    addVec3(addVec3(center, scaleVec3(right, halfWidth)), scaleVec3(up, -halfHeight)),\n    addVec3(addVec3(center, scaleVec3(right, -halfWidth)), scaleVec3(up, -halfHeight)),\n  ];\n\n  for (let i = 0; i < 4; i++) {\n    lines.push({ start: corners[i], end: corners[(i + 1) % 4], color });\n  }\n\n  return lines;\n}\n\n/**\n * Generate complete camera visualization\n */\nexport function generateCameraVisualization(\n  camera: Camera3D,\n  compWidth: number,\n  compHeight: number,\n  showFrustum: boolean = true,\n  showBounds: boolean = true,\n  showFocalPlane: boolean = false\n): CameraVisualization {\n  return {\n    body: generateCameraBody(camera),\n    frustum: showFrustum ? generateFrustum(camera, compWidth, compHeight) : [],\n    compositionBounds: showBounds ? generateCompositionBounds(compWidth, compHeight) : [],\n    poiLine: generatePOILine(camera),\n    focalPlane: showFocalPlane ? generateFocalPlane(camera, compWidth, compHeight) : [],\n    motionPath: []  // Populated separately from keyframes\n  };\n}\n\n/**\n * Calculate view matrices for a camera\n */\nexport function getCameraViewMatrices(\n  camera: Camera3D,\n  compWidth: number,\n  compHeight: number\n): ViewMatrices {\n  const aspect = compWidth / compHeight;\n  const fovY = focalLengthToFOV(camera.focalLength, camera.filmSize);\n\n  // View matrix\n  let target: Vec3;\n  if (camera.type === 'two-node') {\n    target = camera.pointOfInterest;\n  } else {\n    // One-node: calculate target from orientation\n    const radX = camera.orientation.x * Math.PI / 180;\n    const radY = camera.orientation.y * Math.PI / 180;\n    const forward = vec3(\n      Math.sin(radY) * Math.cos(radX),\n      -Math.sin(radX),\n      Math.cos(radY) * Math.cos(radX)\n    );\n    target = addVec3(camera.position, scaleVec3(forward, 1000));\n  }\n\n  const view = lookAtMat4(camera.position, target, vec3(0, -1, 0));\n\n  // Projection matrix\n  const projection = perspectiveMat4(fovY, aspect, camera.nearClip, camera.farClip);\n\n  // Combined view-projection\n  const viewProjection = multiplyMat4Local(projection, view);\n\n  return { view, projection, viewProjection };\n}\n\n/**\n * Calculate view matrices for orthographic views\n */\nexport function getOrthoViewMatrices(\n  viewType: ViewType,\n  compWidth: number,\n  compHeight: number,\n  customView?: CustomViewState\n): ViewMatrices {\n  const aspect = compWidth / compHeight;\n  let view: Mat4;\n  let size = 1000;  // Orthographic view size\n\n  const centerX = compWidth / 2;\n  const centerY = compHeight / 2;\n\n  switch (viewType) {\n    case 'front':\n      view = lookAtMat4(\n        vec3(centerX, centerY, -2000),\n        vec3(centerX, centerY, 0),\n        vec3(0, -1, 0)\n      );\n      break;\n    case 'back':\n      view = lookAtMat4(\n        vec3(centerX, centerY, 2000),\n        vec3(centerX, centerY, 0),\n        vec3(0, -1, 0)\n      );\n      break;\n    case 'left':\n      view = lookAtMat4(\n        vec3(-2000, centerY, 0),\n        vec3(centerX, centerY, 0),\n        vec3(0, -1, 0)\n      );\n      break;\n    case 'right':\n      view = lookAtMat4(\n        vec3(centerX + 2000, centerY, 0),\n        vec3(centerX, centerY, 0),\n        vec3(0, -1, 0)\n      );\n      break;\n    case 'top':\n      view = lookAtMat4(\n        vec3(centerX, -2000, 0),\n        vec3(centerX, centerY, 0),\n        vec3(0, 0, 1)\n      );\n      break;\n    case 'bottom':\n      view = lookAtMat4(\n        vec3(centerX, centerY + 2000, 0),\n        vec3(centerX, centerY, 0),\n        vec3(0, 0, -1)\n      );\n      break;\n    case 'custom-1':\n    case 'custom-2':\n    case 'custom-3':\n      if (customView) {\n        const phi = customView.orbitPhi * Math.PI / 180;\n        const theta = customView.orbitTheta * Math.PI / 180;\n        const dist = customView.orbitDistance;\n\n        const eye = vec3(\n          customView.orbitCenter.x + dist * Math.sin(phi) * Math.sin(theta),\n          customView.orbitCenter.y + dist * Math.cos(phi),\n          customView.orbitCenter.z + dist * Math.sin(phi) * Math.cos(theta)\n        );\n\n        view = lookAtMat4(\n          eye,\n          customView.orbitCenter,\n          vec3(0, -1, 0)\n        );\n        size = 1000 / customView.orthoZoom;\n      } else {\n        view = lookAtMat4(\n          vec3(centerX, centerY, -2000),\n          vec3(centerX, centerY, 0),\n          vec3(0, -1, 0)\n        );\n      }\n      break;\n    default:\n      view = lookAtMat4(\n        vec3(centerX, centerY, -2000),\n        vec3(centerX, centerY, 0),\n        vec3(0, -1, 0)\n      );\n  }\n\n  const projection = orthographicMat4(\n    -size * aspect,\n    size * aspect,\n    -size,\n    size,\n    1,\n    10000\n  );\n\n  const viewProjection = multiplyMat4Local(projection, view);\n\n  return { view, projection, viewProjection };\n}\n\n// Helper function - need to add to math3d or inline\nfunction multiplyMat4Local(a: Mat4, b: Mat4): Mat4 {\n  const ae = a.elements;\n  const be = b.elements;\n  const result = new Float32Array(16);\n\n  for (let row = 0; row < 4; row++) {\n    for (let col = 0; col < 4; col++) {\n      let sum = 0;\n      for (let i = 0; i < 4; i++) {\n        sum += ae[row + i * 4] * be[i + col * 4];\n      }\n      result[row + col * 4] = sum;\n    }\n  }\n\n  return { elements: result };\n}\n\n/**\n * Project 3D point to 2D screen coordinates\n */\nexport function projectToScreen(\n  point: Vec3,\n  viewProjection: Mat4,\n  screenWidth: number,\n  screenHeight: number\n): { x: number; y: number; z: number; visible: boolean } {\n  const transformed = transformPoint(viewProjection, point);\n  const vp = viewProjection.elements;\n\n  // Check if point is behind camera\n  const w = point.x * vp[3] + point.y * vp[7] +\n            point.z * vp[11] + vp[15];\n\n  if (w <= 0) {\n    return { x: 0, y: 0, z: transformed.z, visible: false };\n  }\n\n  // Normalize by w and convert to screen space\n  const x = ((transformed.x / w) * 0.5 + 0.5) * screenWidth;\n  const y = ((-transformed.y / w) * 0.5 + 0.5) * screenHeight;\n\n  return {\n    x,\n    y,\n    z: transformed.z / w,\n    visible: true\n  };\n}\n\n/**\n * Generate 3D reference axes\n */\nexport function generate3DAxes(\n  center: Vec3,\n  length: number = 100\n): LineSegment[] {\n  return [\n    { start: center, end: addVec3(center, vec3(length, 0, 0)), color: '#ff0000' },  // X - Red\n    { start: center, end: addVec3(center, vec3(0, length, 0)), color: '#00ff00' },  // Y - Green\n    { start: center, end: addVec3(center, vec3(0, 0, length)), color: '#0000ff' },  // Z - Blue\n  ];\n}\n\n/**\n * Generate grid lines on XY plane at Z=0\n */\nexport function generateGrid(\n  compWidth: number,\n  compHeight: number,\n  spacing: number = 100\n): LineSegment[] {\n  const lines: LineSegment[] = [];\n  const color = '#333333';\n  const centerColor = '#444444';\n\n  const centerX = compWidth / 2;\n  const centerY = compHeight / 2;\n  const extent = Math.max(compWidth, compHeight);\n\n  // Vertical lines\n  for (let x = -extent; x <= extent + compWidth; x += spacing) {\n    const isCenter = Math.abs(x - centerX) < spacing / 2;\n    lines.push({\n      start: vec3(x, -extent, 0),\n      end: vec3(x, extent + compHeight, 0),\n      color: isCenter ? centerColor : color\n    });\n  }\n\n  // Horizontal lines\n  for (let y = -extent; y <= extent + compHeight; y += spacing) {\n    const isCenter = Math.abs(y - centerY) < spacing / 2;\n    lines.push({\n      start: vec3(-extent, y, 0),\n      end: vec3(extent + compWidth, y, 0),\n      color: isCenter ? centerColor : color\n    });\n  }\n\n  return lines;\n}\n","<template>\n  <div class=\"viewport-renderer\" :class=\"[`layout-${layout}`]\">\n    <!-- View panels based on layout -->\n    <div\n      v-for=\"(viewType, index) in activeViews\"\n      :key=\"index\"\n      class=\"view-panel\"\n      :class=\"{ active: index === activeViewIndex }\"\n      @click=\"setActiveView(index)\"\n    >\n      <!-- View header -->\n      <div class=\"view-header\">\n        <select\n          :value=\"viewType\"\n          @change=\"updateViewType(index, ($event.target as HTMLSelectElement).value as ViewType)\"\n          class=\"view-select\"\n        >\n          <option value=\"active-camera\">Active Camera</option>\n          <option value=\"custom-1\">Custom View 1</option>\n          <option value=\"custom-2\">Custom View 2</option>\n          <option value=\"custom-3\">Custom View 3</option>\n          <option value=\"front\">Front</option>\n          <option value=\"back\">Back</option>\n          <option value=\"left\">Left</option>\n          <option value=\"right\">Right</option>\n          <option value=\"top\">Top</option>\n          <option value=\"bottom\">Bottom</option>\n        </select>\n\n        <div class=\"view-tools\">\n          <button\n            v-if=\"isCustomView(viewType)\"\n            @click.stop=\"resetCustomView(viewType)\"\n            title=\"Reset View\"\n          >\n            <span class=\"icon\"></span>\n          </button>\n        </div>\n      </div>\n\n      <!-- Canvas for this view -->\n      <canvas\n        :ref=\"el => setCanvasRef(el as HTMLCanvasElement, index)\"\n        class=\"view-canvas\"\n        @mousedown=\"onCanvasMouseDown($event, index)\"\n        @wheel=\"onCanvasWheel($event, index)\"\n        @contextmenu.prevent\n      />\n\n      <!-- View info overlay -->\n      <div class=\"view-info\">\n        <span class=\"view-name\">{{ getViewDisplayName(viewType) }}</span>\n        <span v-if=\"isCustomView(viewType)\" class=\"view-coords\">\n          : {{ Math.round(customViews[viewType]?.orbitTheta ?? 0) }}\n          : {{ Math.round(customViews[viewType]?.orbitPhi ?? 0) }}\n        </span>\n      </div>\n    </div>\n\n    <!-- Layout selector -->\n    <div class=\"layout-controls\">\n      <button\n        v-for=\"layoutOption in layoutOptions\"\n        :key=\"layoutOption.value\"\n        :class=\"{ active: layout === layoutOption.value }\"\n        @click=\"setLayout(layoutOption.value)\"\n        :title=\"layoutOption.label\"\n      >\n        {{ layoutOption.icon }}\n      </button>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch, onMounted, onUnmounted } from 'vue';\nimport type {\n  Camera3D,\n  ViewType,\n  ViewLayout,\n  ViewportState,\n  CustomViewState,\n  ViewOptions\n} from '../../types/camera';\nimport {\n  generateCameraVisualization,\n  getCameraViewMatrices,\n  getOrthoViewMatrices,\n  projectToScreen,\n  generate3DAxes,\n  generateGrid,\n  type LineSegment,\n  type ViewMatrices\n} from '../../services/camera3DVisualization';\nimport { vec3 } from '../../services/math3d';\n\ninterface Props {\n  camera: Camera3D | null;\n  compWidth: number;\n  compHeight: number;\n  viewportState: ViewportState;\n  viewOptions: ViewOptions;\n  layers?: Array<{\n    id: string;\n    name: string;\n    position: { x: number; y: number; z: number };\n    selected: boolean;\n  }>;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  layers: () => []\n});\n\nconst emit = defineEmits<{\n  (e: 'update:viewportState', state: ViewportState): void;\n  (e: 'selectLayer', layerId: string): void;\n}>();\n\n// Canvas refs for each view\nconst canvasRefs = ref<(HTMLCanvasElement | null)[]>([null, null, null, null]);\nconst contexts = ref<(CanvasRenderingContext2D | null)[]>([null, null, null, null]);\n\n// Interaction state\nconst isDragging = ref(false);\nconst dragStartPos = ref({ x: 0, y: 0 });\nconst dragViewIndex = ref(0);\nconst dragButton = ref(0);\n\n// Layout options\nconst layoutOptions = [\n  { value: '1-view' as ViewLayout, label: '1 View', icon: '' },\n  { value: '2-view-horizontal' as ViewLayout, label: '2 Views Horizontal', icon: '' },\n  { value: '2-view-vertical' as ViewLayout, label: '2 Views Vertical', icon: '' },\n  { value: '4-view' as ViewLayout, label: '4 Views', icon: '' },\n];\n\n// Computed properties\nconst layout = computed(() => props.viewportState.layout);\nconst activeViewIndex = computed(() => props.viewportState.activeViewIndex);\nconst customViews = computed(() => props.viewportState.customViews);\n\nconst activeViews = computed(() => {\n  switch (props.viewportState.layout) {\n    case '1-view':\n      return [props.viewportState.views[0]];\n    case '2-view-horizontal':\n    case '2-view-vertical':\n      return props.viewportState.views.slice(0, 2);\n    case '4-view':\n      return props.viewportState.views.slice(0, 4);\n    default:\n      return [props.viewportState.views[0]];\n  }\n});\n\nfunction setCanvasRef(el: HTMLCanvasElement | null, index: number) {\n  canvasRefs.value[index] = el;\n  if (el) {\n    contexts.value[index] = el.getContext('2d');\n  }\n}\n\nfunction isCustomView(viewType: ViewType): viewType is 'custom-1' | 'custom-2' | 'custom-3' {\n  return viewType.startsWith('custom-');\n}\n\nfunction getViewDisplayName(viewType: ViewType): string {\n  const names: Record<ViewType, string> = {\n    'active-camera': 'Camera',\n    'custom-1': 'Custom 1',\n    'custom-2': 'Custom 2',\n    'custom-3': 'Custom 3',\n    'front': 'Front',\n    'back': 'Back',\n    'left': 'Left',\n    'right': 'Right',\n    'top': 'Top',\n    'bottom': 'Bottom',\n  };\n  return names[viewType];\n}\n\nfunction setActiveView(index: number) {\n  emit('update:viewportState', {\n    ...props.viewportState,\n    activeViewIndex: index\n  });\n}\n\nfunction updateViewType(index: number, viewType: ViewType) {\n  const newViews = [...props.viewportState.views];\n  newViews[index] = viewType;\n  emit('update:viewportState', {\n    ...props.viewportState,\n    views: newViews\n  });\n}\n\nfunction setLayout(newLayout: ViewLayout) {\n  // Ensure we have enough views\n  let newViews = [...props.viewportState.views];\n  while (newViews.length < 4) {\n    newViews.push('front');\n  }\n\n  emit('update:viewportState', {\n    ...props.viewportState,\n    layout: newLayout,\n    views: newViews,\n    activeViewIndex: Math.min(props.viewportState.activeViewIndex, getViewCount(newLayout) - 1)\n  });\n}\n\nfunction getViewCount(layout: ViewLayout): number {\n  switch (layout) {\n    case '1-view': return 1;\n    case '2-view-horizontal':\n    case '2-view-vertical': return 2;\n    case '4-view': return 4;\n    default: return 1;\n  }\n}\n\nfunction resetCustomView(viewType: 'custom-1' | 'custom-2' | 'custom-3') {\n  const defaultView: CustomViewState = {\n    orbitCenter: { x: props.compWidth / 2, y: props.compHeight / 2, z: 0 },\n    orbitDistance: 2000,\n    orbitPhi: 60,\n    orbitTheta: 45,\n    orthoZoom: 1,\n    orthoOffset: { x: 0, y: 0 }\n  };\n\n  emit('update:viewportState', {\n    ...props.viewportState,\n    customViews: {\n      ...props.viewportState.customViews,\n      [viewType]: defaultView\n    }\n  });\n}\n\n// Mouse interaction handlers\nfunction onCanvasMouseDown(e: MouseEvent, viewIndex: number) {\n  isDragging.value = true;\n  dragStartPos.value = { x: e.clientX, y: e.clientY };\n  dragViewIndex.value = viewIndex;\n  dragButton.value = e.button;\n\n  document.addEventListener('mousemove', onCanvasMouseMove);\n  document.addEventListener('mouseup', onCanvasMouseUp);\n}\n\nfunction onCanvasMouseMove(e: MouseEvent) {\n  if (!isDragging.value) return;\n\n  const dx = e.clientX - dragStartPos.value.x;\n  const dy = e.clientY - dragStartPos.value.y;\n  dragStartPos.value = { x: e.clientX, y: e.clientY };\n\n  const viewType = activeViews.value[dragViewIndex.value];\n\n  if (isCustomView(viewType)) {\n    const customView = customViews.value[viewType];\n\n    if (dragButton.value === 0) {\n      // Left button: orbit\n      const newTheta = customView.orbitTheta + dx * 0.5;\n      const newPhi = Math.max(1, Math.min(179, customView.orbitPhi + dy * 0.5));\n\n      emit('update:viewportState', {\n        ...props.viewportState,\n        customViews: {\n          ...props.viewportState.customViews,\n          [viewType]: {\n            ...customView,\n            orbitTheta: newTheta,\n            orbitPhi: newPhi\n          }\n        }\n      });\n    } else if (dragButton.value === 1 || dragButton.value === 2) {\n      // Middle/right button: pan\n      emit('update:viewportState', {\n        ...props.viewportState,\n        customViews: {\n          ...props.viewportState.customViews,\n          [viewType]: {\n            ...customView,\n            orthoOffset: {\n              x: customView.orthoOffset.x + dx,\n              y: customView.orthoOffset.y + dy\n            }\n          }\n        }\n      });\n    }\n  }\n}\n\nfunction onCanvasMouseUp() {\n  isDragging.value = false;\n  document.removeEventListener('mousemove', onCanvasMouseMove);\n  document.removeEventListener('mouseup', onCanvasMouseUp);\n}\n\nfunction onCanvasWheel(e: WheelEvent, viewIndex: number) {\n  e.preventDefault();\n\n  const viewType = activeViews.value[viewIndex];\n\n  if (isCustomView(viewType)) {\n    const customView = customViews.value[viewType];\n    const zoomFactor = e.deltaY > 0 ? 1.1 : 0.9;\n\n    emit('update:viewportState', {\n      ...props.viewportState,\n      customViews: {\n        ...props.viewportState.customViews,\n        [viewType]: {\n          ...customView,\n          orbitDistance: customView.orbitDistance * zoomFactor\n        }\n      }\n    });\n  }\n}\n\n// Rendering\nfunction render() {\n  activeViews.value.forEach((viewType, index) => {\n    const canvas = canvasRefs.value[index];\n    const ctx = contexts.value[index];\n    if (!canvas || !ctx) return;\n\n    // Update canvas size\n    const rect = canvas.getBoundingClientRect();\n    const dpr = window.devicePixelRatio || 1;\n    canvas.width = rect.width * dpr;\n    canvas.height = rect.height * dpr;\n    ctx.scale(dpr, dpr);\n\n    // Clear\n    ctx.fillStyle = '#1a1a1a';\n    ctx.fillRect(0, 0, rect.width, rect.height);\n\n    // Get view matrices\n    let matrices: ViewMatrices;\n    if (viewType === 'active-camera' && props.camera) {\n      matrices = getCameraViewMatrices(props.camera, props.compWidth, props.compHeight);\n    } else if (isCustomView(viewType)) {\n      matrices = getOrthoViewMatrices(viewType, props.compWidth, props.compHeight, customViews.value[viewType]);\n    } else {\n      matrices = getOrthoViewMatrices(viewType, props.compWidth, props.compHeight);\n    }\n\n    // Collect all lines to draw\n    const lines: LineSegment[] = [];\n\n    // Grid\n    if (props.viewOptions.showGrid) {\n      lines.push(...generateGrid(props.compWidth, props.compHeight));\n    }\n\n    // 3D axes\n    if (props.viewOptions.show3DReferenceAxes) {\n      lines.push(...generate3DAxes(vec3(props.compWidth / 2, props.compHeight / 2, 0)));\n    }\n\n    // Composition bounds\n    if (props.viewOptions.showCompositionBounds) {\n      const viz = generateCameraVisualization(\n        props.camera ?? createDummyCamera(),\n        props.compWidth,\n        props.compHeight,\n        false,\n        true,\n        false\n      );\n      lines.push(...viz.compositionBounds);\n    }\n\n    // Camera visualization (not for active-camera view)\n    if (viewType !== 'active-camera' && props.camera) {\n      const showWireframe = props.viewOptions.cameraWireframes === 'always' ||\n        (props.viewOptions.cameraWireframes === 'selected');\n\n      if (showWireframe) {\n        const viz = generateCameraVisualization(\n          props.camera,\n          props.compWidth,\n          props.compHeight,\n          true,\n          false,\n          props.viewOptions.showFocalPlane\n        );\n        lines.push(...viz.body);\n        lines.push(...viz.frustum);\n        lines.push(...viz.focalPlane);\n        if (viz.poiLine) {\n          lines.push(viz.poiLine);\n        }\n      }\n    }\n\n    // Draw all lines\n    for (const line of lines) {\n      const start = projectToScreen(line.start, matrices.viewProjection, rect.width, rect.height);\n      const end = projectToScreen(line.end, matrices.viewProjection, rect.width, rect.height);\n\n      if (!start.visible && !end.visible) continue;\n\n      ctx.beginPath();\n      ctx.strokeStyle = line.color;\n      ctx.lineWidth = 1;\n      ctx.moveTo(start.x, start.y);\n      ctx.lineTo(end.x, end.y);\n      ctx.stroke();\n    }\n\n    // Draw layer handles\n    if (props.viewOptions.showLayerHandles) {\n      for (const layer of props.layers) {\n        const pos = projectToScreen(layer.position, matrices.viewProjection, rect.width, rect.height);\n        if (!pos.visible) continue;\n\n        ctx.beginPath();\n        ctx.fillStyle = layer.selected ? '#ffcc00' : '#888888';\n        ctx.arc(pos.x, pos.y, layer.selected ? 6 : 4, 0, Math.PI * 2);\n        ctx.fill();\n\n        ctx.fillStyle = '#ffffff';\n        ctx.font = '10px sans-serif';\n        ctx.fillText(layer.name, pos.x + 8, pos.y + 4);\n      }\n    }\n  });\n}\n\nfunction createDummyCamera(): Camera3D {\n  return {\n    id: 'dummy',\n    name: 'Dummy',\n    type: 'two-node',\n    position: { x: props.compWidth / 2, y: props.compHeight / 2, z: -1500 },\n    pointOfInterest: { x: props.compWidth / 2, y: props.compHeight / 2, z: 0 },\n    orientation: { x: 0, y: 0, z: 0 },\n    xRotation: 0,\n    yRotation: 0,\n    zRotation: 0,\n    zoom: 1778,\n    focalLength: 50,\n    angleOfView: 39.6,\n    filmSize: 36,\n    measureFilmSize: 'horizontal',\n    depthOfField: {\n      enabled: false,\n      focusDistance: 1500,\n      aperture: 50,\n      fStop: 2.8,\n      blurLevel: 1,\n      lockToZoom: false\n    },\n    iris: {\n      shape: 7,\n      rotation: 0,\n      roundness: 0,\n      aspectRatio: 1,\n      diffractionFringe: 0\n    },\n    highlight: {\n      gain: 0,\n      threshold: 1,\n      saturation: 1\n    },\n    autoOrient: 'off',\n    nearClip: 1,\n    farClip: 10000\n  };\n}\n\n// Animation loop\nlet animationId: number;\n\nfunction animate() {\n  render();\n  animationId = requestAnimationFrame(animate);\n}\n\nonMounted(() => {\n  animate();\n});\n\nonUnmounted(() => {\n  cancelAnimationFrame(animationId);\n});\n\n// Re-render when props change\nwatch(() => [props.camera, props.viewportState, props.viewOptions, props.layers], () => {\n  // Animation loop handles this\n}, { deep: true });\n</script>\n\n<style scoped>\n.viewport-renderer {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: grid;\n  gap: 2px;\n  background: #0a0a0a;\n}\n\n.layout-1-view {\n  grid-template-columns: 1fr;\n  grid-template-rows: 1fr;\n}\n\n.layout-2-view-horizontal {\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: 1fr;\n}\n\n.layout-2-view-vertical {\n  grid-template-columns: 1fr;\n  grid-template-rows: 1fr 1fr;\n}\n\n.layout-4-view {\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: 1fr 1fr;\n}\n\n.view-panel {\n  position: relative;\n  background: #1a1a1a;\n  border: 1px solid #333;\n  overflow: hidden;\n}\n\n.view-panel.active {\n  border-color: #7c9cff;\n}\n\n.view-header {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  padding: 0 4px;\n  background: rgba(0, 0, 0, 0.7);\n  z-index: 10;\n}\n\n.view-select {\n  flex: 1;\n  background: transparent;\n  border: none;\n  color: #888;\n  font-size: 11px;\n  cursor: pointer;\n  outline: none;\n}\n\n.view-select:hover {\n  color: #e0e0e0;\n}\n\n.view-tools {\n  display: flex;\n  gap: 4px;\n}\n\n.view-tools button {\n  width: 20px;\n  height: 20px;\n  border: none;\n  background: transparent;\n  color: #666;\n  cursor: pointer;\n  font-size: 12px;\n}\n\n.view-tools button:hover {\n  color: #e0e0e0;\n}\n\n.view-canvas {\n  width: 100%;\n  height: 100%;\n  display: block;\n}\n\n.view-info {\n  position: absolute;\n  bottom: 4px;\n  left: 4px;\n  display: flex;\n  gap: 8px;\n  font-size: 10px;\n  color: #666;\n  pointer-events: none;\n}\n\n.layout-controls {\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  display: flex;\n  gap: 2px;\n  z-index: 20;\n}\n\n.layout-controls button {\n  width: 24px;\n  height: 24px;\n  border: 1px solid #333;\n  border-radius: 3px;\n  background: rgba(30, 30, 30, 0.9);\n  color: #666;\n  cursor: pointer;\n  font-size: 12px;\n}\n\n.layout-controls button:hover {\n  background: #333;\n  color: #e0e0e0;\n}\n\n.layout-controls button.active {\n  background: #7c9cff;\n  border-color: #7c9cff;\n  color: #fff;\n}\n</style>\n","function t(t,e,s){return(e=function(t){var e=function(t,e){if(\"object\"!=typeof t||!t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var i=s.call(t,e||\"default\");if(\"object\"!=typeof i)return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==typeof e?e:e+\"\"}(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function e(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function s(s){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{};i%2?e(Object(r),!0).forEach((function(e){t(s,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(t){Object.defineProperty(s,t,Object.getOwnPropertyDescriptor(r,t))}))}return s}function i(t,e){if(null==t)return{};var s,i,r=function(t,e){if(null==t)return{};var s={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;s[i]=t[i]}return s}(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(i=0;i<n.length;i++)s=n[i],e.indexOf(s)>=0||{}.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function r(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}class n{constructor(){t(this,\"browserShadowBlurConstant\",1),t(this,\"DPI\",96),t(this,\"devicePixelRatio\",\"undefined\"!=typeof window?window.devicePixelRatio:1),t(this,\"perfLimitSizeTotal\",2097152),t(this,\"maxCacheSideLimit\",4096),t(this,\"minCacheSideLimit\",256),t(this,\"disableStyleCopyPaste\",!1),t(this,\"enableGLFiltering\",!0),t(this,\"textureSize\",4096),t(this,\"forceGLPutImageData\",!1),t(this,\"cachesBoundsOfCurve\",!1),t(this,\"fontPaths\",{}),t(this,\"NUM_FRACTION_DIGITS\",4)}}const o=new class extends n{constructor(t){super(),this.configure(t)}configure(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this,t)}addFonts(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.fontPaths=s(s({},this.fontPaths),t)}removeFonts(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((t=>{delete this.fontPaths[t]}))}clearFonts(){this.fontPaths={}}restoreDefaults(t){const e=new n,s=(null==t?void 0:t.reduce(((t,s)=>(t[s]=e[s],t)),{}))||e;this.configure(s)}},a=function(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];return console[t](\"fabric\",...s)};class h extends Error{constructor(t,e){super(\"fabric: \".concat(t),e)}}class c extends h{constructor(t){super(\"\".concat(t,\" 'options.signal' is in 'aborted' state\"))}}class l{}class u extends l{testPrecision(t,e){const s=\"precision \".concat(e,\" float;\\nvoid main(){}\"),i=t.createShader(t.FRAGMENT_SHADER);return!!i&&(t.shaderSource(i,s),t.compileShader(i),!!t.getShaderParameter(i,t.COMPILE_STATUS))}queryWebGL(t){const e=t.getContext(\"webgl\");e&&(this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.GLPrecision=[\"highp\",\"mediump\",\"lowp\"].find((t=>this.testPrecision(e,t))),e.getExtension(\"WEBGL_lose_context\").loseContext(),a(\"log\",\"WebGL: max texture size \".concat(this.maxTextureSize)))}isSupported(t){return!!this.maxTextureSize&&this.maxTextureSize>=t}}const d={};let g;const f=t=>{g=t},p=()=>g||(g={document:document,window:window,isTouchSupported:\"ontouchstart\"in window||\"ontouchstart\"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new u,dispose(){},copyPasteData:d}),m=()=>p().document,v=()=>p().window,y=()=>{var t;return Math.max(null!==(t=o.devicePixelRatio)&&void 0!==t?t:v().devicePixelRatio,1)};const _=new class{constructor(){t(this,\"boundsOfCurveCache\",{}),this.charWidthsCache=new Map}getFontCache(t){let{fontFamily:e,fontStyle:s,fontWeight:i}=t;e=e.toLowerCase();const r=this.charWidthsCache;r.has(e)||r.set(e,new Map);const n=r.get(e),o=\"\".concat(s.toLowerCase(),\"_\").concat((i+\"\").toLowerCase());return n.has(o)||n.set(o,new Map),n.get(o)}clearFontCache(t){t?this.charWidthsCache.delete((t||\"\").toLowerCase()):this.charWidthsCache=new Map}limitDimsByArea(t){const{perfLimitSizeTotal:e}=o,s=Math.sqrt(e*t);return[Math.floor(s),Math.floor(e/s)]}};const x=\"6.9.0\";function C(){}const b=Math.PI/2,S=2*Math.PI,w=Math.PI/180,T=Object.freeze([1,0,0,1,0,0]),O=16,k=.4477152502,D=\"center\",M=\"left\",P=\"top\",E=\"bottom\",A=\"right\",j=\"none\",F=/\\r?\\n/,L=\"moving\",R=\"scaling\",I=\"rotating\",B=\"rotate\",X=\"skewing\",Y=\"resizing\",W=\"modifyPoly\",V=\"modifyPath\",z=\"changed\",G=\"scale\",H=\"scaleX\",N=\"scaleY\",U=\"skewX\",q=\"skewY\",K=\"fill\",J=\"stroke\",Q=\"modified\",Z=\"json\",$=\"svg\";const tt=new class{constructor(){this[Z]=new Map,this[$]=new Map}has(t){return this[Z].has(t)}getClass(t){const e=this[Z].get(t);if(!e)throw new h(\"No class registered for \".concat(t));return e}setClass(t,e){e?this[Z].set(e,t):(this[Z].set(t.type,t),this[Z].set(t.type.toLowerCase(),t))}getSVGClass(t){return this[$].get(t)}setSVGClass(t,e){this[$].set(null!=e?e:t.type.toLowerCase(),t)}};const et=new class extends Array{remove(t){const e=this.indexOf(t);e>-1&&this.splice(e,1)}cancelAll(){const t=this.splice(0);return t.forEach((t=>t.abort())),t}cancelByCanvas(t){if(!t)return[];const e=this.filter((e=>{var s;return e.target===t||\"object\"==typeof e.target&&(null===(s=e.target)||void 0===s?void 0:s.canvas)===t}));return e.forEach((t=>t.abort())),e}cancelByTarget(t){if(!t)return[];const e=this.filter((e=>e.target===t));return e.forEach((t=>t.abort())),e}};class st{constructor(){t(this,\"__eventListeners\",{})}on(t,e){if(this.__eventListeners||(this.__eventListeners={}),\"object\"==typeof t)return Object.entries(t).forEach((t=>{let[e,s]=t;this.on(e,s)})),()=>this.off(t);if(e){const s=t;return this.__eventListeners[s]||(this.__eventListeners[s]=[]),this.__eventListeners[s].push(e),()=>this.off(s,e)}return()=>!1}once(t,e){if(\"object\"==typeof t){const e=[];return Object.entries(t).forEach((t=>{let[s,i]=t;e.push(this.once(s,i))})),()=>e.forEach((t=>t()))}if(e){const s=this.on(t,(function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e.call(this,...i),s()}));return s}return()=>!1}_removeEventListener(t,e){if(this.__eventListeners[t])if(e){const s=this.__eventListeners[t],i=s.indexOf(e);i>-1&&s.splice(i,1)}else this.__eventListeners[t]=[]}off(t,e){if(this.__eventListeners)if(void 0===t)for(const t in this.__eventListeners)this._removeEventListener(t);else\"object\"==typeof t?Object.entries(t).forEach((t=>{let[e,s]=t;this._removeEventListener(e,s)})):this._removeEventListener(t,e)}fire(t,e){var s;if(!this.__eventListeners)return;const i=null===(s=this.__eventListeners[t])||void 0===s?void 0:s.concat();if(i)for(let t=0;t<i.length;t++)i[t].call(this,e||{})}}const it=(t,e)=>{const s=t.indexOf(e);return-1!==s&&t.splice(s,1),t},rt=t=>{if(0===t)return 1;switch(Math.abs(t)/b){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},nt=t=>{if(0===t)return 0;const e=t/b,s=Math.sign(t);switch(e){case 1:return s;case 2:return 0;case 3:return-s}return Math.sin(t)};class ot{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;\"object\"==typeof t?(this.x=t.x,this.y=t.y):(this.x=t,this.y=e)}add(t){return new ot(this.x+t.x,this.y+t.y)}addEquals(t){return this.x+=t.x,this.y+=t.y,this}scalarAdd(t){return new ot(this.x+t,this.y+t)}scalarAddEquals(t){return this.x+=t,this.y+=t,this}subtract(t){return new ot(this.x-t.x,this.y-t.y)}subtractEquals(t){return this.x-=t.x,this.y-=t.y,this}scalarSubtract(t){return new ot(this.x-t,this.y-t)}scalarSubtractEquals(t){return this.x-=t,this.y-=t,this}multiply(t){return new ot(this.x*t.x,this.y*t.y)}scalarMultiply(t){return new ot(this.x*t,this.y*t)}scalarMultiplyEquals(t){return this.x*=t,this.y*=t,this}divide(t){return new ot(this.x/t.x,this.y/t.y)}scalarDivide(t){return new ot(this.x/t,this.y/t)}scalarDivideEquals(t){return this.x/=t,this.y/=t,this}eq(t){return this.x===t.x&&this.y===t.y}lt(t){return this.x<t.x&&this.y<t.y}lte(t){return this.x<=t.x&&this.y<=t.y}gt(t){return this.x>t.x&&this.y>t.y}gte(t){return this.x>=t.x&&this.y>=t.y}lerp(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return e=Math.max(Math.min(1,e),0),new ot(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)}distanceFrom(t){const e=this.x-t.x,s=this.y-t.y;return Math.sqrt(e*e+s*s)}midPointFrom(t){return this.lerp(t)}min(t){return new ot(Math.min(this.x,t.x),Math.min(this.y,t.y))}max(t){return new ot(Math.max(this.x,t.x),Math.max(this.y,t.y))}toString(){return\"\".concat(this.x,\",\").concat(this.y)}setXY(t,e){return this.x=t,this.y=e,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setFromPoint(t){return this.x=t.x,this.y=t.y,this}swap(t){const e=this.x,s=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=s}clone(){return new ot(this.x,this.y)}rotate(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:at;const s=nt(t),i=rt(t),r=this.subtract(e);return new ot(r.x*i-r.y*s,r.x*s+r.y*i).add(e)}transform(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new ot(t[0]*this.x+t[2]*this.y+(e?0:t[4]),t[1]*this.x+t[3]*this.y+(e?0:t[5]))}}const at=new ot(0,0),ht=t=>!!t&&Array.isArray(t._objects);function ct(e){class s extends e{constructor(){super(...arguments),t(this,\"_objects\",[])}_onObjectAdded(t){}_onObjectRemoved(t){}_onStackOrderChanged(t){}add(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];const i=this._objects.push(...e);return e.forEach((t=>this._onObjectAdded(t))),i}insertAt(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];return this._objects.splice(t,0,...s),s.forEach((t=>this._onObjectAdded(t))),this._objects.length}remove(){const t=this._objects,e=[];for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return i.forEach((s=>{const i=t.indexOf(s);-1!==i&&(t.splice(i,1),e.push(s),this._onObjectRemoved(s))})),e}forEachObject(t){this.getObjects().forEach(((e,s,i)=>t(e,s,i)))}getObjects(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return 0===e.length?[...this._objects]:this._objects.filter((t=>t.isType(...e)))}item(t){return this._objects[t]}isEmpty(){return 0===this._objects.length}size(){return this._objects.length}contains(t,e){return!!this._objects.includes(t)||!!e&&this._objects.some((e=>e instanceof s&&e.contains(t,!0)))}complexity(){return this._objects.reduce(((t,e)=>t+=e.complexity?e.complexity():0),0)}sendObjectToBack(t){return!(!t||t===this._objects[0])&&(it(this._objects,t),this._objects.unshift(t),this._onStackOrderChanged(t),!0)}bringObjectToFront(t){return!(!t||t===this._objects[this._objects.length-1])&&(it(this._objects,t),this._objects.push(t),this._onStackOrderChanged(t),!0)}sendObjectBackwards(t,e){if(!t)return!1;const s=this._objects.indexOf(t);if(0!==s){const i=this.findNewLowerIndex(t,s,e);return it(this._objects,t),this._objects.splice(i,0,t),this._onStackOrderChanged(t),!0}return!1}bringObjectForward(t,e){if(!t)return!1;const s=this._objects.indexOf(t);if(s!==this._objects.length-1){const i=this.findNewUpperIndex(t,s,e);return it(this._objects,t),this._objects.splice(i,0,t),this._onStackOrderChanged(t),!0}return!1}moveObjectTo(t,e){return t!==this._objects[e]&&(it(this._objects,t),this._objects.splice(e,0,t),this._onStackOrderChanged(t),!0)}findNewLowerIndex(t,e,s){let i;if(s){i=e;for(let s=e-1;s>=0;--s)if(t.isOverlapping(this._objects[s])){i=s;break}}else i=e-1;return i}findNewUpperIndex(t,e,s){let i;if(s){i=e;for(let s=e+1;s<this._objects.length;++s)if(t.isOverlapping(this._objects[s])){i=s;break}}else i=e+1;return i}collectObjects(t){let{left:e,top:s,width:i,height:r}=t,{includeIntersecting:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=[],a=new ot(e,s),h=a.add(new ot(i,r));for(let t=this._objects.length-1;t>=0;t--){const e=this._objects[t];e.selectable&&e.visible&&(n&&e.intersectsWithRect(a,h)||e.isContainedWithinRect(a,h)||n&&e.containsPoint(a)||n&&e.containsPoint(h))&&o.push(e)}return o}}return s}class lt extends st{_setOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(const e in t)this.set(e,t[e])}_setObject(t){for(const e in t)this._set(e,t[e])}set(t,e){return\"object\"==typeof t?this._setObject(t):this._set(t,e),this}_set(t,e){this[t]=e}toggle(t){const e=this.get(t);return\"boolean\"==typeof e&&this.set(t,!e),this}get(t){return this[t]}}function ut(t){return v().requestAnimationFrame(t)}function dt(t){return v().cancelAnimationFrame(t)}let gt=0;const ft=()=>gt++,pt=()=>{const t=m().createElement(\"canvas\");if(!t||void 0===t.getContext)throw new h(\"Failed to create `canvas` element\");return t},mt=()=>m().createElement(\"img\"),vt=t=>{const e=pt();return e.width=t.width,e.height=t.height,e},yt=(t,e,s)=>t.toDataURL(\"image/\".concat(e),s),_t=(t,e,s)=>new Promise(((i,r)=>{t.toBlob(i,\"image/\".concat(e),s)})),xt=t=>t*w,Ct=t=>t/w,bt=t=>t.every(((t,e)=>t===T[e])),St=(t,e,s)=>new ot(t).transform(e,s),wt=t=>{const e=1/(t[0]*t[3]-t[1]*t[2]),s=[e*t[3],-e*t[1],-e*t[2],e*t[0],0,0],{x:i,y:r}=new ot(t[4],t[5]).transform(s,!0);return s[4]=-i,s[5]=-r,s},Tt=(t,e,s)=>[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],s?0:t[0]*e[4]+t[2]*e[5]+t[4],s?0:t[1]*e[4]+t[3]*e[5]+t[5]],Ot=(t,e)=>t.reduceRight(((t,s)=>s&&t?Tt(s,t,e):s||t),void 0)||T.concat(),kt=t=>{let[e,s]=t;return Math.atan2(s,e)},Dt=t=>{const e=kt(t),s=Math.pow(t[0],2)+Math.pow(t[1],2),i=Math.sqrt(s),r=(t[0]*t[3]-t[2]*t[1])/i,n=Math.atan2(t[0]*t[2]+t[1]*t[3],s);return{angle:Ct(e),scaleX:i,scaleY:r,skewX:Ct(n),skewY:0,translateX:t[4]||0,translateY:t[5]||0}},Mt=function(t){return[1,0,0,1,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0]};function Pt(){let{angle:t=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{x:e=0,y:s=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=xt(t),r=rt(i),n=nt(i);return[r,n,-n,r,e?e-(r*e-n*s):0,s?s-(n*e+r*s):0]}const Et=function(t){return[t,0,0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,0,0]},At=t=>Math.tan(xt(t)),jt=t=>[1,0,At(t),1,0,0],Ft=t=>[1,At(t),0,1,0,0],Lt=t=>{let{scaleX:e=1,scaleY:s=1,flipX:i=!1,flipY:r=!1,skewX:n=0,skewY:o=0}=t,a=Et(i?-e:e,r?-s:s);return n&&(a=Tt(a,jt(n),!0)),o&&(a=Tt(a,Ft(o),!0)),a},Rt=t=>{const{translateX:e=0,translateY:s=0,angle:i=0}=t;let r=Mt(e,s);i&&(r=Tt(r,Pt({angle:i})));const n=Lt(t);return bt(n)||(r=Tt(r,n)),r},It=function(t){let{signal:e,crossOrigin:s=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(i,r){if(e&&e.aborted)return r(new c(\"loadImage\"));const n=mt();let o;e&&(o=function(t){n.src=\"\",r(t)},e.addEventListener(\"abort\",o,{once:!0}));const a=function(){n.onload=n.onerror=null,o&&(null==e||e.removeEventListener(\"abort\",o)),i(n)};t?(n.onload=a,n.onerror=function(){o&&(null==e||e.removeEventListener(\"abort\",o)),r(new h(\"Error loading \".concat(n.src)))},s&&(n.crossOrigin=s),n.src=t):a()}))},Bt=function(t){let{signal:e,reviver:s=C}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((i,r)=>{const n=[];e&&e.addEventListener(\"abort\",r,{once:!0}),Promise.all(t.map((t=>tt.getClass(t.type).fromObject(t,{signal:e}).then((e=>(s(t,e),n.push(e),e)))))).then(i).catch((t=>{n.forEach((t=>{t.dispose&&t.dispose()})),r(t)})).finally((()=>{e&&e.removeEventListener(\"abort\",r)}))}))},Xt=function(t){let{signal:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((s,i)=>{const r=[];e&&e.addEventListener(\"abort\",i,{once:!0});const n=Object.values(t).map((t=>t&&t.type&&tt.has(t.type)?Bt([t],{signal:e}).then((t=>{let[e]=t;return r.push(e),e})):t)),o=Object.keys(t);Promise.all(n).then((t=>t.reduce(((t,e,s)=>(t[o[s]]=e,t)),{}))).then(s).catch((t=>{r.forEach((t=>{t.dispose&&t.dispose()})),i(t)})).finally((()=>{e&&e.removeEventListener(\"abort\",i)}))}))},Yt=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).reduce(((e,s)=>(s in t&&(e[s]=t[s]),e)),{})},Wt=(t,e)=>Object.keys(t).reduce(((s,i)=>(e(t[i],i,t)&&(s[i]=t[i]),s)),{}),Vt=(t,e)=>parseFloat(Number(t).toFixed(e)),zt=t=>\"matrix(\"+t.map((t=>Vt(t,o.NUM_FRACTION_DIGITS))).join(\" \")+\")\",Gt=t=>!!t&&void 0!==t.toLive,Ht=t=>!!t&&\"function\"==typeof t.toObject,Nt=t=>!!t&&void 0!==t.offsetX&&\"source\"in t,Ut=t=>!!t&&\"multiSelectionStacking\"in t;function qt(t){const e=t&&Kt(t);let s=0,i=0;if(!t||!e)return{left:s,top:i};let r=t;const n=e.documentElement,o=e.body||{scrollLeft:0,scrollTop:0};for(;r&&(r.parentNode||r.host)&&(r=r.parentNode||r.host,r===e?(s=o.scrollLeft||n.scrollLeft||0,i=o.scrollTop||n.scrollTop||0):(s+=r.scrollLeft||0,i+=r.scrollTop||0),1!==r.nodeType||\"fixed\"!==r.style.position););return{left:s,top:i}}const Kt=t=>t.ownerDocument||null,Jt=t=>{var e;return(null===(e=t.ownerDocument)||void 0===e?void 0:e.defaultView)||null},Qt=function(t,e,s){let{width:i,height:r}=s,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;t.width=i,t.height=r,n>1&&(t.setAttribute(\"width\",(i*n).toString()),t.setAttribute(\"height\",(r*n).toString()),e.scale(n,n))},Zt=(t,e)=>{let{width:s,height:i}=e;s&&(t.style.width=\"number\"==typeof s?\"\".concat(s,\"px\"):s),i&&(t.style.height=\"number\"==typeof i?\"\".concat(i,\"px\"):i)};function $t(t){return void 0!==t.onselectstart&&(t.onselectstart=()=>!1),t.style.userSelect=j,t}class te{constructor(e){t(this,\"_originalCanvasStyle\",void 0),t(this,\"lower\",void 0);const s=this.createLowerCanvas(e);this.lower={el:s,ctx:s.getContext(\"2d\")}}createLowerCanvas(t){const e=(s=t)&&void 0!==s.getContext?t:t&&m().getElementById(t)||pt();var s;if(e.hasAttribute(\"data-fabric\"))throw new h(\"Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?\");return this._originalCanvasStyle=e.style.cssText,e.setAttribute(\"data-fabric\",\"main\"),e.classList.add(\"lower-canvas\"),e}cleanupDOM(t){let{width:e,height:s}=t;const{el:i}=this.lower;i.classList.remove(\"lower-canvas\"),i.removeAttribute(\"data-fabric\"),i.setAttribute(\"width\",\"\".concat(e)),i.setAttribute(\"height\",\"\".concat(s)),i.style.cssText=this._originalCanvasStyle||\"\",this._originalCanvasStyle=void 0}setDimensions(t,e){const{el:s,ctx:i}=this.lower;Qt(s,i,t,e)}setCSSDimensions(t){Zt(this.lower.el,t)}calcOffset(){return function(t){var e;const s=t&&Kt(t),i={left:0,top:0};if(!s)return i;const r=(null===(e=Jt(t))||void 0===e?void 0:e.getComputedStyle(t,null))||{};i.left+=parseInt(r.borderLeftWidth,10)||0,i.top+=parseInt(r.borderTopWidth,10)||0,i.left+=parseInt(r.paddingLeft,10)||0,i.top+=parseInt(r.paddingTop,10)||0;let n={left:0,top:0};const o=s.documentElement;void 0!==t.getBoundingClientRect&&(n=t.getBoundingClientRect());const a=qt(t);return{left:n.left+a.left-(o.clientLeft||0)+i.left,top:n.top+a.top-(o.clientTop||0)+i.top}}(this.lower.el)}dispose(){p().dispose(this.lower.el),delete this.lower}}const ee={backgroundVpt:!0,backgroundColor:\"\",overlayVpt:!0,overlayColor:\"\",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...T]},se=[\"objects\"];class ie extends(ct(lt)){get lowerCanvasEl(){var t;return null===(t=this.elements.lower)||void 0===t?void 0:t.el}get contextContainer(){var t;return null===(t=this.elements.lower)||void 0===t?void 0:t.ctx}static getDefaults(){return ie.ownDefaults}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(e),this.initElements(t),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(t){this.elements=new te(t)}add(){const t=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}insertAt(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];const r=super.insertAt(t,...s);return s.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),r}remove(){const t=super.remove(...arguments);return t.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}_onObjectAdded(t){t.canvas&&t.canvas!==this&&(a(\"warn\",\"Canvas is trying to add an object that belongs to a different canvas.\\nResulting to default behavior: removing object from previous canvas and adding to new canvas\"),t.canvas.remove(t)),t._set(\"canvas\",this),t.setCoords(),this.fire(\"object:added\",{target:t}),t.fire(\"added\",{target:this})}_onObjectRemoved(t){t._set(\"canvas\",void 0),this.fire(\"object:removed\",{target:t}),t.fire(\"removed\",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?y():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(t,e){return this.setDimensions({width:t},e)}setHeight(t,e){return this.setDimensions({height:t},e)}_setDimensionsImpl(t){let{cssOnly:e=!1,backstoreOnly:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e){const e=s({width:this.width,height:this.height},t);this.elements.setDimensions(e,this.getRetinaScaling()),this.hasLostContext=!0,this.width=e.width,this.height=e.height}i||this.elements.setCSSDimensions(t),this.calcOffset()}setDimensions(t,e){this._setDimensionsImpl(t,e),e&&e.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(t){this.viewportTransform=t,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(t,e){const s=t,i=[...this.viewportTransform],r=St(t,wt(i));i[0]=e,i[3]=e;const n=St(r,i);i[4]+=s.x-n.x,i[5]+=s.y-n.y,this.setViewportTransform(i)}setZoom(t){this.zoomToPoint(new ot(0,0),t)}absolutePan(t){const e=[...this.viewportTransform];return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)}relativePan(t){return this.absolutePan(new ot(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(t){t.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor=\"\",this.overlayColor=\"\",this.clearContext(this.getContext()),this.fire(\"canvas:cleared\"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=ut((()=>this.renderAndReset())))}calcViewportBoundaries(){const t=this.width,e=this.height,s=wt(this.viewportTransform),i=St({x:0,y:0},s),r=St({x:t,y:e},s),n=i.min(r),o=i.max(r);return this.vptCoords={tl:n,tr:new ot(o.x,n.y),bl:new ot(n.x,o.y),br:o}}cancelRequestedRender(){this.nextRenderHandle&&(dt(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(t){}renderCanvas(t,e){if(this.destroyed)return;const s=this.viewportTransform,i=this.clipPath;this.calcViewportBoundaries(),this.clearContext(t),t.imageSmoothingEnabled=this.imageSmoothingEnabled,t.patternQuality=\"best\",this.fire(\"before:render\",{ctx:t}),this._renderBackground(t),t.save(),t.transform(s[0],s[1],s[2],s[3],s[4],s[5]),this._renderObjects(t,e),t.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(t),i&&(i._set(\"canvas\",this),i.shouldCache(),i._transformDone=!0,i.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t,i)),this._renderOverlay(t),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(t),this.fire(\"after:render\",{ctx:t}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(t,e){const s=this.viewportTransform;t.save(),t.transform(...s),t.globalCompositeOperation=\"destination-in\",e.transform(t),t.scale(1/e.zoomX,1/e.zoomY),t.drawImage(e._cacheCanvas,-e.cacheTranslationX,-e.cacheTranslationY),t.restore()}_renderObjects(t,e){for(let s=0,i=e.length;s<i;++s)e[s]&&e[s].render(t)}_renderBackgroundOrOverlay(t,e){const s=this[\"\".concat(e,\"Color\")],i=this[\"\".concat(e,\"Image\")],r=this.viewportTransform,n=this[\"\".concat(e,\"Vpt\")];if(!s&&!i)return;const o=Gt(s);if(s){if(t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=o?s.toLive(t):s,n&&t.transform(...r),o){t.transform(1,0,0,1,s.offsetX||0,s.offsetY||0);const e=s.gradientTransform||s.patternTransform;e&&t.transform(...e)}t.fill(),t.restore()}if(i){t.save();const{skipOffscreen:e}=this;this.skipOffscreen=n,n&&t.transform(...r),i.render(t),this.skipOffscreen=e,t.restore()}}_renderBackground(t){this._renderBackgroundOrOverlay(t,\"background\")}_renderOverlay(t){this._renderBackgroundOrOverlay(t,\"overlay\")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new ot(this.width/2,this.height/2)}centerObjectH(t){return this._centerObject(t,new ot(this.getCenterPoint().x,t.getCenterPoint().y))}centerObjectV(t){return this._centerObject(t,new ot(t.getCenterPoint().x,this.getCenterPoint().y))}centerObject(t){return this._centerObject(t,this.getCenterPoint())}viewportCenterObject(t){return this._centerObject(t,this.getVpCenter())}viewportCenterObjectH(t){return this._centerObject(t,new ot(this.getVpCenter().x,t.getCenterPoint().y))}viewportCenterObjectV(t){return this._centerObject(t,new ot(t.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return St(this.getCenterPoint(),wt(this.viewportTransform))}_centerObject(t,e){t.setXY(e,D,D),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(t){return this.toDatalessObject(t)}toObject(t){return this._toObjectMethod(\"toObject\",t)}toJSON(){return this.toObject()}toDatalessObject(t){return this._toObjectMethod(\"toDatalessObject\",t)}_toObjectMethod(t,e){const i=this.clipPath,r=i&&!i.excludeFromExport?this._toObject(i,t,e):null;return s(s(s({version:x},Yt(this,e)),{},{objects:this._objects.filter((t=>!t.excludeFromExport)).map((s=>this._toObject(s,t,e)))},this.__serializeBgOverlay(t,e)),r?{clipPath:r}:null)}_toObject(t,e,s){let i;this.includeDefaultValues||(i=t.includeDefaultValues,t.includeDefaultValues=!1);const r=t[e](s);return this.includeDefaultValues||(t.includeDefaultValues=!!i),r}__serializeBgOverlay(t,e){const s={},i=this.backgroundImage,r=this.overlayImage,n=this.backgroundColor,o=this.overlayColor;return Gt(n)?n.excludeFromExport||(s.background=n.toObject(e)):n&&(s.background=n),Gt(o)?o.excludeFromExport||(s.overlay=o.toObject(e)):o&&(s.overlay=o),i&&!i.excludeFromExport&&(s.backgroundImage=this._toObject(i,t,e)),r&&!r.excludeFromExport&&(s.overlayImage=this._toObject(r,t,e)),s}toSVG(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;t.reviver=e;const s=[];return this._setSVGPreamble(s,t),this._setSVGHeader(s,t),this.clipPath&&s.push('<g clip-path=\"url(#'.concat(this.clipPath.clipPathId,')\" >\\n')),this._setSVGBgOverlayColor(s,\"background\"),this._setSVGBgOverlayImage(s,\"backgroundImage\",e),this._setSVGObjects(s,e),this.clipPath&&s.push(\"</g>\\n\"),this._setSVGBgOverlayColor(s,\"overlay\"),this._setSVGBgOverlayImage(s,\"overlayImage\",e),s.push(\"</svg>\"),s.join(\"\")}_setSVGPreamble(t,e){e.suppressPreamble||t.push('<?xml version=\"1.0\" encoding=\"',e.encoding||\"UTF-8\",'\" standalone=\"no\" ?>\\n','<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" ','\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\\n')}_setSVGHeader(t,e){const s=e.width||\"\".concat(this.width),i=e.height||\"\".concat(this.height),r=o.NUM_FRACTION_DIGITS,n=e.viewBox;let a;if(n)a='viewBox=\"'.concat(n.x,\" \").concat(n.y,\" \").concat(n.width,\" \").concat(n.height,'\" ');else if(this.svgViewportTransformation){const t=this.viewportTransform;a='viewBox=\"'.concat(Vt(-t[4]/t[0],r),\" \").concat(Vt(-t[5]/t[3],r),\" \").concat(Vt(this.width/t[0],r),\" \").concat(Vt(this.height/t[3],r),'\" ')}else a='viewBox=\"0 0 '.concat(this.width,\" \").concat(this.height,'\" ');t.push(\"<svg \",'xmlns=\"http://www.w3.org/2000/svg\" ','xmlns:xlink=\"http://www.w3.org/1999/xlink\" ','version=\"1.1\" ','width=\"',s,'\" ','height=\"',i,'\" ',a,'xml:space=\"preserve\">\\n',\"<desc>Created with Fabric.js \",x,\"</desc>\\n\",\"<defs>\\n\",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),\"</defs>\\n\")}createSVGClipPathMarkup(t){const e=this.clipPath;return e?(e.clipPathId=\"CLIPPATH_\".concat(ft()),'<clipPath id=\"'.concat(e.clipPathId,'\" >\\n').concat(e.toClipPathSVG(t.reviver),\"</clipPath>\\n\")):\"\"}createSVGRefElementsMarkup(){return[\"background\",\"overlay\"].map((t=>{const e=this[\"\".concat(t,\"Color\")];if(Gt(e)){const s=this[\"\".concat(t,\"Vpt\")],i=this.viewportTransform,r={isType:()=>!1,width:this.width/(s?i[0]:1),height:this.height/(s?i[3]:1)};return e.toSVG(r,{additionalTransform:s?zt(i):\"\"})}})).join(\"\")}createSVGFontFacesMarkup(){const t=[],e={},s=o.fontPaths;this._objects.forEach((function e(s){t.push(s),ht(s)&&s._objects.forEach(e)})),t.forEach((t=>{if(!(i=t)||\"function\"!=typeof i._renderText)return;var i;const{styles:r,fontFamily:n}=t;!e[n]&&s[n]&&(e[n]=!0,r&&Object.values(r).forEach((t=>{Object.values(t).forEach((t=>{let{fontFamily:i=\"\"}=t;!e[i]&&s[i]&&(e[i]=!0)}))})))}));const i=Object.keys(e).map((t=>\"\\t\\t@font-face {\\n\\t\\t\\tfont-family: '\".concat(t,\"';\\n\\t\\t\\tsrc: url('\").concat(s[t],\"');\\n\\t\\t}\\n\"))).join(\"\");return i?'\\t<style type=\"text/css\"><![CDATA[\\n'.concat(i,\"]]></style>\\n\"):\"\"}_setSVGObjects(t,e){this.forEachObject((s=>{s.excludeFromExport||this._setSVGObject(t,s,e)}))}_setSVGObject(t,e,s){t.push(e.toSVG(s))}_setSVGBgOverlayImage(t,e,s){const i=this[e];i&&!i.excludeFromExport&&i.toSVG&&t.push(i.toSVG(s))}_setSVGBgOverlayColor(t,e){const s=this[\"\".concat(e,\"Color\")];if(s)if(Gt(s)){const i=s.repeat||\"\",r=this.width,n=this.height,o=this[\"\".concat(e,\"Vpt\")]?zt(wt(this.viewportTransform)):\"\";t.push('<rect transform=\"'.concat(o,\" translate(\").concat(r/2,\",\").concat(n/2,')\" x=\"').concat(s.offsetX-r/2,'\" y=\"').concat(s.offsetY-n/2,'\" width=\"').concat(\"repeat-y\"!==i&&\"no-repeat\"!==i||!Nt(s)?r:s.source.width,'\" height=\"').concat(\"repeat-x\"!==i&&\"no-repeat\"!==i||!Nt(s)?n:s.source.height,'\" fill=\"url(#SVGID_').concat(s.id,')\"></rect>\\n'))}else t.push('<rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" ','fill=\"',s,'\"',\"></rect>\\n\")}loadFromJSON(t,e){let{signal:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return Promise.reject(new h(\"`json` is undefined\"));const r=\"string\"==typeof t?JSON.parse(t):t,{objects:n=[]}=r,o=i(r,se),{backgroundImage:a,background:c,overlayImage:l,overlay:u,clipPath:d}=o,g=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([Bt(n,{reviver:e,signal:s}),Xt({backgroundImage:a,backgroundColor:c,overlayImage:l,overlayColor:u,clipPath:d},{signal:s})]).then((t=>{let[e,s]=t;return this.clear(),this.add(...e),this.set(o),this.set(s),this.renderOnAddRemove=g,this}))}clone(t){const e=this.toObject(t);return this.cloneWithoutData().loadFromJSON(e)}cloneWithoutData(){const t=vt(this);return new this.constructor(t)}toDataURL(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{format:e=\"png\",quality:s=1,multiplier:i=1,enableRetinaScaling:r=!1}=t,n=i*(r?this.getRetinaScaling():1);return yt(this.toCanvasElement(n,t),e,s)}toBlob(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{format:e=\"png\",quality:s=1,multiplier:i=1,enableRetinaScaling:r=!1}=t,n=i*(r?this.getRetinaScaling():1);return _t(this.toCanvasElement(n,t),e,s)}toCanvasElement(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,{width:e,height:s,left:i,top:r,filter:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=(e||this.width)*t,a=(s||this.height)*t,h=this.getZoom(),c=this.width,l=this.height,u=this.skipControlsDrawing,d=h*t,g=this.viewportTransform,f=[d,0,0,d,(g[4]-(i||0))*t,(g[5]-(r||0))*t],p=this.enableRetinaScaling,m=vt({width:o,height:a}),v=n?this._objects.filter((t=>n(t))):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=f,this.width=o,this.height=a,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(m.getContext(\"2d\"),v),this.viewportTransform=g,this.width=c,this.height=l,this.calcViewportBoundaries(),this.enableRetinaScaling=p,this.skipControlsDrawing=u,m}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),et.cancelByCanvas(this),this.disposed=!0,new Promise(((t,e)=>{const s=()=>{this.destroy(),t(!0)};s.kill=e,this.__cleanupTask&&this.__cleanupTask.kill(\"aborted\"),this.destroyed?t(!1):this.nextRenderHandle?this.__cleanupTask=s:s()}))}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject((t=>t.dispose())),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return\"#<Canvas (\".concat(this.complexity(),\"): { objects: \").concat(this._objects.length,\" }>\")}}t(ie,\"ownDefaults\",ee);const re=[\"touchstart\",\"touchmove\",\"touchend\"];const ne=t=>{const e=qt(t.target),s=function(t){const e=t.changedTouches;return e&&e[0]?e[0]:t}(t);return new ot(s.clientX+e.left,s.clientY+e.top)},oe=t=>re.includes(t.type)||\"touch\"===t.pointerType,ae=t=>{t.preventDefault(),t.stopPropagation()},he=t=>{let e=0,s=0,i=0,r=0;for(let n=0,o=t.length;n<o;n++){const{x:o,y:a}=t[n];(o>i||!n)&&(i=o),(o<e||!n)&&(e=o),(a>r||!n)&&(r=a),(a<s||!n)&&(s=a)}return{left:e,top:s,width:i-e,height:r-s}},ce=[\"translateX\",\"translateY\",\"scaleX\",\"scaleY\"],le=(t,e)=>ue(t,Tt(e,t.calcOwnMatrix())),ue=(t,e)=>{const s=Dt(e),{translateX:r,translateY:n,scaleX:o,scaleY:a}=s,h=i(s,ce),c=new ot(r,n);t.flipX=!1,t.flipY=!1,Object.assign(t,h),t.set({scaleX:o,scaleY:a}),t.setPositionByOrigin(c,D,D)},de=t=>{t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},ge=t=>({scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}),fe=(t,e,s)=>{const i=t/2,r=e/2,n=[new ot(-i,-r),new ot(i,-r),new ot(-i,r),new ot(i,r)].map((t=>t.transform(s))),o=he(n);return new ot(o.width,o.height)},pe=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;return Tt(wt(arguments.length>1&&void 0!==arguments[1]?arguments[1]:T),t)},me=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;return t.transform(pe(e,s))},ve=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;return t.transform(pe(e,s),!0)},ye=(t,e,s)=>{const i=pe(e,s);return ue(t,Tt(i,t.calcOwnMatrix())),i},_e=(t,e)=>{var i;const{transform:{target:r}}=e;null===(i=r.canvas)||void 0===i||i.fire(\"object:\".concat(t),s(s({},e),{},{target:r})),r.fire(t,e)},xe={left:-.5,top:-.5,center:0,bottom:.5,right:.5},Ce=t=>\"string\"==typeof t?xe[t]:t-.5,be=\"not-allowed\";function Se(t){return Ce(t.originX)===Ce(D)&&Ce(t.originY)===Ce(D)}function we(t){return.5-Ce(t)}const Te=(t,e)=>t[e],Oe=(t,e,s,i)=>({e:t,transform:e,pointer:new ot(s,i)});function ke(t,e){const s=t.getTotalAngle()+Ct(Math.atan2(e.y,e.x))+360;return Math.round(s%360/45)}function De(t,e,s,i,r){var n;let{target:o,corner:a}=t;const h=o.controls[a],c=(null===(n=o.canvas)||void 0===n?void 0:n.getZoom())||1,l=o.padding/c,u=function(t,e,s,i){const r=t.getRelativeCenterPoint(),n=void 0!==s&&void 0!==i?t.translateToGivenOrigin(r,D,D,s,i):new ot(t.left,t.top);return(t.angle?e.rotate(-xt(t.angle),r):e).subtract(n)}(o,new ot(i,r),e,s);return u.x>=l&&(u.x-=l),u.x<=-l&&(u.x+=l),u.y>=l&&(u.y-=l),u.y<=l&&(u.y+=l),u.x-=h.offsetX,u.y-=h.offsetY,u}const Me=(t,e,s,i)=>{const{target:r,offsetX:n,offsetY:o}=e,a=s-n,h=i-o,c=!Te(r,\"lockMovementX\")&&r.left!==a,l=!Te(r,\"lockMovementY\")&&r.top!==h;return c&&r.set(M,a),l&&r.set(P,h),(c||l)&&_e(L,Oe(t,e,s,i)),c||l},Pe=t=>t.replace(/\\s+/g,\" \"),Ee={aliceblue:\"#F0F8FF\",antiquewhite:\"#FAEBD7\",aqua:\"#0FF\",aquamarine:\"#7FFFD4\",azure:\"#F0FFFF\",beige:\"#F5F5DC\",bisque:\"#FFE4C4\",black:\"#000\",blanchedalmond:\"#FFEBCD\",blue:\"#00F\",blueviolet:\"#8A2BE2\",brown:\"#A52A2A\",burlywood:\"#DEB887\",cadetblue:\"#5F9EA0\",chartreuse:\"#7FFF00\",chocolate:\"#D2691E\",coral:\"#FF7F50\",cornflowerblue:\"#6495ED\",cornsilk:\"#FFF8DC\",crimson:\"#DC143C\",cyan:\"#0FF\",darkblue:\"#00008B\",darkcyan:\"#008B8B\",darkgoldenrod:\"#B8860B\",darkgray:\"#A9A9A9\",darkgrey:\"#A9A9A9\",darkgreen:\"#006400\",darkkhaki:\"#BDB76B\",darkmagenta:\"#8B008B\",darkolivegreen:\"#556B2F\",darkorange:\"#FF8C00\",darkorchid:\"#9932CC\",darkred:\"#8B0000\",darksalmon:\"#E9967A\",darkseagreen:\"#8FBC8F\",darkslateblue:\"#483D8B\",darkslategray:\"#2F4F4F\",darkslategrey:\"#2F4F4F\",darkturquoise:\"#00CED1\",darkviolet:\"#9400D3\",deeppink:\"#FF1493\",deepskyblue:\"#00BFFF\",dimgray:\"#696969\",dimgrey:\"#696969\",dodgerblue:\"#1E90FF\",firebrick:\"#B22222\",floralwhite:\"#FFFAF0\",forestgreen:\"#228B22\",fuchsia:\"#F0F\",gainsboro:\"#DCDCDC\",ghostwhite:\"#F8F8FF\",gold:\"#FFD700\",goldenrod:\"#DAA520\",gray:\"#808080\",grey:\"#808080\",green:\"#008000\",greenyellow:\"#ADFF2F\",honeydew:\"#F0FFF0\",hotpink:\"#FF69B4\",indianred:\"#CD5C5C\",indigo:\"#4B0082\",ivory:\"#FFFFF0\",khaki:\"#F0E68C\",lavender:\"#E6E6FA\",lavenderblush:\"#FFF0F5\",lawngreen:\"#7CFC00\",lemonchiffon:\"#FFFACD\",lightblue:\"#ADD8E6\",lightcoral:\"#F08080\",lightcyan:\"#E0FFFF\",lightgoldenrodyellow:\"#FAFAD2\",lightgray:\"#D3D3D3\",lightgrey:\"#D3D3D3\",lightgreen:\"#90EE90\",lightpink:\"#FFB6C1\",lightsalmon:\"#FFA07A\",lightseagreen:\"#20B2AA\",lightskyblue:\"#87CEFA\",lightslategray:\"#789\",lightslategrey:\"#789\",lightsteelblue:\"#B0C4DE\",lightyellow:\"#FFFFE0\",lime:\"#0F0\",limegreen:\"#32CD32\",linen:\"#FAF0E6\",magenta:\"#F0F\",maroon:\"#800000\",mediumaquamarine:\"#66CDAA\",mediumblue:\"#0000CD\",mediumorchid:\"#BA55D3\",mediumpurple:\"#9370DB\",mediumseagreen:\"#3CB371\",mediumslateblue:\"#7B68EE\",mediumspringgreen:\"#00FA9A\",mediumturquoise:\"#48D1CC\",mediumvioletred:\"#C71585\",midnightblue:\"#191970\",mintcream:\"#F5FFFA\",mistyrose:\"#FFE4E1\",moccasin:\"#FFE4B5\",navajowhite:\"#FFDEAD\",navy:\"#000080\",oldlace:\"#FDF5E6\",olive:\"#808000\",olivedrab:\"#6B8E23\",orange:\"#FFA500\",orangered:\"#FF4500\",orchid:\"#DA70D6\",palegoldenrod:\"#EEE8AA\",palegreen:\"#98FB98\",paleturquoise:\"#AFEEEE\",palevioletred:\"#DB7093\",papayawhip:\"#FFEFD5\",peachpuff:\"#FFDAB9\",peru:\"#CD853F\",pink:\"#FFC0CB\",plum:\"#DDA0DD\",powderblue:\"#B0E0E6\",purple:\"#800080\",rebeccapurple:\"#639\",red:\"#F00\",rosybrown:\"#BC8F8F\",royalblue:\"#4169E1\",saddlebrown:\"#8B4513\",salmon:\"#FA8072\",sandybrown:\"#F4A460\",seagreen:\"#2E8B57\",seashell:\"#FFF5EE\",sienna:\"#A0522D\",silver:\"#C0C0C0\",skyblue:\"#87CEEB\",slateblue:\"#6A5ACD\",slategray:\"#708090\",slategrey:\"#708090\",snow:\"#FFFAFA\",springgreen:\"#00FF7F\",steelblue:\"#4682B4\",tan:\"#D2B48C\",teal:\"#008080\",thistle:\"#D8BFD8\",tomato:\"#FF6347\",turquoise:\"#40E0D0\",violet:\"#EE82EE\",wheat:\"#F5DEB3\",white:\"#FFF\",whitesmoke:\"#F5F5F5\",yellow:\"#FF0\",yellowgreen:\"#9ACD32\"},Ae=(t,e,s)=>(s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+6*(e-t)*s:s<.5?e:s<2/3?t+(e-t)*(2/3-s)*6:t),je=(t,e,s,i)=>{t/=255,e/=255,s/=255;const r=Math.max(t,e,s),n=Math.min(t,e,s);let o,a;const h=(r+n)/2;if(r===n)o=a=0;else{const i=r-n;switch(a=h>.5?i/(2-r-n):i/(r+n),r){case t:o=(e-s)/i+(e<s?6:0);break;case e:o=(s-t)/i+2;break;case s:o=(t-e)/i+4}o/=6}return[Math.round(360*o),Math.round(100*a),Math.round(100*h),i]},Fe=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"1\";return parseFloat(t)/(t.endsWith(\"%\")?100:1)},Le=t=>Math.min(Math.round(t),255).toString(16).toUpperCase().padStart(2,\"0\"),Re=t=>{let[e,s,i,r=1]=t;const n=Math.round(.3*e+.59*s+.11*i);return[n,n,n,r]};class Ie{constructor(e){if(t(this,\"isUnrecognised\",!1),e)if(e instanceof Ie)this.setSource([...e._source]);else if(Array.isArray(e)){const[t,s,i,r=1]=e;this.setSource([t,s,i,r])}else this.setSource(this._tryParsingColor(e));else this.setSource([0,0,0,1])}_tryParsingColor(t){return(t=t.toLowerCase())in Ee&&(t=Ee[t]),\"transparent\"===t?[255,255,255,0]:Ie.sourceFromHex(t)||Ie.sourceFromRgb(t)||Ie.sourceFromHsl(t)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(t){this._source=t}toRgb(){const[t,e,s]=this.getSource();return\"rgb(\".concat(t,\",\").concat(e,\",\").concat(s,\")\")}toRgba(){return\"rgba(\".concat(this.getSource().join(\",\"),\")\")}toHsl(){const[t,e,s]=je(...this.getSource());return\"hsl(\".concat(t,\",\").concat(e,\"%,\").concat(s,\"%)\")}toHsla(){const[t,e,s,i]=je(...this.getSource());return\"hsla(\".concat(t,\",\").concat(e,\"%,\").concat(s,\"%,\").concat(i,\")\")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[t,e,s,i]=this.getSource();return\"\".concat(Le(t)).concat(Le(e)).concat(Le(s)).concat(Le(Math.round(255*i)))}getAlpha(){return this.getSource()[3]}setAlpha(t){return this._source[3]=t,this}toGrayscale(){return this.setSource(Re(this.getSource())),this}toBlackWhite(t){const[e,,,s]=Re(this.getSource()),i=e<(t||127)?0:255;return this.setSource([i,i,i,s]),this}overlayWith(t){t instanceof Ie||(t=new Ie(t));const e=this.getSource(),s=t.getSource(),[i,r,n]=e.map(((t,e)=>Math.round(.5*t+.5*s[e])));return this.setSource([i,r,n,e[3]]),this}static fromRgb(t){return Ie.fromRgba(t)}static fromRgba(t){return new Ie(Ie.sourceFromRgb(t))}static sourceFromRgb(t){const e=Pe(t).match(/^rgba?\\(\\s?(\\d{0,3}(?:\\.\\d+)?%?)\\s?[\\s|,]\\s?(\\d{0,3}(?:\\.\\d+)?%?)\\s?[\\s|,]\\s?(\\d{0,3}(?:\\.\\d+)?%?)\\s?(?:\\s?[,/]\\s?(\\d{0,3}(?:\\.\\d+)?%?)\\s?)?\\)$/i);if(e){const[t,s,i]=e.slice(1,4).map((t=>{const e=parseFloat(t);return t.endsWith(\"%\")?Math.round(2.55*e):e}));return[t,s,i,Fe(e[4])]}}static fromHsl(t){return Ie.fromHsla(t)}static fromHsla(t){return new Ie(Ie.sourceFromHsl(t))}static sourceFromHsl(t){const e=Pe(t).match(/^hsla?\\(\\s?([+-]?\\d{0,3}(?:\\.\\d+)?(?:deg|turn|rad)?)\\s?[\\s|,]\\s?(\\d{0,3}(?:\\.\\d+)?%?)\\s?[\\s|,]\\s?(\\d{0,3}(?:\\.\\d+)?%?)\\s?(?:\\s?[,/]\\s?(\\d*(?:\\.\\d+)?%?)\\s?)?\\)$/i);if(!e)return;const s=(Ie.parseAngletoDegrees(e[1])%360+360)%360/360,i=parseFloat(e[2])/100,r=parseFloat(e[3])/100;let n,o,a;if(0===i)n=o=a=r;else{const t=r<=.5?r*(i+1):r+i-r*i,e=2*r-t;n=Ae(e,t,s+1/3),o=Ae(e,t,s),a=Ae(e,t,s-1/3)}return[Math.round(255*n),Math.round(255*o),Math.round(255*a),Fe(e[4])]}static fromHex(t){return new Ie(Ie.sourceFromHex(t))}static sourceFromHex(t){if(t.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const e=t.slice(t.indexOf(\"#\")+1);let s;s=e.length<=4?e.split(\"\").map((t=>t+t)):e.match(/.{2}/g);const[i,r,n,o=255]=s.map((t=>parseInt(t,16)));return[i,r,n,o/255]}}static parseAngletoDegrees(t){const e=t.toLowerCase(),s=parseFloat(e);return e.includes(\"rad\")?Ct(s):e.includes(\"turn\")?360*s:s}}const Be=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O;const s=/\\D{0,2}$/.exec(t),i=parseFloat(t),r=o.DPI;switch(null==s?void 0:s[0]){case\"mm\":return i*r/25.4;case\"cm\":return i*r/2.54;case\"in\":return i*r;case\"pt\":return i*r/72;case\"pc\":return i*r/72*12;case\"em\":return i*e;default:return i}},Xe=t=>{const[e,s]=t.trim().split(\" \"),[i,r]=(n=e)&&n!==j?[n.slice(1,4),n.slice(5,8)]:n===j?[n,n]:[\"Mid\",\"Mid\"];var n;return{meetOrSlice:s||\"meet\",alignX:i,alignY:r}},Ye=function(t,e){let s,i,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e)if(e.toLive)s=\"url(#SVGID_\".concat(e.id,\")\");else{const t=new Ie(e),r=t.getAlpha();s=t.toRgb(),1!==r&&(i=r.toString())}else s=\"none\";return r?\"\".concat(t,\": \").concat(s,\"; \").concat(i?\"\".concat(t,\"-opacity: \").concat(i,\"; \"):\"\"):\"\".concat(t,'=\"').concat(s,'\" ').concat(i?\"\".concat(t,'-opacity=\"').concat(i,'\" '):\"\")};class We{getSvgStyles(t){const e=this.fillRule?this.fillRule:\"nonzero\",s=this.strokeWidth?this.strokeWidth:\"0\",i=this.strokeDashArray?this.strokeDashArray.join(\" \"):j,r=this.strokeDashOffset?this.strokeDashOffset:\"0\",n=this.strokeLineCap?this.strokeLineCap:\"butt\",o=this.strokeLineJoin?this.strokeLineJoin:\"miter\",a=this.strokeMiterLimit?this.strokeMiterLimit:\"4\",h=void 0!==this.opacity?this.opacity:\"1\",c=this.visible?\"\":\" visibility: hidden;\",l=t?\"\":this.getSvgFilter(),u=Ye(K,this.fill);return[Ye(J,this.stroke),\"stroke-width: \",s,\"; \",\"stroke-dasharray: \",i,\"; \",\"stroke-linecap: \",n,\"; \",\"stroke-dashoffset: \",r,\"; \",\"stroke-linejoin: \",o,\"; \",\"stroke-miterlimit: \",a,\"; \",u,\"fill-rule: \",e,\"; \",\"opacity: \",h,\";\",l,c].join(\"\")}getSvgFilter(){return this.shadow?\"filter: url(#SVGID_\".concat(this.shadow.id,\");\"):\"\"}getSvgCommons(){return[this.id?'id=\"'.concat(this.id,'\" '):\"\",this.clipPath?'clip-path=\"url(#'.concat(this.clipPath.clipPathId,')\" '):\"\"].join(\"\")}getSvgTransform(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";const s=t?this.calcTransformMatrix():this.calcOwnMatrix(),i='transform=\"'.concat(zt(s));return\"\".concat(i).concat(e,'\" ')}_toSVG(t){return[\"\"]}toSVG(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})}toClipPathSVG(t){return\"\\t\"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})}_createBaseClipPathSVGMarkup(t){let{reviver:e,additionalTransform:s=\"\"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=[this.getSvgTransform(!0,s),this.getSvgCommons()].join(\"\"),r=t.indexOf(\"COMMON_PARTS\");return t[r]=i,e?e(t.join(\"\")):t.join(\"\")}_createBaseSVGMarkup(t){let{noStyle:e,reviver:s,withShadow:i,additionalTransform:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e?\"\":'style=\"'.concat(this.getSvgStyles(),'\" '),o=i?'style=\"'.concat(this.getSvgFilter(),'\" '):\"\",a=this.clipPath,h=this.strokeUniform?'vector-effect=\"non-scaling-stroke\" ':\"\",c=a&&a.absolutePositioned,l=this.stroke,u=this.fill,d=this.shadow,g=[],f=t.indexOf(\"COMMON_PARTS\");let p;a&&(a.clipPathId=\"CLIPPATH_\".concat(ft()),p='<clipPath id=\"'.concat(a.clipPathId,'\" >\\n').concat(a.toClipPathSVG(s),\"</clipPath>\\n\")),c&&g.push(\"<g \",o,this.getSvgCommons(),\" >\\n\"),g.push(\"<g \",this.getSvgTransform(!1),c?\"\":o+this.getSvgCommons(),\" >\\n\");const m=[n,h,e?\"\":this.addPaintOrder(),\" \",r?'transform=\"'.concat(r,'\" '):\"\"].join(\"\");return t[f]=m,Gt(u)&&g.push(u.toSVG(this)),Gt(l)&&g.push(l.toSVG(this)),d&&g.push(d.toSVG(this)),a&&g.push(p),g.push(t.join(\"\")),g.push(\"</g>\\n\"),c&&g.push(\"</g>\\n\"),s?s(g.join(\"\")):g.join(\"\")}addPaintOrder(){return this.paintFirst!==K?' paint-order=\"'.concat(this.paintFirst,'\" '):\"\"}}function Ve(t){return new RegExp(\"^(\"+t.join(\"|\")+\")\\\\b\",\"i\")}const ze=\"textDecorationThickness\",Ge=[\"fontSize\",\"fontWeight\",\"fontFamily\",\"fontStyle\"],He=[\"underline\",\"overline\",\"linethrough\"],Ne=[...Ge,\"lineHeight\",\"text\",\"charSpacing\",\"textAlign\",\"styles\",\"path\",\"pathStartOffset\",\"pathSide\",\"pathAlign\"],Ue=[...Ne,...He,\"textBackgroundColor\",\"direction\",ze],qe=[...Ge,...He,J,\"strokeWidth\",K,\"deltaY\",\"textBackgroundColor\",ze],Ke={_reNewline:F,_reSpacesAndTabs:/[ \\t\\r]/g,_reSpaceAndTab:/[ \\t\\r]/,_reWords:/\\S+/g,fontSize:40,fontWeight:\"normal\",fontFamily:\"Times New Roman\",underline:!1,overline:!1,linethrough:!1,textAlign:M,fontStyle:\"normal\",lineHeight:1.16,textBackgroundColor:\"\",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:M,pathAlign:\"baseline\",charSpacing:0,deltaY:0,direction:\"ltr\",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.28167,overline:-.81333},_fontSizeMult:1.13,[ze]:66.667},Je=\"justify\",Qe=\"justify-left\",Ze=\"justify-right\",$e=\"justify-center\";var ts,es,ss;const is=String.raw(ts||(ts=r([\"[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?\"],[\"[-+]?(?:\\\\d*\\\\.\\\\d+|\\\\d+\\\\.?)(?:[eE][-+]?\\\\d+)?\"]))),rs=String.raw(es||(es=r([\"(?:s*,?s+|s*,s*)\"],[\"(?:\\\\s*,?\\\\s+|\\\\s*,\\\\s*)\"]))),ns=\"http://www.w3.org/2000/svg\",os=new RegExp(\"(normal|italic)?\\\\s*(normal|small-caps)?\\\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\\\s*(\"+is+\"(?:px|cm|mm|em|pt|pc|in)*)(?:\\\\/(normal|\"+is+\"))?\\\\s+(.*)\"),as={cx:M,x:M,r:\"radius\",cy:P,y:P,display:\"visible\",visibility:\"visible\",transform:\"transformMatrix\",\"fill-opacity\":\"fillOpacity\",\"fill-rule\":\"fillRule\",\"font-family\":\"fontFamily\",\"font-size\":\"fontSize\",\"font-style\":\"fontStyle\",\"font-weight\":\"fontWeight\",\"letter-spacing\":\"charSpacing\",\"paint-order\":\"paintFirst\",\"stroke-dasharray\":\"strokeDashArray\",\"stroke-dashoffset\":\"strokeDashOffset\",\"stroke-linecap\":\"strokeLineCap\",\"stroke-linejoin\":\"strokeLineJoin\",\"stroke-miterlimit\":\"strokeMiterLimit\",\"stroke-opacity\":\"strokeOpacity\",\"stroke-width\":\"strokeWidth\",\"text-decoration\":\"textDecoration\",\"text-anchor\":\"textAnchor\",opacity:\"opacity\",\"clip-path\":\"clipPath\",\"clip-rule\":\"clipRule\",\"vector-effect\":\"strokeUniform\",\"image-rendering\":\"imageSmoothing\",\"text-decoration-thickness\":ze},hs=\"font-size\",cs=\"clip-path\",ls=Ve([\"path\",\"circle\",\"polygon\",\"polyline\",\"ellipse\",\"rect\",\"line\",\"image\",\"text\"]),us=Ve([\"symbol\",\"image\",\"marker\",\"pattern\",\"view\",\"svg\"]),ds=Ve([\"symbol\",\"g\",\"a\",\"svg\",\"clipPath\",\"defs\"]),gs=new RegExp(String.raw(ss||(ss=r([\"^s*(\",\")\",\"(\",\")\",\"(\",\")\",\"(\",\")s*$\"],[\"^\\\\s*(\",\")\",\"(\",\")\",\"(\",\")\",\"(\",\")\\\\s*$\"])),is,rs,is,rs,is,rs,is)),fs=new ot(1,0),ps=new ot,ms=(t,e)=>t.rotate(e),vs=(t,e)=>new ot(e).subtract(t),ys=t=>t.distanceFrom(ps),_s=(t,e)=>Math.atan2(Ss(t,e),ws(t,e)),xs=t=>_s(fs,t),Cs=t=>t.eq(ps)?t:t.scalarDivide(ys(t)),bs=function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Cs(new ot(-t.y,t.x).scalarMultiply(e?1:-1))},Ss=(t,e)=>t.x*e.y-t.y*e.x,ws=(t,e)=>t.x*e.x+t.y*e.y,Ts=(t,e,s)=>{if(t.eq(e)||t.eq(s))return!0;const i=Ss(e,s),r=Ss(e,t),n=Ss(s,t);return i>=0?r>=0&&n<=0:!(r<=0&&n>=0)},Os=\"(-?\\\\d+(?:\\\\.\\\\d*)?(?:px)?(?:\\\\s?|$))?\",ks=new RegExp(\"(?:\\\\s|^)\"+Os+Os+\"(\"+is+\"?(?:px)?)?(?:\\\\s?|$)(?:$|\\\\s)\");class Ds{constructor(t){const e=\"string\"==typeof t?Ds.parseShadow(t):t;Object.assign(this,Ds.ownDefaults,e),this.id=ft()}static parseShadow(t){const e=t.trim(),[,s=0,i=0,r=0]=(ks.exec(e)||[]).map((t=>parseFloat(t)||0));return{color:(e.replace(ks,\"\")||\"rgb(0,0,0)\").trim(),offsetX:s,offsetY:i,blur:r}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join(\"px \")}toSVG(t){const e=ms(new ot(this.offsetX,this.offsetY),xt(-t.angle)),s=new Ie(this.color);let i=40,r=40;return t.width&&t.height&&(i=100*Vt((Math.abs(e.x)+this.blur)/t.width,o.NUM_FRACTION_DIGITS)+20,r=100*Vt((Math.abs(e.y)+this.blur)/t.height,o.NUM_FRACTION_DIGITS)+20),t.flipX&&(e.x*=-1),t.flipY&&(e.y*=-1),'<filter id=\"SVGID_'.concat(this.id,'\" y=\"-').concat(r,'%\" height=\"').concat(100+2*r,'%\" x=\"-').concat(i,'%\" width=\"').concat(100+2*i,'%\" >\\n\\t<feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"').concat(Vt(this.blur?this.blur/2:0,o.NUM_FRACTION_DIGITS),'\"></feGaussianBlur>\\n\\t<feOffset dx=\"').concat(Vt(e.x,o.NUM_FRACTION_DIGITS),'\" dy=\"').concat(Vt(e.y,o.NUM_FRACTION_DIGITS),'\" result=\"oBlur\" ></feOffset>\\n\\t<feFlood flood-color=\"').concat(s.toRgb(),'\" flood-opacity=\"').concat(s.getAlpha(),'\"/>\\n\\t<feComposite in2=\"oBlur\" operator=\"in\" />\\n\\t<feMerge>\\n\\t\\t<feMergeNode></feMergeNode>\\n\\t\\t<feMergeNode in=\"SourceGraphic\"></feMergeNode>\\n\\t</feMerge>\\n</filter>\\n')}toObject(){const t={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},e=Ds.ownDefaults;return this.includeDefaultValues?t:Wt(t,((t,s)=>t!==e[s]))}static async fromObject(t){return new this(t)}}t(Ds,\"ownDefaults\",{color:\"rgb(0,0,0)\",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),t(Ds,\"type\",\"shadow\"),tt.setClass(Ds,\"shadow\");const Ms=(t,e,s)=>Math.max(t,Math.min(e,s)),Ps=[P,M,H,N,\"flipX\",\"flipY\",\"originX\",\"originY\",\"angle\",\"opacity\",\"globalCompositeOperation\",\"shadow\",\"visible\",U,q],Es=[K,J,\"strokeWidth\",\"strokeDashArray\",\"width\",\"height\",\"paintFirst\",\"strokeUniform\",\"strokeLineCap\",\"strokeDashOffset\",\"strokeLineJoin\",\"strokeMiterLimit\",\"backgroundColor\",\"clipPath\"],As={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:M,originY:P,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:K,fill:\"rgb(0,0,0)\",fillRule:\"nonzero\",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:\"butt\",strokeLineJoin:\"miter\",strokeMiterLimit:4,globalCompositeOperation:\"source-over\",backgroundColor:\"\",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},js=(t,e,s,i)=>(t<Math.abs(e)?(t=e,i=s/4):i=0===e&&0===t?s/S*Math.asin(1):s/S*Math.asin(e/t),{a:t,c:e,p:s,s:i}),Fs=(t,e,s,i,r)=>t*Math.pow(2,10*(i-=1))*Math.sin((i*r-e)*S/s),Ls=(t,e,s,i)=>-s*Math.cos(t/i*b)+s+e,Rs=(t,e,s,i)=>(t/=i)<1/2.75?s*(7.5625*t*t)+e:t<2/2.75?s*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?s*(7.5625*(t-=2.25/2.75)*t+.9375)+e:s*(7.5625*(t-=2.625/2.75)*t+.984375)+e,Is=(t,e,s,i)=>s-Rs(i-t,0,s,i)+e;var Bs=Object.freeze({__proto__:null,defaultEasing:Ls,easeInBack:function(t,e,s,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.70158;return s*(t/=i)*t*((r+1)*t-r)+e},easeInBounce:Is,easeInCirc:(t,e,s,i)=>-s*(Math.sqrt(1-(t/=i)*t)-1)+e,easeInCubic:(t,e,s,i)=>s*(t/i)**3+e,easeInElastic:(t,e,s,i)=>{const r=s;let n=0;if(0===t)return e;if(1===(t/=i))return e+s;n||(n=.3*i);const{a:o,s:a,p:h}=js(r,s,n,1.70158);return-Fs(o,a,h,t,i)+e},easeInExpo:(t,e,s,i)=>0===t?e:s*2**(10*(t/i-1))+e,easeInOutBack:function(t,e,s,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.70158;return(t/=i/2)<1?s/2*(t*t*((1+(r*=1.525))*t-r))+e:s/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e},easeInOutBounce:(t,e,s,i)=>t<i/2?.5*Is(2*t,0,s,i)+e:.5*Rs(2*t-i,0,s,i)+.5*s+e,easeInOutCirc:(t,e,s,i)=>(t/=i/2)<1?-s/2*(Math.sqrt(1-t**2)-1)+e:s/2*(Math.sqrt(1-(t-=2)*t)+1)+e,easeInOutCubic:(t,e,s,i)=>(t/=i/2)<1?s/2*t**3+e:s/2*((t-2)**3+2)+e,easeInOutElastic:(t,e,s,i)=>{const r=s;let n=0;if(0===t)return e;if(2===(t/=i/2))return e+s;n||(n=i*(.3*1.5));const{a:o,s:a,p:h,c:c}=js(r,s,n,1.70158);return t<1?-.5*Fs(o,a,h,t,i)+e:o*Math.pow(2,-10*(t-=1))*Math.sin((t*i-a)*S/h)*.5+c+e},easeInOutExpo:(t,e,s,i)=>0===t?e:t===i?e+s:(t/=i/2)<1?s/2*2**(10*(t-1))+e:s/2*-(2**(-10*--t)+2)+e,easeInOutQuad:(t,e,s,i)=>(t/=i/2)<1?s/2*t**2+e:-s/2*(--t*(t-2)-1)+e,easeInOutQuart:(t,e,s,i)=>(t/=i/2)<1?s/2*t**4+e:-s/2*((t-=2)*t**3-2)+e,easeInOutQuint:(t,e,s,i)=>(t/=i/2)<1?s/2*t**5+e:s/2*((t-2)**5+2)+e,easeInOutSine:(t,e,s,i)=>-s/2*(Math.cos(Math.PI*t/i)-1)+e,easeInQuad:(t,e,s,i)=>s*(t/=i)*t+e,easeInQuart:(t,e,s,i)=>s*(t/=i)*t**3+e,easeInQuint:(t,e,s,i)=>s*(t/i)**5+e,easeInSine:(t,e,s,i)=>-s*Math.cos(t/i*b)+s+e,easeOutBack:function(t,e,s,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.70158;return s*((t=t/i-1)*t*((r+1)*t+r)+1)+e},easeOutBounce:Rs,easeOutCirc:(t,e,s,i)=>s*Math.sqrt(1-(t=t/i-1)*t)+e,easeOutCubic:(t,e,s,i)=>s*((t/i-1)**3+1)+e,easeOutElastic:(t,e,s,i)=>{const r=s;let n=0;if(0===t)return e;if(1===(t/=i))return e+s;n||(n=.3*i);const{a:o,s:a,p:h,c:c}=js(r,s,n,1.70158);return o*2**(-10*t)*Math.sin((t*i-a)*S/h)+c+e},easeOutExpo:(t,e,s,i)=>t===i?e+s:s*-(2**(-10*t/i)+1)+e,easeOutQuad:(t,e,s,i)=>-s*(t/=i)*(t-2)+e,easeOutQuart:(t,e,s,i)=>-s*((t=t/i-1)*t**3-1)+e,easeOutQuint:(t,e,s,i)=>s*((t/i-1)**5+1)+e,easeOutSine:(t,e,s,i)=>s*Math.sin(t/i*b)+e});const Xs=()=>!1;class Ys{constructor(e){let{startValue:s,byValue:i,duration:r=500,delay:n=0,easing:o=Ls,onStart:a=C,onChange:h=C,onComplete:c=C,abort:l=Xs,target:u}=e;t(this,\"_state\",\"pending\"),t(this,\"durationProgress\",0),t(this,\"valueProgress\",0),this.tick=this.tick.bind(this),this.duration=r,this.delay=n,this.easing=o,this._onStart=a,this._onChange=h,this._onComplete=c,this._abort=l,this.target=u,this.startValue=s,this.byValue=i,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return\"aborted\"===this._state||\"completed\"===this._state}start(){const t=t=>{\"pending\"===this._state&&(this.startTime=t||+new Date,this._state=\"running\",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout((()=>ut(t)),this.delay):ut(t)}tick(t){const e=(t||+new Date)-this.startTime,s=Math.min(e,this.duration);this.durationProgress=s/this.duration;const{value:i,valueProgress:r}=this.calculate(s);this.value=Object.freeze(i),this.valueProgress=r,\"aborted\"!==this._state&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state=\"aborted\",this.unregister()):e>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state=\"completed\",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),ut(this.tick)))}register(){et.push(this)}unregister(){et.remove(this)}abort(){this._state=\"aborted\",this.unregister()}}const Ws=[\"startValue\",\"endValue\"];class Vs extends Ys{constructor(t){let{startValue:e=0,endValue:r=100}=t;super(s(s({},i(t,Ws)),{},{startValue:e,byValue:r-e}))}calculate(t){const e=this.easing(t,this.startValue,this.byValue,this.duration);return{value:e,valueProgress:Math.abs((e-this.startValue)/this.byValue)}}}const zs=[\"startValue\",\"endValue\"];class Gs extends Ys{constructor(t){let{startValue:e=[0],endValue:r=[100]}=t;super(s(s({},i(t,zs)),{},{startValue:e,byValue:r.map(((t,s)=>t-e[s]))}))}calculate(t){const e=this.startValue.map(((e,s)=>this.easing(t,e,this.byValue[s],this.duration,s)));return{value:e,valueProgress:Math.abs((e[0]-this.startValue[0])/this.byValue[0])}}}const Hs=[\"startValue\",\"endValue\",\"easing\",\"onChange\",\"onComplete\",\"abort\"],Ns=(t,e,s,i)=>e+s*(1-Math.cos(t/i*b)),Us=t=>t&&((e,s,i)=>t(new Ie(e).toRgba(),s,i));class qs extends Ys{constructor(t){let{startValue:e,endValue:r,easing:n=Ns,onChange:o,onComplete:a,abort:h}=t,c=i(t,Hs);const l=new Ie(e).getSource(),u=new Ie(r).getSource();super(s(s({},c),{},{startValue:l,byValue:u.map(((t,e)=>t-l[e])),easing:n,onChange:Us(o),onComplete:Us(a),abort:Us(h)}))}calculate(t){const[e,s,i,r]=this.startValue.map(((e,s)=>this.easing(t,e,this.byValue[s],this.duration,s))),n=[...[e,s,i].map(Math.round),Ms(0,r,1)];return{value:n,valueProgress:n.map(((t,e)=>0!==this.byValue[e]?Math.abs((t-this.startValue[e])/this.byValue[e]):0)).find((t=>0!==t))||0}}}function Ks(t){const e=(t=>Array.isArray(t.startValue)||Array.isArray(t.endValue))(t)?new Gs(t):new Vs(t);return e.start(),e}function Js(t){const e=new qs(t);return e.start(),e}class Qs{constructor(t){this.status=t,this.points=[]}includes(t){return this.points.some((e=>e.eq(t)))}append(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return this.points=this.points.concat(e.filter((t=>!this.includes(t)))),this}static isPointContained(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.eq(s))return t.eq(e);if(e.x===s.x)return t.x===e.x&&(i||t.y>=Math.min(e.y,s.y)&&t.y<=Math.max(e.y,s.y));if(e.y===s.y)return t.y===e.y&&(i||t.x>=Math.min(e.x,s.x)&&t.x<=Math.max(e.x,s.x));{const r=vs(e,s),n=vs(e,t).divide(r);return i?Math.abs(n.x)===Math.abs(n.y):n.x===n.y&&n.x>=0&&n.x<=1}}static isPointInPolygon(t,e){const s=new ot(t).setX(Math.min(t.x-1,...e.map((t=>t.x))));let i=0;for(let r=0;r<e.length;r++){const n=this.intersectSegmentSegment(e[r],e[(r+1)%e.length],t,s);if(n.includes(t))return!0;i+=Number(\"Intersection\"===n.status)}return i%2==1}static intersectLineLine(t,e,s,i){let r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],n=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const o=e.x-t.x,a=e.y-t.y,h=i.x-s.x,c=i.y-s.y,l=t.x-s.x,u=t.y-s.y,d=h*u-c*l,g=o*u-a*l,f=c*o-h*a;if(0!==f){const e=d/f,s=g/f;return(r||0<=e&&e<=1)&&(n||0<=s&&s<=1)?new Qs(\"Intersection\").append(new ot(t.x+e*o,t.y+e*a)):new Qs}if(0===d||0===g){const o=r||n||Qs.isPointContained(t,s,i)||Qs.isPointContained(e,s,i)||Qs.isPointContained(s,t,e)||Qs.isPointContained(i,t,e);return new Qs(o?\"Coincident\":void 0)}return new Qs(\"Parallel\")}static intersectSegmentLine(t,e,s,i){return Qs.intersectLineLine(t,e,s,i,!1,!0)}static intersectSegmentSegment(t,e,s,i){return Qs.intersectLineLine(t,e,s,i,!1,!1)}static intersectLinePolygon(t,e,s){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const r=new Qs,n=s.length;for(let o,a,h,c=0;c<n;c++){if(o=s[c],a=s[(c+1)%n],h=Qs.intersectLineLine(t,e,o,a,i,!1),\"Coincident\"===h.status)return h;r.append(...h.points)}return r.points.length>0&&(r.status=\"Intersection\"),r}static intersectSegmentPolygon(t,e,s){return Qs.intersectLinePolygon(t,e,s,!1)}static intersectPolygonPolygon(t,e){const s=new Qs,i=t.length,r=[];for(let n=0;n<i;n++){const o=t[n],a=t[(n+1)%i],h=Qs.intersectSegmentPolygon(o,a,e);\"Coincident\"===h.status?(r.push(h),s.append(o,a)):s.append(...h.points)}return r.length>0&&r.length===t.length?new Qs(\"Coincident\"):(s.points.length>0&&(s.status=\"Intersection\"),s)}static intersectPolygonRectangle(t,e,s){const i=e.min(s),r=e.max(s),n=new ot(r.x,i.y),o=new ot(i.x,r.y);return Qs.intersectPolygonPolygon(t,[i,n,r,o])}}class Zs extends lt{getX(){return this.getXY().x}setX(t){this.setXY(this.getXY().setX(t))}getY(){return this.getXY().y}setY(t){this.setXY(this.getXY().setY(t))}getRelativeX(){return this.left}setRelativeX(t){this.left=t}getRelativeY(){return this.top}setRelativeY(t){this.top=t}getXY(){const t=this.getRelativeXY();return this.group?St(t,this.group.calcTransformMatrix()):t}setXY(t,e,s){this.group&&(t=St(t,wt(this.group.calcTransformMatrix()))),this.setRelativeXY(t,e,s)}getRelativeXY(){return new ot(this.left,this.top)}setRelativeXY(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.originX,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.originY;this.setPositionByOrigin(t,e,s)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:t,tr:e,br:s,bl:i}=this.aCoords||(this.aCoords=this.calcACoords()),r=[t,e,s,i];if(this.group){const t=this.group.calcTransformMatrix();return r.map((e=>St(e,t)))}return r}intersectsWithRect(t,e){return\"Intersection\"===Qs.intersectPolygonRectangle(this.getCoords(),t,e).status}intersectsWithObject(t){const e=Qs.intersectPolygonPolygon(this.getCoords(),t.getCoords());return\"Intersection\"===e.status||\"Coincident\"===e.status||t.isContainedWithinObject(this)||this.isContainedWithinObject(t)}isContainedWithinObject(t){return this.getCoords().every((e=>t.containsPoint(e)))}isContainedWithinRect(t,e){const{left:s,top:i,width:r,height:n}=this.getBoundingRect();return s>=t.x&&s+r<=e.x&&i>=t.y&&i+n<=e.y}isOverlapping(t){return this.intersectsWithObject(t)||this.isContainedWithinObject(t)||t.isContainedWithinObject(this)}containsPoint(t){return Qs.isPointInPolygon(t,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:t,br:e}=this.canvas.vptCoords;return!!this.getCoords().some((s=>s.x<=e.x&&s.x>=t.x&&s.y<=e.y&&s.y>=t.y))||(!!this.intersectsWithRect(t,e)||this.containsPoint(t.midPointFrom(e)))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:t,br:e}=this.canvas.vptCoords;if(this.intersectsWithRect(t,e))return!0;return this.getCoords().every((s=>(s.x>=e.x||s.x<=t.x)&&(s.y>=e.y||s.y<=t.y)))&&this.containsPoint(t.midPointFrom(e))}getBoundingRect(){return he(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(t){this._set(H,t),this._set(N,t),this.setCoords()}scaleToWidth(t){const e=this.getBoundingRect().width/this.getScaledWidth();return this.scale(t/this.width/e)}scaleToHeight(t){const e=this.getBoundingRect().height/this.getScaledHeight();return this.scale(t/this.height/e)}getCanvasRetinaScaling(){var t;return(null===(t=this.canvas)||void 0===t?void 0:t.getRetinaScaling())||1}getTotalAngle(){return this.group?Ct(kt(this.calcTransformMatrix())):this.angle}getViewportTransform(){var t;return(null===(t=this.canvas)||void 0===t?void 0:t.viewportTransform)||T.concat()}calcACoords(){const t=Pt({angle:this.angle}),{x:e,y:s}=this.getRelativeCenterPoint(),i=Mt(e,s),r=Tt(i,t),n=this._getTransformedDimensions(),o=n.x/2,a=n.y/2;return{tl:St({x:-o,y:-a},r),tr:St({x:o,y:-a},r),bl:St({x:-o,y:a},r),br:St({x:o,y:a},r)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[];return!t&&this.group&&(e=this.group.transformMatrixKey(t)),e.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,Ce(this.originX),Ce(this.originY)),e}calcTransformMatrix(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.calcOwnMatrix();if(t||!this.group)return e;const s=this.transformMatrixKey(t),i=this.matrixCache;return i&&i.key.every(((t,e)=>t===s[e]))?i.value:(this.group&&(e=Tt(this.group.calcTransformMatrix(!1),e)),this.matrixCache={key:s,value:e},e)}calcOwnMatrix(){const t=this.transformMatrixKey(!0),e=this.ownMatrixCache;if(e&&e.key===t)return e.value;const s=this.getRelativeCenterPoint(),i={angle:this.angle,translateX:s.x,translateY:s.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},r=Rt(i);return this.ownMatrixCache={key:t,value:r},r}_getNonTransformedDimensions(){return new ot(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(t){return this._getTransformedDimensions(t).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=s({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},t),i=e.strokeWidth;let r=i,n=0;this.strokeUniform&&(r=0,n=i);const o=e.width+r,a=e.height+r;let h;return h=0===e.skewX&&0===e.skewY?new ot(o*e.scaleX,a*e.scaleY):fe(o,a,Lt(e)),h.scalarAdd(n)}translateToGivenOrigin(t,e,s,i,r){let n=t.x,o=t.y;const a=Ce(i)-Ce(e),h=Ce(r)-Ce(s);if(a||h){const t=this._getTransformedDimensions();n+=a*t.x,o+=h*t.y}return new ot(n,o)}translateToCenterPoint(t,e,s){if(e===D&&s===D)return t;const i=this.translateToGivenOrigin(t,e,s,D,D);return this.angle?i.rotate(xt(this.angle),t):i}translateToOriginPoint(t,e,s){const i=this.translateToGivenOrigin(t,D,D,e,s);return this.angle?i.rotate(xt(this.angle),t):i}getCenterPoint(){const t=this.getRelativeCenterPoint();return this.group?St(t,this.group.calcTransformMatrix()):t}getRelativeCenterPoint(){return this.translateToCenterPoint(new ot(this.left,this.top),this.originX,this.originY)}getPointByOrigin(t,e){return this.translateToOriginPoint(this.getRelativeCenterPoint(),t,e)}setPositionByOrigin(t,e,s){const i=this.translateToCenterPoint(t,e,s),r=this.translateToOriginPoint(i,this.originX,this.originY);this.set({left:r.x,top:r.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),M,P)}}const $s=[\"type\"],ti=[\"extraParam\"];let ei=class e extends Zs{static getDefaults(){return e.ownDefaults}get type(){const t=this.constructor.type;return\"FabricObject\"===t?\"object\":t.toLowerCase()}set type(t){a(\"warn\",\"Setting type has no effect\",t)}constructor(s){super(),t(this,\"_cacheContext\",null),Object.assign(this,e.ownDefaults),this.setOptions(s)}_createCacheCanvas(){this._cacheCanvas=pt(),this._cacheContext=this._cacheCanvas.getContext(\"2d\"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(t){const e=t.width,s=t.height,i=o.maxCacheSideLimit,r=o.minCacheSideLimit;if(e<=i&&s<=i&&e*s<=o.perfLimitSizeTotal)return e<r&&(t.width=r),s<r&&(t.height=r),t;const n=e/s,[a,h]=_.limitDimsByArea(n),c=Ms(r,a,i),l=Ms(r,h,i);return e>c&&(t.zoomX/=e/c,t.width=c,t.capped=!0),s>l&&(t.zoomY/=s/l,t.height=l,t.capped=!0),t}_getCacheCanvasDimensions(){const t=this.getTotalObjectScaling(),e=this._getTransformedDimensions({skewX:0,skewY:0}),s=e.x*t.x/this.scaleX,i=e.y*t.y/this.scaleY;return{width:Math.ceil(s+2),height:Math.ceil(i+2),zoomX:t.x,zoomY:t.y,x:s,y:i}}_updateCacheCanvas(){const t=this._cacheCanvas,e=this._cacheContext,{width:s,height:i,zoomX:r,zoomY:n,x:o,y:a}=this._limitCacheSize(this._getCacheCanvasDimensions()),h=s!==t.width||i!==t.height,c=this.zoomX!==r||this.zoomY!==n;if(!t||!e)return!1;if(h||c){s!==t.width||i!==t.height?(t.width=s,t.height=i):(e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height));const h=o/2,c=a/2;return this.cacheTranslationX=Math.round(t.width/2-h)+h,this.cacheTranslationY=Math.round(t.height/2-c)+c,e.translate(this.cacheTranslationX,this.cacheTranslationY),e.scale(r,n),this.zoomX=r,this.zoomY=n,!0}return!1}setOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setOptions(t)}transform(t){const e=this.group&&!this.group._transformDone||this.group&&this.canvas&&t===this.canvas.contextTop,s=this.calcTransformMatrix(!e);t.transform(s[0],s[1],s[2],s[3],s[4],s[5])}getObjectScaling(){if(!this.group)return new ot(Math.abs(this.scaleX),Math.abs(this.scaleY));const t=Dt(this.calcTransformMatrix());return new ot(Math.abs(t.scaleX),Math.abs(t.scaleY))}getTotalObjectScaling(){const t=this.getObjectScaling();if(this.canvas){const e=this.canvas.getZoom(),s=this.getCanvasRetinaScaling();return t.scalarMultiply(e*s)}return t}getObjectOpacity(){let t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t}_constrainScale(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:0===t?1e-4:t}_set(t,e){t!==H&&t!==N||(e=this._constrainScale(e)),t===H&&e<0?(this.flipX=!this.flipX,e*=-1):\"scaleY\"===t&&e<0?(this.flipY=!this.flipY,e*=-1):\"shadow\"!==t||!e||e instanceof Ds||(e=new Ds(e));const s=this[t]!==e;return this[t]=e,s&&this.constructor.cacheProperties.includes(t)&&(this.dirty=!0),this.parent&&(this.dirty||s&&this.constructor.stateProperties.includes(t))&&this.parent._set(\"dirty\",!0),this}isNotVisible(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible}render(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.drawObject(t,!1,{}),this.dirty=!1),t.restore())}drawSelectionBackground(t){}renderCache(t){if(t=t||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:e,zoomY:s,cacheTranslationX:i,cacheTranslationY:r}=this,{width:n,height:o}=this._cacheCanvas;this.drawObject(this._cacheContext,t.forClipping,{zoomX:e,zoomY:s,cacheTranslationX:i,cacheTranslationY:r,width:n,height:o,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&\"transparent\"!==this.stroke&&0!==this.strokeWidth}hasFill(){return this.fill&&\"transparent\"!==this.fill}needsItsOwnCache(){return!!(this.paintFirst===J&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)}drawClipPathOnCache(t,e,s){t.save(),e.inverted?t.globalCompositeOperation=\"destination-out\":t.globalCompositeOperation=\"destination-in\",t.setTransform(1,0,0,1,0,0),t.drawImage(s,0,0),t.restore()}drawObject(t,e,s){const i=this.fill,r=this.stroke;e?(this.fill=\"black\",this.stroke=\"\",this._setClippingProperties(t)):this._renderBackground(t),this._render(t),this._drawClipPath(t,this.clipPath,s),this.fill=i,this.stroke=r}createClipPathLayer(t,e){const s=vt(e),i=s.getContext(\"2d\");if(i.translate(e.cacheTranslationX,e.cacheTranslationY),i.scale(e.zoomX,e.zoomY),t._cacheCanvas=s,e.parentClipPaths.forEach((t=>{t.transform(i)})),e.parentClipPaths.push(t),t.absolutePositioned){const t=wt(this.calcTransformMatrix());i.transform(t[0],t[1],t[2],t[3],t[4],t[5])}return t.transform(i),t.drawObject(i,!0,e),s}_drawClipPath(t,e,s){if(!e)return;e._transformDone=!0;const i=this.createClipPathLayer(e,s);this.drawClipPathOnCache(t,e,i)}drawCacheOnCanvas(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isNotVisible())return!1;const e=this._cacheCanvas,s=this._cacheContext;return!(!e||!s||t||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(e&&s&&!t&&(s.save(),s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,e.width,e.height),s.restore()),!0)}_renderBackground(t){if(!this.backgroundColor)return;const e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}_setOpacity(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity}_setStrokeStyles(t,e){const s=e.stroke;s&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,Gt(s)?\"percentage\"===s.gradientUnits||s.gradientTransform||s.patternTransform?this._applyPatternForTransformedGradient(t,s):(t.strokeStyle=s.toLive(t),this._applyPatternGradientTransform(t,s)):t.strokeStyle=e.stroke)}_setFillStyles(t,e){let{fill:s}=e;s&&(Gt(s)?(t.fillStyle=s.toLive(t),this._applyPatternGradientTransform(t,s)):t.fillStyle=s)}_setClippingProperties(t){t.globalAlpha=1,t.strokeStyle=\"transparent\",t.fillStyle=\"#000000\"}_setLineDash(t,e){e&&0!==e.length&&t.setLineDash(e)}_setShadow(t){if(!this.shadow)return;const e=this.shadow,s=this.canvas,i=this.getCanvasRetinaScaling(),[r,,,n]=(null==s?void 0:s.viewportTransform)||T,a=r*i,h=n*i,c=e.nonScaling?new ot(1,1):this.getObjectScaling();t.shadowColor=e.color,t.shadowBlur=e.blur*o.browserShadowBlurConstant*(a+h)*(c.x+c.y)/4,t.shadowOffsetX=e.offsetX*a*c.x,t.shadowOffsetY=e.offsetY*h*c.y}_removeShadow(t){this.shadow&&(t.shadowColor=\"\",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)}_applyPatternGradientTransform(t,e){if(!Gt(e))return{offsetX:0,offsetY:0};const s=e.gradientTransform||e.patternTransform,i=-this.width/2+e.offsetX||0,r=-this.height/2+e.offsetY||0;return\"percentage\"===e.gradientUnits?t.transform(this.width,0,0,this.height,i,r):t.transform(1,0,0,1,i,r),s&&t.transform(s[0],s[1],s[2],s[3],s[4],s[5]),{offsetX:i,offsetY:r}}_renderPaintInOrder(t){this.paintFirst===J?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))}_render(t){}_renderFill(t){this.fill&&(t.save(),this._setFillStyles(t,this),\"evenodd\"===this.fillRule?t.fill(\"evenodd\"):t.fill(),t.restore())}_renderStroke(t){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform){const e=this.getObjectScaling();t.scale(1/e.x,1/e.y)}this._setLineDash(t,this.strokeDashArray),this._setStrokeStyles(t,this),t.stroke(),t.restore()}}_applyPatternForTransformedGradient(t,e){var s;const i=this._limitCacheSize(this._getCacheCanvasDimensions()),r=this.getCanvasRetinaScaling(),n=i.x/this.scaleX/r,o=i.y/this.scaleY/r,a=vt({width:Math.ceil(n),height:Math.ceil(o)}),h=a.getContext(\"2d\");h&&(h.beginPath(),h.moveTo(0,0),h.lineTo(n,0),h.lineTo(n,o),h.lineTo(0,o),h.closePath(),h.translate(n/2,o/2),h.scale(i.zoomX/this.scaleX/r,i.zoomY/this.scaleY/r),this._applyPatternGradientTransform(h,e),h.fillStyle=e.toLive(t),h.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(r*this.scaleX/i.zoomX,r*this.scaleY/i.zoomY),t.strokeStyle=null!==(s=h.createPattern(a,\"no-repeat\"))&&void 0!==s?s:\"\")}_findCenterFromElement(){return new ot(this.left+this.width/2,this.top+this.height/2)}clone(t){const e=this.toObject(t);return this.constructor.fromObject(e)}cloneAsImage(t){const e=this.toCanvasElement(t);return new(tt.getClass(\"image\"))(e)}toCanvasElement(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=ge(this),s=this.group,i=this.shadow,r=Math.abs,n=t.enableRetinaScaling?y():1,o=(t.multiplier||1)*n,a=t.canvasProvider||(t=>new ie(t,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,t.withoutTransform&&de(this),t.withoutShadow&&(this.shadow=null),t.viewportTransform&&ye(this,this.getViewportTransform()),this.setCoords();const h=pt(),c=this.getBoundingRect(),l=this.shadow,u=new ot;if(l){const t=l.blur,e=l.nonScaling?new ot(1,1):this.getObjectScaling();u.x=2*Math.round(r(l.offsetX)+t)*r(e.x),u.y=2*Math.round(r(l.offsetY)+t)*r(e.y)}const d=c.width+u.x,g=c.height+u.y;h.width=Math.ceil(d),h.height=Math.ceil(g);const f=a(h);\"jpeg\"===t.format&&(f.backgroundColor=\"#fff\"),this.setPositionByOrigin(new ot(f.width/2,f.height/2),D,D);const p=this.canvas;f._objects=[this],this.set(\"canvas\",f),this.setCoords();const m=f.toCanvasElement(o||1,t);return this.set(\"canvas\",p),this.shadow=i,s&&(this.group=s),this.set(e),this.setCoords(),f._objects=[],f.destroy(),m}toDataURL(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return yt(this.toCanvasElement(t),t.format||\"png\",t.quality||1)}toBlob(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _t(this.toCanvasElement(t),t.format||\"png\",t.quality||1)}isType(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return e.includes(this.constructor.type)||e.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(t){const{centeredRotation:e,originX:s,originY:i}=this;if(e){const{x:t,y:e}=this.getRelativeCenterPoint();this.originX=D,this.originY=D,this.left=t,this.top=e}if(this.set(\"angle\",t),e){const{x:t,y:e}=this.translateToOriginPoint(this.getRelativeCenterPoint(),s,i);this.left=t,this.top=e,this.originX=s,this.originY=i}}setOnGroup(){}_setupCompositeOperation(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}dispose(){et.cancelByTarget(this),this.off(),this._set(\"canvas\",void 0),this._cacheCanvas&&p().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(t,e){return Object.entries(t).reduce(((t,s)=>{let[i,r]=s;return t[i]=this._animate(i,r,e),t}),{})}_animate(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t.split(\".\"),n=this.constructor.colorProperties.includes(r[r.length-1]),{abort:o,startValue:a,onChange:h,onComplete:c}=i,l=s(s({},i),{},{target:this,startValue:null!=a?a:r.reduce(((t,e)=>t[e]),this),endValue:e,abort:null==o?void 0:o.bind(this),onChange:(t,e,s)=>{r.reduce(((e,s,i)=>(i===r.length-1&&(e[s]=t),e[s])),this),h&&h(t,e,s)},onComplete:(t,e,s)=>{this.setCoords(),c&&c(t,e,s)}});return n?Js(l):Ks(l)}isDescendantOf(t){const{parent:e,group:s}=this;return e===t||s===t||!!e&&e.isDescendantOf(t)||!!s&&s!==e&&s.isDescendantOf(t)}getAncestors(){const t=[];let e=this;do{e=e.parent,e&&t.push(e)}while(e);return t}findCommonAncestors(t){if(this===t)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const e=this.getAncestors(),s=t.getAncestors();if(0===e.length&&s.length>0&&this===s[s.length-1])return{fork:[],otherFork:[t,...s.slice(0,s.length-1)],common:[this]};for(let i,r=0;r<e.length;r++){if(i=e[r],i===t)return{fork:[this,...e.slice(0,r)],otherFork:[],common:e.slice(r)};for(let n=0;n<s.length;n++){if(this===s[n])return{fork:[],otherFork:[t,...s.slice(0,n)],common:[this,...e]};if(i===s[n])return{fork:[this,...e.slice(0,r)],otherFork:[t,...s.slice(0,n)],common:e.slice(r)}}}return{fork:[this,...e],otherFork:[t,...s],common:[]}}hasCommonAncestors(t){const e=this.findCommonAncestors(t);return e&&!!e.common.length}isInFrontOf(t){if(this===t)return;const e=this.findCommonAncestors(t);if(e.fork.includes(t))return!0;if(e.otherFork.includes(this))return!1;const s=e.common[0]||this.canvas;if(!s)return;const i=e.fork.pop(),r=e.otherFork.pop(),n=s._objects.indexOf(i),o=s._objects.indexOf(r);return n>-1&&n>o}toObject(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).concat(e.customProperties,this.constructor.customProperties||[]);let i;const r=o.NUM_FRACTION_DIGITS,{clipPath:n,fill:a,stroke:h,shadow:c,strokeDashArray:l,left:u,top:d,originX:g,originY:f,width:p,height:m,strokeWidth:v,strokeLineCap:y,strokeDashOffset:_,strokeLineJoin:C,strokeUniform:b,strokeMiterLimit:S,scaleX:w,scaleY:T,angle:O,flipX:k,flipY:D,opacity:M,visible:P,backgroundColor:E,fillRule:A,paintFirst:j,globalCompositeOperation:F,skewX:L,skewY:R}=this;n&&!n.excludeFromExport&&(i=n.toObject(t.concat(\"inverted\",\"absolutePositioned\")));const I=t=>Vt(t,r),B=s(s({},Yt(this,t)),{},{type:this.constructor.type,version:x,originX:g,originY:f,left:I(u),top:I(d),width:I(p),height:I(m),fill:Ht(a)?a.toObject():a,stroke:Ht(h)?h.toObject():h,strokeWidth:I(v),strokeDashArray:l?l.concat():l,strokeLineCap:y,strokeDashOffset:_,strokeLineJoin:C,strokeUniform:b,strokeMiterLimit:I(S),scaleX:I(w),scaleY:I(T),angle:I(O),flipX:k,flipY:D,opacity:I(M),shadow:c?c.toObject():c,visible:P,backgroundColor:E,fillRule:A,paintFirst:j,globalCompositeOperation:F,skewX:I(L),skewY:I(R)},i?{clipPath:i}:null);return this.includeDefaultValues?B:this._removeDefaultValues(B)}toDatalessObject(t){return this.toObject(t)}_removeDefaultValues(t){const e=this.constructor.getDefaults(),s=Object.keys(e).length>0?e:Object.getPrototypeOf(this);return Wt(t,((t,e)=>{if(e===M||e===P||\"type\"===e)return!0;const i=s[e];return t!==i&&!(Array.isArray(t)&&Array.isArray(i)&&0===t.length&&0===i.length)}))}toString(){return\"#<\".concat(this.constructor.type,\">\")}static _fromObject(t){let e=i(t,$s),s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{extraParam:r}=s,n=i(s,ti);return Xt(e,n).then((t=>r?(delete t[r],new this(e[r],t)):new this(t)))}static fromObject(t,e){return this._fromObject(t,e)}};t(ei,\"stateProperties\",Ps),t(ei,\"cacheProperties\",Es),t(ei,\"ownDefaults\",As),t(ei,\"type\",\"FabricObject\"),t(ei,\"colorProperties\",[K,J,\"backgroundColor\"]),t(ei,\"customProperties\",[]),tt.setClass(ei),tt.setClass(ei,\"object\");const si=(t,e,i)=>(r,n,o,a)=>{const h=e(r,n,o,a);return h&&_e(t,s(s({},Oe(r,n,o,a)),i)),h};function ii(t){return(e,s,i,r)=>{const{target:n,originX:o,originY:a}=s,h=n.getRelativeCenterPoint(),c=n.translateToOriginPoint(h,o,a),l=t(e,s,i,r);return n.setPositionByOrigin(c,s.originX,s.originY),l}}const ri=si(Y,ii(((t,e,s,i)=>{const r=De(e,e.originX,e.originY,s,i);if(Ce(e.originX)===Ce(D)||Ce(e.originX)===Ce(A)&&r.x<0||Ce(e.originX)===Ce(M)&&r.x>0){const{target:t}=e,s=t.strokeWidth/(t.strokeUniform?t.scaleX:1),i=Se(e)?2:1,n=t.width,o=Math.abs(r.x*i/t.scaleX)-s;return t.set(\"width\",Math.max(o,1)),n!==t.width}return!1})));function ni(t,e,s,i,r){i=i||{};const n=this.sizeX||i.cornerSize||r.cornerSize,o=this.sizeY||i.cornerSize||r.cornerSize,a=void 0!==i.transparentCorners?i.transparentCorners:r.transparentCorners,h=a?J:K,c=!a&&(i.cornerStrokeColor||r.cornerStrokeColor);let l,u=e,d=s;t.save(),t.fillStyle=i.cornerColor||r.cornerColor||\"\",t.strokeStyle=i.cornerStrokeColor||r.cornerStrokeColor||\"\",n>o?(l=n,t.scale(1,o/n),d=s*n/o):o>n?(l=o,t.scale(n/o,1),u=e*o/n):l=n,t.beginPath(),t.arc(u,d,l/2,0,S,!1),t[h](),c&&t.stroke(),t.restore()}function oi(t,e,s,i,r){i=i||{};const n=this.sizeX||i.cornerSize||r.cornerSize,o=this.sizeY||i.cornerSize||r.cornerSize,a=void 0!==i.transparentCorners?i.transparentCorners:r.transparentCorners,h=a?J:K,c=!a&&(i.cornerStrokeColor||r.cornerStrokeColor),l=n/2,u=o/2;t.save(),t.fillStyle=i.cornerColor||r.cornerColor||\"\",t.strokeStyle=i.cornerStrokeColor||r.cornerStrokeColor||\"\",t.translate(e,s);const d=r.getTotalAngle();t.rotate(xt(d)),t[\"\".concat(h,\"Rect\")](-l,-u,n,o),c&&t.strokeRect(-l,-u,n,o),t.restore()}class ai{constructor(e){t(this,\"visible\",!0),t(this,\"actionName\",G),t(this,\"angle\",0),t(this,\"x\",0),t(this,\"y\",0),t(this,\"offsetX\",0),t(this,\"offsetY\",0),t(this,\"sizeX\",0),t(this,\"sizeY\",0),t(this,\"touchSizeX\",0),t(this,\"touchSizeY\",0),t(this,\"cursorStyle\",\"crosshair\"),t(this,\"withConnection\",!1),Object.assign(this,e)}shouldActivate(t,e,s,i){var r;let{tl:n,tr:o,br:a,bl:h}=i;return(null===(r=e.canvas)||void 0===r?void 0:r.getActiveObject())===e&&e.isControlVisible(t)&&Qs.isPointInPolygon(s,[n,o,a,h])}getActionHandler(t,e,s){return this.actionHandler}getMouseDownHandler(t,e,s){return this.mouseDownHandler}getMouseUpHandler(t,e,s){return this.mouseUpHandler}cursorStyleHandler(t,e,s){return e.cursorStyle}getActionName(t,e,s){return e.actionName}getVisibility(t,e){var s,i;return null!==(s=null===(i=t._controlsVisibility)||void 0===i?void 0:i[e])&&void 0!==s?s:this.visible}setVisibility(t,e,s){this.visible=t}positionHandler(t,e,s,i){return new ot(this.x*t.x+this.offsetX,this.y*t.y+this.offsetY).transform(e)}calcCornerCoords(t,e,s,i,r,n){const o=Ot([Mt(s,i),Pt({angle:t}),Et((r?this.touchSizeX:this.sizeX)||e,(r?this.touchSizeY:this.sizeY)||e)]);return{tl:new ot(-.5,-.5).transform(o),tr:new ot(.5,-.5).transform(o),br:new ot(.5,.5).transform(o),bl:new ot(-.5,.5).transform(o)}}render(t,e,s,i,r){if(\"circle\"===((i=i||{}).cornerStyle||r.cornerStyle))ni.call(this,t,e,s,i,r);else oi.call(this,t,e,s,i,r)}}const hi=(t,e,s)=>s.lockRotation?be:e.cursorStyle,ci=si(I,ii(((t,e,s,i)=>{let{target:r,ex:n,ey:o,theta:a,originX:h,originY:c}=e;const l=r.translateToOriginPoint(r.getRelativeCenterPoint(),h,c);if(Te(r,\"lockRotation\"))return!1;const u=Math.atan2(o-l.y,n-l.x),d=Math.atan2(i-l.y,s-l.x);let g=Ct(d-u+a);if(r.snapAngle&&r.snapAngle>0){const t=r.snapAngle,e=r.snapThreshold||t,s=Math.ceil(g/t)*t,i=Math.floor(g/t)*t;Math.abs(g-i)<e?g=i:Math.abs(g-s)<e&&(g=s)}g<0&&(g=360+g),g%=360;const f=r.angle!==g;return r.angle=g,f})));function li(t,e){const s=e.canvas,i=t[s.uniScaleKey];return s.uniformScaling&&!i||!s.uniformScaling&&i}function ui(t,e,s){const i=Te(t,\"lockScalingX\"),r=Te(t,\"lockScalingY\");if(i&&r)return!0;if(!e&&(i||r)&&s)return!0;if(i&&\"x\"===e)return!0;if(r&&\"y\"===e)return!0;const{width:n,height:o,strokeWidth:a}=t;return 0===n&&0===a&&\"y\"!==e||0===o&&0===a&&\"x\"!==e}const di=[\"e\",\"se\",\"s\",\"sw\",\"w\",\"nw\",\"n\",\"ne\",\"e\"],gi=(t,e,s)=>{const i=li(t,s);if(ui(s,0!==e.x&&0===e.y?\"x\":0===e.x&&0!==e.y?\"y\":\"\",i))return be;const r=ke(s,e);return\"\".concat(di[r],\"-resize\")};function fi(t,e,s,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const n=e.target,o=r.by,a=li(t,n);let h,c,l,u,d,g;if(ui(n,o,a))return!1;if(e.gestureScale)c=e.scaleX*e.gestureScale,l=e.scaleY*e.gestureScale;else{if(h=De(e,e.originX,e.originY,s,i),d=\"y\"!==o?Math.sign(h.x||e.signX||1):1,g=\"x\"!==o?Math.sign(h.y||e.signY||1):1,e.signX||(e.signX=d),e.signY||(e.signY=g),Te(n,\"lockScalingFlip\")&&(e.signX!==d||e.signY!==g))return!1;if(u=n._getTransformedDimensions(),a&&!o){const t=Math.abs(h.x)+Math.abs(h.y),{original:s}=e,i=t/(Math.abs(u.x*s.scaleX/n.scaleX)+Math.abs(u.y*s.scaleY/n.scaleY));c=s.scaleX*i,l=s.scaleY*i}else c=Math.abs(h.x*n.scaleX/u.x),l=Math.abs(h.y*n.scaleY/u.y);Se(e)&&(c*=2,l*=2),e.signX!==d&&\"y\"!==o&&(e.originX=we(e.originX),c*=-1,e.signX=d),e.signY!==g&&\"x\"!==o&&(e.originY=we(e.originY),l*=-1,e.signY=g)}const f=n.scaleX,p=n.scaleY;return o?(\"x\"===o&&n.set(H,c),\"y\"===o&&n.set(N,l)):(!Te(n,\"lockScalingX\")&&n.set(H,c),!Te(n,\"lockScalingY\")&&n.set(N,l)),f!==n.scaleX||p!==n.scaleY}const pi=si(R,ii(((t,e,s,i)=>fi(t,e,s,i)))),mi=si(R,ii(((t,e,s,i)=>fi(t,e,s,i,{by:\"x\"})))),vi=si(R,ii(((t,e,s,i)=>fi(t,e,s,i,{by:\"y\"})))),yi=[\"target\",\"ex\",\"ey\",\"skewingSide\"],_i={x:{counterAxis:\"y\",scale:H,skew:U,lockSkewing:\"lockSkewingX\",origin:\"originX\",flip:\"flipX\"},y:{counterAxis:\"x\",scale:N,skew:q,lockSkewing:\"lockSkewingY\",origin:\"originY\",flip:\"flipY\"}},xi=[\"ns\",\"nesw\",\"ew\",\"nwse\"],Ci=(t,e,s)=>{if(0!==e.x&&Te(s,\"lockSkewingY\"))return be;if(0!==e.y&&Te(s,\"lockSkewingX\"))return be;const i=ke(s,e)%4;return\"\".concat(xi[i],\"-resize\")};function bi(t,e,r,n,o){const{target:a}=r,{counterAxis:h,origin:c,lockSkewing:l,skew:u,flip:d}=_i[t];if(Te(a,l))return!1;const{origin:g,flip:f}=_i[h],p=Ce(r[g])*(a[f]?-1:1),m=-Math.sign(p)*(a[d]?-1:1),v=.5*-((0===a[u]&&De(r,D,D,n,o)[t]>0||a[u]>0?1:-1)*m)+.5,y=si(X,ii(((e,s,r,n)=>function(t,e,s){let{target:r,ex:n,ey:o,skewingSide:a}=e,h=i(e,yi);const{skew:c}=_i[t],l=s.subtract(new ot(n,o)).divide(new ot(r.scaleX,r.scaleY))[t],u=r[c],d=h[c],g=Math.tan(xt(d)),f=\"y\"===t?r._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:r._getTransformedDimensions({scaleX:1,scaleY:1}).y,p=2*l*a/Math.max(f,1)+g,m=Ct(Math.atan(p));r.set(c,m);const v=u!==r[c];if(v&&\"y\"===t){const{skewX:t,scaleX:e}=r,s=r._getTransformedDimensions({skewY:u}),i=r._getTransformedDimensions(),n=0!==t?s.x/i.x:1;1!==n&&r.set(H,n*e)}return v}(t,s,new ot(r,n)))));return y(e,s(s({},r),{},{[c]:v,skewingSide:m}),n,o)}const Si=(t,e,s,i)=>bi(\"x\",t,e,s,i),wi=(t,e,s,i)=>bi(\"y\",t,e,s,i);function Ti(t,e){return t[e.canvas.altActionKey]}const Oi=(t,e,s)=>{const i=Ti(t,s);return 0===e.x?i?U:N:0===e.y?i?q:H:\"\"},ki=(t,e,s)=>Ti(t,s)?Ci(0,e,s):gi(t,e,s),Di=(t,e,s,i)=>Ti(t,e.target)?wi(t,e,s,i):mi(t,e,s,i),Mi=(t,e,s,i)=>Ti(t,e.target)?Si(t,e,s,i):vi(t,e,s,i),Pi=()=>({ml:new ai({x:-.5,y:0,cursorStyleHandler:ki,actionHandler:Di,getActionName:Oi}),mr:new ai({x:.5,y:0,cursorStyleHandler:ki,actionHandler:Di,getActionName:Oi}),mb:new ai({x:0,y:.5,cursorStyleHandler:ki,actionHandler:Mi,getActionName:Oi}),mt:new ai({x:0,y:-.5,cursorStyleHandler:ki,actionHandler:Mi,getActionName:Oi}),tl:new ai({x:-.5,y:-.5,cursorStyleHandler:gi,actionHandler:pi}),tr:new ai({x:.5,y:-.5,cursorStyleHandler:gi,actionHandler:pi}),bl:new ai({x:-.5,y:.5,cursorStyleHandler:gi,actionHandler:pi}),br:new ai({x:.5,y:.5,cursorStyleHandler:gi,actionHandler:pi}),mtr:new ai({x:0,y:-.5,actionHandler:ci,cursorStyleHandler:hi,offsetY:-40,withConnection:!0,actionName:B})}),Ei=()=>({mr:new ai({x:.5,y:0,actionHandler:ri,cursorStyleHandler:ki,actionName:Y}),ml:new ai({x:-.5,y:0,actionHandler:ri,cursorStyleHandler:ki,actionName:Y})}),Ai=()=>s(s({},Pi()),Ei());class ji extends ei{static getDefaults(){return s(s({},super.getDefaults()),ji.ownDefaults)}constructor(t){super(),Object.assign(this,this.constructor.createControls(),ji.ownDefaults),this.setOptions(t)}static createControls(){return{controls:Pi()}}_updateCacheCanvas(){const t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){const e=t._currentTransform,s=e.target,i=e.action;if(this===s&&i&&i.startsWith(G))return!1}return super._updateCacheCanvas()}getActiveControl(){const t=this.__corner;return t?{key:t,control:this.controls[t],coord:this.oCoords[t]}:void 0}findControl(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const s=Object.entries(this.oCoords);for(let i=s.length-1;i>=0;i--){const[r,n]=s[i],o=this.controls[r];if(o.shouldActivate(r,this,t,e?n.touchCorner:n.corner))return this.__corner=r,{key:r,control:o,coord:this.oCoords[r]}}}calcOCoords(){const t=this.getViewportTransform(),e=this.getCenterPoint(),s=Mt(e.x,e.y),i=Pt({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),r=Tt(s,i),n=Tt(t,r),o=Tt(n,[1/t[0],0,0,1/t[3],0,0]),a=this.group?Dt(this.calcTransformMatrix()):void 0;a&&(a.scaleX=Math.abs(a.scaleX),a.scaleY=Math.abs(a.scaleY));const h=this._calculateCurrentDimensions(a),c={};return this.forEachControl(((t,e)=>{const s=t.positionHandler(h,o,this,t);c[e]=Object.assign(s,this._calcCornerCoords(t,s))})),c}_calcCornerCoords(t,e){const s=this.getTotalAngle();return{corner:t.calcCornerCoords(s,this.cornerSize,e.x,e.y,!1,this),touchCorner:t.calcCornerCoords(s,this.touchCornerSize,e.x,e.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(t){for(const e in this.controls)t(this.controls[e],e,this)}drawSelectionBackground(t){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;t.save();const e=this.getRelativeCenterPoint(),s=this._calculateCurrentDimensions(),i=this.getViewportTransform();t.translate(e.x,e.y),t.scale(1/i[0],1/i[3]),t.rotate(xt(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-s.x/2,-s.y/2,s.x,s.y),t.restore()}strokeBorders(t,e){t.strokeRect(-e.x/2,-e.y/2,e.x,e.y)}_drawBorders(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=s({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},i);t.save(),t.strokeStyle=r.borderColor,this._setLineDash(t,r.borderDashArray),this.strokeBorders(t,e),r.hasControls&&this.drawControlsConnectingLines(t,e),t.restore()}_renderControls(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{hasBorders:i,hasControls:r}=this,n=s({hasBorders:i,hasControls:r},e),o=this.getViewportTransform(),a=n.hasBorders,h=n.hasControls,c=Tt(o,this.calcTransformMatrix()),l=Dt(c);t.save(),t.translate(l.translateX,l.translateY),t.lineWidth=this.borderScaleFactor,this.group===this.parent&&(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(l.angle-=180),t.rotate(xt(this.group?l.angle:this.angle)),a&&this.drawBorders(t,l,e),h&&this.drawControls(t,e),t.restore()}drawBorders(t,e,s){let i;if(s&&s.forActiveSelection||this.group){const t=fe(this.width,this.height,Lt(e)),s=this.isStrokeAccountedForInDimensions()?at:(this.strokeUniform?(new ot).scalarAdd(this.canvas?this.canvas.getZoom():1):new ot(e.scaleX,e.scaleY)).scalarMultiply(this.strokeWidth);i=t.add(s).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else i=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(t,i,s)}drawControlsConnectingLines(t,e){let s=!1;t.beginPath(),this.forEachControl(((i,r)=>{i.withConnection&&i.getVisibility(this,r)&&(s=!0,t.moveTo(i.x*e.x,i.y*e.y),t.lineTo(i.x*e.x+i.offsetX,i.y*e.y+i.offsetY))})),s&&t.stroke()}drawControls(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.save();const i=this.getCanvasRetinaScaling(),{cornerStrokeColor:r,cornerDashArray:n,cornerColor:o}=this,a=s({cornerStrokeColor:r,cornerDashArray:n,cornerColor:o},e);t.setTransform(i,0,0,i,0,0),t.strokeStyle=t.fillStyle=a.cornerColor,this.transparentCorners||(t.strokeStyle=a.cornerStrokeColor),this._setLineDash(t,a.cornerDashArray),this.forEachControl(((e,s)=>{if(e.getVisibility(this,s)){const i=this.oCoords[s];e.render(t,i.x,i.y,a,this)}})),t.restore()}isControlVisible(t){return this.controls[t]&&this.controls[t].getVisibility(this,t)}setControlVisible(t,e){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[t]=e}setControlsVisibility(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.entries(t).forEach((t=>{let[e,s]=t;return this.setControlVisible(e,s)}))}clearContextTop(t){if(!this.canvas)return;const e=this.canvas.contextTop;if(!e)return;const s=this.canvas.viewportTransform;e.save(),e.transform(s[0],s[1],s[2],s[3],s[4],s[5]),this.transform(e);const i=this.width+4,r=this.height+4;return e.clearRect(-i/2,-r/2,i,r),t||e.restore(),e}onDeselect(t){return!1}onSelect(t){return!1}shouldStartDragging(t){return!1}onDragStart(t){return!1}canDrop(t){return!1}renderDragSourceEffect(t){}renderDropTargetEffect(t){}}function Fi(t,e){return e.forEach((e=>{Object.getOwnPropertyNames(e.prototype).forEach((s=>{\"constructor\"!==s&&Object.defineProperty(t.prototype,s,Object.getOwnPropertyDescriptor(e.prototype,s)||Object.create(null))}))})),t}t(ji,\"ownDefaults\",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:\"rgb(178,204,255)\",cornerStrokeColor:\"\",cornerStyle:\"rect\",cornerDashArray:null,hasControls:!0,borderColor:\"rgb(178,204,255)\",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:\"\",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:\"down\",hoverCursor:null,moveCursor:null});class Li extends ji{}Fi(Li,[We]),tt.setClass(Li),tt.setClass(Li,\"object\");const Ri=(t,e,s,i)=>{const r=2*(i=Math.round(i))+1,{data:n}=t.getImageData(e-i,s-i,r,r);for(let t=3;t<n.length;t+=4){if(n[t]>0)return!1}return!0};class Ii{constructor(t){this.options=t,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new ot(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new ot(1/this.options.scaleX,1/this.options.scaleY):new ot(1,1)}createSideVector(t,e){const s=vs(t,e);return this.options.strokeUniform?s.multiply(this.scale):s}projectOrthogonally(t,e,s){return this.applySkew(t.add(this.calcOrthogonalProjection(t,e,s)))}isSkewed(){return 0!==this.options.skewX||0!==this.options.skewY}applySkew(t){const e=new ot(t);return e.y+=e.x*Math.tan(xt(this.options.skewY)),e.x+=e.y*Math.tan(xt(this.options.skewX)),e}scaleUnitVector(t,e){return t.multiply(this.strokeUniformScalar).scalarMultiply(e)}}const Bi=new ot;class Xi extends Ii{static getOrthogonalRotationFactor(t,e){const s=e?_s(t,e):xs(t);return Math.abs(s)<b?-1:1}constructor(e,s,i,r){super(r),t(this,\"AB\",void 0),t(this,\"AC\",void 0),t(this,\"alpha\",void 0),t(this,\"bisector\",void 0),this.A=new ot(e),this.B=new ot(s),this.C=new ot(i),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=_s(this.AB,this.AC),this.bisector=Cs(ms(this.AB.eq(Bi)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(t,e),r=bs(i),n=Xi.getOrthogonalRotationFactor(r,this.bisector);return this.scaleUnitVector(r,s*n)}projectBevel(){const t=[];return(this.alpha%S==0?[this.B]:[this.B,this.C]).forEach((e=>{t.push(this.projectOrthogonally(this.A,e)),t.push(this.projectOrthogonally(this.A,e,-this.strokeProjectionMagnitude))})),t}projectMiter(){const t=[],e=Math.abs(this.alpha),s=1/Math.sin(e/2),i=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*s),r=this.options.strokeUniform?ys(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return ys(i)/this.strokeProjectionMagnitude<=r&&t.push(this.applySkew(this.A.add(i))),t.push(...this.projectBevel()),t}projectRoundNoSkew(t,e){const s=[],i=new ot(Xi.getOrthogonalRotationFactor(this.bisector),Xi.getOrthogonalRotationFactor(new ot(this.bisector.y,this.bisector.x)));return[new ot(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i),new ot(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i)].forEach((i=>{Ts(i,t,e)&&s.push(this.A.add(i))})),s}projectRoundWithSkew(t,e){const s=[],{skewX:i,skewY:r,scaleX:n,scaleY:o,strokeUniform:a}=this.options,h=new ot(Math.tan(xt(i)),Math.tan(xt(r))),c=this.strokeProjectionMagnitude,l=a?c/o/Math.sqrt(1/o**2+1/n**2*h.y**2):c/Math.sqrt(1+h.y**2),u=new ot(Math.sqrt(Math.max(c**2-l**2,0)),l),d=a?c/Math.sqrt(1+h.x**2*(1/o)**2/(1/n+1/n*h.x*h.y)**2):c/Math.sqrt(1+h.x**2/(1+h.x*h.y)**2),g=new ot(d,Math.sqrt(Math.max(c**2-d**2,0)));return[g,g.scalarMultiply(-1),u,u.scalarMultiply(-1)].map((t=>this.applySkew(a?t.multiply(this.strokeUniformScalar):t))).forEach((i=>{Ts(i,t,e)&&s.push(this.applySkew(this.A).add(i))})),s}projectRound(){const t=[];t.push(...this.projectBevel());const e=this.alpha%S==0,s=this.applySkew(this.A),i=t[e?0:2].subtract(s),r=t[e?1:0].subtract(s),n=e?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),o=Ss(i,n)>0,a=o?i:r,h=o?r:i;return this.isSkewed()?t.push(...this.projectRoundWithSkew(a,h)):t.push(...this.projectRoundNoSkew(a,h)),t}projectPoints(){switch(this.options.strokeLineJoin){case\"miter\":return this.projectMiter();case\"round\":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map((t=>({originPoint:this.A,projectedPoint:t,angle:this.alpha,bisector:this.bisector})))}}class Yi extends Ii{constructor(t,e,s){super(s),this.A=new ot(t),this.T=new ot(e)}calcOrthogonalProjection(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(t,e);return this.scaleUnitVector(bs(i),s)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const t=[];if(!this.isSkewed()&&this.A.eq(this.T)){const e=new ot(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.applySkew(this.A.add(e)),this.applySkew(this.A.subtract(e)))}else t.push(...new Xi(this.A,this.T,this.T,this.options).projectRound());return t}projectSquare(){const t=[];if(this.A.eq(this.T)){const e=new ot(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.A.add(e),this.A.subtract(e))}else{const e=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),s=this.scaleUnitVector(Cs(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),i=this.A.add(s);t.push(i.add(e),i.subtract(e))}return t.map((t=>this.applySkew(t)))}projectPoints(){switch(this.options.strokeLineCap){case\"round\":return this.projectRound();case\"square\":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map((t=>({originPoint:this.A,projectedPoint:t})))}}const Wi=function(t,e){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=[];if(0===t.length)return i;const r=t.reduce(((t,e)=>(t[t.length-1].eq(e)||t.push(new ot(e)),t)),[new ot(t[0])]);if(1===r.length)s=!0;else if(!s){const t=r[0],e=((t,e)=>{for(let s=t.length-1;s>=0;s--)if(e(t[s],s,t))return s;return-1})(r,(e=>!e.eq(t)));r.splice(e+1)}return r.forEach(((t,r,n)=>{let o,a;0===r?(a=n[1],o=s?t:n[n.length-1]):r===n.length-1?(o=n[r-1],a=s?t:n[0]):(o=n[r-1],a=n[r+1]),s&&1===n.length?i.push(...new Yi(t,t,e).project()):!s||0!==r&&r!==n.length-1?i.push(...new Xi(t,o,a,e).project()):i.push(...new Yi(t,0===r?a:o,e).project())})),i},Vi=t=>{const e={};return Object.keys(t).forEach((i=>{e[i]={},Object.keys(t[i]).forEach((r=>{e[i][r]=s({},t[i][r])}))})),e},zi=t=>t.replace(/&/g,\"&amp;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&apos;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\");let Gi;const Hi=t=>{if(Gi||Gi||(Gi=\"Intl\"in v()&&\"Segmenter\"in Intl&&new Intl.Segmenter(void 0,{granularity:\"grapheme\"})),Gi){const e=Gi.segment(t);return Array.from(e).map((t=>{let{segment:e}=t;return e}))}return Ni(t)},Ni=t=>{const e=[];for(let s,i=0;i<t.length;i++)!1!==(s=Ui(t,i))&&e.push(s);return e},Ui=(t,e)=>{const s=t.charCodeAt(e);if(isNaN(s))return\"\";if(s<55296||s>57343)return t.charAt(e);if(55296<=s&&s<=56319){if(t.length<=e+1)throw\"High surrogate without following low surrogate\";const s=t.charCodeAt(e+1);if(56320>s||s>57343)throw\"High surrogate without following low surrogate\";return t.charAt(e)+t.charAt(e+1)}if(0===e)throw\"Low surrogate without preceding high surrogate\";const i=t.charCodeAt(e-1);if(55296>i||i>56319)throw\"Low surrogate without preceding high surrogate\";return!1};var qi=Object.freeze({__proto__:null,capitalize:function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return\"\".concat(t.charAt(0).toUpperCase()).concat(e?t.slice(1):t.slice(1).toLowerCase())},escapeXml:zi,graphemeSplit:Hi});const Ki=function(t,e){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.textDecorationThickness!==e.textDecorationThickness||t.textBackgroundColor!==e.textBackgroundColor||t.deltaY!==e.deltaY||s&&(t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough)},Ji=(t,e)=>{const s=e.split(\"\\n\"),i=[];let r=-1,n={};t=Vi(t);for(let e=0;e<s.length;e++){const o=Hi(s[e]);if(t[e])for(let s=0;s<o.length;s++){r++;const o=t[e][s];o&&Object.keys(o).length>0&&(Ki(n,o,!0)?i.push({start:r,end:r+1,style:o}):i[i.length-1].end++),n=o||{}}else r+=o.length,n={}}return i},Qi=(t,e)=>{if(!Array.isArray(t))return Vi(t);const i=e.split(F),r={};let n=-1,o=0;for(let e=0;e<i.length;e++){const a=Hi(i[e]);for(let i=0;i<a.length;i++)n++,t[o]&&t[o].start<=n&&n<t[o].end&&(r[e]=r[e]||{},r[e][i]=s({},t[o].style),n===t[o].end-1&&o++)}return r},Zi=[\"display\",\"transform\",K,\"fill-opacity\",\"fill-rule\",\"opacity\",J,\"stroke-dasharray\",\"stroke-linecap\",\"stroke-dashoffset\",\"stroke-linejoin\",\"stroke-miterlimit\",\"stroke-opacity\",\"stroke-width\",\"id\",\"paint-order\",\"vector-effect\",\"instantiated_by_use\",\"clip-path\"];function $i(t,e){const s=t.nodeName,i=t.getAttribute(\"class\"),r=t.getAttribute(\"id\"),n=\"(?![a-zA-Z\\\\-]+)\";let o;if(o=new RegExp(\"^\"+s,\"i\"),e=e.replace(o,\"\"),r&&e.length&&(o=new RegExp(\"#\"+r+n,\"i\"),e=e.replace(o,\"\")),i&&e.length){const t=i.split(\" \");for(let s=t.length;s--;)o=new RegExp(\"\\\\.\"+t[s]+n,\"i\"),e=e.replace(o,\"\")}return 0===e.length}function tr(t,e){let s=!0;const i=$i(t,e.pop());return i&&e.length&&(s=function(t,e){let s,i=!0;for(;t.parentElement&&1===t.parentElement.nodeType&&e.length;)i&&(s=e.pop()),i=$i(t=t.parentElement,s);return 0===e.length}(t,e)),i&&s&&0===e.length}const er=t=>{var e;return null!==(e=as[t])&&void 0!==e?e:t},sr=new RegExp(\"(\".concat(is,\")\"),\"gi\"),ir=t=>Pe(t.replace(sr,\" $1 \").replace(/,/gi,\" \"));var rr,nr,or,ar,hr,cr,lr;const ur=\"(\".concat(is,\")\"),dr=String.raw(rr||(rr=r([\"(skewX)(\",\")\"],[\"(skewX)\\\\(\",\"\\\\)\"])),ur),gr=String.raw(nr||(nr=r([\"(skewY)(\",\")\"],[\"(skewY)\\\\(\",\"\\\\)\"])),ur),fr=String.raw(or||(or=r([\"(rotate)(\",\"(?: \",\" \",\")?)\"],[\"(rotate)\\\\(\",\"(?: \",\" \",\")?\\\\)\"])),ur,ur,ur),pr=String.raw(ar||(ar=r([\"(scale)(\",\"(?: \",\")?)\"],[\"(scale)\\\\(\",\"(?: \",\")?\\\\)\"])),ur,ur),mr=String.raw(hr||(hr=r([\"(translate)(\",\"(?: \",\")?)\"],[\"(translate)\\\\(\",\"(?: \",\")?\\\\)\"])),ur,ur),vr=String.raw(cr||(cr=r([\"(matrix)(\",\" \",\" \",\" \",\" \",\" \",\")\"],[\"(matrix)\\\\(\",\" \",\" \",\" \",\" \",\" \",\"\\\\)\"])),ur,ur,ur,ur,ur,ur),yr=\"(?:\".concat(vr,\"|\").concat(mr,\"|\").concat(fr,\"|\").concat(pr,\"|\").concat(dr,\"|\").concat(gr,\")\"),_r=\"(?:\".concat(yr,\"*)\"),xr=String.raw(lr||(lr=r([\"^s*(?:\",\"?)s*$\"],[\"^\\\\s*(?:\",\"?)\\\\s*$\"])),_r),Cr=new RegExp(xr),br=new RegExp(yr),Sr=new RegExp(yr,\"g\");function wr(t){const e=[];if(!(t=ir(t).replace(/\\s*([()])\\s*/gi,\"$1\"))||t&&!Cr.test(t))return[...T];for(const s of t.matchAll(Sr)){const t=br.exec(s[0]);if(!t)continue;let i=T;const r=t.filter((t=>!!t)),[,n,...o]=r,[a,h,c,l,u,d]=o.map((t=>parseFloat(t)));switch(n){case\"translate\":i=Mt(a,h);break;case B:i=Pt({angle:a},{x:h,y:c});break;case G:i=Et(a,h);break;case U:i=jt(a);break;case q:i=Ft(a);break;case\"matrix\":i=[a,h,c,l,u,d]}e.push(i)}return Ot(e)}function Tr(t,e,s,i){const r=Array.isArray(e);let n,o=e;if(t!==K&&t!==J||e!==j){if(\"strokeUniform\"===t)return\"non-scaling-stroke\"===e;if(\"strokeDashArray\"===t)o=e===j?null:e.replace(/,/g,\" \").split(/\\s+/).map(parseFloat);else if(\"transformMatrix\"===t)o=s&&s.transformMatrix?Tt(s.transformMatrix,wr(e)):wr(e);else if(\"visible\"===t)o=e!==j&&\"hidden\"!==e,s&&!1===s.visible&&(o=!1);else if(\"opacity\"===t)o=parseFloat(e),s&&void 0!==s.opacity&&(o*=s.opacity);else if(\"textAnchor\"===t)o=\"start\"===e?M:\"end\"===e?A:D;else if(\"charSpacing\"===t||t===ze)n=Be(e,i)/i*1e3;else if(\"paintFirst\"===t){const t=e.indexOf(K),s=e.indexOf(J);o=K,(t>-1&&s>-1&&s<t||-1===t&&s>-1)&&(o=J)}else{if(\"href\"===t||\"xlink:href\"===t||\"font\"===t||\"id\"===t)return e;if(\"imageSmoothing\"===t)return\"optimizeQuality\"===e;n=r?e.map(Be):Be(e,i)}}else o=\"\";return!r&&isNaN(n)?o:n}function Or(t,e){const s=t.match(os);if(!s)return;const i=s[1],r=s[3],n=s[4],o=s[5],a=s[6];i&&(e.fontStyle=i),r&&(e.fontWeight=isNaN(parseFloat(r))?r:parseFloat(r)),n&&(e.fontSize=Be(n)),a&&(e.fontFamily=a),o&&(e.lineHeight=\"normal\"===o?1:o)}function kr(t,e){t.replace(/;\\s*$/,\"\").split(\";\").forEach((t=>{if(!t)return;const[s,i]=t.split(\":\");e[s.trim().toLowerCase()]=i.trim()}))}function Dr(t){const e={},s=t.getAttribute(\"style\");return s?(\"string\"==typeof s?kr(s,e):function(t,e){Object.entries(t).forEach((t=>{let[s,i]=t;void 0!==i&&(e[s.toLowerCase()]=i)}))}(s,e),e):e}const Mr={stroke:\"strokeOpacity\",fill:\"fillOpacity\"};function Pr(t,e,i){if(!t)return{};let r,n={},o=O;t.parentNode&&ds.test(t.parentNode.nodeName)&&(n=Pr(t.parentElement,e,i),n.fontSize&&(r=o=Be(n.fontSize)));const a=s(s(s({},e.reduce(((e,s)=>{const i=t.getAttribute(s);return i&&(e[s]=i),e}),{})),function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={};for(const r in e)tr(t,r.split(\" \"))&&(i=s(s({},i),e[r]));return i}(t,i)),Dr(t));a[cs]&&t.setAttribute(cs,a[cs]),a[hs]&&(r=Be(a[hs],o),a[hs]=\"\".concat(r));const h={};for(const t in a){const e=er(t),s=Tr(e,a[t],n,r);h[e]=s}h&&h.font&&Or(h.font,h);const c=s(s({},n),h);return ds.test(t.nodeName)?c:function(t){const e=Li.getDefaults();return Object.entries(Mr).forEach((s=>{let[i,r]=s;if(void 0===t[r]||\"\"===t[i])return;if(void 0===t[i]){if(!e[i])return;t[i]=e[i]}if(0===t[i].indexOf(\"url(\"))return;const n=new Ie(t[i]);t[i]=n.setAlpha(Vt(n.getAlpha()*t[r],2)).toRgba()})),t}(c)}const Er=[\"left\",\"top\",\"width\",\"height\",\"visible\"],Ar=[\"rx\",\"ry\"];class jr extends Li{static getDefaults(){return s(s({},super.getDefaults()),jr.ownDefaults)}constructor(t){super(),Object.assign(this,jr.ownDefaults),this.setOptions(t),this._initRxRy()}_initRxRy(){const{rx:t,ry:e}=this;t&&!e?this.ry=t:e&&!t&&(this.rx=e)}_render(t){const{width:e,height:s}=this,i=-e/2,r=-s/2,n=this.rx?Math.min(this.rx,e/2):0,o=this.ry?Math.min(this.ry,s/2):0,a=0!==n||0!==o;t.beginPath(),t.moveTo(i+n,r),t.lineTo(i+e-n,r),a&&t.bezierCurveTo(i+e-k*n,r,i+e,r+k*o,i+e,r+o),t.lineTo(i+e,r+s-o),a&&t.bezierCurveTo(i+e,r+s-k*o,i+e-k*n,r+s,i+e-n,r+s),t.lineTo(i+n,r+s),a&&t.bezierCurveTo(i+k*n,r+s,i,r+s-k*o,i,r+s-o),t.lineTo(i,r+o),a&&t.bezierCurveTo(i,r+k*o,i+k*n,r,i+n,r),t.closePath(),this._renderPaintInOrder(t)}toObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return super.toObject([...Ar,...t])}_toSVG(){const{width:t,height:e,rx:s,ry:i}=this;return[\"<rect \",\"COMMON_PARTS\",'x=\"'.concat(-t/2,'\" y=\"').concat(-e/2,'\" rx=\"').concat(s,'\" ry=\"').concat(i,'\" width=\"').concat(t,'\" height=\"').concat(e,'\" />\\n')]}static async fromElement(t,e,r){const n=Pr(t,this.ATTRIBUTE_NAMES,r),{left:o=0,top:a=0,width:h=0,height:c=0,visible:l=!0}=n,u=i(n,Er);return new this(s(s(s({},e),u),{},{left:o,top:a,width:h,height:c,visible:Boolean(l&&h&&c)}))}}t(jr,\"type\",\"Rect\"),t(jr,\"cacheProperties\",[...Es,...Ar]),t(jr,\"ownDefaults\",{rx:0,ry:0}),t(jr,\"ATTRIBUTE_NAMES\",[...Zi,\"x\",\"y\",\"rx\",\"ry\",\"width\",\"height\"]),tt.setClass(jr),tt.setSVGClass(jr);const Fr=\"initialization\",Lr=\"added\",Rr=\"removed\",Ir=\"imperative\",Br=(t,e)=>{const{strokeUniform:s,strokeWidth:i,width:r,height:n,group:o}=e,a=o&&o!==t?pe(o.calcTransformMatrix(),t.calcTransformMatrix()):null,h=a?e.getRelativeCenterPoint().transform(a):e.getRelativeCenterPoint(),c=!e.isStrokeAccountedForInDimensions(),l=s&&c?ve(new ot(i,i),void 0,t.calcTransformMatrix()):at,u=!s&&c?i:0,d=fe(r+u,n+u,Ot([a,e.calcOwnMatrix()],!0)).add(l).scalarDivide(2);return[h.subtract(d),h.add(d)]};class Xr{calcLayoutResult(t,e){if(this.shouldPerformLayout(t))return this.calcBoundingBox(e,t)}shouldPerformLayout(t){let{type:e,prevStrategy:s,strategy:i}=t;return e===Fr||e===Ir||!!s&&i!==s}shouldLayoutClipPath(t){let{type:e,target:{clipPath:s}}=t;return e!==Fr&&s&&!s.absolutePositioned}getInitialSize(t,e){return e.size}calcBoundingBox(t,e){const{type:s,target:i}=e;if(s===Ir&&e.overrides)return e.overrides;if(0===t.length)return;const{left:r,top:n,width:o,height:a}=he(t.map((t=>Br(i,t))).reduce(((t,e)=>t.concat(e)),[])),h=new ot(o,a),c=new ot(r,n).add(h.scalarDivide(2));if(s===Fr){const t=this.getInitialSize(e,{size:h,center:c});return{center:c,relativeCorrection:new ot(0,0),size:t}}return{center:c.transform(i.calcOwnMatrix()),size:h}}}t(Xr,\"type\",\"strategy\");class Yr extends Xr{shouldPerformLayout(t){return!0}}t(Yr,\"type\",\"fit-content\"),tt.setClass(Yr);const Wr=[\"strategy\"],Vr=[\"target\",\"strategy\",\"bubbles\",\"prevStrategy\"],zr=\"layoutManager\";class Gr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Yr;t(this,\"strategy\",void 0),this.strategy=e,this._subscriptions=new Map}performLayout(t){const e=s(s({bubbles:!0,strategy:this.strategy},t),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(e);const i=this.getLayoutResult(e);i&&this.commitLayout(e,i),this.onAfterLayout(e,i),this._prevLayoutStrategy=e.strategy}attachHandlers(t,e){const{target:s}=e;return[Q,L,Y,I,R,X,z,W,V].map((e=>t.on(e,(t=>this.performLayout(e===Q?{type:\"object_modified\",trigger:e,e:t,target:s}:{type:\"object_modifying\",trigger:e,e:t,target:s})))))}subscribe(t,e){this.unsubscribe(t,e);const s=this.attachHandlers(t,e);this._subscriptions.set(t,s)}unsubscribe(t,e){(this._subscriptions.get(t)||[]).forEach((t=>t())),this._subscriptions.delete(t)}unsubscribeTargets(t){t.targets.forEach((e=>this.unsubscribe(e,t)))}subscribeTargets(t){t.targets.forEach((e=>this.subscribe(e,t)))}onBeforeLayout(t){const{target:e,type:r}=t,{canvas:n}=e;if(r===Fr||r===Lr?this.subscribeTargets(t):r===Rr&&this.unsubscribeTargets(t),e.fire(\"layout:before\",{context:t}),n&&n.fire(\"object:layout:before\",{target:e,context:t}),r===Ir&&t.deep){const r=i(t,Wr);e.forEachObject((t=>t.layoutManager&&t.layoutManager.performLayout(s(s({},r),{},{bubbles:!1,target:t}))))}}getLayoutResult(t){const{target:e,strategy:s,type:i}=t,r=s.calcLayoutResult(t,e.getObjects());if(!r)return;const n=i===Fr?new ot:e.getRelativeCenterPoint(),{center:o,correction:a=new ot,relativeCorrection:h=new ot}=r,c=n.subtract(o).add(a).transform(i===Fr?T:wt(e.calcOwnMatrix()),!0).add(h);return{result:r,prevCenter:n,nextCenter:o,offset:c}}commitLayout(t,e){const{target:s}=t,{result:{size:i},nextCenter:r}=e;var n,o;(s.set({width:i.x,height:i.y}),this.layoutObjects(t,e),t.type===Fr)?s.set({left:null!==(n=t.x)&&void 0!==n?n:r.x+i.x*Ce(s.originX),top:null!==(o=t.y)&&void 0!==o?o:r.y+i.y*Ce(s.originY)}):(s.setPositionByOrigin(r,D,D),s.setCoords(),s.set(\"dirty\",!0))}layoutObjects(t,e){const{target:s}=t;s.forEachObject((i=>{i.group===s&&this.layoutObject(t,e,i)})),t.strategy.shouldLayoutClipPath(t)&&this.layoutObject(t,e,s.clipPath)}layoutObject(t,e,s){let{offset:i}=e;s.set({left:s.left+i.x,top:s.top+i.y})}onAfterLayout(t,e){const{target:r,strategy:n,bubbles:o,prevStrategy:a}=t,h=i(t,Vr),{canvas:c}=r;r.fire(\"layout:after\",{context:t,result:e}),c&&c.fire(\"object:layout:after\",{context:t,result:e,target:r});const l=r.parent;o&&null!=l&&l.layoutManager&&((h.path||(h.path=[])).push(r),l.layoutManager.performLayout(s(s({},h),{},{target:l}))),r.set(\"dirty\",!0)}dispose(){const{_subscriptions:t}=this;t.forEach((t=>t.forEach((t=>t())))),t.clear()}toObject(){return{type:zr,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}tt.setClass(Gr,zr);const Hr=[\"type\",\"objects\",\"layoutManager\"];class Nr extends Gr{performLayout(){}}class Ur extends(ct(Li)){static getDefaults(){return s(s({},super.getDefaults()),Ur.ownDefaults)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),t(this,\"_activeObjects\",[]),t(this,\"__objectSelectionTracker\",void 0),t(this,\"__objectSelectionDisposer\",void 0),Object.assign(this,Ur.ownDefaults),this.setOptions(s),this.groupInit(e,s)}groupInit(t,e){var s;this._objects=[...t],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject((t=>{this.enterGroup(t,!1)})),this.layoutManager=null!==(s=e.layoutManager)&&void 0!==s?s:new Gr,this.layoutManager.performLayout({type:Fr,target:this,targets:[...t],x:e.left,y:e.top})}canEnterGroup(t){return t===this||this.isDescendantOf(t)?(a(\"error\",\"Group: circular object trees are not supported, this call has no effect\"),!1):-1===this._objects.indexOf(t)||(a(\"error\",\"Group: duplicate objects are not supported inside group, this call has no effect\"),!1)}_filterObjectsBeforeEnteringGroup(t){return t.filter(((t,e,s)=>this.canEnterGroup(t)&&s.indexOf(t)===e))}add(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];const i=this._filterObjectsBeforeEnteringGroup(e),r=super.add(...i);return this._onAfterObjectsChange(Lr,i),r}insertAt(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];const r=this._filterObjectsBeforeEnteringGroup(s),n=super.insertAt(t,...r);return this._onAfterObjectsChange(Lr,r),n}remove(){const t=super.remove(...arguments);return this._onAfterObjectsChange(Rr,t),t}_onObjectAdded(t){this.enterGroup(t,!0),this.fire(\"object:added\",{target:t}),t.fire(\"added\",{target:this})}_onObjectRemoved(t,e){this.exitGroup(t,e),this.fire(\"object:removed\",{target:t}),t.fire(\"removed\",{target:this})}_onAfterObjectsChange(t,e){this.layoutManager.performLayout({type:t,targets:e,target:this})}_onStackOrderChanged(){this._set(\"dirty\",!0)}_set(t,e){const s=this[t];return super._set(t,e),\"canvas\"===t&&s!==e&&(this._objects||[]).forEach((s=>{s._set(t,e)})),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(t,e){let{target:s}=e;const i=this._activeObjects;if(t)i.push(s),this._set(\"dirty\",!0);else if(i.length>0){const t=i.indexOf(s);t>-1&&(i.splice(t,1),this._set(\"dirty\",!0))}}_watchObject(t,e){t&&this._watchObject(!1,e),t?(e.on(\"selected\",this.__objectSelectionTracker),e.on(\"deselected\",this.__objectSelectionDisposer)):(e.off(\"selected\",this.__objectSelectionTracker),e.off(\"deselected\",this.__objectSelectionDisposer))}enterGroup(t,e){t.group&&t.group.remove(t),t._set(\"parent\",this),this._enterGroup(t,e)}_enterGroup(t,e){e&&ue(t,Tt(wt(this.calcTransformMatrix()),t.calcTransformMatrix())),this._shouldSetNestedCoords()&&t.setCoords(),t._set(\"group\",this),t._set(\"canvas\",this.canvas),this._watchObject(!0,t);const s=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();s&&(s===t||t.isDescendantOf(s))&&this._activeObjects.push(t)}exitGroup(t,e){this._exitGroup(t,e),t._set(\"parent\",void 0),t._set(\"canvas\",void 0)}_exitGroup(t,e){t._set(\"group\",void 0),e||(ue(t,Tt(this.calcTransformMatrix(),t.calcTransformMatrix())),t.setCoords()),this._watchObject(!1,t);const s=this._activeObjects.length>0?this._activeObjects.indexOf(t):-1;s>-1&&this._activeObjects.splice(s,1)}shouldCache(){const t=Li.prototype.shouldCache.call(this);if(t)for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return this.ownCaching=!1,!1;return t}willDrawShadow(){if(super.willDrawShadow())return!0;for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(t,e,s){this._renderBackground(t);for(let e=0;e<this._objects.length;e++){var i;const s=this._objects[e];null!==(i=this.canvas)&&void 0!==i&&i.preserveObjectStacking&&s.group!==this?(t.save(),t.transform(...wt(this.calcTransformMatrix())),s.render(t),t.restore()):s.group===this&&s.render(t)}this._drawClipPath(t,this.clipPath,s)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject((t=>t.setCoords()))}triggerLayout(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.layoutManager.performLayout(s({target:this,type:Ir},t))}render(t){this._transformDone=!0,super.render(t),this._transformDone=!1}__serializeObjects(t,e){const s=this.includeDefaultValues;return this._objects.filter((function(t){return!t.excludeFromExport})).map((function(i){const r=i.includeDefaultValues;i.includeDefaultValues=s;const n=i[t||\"toObject\"](e);return i.includeDefaultValues=r,n}))}toObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const e=this.layoutManager.toObject();return s(s(s({},super.toObject([\"subTargetCheck\",\"interactive\",...t])),\"fit-content\"!==e.strategy||this.includeDefaultValues?{layoutManager:e}:{}),{},{objects:this.__serializeObjects(\"toObject\",t)})}toString(){return\"#<Group: (\".concat(this.complexity(),\")>\")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject((t=>{this._watchObject(!1,t),t.dispose()})),super.dispose()}_createSVGBgRect(t){if(!this.backgroundColor)return\"\";const e=jr.prototype._toSVG.call(this),s=e.indexOf(\"COMMON_PARTS\");e[s]='for=\"group\" ';const i=e.join(\"\");return t?t(i):i}_toSVG(t){const e=[\"<g \",\"COMMON_PARTS\",\" >\\n\"],s=this._createSVGBgRect(t);s&&e.push(\"\\t\\t\",s);for(let s=0;s<this._objects.length;s++)e.push(\"\\t\\t\",this._objects[s].toSVG(t));return e.push(\"</g>\\n\"),e}getSvgStyles(){const t=void 0!==this.opacity&&1!==this.opacity?\"opacity: \".concat(this.opacity,\";\"):\"\",e=this.visible?\"\":\" visibility: hidden;\";return[t,this.getSvgFilter(),e].join(\"\")}toClipPathSVG(t){const e=[],s=this._createSVGBgRect(t);s&&e.push(\"\\t\",s);for(let s=0;s<this._objects.length;s++)e.push(\"\\t\",this._objects[s].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(e,{reviver:t})}static fromObject(t,e){let{type:r,objects:n=[],layoutManager:o}=t,a=i(t,Hr);return Promise.all([Bt(n,e),Xt(a,e)]).then((t=>{let[e,i]=t;const r=new this(e,s(s(s({},a),i),{},{layoutManager:new Nr}));if(o){const t=tt.getClass(o.type),e=tt.getClass(o.strategy);r.layoutManager=new t(new e)}else r.layoutManager=new Gr;return r.layoutManager.subscribeTargets({type:Fr,target:r,targets:r.getObjects()}),r.setCoords(),r}))}}t(Ur,\"type\",\"Group\"),t(Ur,\"ownDefaults\",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),tt.setClass(Ur);const qr=(t,e)=>Math.min(e.width/t.width,e.height/t.height),Kr=(t,e)=>Math.max(e.width/t.width,e.height/t.height),Jr=\"\\\\s*,?\\\\s*\",Qr=\"\".concat(Jr,\"(\").concat(is,\")\"),Zr=\"\".concat(Qr).concat(Qr).concat(Qr).concat(Jr,\"([01])\").concat(Jr,\"([01])\").concat(Qr).concat(Qr),$r={m:\"l\",M:\"L\"},tn=(t,e,s,i,r,n,o,a,h,c,l)=>{const u=rt(t),d=nt(t),g=rt(e),f=nt(e),p=s*r*g-i*n*f+o,m=i*r*g+s*n*f+a;return[\"C\",c+h*(-s*r*d-i*n*u),l+h*(-i*r*d+s*n*u),p+h*(s*r*f+i*n*g),m+h*(i*r*f-s*n*g),p,m]},en=(t,e,s,i)=>{const r=Math.atan2(e,t),n=Math.atan2(i,s);return n>=r?n-r:2*Math.PI-(r-n)};function sn(t,e,s,i,r,n,a,h){let c;if(o.cachesBoundsOfCurve&&(c=[...arguments].join(),_.boundsOfCurveCache[c]))return _.boundsOfCurveCache[c];const l=Math.sqrt,u=Math.abs,d=[],g=[[0,0],[0,0]];let f=6*t-12*s+6*r,p=-3*t+9*s-9*r+3*a,m=3*s-3*t;for(let t=0;t<2;++t){if(t>0&&(f=6*e-12*i+6*n,p=-3*e+9*i-9*n+3*h,m=3*i-3*e),u(p)<1e-12){if(u(f)<1e-12)continue;const t=-m/f;0<t&&t<1&&d.push(t);continue}const s=f*f-4*m*p;if(s<0)continue;const r=l(s),o=(-f+r)/(2*p);0<o&&o<1&&d.push(o);const a=(-f-r)/(2*p);0<a&&a<1&&d.push(a)}let v=d.length;const y=v,x=an(t,e,s,i,r,n,a,h);for(;v--;){const{x:t,y:e}=x(d[v]);g[0][v]=t,g[1][v]=e}g[0][y]=t,g[1][y]=e,g[0][y+1]=a,g[1][y+1]=h;const C=[new ot(Math.min(...g[0]),Math.min(...g[1])),new ot(Math.max(...g[0]),Math.max(...g[1]))];return o.cachesBoundsOfCurve&&(_.boundsOfCurveCache[c]=C),C}const rn=(t,e,s)=>{let[i,r,n,o,a,h,c,l]=s;const u=((t,e,s,i,r,n,o)=>{if(0===s||0===i)return[];let a=0,h=0,c=0;const l=Math.PI,u=o*w,d=nt(u),g=rt(u),f=.5*(-g*t-d*e),p=.5*(-g*e+d*t),m=s**2,v=i**2,y=p**2,_=f**2,x=m*v-m*y-v*_;let C=Math.abs(s),b=Math.abs(i);if(x<0){const t=Math.sqrt(1-x/(m*v));C*=t,b*=t}else c=(r===n?-1:1)*Math.sqrt(x/(m*y+v*_));const S=c*C*p/b,T=-c*b*f/C,O=g*S-d*T+.5*t,k=d*S+g*T+.5*e;let D=en(1,0,(f-S)/C,(p-T)/b),M=en((f-S)/C,(p-T)/b,(-f-S)/C,(-p-T)/b);0===n&&M>0?M-=2*l:1===n&&M<0&&(M+=2*l);const P=Math.ceil(Math.abs(M/l*2)),E=[],A=M/P,j=8/3*Math.sin(A/4)*Math.sin(A/4)/Math.sin(A/2);let F=D+A;for(let t=0;t<P;t++)E[t]=tn(D,F,g,d,C,b,O,k,j,a,h),a=E[t][5],h=E[t][6],D=F,F+=A;return E})(c-t,l-e,r,n,a,h,o);for(let s=0,i=u.length;s<i;s++)u[s][1]+=t,u[s][2]+=e,u[s][3]+=t,u[s][4]+=e,u[s][5]+=t,u[s][6]+=e;return u},nn=t=>{let e=0,s=0,i=0,r=0;const n=[];let o,a=0,h=0;for(const c of t){const t=[...c];let l;switch(t[0]){case\"l\":t[1]+=e,t[2]+=s;case\"L\":e=t[1],s=t[2],l=[\"L\",e,s];break;case\"h\":t[1]+=e;case\"H\":e=t[1],l=[\"L\",e,s];break;case\"v\":t[1]+=s;case\"V\":s=t[1],l=[\"L\",e,s];break;case\"m\":t[1]+=e,t[2]+=s;case\"M\":e=t[1],s=t[2],i=t[1],r=t[2],l=[\"M\",e,s];break;case\"c\":t[1]+=e,t[2]+=s,t[3]+=e,t[4]+=s,t[5]+=e,t[6]+=s;case\"C\":a=t[3],h=t[4],e=t[5],s=t[6],l=[\"C\",t[1],t[2],a,h,e,s];break;case\"s\":t[1]+=e,t[2]+=s,t[3]+=e,t[4]+=s;case\"S\":\"C\"===o?(a=2*e-a,h=2*s-h):(a=e,h=s),e=t[3],s=t[4],l=[\"C\",a,h,t[1],t[2],e,s],a=l[3],h=l[4];break;case\"q\":t[1]+=e,t[2]+=s,t[3]+=e,t[4]+=s;case\"Q\":a=t[1],h=t[2],e=t[3],s=t[4],l=[\"Q\",a,h,e,s];break;case\"t\":t[1]+=e,t[2]+=s;case\"T\":\"Q\"===o?(a=2*e-a,h=2*s-h):(a=e,h=s),e=t[1],s=t[2],l=[\"Q\",a,h,e,s];break;case\"a\":t[6]+=e,t[7]+=s;case\"A\":rn(e,s,t).forEach((t=>n.push(t))),e=t[6],s=t[7];break;case\"z\":case\"Z\":e=i,s=r,l=[\"Z\"]}l?(n.push(l),o=l[0]):o=\"\"}return n},on=(t,e,s,i)=>Math.sqrt((s-t)**2+(i-e)**2),an=(t,e,s,i,r,n,o,a)=>h=>{const c=h**3,l=(t=>3*t**2*(1-t))(h),u=(t=>3*t*(1-t)**2)(h),d=(t=>(1-t)**3)(h);return new ot(o*c+r*l+s*u+t*d,a*c+n*l+i*u+e*d)},hn=t=>t**2,cn=t=>2*t*(1-t),ln=t=>(1-t)**2,un=(t,e,s,i,r,n,o,a)=>h=>{const c=hn(h),l=cn(h),u=ln(h),d=3*(u*(s-t)+l*(r-s)+c*(o-r)),g=3*(u*(i-e)+l*(n-i)+c*(a-n));return Math.atan2(g,d)},dn=(t,e,s,i,r,n)=>o=>{const a=hn(o),h=cn(o),c=ln(o);return new ot(r*a+s*h+t*c,n*a+i*h+e*c)},gn=(t,e,s,i,r,n)=>o=>{const a=1-o,h=2*(a*(s-t)+o*(r-s)),c=2*(a*(i-e)+o*(n-i));return Math.atan2(c,h)},fn=(t,e,s)=>{let i=new ot(e,s),r=0;for(let e=1;e<=100;e+=1){const s=t(e/100);r+=on(i.x,i.y,s.x,s.y),i=s}return r},pn=(t,e)=>{let i,r=0,n=0,o={x:t.x,y:t.y},a=s({},o),h=.01,c=0;const l=t.iterator,u=t.angleFinder;for(;n<e&&h>1e-4;)a=l(r),c=r,i=on(o.x,o.y,a.x,a.y),i+n>e?(r-=h,h/=2):(o=a,r+=h,n+=i);return s(s({},a),{},{angle:u(c)})},mn=t=>{let e,s,i=0,r=0,n=0,o=0,a=0;const h=[];for(const c of t){const t={x:r,y:n,command:c[0],length:0};switch(c[0]){case\"M\":s=t,s.x=o=r=c[1],s.y=a=n=c[2];break;case\"L\":s=t,s.length=on(r,n,c[1],c[2]),r=c[1],n=c[2];break;case\"C\":e=an(r,n,c[1],c[2],c[3],c[4],c[5],c[6]),s=t,s.iterator=e,s.angleFinder=un(r,n,c[1],c[2],c[3],c[4],c[5],c[6]),s.length=fn(e,r,n),r=c[5],n=c[6];break;case\"Q\":e=dn(r,n,c[1],c[2],c[3],c[4]),s=t,s.iterator=e,s.angleFinder=gn(r,n,c[1],c[2],c[3],c[4]),s.length=fn(e,r,n),r=c[3],n=c[4];break;case\"Z\":s=t,s.destX=o,s.destY=a,s.length=on(r,n,o,a),r=o,n=a}i+=s.length,h.push(s)}return h.push({length:i,x:r,y:n}),h},vn=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mn(t),r=0;for(;e-i[r].length>0&&r<i.length-2;)e-=i[r].length,r++;const n=i[r],o=e/n.length,a=t[r];switch(n.command){case\"M\":return{x:n.x,y:n.y,angle:0};case\"Z\":return s(s({},new ot(n.x,n.y).lerp(new ot(n.destX,n.destY),o)),{},{angle:Math.atan2(n.destY-n.y,n.destX-n.x)});case\"L\":return s(s({},new ot(n.x,n.y).lerp(new ot(a[1],a[2]),o)),{},{angle:Math.atan2(a[2]-n.y,a[1]-n.x)});case\"C\":case\"Q\":return pn(n,e)}},yn=new RegExp(\"[mzlhvcsqta][^mzlhvcsqta]*\",\"gi\"),_n=new RegExp(Zr,\"g\"),xn=new RegExp(is,\"gi\"),Cn={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},bn=t=>{var e;const s=[],i=null!==(e=t.match(yn))&&void 0!==e?e:[];for(const t of i){const e=t[0];if(\"z\"===e||\"Z\"===e){s.push([e]);continue}const i=Cn[e.toLowerCase()];let r=[];if(\"a\"===e||\"A\"===e){_n.lastIndex=0;for(let e=null;e=_n.exec(t);)r.push(...e.slice(1))}else r=t.match(xn)||[];for(let t=0;t<r.length;t+=i){const n=new Array(i),o=$r[e];n[0]=t>0&&o?o:e;for(let e=0;e<i;e++)n[e+1]=parseFloat(r[t+e]);s.push(n)}}return s},Sn=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=new ot(t[0]),i=new ot(t[1]),r=1,n=0;const o=[],a=t.length,h=a>2;let c;for(h&&(r=t[2].x<i.x?-1:t[2].x===i.x?0:1,n=t[2].y<i.y?-1:t[2].y===i.y?0:1),o.push([\"M\",s.x-r*e,s.y-n*e]),c=1;c<a;c++){if(!s.eq(i)){const t=s.midPointFrom(i);o.push([\"Q\",s.x,s.y,t.x,t.y])}s=t[c],c+1<t.length&&(i=t[c+1])}return h&&(r=s.x>t[c-2].x?1:s.x===t[c-2].x?0:-1,n=s.y>t[c-2].y?1:s.y===t[c-2].y?0:-1),o.push([\"L\",s.x+r*e,s.y+n*e]),o},wn=(t,e)=>t.map((t=>t.map(((t,s)=>0===s||void 0===e?t:Vt(t,e))).join(\" \"))).join(\" \");function Tn(t,e){const s=t.style;s&&e&&(\"string\"==typeof e?s.cssText+=\";\"+e:Object.entries(e).forEach((t=>{let[e,i]=t;return s.setProperty(e,i)})))}const On=(t,e)=>Math.floor(Math.random()*(e-t+1))+t;function kn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=e.onComplete||C,i=new(v().XMLHttpRequest),r=e.signal,n=function(){i.abort()},o=function(){r&&r.removeEventListener(\"abort\",n),i.onerror=i.ontimeout=C};if(r&&r.aborted)throw new c(\"request\");return r&&r.addEventListener(\"abort\",n,{once:!0}),i.onreadystatechange=function(){4===i.readyState&&(o(),s(i),i.onreadystatechange=C)},i.onerror=i.ontimeout=o,i.open(\"get\",t,!0),i.send(),i}const Dn=(t,e)=>{let s=t._findCenterFromElement();t.transformMatrix&&((t=>{if(t.transformMatrix){const{scaleX:e,scaleY:s,angle:i,skewX:r}=Dt(t.transformMatrix);t.flipX=!1,t.flipY=!1,t.set(H,e),t.set(N,s),t.angle=i,t.skewX=r,t.skewY=0}})(t),s=s.transform(t.transformMatrix)),delete t.transformMatrix,e&&(t.scaleX*=e.scaleX,t.scaleY*=e.scaleY,t.cropX=e.cropX,t.cropY=e.cropY,s.x+=e.offsetLeft,s.y+=e.offsetTop,t.width=e.width,t.height=e.height),t.setPositionByOrigin(s,D,D)};var Mn=Object.freeze({__proto__:null,addTransformToObject:le,animate:Ks,animateColor:Js,applyTransformToObject:ue,calcAngleBetweenVectors:_s,calcDimensionsMatrix:Lt,calcPlaneChangeMatrix:pe,calcVectorRotation:xs,cancelAnimFrame:dt,capValue:Ms,composeMatrix:Rt,copyCanvasElement:t=>{var e;const s=vt(t);return null===(e=s.getContext(\"2d\"))||void 0===e||e.drawImage(t,0,0),s},cos:rt,createCanvasElement:pt,createImage:mt,createRotateMatrix:Pt,createScaleMatrix:Et,createSkewXMatrix:jt,createSkewYMatrix:Ft,createTranslateMatrix:Mt,createVector:vs,crossProduct:Ss,degreesToRadians:xt,dotProduct:ws,ease:Bs,enlivenObjectEnlivables:Xt,enlivenObjects:Bt,findScaleToCover:Kr,findScaleToFit:qr,getBoundsOfCurve:sn,getOrthonormalVector:bs,getPathSegmentsInfo:mn,getPointOnPath:vn,getPointer:ne,getRandomInt:On,getRegularPolygonPath:(t,e)=>{const s=2*Math.PI/t;let i=-b;t%2==0&&(i+=s/2);const r=new Array(t+1);for(let n=0;n<t;n++){const t=n*s+i,{x:o,y:a}=new ot(rt(t),nt(t)).scalarMultiply(e);r[n]=[0===n?\"M\":\"L\",o,a]}return r[t]=[\"Z\"],r},getSmoothPathFromPoints:Sn,getSvgAttributes:t=>{const e=[\"instantiated_by_use\",\"style\",\"id\",\"class\"];switch(t){case\"linearGradient\":return e.concat([\"x1\",\"y1\",\"x2\",\"y2\",\"gradientUnits\",\"gradientTransform\"]);case\"radialGradient\":return e.concat([\"gradientUnits\",\"gradientTransform\",\"cx\",\"cy\",\"r\",\"fx\",\"fy\",\"fr\"]);case\"stop\":return e.concat([\"offset\",\"stop-color\",\"stop-opacity\"])}return e},getUnitVector:Cs,groupSVGElements:(t,e)=>t&&1===t.length?t[0]:new Ur(t,e),hasStyleChanged:Ki,invertTransform:wt,isBetweenVectors:Ts,isIdentityMatrix:bt,isTouchEvent:oe,isTransparent:Ri,joinPath:wn,loadImage:It,magnitude:ys,makeBoundingBoxFromPoints:he,makePathSimpler:nn,matrixToSVG:zt,mergeClipPaths:(t,e)=>{var s;let i=t,r=e;i.inverted&&!r.inverted&&(i=e,r=t),ye(r,null===(s=r.group)||void 0===s?void 0:s.calcTransformMatrix(),i.calcTransformMatrix());const n=i.inverted&&r.inverted;return n&&(i.inverted=r.inverted=!1),new Ur([i],{clipPath:r,inverted:n})},multiplyTransformMatrices:Tt,multiplyTransformMatrixArray:Ot,parsePath:bn,parsePreserveAspectRatioAttribute:Xe,parseUnit:Be,pick:Yt,projectStrokeOnPoints:Wi,qrDecompose:Dt,radiansToDegrees:Ct,removeFromArray:it,removeTransformFromObject:(t,e)=>{const s=wt(e),i=Tt(s,t.calcOwnMatrix());ue(t,i)},removeTransformMatrixForSvgParsing:Dn,request:kn,requestAnimFrame:ut,resetObjectTransform:de,rotatePoint:(t,e,s)=>t.rotate(s,e),rotateVector:ms,saveObjectTransform:ge,sendObjectToPlane:ye,sendPointToPlane:me,sendVectorToPlane:ve,setStyle:Tn,sin:nt,sizeAfterTransform:fe,string:qi,stylesFromArray:Qi,stylesToArray:Ji,toBlob:_t,toDataURL:yt,toFixed:Vt,transformPath:(t,e,s)=>(s&&(e=Tt(e,[1,0,0,1,-s.x,-s.y])),t.map((t=>{const s=[...t];for(let i=1;i<t.length-1;i+=2){const{x:r,y:n}=St({x:t[i],y:t[i+1]},e);s[i]=r,s[i+1]=n}return s}))),transformPoint:St});class Pn extends te{constructor(e){let{allowTouchScrolling:s=!1,containerClass:i=\"\"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),t(this,\"upper\",void 0),t(this,\"container\",void 0);const{el:r}=this.lower,n=this.createUpperCanvas();this.upper={el:n,ctx:n.getContext(\"2d\")},this.applyCanvasStyle(r,{allowTouchScrolling:s}),this.applyCanvasStyle(n,{allowTouchScrolling:s,styles:{position:\"absolute\",left:\"0\",top:\"0\"}});const o=this.createContainerElement();o.classList.add(i),r.parentNode&&r.parentNode.replaceChild(o,r),o.append(r,n),this.container=o}createUpperCanvas(){const{el:t}=this.lower,e=pt();return e.className=t.className,e.classList.remove(\"lower-canvas\"),e.classList.add(\"upper-canvas\"),e.setAttribute(\"data-fabric\",\"top\"),e.style.cssText=t.style.cssText,e.setAttribute(\"draggable\",\"true\"),e}createContainerElement(){const t=m().createElement(\"div\");return t.setAttribute(\"data-fabric\",\"wrapper\"),Tn(t,{position:\"relative\"}),$t(t),t}applyCanvasStyle(t,e){const{styles:i,allowTouchScrolling:r}=e;Tn(t,s(s({},i),{},{\"touch-action\":r?\"manipulation\":j})),$t(t)}setDimensions(t,e){super.setDimensions(t,e);const{el:s,ctx:i}=this.upper;Qt(s,i,t,e)}setCSSDimensions(t){super.setCSSDimensions(t),Zt(this.upper.el,t),Zt(this.container,t)}cleanupDOM(t){const e=this.container,{el:s}=this.lower,{el:i}=this.upper;super.cleanupDOM(t),e.removeChild(i),e.removeChild(s),e.parentNode&&e.parentNode.replaceChild(s,e)}dispose(){super.dispose(),p().dispose(this.upper.el),delete this.upper,delete this.container}}class En extends ie{constructor(){super(...arguments),t(this,\"targets\",[]),t(this,\"_hoveredTargets\",[]),t(this,\"_currentTransform\",null),t(this,\"_groupSelector\",null),t(this,\"contextTopDirty\",!1)}static getDefaults(){return s(s({},super.getDefaults()),En.ownDefaults)}get upperCanvasEl(){var t;return null===(t=this.elements.upper)||void 0===t?void 0:t.el}get contextTop(){var t;return null===(t=this.elements.upper)||void 0===t?void 0:t.ctx}get wrapperEl(){return this.elements.container}initElements(t){this.elements=new Pn(t,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(t){this._objectsToRender=void 0,super._onObjectAdded(t)}_onObjectRemoved(t){this._objectsToRender=void 0,t===this._activeObject&&(this.fire(\"before:selection:cleared\",{deselected:[t]}),this._discardActiveObject(),this.fire(\"selection:cleared\",{deselected:[t]}),t.fire(\"deselected\",{target:t})),t===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(t)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const t=this._activeObject;return!this.preserveObjectStacking&&t?this._objects.filter((e=>!e.group&&e!==t)).concat(t):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()}renderTop(){const t=this.contextTop;this.clearContext(t),this.renderTopLayer(t),this.fire(\"after:render\",{ctx:t})}setTargetFindTolerance(t){t=Math.round(t),this.targetFindTolerance=t;const e=this.getRetinaScaling(),s=Math.ceil((2*t+1)*e);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=s,this.pixelFindContext.scale(e,e)}isTargetTransparent(t,e,s){const i=this.targetFindTolerance,r=this.pixelFindContext;this.clearContext(r),r.save(),r.translate(-e+i,-s+i),r.transform(...this.viewportTransform);const n=t.selectionBackgroundColor;t.selectionBackgroundColor=\"\",t.render(r),t.selectionBackgroundColor=n,r.restore();const o=Math.round(i*this.getRetinaScaling());return Ri(r,o,o,o)}_isSelectionKeyPressed(t){const e=this.selectionKey;return!!e&&(Array.isArray(e)?!!e.find((e=>!!e&&!0===t[e])):t[e])}_shouldClearSelection(t,e){const s=this.getActiveObjects(),i=this._activeObject;return!!(!e||e&&i&&s.length>1&&-1===s.indexOf(e)&&i!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&i&&i!==e)}_shouldCenterTransform(t,e,s){if(!t)return;let i;return e===G||e===H||e===N||e===Y?i=this.centeredScaling||t.centeredScaling:e===B&&(i=this.centeredRotation||t.centeredRotation),i?!s:s}_getOriginFromCorner(t,e){const s={x:t.originX,y:t.originY};return e?([\"ml\",\"tl\",\"bl\"].includes(e)?s.x=A:[\"mr\",\"tr\",\"br\"].includes(e)&&(s.x=M),[\"tl\",\"mt\",\"tr\"].includes(e)?s.y=E:[\"bl\",\"mb\",\"br\"].includes(e)&&(s.y=P),s):s}_setupCurrentTransform(t,e,i){var r;const n=e.group?me(this.getScenePoint(t),void 0,e.group.calcTransformMatrix()):this.getScenePoint(t),{key:o=\"\",control:a}=e.getActiveControl()||{},h=i&&a?null===(r=a.getActionHandler(t,e,a))||void 0===r?void 0:r.bind(a):Me,c=((t,e,s,i)=>{if(!e||!t)return\"drag\";const r=i.controls[e];return r.getActionName(s,r,i)})(i,o,t,e),l=t[this.centeredKey],u=this._shouldCenterTransform(e,c,l)?{x:D,y:D}:this._getOriginFromCorner(e,o),d={target:e,action:c,actionHandler:h,actionPerformed:!1,corner:o,scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,offsetX:n.x-e.left,offsetY:n.y-e.top,originX:u.x,originY:u.y,ex:n.x,ey:n.y,lastX:n.x,lastY:n.y,theta:xt(e.angle),width:e.width,height:e.height,shiftKey:t.shiftKey,altKey:l,original:s(s({},ge(e)),{},{originX:u.x,originY:u.y})};this._currentTransform=d,this.fire(\"before:transform\",{e:t,transform:d})}setCursor(t){this.upperCanvasEl.style.cursor=t}_drawSelection(t){const{x:e,y:s,deltaX:i,deltaY:r}=this._groupSelector,n=new ot(e,s).transform(this.viewportTransform),o=new ot(e+i,s+r).transform(this.viewportTransform),a=this.selectionLineWidth/2;let h=Math.min(n.x,o.x),c=Math.min(n.y,o.y),l=Math.max(n.x,o.x),u=Math.max(n.y,o.y);this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(h,c,l-h,u-c)),this.selectionLineWidth&&this.selectionBorderColor&&(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,h+=a,c+=a,l-=a,u-=a,Li.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(h,c,l-h,u-c))}findTarget(t){if(this.skipTargetFind)return;const e=this.getViewportPoint(t),s=this._activeObject,i=this.getActiveObjects();if(this.targets=[],s&&i.length>=1){if(s.findControl(e,oe(t)))return s;if(i.length>1&&this.searchPossibleTargets([s],e))return s;if(s===this.searchPossibleTargets([s],e)){if(this.preserveObjectStacking){const i=this.targets;this.targets=[];const r=this.searchPossibleTargets(this._objects,e);return t[this.altSelectionKey]&&r&&r!==s?(this.targets=i,s):r}return s}}return this.searchPossibleTargets(this._objects,e)}_pointIsInObjectSelectionArea(t,e){let s=t.getCoords();const i=this.getZoom(),r=t.padding/i;if(r){const[t,e,i,n]=s,o=Math.atan2(e.y-t.y,e.x-t.x),a=rt(o)*r,h=nt(o)*r,c=a+h,l=a-h;s=[new ot(t.x-l,t.y-c),new ot(e.x+c,e.y-l),new ot(i.x+l,i.y+c),new ot(n.x-c,n.y+l)]}return Qs.isPointInPolygon(e,s)}_checkTarget(t,e){if(t&&t.visible&&t.evented&&this._pointIsInObjectSelectionArea(t,me(e,void 0,this.viewportTransform))){if(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing)return!0;if(!this.isTargetTransparent(t,e.x,e.y))return!0}return!1}_searchPossibleTargets(t,e){let s=t.length;for(;s--;){const i=t[s];if(this._checkTarget(i,e)){if(ht(i)&&i.subTargetCheck){const t=this._searchPossibleTargets(i._objects,e);t&&this.targets.push(t)}return i}}}searchPossibleTargets(t,e){const s=this._searchPossibleTargets(t,e);if(s&&ht(s)&&s.interactive&&this.targets[0]){const t=this.targets;for(let e=t.length-1;e>0;e--){const s=t[e];if(!ht(s)||!s.interactive)return s}return t[0]}return s}getViewportPoint(t){return this._pointer?this._pointer:this.getPointer(t,!0)}getScenePoint(t){return this._absolutePointer?this._absolutePointer:this.getPointer(t)}getPointer(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=this.upperCanvasEl,i=s.getBoundingClientRect();let r=ne(t),n=i.width||0,o=i.height||0;n&&o||(P in i&&E in i&&(o=Math.abs(i.top-i.bottom)),A in i&&M in i&&(n=Math.abs(i.right-i.left))),this.calcOffset(),r.x=r.x-this._offset.left,r.y=r.y-this._offset.top,e||(r=me(r,void 0,this.viewportTransform));const a=this.getRetinaScaling();1!==a&&(r.x/=a,r.y/=a);const h=0===n||0===o?new ot(1,1):new ot(s.width/n,s.height/o);return r.multiply(h)}_setDimensionsImpl(t,e){this._resetTransformEventData(),super._setDimensionsImpl(t,e),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=pt(),this.pixelFindContext=this.pixelFindCanvasEl.getContext(\"2d\",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const t=this._activeObject;return Ut(t)?t.getObjects():t?[t]:[]}_fireSelectionEvents(t,e){let s=!1,i=!1;const r=this.getActiveObjects(),n=[],o=[];t.forEach((t=>{r.includes(t)||(s=!0,t.fire(\"deselected\",{e:e,target:t}),o.push(t))})),r.forEach((i=>{t.includes(i)||(s=!0,i.fire(\"selected\",{e:e,target:i}),n.push(i))})),t.length>0&&r.length>0?(i=!0,s&&this.fire(\"selection:updated\",{e:e,selected:n,deselected:o})):r.length>0?(i=!0,this.fire(\"selection:created\",{e:e,selected:n})):t.length>0&&(i=!0,this.fire(\"selection:cleared\",{e:e,deselected:o})),i&&(this._objectsToRender=void 0)}setActiveObject(t,e){const s=this.getActiveObjects(),i=this._setActiveObject(t,e);return this._fireSelectionEvents(s,e),i}_setActiveObject(t,e){const s=this._activeObject;return s!==t&&(!(!this._discardActiveObject(e,t)&&this._activeObject)&&(!t.onSelect({e:e})&&(this._activeObject=t,Ut(t)&&s!==t&&t.set(\"canvas\",this),t.setCoords(),!0)))}_discardActiveObject(t,e){const s=this._activeObject;return!!s&&(!s.onDeselect({e:t,object:e})&&(this._currentTransform&&this._currentTransform.target===s&&this.endCurrentTransform(t),Ut(s)&&s===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0))}discardActiveObject(t){const e=this.getActiveObjects(),s=this.getActiveObject();e.length&&this.fire(\"before:selection:cleared\",{e:t,deselected:[s]});const i=this._discardActiveObject(t);return this._fireSelectionEvents(e,t),i}endCurrentTransform(t){const e=this._currentTransform;this._finalizeCurrentTransform(t),e&&e.target&&(e.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(t){const e=this._currentTransform,s=e.target,i={e:t,target:s,transform:e,action:e.action};s._scaling&&(s._scaling=!1),s.setCoords(),e.actionPerformed&&(this.fire(\"object:modified\",i),s.fire(Q,i))}setViewportTransform(t){super.setViewportTransform(t);const e=this._activeObject;e&&e.setCoords()}destroy(){const t=this._activeObject;Ut(t)&&(t.removeAll(),t.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(t){const e=this._activeObject;e&&e._renderControls(t)}_toObject(t,e,s){const i=this._realizeGroupTransformOnObject(t),r=super._toObject(t,e,s);return t.set(i),r}_realizeGroupTransformOnObject(t){const{group:e}=t;if(e&&Ut(e)&&this._activeObject===e){const s=Yt(t,[\"angle\",\"flipX\",\"flipY\",M,H,N,U,q,P]);return le(t,e.calcOwnMatrix()),s}return{}}_setSVGObject(t,e,s){const i=this._realizeGroupTransformOnObject(e);super._setSVGObject(t,e,s),e.set(i)}}t(En,\"ownDefaults\",{uniformScaling:!0,uniScaleKey:\"shiftKey\",centeredScaling:!1,centeredRotation:!1,centeredKey:\"altKey\",altActionKey:\"shiftKey\",selection:!0,selectionKey:\"shiftKey\",selectionColor:\"rgba(100, 100, 255, 0.3)\",selectionDashArray:[],selectionBorderColor:\"rgba(255, 255, 255, 0.3)\",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:\"move\",moveCursor:\"move\",defaultCursor:\"default\",freeDrawingCursor:\"crosshair\",notAllowedCursor:\"not-allowed\",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:\"canvas-container\",preserveObjectStacking:!1});class An{constructor(e){t(this,\"targets\",[]),t(this,\"__disposer\",void 0);const s=()=>{const{hiddenTextarea:t}=e.getActiveObject()||{};t&&t.focus()},i=e.upperCanvasEl;i.addEventListener(\"click\",s),this.__disposer=()=>i.removeEventListener(\"click\",s)}exitTextEditing(){this.target=void 0,this.targets.forEach((t=>{t.isEditing&&t.exitEditing()}))}add(t){this.targets.push(t)}remove(t){this.unregister(t),it(this.targets,t)}register(t){this.target=t}unregister(t){t===this.target&&(this.target=void 0)}onMouseMove(t){var e;(null===(e=this.target)||void 0===e?void 0:e.isEditing)&&this.target.updateSelectionOnMouseMove(t)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const jn=[\"target\",\"oldTarget\",\"fireCanvas\",\"e\"],Fn={passive:!1},Ln=(t,e)=>{const s=t.getViewportPoint(e),i=t.getScenePoint(e);return{viewportPoint:s,scenePoint:i,pointer:s,absolutePointer:i}},Rn=function(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];return t.addEventListener(...s)},In=function(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];return t.removeEventListener(...s)},Bn={mouse:{in:\"over\",out:\"out\",targetIn:\"mouseover\",targetOut:\"mouseout\",canvasIn:\"mouse:over\",canvasOut:\"mouse:out\"},drag:{in:\"enter\",out:\"leave\",targetIn:\"dragenter\",targetOut:\"dragleave\",canvasIn:\"drag:enter\",canvasOut:\"drag:leave\"}};class Xn extends En{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),t(this,\"_isClick\",void 0),t(this,\"textEditingManager\",new An(this)),[\"_onMouseDown\",\"_onTouchStart\",\"_onMouseMove\",\"_onMouseUp\",\"_onTouchEnd\",\"_onResize\",\"_onMouseWheel\",\"_onMouseOut\",\"_onMouseEnter\",\"_onContextMenu\",\"_onClick\",\"_onDragStart\",\"_onDragEnd\",\"_onDragProgress\",\"_onDragOver\",\"_onDragEnter\",\"_onDragLeave\",\"_onDrop\"].forEach((t=>{this[t]=this[t].bind(this)})),this.addOrRemove(Rn,\"add\")}_getEventPrefix(){return this.enablePointerEvents?\"pointer\":\"mouse\"}addOrRemove(t,e){const s=this.upperCanvasEl,i=this._getEventPrefix();t(Jt(s),\"resize\",this._onResize),t(s,i+\"down\",this._onMouseDown),t(s,\"\".concat(i,\"move\"),this._onMouseMove,Fn),t(s,\"\".concat(i,\"out\"),this._onMouseOut),t(s,\"\".concat(i,\"enter\"),this._onMouseEnter),t(s,\"wheel\",this._onMouseWheel,{passive:!1}),t(s,\"contextmenu\",this._onContextMenu),t(s,\"click\",this._onClick),t(s,\"dblclick\",this._onClick),t(s,\"dragstart\",this._onDragStart),t(s,\"dragend\",this._onDragEnd),t(s,\"dragover\",this._onDragOver),t(s,\"dragenter\",this._onDragEnter),t(s,\"dragleave\",this._onDragLeave),t(s,\"drop\",this._onDrop),this.enablePointerEvents||t(s,\"touchstart\",this._onTouchStart,Fn)}removeListeners(){this.addOrRemove(In,\"remove\");const t=this._getEventPrefix(),e=Kt(this.upperCanvasEl);In(e,\"\".concat(t,\"up\"),this._onMouseUp),In(e,\"touchend\",this._onTouchEnd,Fn),In(e,\"\".concat(t,\"move\"),this._onMouseMove,Fn),In(e,\"touchmove\",this._onMouseMove,Fn),clearTimeout(this._willAddMouseDown)}_onMouseWheel(t){this.__onMouseWheel(t)}_onMouseOut(t){const e=this._hoveredTarget,i=s({e:t},Ln(this,t));this.fire(\"mouse:out\",s(s({},i),{},{target:e})),this._hoveredTarget=void 0,e&&e.fire(\"mouseout\",s({},i)),this._hoveredTargets.forEach((t=>{this.fire(\"mouse:out\",s(s({},i),{},{target:t})),t&&t.fire(\"mouseout\",s({},i))})),this._hoveredTargets=[]}_onMouseEnter(t){this._currentTransform||this.findTarget(t)||(this.fire(\"mouse:over\",s({e:t},Ln(this,t))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(t){this._isClick=!1;const e=this.getActiveObject();if(e&&e.onDragStart(t)){this._dragSource=e;const s={e:t,target:e};return this.fire(\"dragstart\",s),e.fire(\"dragstart\",s),void Rn(this.upperCanvasEl,\"drag\",this._onDragProgress)}ae(t)}_renderDragEffects(t,e,s){let i=!1;const r=this._dropTarget;r&&r!==e&&r!==s&&(r.clearContextTop(),i=!0),null==e||e.clearContextTop(),s!==e&&(null==s||s.clearContextTop());const n=this.contextTop;n.save(),n.transform(...this.viewportTransform),e&&(n.save(),e.transform(n),e.renderDragSourceEffect(t),n.restore(),i=!0),s&&(n.save(),s.transform(n),s.renderDropTargetEffect(t),n.restore(),i=!0),n.restore(),i&&(this.contextTopDirty=!0)}_onDragEnd(t){const e=!!t.dataTransfer&&t.dataTransfer.dropEffect!==j,s=e?this._activeObject:void 0,i={e:t,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:e,dropTarget:s};In(this.upperCanvasEl,\"drag\",this._onDragProgress),this.fire(\"dragend\",i),this._dragSource&&this._dragSource.fire(\"dragend\",i),delete this._dragSource,this._onMouseUp(t)}_onDragProgress(t){const e={e:t,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire(\"drag\",e),this._dragSource&&this._dragSource.fire(\"drag\",e)}findDragTargets(t){this.targets=[];return{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(t)),targets:[...this.targets]}}_onDragOver(t){const e=\"dragover\",{target:s,targets:i}=this.findDragTargets(t),r=this._dragSource,n={e:t,target:s,subTargets:i,dragSource:r,canDrop:!1,dropTarget:void 0};let o;this.fire(e,n),this._fireEnterLeaveEvents(s,n),s&&(s.canDrop(t)&&(o=s),s.fire(e,n));for(let s=0;s<i.length;s++){const r=i[s];r.canDrop(t)&&(o=r),r.fire(e,n)}this._renderDragEffects(t,r,o),this._dropTarget=o}_onDragEnter(t){const{target:e,targets:s}=this.findDragTargets(t),i={e:t,target:e,subTargets:s,dragSource:this._dragSource};this.fire(\"dragenter\",i),this._fireEnterLeaveEvents(e,i)}_onDragLeave(t){const e={e:t,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire(\"dragleave\",e),this._fireEnterLeaveEvents(void 0,e),this._renderDragEffects(t,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(t){const{target:e,targets:i}=this.findDragTargets(t),r=this._basicEventHandler(\"drop:before\",s({e:t,target:e,subTargets:i,dragSource:this._dragSource},Ln(this,t)));r.didDrop=!1,r.dropTarget=void 0,this._basicEventHandler(\"drop\",r),this.fire(\"drop:after\",r)}_onContextMenu(t){const e=this.findTarget(t),s=this.targets||[],i=this._basicEventHandler(\"contextmenu:before\",{e:t,target:e,subTargets:s});return this.stopContextMenu&&ae(t),this._basicEventHandler(\"contextmenu\",i),!1}_onClick(t){const e=t.detail;e>3||e<2||(this._cacheTransformEventData(t),2==e&&\"dblclick\"===t.type&&this._handleEvent(t,\"dblclick\"),3==e&&this._handleEvent(t,\"tripleclick\"),this._resetTransformEventData())}getPointerId(t){const e=t.changedTouches;return e?e[0]&&e[0].identifier:this.enablePointerEvents?t.pointerId:-1}_isMainEvent(t){return!0===t.isPrimary||!1!==t.isPrimary&&(\"touchend\"===t.type&&0===t.touches.length||(!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId))}_onTouchStart(t){let e=!this.allowTouchScrolling;const s=this._activeObject;void 0===this.mainTouchId&&(this.mainTouchId=this.getPointerId(t)),this.__onMouseDown(t),(this.isDrawingMode||s&&this._target===s)&&(e=!0),e&&t.preventDefault(),this._resetTransformEventData();const i=this.upperCanvasEl,r=this._getEventPrefix(),n=Kt(i);Rn(n,\"touchend\",this._onTouchEnd,Fn),e&&Rn(n,\"touchmove\",this._onMouseMove,Fn),In(i,\"\".concat(r,\"down\"),this._onMouseDown)}_onMouseDown(t){this.__onMouseDown(t),this._resetTransformEventData();const e=this.upperCanvasEl,s=this._getEventPrefix();In(e,\"\".concat(s,\"move\"),this._onMouseMove,Fn);const i=Kt(e);Rn(i,\"\".concat(s,\"up\"),this._onMouseUp),Rn(i,\"\".concat(s,\"move\"),this._onMouseMove,Fn)}_onTouchEnd(t){if(t.touches.length>0)return;this.__onMouseUp(t),this._resetTransformEventData(),delete this.mainTouchId;const e=this._getEventPrefix(),s=Kt(this.upperCanvasEl);In(s,\"touchend\",this._onTouchEnd,Fn),In(s,\"touchmove\",this._onMouseMove,Fn),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((()=>{Rn(this.upperCanvasEl,\"\".concat(e,\"down\"),this._onMouseDown),this._willAddMouseDown=0}),400)}_onMouseUp(t){this.__onMouseUp(t),this._resetTransformEventData();const e=this.upperCanvasEl,s=this._getEventPrefix();if(this._isMainEvent(t)){const t=Kt(this.upperCanvasEl);In(t,\"\".concat(s,\"up\"),this._onMouseUp),In(t,\"\".concat(s,\"move\"),this._onMouseMove,Fn),Rn(e,\"\".concat(s,\"move\"),this._onMouseMove,Fn)}}_onMouseMove(t){const e=this.getActiveObject();!this.allowTouchScrolling&&(!e||!e.shouldStartDragging(t))&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(t){const e=this.getActiveObject();return!!e!=!!t||e&&t&&e!==t}__onMouseUp(t){var e;this._cacheTransformEventData(t),this._handleEvent(t,\"up:before\");const s=this._currentTransform,i=this._isClick,r=this._target,{button:n}=t;if(n)return(this.fireMiddleClick&&1===n||this.fireRightClick&&2===n)&&this._handleEvent(t,\"up\"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(t);if(!this._isMainEvent(t))return;let o,a,h=!1;if(s&&(this._finalizeCurrentTransform(t),h=s.actionPerformed),!i){const e=r===this._activeObject;this.handleSelection(t),h||(h=this._shouldRender(r)||!e&&r===this._activeObject)}if(r){const e=r.findControl(this.getViewportPoint(t),oe(t)),{key:i,control:n}=e||{};if(a=i,r.selectable&&r!==this._activeObject&&\"up\"===r.activeOn)this.setActiveObject(r,t),h=!0;else if(n){const e=n.getMouseUpHandler(t,r,n);e&&(o=this.getScenePoint(t),e.call(n,t,s,o.x,o.y))}r.isMoving=!1}if(s&&(s.target!==r||s.corner!==a)){const e=s.target&&s.target.controls[s.corner],i=e&&e.getMouseUpHandler(t,s.target,e);o=o||this.getScenePoint(t),i&&i.call(e,t,s,o.x,o.y)}this._setCursorFromEvent(t,r),this._handleEvent(t,\"up\"),this._groupSelector=null,this._currentTransform=null,r&&(r.__corner=void 0),h?this.requestRenderAll():i||null!==(e=this._activeObject)&&void 0!==e&&e.isEditing||this.renderTop()}_basicEventHandler(t,e){const{target:s,subTargets:i=[]}=e;this.fire(t,e),s&&s.fire(t,e);for(let r=0;r<i.length;r++)i[r]!==s&&i[r].fire(t,e);return e}_handleEvent(t,e,i){const r=this._target,n=this.targets||[],o=s(s(s({e:t,target:r,subTargets:n},Ln(this,t)),{},{transform:this._currentTransform},\"up:before\"===e||\"up\"===e?{isClick:this._isClick,currentTarget:this.findTarget(t),currentSubTargets:this.targets}:{}),\"down:before\"===e||\"down\"===e?i:{});this.fire(\"mouse:\".concat(e),o),r&&r.fire(\"mouse\".concat(e),o);for(let t=0;t<n.length;t++)n[t]!==r&&n[t].fire(\"mouse\".concat(e),o)}_onMouseDownInDrawingMode(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(t),this.requestRenderAll());const e=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(e,{e:t,pointer:e}),this._handleEvent(t,\"down\",{alreadySelected:!1})}_onMouseMoveInDrawingMode(t){if(this._isCurrentlyDrawing){const e=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(e,{e:t,pointer:e})}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,\"move\")}_onMouseUpInDrawingMode(t){const e=this.getScenePoint(t);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:t,pointer:e}):this._isCurrentlyDrawing=!1,this._handleEvent(t,\"up\")}__onMouseDown(t){this._isClick=!0,this._cacheTransformEventData(t),this._handleEvent(t,\"down:before\");let e=this._target,s=!!e&&e===this._activeObject;const{button:i}=t;if(i)return(this.fireMiddleClick&&1===i||this.fireRightClick&&2===i)&&this._handleEvent(t,\"down\",{alreadySelected:s}),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(t);if(!this._isMainEvent(t))return;if(this._currentTransform)return;let r=this._shouldRender(e),n=!1;if(this.handleMultiSelection(t,e)?(e=this._activeObject,n=!0,r=!0):this._shouldClearSelection(t,e)&&this.discardActiveObject(t),this.selection&&(!e||!e.selectable&&!e.isEditing&&e!==this._activeObject)){const e=this.getScenePoint(t);this._groupSelector={x:e.x,y:e.y,deltaY:0,deltaX:0}}if(s=!!e&&e===this._activeObject,e){e.selectable&&\"down\"===e.activeOn&&this.setActiveObject(e,t);const i=e.findControl(this.getViewportPoint(t),oe(t));if(e===this._activeObject&&(i||!n)){this._setupCurrentTransform(t,e,s);const r=i?i.control:void 0,n=this.getScenePoint(t),o=r&&r.getMouseDownHandler(t,e,r);o&&o.call(r,t,this._currentTransform,n.x,n.y)}}r&&(this._objectsToRender=void 0),this._handleEvent(t,\"down\",{alreadySelected:s}),r&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(t){this._resetTransformEventData(),this._pointer=this.getViewportPoint(t),this._absolutePointer=me(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)}__onMouseMove(t){if(this._isClick=!1,this._cacheTransformEventData(t),this._handleEvent(t,\"move:before\"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(t);if(!this._isMainEvent(t))return;const e=this._groupSelector;if(e){const s=this.getScenePoint(t);e.deltaX=s.x-e.x,e.deltaY=s.y-e.y,this.renderTop()}else if(this._currentTransform)this._transformObject(t);else{const e=this.findTarget(t);this._setCursorFromEvent(t,e),this._fireOverOutEvents(t,e)}this.textEditingManager.onMouseMove(t),this._handleEvent(t,\"move\"),this._resetTransformEventData()}_fireOverOutEvents(t,e){const s=this._hoveredTarget,i=this._hoveredTargets,r=this.targets,n=Math.max(i.length,r.length);this.fireSyntheticInOutEvents(\"mouse\",{e:t,target:e,oldTarget:s,fireCanvas:!0});for(let o=0;o<n;o++)r[o]===e||i[o]&&i[o]===s||this.fireSyntheticInOutEvents(\"mouse\",{e:t,target:r[o],oldTarget:i[o]});this._hoveredTarget=e,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(t,e){const i=this._draggedoverTarget,r=this._hoveredTargets,n=this.targets,o=Math.max(r.length,n.length);this.fireSyntheticInOutEvents(\"drag\",s(s({},e),{},{target:t,oldTarget:i,fireCanvas:!0}));for(let t=0;t<o;t++)this.fireSyntheticInOutEvents(\"drag\",s(s({},e),{},{target:n[t],oldTarget:r[t]}));this._draggedoverTarget=t}fireSyntheticInOutEvents(t,e){let{target:r,oldTarget:n,fireCanvas:o,e:a}=e,h=i(e,jn);const{targetIn:c,targetOut:l,canvasIn:u,canvasOut:d}=Bn[t],g=n!==r;if(n&&g){const t=s(s({},h),{},{e:a,target:n,nextTarget:r},Ln(this,a));o&&this.fire(d,t),n.fire(l,t)}if(r&&g){const t=s(s({},h),{},{e:a,target:r,previousTarget:n},Ln(this,a));o&&this.fire(u,t),r.fire(c,t)}}__onMouseWheel(t){this._cacheTransformEventData(t),this._handleEvent(t,\"wheel\"),this._resetTransformEventData()}_transformObject(t){const e=this.getScenePoint(t),s=this._currentTransform,i=s.target,r=i.group?me(e,void 0,i.group.calcTransformMatrix()):e;s.shiftKey=t.shiftKey,s.altKey=!!this.centeredKey&&t[this.centeredKey],this._performTransformAction(t,s,r),s.actionPerformed&&this.requestRenderAll()}_performTransformAction(t,e,s){const{action:i,actionHandler:r,target:n}=e,o=!!r&&r(t,e,s.x,s.y);o&&n.setCoords(),\"drag\"===i&&o&&(e.target.isMoving=!0,this.setCursor(e.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||o}_setCursorFromEvent(t,e){if(!e)return void this.setCursor(this.defaultCursor);let s=e.hoverCursor||this.hoverCursor;const i=Ut(this._activeObject)?this._activeObject:null,r=(!i||e.group!==i)&&e.findControl(this.getViewportPoint(t));if(r){const s=r.control;this.setCursor(s.cursorStyleHandler(t,s,e))}else e.subTargetCheck&&this.targets.concat().reverse().map((t=>{s=t.hoverCursor||s})),this.setCursor(s)}handleMultiSelection(t,e){const s=this._activeObject,i=Ut(s);if(s&&this._isSelectionKeyPressed(t)&&this.selection&&e&&e.selectable&&(s!==e||i)&&(i||!e.isDescendantOf(s)&&!s.isDescendantOf(e))&&!e.onSelect({e:t})&&!s.getActiveControl()){if(i){const i=s.getObjects();if(e===s){const s=this.getViewportPoint(t);if(!(e=this.searchPossibleTargets(i,s)||this.searchPossibleTargets(this._objects,s))||!e.selectable)return!1}e.group===s?(s.remove(e),this._hoveredTarget=e,this._hoveredTargets=[...this.targets],1===s.size()&&this._setActiveObject(s.item(0),t)):(s.multiSelectAdd(e),this._hoveredTarget=s,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(i,t)}else{s.isEditing&&s.exitEditing();const i=new(tt.getClass(\"ActiveSelection\"))([],{canvas:this});i.multiSelectAdd(s,e),this._hoveredTarget=i,this._setActiveObject(i,t),this._fireSelectionEvents([s],t)}return!0}return!1}handleSelection(t){if(!this.selection||!this._groupSelector)return!1;const{x:e,y:s,deltaX:i,deltaY:r}=this._groupSelector,n=new ot(e,s),o=n.add(new ot(i,r)),a=n.min(o),h=n.max(o).subtract(a),c=this.collectObjects({left:a.x,top:a.y,width:h.x,height:h.y},{includeIntersecting:!this.selectionFullyContained}),l=n.eq(o)?c[0]?[c[0]]:[]:c.length>1?c.filter((e=>!e.onSelect({e:t}))).reverse():c;if(1===l.length)this.setActiveObject(l[0],t);else if(l.length>1){const e=tt.getClass(\"ActiveSelection\");this.setActiveObject(new e(l,{canvas:this}),t)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const Yn={x1:0,y1:0,x2:0,y2:0},Wn=s(s({},Yn),{},{r1:0,r2:0}),Vn=(t,e)=>isNaN(t)&&\"number\"==typeof e?e:t;function zn(t){return t&&/%$/.test(t)&&Number.isFinite(parseFloat(t))}function Gn(t,e){const s=\"number\"==typeof t?t:\"string\"==typeof t?parseFloat(t)/(zn(t)?100:1):NaN;return Ms(0,Vn(s,e),1)}const Hn=/\\s*;\\s*/,Nn=/\\s*:\\s*/;function Un(t,e){let s,i;const r=t.getAttribute(\"style\");if(r){const t=r.split(Hn);\"\"===t[t.length-1]&&t.pop();for(let e=t.length;e--;){const[r,n]=t[e].split(Nn).map((t=>t.trim()));\"stop-color\"===r?s=n:\"stop-opacity\"===r&&(i=n)}}const n=new Ie(s||t.getAttribute(\"stop-color\")||\"rgb(0,0,0)\");return{offset:Gn(t.getAttribute(\"offset\"),0),color:n.toRgb(),opacity:Vn(parseFloat(i||t.getAttribute(\"stop-opacity\")||\"\"),1)*n.getAlpha()*e}}function qn(t,e){const s=[],i=t.getElementsByTagName(\"stop\"),r=Gn(e,1);for(let t=i.length;t--;)s.push(Un(i[t],r));return s}function Kn(t){return\"linearGradient\"===t.nodeName||\"LINEARGRADIENT\"===t.nodeName?\"linear\":\"radial\"}function Jn(t){return\"userSpaceOnUse\"===t.getAttribute(\"gradientUnits\")?\"pixels\":\"percentage\"}function Qn(t,e){return t.getAttribute(e)}function Zn(t,e){return function(t,e){let s,{width:i,height:r,gradientUnits:n}=e;return Object.entries(t).reduce(((t,e)=>{let[o,a]=e;if(\"Infinity\"===a)s=1;else if(\"-Infinity\"===a)s=0;else{const t=\"string\"==typeof a;s=t?parseFloat(a):a,t&&zn(a)&&(s*=.01,\"pixels\"===n&&(\"x1\"!==o&&\"x2\"!==o&&\"r2\"!==o||(s*=i),\"y1\"!==o&&\"y2\"!==o||(s*=r)))}return t[o]=s,t}),{})}(\"linear\"===Kn(t)?function(t){return{x1:Qn(t,\"x1\")||0,y1:Qn(t,\"y1\")||0,x2:Qn(t,\"x2\")||\"100%\",y2:Qn(t,\"y2\")||0}}(t):function(t){return{x1:Qn(t,\"fx\")||Qn(t,\"cx\")||\"50%\",y1:Qn(t,\"fy\")||Qn(t,\"cy\")||\"50%\",r1:0,x2:Qn(t,\"cx\")||\"50%\",y2:Qn(t,\"cy\")||\"50%\",r2:Qn(t,\"r\")||\"50%\"}}(t),s(s({},e),{},{gradientUnits:Jn(t)}))}class $n{constructor(t){const{type:e=\"linear\",gradientUnits:i=\"pixels\",coords:r={},colorStops:n=[],offsetX:o=0,offsetY:a=0,gradientTransform:h,id:c}=t||{};Object.assign(this,{type:e,gradientUnits:i,coords:s(s({},\"radial\"===e?Wn:Yn),r),colorStops:n,offsetX:o,offsetY:a,gradientTransform:h,id:c?\"\".concat(c,\"_\").concat(ft()):ft()})}addColorStop(t){for(const e in t){const s=new Ie(t[e]);this.colorStops.push({offset:parseFloat(e),color:s.toRgb(),opacity:s.getAlpha()})}return this}toObject(t){return s(s({},Yt(this,t)),{},{type:this.type,coords:s({},this.coords),colorStops:this.colorStops.map((t=>s({},t))),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(t){let{additionalTransform:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=[],r=this.gradientTransform?this.gradientTransform.concat():T.concat(),n=\"pixels\"===this.gradientUnits?\"userSpaceOnUse\":\"objectBoundingBox\",o=this.colorStops.map((t=>s({},t))).sort(((t,e)=>t.offset-e.offset));let a=-this.offsetX,h=-this.offsetY;var c;\"objectBoundingBox\"===n?(a/=t.width,h/=t.height):(a+=t.width/2,h+=t.height/2),(c=t)&&\"function\"==typeof c._renderPathCommands&&\"percentage\"!==this.gradientUnits&&(a-=t.pathOffset.x,h-=t.pathOffset.y),r[4]-=a,r[5]-=h;const l=['id=\"SVGID_'.concat(this.id,'\"'),'gradientUnits=\"'.concat(n,'\"'),'gradientTransform=\"'.concat(e?e+\" \":\"\").concat(zt(r),'\"'),\"\"].join(\" \");if(\"linear\"===this.type){const{x1:t,y1:e,x2:s,y2:r}=this.coords;i.push(\"<linearGradient \",l,' x1=\"',t,'\" y1=\"',e,'\" x2=\"',s,'\" y2=\"',r,'\">\\n')}else if(\"radial\"===this.type){const{x1:t,y1:e,x2:s,y2:r,r1:n,r2:a}=this.coords,h=n>a;i.push(\"<radialGradient \",l,' cx=\"',h?t:s,'\" cy=\"',h?e:r,'\" r=\"',h?n:a,'\" fx=\"',h?s:t,'\" fy=\"',h?r:e,'\">\\n'),h&&(o.reverse(),o.forEach((t=>{t.offset=1-t.offset})));const c=Math.min(n,a);if(c>0){const t=c/Math.max(n,a);o.forEach((e=>{e.offset+=t*(1-e.offset)}))}}return o.forEach((t=>{let{color:e,offset:s,opacity:r}=t;i.push(\"<stop \",'offset=\"',100*s+\"%\",'\" style=\"stop-color:',e,void 0!==r?\";stop-opacity: \"+r:\";\",'\"/>\\n')})),i.push(\"linear\"===this.type?\"</linearGradient>\":\"</radialGradient>\",\"\\n\"),i.join(\"\")}toLive(t){const{x1:e,y1:s,x2:i,y2:r,r1:n,r2:o}=this.coords,a=\"linear\"===this.type?t.createLinearGradient(e,s,i,r):t.createRadialGradient(e,s,n,i,r,o);return this.colorStops.forEach((t=>{let{color:e,opacity:s,offset:i}=t;a.addColorStop(i,void 0!==s?new Ie(e).setAlpha(s).toRgba():e)})),a}static async fromObject(t){const{colorStops:e,gradientTransform:i}=t;return new this(s(s({},t),{},{colorStops:e?e.map((t=>s({},t))):void 0,gradientTransform:i?[...i]:void 0}))}static fromElement(t,e,i){const r=Jn(t),n=e._findCenterFromElement();return new this(s({id:t.getAttribute(\"id\")||void 0,type:Kn(t),coords:Zn(t,{width:i.viewBoxWidth||i.width,height:i.viewBoxHeight||i.height}),colorStops:qn(t,i.opacity),gradientUnits:r,gradientTransform:wr(t.getAttribute(\"gradientTransform\")||\"\")},\"pixels\"===r?{offsetX:e.width/2-n.x,offsetY:e.height/2-n.y}:{offsetX:0,offsetY:0}))}}t($n,\"type\",\"Gradient\"),tt.setClass($n,\"gradient\"),tt.setClass($n,\"linear\"),tt.setClass($n,\"radial\");const to=[\"type\",\"source\",\"patternTransform\"];class eo{get type(){return\"pattern\"}set type(t){a(\"warn\",\"Setting type has no effect\",t)}constructor(e){t(this,\"repeat\",\"repeat\"),t(this,\"offsetX\",0),t(this,\"offsetY\",0),t(this,\"crossOrigin\",\"\"),this.id=ft(),Object.assign(this,e)}isImageSource(){return!!this.source&&\"string\"==typeof this.source.src}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():\"\"}toLive(t){return this.source&&(!this.isImageSource()||this.source.complete&&0!==this.source.naturalWidth&&0!==this.source.naturalHeight)?t.createPattern(this.source,this.repeat):null}toObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const{repeat:e,crossOrigin:i}=this;return s(s({},Yt(this,t)),{},{type:\"pattern\",source:this.sourceToString(),repeat:e,crossOrigin:i,offsetX:Vt(this.offsetX,o.NUM_FRACTION_DIGITS),offsetY:Vt(this.offsetY,o.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(t){let{width:e,height:s}=t;const{source:i,repeat:r,id:n}=this,o=Vn(this.offsetX/e,0),a=Vn(this.offsetY/s,0),h=\"repeat-y\"===r||\"no-repeat\"===r?1+Math.abs(o||0):Vn(i.width/e,0),c=\"repeat-x\"===r||\"no-repeat\"===r?1+Math.abs(a||0):Vn(i.height/s,0);return['<pattern id=\"SVGID_'.concat(n,'\" x=\"').concat(o,'\" y=\"').concat(a,'\" width=\"').concat(h,'\" height=\"').concat(c,'\">'),'<image x=\"0\" y=\"0\" width=\"'.concat(i.width,'\" height=\"').concat(i.height,'\" xlink:href=\"').concat(this.sourceToString(),'\"></image>'),\"</pattern>\",\"\"].join(\"\\n\")}static async fromObject(t,e){let{type:r,source:n,patternTransform:o}=t,a=i(t,to);const h=await It(n,s(s({},e),{},{crossOrigin:a.crossOrigin}));return new this(s(s({},a),{},{patternTransform:o&&o.slice(0),source:h}))}}t(eo,\"type\",\"Pattern\"),tt.setClass(eo),tt.setClass(eo,\"pattern\");class so{constructor(e){t(this,\"color\",\"rgb(0, 0, 0)\"),t(this,\"width\",1),t(this,\"shadow\",null),t(this,\"strokeLineCap\",\"round\"),t(this,\"strokeLineJoin\",\"round\"),t(this,\"strokeMiterLimit\",10),t(this,\"strokeDashArray\",null),t(this,\"limitedToCanvasSize\",!1),this.canvas=e}_setBrushStyles(t){t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.miterLimit=this.strokeMiterLimit,t.lineJoin=this.strokeLineJoin,t.setLineDash(this.strokeDashArray||[])}_saveAndTransform(t){const e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}needsFullRender(){return new Ie(this.color).getAlpha()<1||!!this.shadow}_setShadow(){if(!this.shadow||!this.canvas)return;const t=this.canvas,e=this.shadow,s=t.contextTop,i=t.getZoom()*t.getRetinaScaling();s.shadowColor=e.color,s.shadowBlur=e.blur*i,s.shadowOffsetX=e.offsetX*i,s.shadowOffsetY=e.offsetY*i}_resetShadow(){const t=this.canvas.contextTop;t.shadowColor=\"\",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0}_isOutSideCanvas(t){return t.x<0||t.x>this.canvas.getWidth()||t.y<0||t.y>this.canvas.getHeight()}}const io=[\"path\",\"left\",\"top\"],ro=[\"d\"];class no extends Li{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{path:s,left:r,top:n}=e,o=i(e,io);super(),Object.assign(this,no.ownDefaults),this.setOptions(o),this._setPath(t||[],!0),\"number\"==typeof r&&this.set(M,r),\"number\"==typeof n&&this.set(P,n)}_setPath(t,e){this.path=nn(Array.isArray(t)?t:bn(t)),this.setBoundingBox(e)}_findCenterFromElement(){const t=this._calcBoundsFromPath();return new ot(t.left+t.width/2,t.top+t.height/2)}_renderPathCommands(t){const e=-this.pathOffset.x,s=-this.pathOffset.y;t.beginPath();for(const i of this.path)switch(i[0]){case\"L\":t.lineTo(i[1]+e,i[2]+s);break;case\"M\":t.moveTo(i[1]+e,i[2]+s);break;case\"C\":t.bezierCurveTo(i[1]+e,i[2]+s,i[3]+e,i[4]+s,i[5]+e,i[6]+s);break;case\"Q\":t.quadraticCurveTo(i[1]+e,i[2]+s,i[3]+e,i[4]+s);break;case\"Z\":t.closePath()}}_render(t){this._renderPathCommands(t),this._renderPaintInOrder(t)}toString(){return\"#<Path (\".concat(this.complexity(),'): { \"top\": ').concat(this.top,', \"left\": ').concat(this.left,\" }>\")}toObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s(s({},super.toObject(t)),{},{path:this.path.map((t=>t.slice()))})}toDatalessObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const e=this.toObject(t);return this.sourcePath&&(delete e.path,e.sourcePath=this.sourcePath),e}_toSVG(){const t=wn(this.path,o.NUM_FRACTION_DIGITS);return[\"<path \",\"COMMON_PARTS\",'d=\"'.concat(t,'\" stroke-linecap=\"round\" />\\n')]}_getOffsetTransform(){const t=o.NUM_FRACTION_DIGITS;return\" translate(\".concat(Vt(-this.pathOffset.x,t),\", \").concat(Vt(-this.pathOffset.y,t),\")\")}toClipPathSVG(t){const e=this._getOffsetTransform();return\"\\t\"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})}toSVG(t){const e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(t){const{width:e,height:s,pathOffset:i}=this._calcDimensions();this.set({width:e,height:s,pathOffset:i}),t&&this.setPositionByOrigin(i,D,D)}_calcBoundsFromPath(){const t=[];let e=0,s=0,i=0,r=0;for(const n of this.path)switch(n[0]){case\"L\":i=n[1],r=n[2],t.push({x:e,y:s},{x:i,y:r});break;case\"M\":i=n[1],r=n[2],e=i,s=r;break;case\"C\":t.push(...sn(i,r,n[1],n[2],n[3],n[4],n[5],n[6])),i=n[5],r=n[6];break;case\"Q\":t.push(...sn(i,r,n[1],n[2],n[1],n[2],n[3],n[4])),i=n[3],r=n[4];break;case\"Z\":i=e,r=s}return he(t)}_calcDimensions(){const t=this._calcBoundsFromPath();return s(s({},t),{},{pathOffset:new ot(t.left+t.width/2,t.top+t.height/2)})}static fromObject(t){return this._fromObject(t,{extraParam:\"path\"})}static async fromElement(t,e,r){const n=Pr(t,this.ATTRIBUTE_NAMES,r),{d:o}=n;return new this(o,s(s(s({},i(n,ro)),e),{},{left:void 0,top:void 0}))}}t(no,\"type\",\"Path\"),t(no,\"cacheProperties\",[...Es,\"path\",\"fillRule\"]),t(no,\"ATTRIBUTE_NAMES\",[...Zi,\"d\"]),tt.setClass(no),tt.setSVGClass(no);class oo extends so{constructor(e){super(e),t(this,\"decimate\",.4),t(this,\"drawStraightLine\",!1),t(this,\"straightLineKey\",\"shiftKey\"),this._points=[],this._hasStraightLine=!1}needsFullRender(){return super.needsFullRender()||this._hasStraightLine}static drawSegment(t,e,s){const i=e.midPointFrom(s);return t.quadraticCurveTo(e.x,e.y,i.x,i.y),i}onMouseDown(t,e){let{e:s}=e;this.canvas._isMainEvent(s)&&(this.drawStraightLine=!!this.straightLineKey&&s[this.straightLineKey],this._prepareForDrawing(t),this._addPoint(t),this._render())}onMouseMove(t,e){let{e:s}=e;if(this.canvas._isMainEvent(s)&&(this.drawStraightLine=!!this.straightLineKey&&s[this.straightLineKey],(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(t))&&this._addPoint(t)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{const t=this._points,e=t.length,s=this.canvas.contextTop;this._saveAndTransform(s),this.oldEnd&&(s.beginPath(),s.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=oo.drawSegment(s,t[e-2],t[e-1]),s.stroke(),s.restore()}}onMouseUp(t){let{e:e}=t;return!this.canvas._isMainEvent(e)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)}_prepareForDrawing(t){this._reset(),this._addPoint(t),this.canvas.contextTop.moveTo(t.x,t.y)}_addPoint(t){return!(this._points.length>1&&t.eq(this._points[this._points.length-1]))&&(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(t),!0)}_reset(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1}_render(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.canvas.contextTop,e=this._points[0],s=this._points[1];if(this._saveAndTransform(t),t.beginPath(),2===this._points.length&&e.x===s.x&&e.y===s.y){const t=this.width/1e3;e.x-=t,s.x+=t}t.moveTo(e.x,e.y);for(let i=1;i<this._points.length;i++)oo.drawSegment(t,e,s),e=this._points[i],s=this._points[i+1];t.lineTo(e.x,e.y),t.stroke(),t.restore()}convertPointsToSVGPath(t){const e=this.width/1e3;return Sn(t,e)}createPath(t){const e=new no(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,e.shadow=new Ds(this.shadow)),e}decimatePoints(t,e){if(t.length<=2)return t;let s,i=t[0];const r=this.canvas.getZoom(),n=Math.pow(e/r,2),o=t.length-1,a=[i];for(let e=1;e<o-1;e++)s=Math.pow(i.x-t[e].x,2)+Math.pow(i.y-t[e].y,2),s>=n&&(i=t[e],a.push(i));return a.push(t[o]),a}_finalizeAndAddPath(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));const t=this.convertPointsToSVGPath(this._points);if(function(t){return\"M 0 0 Q 0 0 0 0 L 0 0\"===wn(t)}(t))return void this.canvas.requestRenderAll();const e=this.createPath(t);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire(\"before:path:created\",{path:e}),this.canvas.add(e),this.canvas.requestRenderAll(),e.setCoords(),this._resetShadow(),this.canvas.fire(\"path:created\",{path:e})}}const ao=[\"left\",\"top\",\"radius\"],ho=[\"radius\",\"startAngle\",\"endAngle\",\"counterClockwise\"];class co extends Li{static getDefaults(){return s(s({},super.getDefaults()),co.ownDefaults)}constructor(t){super(),Object.assign(this,co.ownDefaults),this.setOptions(t)}_set(t,e){return super._set(t,e),\"radius\"===t&&this.setRadius(e),this}_render(t){t.beginPath(),t.arc(0,0,this.radius,xt(this.startAngle),xt(this.endAngle),this.counterClockwise),this._renderPaintInOrder(t)}getRadiusX(){return this.get(\"radius\")*this.get(H)}getRadiusY(){return this.get(\"radius\")*this.get(N)}setRadius(t){this.radius=t,this.set({width:2*t,height:2*t})}toObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return super.toObject([...ho,...t])}_toSVG(){const t=(this.endAngle-this.startAngle)%360;if(0===t)return[\"<circle \",\"COMMON_PARTS\",'cx=\"0\" cy=\"0\" ','r=\"',\"\".concat(this.radius),'\" />\\n'];{const{radius:e}=this,s=xt(this.startAngle),i=xt(this.endAngle),r=rt(s)*e,n=nt(s)*e,o=rt(i)*e,a=nt(i)*e,h=t>180?1:0,c=this.counterClockwise?0:1;return['<path d=\"M '.concat(r,\" \").concat(n,\" A \").concat(e,\" \").concat(e,\" 0 \").concat(h,\" \").concat(c,\" \").concat(o,\" \").concat(a,'\" '),\"COMMON_PARTS\",\" />\\n\"]}}static async fromElement(t,e,r){const n=Pr(t,this.ATTRIBUTE_NAMES,r),{left:o=0,top:a=0,radius:h=0}=n;return new this(s(s({},i(n,ao)),{},{radius:h,left:o-h,top:a-h}))}static fromObject(t){return super._fromObject(t)}}t(co,\"type\",\"Circle\"),t(co,\"cacheProperties\",[...Es,...ho]),t(co,\"ownDefaults\",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),t(co,\"ATTRIBUTE_NAMES\",[\"cx\",\"cy\",\"r\",...Zi]),tt.setClass(co),tt.setSVGClass(co);class lo extends so{constructor(e){super(e),t(this,\"width\",10),this.points=[]}drawDot(t){const e=this.addPoint(t),s=this.canvas.contextTop;this._saveAndTransform(s),this.dot(s,e),s.restore()}dot(t,e){t.fillStyle=e.fill,t.beginPath(),t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.closePath(),t.fill()}onMouseDown(t){this.points=[],this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)}_render(){const t=this.canvas.contextTop,e=this.points;this._saveAndTransform(t);for(let s=0;s<e.length;s++)this.dot(t,e[s]);t.restore()}onMouseMove(t){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(t),this._render()):this.drawDot(t))}onMouseUp(){const t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;const e=[];for(let t=0;t<this.points.length;t++){const s=this.points[t],i=new co({radius:s.radius,left:s.x,top:s.y,originX:D,originY:D,fill:s.fill});this.shadow&&(i.shadow=new Ds(this.shadow)),e.push(i)}const s=new Ur(e,{canvas:this.canvas});this.canvas.fire(\"before:path:created\",{path:s}),this.canvas.add(s),this.canvas.fire(\"path:created\",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.requestRenderAll()}addPoint(t){let{x:e,y:s}=t;const i={x:e,y:s,radius:On(Math.max(0,this.width-20),this.width+20)/2,fill:new Ie(this.color).setAlpha(On(0,100)/100).toRgba()};return this.points.push(i),i}}class uo extends so{constructor(e){super(e),t(this,\"width\",10),t(this,\"density\",20),t(this,\"dotWidth\",1),t(this,\"dotWidthVariance\",1),t(this,\"randomOpacity\",!1),t(this,\"optimizeOverlapping\",!0),this.sprayChunks=[],this.sprayChunk=[]}onMouseDown(t){this.sprayChunks=[],this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.renderChunck(this.sprayChunk)}onMouseMove(t){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||(this.addSprayChunk(t),this.renderChunck(this.sprayChunk))}onMouseUp(){const t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;const e=[];for(let t=0;t<this.sprayChunks.length;t++){const s=this.sprayChunks[t];for(let t=0;t<s.length;t++){const i=s[t],r=new jr({width:i.width,height:i.width,left:i.x+1,top:i.y+1,originX:D,originY:D,fill:this.color});e.push(r)}}const s=new Ur(this.optimizeOverlapping?function(t){const e={},s=[];for(let i,r=0;r<t.length;r++)i=\"\".concat(t[r].left).concat(t[r].top),e[i]||(e[i]=!0,s.push(t[r]));return s}(e):e,{objectCaching:!0,subTargetCheck:!1,interactive:!1});this.shadow&&s.set(\"shadow\",new Ds(this.shadow)),this.canvas.fire(\"before:path:created\",{path:s}),this.canvas.add(s),this.canvas.fire(\"path:created\",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.requestRenderAll()}renderChunck(t){const e=this.canvas.contextTop;e.fillStyle=this.color,this._saveAndTransform(e);for(let s=0;s<t.length;s++){const i=t[s];e.globalAlpha=i.opacity,e.fillRect(i.x,i.y,i.width,i.width)}e.restore()}_render(){const t=this.canvas.contextTop;t.fillStyle=this.color,this._saveAndTransform(t);for(let t=0;t<this.sprayChunks.length;t++)this.renderChunck(this.sprayChunks[t]);t.restore()}addSprayChunk(t){this.sprayChunk=[];const e=this.width/2;for(let s=0;s<this.density;s++)this.sprayChunk.push({x:On(t.x-e,t.x+e),y:On(t.y-e,t.y+e),width:this.dotWidthVariance?On(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth,opacity:this.randomOpacity?On(0,100)/100:1});this.sprayChunks.push(this.sprayChunk)}}class go extends oo{constructor(t){super(t)}getPatternSrc(){const t=pt(),e=t.getContext(\"2d\");return t.width=t.height=25,e&&(e.fillStyle=this.color,e.beginPath(),e.arc(10,10,10,0,2*Math.PI,!1),e.closePath(),e.fill()),t}getPattern(t){return t.createPattern(this.source||this.getPatternSrc(),\"repeat\")}_setBrushStyles(t){super._setBrushStyles(t);const e=this.getPattern(t);e&&(t.strokeStyle=e)}createPath(t){const e=super.createPath(t),s=e._getLeftTopCoords().scalarAdd(e.strokeWidth/2);return e.stroke=new eo({source:this.source||this.getPatternSrc(),offsetX:-s.x,offsetY:-s.y}),e}}const fo=[\"x1\",\"y1\",\"x2\",\"y2\"],po=[\"x1\",\"y1\",\"x2\",\"y2\"],mo=[\"x1\",\"x2\",\"y1\",\"y2\"];class vo extends Li{constructor(){let[t,e,s,i]=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),Object.assign(this,vo.ownDefaults),this.setOptions(r),this.x1=t,this.x2=s,this.y1=e,this.y2=i,this._setWidthHeight();const{left:n,top:o}=r;\"number\"==typeof n&&this.set(M,n),\"number\"==typeof o&&this.set(P,o)}_setWidthHeight(){const{x1:t,y1:e,x2:s,y2:i}=this;this.width=Math.abs(s-t),this.height=Math.abs(i-e);const{left:r,top:n,width:o,height:a}=he([{x:t,y:e},{x:s,y:i}]),h=new ot(r+o/2,n+a/2);this.setPositionByOrigin(h,D,D)}_set(t,e){return super._set(t,e),mo.includes(t)&&this._setWidthHeight(),this}_render(t){t.beginPath();const e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.lineWidth=this.strokeWidth;const s=t.strokeStyle;var i;Gt(this.stroke)?t.strokeStyle=this.stroke.toLive(t):t.strokeStyle=null!==(i=this.stroke)&&void 0!==i?i:t.fillStyle;this.stroke&&this._renderStroke(t),t.strokeStyle=s}_findCenterFromElement(){return new ot((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s(s({},super.toObject(t)),this.calcLinePoints())}_getNonTransformedDimensions(){const t=super._getNonTransformedDimensions();return\"butt\"===this.strokeLineCap&&(0===this.width&&(t.y-=this.strokeWidth),0===this.height&&(t.x-=this.strokeWidth)),t}calcLinePoints(){const{x1:t,x2:e,y1:s,y2:i,width:r,height:n}=this,o=t<=e?-1:1,a=s<=i?-1:1;return{x1:o*r/2,x2:o*-r/2,y1:a*n/2,y2:a*-n/2}}_toSVG(){const{x1:t,x2:e,y1:s,y2:i}=this.calcLinePoints();return[\"<line \",\"COMMON_PARTS\",'x1=\"'.concat(t,'\" y1=\"').concat(s,'\" x2=\"').concat(e,'\" y2=\"').concat(i,'\" />\\n')]}static async fromElement(t,e,s){const r=Pr(t,this.ATTRIBUTE_NAMES,s),{x1:n=0,y1:o=0,x2:a=0,y2:h=0}=r;return new this([n,o,a,h],i(r,fo))}static fromObject(t){let{x1:e,y1:r,x2:n,y2:o}=t,a=i(t,po);return this._fromObject(s(s({},a),{},{points:[e,r,n,o]}),{extraParam:\"points\"})}}t(vo,\"type\",\"Line\"),t(vo,\"cacheProperties\",[...Es,...mo]),t(vo,\"ATTRIBUTE_NAMES\",Zi.concat(mo)),tt.setClass(vo),tt.setSVGClass(vo);class yo extends Li{static getDefaults(){return s(s({},super.getDefaults()),yo.ownDefaults)}constructor(t){super(),Object.assign(this,yo.ownDefaults),this.setOptions(t)}_render(t){const e=this.width/2,s=this.height/2;t.beginPath(),t.moveTo(-e,s),t.lineTo(0,-s),t.lineTo(e,s),t.closePath(),this._renderPaintInOrder(t)}_toSVG(){const t=this.width/2,e=this.height/2;return[\"<polygon \",\"COMMON_PARTS\",'points=\"',\"\".concat(-t,\" \").concat(e,\",0 \").concat(-e,\",\").concat(t,\" \").concat(e),'\" />']}}t(yo,\"type\",\"Triangle\"),t(yo,\"ownDefaults\",{width:100,height:100}),tt.setClass(yo),tt.setSVGClass(yo);const _o=[\"rx\",\"ry\"];class xo extends Li{static getDefaults(){return s(s({},super.getDefaults()),xo.ownDefaults)}constructor(t){super(),Object.assign(this,xo.ownDefaults),this.setOptions(t)}_set(t,e){switch(super._set(t,e),t){case\"rx\":this.rx=e,this.set(\"width\",2*e);break;case\"ry\":this.ry=e,this.set(\"height\",2*e)}return this}getRx(){return this.get(\"rx\")*this.get(H)}getRy(){return this.get(\"ry\")*this.get(N)}toObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return super.toObject([..._o,...t])}_toSVG(){return[\"<ellipse \",\"COMMON_PARTS\",'cx=\"0\" cy=\"0\" rx=\"'.concat(this.rx,'\" ry=\"').concat(this.ry,'\" />\\n')]}_render(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,S,!1),t.restore(),this._renderPaintInOrder(t)}static async fromElement(t,e,s){const i=Pr(t,this.ATTRIBUTE_NAMES,s);return i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,new this(i)}}function Co(t){if(!t)return[];const e=t.replace(/,/g,\" \").trim().split(/\\s+/),s=[];for(let t=0;t<e.length;t+=2)s.push({x:parseFloat(e[t]),y:parseFloat(e[t+1])});return s}t(xo,\"type\",\"Ellipse\"),t(xo,\"cacheProperties\",[...Es,..._o]),t(xo,\"ownDefaults\",{rx:0,ry:0}),t(xo,\"ATTRIBUTE_NAMES\",[...Zi,\"cx\",\"cy\",\"rx\",\"ry\"]),tt.setClass(xo),tt.setSVGClass(xo);const bo=[\"left\",\"top\"],So={exactBoundingBox:!1};class wo extends Li{static getDefaults(){return s(s({},super.getDefaults()),wo.ownDefaults)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),t(this,\"strokeDiff\",void 0),Object.assign(this,wo.ownDefaults),this.setOptions(s),this.points=e;const{left:i,top:r}=s;this.initialized=!0,this.setBoundingBox(!0),\"number\"==typeof i&&this.set(M,i),\"number\"==typeof r&&this.set(P,r)}isOpen(){return!0}_projectStrokeOnPoints(t){return Wi(this.points,t,this.isOpen())}_calcDimensions(t){t=s({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},t||{});const e=this.exactBoundingBox?this._projectStrokeOnPoints(t).map((t=>t.projectedPoint)):this.points;if(0===e.length)return{left:0,top:0,width:0,height:0,pathOffset:new ot,strokeOffset:new ot,strokeDiff:new ot};const i=he(e),r=Lt(s(s({},t),{},{scaleX:1,scaleY:1})),n=he(this.points.map((t=>St(t,r,!0)))),o=new ot(this.scaleX,this.scaleY);let a=i.left+i.width/2,h=i.top+i.height/2;return this.exactBoundingBox&&(a-=h*Math.tan(xt(this.skewX)),h-=a*Math.tan(xt(this.skewY))),s(s({},i),{},{pathOffset:new ot(a,h),strokeOffset:new ot(n.left,n.top).subtract(new ot(i.left,i.top)).multiply(o),strokeDiff:new ot(i.width,i.height).subtract(new ot(n.width,n.height)).multiply(o)})}_findCenterFromElement(){const t=he(this.points);return new ot(t.left+t.width/2,t.top+t.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(t){const{left:e,top:s,width:i,height:r,pathOffset:n,strokeOffset:o,strokeDiff:a}=this._calcDimensions();this.set({width:i,height:r,pathOffset:n,strokeOffset:o,strokeDiff:a}),t&&this.setPositionByOrigin(new ot(e+i/2,s+r/2),D,D)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new ot(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.exactBoundingBox){let n;if(Object.keys(t).some((t=>this.strokeUniform||this.constructor.layoutProperties.includes(t)))){var e,s;const{width:i,height:r}=this._calcDimensions(t);n=new ot(null!==(e=t.width)&&void 0!==e?e:i,null!==(s=t.height)&&void 0!==s?s:r)}else{var i,r;n=new ot(null!==(i=t.width)&&void 0!==i?i:this.width,null!==(r=t.height)&&void 0!==r?r:this.height)}return n.multiply(new ot(t.scaleX||this.scaleX,t.scaleY||this.scaleY))}return super._getTransformedDimensions(t)}_set(t,e){const s=this.initialized&&this[t]!==e,i=super._set(t,e);return this.exactBoundingBox&&s&&((t===H||t===N)&&this.strokeUniform&&this.constructor.layoutProperties.includes(\"strokeUniform\")||this.constructor.layoutProperties.includes(t))&&this.setDimensions(),i}toObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s(s({},super.toObject(t)),{},{points:this.points.map((t=>{let{x:e,y:s}=t;return{x:e,y:s}}))})}_toSVG(){const t=[],e=this.pathOffset.x,s=this.pathOffset.y,i=o.NUM_FRACTION_DIGITS;for(let r=0,n=this.points.length;r<n;r++)t.push(Vt(this.points[r].x-e,i),\",\",Vt(this.points[r].y-s,i),\" \");return[\"<\".concat(this.constructor.type.toLowerCase(),\" \"),\"COMMON_PARTS\",'points=\"'.concat(t.join(\"\"),'\" />\\n')]}_render(t){const e=this.points.length,s=this.pathOffset.x,i=this.pathOffset.y;if(e&&!isNaN(this.points[e-1].y)){t.beginPath(),t.moveTo(this.points[0].x-s,this.points[0].y-i);for(let r=0;r<e;r++){const e=this.points[r];t.lineTo(e.x-s,e.y-i)}!this.isOpen()&&t.closePath(),this._renderPaintInOrder(t)}}complexity(){return this.points.length}static async fromElement(t,e,r){return new this(Co(t.getAttribute(\"points\")),s(s({},i(Pr(t,this.ATTRIBUTE_NAMES,r),bo)),e))}static fromObject(t){return this._fromObject(t,{extraParam:\"points\"})}}t(wo,\"ownDefaults\",So),t(wo,\"type\",\"Polyline\"),t(wo,\"layoutProperties\",[U,q,\"strokeLineCap\",\"strokeLineJoin\",\"strokeMiterLimit\",\"strokeWidth\",\"strokeUniform\",\"points\"]),t(wo,\"cacheProperties\",[...Es,\"points\"]),t(wo,\"ATTRIBUTE_NAMES\",[...Zi]),tt.setClass(wo),tt.setSVGClass(wo);class To extends wo{isOpen(){return!1}}t(To,\"ownDefaults\",So),t(To,\"type\",\"Polygon\"),tt.setClass(To),tt.setSVGClass(To);class Oo extends Li{isEmptyStyles(t){if(!this.styles)return!0;if(void 0!==t&&!this.styles[t])return!0;const e=void 0===t?this.styles:{line:this.styles[t]};for(const t in e)for(const s in e[t])for(const i in e[t][s])return!1;return!0}styleHas(t,e){if(!this.styles)return!1;if(void 0!==e&&!this.styles[e])return!1;const s=void 0===e?this.styles:{0:this.styles[e]};for(const e in s)for(const i in s[e])if(void 0!==s[e][i][t])return!0;return!1}cleanStyle(t){if(!this.styles)return!1;const e=this.styles;let s,i,r=0,n=!0,o=0;for(const o in e){s=0;for(const a in e[o]){const h=e[o][a]||{};r++,void 0!==h[t]?(i?h[t]!==i&&(n=!1):i=h[t],h[t]===this[t]&&delete h[t]):n=!1,0!==Object.keys(h).length?s++:delete e[o][a]}0===s&&delete e[o]}for(let t=0;t<this._textLines.length;t++)o+=this._textLines[t].length;n&&r===o&&(this[t]=i,this.removeStyle(t))}removeStyle(t){if(!this.styles)return;const e=this.styles;let s,i,r;for(i in e){for(r in s=e[i],s)delete s[r][t],0===Object.keys(s[r]).length&&delete s[r];0===Object.keys(s).length&&delete e[i]}}_extendStyles(t,e){const{lineIndex:i,charIndex:r}=this.get2DCursorLocation(t);this._getLineStyle(i)||this._setLineStyle(i);const n=Wt(s(s({},this._getStyleDeclaration(i,r)),e),(t=>void 0!==t));this._setStyleDeclaration(i,r,n)}getSelectionStyles(t,e,s){const i=[];for(let r=t;r<(e||t);r++)i.push(this.getStyleAtPosition(r,s));return i}getStyleAtPosition(t,e){const{lineIndex:s,charIndex:i}=this.get2DCursorLocation(t);return e?this.getCompleteStyleDeclaration(s,i):this._getStyleDeclaration(s,i)}setSelectionStyles(t,e,s){for(let i=e;i<(s||e);i++)this._extendStyles(i,t);this._forceClearCache=!0}_getStyleDeclaration(t,e){var s;const i=this.styles&&this.styles[t];return i&&null!==(s=i[e])&&void 0!==s?s:{}}getCompleteStyleDeclaration(t,e){return s(s({},Yt(this,this.constructor._styleProperties)),this._getStyleDeclaration(t,e))}_setStyleDeclaration(t,e,s){this.styles[t][e]=s}_deleteStyleDeclaration(t,e){delete this.styles[t][e]}_getLineStyle(t){return!!this.styles[t]}_setLineStyle(t){this.styles[t]={}}_deleteLineStyle(t){delete this.styles[t]}}t(Oo,\"_styleProperties\",qe);const ko=/  +/g,Do=/\"/g;function Mo(t,e,s,i,r){return\"\\t\\t\".concat(function(t,e){let{left:s,top:i,width:r,height:n}=e,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.NUM_FRACTION_DIGITS;const h=Ye(K,t,!1),[c,l,u,d]=[s,i,r,n].map((t=>Vt(t,a)));return\"<rect \".concat(h,' x=\"').concat(c,'\" y=\"').concat(l,'\" width=\"').concat(u,'\" height=\"').concat(d,'\"></rect>')}(t,{left:e,top:s,width:i,height:r}),\"\\n\")}const Po=[\"textAnchor\",\"textDecoration\",\"dx\",\"dy\",\"top\",\"left\",\"fontSize\",\"strokeWidth\"];let Eo;class Ao extends Oo{static getDefaults(){return s(s({},super.getDefaults()),Ao.ownDefaults)}constructor(e,s){super(),t(this,\"__charBounds\",[]),Object.assign(this,Ao.ownDefaults),this.setOptions(s),this.styles||(this.styles={}),this.text=e,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const t=this.path;t&&(t.segmentsInfo=mn(t.path))}_splitText(){const t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(Je)&&this.enlargeSpaces()}enlargeSpaces(){let t,e,s,i,r,n,o;for(let a=0,h=this._textLines.length;a<h;a++)if((this.textAlign===Je||a!==h-1&&!this.isEndOfWrapping(a))&&(i=0,r=this._textLines[a],e=this.getLineWidth(a),e<this.width&&(o=this.textLines[a].match(this._reSpacesAndTabs)))){s=o.length,t=(this.width-e)/s;for(let e=0;e<=r.length;e++)n=this.__charBounds[a][e],this._reSpaceAndTab.test(r[e])?(n.width+=t,n.kernedWidth+=t,n.left+=i,i+=t):n.left+=i}}isEndOfWrapping(t){return t===this._textLines.length-1}missingNewlineOffset(t){return 1}get2DCursorLocation(t,e){const s=e?this._unwrappedTextLines:this._textLines;let i;for(i=0;i<s.length;i++){if(t<=s[i].length)return{lineIndex:i,charIndex:t};t-=s[i].length+this.missingNewlineOffset(i,e)}return{lineIndex:i-1,charIndex:s[i-1].length<t?s[i-1].length:t}}toString(){return\"#<Text (\".concat(this.complexity(),'): { \"text\": \"').concat(this.text,'\", \"fontFamily\": \"').concat(this.fontFamily,'\" }>')}_getCacheCanvasDimensions(){const t=super._getCacheCanvasDimensions(),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t}_render(t){const e=this.path;e&&!e.isNotVisible()&&e._render(t),this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,\"underline\"),this._renderText(t),this._renderTextDecoration(t,\"overline\"),this._renderTextDecoration(t,\"linethrough\")}_renderText(t){this.paintFirst===J?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))}_setTextStyles(t,e,s){if(t.textBaseline=\"alphabetic\",this.path)switch(this.pathAlign){case D:t.textBaseline=\"middle\";break;case\"ascender\":t.textBaseline=P;break;case\"descender\":t.textBaseline=E}t.font=this._getFontDeclaration(e,s)}calcTextWidth(){let t=this.getLineWidth(0);for(let e=1,s=this._textLines.length;e<s;e++){const s=this.getLineWidth(e);s>t&&(t=s)}return t}_renderTextLine(t,e,s,i,r,n){this._renderChars(t,e,s,i,r,n)}_renderTextLinesBackground(t){if(!this.textBackgroundColor&&!this.styleHas(\"textBackgroundColor\"))return;const e=t.fillStyle,s=this._getLeftOffset();let i=this._getTopOffset();for(let e=0,r=this._textLines.length;e<r;e++){const r=this.getHeightOfLine(e);if(!this.textBackgroundColor&&!this.styleHas(\"textBackgroundColor\",e)){i+=r;continue}const n=this._textLines[e].length,o=this._getLineLeftOffset(e);let a,h,c=0,l=0,u=this.getValueOfPropertyAt(e,0,\"textBackgroundColor\");const d=this.getHeightOfLineImpl(e);for(let r=0;r<n;r++){const n=this.__charBounds[e][r];h=this.getValueOfPropertyAt(e,r,\"textBackgroundColor\"),this.path?(t.save(),t.translate(n.renderLeft,n.renderTop),t.rotate(n.angle),t.fillStyle=h,h&&t.fillRect(-n.width/2,-d*(1-this._fontSizeFraction),n.width,d),t.restore()):h!==u?(a=s+o+l,\"rtl\"===this.direction&&(a=this.width-a-c),t.fillStyle=u,u&&t.fillRect(a,i,c,d),l=n.left,c=n.width,u=h):c+=n.kernedWidth}h&&!this.path&&(a=s+o+l,\"rtl\"===this.direction&&(a=this.width-a-c),t.fillStyle=h,t.fillRect(a,i,c,d)),i+=r}t.fillStyle=e,this._removeShadow(t)}_measureChar(t,e,s,i){const r=_.getFontCache(e),n=this._getFontDeclaration(e),o=s+t,a=s&&n===this._getFontDeclaration(i),h=e.fontSize/this.CACHE_FONT_SIZE;let c,l,u,d;if(s&&r.has(s)&&(u=r.get(s)),r.has(t)&&(d=c=r.get(t)),a&&r.has(o)&&(l=r.get(o),d=l-u),void 0===c||void 0===u||void 0===l){const i=function(){if(!Eo){const t=vt({width:0,height:0});Eo=t.getContext(\"2d\")}return Eo}();this._setTextStyles(i,e,!0),void 0===c&&(d=c=i.measureText(t).width,r.set(t,c)),void 0===u&&a&&s&&(u=i.measureText(s).width,r.set(s,u)),a&&void 0===l&&(l=i.measureText(o).width,r.set(o,l),d=l-u)}return{width:c*h,kernedWidth:d*h}}getHeightOfChar(t,e){return this.getValueOfPropertyAt(t,e,\"fontSize\")}measureLine(t){const e=this._measureLine(t);return 0!==this.charSpacing&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e}_measureLine(t){let e,s,i=0;const r=this.pathSide===A,n=this.path,o=this._textLines[t],a=o.length,h=new Array(a);this.__charBounds[t]=h;for(let r=0;r<a;r++){const n=o[r];s=this._getGraphemeBox(n,t,r,e),h[r]=s,i+=s.kernedWidth,e=n}if(h[a]={left:s?s.left+s.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},n&&n.segmentsInfo){let t=0;const e=n.segmentsInfo[n.segmentsInfo.length-1].length;switch(this.textAlign){case M:t=r?e-i:0;break;case D:t=(e-i)/2;break;case A:t=r?0:e-i}t+=this.pathStartOffset*(r?-1:1);for(let i=r?a-1:0;r?i>=0:i<a;r?i--:i++)s=h[i],t>e?t%=e:t<0&&(t+=e),this._setGraphemeOnPath(t,s),t+=s.kernedWidth}return{width:i,numOfSpaces:0}}_setGraphemeOnPath(t,e){const s=t+e.kernedWidth/2,i=this.path,r=vn(i.path,s,i.segmentsInfo);e.renderLeft=r.x-i.pathOffset.x,e.renderTop=r.y-i.pathOffset.y,e.angle=r.angle+(this.pathSide===A?Math.PI:0)}_getGraphemeBox(t,e,s,i,r){const n=this.getCompleteStyleDeclaration(e,s),o=i?this.getCompleteStyleDeclaration(e,s-1):{},a=this._measureChar(t,n,i,o);let h,c=a.kernedWidth,l=a.width;0!==this.charSpacing&&(h=this._getWidthOfCharSpacing(),l+=h,c+=h);const u={width:l,left:0,height:n.fontSize,kernedWidth:c,deltaY:n.deltaY};if(s>0&&!r){const t=this.__charBounds[e][s-1];u.left=t.left+t.width+a.kernedWidth-a.width}return u}getHeightOfLineImpl(t){const e=this.__lineHeights;if(e[t])return e[t];let s=this.getHeightOfChar(t,0);for(let e=1,i=this._textLines[t].length;e<i;e++)s=Math.max(this.getHeightOfChar(t,e),s);return e[t]=s*this._fontSizeMult}getHeightOfLine(t){return this.getHeightOfLineImpl(t)*this.lineHeight}calcTextHeight(){let t=0;for(let e=0,s=this._textLines.length;e<s;e++)t+=e===s-1?this.getHeightOfLineImpl(e):this.getHeightOfLine(e);return t}_getLeftOffset(){return\"ltr\"===this.direction?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(t,e){t.save();let s=0;const i=this._getLeftOffset(),r=this._getTopOffset();for(let n=0,o=this._textLines.length;n<o;n++)this._renderTextLine(e,t,this._textLines[n],i+this._getLineLeftOffset(n),r+s+this.getHeightOfLineImpl(n),n),s+=this.getHeightOfLine(n);t.restore()}_renderTextFill(t){(this.fill||this.styleHas(K))&&this._renderTextCommon(t,\"fillText\")}_renderTextStroke(t){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,\"strokeText\"),t.closePath(),t.restore())}_renderChars(t,e,s,i,r,n){const o=this.textAlign.includes(Je),a=this.path,h=!o&&0===this.charSpacing&&this.isEmptyStyles(n)&&!a,c=\"ltr\"===this.direction,l=\"ltr\"===this.direction?1:-1,u=e.direction;let d,g,f,p,m,v=\"\",y=0;if(e.save(),u!==this.direction&&(e.canvas.setAttribute(\"dir\",c?\"ltr\":\"rtl\"),e.direction=c?\"ltr\":\"rtl\",e.textAlign=c?M:A),r-=this.getHeightOfLineImpl(n)*this._fontSizeFraction,h)return this._renderChar(t,e,n,0,s.join(\"\"),i,r),void e.restore();for(let h=0,c=s.length-1;h<=c;h++)p=h===c||this.charSpacing||a,v+=s[h],f=this.__charBounds[n][h],0===y?(i+=l*(f.kernedWidth-f.width),y+=f.width):y+=f.kernedWidth,o&&!p&&this._reSpaceAndTab.test(s[h])&&(p=!0),p||(d=d||this.getCompleteStyleDeclaration(n,h),g=this.getCompleteStyleDeclaration(n,h+1),p=Ki(d,g,!1)),p&&(a?(e.save(),e.translate(f.renderLeft,f.renderTop),e.rotate(f.angle),this._renderChar(t,e,n,h,v,-y/2,0),e.restore()):(m=i,this._renderChar(t,e,n,h,v,m,r)),v=\"\",d=g,i+=l*y,y=0);e.restore()}_applyPatternGradientTransformText(t){const e=this.width+this.strokeWidth,s=this.height+this.strokeWidth,i=vt({width:e,height:s}),r=i.getContext(\"2d\");return i.width=e,i.height=s,r.beginPath(),r.moveTo(0,0),r.lineTo(e,0),r.lineTo(e,s),r.lineTo(0,s),r.closePath(),r.translate(e/2,s/2),r.fillStyle=t.toLive(r),this._applyPatternGradientTransform(r,t),r.fill(),r.createPattern(i,\"no-repeat\")}handleFiller(t,e,s){let i,r;return Gt(s)?\"percentage\"===s.gradientUnits||s.gradientTransform||s.patternTransform?(i=-this.width/2,r=-this.height/2,t.translate(i,r),t[e]=this._applyPatternGradientTransformText(s),{offsetX:i,offsetY:r}):(t[e]=s.toLive(t),this._applyPatternGradientTransform(t,s)):(t[e]=s,{offsetX:0,offsetY:0})}_setStrokeStyles(t,e){let{stroke:s,strokeWidth:i}=e;return t.lineWidth=i,t.lineCap=this.strokeLineCap,t.lineDashOffset=this.strokeDashOffset,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,this.handleFiller(t,\"strokeStyle\",s)}_setFillStyles(t,e){let{fill:s}=e;return this.handleFiller(t,\"fillStyle\",s)}_renderChar(t,e,s,i,r,n,o){const a=this._getStyleDeclaration(s,i),h=this.getCompleteStyleDeclaration(s,i),c=\"fillText\"===t&&h.fill,l=\"strokeText\"===t&&h.stroke&&h.strokeWidth;if(l||c){if(e.save(),e.font=this._getFontDeclaration(h),a.textBackgroundColor&&this._removeShadow(e),a.deltaY&&(o+=a.deltaY),c){const t=this._setFillStyles(e,h);e.fillText(r,n-t.offsetX,o-t.offsetY)}if(l){const t=this._setStrokeStyles(e,h);e.strokeText(r,n-t.offsetX,o-t.offsetY)}e.restore()}}setSuperscript(t,e){this._setScript(t,e,this.superscript)}setSubscript(t,e){this._setScript(t,e,this.subscript)}_setScript(t,e,s){const i=this.get2DCursorLocation(t,!0),r=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,\"fontSize\"),n=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,\"deltaY\"),o={fontSize:r*s.size,deltaY:n+r*s.baseline};this.setSelectionStyles(o,t,e)}_getLineLeftOffset(t){const e=this.getLineWidth(t),s=this.width-e,i=this.textAlign,r=this.direction,n=this.isEndOfWrapping(t);let o=0;return i===Je||i===$e&&!n||i===Ze&&!n||i===Qe&&!n?0:(i===D&&(o=s/2),i===A&&(o=s),i===$e&&(o=s/2),i===Ze&&(o=s),\"rtl\"===r&&(i===A||i===Je||i===Ze?o=0:i===M||i===Qe?o=-s:i!==D&&i!==$e||(o=-s/2)),o)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(t){if(void 0!==this.__lineWidths[t])return this.__lineWidths[t];const{width:e}=this.measureLine(t);return this.__lineWidths[t]=e,e}_getWidthOfCharSpacing(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(t,e,s){var i;return null!==(i=this._getStyleDeclaration(t,e)[s])&&void 0!==i?i:this[s]}_renderTextDecoration(t,e){if(!this[e]&&!this.styleHas(e))return;let s=this._getTopOffset();const i=this._getLeftOffset(),r=this.path,n=this._getWidthOfCharSpacing(),o=\"linethrough\"===e?.5:\"overline\"===e?1:0,a=this.offsets[e];for(let h=0,c=this._textLines.length;h<c;h++){const c=this.getHeightOfLine(h);if(!this[e]&&!this.styleHas(e,h)){s+=c;continue}const l=this._textLines[h],u=c/this.lineHeight,d=this._getLineLeftOffset(h);let g=0,f=0,p=this.getValueOfPropertyAt(h,0,e),m=this.getValueOfPropertyAt(h,0,K),v=this.getValueOfPropertyAt(h,0,ze),y=p,_=m,x=v;const C=s+u*(1-this._fontSizeFraction);let b=this.getHeightOfChar(h,0),S=this.getValueOfPropertyAt(h,0,\"deltaY\");for(let s=0,n=l.length;s<n;s++){const n=this.__charBounds[h][s];y=this.getValueOfPropertyAt(h,s,e),_=this.getValueOfPropertyAt(h,s,K),x=this.getValueOfPropertyAt(h,s,ze);const c=this.getHeightOfChar(h,s),l=this.getValueOfPropertyAt(h,s,\"deltaY\");if(r&&y&&_){const e=this.fontSize*x/1e3;t.save(),t.fillStyle=m,t.translate(n.renderLeft,n.renderTop),t.rotate(n.angle),t.fillRect(-n.kernedWidth/2,a*c+l-o*e,n.kernedWidth,e),t.restore()}else if((y!==p||_!==m||c!==b||x!==v||l!==S)&&f>0){const e=this.fontSize*v/1e3;let s=i+d+g;\"rtl\"===this.direction&&(s=this.width-s-f),p&&m&&v&&(t.fillStyle=m,t.fillRect(s,C+a*b+S-o*e,f,e)),g=n.left,f=n.width,p=y,v=x,m=_,b=c,S=l}else f+=n.kernedWidth}let w=i+d+g;\"rtl\"===this.direction&&(w=this.width-w-f),t.fillStyle=_;const T=this.fontSize*x/1e3;y&&_&&x&&t.fillRect(w,C+a*b+S-o*T,f-n,T),s+=c}this._removeShadow(t)}_getFontDeclaration(){let{fontFamily:t=this.fontFamily,fontStyle:e=this.fontStyle,fontWeight:s=this.fontWeight,fontSize:i=this.fontSize}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;const n=t.includes(\"'\")||t.includes('\"')||t.includes(\",\")||Ao.genericFonts.includes(t.toLowerCase())?t:'\"'.concat(t,'\"');return[e,s,\"\".concat(r?this.CACHE_FONT_SIZE:i,\"px\"),n].join(\" \")}render(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(t)))}graphemeSplit(t){return Hi(t)}_splitTextIntoLines(t){const e=t.split(this._reNewline),s=new Array(e.length),i=[\"\\n\"];let r=[];for(let t=0;t<e.length;t++)s[t]=this.graphemeSplit(e[t]),r=r.concat(s[t],i);return r.pop(),{_unwrappedLines:s,lines:e,graphemeText:r,graphemeLines:s}}toObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s(s({},super.toObject([...Ue,...t])),{},{styles:Ji(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(t,e){const{textLayoutProperties:s}=this.constructor;super.set(t,e);let i=!1,r=!1;if(\"object\"==typeof t)for(const e in t)\"path\"===e&&this.setPathInfo(),i=i||s.includes(e),r=r||\"path\"===e;else i=s.includes(t),r=\"path\"===t;return r&&this.setPathInfo(),i&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(t,e,r){const n=Pr(t,Ao.ATTRIBUTE_NAMES,r),o=s(s({},e),n),{textAnchor:a=M,textDecoration:h=\"\",dx:c=0,dy:l=0,top:u=0,left:d=0,fontSize:g=O,strokeWidth:f=1}=o,p=i(o,Po),m=new this(Pe(t.textContent||\"\").trim(),s({left:d+c,top:u+l,underline:h.includes(\"underline\"),overline:h.includes(\"overline\"),linethrough:h.includes(\"line-through\"),strokeWidth:0,fontSize:g},p)),v=m.getScaledHeight()/m.height,y=((m.height+m.strokeWidth)*m.lineHeight-m.height)*v,_=m.getScaledHeight()+y;let x=0;return a===D&&(x=m.getScaledWidth()/2),a===A&&(x=m.getScaledWidth()),m.set({left:m.left-x,top:m.top-(_-m.fontSize*(.07+m._fontSizeFraction))/m.lineHeight,strokeWidth:f}),m}static fromObject(t){return this._fromObject(s(s({},t),{},{styles:Qi(t.styles||{},t.text)}),{extraParam:\"text\"})}}t(Ao,\"textLayoutProperties\",Ne),t(Ao,\"cacheProperties\",[...Es,...Ue]),t(Ao,\"ownDefaults\",Ke),t(Ao,\"type\",\"Text\"),t(Ao,\"genericFonts\",[\"serif\",\"sans-serif\",\"monospace\",\"cursive\",\"fantasy\",\"system-ui\",\"ui-serif\",\"ui-sans-serif\",\"ui-monospace\",\"ui-rounded\",\"math\",\"emoji\",\"fangsong\"]),t(Ao,\"ATTRIBUTE_NAMES\",Zi.concat(\"x\",\"y\",\"dx\",\"dy\",\"font-family\",\"font-style\",\"font-weight\",\"font-size\",\"letter-spacing\",\"text-decoration\",\"text-anchor\")),Fi(Ao,[class extends We{_toSVG(){const t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)}toSVG(t){const e=this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0}),s=this.path;return s?e+s._createBaseSVGMarkup(s._toSVG(),{reviver:t,withShadow:!0,additionalTransform:zt(this.calcOwnMatrix())}):e}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(t){let{textBgRects:e,textSpans:s}=t;const i=this.getSvgTextDecoration(this);return[e.join(\"\"),'\\t\\t<text xml:space=\"preserve\" ','font-family=\"'.concat(this.fontFamily.replace(Do,\"'\"),'\" '),'font-size=\"'.concat(this.fontSize,'\" '),this.fontStyle?'font-style=\"'.concat(this.fontStyle,'\" '):\"\",this.fontWeight?'font-weight=\"'.concat(this.fontWeight,'\" '):\"\",i?'text-decoration=\"'.concat(i,'\" '):\"\",\"rtl\"===this.direction?'direction=\"'.concat(this.direction,'\" '):\"\",'style=\"',this.getSvgStyles(!0),'\"',this.addPaintOrder(),\" >\",s.join(\"\"),\"</text>\\n\"]}_getSVGTextAndBg(t,e){const s=[],i=[];let r,n=t;this.backgroundColor&&i.push(...Mo(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let t=0,o=this._textLines.length;t<o;t++)r=this._getLineLeftOffset(t),\"rtl\"===this.direction&&(r+=this.width),(this.textBackgroundColor||this.styleHas(\"textBackgroundColor\",t))&&this._setSVGTextLineBg(i,t,e+r,n),this._setSVGTextLineText(s,t,e+r,n),n+=this.getHeightOfLine(t);return{textSpans:s,textBgRects:i}}_createTextCharSpan(t,e,s,i,r){const n=o.NUM_FRACTION_DIGITS,a=this.getSvgSpanStyles(e,t!==t.trim()||!!t.match(ko)),h=a?'style=\"'.concat(a,'\"'):\"\",c=e.deltaY,l=c?' dy=\"'.concat(Vt(c,n),'\" '):\"\",{angle:u,renderLeft:d,renderTop:g,width:f}=r;let p=\"\";if(void 0!==d){const t=f/2;u&&(p=' rotate=\"'.concat(Vt(Ct(u),n),'\"'));const e=Pt({angle:Ct(u)});e[4]=d,e[5]=g;const r=new ot(-t,0).transform(e);s=r.x,i=r.y}return'<tspan x=\"'.concat(Vt(s,n),'\" y=\"').concat(Vt(i,n),'\" ').concat(l).concat(p).concat(h,\">\").concat(zi(t),\"</tspan>\")}_setSVGTextLineText(t,e,s,i){const r=this.getHeightOfLine(e),n=this.textAlign.includes(Je),o=this._textLines[e];let a,h,c,l,u,d=\"\",g=0;i+=r*(1-this._fontSizeFraction)/this.lineHeight;for(let r=0,f=o.length-1;r<=f;r++)u=r===f||this.charSpacing||this.path,d+=o[r],c=this.__charBounds[e][r],0===g?(s+=c.kernedWidth-c.width,g+=c.width):g+=c.kernedWidth,n&&!u&&this._reSpaceAndTab.test(o[r])&&(u=!0),u||(a=a||this.getCompleteStyleDeclaration(e,r),h=this.getCompleteStyleDeclaration(e,r+1),u=Ki(a,h,!0)),u&&(l=this._getStyleDeclaration(e,r),t.push(this._createTextCharSpan(d,l,s,i,c)),d=\"\",a=h,\"rtl\"===this.direction?s-=g:s+=g,g=0)}_setSVGTextLineBg(t,e,s,i){const r=this._textLines[e],n=this.getHeightOfLine(e)/this.lineHeight;let o,a=0,h=0,c=this.getValueOfPropertyAt(e,0,\"textBackgroundColor\");for(let l=0;l<r.length;l++){const{left:r,width:u,kernedWidth:d}=this.__charBounds[e][l];o=this.getValueOfPropertyAt(e,l,\"textBackgroundColor\"),o!==c?(c&&t.push(...Mo(c,s+h,i,a,n)),h=r,a=u,c=o):a+=d}o&&t.push(...Mo(c,s+h,i,a,n))}_getSVGLineTopOffset(t){let e,s=0;for(e=0;e<t;e++)s+=this.getHeightOfLine(e);const i=this.getHeightOfLine(e);return{lineTop:s,offset:(this._fontSizeMult-this._fontSizeFraction)*i/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(t){return\"\".concat(super.getSvgStyles(t),\" text-decoration-thickness: \").concat(Vt(this.textDecorationThickness*this.getObjectScaling().y/10,o.NUM_FRACTION_DIGITS),\"%; white-space: pre;\")}getSvgSpanStyles(t,e){const{fontFamily:s,strokeWidth:i,stroke:r,fill:n,fontSize:a,fontStyle:h,fontWeight:c,deltaY:l,textDecorationThickness:u,linethrough:d,overline:g,underline:f}=t,p=this.getSvgTextDecoration({underline:null!=f?f:this.underline,overline:null!=g?g:this.overline,linethrough:null!=d?d:this.linethrough}),m=u||this.textDecorationThickness;return[r?Ye(J,r):\"\",i?\"stroke-width: \".concat(i,\"; \"):\"\",s?\"font-family: \".concat(s.includes(\"'\")||s.includes('\"')?s:\"'\".concat(s,\"'\"),\"; \"):\"\",a?\"font-size: \".concat(a,\"px; \"):\"\",h?\"font-style: \".concat(h,\"; \"):\"\",c?\"font-weight: \".concat(c,\"; \"):\"\",p?\"text-decoration: \".concat(p,\"; text-decoration-thickness: \").concat(Vt(m*this.getObjectScaling().y/10,o.NUM_FRACTION_DIGITS),\"%; \"):\"\",n?Ye(K,n):\"\",l?\"baseline-shift: \".concat(-l,\"; \"):\"\",e?\"white-space: pre; \":\"\"].join(\"\")}getSvgTextDecoration(t){return[\"overline\",\"underline\",\"line-through\"].filter((e=>t[e.replace(\"-\",\"\")])).join(\" \")}}]),tt.setClass(Ao),tt.setSVGClass(Ao);class jo{constructor(e){t(this,\"target\",void 0),t(this,\"__mouseDownInPlace\",!1),t(this,\"__dragStartFired\",!1),t(this,\"__isDraggingOver\",!1),t(this,\"__dragStartSelection\",void 0),t(this,\"__dragImageDisposer\",void 0),t(this,\"_dispose\",void 0),this.target=e;const s=[this.target.on(\"dragenter\",this.dragEnterHandler.bind(this)),this.target.on(\"dragover\",this.dragOverHandler.bind(this)),this.target.on(\"dragleave\",this.dragLeaveHandler.bind(this)),this.target.on(\"dragend\",this.dragEndHandler.bind(this)),this.target.on(\"drop\",this.dropHandler.bind(this))];this._dispose=()=>{s.forEach((t=>t())),this._dispose=void 0}}isPointerOverSelection(t){const e=this.target,s=e.getSelectionStartFromPointer(t);return e.isEditing&&s>=e.selectionStart&&s<=e.selectionEnd&&e.selectionStart<e.selectionEnd}start(t){return this.__mouseDownInPlace=this.isPointerOverSelection(t)}isActive(){return this.__mouseDownInPlace}end(t){const e=this.isActive();return e&&!this.__dragStartFired&&(this.target.setCursorByClick(t),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,e}getDragStartSelection(){return this.__dragStartSelection}setDragImage(t,e){var s;let{selectionStart:i,selectionEnd:r}=e;const n=this.target,o=n.canvas,a=new ot(n.flipX?-1:1,n.flipY?-1:1),h=n._getCursorBoundaries(i),c=new ot(h.left+h.leftOffset,h.top+h.topOffset).multiply(a).transform(n.calcTransformMatrix()),l=o.getScenePoint(t).subtract(c),u=n.getCanvasRetinaScaling(),d=n.getBoundingRect(),g=c.subtract(new ot(d.left,d.top)),f=o.viewportTransform,p=g.add(l).transform(f,!0),m=n.backgroundColor,v=Vi(n.styles);n.backgroundColor=\"\";const y={stroke:\"transparent\",fill:\"transparent\",textBackgroundColor:\"transparent\"};n.setSelectionStyles(y,0,i),n.setSelectionStyles(y,r,n.text.length),n.dirty=!0;const _=n.toCanvasElement({enableRetinaScaling:o.enableRetinaScaling,viewportTransform:!0});n.backgroundColor=m,n.styles=v,n.dirty=!0,Tn(_,{position:\"fixed\",left:\"\".concat(-_.width,\"px\"),border:j,width:\"\".concat(_.width/u,\"px\"),height:\"\".concat(_.height/u,\"px\")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{_.remove()},Kt(t.target||this.target.hiddenTextarea).body.appendChild(_),null===(s=t.dataTransfer)||void 0===s||s.setDragImage(_,p.x,p.y)}onDragStart(t){this.__dragStartFired=!0;const e=this.target,i=this.isActive();if(i&&t.dataTransfer){const i=this.__dragStartSelection={selectionStart:e.selectionStart,selectionEnd:e.selectionEnd},r=e._text.slice(i.selectionStart,i.selectionEnd).join(\"\"),n=s({text:e.text,value:r},i);t.dataTransfer.setData(\"text/plain\",r),t.dataTransfer.setData(\"application/fabric\",JSON.stringify({value:r,styles:e.getSelectionStyles(i.selectionStart,i.selectionEnd,!0)})),t.dataTransfer.effectAllowed=\"copyMove\",this.setDragImage(t,n)}return e.abortCursorAnimation(),i}canDrop(t){if(this.target.editable&&!this.target.getActiveControl()&&!t.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const e=this.target.getSelectionStartFromPointer(t),s=this.__dragStartSelection;return e<s.selectionStart||e>s.selectionEnd}return!0}return!1}targetCanDrop(t){return this.target.canDrop(t)}dragEnterHandler(t){let{e:e}=t;const s=this.targetCanDrop(e);!this.__isDraggingOver&&s&&(this.__isDraggingOver=!0)}dragOverHandler(t){const{e:e}=t,s=this.targetCanDrop(e);!this.__isDraggingOver&&s?this.__isDraggingOver=!0:this.__isDraggingOver&&!s&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(e.preventDefault(),t.canDrop=!0,t.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(t){var e;const{e:s}=t,i=s.defaultPrevented;this.__isDraggingOver=!1,s.preventDefault();let r=null===(e=s.dataTransfer)||void 0===e?void 0:e.getData(\"text/plain\");if(r&&!i){const e=this.target,i=e.canvas;let n=e.getSelectionStartFromPointer(s);const{styles:o}=s.dataTransfer.types.includes(\"application/fabric\")?JSON.parse(s.dataTransfer.getData(\"application/fabric\")):{},a=r[Math.max(0,r.length-1)],h=0;if(this.__dragStartSelection){const t=this.__dragStartSelection.selectionStart,s=this.__dragStartSelection.selectionEnd;n>t&&n<=s?n=t:n>s&&(n-=s-t),e.removeChars(t,s),delete this.__dragStartSelection}e._reNewline.test(a)&&(e._reNewline.test(e._text[n])||n===e._text.length)&&(r=r.trimEnd()),t.didDrop=!0,t.dropTarget=e,e.insertChars(r,o,n),i.setActiveObject(e),e.enterEditing(s),e.selectionStart=Math.min(n+h,e._text.length),e.selectionEnd=Math.min(e.selectionStart+r.length,e._text.length),e.hiddenTextarea.value=e.text,e._updateTextarea(),e.hiddenTextarea.focus(),e.fire(z,{index:n+h,action:\"drop\"}),i.fire(\"text:changed\",{target:e}),i.contextTopDirty=!0,i.requestRenderAll()}}dragEndHandler(t){let{e:e}=t;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var s;const t=this.target,i=this.target.canvas,{selectionStart:r,selectionEnd:n}=this.__dragStartSelection,o=(null===(s=e.dataTransfer)||void 0===s?void 0:s.dropEffect)||j;o===j?(t.selectionStart=r,t.selectionEnd=n,t._updateTextarea(),t.hiddenTextarea.focus()):(t.clearContextTop(),\"move\"===o&&(t.removeChars(r,n),t.selectionStart=t.selectionEnd=r,t.hiddenTextarea&&(t.hiddenTextarea.value=t.text),t._updateTextarea(),t.fire(z,{index:r,action:\"dragend\"}),i.fire(\"text:changed\",{target:t}),i.requestRenderAll()),t.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const Fo=/[ \\n\\.,;!\\?\\-]/;class Lo extends Ao{constructor(){super(...arguments),t(this,\"_currentCursorOpacity\",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(t){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(t)}_animateCursor(t){let{toValue:e,duration:s,delay:i,onComplete:r}=t;return Ks({startValue:this._currentCursorOpacity,endValue:e,duration:s,delay:i,onComplete:r,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:t=>{this._currentCursorOpacity=t,this.renderCursorOrSelection()}})}_tick(t){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(t||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var t;null===(t=this._currentTickCompleteState)||void 0===t||t.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(t){this.abortCursorAnimation(),this._tick(t?0:this.cursorDelay)}abortCursorAnimation(){let t=!1;[this._currentTickState,this._currentTickCompleteState].forEach((e=>{e&&!e.isDone()&&(t=!0,e.abort())})),this._currentCursorOpacity=1,t&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some((t=>!t||t.isDone()))&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}cmdAll(){this.selectAll(),this.renderCursorOrSelection()}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join(\"\")}findWordBoundaryLeft(t){let e=0,s=t-1;if(this._reSpace.test(this._text[s]))for(;this._reSpace.test(this._text[s]);)e++,s--;for(;/\\S/.test(this._text[s])&&s>-1;)e++,s--;return t-e}findWordBoundaryRight(t){let e=0,s=t;if(this._reSpace.test(this._text[s]))for(;this._reSpace.test(this._text[s]);)e++,s++;for(;/\\S/.test(this._text[s])&&s<this._text.length;)e++,s++;return t+e}findLineBoundaryLeft(t){let e=0,s=t-1;for(;!/\\n/.test(this._text[s])&&s>-1;)e++,s--;return t-e}findLineBoundaryRight(t){let e=0,s=t;for(;!/\\n/.test(this._text[s])&&s<this._text.length;)e++,s++;return t+e}searchWordBoundary(t,e){const s=this._text;let i=t>0&&this._reSpace.test(s[t])&&(-1===e||!F.test(s[t-1]))?t-1:t,r=s[i];for(;i>0&&i<s.length&&!Fo.test(r);)i+=e,r=s[i];return-1===e&&Fo.test(r)&&i++,i}selectWord(t){var e;t=null!==(e=t)&&void 0!==e?e:this.selectionStart;const s=this.searchWordBoundary(t,-1),i=Math.max(s,this.searchWordBoundary(t,1));this.selectionStart=s,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(t){var e;t=null!==(e=t)&&void 0!==e?e:this.selectionStart;const s=this.findLineBoundaryLeft(t),i=this.findLineBoundaryRight(t);this.selectionStart=s,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea()}enterEditing(t){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire(\"editing:entered\",t?{e:t}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire(\"text:editing:entered\",{target:this,e:t}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(t){if(this.getActiveControl())return;const e=this.hiddenTextarea;Kt(e).activeElement!==e&&e.focus();const s=this.getSelectionStartFromPointer(t),i=this.selectionStart,r=this.selectionEnd;(s===this.__selectionStartOnMouseDown&&i!==r||i!==s&&r!==s)&&(s>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=s):(this.selectionStart=s,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===i&&this.selectionEnd===r||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor=\"text\",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor=\"text\"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(t,e,s){const i=s.slice(0,t),r=this.graphemeSplit(i).length;if(t===e)return{selectionStart:r,selectionEnd:r};const n=s.slice(t,e);return{selectionStart:r,selectionEnd:r+this.graphemeSplit(n).length}}fromGraphemeToStringSelection(t,e,s){const i=s.slice(0,t).join(\"\").length;if(t===e)return{selectionStart:i,selectionEnd:i};return{selectionStart:i,selectionEnd:i+s.slice(t,e).join(\"\").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const t=this.hiddenTextarea;this.text=t.value,this.set(\"dirty\",!0),this.initDimensions(),this.setCoords();const e=this.fromStringToGraphemeSelection(t.selectionStart,t.selectionEnd,t.value);this.selectionEnd=this.selectionStart=e.selectionEnd,this.inCompositionMode||(this.selectionStart=e.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}}_calcTextareaPosition(){if(!this.canvas)return{left:\"1px\",top:\"1px\"};const t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),s=this.get2DCursorLocation(t),i=s.lineIndex,r=s.charIndex,n=this.getValueOfPropertyAt(i,r,\"fontSize\")*this.lineHeight,o=e.leftOffset,a=this.getCanvasRetinaScaling(),h=this.canvas.upperCanvasEl,c=h.width/a,l=h.height/a,u=c-n,d=l-n,g=new ot(e.left+o,e.top+e.topOffset+n).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new ot(h.clientWidth/c,h.clientHeight/l));return g.x<0&&(g.x=0),g.x>u&&(g.x=u),g.y<0&&(g.y=0),g.y>d&&(g.y=d),g.x+=this.canvas._offset.left,g.y+=this.canvas._offset.top,{left:\"\".concat(g.x,\"px\"),top:\"\".concat(g.y,\"px\"),fontSize:\"\".concat(n,\"px\"),charHeight:n}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const t=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,t&&(t.blur&&t.blur(),t.parentNode&&t.parentNode.removeChild(t)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const t=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire(\"editing:exited\"),t&&this.fire(Q),this.canvas&&(this.canvas.fire(\"text:editing:exited\",{target:this}),t&&this.canvas.fire(\"object:modified\",{target:this})),this}_removeExtraneousStyles(){for(const t in this.styles)this._textLines[t]||delete this.styles[t]}removeStyleFromTo(t,e){const{lineIndex:s,charIndex:i}=this.get2DCursorLocation(t,!0),{lineIndex:r,charIndex:n}=this.get2DCursorLocation(e,!0);if(s!==r){if(this.styles[s])for(let t=i;t<this._unwrappedTextLines[s].length;t++)delete this.styles[s][t];if(this.styles[r])for(let t=n;t<this._unwrappedTextLines[r].length;t++){const e=this.styles[r][t];e&&(this.styles[s]||(this.styles[s]={}),this.styles[s][i+t-n]=e)}for(let t=s+1;t<=r;t++)delete this.styles[t];this.shiftLineStyles(r,s-r)}else if(this.styles[s]){const t=this.styles[s],e=n-i;for(let e=i;e<n;e++)delete t[e];for(const i in this.styles[s]){const s=parseInt(i,10);s>=n&&(t[s-e]=t[i],delete t[i])}}}shiftLineStyles(t,e){const s=Object.assign({},this.styles);for(const i in this.styles){const r=parseInt(i,10);r>t&&(this.styles[r+e]=s[r],s[r-e]||delete this.styles[r])}}insertNewlineStyleObject(t,e,i,r){const n={},o=this._unwrappedTextLines[t].length,a=o===e;let h=!1;i||(i=1),this.shiftLineStyles(t,i);const c=this.styles[t]?this.styles[t][0===e?e:e-1]:void 0;for(const s in this.styles[t]){const i=parseInt(s,10);i>=e&&(h=!0,n[i-e]=this.styles[t][s],a&&0===e||delete this.styles[t][s])}let l=!1;for(h&&!a&&(this.styles[t+i]=n,l=!0),(l||o>e)&&i--;i>0;)r&&r[i-1]?this.styles[t+i]={0:s({},r[i-1])}:c?this.styles[t+i]={0:s({},c)}:delete this.styles[t+i],i--;this._forceClearCache=!0}insertCharStyleObject(t,e,i,r){this.styles||(this.styles={});const n=this.styles[t],o=n?s({},n):{};i||(i=1);for(const t in o){const s=parseInt(t,10);s>=e&&(n[s+i]=o[s],o[s-i]||delete n[s])}if(this._forceClearCache=!0,r){for(;i--;)Object.keys(r[i]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][e+i]=s({},r[i]));return}if(!n)return;const a=n[e?e-1:1];for(;a&&i--;)this.styles[t][e+i]=s({},a)}insertNewStyleBlock(t,e,s){const i=this.get2DCursorLocation(e,!0),r=[0];let n,o=0;for(let e=0;e<t.length;e++)\"\\n\"===t[e]?(o++,r[o]=0):r[o]++;for(r[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,r[0],s),s=s&&s.slice(r[0]+1)),o&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+r[0],o),n=1;n<o;n++)r[n]>0?this.insertCharStyleObject(i.lineIndex+n,0,r[n],s):s&&this.styles[i.lineIndex+n]&&s[0]&&(this.styles[i.lineIndex+n][0]=s[0]),s=s&&s.slice(r[n]+1);r[n]>0&&this.insertCharStyleObject(i.lineIndex+n,0,r[n],s)}removeChars(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t+1;this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(\"\"),this.set(\"dirty\",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(t,e,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;i>s&&this.removeStyleFromTo(s,i);const r=this.graphemeSplit(t);this.insertNewStyleBlock(r,s,e),this._text=[...this._text.slice(0,s),...r,...this._text.slice(i)],this.text=this._text.join(\"\"),this.set(\"dirty\",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(t,e,s){s<=t?(e===t?this._selectionDirection=M:this._selectionDirection===A&&(this._selectionDirection=M,this.selectionEnd=t),this.selectionStart=s):s>t&&s<e?this._selectionDirection===A?this.selectionEnd=s:this.selectionStart=s:(e===t?this._selectionDirection=A:this._selectionDirection===M&&(this._selectionDirection=A,this.selectionStart=e),this.selectionEnd=s)}}class Ro extends Lo{initHiddenTextarea(){const t=this.canvas&&Kt(this.canvas.getElement())||m(),e=t.createElement(\"textarea\");Object.entries({autocapitalize:\"off\",autocorrect:\"off\",autocomplete:\"off\",spellcheck:\"false\",\"data-fabric\":\"textarea\",wrap:\"off\",name:\"fabricTextarea\"}).map((t=>{let[s,i]=t;return e.setAttribute(s,i)}));const{top:s,left:i,fontSize:r}=this._calcTextareaPosition();e.style.cssText=\"position: absolute; top: \".concat(s,\"; left: \").concat(i,\"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: \").concat(r,\";\"),(this.hiddenTextareaContainer||t.body).appendChild(e),Object.entries({blur:\"blur\",keydown:\"onKeyDown\",keyup:\"onKeyUp\",input:\"onInput\",copy:\"copy\",cut:\"copy\",paste:\"paste\",compositionstart:\"onCompositionStart\",compositionupdate:\"onCompositionUpdate\",compositionend:\"onCompositionEnd\"}).map((t=>{let[s,i]=t;return e.addEventListener(s,this[i].bind(this))})),this.hiddenTextarea=e}blur(){this.abortCursorAnimation()}onKeyDown(t){if(!this.isEditing)return;const e=\"rtl\"===this.direction?this.keysMapRtl:this.keysMap;if(t.keyCode in e)this[e[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(t){const e=this.fromPaste,{value:s,selectionStart:i,selectionEnd:r}=this.hiddenTextarea;if(this.fromPaste=!1,t&&t.stopPropagation(),!this.isEditing)return;const n=()=>{this.updateFromTextArea(),this.fire(z),this.canvas&&(this.canvas.fire(\"text:changed\",{target:this}),this.canvas.requestRenderAll())};if(\"\"===this.hiddenTextarea.value)return this.styles={},void n();const a=this._splitTextIntoLines(s).graphemeText,h=this._text.length,c=a.length,l=this.selectionStart,u=this.selectionEnd,d=l!==u;let g,f,m,v,y=c-h;const _=this.fromStringToGraphemeSelection(i,r,s),x=l>_.selectionStart;d?(f=this._text.slice(l,u),y+=u-l):c<h&&(f=x?this._text.slice(u+y,u):this._text.slice(l,l-y));const C=a.slice(_.selectionEnd-y,_.selectionEnd);if(f&&f.length&&(C.length&&(g=this.getSelectionStyles(l,l+1,!1),g=C.map((()=>g[0]))),d?(m=l,v=u):x?(m=u-f.length,v=u):(m=u,v=u+f.length),this.removeStyleFromTo(m,v)),C.length){const{copyPasteData:t}=p();e&&C.join(\"\")===t.copiedText&&!o.disableStyleCopyPaste&&(g=t.copiedTextStyle),this.insertNewStyleBlock(C,l,g)}n()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(t){let{target:e}=t;const{selectionStart:s,selectionEnd:i}=e;this.compositionStart=s,this.compositionEnd=i,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:t}=p();t.copiedText=this.getSelectedText(),o.disableStyleCopyPaste?t.copiedTextStyle=void 0:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(t,e){let s,i=this._getLineLeftOffset(t);return e>0&&(s=this.__charBounds[t][e-1],i+=s.left+s.width),i}getDownCursorOffset(t,e){const s=this._getSelectionForOffset(t,e),i=this.get2DCursorLocation(s),r=i.lineIndex;if(r===this._textLines.length-1||t.metaKey||34===t.keyCode)return this._text.length-s;const n=i.charIndex,o=this._getWidthBeforeCursor(r,n),a=this._getIndexOnLine(r+1,o);return this._textLines[r].slice(n).length+a+1+this.missingNewlineOffset(r)}_getSelectionForOffset(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart}getUpCursorOffset(t,e){const s=this._getSelectionForOffset(t,e),i=this.get2DCursorLocation(s),r=i.lineIndex;if(0===r||t.metaKey||33===t.keyCode)return-s;const n=i.charIndex,o=this._getWidthBeforeCursor(r,n),a=this._getIndexOnLine(r-1,o),h=this._textLines[r].slice(0,n),c=this.missingNewlineOffset(r-1);return-this._textLines[r-1].length+a-h.length+(1-c)}_getIndexOnLine(t,e){const s=this._textLines[t];let i,r,n=this._getLineLeftOffset(t),o=0;for(let a=0,h=s.length;a<h;a++)if(i=this.__charBounds[t][a].width,n+=i,n>e){r=!0;const t=n-i,s=n,h=Math.abs(t-e);o=Math.abs(s-e)<h?a:a-1;break}return r||(o=s.length-1),o}moveCursorDown(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown(\"Down\",t)}moveCursorUp(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown(\"Up\",t)}_moveCursorUpOrDown(t,e){const s=this[\"get\".concat(t,\"CursorOffset\")](e,this._selectionDirection===A);if(e.shiftKey?this.moveCursorWithShift(s):this.moveCursorWithoutShift(s),0!==s){const t=this.text.length;this.selectionStart=Ms(0,this.selectionStart,t),this.selectionEnd=Ms(0,this.selectionEnd,t),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(t){const e=this._selectionDirection===M?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),0!==t}moveCursorWithoutShift(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),0!==t}moveCursorLeft(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight(\"Left\",t)}_move(t,e,s){let i;if(t.altKey)i=this[\"findWordBoundary\".concat(s)](this[e]);else{if(!t.metaKey&&35!==t.keyCode&&36!==t.keyCode)return this[e]+=\"Left\"===s?-1:1,!0;i=this[\"findLineBoundary\".concat(s)](this[e])}return void 0!==i&&this[e]!==i&&(this[e]=i,!0)}_moveLeft(t,e){return this._move(t,e,\"Left\")}_moveRight(t,e){return this._move(t,e,\"Right\")}moveCursorLeftWithoutShift(t){let e=!0;return this._selectionDirection=M,this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(e=this._moveLeft(t,\"selectionStart\")),this.selectionEnd=this.selectionStart,e}moveCursorLeftWithShift(t){return this._selectionDirection===A&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,\"selectionEnd\"):0!==this.selectionStart?(this._selectionDirection=M,this._moveLeft(t,\"selectionStart\")):void 0}moveCursorRight(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight(\"Right\",t)}_moveCursorLeftOrRight(t,e){const s=\"moveCursor\".concat(t).concat(e.shiftKey?\"WithShift\":\"WithoutShift\");this._currentCursorOpacity=1,this[s](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(t){return this._selectionDirection===M&&this.selectionStart!==this.selectionEnd?this._moveRight(t,\"selectionStart\"):this.selectionEnd!==this._text.length?(this._selectionDirection=A,this._moveRight(t,\"selectionEnd\")):void 0}moveCursorRightWithoutShift(t){let e=!0;return this._selectionDirection=A,this.selectionStart===this.selectionEnd?(e=this._moveRight(t,\"selectionStart\"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e}}const Io=t=>!!t.button;class Bo extends Ro{constructor(){super(...arguments),t(this,\"draggableTextDelegate\",void 0)}initBehavior(){this.on(\"mousedown\",this._mouseDownHandler),this.on(\"mouseup\",this.mouseUpHandler),this.on(\"mousedblclick\",this.doubleClickHandler),this.on(\"mousetripleclick\",this.tripleClickHandler),this.draggableTextDelegate=new jo(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(t){return this.draggableTextDelegate.onDragStart(t)}canDrop(t){return this.draggableTextDelegate.canDrop(t)}doubleClickHandler(t){this.isEditing&&(this.selectWord(this.getSelectionStartFromPointer(t.e)),this.renderCursorOrSelection())}tripleClickHandler(t){this.isEditing&&(this.selectLine(this.getSelectionStartFromPointer(t.e)),this.renderCursorOrSelection())}_mouseDownHandler(t){let{e:e,alreadySelected:s}=t;this.canvas&&this.editable&&!Io(e)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(e)||(this.canvas.textEditingManager.register(this),s&&(this.inCompositionMode=!1,this.setCursorByClick(e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()),this.selected||(this.selected=s||this.isEditing)))}mouseUpHandler(t){let{e:e,transform:s}=t;const i=this.draggableTextDelegate.end(e);if(this.canvas){this.canvas.textEditingManager.unregister(this);const t=this.canvas._activeObject;if(t&&t!==this)return}!this.editable||this.group&&!this.group.interactive||s&&s.actionPerformed||Io(e)||i||this.selected&&!this.getActiveControl()&&(this.enterEditing(e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection())}setCursorByClick(t){const e=this.getSelectionStartFromPointer(t),s=this.selectionStart,i=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(s,i,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(t){const e=this.canvas.getScenePoint(t).transform(wt(this.calcTransformMatrix())).add(new ot(-this._getLeftOffset(),-this._getTopOffset()));let s=0,i=0,r=0;for(let t=0;t<this._textLines.length&&s<=e.y;t++)s+=this.getHeightOfLine(t),r=t,t>0&&(i+=this._textLines[t-1].length+this.missingNewlineOffset(t-1));let n=Math.abs(this._getLineLeftOffset(r));const o=this._textLines[r].length,a=this.__charBounds[r];for(let t=0;t<o;t++){const s=n+a[t].kernedWidth;if(e.x<=s){Math.abs(e.x-s)<=Math.abs(e.x-n)&&i++;break}n=s,i++}return Math.min(this.flipX?o-i:i,this._text.length)}}const Xo=\"moveCursorUp\",Yo=\"moveCursorDown\",Wo=\"moveCursorLeft\",Vo=\"moveCursorRight\",zo=\"exitEditing\",Go=(t,e)=>{const s=e.getRetinaScaling();t.setTransform(s,0,0,s,0,0);const i=e.viewportTransform;t.transform(i[0],i[1],i[2],i[3],i[4],i[5])},Ho=s({selectionStart:0,selectionEnd:0,selectionColor:\"rgba(17,119,255,0.3)\",isEditing:!1,editable:!0,editingBorderColor:\"rgba(102,153,255,0.25)\",cursorWidth:2,cursorColor:\"\",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:zo,27:zo,33:Xo,34:Yo,35:Vo,36:Wo,37:Wo,38:Xo,39:Vo,40:Yo},keysMapRtl:{9:zo,27:zo,33:Xo,34:Yo,35:Wo,36:Vo,37:Vo,38:Xo,39:Wo,40:Yo},ctrlKeysMapDown:{65:\"cmdAll\"},ctrlKeysMapUp:{67:\"copy\",88:\"cut\"}},{_selectionDirection:null,_reSpace:/\\s|\\r?\\n/,inCompositionMode:!1});class No extends Bo{static getDefaults(){return s(s({},super.getDefaults()),No.ownDefaults)}get type(){const t=super.type;return\"itext\"===t?\"i-text\":t}constructor(t,e){super(t,s(s({},No.ownDefaults),e)),this.initBehavior()}_set(t,e){return this.isEditing&&this._savedProps&&t in this._savedProps?(this._savedProps[t]=e,this):(\"canvas\"===t&&(this.canvas instanceof Xn&&this.canvas.textEditingManager.remove(this),e instanceof Xn&&e.textEditingManager.add(this)),super._set(t,e))}setSelectionStart(t){t=Math.max(t,0),this._updateAndFire(\"selectionStart\",t)}setSelectionEnd(t){t=Math.min(t,this.text.length),this._updateAndFire(\"selectionEnd\",t)}_updateAndFire(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()}_fireSelectionChanged(){this.fire(\"selection:changed\"),this.canvas&&this.canvas.fire(\"text:selection:changed\",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart||0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selectionEnd,s=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(t,e,s)}setSelectionStyles(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selectionStart||0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.selectionEnd;return super.setSelectionStyles(t,e,s)}get2DCursorLocation(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart,e=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(t,e)}render(t){super.render(t),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(t){const e=this.isEditing;this.isEditing=!1;const s=super.toCanvasElement(t);return this.isEditing=e,s}renderCursorOrSelection(){if(!this.isEditing||!this.canvas)return;const t=this.clearContextTop(!0);if(!t)return;const e=this._getCursorBoundaries(),s=this.findAncestorsWithClipPath(),i=s.length>0;let r,n=t;if(i){r=vt(t.canvas),n=r.getContext(\"2d\"),Go(n,this.canvas);const e=this.calcTransformMatrix();n.transform(e[0],e[1],e[2],e[3],e[4],e[5])}if(this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(n,e):this.renderCursor(n,e),i)for(const e of s){const s=e.clipPath,i=vt(t.canvas),r=i.getContext(\"2d\");if(Go(r,this.canvas),!s.absolutePositioned){const t=e.calcTransformMatrix();r.transform(t[0],t[1],t[2],t[3],t[4],t[5])}s.transform(r),s.drawObject(r,!0,{}),this.drawClipPathOnCache(n,s,i)}i&&(t.setTransform(1,0,0,1,0,0),t.drawImage(r,0,0)),this.canvas.contextTopDirty=!0,t.restore()}findAncestorsWithClipPath(){const t=[];let e=this;for(;e;)e.clipPath&&t.push(e),e=e.parent;return t}_getCursorBoundaries(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart,e=arguments.length>1?arguments[1]:void 0;const s=this._getLeftOffset(),i=this._getTopOffset(),r=this._getCursorBoundariesOffsets(t,e);return{left:s,top:i,leftOffset:r.left,topOffset:r.top}}_getCursorBoundariesOffsets(t,e){return e?this.__getCursorBoundariesOffsets(t):this.cursorOffsetCache&&\"top\"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(t)}__getCursorBoundariesOffsets(t){let e=0,s=0;const{charIndex:i,lineIndex:r}=this.get2DCursorLocation(t);for(let t=0;t<r;t++)e+=this.getHeightOfLine(t);const n=this._getLineLeftOffset(r),o=this.__charBounds[r][i];o&&(s=o.left),0!==this.charSpacing&&i===this._textLines[r].length&&(s-=this._getWidthOfCharSpacing());const a={top:e,left:n+(s>0?s:0)};return\"rtl\"===this.direction&&(this.textAlign===A||this.textAlign===Je||this.textAlign===Ze?a.left*=-1:this.textAlign===M||this.textAlign===Qe?a.left=n-(s>0?s:0):this.textAlign!==D&&this.textAlign!==$e||(a.left=n-(s>0?s:0))),a}renderCursorAt(t){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(t,!0),t)}renderCursor(t,e){this._renderCursor(t,e,this.selectionStart)}getCursorRenderingData(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getCursorBoundaries(t);const s=this.get2DCursorLocation(t),i=s.lineIndex,r=s.charIndex>0?s.charIndex-1:0,n=this.getValueOfPropertyAt(i,r,\"fontSize\"),o=this.getObjectScaling().x*this.canvas.getZoom(),a=this.cursorWidth/o,h=this.getValueOfPropertyAt(i,r,\"deltaY\"),c=e.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-n*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(i,r,\"fill\"),opacity:this._currentCursorOpacity,left:e.left+e.leftOffset-a/2,top:c+e.top+h,width:a,height:n}}_renderCursor(t,e,s){const{color:i,opacity:r,left:n,top:o,width:a,height:h}=this.getCursorRenderingData(s,e);t.fillStyle=i,t.globalAlpha=r,t.fillRect(n,o,a,h)}renderSelection(t,e){const s={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(t,s,e)}renderDragSourceEffect(){const t=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,t,this._getCursorBoundaries(t.selectionStart,!0))}renderDropTargetEffect(t){const e=this.getSelectionStartFromPointer(t);this.renderCursorAt(e)}_renderSelection(t,e,s){const i=e.selectionStart,r=e.selectionEnd,n=this.textAlign.includes(Je),o=this.get2DCursorLocation(i),a=this.get2DCursorLocation(r),h=o.lineIndex,c=a.lineIndex,l=o.charIndex<0?0:o.charIndex,u=a.charIndex<0?0:a.charIndex;for(let e=h;e<=c;e++){const i=this._getLineLeftOffset(e)||0;let r=this.getHeightOfLine(e),o=0,a=0,d=0;if(e===h&&(a=this.__charBounds[h][l].left),e>=h&&e<c)d=n&&!this.isEndOfWrapping(e)?this.width:this.getLineWidth(e)||5;else if(e===c)if(0===u)d=this.__charBounds[c][u].left;else{const t=this._getWidthOfCharSpacing();d=this.__charBounds[c][u-1].left+this.__charBounds[c][u-1].width-t}o=r,(this.lineHeight<1||e===c&&this.lineHeight>1)&&(r/=this.lineHeight);let g=s.left+i+a,f=r,p=0;const m=d-a;this.inCompositionMode?(t.fillStyle=this.compositionColor||\"black\",f=1,p=r):t.fillStyle=this.selectionColor,\"rtl\"===this.direction&&(this.textAlign===A||this.textAlign===Je||this.textAlign===Ze?g=this.width-g-m:this.textAlign===M||this.textAlign===Qe?g=s.left+i-d:this.textAlign!==D&&this.textAlign!==$e||(g=s.left+i-d)),t.fillRect(g,s.top+s.topOffset+p,m,f),s.topOffset+=o}}getCurrentCharFontSize(){const t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,\"fontSize\")}getCurrentCharColor(){const t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,K)}_getCurrentCharIndex(){const t=this.get2DCursorLocation(this.selectionStart,!0),e=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:e}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}t(No,\"ownDefaults\",Ho),t(No,\"type\",\"IText\"),tt.setClass(No),tt.setClass(No,\"i-text\");class Uo extends No{static getDefaults(){return s(s({},super.getDefaults()),Uo.ownDefaults)}constructor(t,e){super(t,s(s({},Uo.ownDefaults),e))}static createControls(){return{controls:Ai()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set(\"width\",this.dynamicMinWidth),this.textAlign.includes(Je)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(t){let e=0,s=0,i=0;const r={};for(let n=0;n<t.graphemeLines.length;n++)\"\\n\"===t.graphemeText[i]&&n>0?(s=0,i++,e++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[i])&&n>0&&(s++,i++),r[n]={line:e,offset:s},i+=t.graphemeLines[n].length,s+=t.graphemeLines[n].length;return r}styleHas(t,e){if(this._styleMap&&!this.isWrapping){const t=this._styleMap[e];t&&(e=t.line)}return super.styleHas(t,e)}isEmptyStyles(t){if(!this.styles)return!0;let e,s=0,i=t+1,r=!1;const n=this._styleMap[t],o=this._styleMap[t+1];n&&(t=n.line,s=n.offset),o&&(i=o.line,r=i===t,e=o.offset);const a=void 0===t?this.styles:{line:this.styles[t]};for(const t in a)for(const i in a[t]){const n=parseInt(i,10);if(n>=s&&(!r||n<e))for(const e in a[t][i])return!1}return!0}_getStyleDeclaration(t,e){if(this._styleMap&&!this.isWrapping){const s=this._styleMap[t];if(!s)return{};t=s.line,e=s.offset+e}return super._getStyleDeclaration(t,e)}_setStyleDeclaration(t,e,s){const i=this._styleMap[t];super._setStyleDeclaration(i.line,i.offset+e,s)}_deleteStyleDeclaration(t,e){const s=this._styleMap[t];super._deleteStyleDeclaration(s.line,s.offset+e)}_getLineStyle(t){const e=this._styleMap[t];return!!this.styles[e.line]}_setLineStyle(t){const e=this._styleMap[t];super._setLineStyle(e.line)}_wrapText(t,e){this.isWrapping=!0;const s=this.getGraphemeDataForRender(t),i=[];for(let t=0;t<s.wordsData.length;t++)i.push(...this._wrapLine(t,e,s));return this.isWrapping=!1,i}getGraphemeDataForRender(t){const e=this.splitByGrapheme,s=e?\"\":\" \";let i=0;return{wordsData:t.map(((t,r)=>{let n=0;const o=e?this.graphemeSplit(t):this.wordSplit(t);return 0===o.length?[{word:[],width:0}]:o.map((t=>{const o=e?[t]:this.graphemeSplit(t),a=this._measureWord(o,r,n);return i=Math.max(a,i),n+=o.length+s.length,{word:o,width:a}}))})),largestWordWidth:i}}_measureWord(t,e){let s,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=0;for(let n=0,o=t.length;n<o;n++){r+=this._getGraphemeBox(t[n],e,n+i,s,true).kernedWidth,s=t[n]}return r}wordSplit(t){return t.split(this._wordJoiners)}_wrapLine(t,e,s){let{largestWordWidth:i,wordsData:r}=s,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const o=this._getWidthOfCharSpacing(),a=this.splitByGrapheme,h=[],c=a?\"\":\" \";let l=0,u=[],d=0,g=0,f=!0;e-=n;const p=Math.max(e,i,this.dynamicMinWidth),m=r[t];let v;for(d=0,v=0;v<m.length;v++){const{word:e,width:s}=m[v];d+=e.length,l+=g+s-o,l>p&&!f?(h.push(u),u=[],l=s,f=!0):l+=o,f||a||u.push(c),u=u.concat(e),g=a?0:this._measureWord([c],t,d),d++,f=!1}return v&&h.push(u),i+n>this.dynamicMinWidth&&(this.dynamicMinWidth=i-o+n),h}isEndOfWrapping(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line}missingNewlineOffset(t,e){return this.splitByGrapheme&&!e?this.isEndOfWrapping(t)?1:0:1}_splitTextIntoLines(t){const e=super._splitTextIntoLines(t),s=this._wrapText(e.lines,this.width),i=new Array(s.length);for(let t=0;t<s.length;t++)i[t]=s[t].join(\"\");return e.lines=i,e.graphemeLines=s,e}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const t=new Map;for(const e in this._styleMap){const s=parseInt(e,10);if(this._textLines[s]){const s=this._styleMap[e].line;t.set(\"\".concat(s),!0)}}for(const e in this.styles)t.has(e)||delete this.styles[e]}toObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return super.toObject([\"minWidth\",\"splitByGrapheme\",...t])}}t(Uo,\"type\",\"Textbox\"),t(Uo,\"textLayoutProperties\",[...No.textLayoutProperties,\"width\"]),t(Uo,\"ownDefaults\",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \\t\\r]/,splitByGrapheme:!1}),tt.setClass(Uo);class qo extends Xr{shouldPerformLayout(t){return!!t.target.clipPath&&super.shouldPerformLayout(t)}shouldLayoutClipPath(){return!1}calcLayoutResult(t,e){const{target:s}=t,{clipPath:i,group:r}=s;if(!i||!this.shouldPerformLayout(t))return;const{width:n,height:o}=he(Br(s,i)),a=new ot(n,o);if(i.absolutePositioned){return{center:me(i.getRelativeCenterPoint(),void 0,r?r.calcTransformMatrix():void 0),size:a}}{const r=i.getRelativeCenterPoint().transform(s.calcOwnMatrix(),!0);if(this.shouldPerformLayout(t)){const{center:s=new ot,correction:i=new ot}=this.calcBoundingBox(e,t)||{};return{center:s.add(r),correction:i.subtract(r),size:a}}return{center:s.getRelativeCenterPoint().add(r),size:a}}}}t(qo,\"type\",\"clip-path\"),tt.setClass(qo);class Ko extends Xr{getInitialSize(t,e){let{target:s}=t,{size:i}=e;return new ot(s.width||i.x,s.height||i.y)}}t(Ko,\"type\",\"fixed\"),tt.setClass(Ko);class Jo extends Gr{subscribeTargets(t){const e=t.target;t.targets.reduce(((t,e)=>(e.parent&&t.add(e.parent),t)),new Set).forEach((t=>{t.layoutManager.subscribeTargets({target:t,targets:[e]})}))}unsubscribeTargets(t){const e=t.target,s=e.getObjects();t.targets.reduce(((t,e)=>(e.parent&&t.add(e.parent),t)),new Set).forEach((t=>{!s.some((e=>e.parent===t))&&t.layoutManager.unsubscribeTargets({target:t,targets:[e]})}))}}class Qo extends Ur{static getDefaults(){return s(s({},super.getDefaults()),Qo.ownDefaults)}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),Object.assign(this,Qo.ownDefaults),this.setOptions(e);const{left:s,top:i,layoutManager:r}=e;this.groupInit(t,{left:s,top:i,layoutManager:null!=r?r:new Jo})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];\"selection-order\"===this.multiSelectionStacking?this.add(...e):e.forEach((t=>{const e=this._objects.findIndex((e=>e.isInFrontOf(t))),s=-1===e?this.size():e;this.insertAt(s,t)}))}canEnterGroup(t){return this.getObjects().some((e=>e.isDescendantOf(t)||t.isDescendantOf(e)))?(a(\"error\",\"ActiveSelection: circular object trees are not supported, this call has no effect\"),!1):super.canEnterGroup(t)}enterGroup(t,e){t.parent&&t.parent===t.group?t.parent._exitGroup(t):t.group&&t.parent!==t.group&&t.group.remove(t),this._enterGroup(t,e)}exitGroup(t,e){this._exitGroup(t,e),t.parent&&t.parent._enterGroup(t,!0)}_onAfterObjectsChange(t,e){super._onAfterObjectsChange(t,e);const s=new Set;e.forEach((t=>{const{parent:e}=t;e&&s.add(e)})),t===Rr?s.forEach((t=>{t._onAfterObjectsChange(Lr,e)})):s.forEach((t=>{t._set(\"dirty\",!0)}))}onDeselect(){return this.removeAll(),!1}toString(){return\"#<ActiveSelection: (\".concat(this.complexity(),\")>\")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(t,e,i){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const r=s(s({hasControls:!1},i),{},{forActiveSelection:!0});for(let e=0;e<this._objects.length;e++)this._objects[e]._renderControls(t,r);super._renderControls(t,e),t.restore()}}t(Qo,\"type\",\"ActiveSelection\"),t(Qo,\"ownDefaults\",{multiSelectionStacking:\"canvas-stacking\"}),tt.setClass(Qo),tt.setClass(Qo,\"activeSelection\");class Zo{constructor(){t(this,\"resources\",{})}applyFilters(t,e,s,i,r){const n=r.getContext(\"2d\");if(!n)return;n.drawImage(e,0,0,s,i);const o={sourceWidth:s,sourceHeight:i,imageData:n.getImageData(0,0,s,i),originalEl:e,originalImageData:n.getImageData(0,0,s,i),canvasEl:r,ctx:n,filterBackend:this};t.forEach((t=>{t.applyTo(o)}));const{imageData:a}=o;return a.width===s&&a.height===i||(r.width=a.width,r.height=a.height),n.putImageData(a,0,0),o}}class $o{constructor(){let{tileSize:e=o.textureSize}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,\"aPosition\",new Float32Array([0,0,0,1,1,0,1,1])),t(this,\"resources\",{}),this.tileSize=e,this.setupGLContext(e,e),this.captureGPUInfo()}setupGLContext(t,e){this.dispose(),this.createWebGLCanvas(t,e)}createWebGLCanvas(t,e){const s=vt({width:t,height:e}),i=s.getContext(\"webgl\",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});i&&(i.clearColor(0,0,0,0),this.canvas=s,this.gl=i)}applyFilters(t,e,s,i,r,n){const o=this.gl,a=r.getContext(\"2d\");if(!o||!a)return;let h;n&&(h=this.getCachedTexture(n,e));const c={originalWidth:e.width||e.naturalWidth||0,originalHeight:e.height||e.naturalHeight||0,sourceWidth:s,sourceHeight:i,destinationWidth:s,destinationHeight:i,context:o,sourceTexture:this.createTexture(o,s,i,h?void 0:e),targetTexture:this.createTexture(o,s,i),originalTexture:h||this.createTexture(o,s,i,h?void 0:e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:r},l=o.createFramebuffer();return o.bindFramebuffer(o.FRAMEBUFFER,l),t.forEach((t=>{t&&t.applyTo(c)})),function(t){const e=t.targetCanvas,s=e.width,i=e.height,r=t.destinationWidth,n=t.destinationHeight;s===r&&i===n||(e.width=r,e.height=n)}(c),this.copyGLTo2D(o,c),o.bindTexture(o.TEXTURE_2D,null),o.deleteTexture(c.sourceTexture),o.deleteTexture(c.targetTexture),o.deleteFramebuffer(l),a.setTransform(1,0,0,1,0,0),c}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(t,e,s,i,r){const{NEAREST:n,TEXTURE_2D:o,RGBA:a,UNSIGNED_BYTE:h,CLAMP_TO_EDGE:c,TEXTURE_MAG_FILTER:l,TEXTURE_MIN_FILTER:u,TEXTURE_WRAP_S:d,TEXTURE_WRAP_T:g}=t,f=t.createTexture();return t.bindTexture(o,f),t.texParameteri(o,l,r||n),t.texParameteri(o,u,r||n),t.texParameteri(o,d,c),t.texParameteri(o,g,c),i?t.texImage2D(o,0,a,a,h,i):t.texImage2D(o,0,a,e,s,0,a,h,null),f}getCachedTexture(t,e,s){const{textureCache:i}=this;if(i[t])return i[t];{const r=this.createTexture(this.gl,e.width,e.height,e,s);return r&&(i[t]=r),r}}evictCachesForKey(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])}copyGLTo2D(t,e){const s=t.canvas,i=e.targetCanvas,r=i.getContext(\"2d\");if(!r)return;r.translate(0,i.height),r.scale(1,-1);const n=s.height-i.height;r.drawImage(s,0,n,i.width,i.height,0,0,i.width,i.height)}copyGLTo2DPutImageData(t,e){const s=e.targetCanvas.getContext(\"2d\"),i=e.destinationWidth,r=e.destinationHeight,n=i*r*4;if(!s)return;const o=new Uint8Array(this.imageBuffer,0,n),a=new Uint8ClampedArray(this.imageBuffer,0,n);t.readPixels(0,0,i,r,t.RGBA,t.UNSIGNED_BYTE,o);const h=new ImageData(a,i,r);s.putImageData(h,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const t=this.gl,e={renderer:\"\",vendor:\"\"};if(!t)return e;const s=t.getExtension(\"WEBGL_debug_renderer_info\");if(s){const i=t.getParameter(s.UNMASKED_RENDERER_WEBGL),r=t.getParameter(s.UNMASKED_VENDOR_WEBGL);i&&(e.renderer=i.toLowerCase()),r&&(e.vendor=r.toLowerCase())}return this.gpuInfo=e,e}}let ta;function ea(){const{WebGLProbe:t}=p();return t.queryWebGL(pt()),o.enableGLFiltering&&t.isSupported(o.textureSize)?new $o({tileSize:o.textureSize}):new Zo}function sa(){return!ta&&(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(ta=ea()),ta}function ia(t){ta=t}const ra=[\"filters\",\"resizeFilter\",\"src\",\"crossOrigin\",\"type\"],na=[\"cropX\",\"cropY\"];class oa extends Li{static getDefaults(){return s(s({},super.getDefaults()),oa.ownDefaults)}constructor(e,s){super(),t(this,\"_lastScaleX\",1),t(this,\"_lastScaleY\",1),t(this,\"_filterScalingX\",1),t(this,\"_filterScalingY\",1),this.filters=[],Object.assign(this,oa.ownDefaults),this.setOptions(s),this.cacheKey=\"texture\".concat(ft()),this.setElement(\"string\"==typeof e?(this.canvas&&Kt(this.canvas.getElement())||m()).getElementById(e):e,s)}getElement(){return this._element}setElement(t){var e;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture(\"\".concat(this.cacheKey,\"_filtered\")),this._element=t,this._originalElement=t,this._setWidthHeight(s),null===(e=t.classList)||void 0===e||e.add(oa.CSS_CANVAS),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(t){const e=sa(!1);e instanceof $o&&e.evictCachesForKey(t)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture(\"\".concat(this.cacheKey,\"_filtered\")),this._cacheContext=null,[\"_originalElement\",\"_element\",\"_filteredEl\",\"_cacheCanvas\"].forEach((t=>{const e=this[t];e&&p().dispose(e),this[t]=void 0}))}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const t=this.getElement();return t?{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}:{width:0,height:0}}_stroke(t){if(!this.stroke||0===this.strokeWidth)return;const e=this.width/2,s=this.height/2;t.beginPath(),t.moveTo(-e,-s),t.lineTo(e,-s),t.lineTo(e,s),t.lineTo(-e,s),t.lineTo(-e,-s),t.closePath()}toObject(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const e=[];return this.filters.forEach((t=>{t&&e.push(t.toObject())})),s(s({},super.toObject([...na,...t])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:e},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const t=[],e=this._element,s=-this.width/2,i=-this.height/2;let r=[],n=[],o=\"\",a=\"\";if(!e)return[];if(this.hasCrop()){const t=ft();r.push('<clipPath id=\"imageCrop_'+t+'\">\\n','\\t<rect x=\"'+s+'\" y=\"'+i+'\" width=\"'+this.width+'\" height=\"'+this.height+'\" />\\n',\"</clipPath>\\n\"),o=' clip-path=\"url(#imageCrop_'+t+')\" '}if(this.imageSmoothing||(a=' image-rendering=\"optimizeSpeed\"'),t.push(\"\\t<image \",\"COMMON_PARTS\",'xlink:href=\"'.concat(this.getSvgSrc(!0),'\" x=\"').concat(s-this.cropX,'\" y=\"').concat(i-this.cropY,'\" width=\"').concat(e.width||e.naturalWidth,'\" height=\"').concat(e.height||e.naturalHeight,'\"').concat(a).concat(o,\"></image>\\n\")),this.stroke||this.strokeDashArray){const t=this.fill;this.fill=null,n=['\\t<rect x=\"'.concat(s,'\" y=\"').concat(i,'\" width=\"').concat(this.width,'\" height=\"').concat(this.height,'\" style=\"').concat(this.getSvgStyles(),'\" />\\n')],this.fill=t}return r=this.paintFirst!==K?r.concat(n,t):r.concat(t,n),r}getSrc(t){const e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():this.srcFromAttribute?e.getAttribute(\"src\")||\"\":e.src:this.src||\"\"}getSvgSrc(t){return this.getSrc(t)}setSrc(t){let{crossOrigin:e,signal:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return It(t,{crossOrigin:e,signal:s}).then((t=>{void 0!==e&&this.set({crossOrigin:e}),this.setElement(t)}))}toString(){return'#<Image: { src: \"'.concat(this.getSrc(),'\" }>')}applyResizeFilters(){const t=this.resizeFilter,e=this.minimumScaleTrigger,s=this.getTotalObjectScaling(),i=s.x,r=s.y,n=this._filteredEl||this._originalElement;if(this.group&&this.set(\"dirty\",!0),!t||i>e&&r>e)return this._element=n,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=i,void(this._lastScaleY=r);const o=vt(n),{width:a,height:h}=n;this._element=o,this._lastScaleX=t.scaleX=i,this._lastScaleY=t.scaleY=r,sa().applyFilters([t],n,a,h,this._element),this._filterScalingX=o.width/this._originalElement.width,this._filterScalingY=o.height/this._originalElement.height}applyFilters(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.filters||[];if(t=t.filter((t=>t&&!t.isNeutralState())),this.set(\"dirty\",!0),this.removeTexture(\"\".concat(this.cacheKey,\"_filtered\")),0===t.length)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const e=this._originalElement,s=e.naturalWidth||e.width,i=e.naturalHeight||e.height;if(this._element===this._originalElement){const t=vt({width:s,height:i});this._element=t,this._filteredEl=t}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext(\"2d\").clearRect(0,0,s,i),this._lastScaleX=1,this._lastScaleY=1);sa().applyFilters(t,this._originalElement,s,i,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(t){t.imageSmoothingEnabled=this.imageSmoothing,!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)}drawCacheOnCanvas(t){t.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(t)}shouldCache(){return this.needsItsOwnCache()}_renderFill(t){const e=this._element;if(!e)return;const s=this._filterScalingX,i=this._filterScalingY,r=this.width,n=this.height,o=Math.max(this.cropX,0),a=Math.max(this.cropY,0),h=e.naturalWidth||e.width,c=e.naturalHeight||e.height,l=o*s,u=a*i,d=Math.min(r*s,h-l),g=Math.min(n*i,c-u),f=-r/2,p=-n/2,m=Math.min(r,h/s-o),v=Math.min(n,c/i-a);e&&t.drawImage(e,l,u,d,g,f,p,m,v)}_needsResize(){const t=this.getTotalObjectScaling();return t.x!==this._lastScaleX||t.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:t,height:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=this.getOriginalSize();this.width=t||s.width,this.height=e||s.height}parsePreserveAspectRatioAttribute(){const t=Xe(this.preserveAspectRatio||\"\"),e=this.width,s=this.height,i={width:e,height:s};let r,n=this._element.width,o=this._element.height,a=1,h=1,c=0,l=0,u=0,d=0;return!t||t.alignX===j&&t.alignY===j?(a=e/n,h=s/o):(\"meet\"===t.meetOrSlice&&(a=h=qr(this._element,i),r=(e-n*a)/2,\"Min\"===t.alignX&&(c=-r),\"Max\"===t.alignX&&(c=r),r=(s-o*h)/2,\"Min\"===t.alignY&&(l=-r),\"Max\"===t.alignY&&(l=r)),\"slice\"===t.meetOrSlice&&(a=h=Kr(this._element,i),r=n-e/a,\"Mid\"===t.alignX&&(u=r/2),\"Max\"===t.alignX&&(u=r),r=o-s/h,\"Mid\"===t.alignY&&(d=r/2),\"Max\"===t.alignY&&(d=r),n=e/a,o=s/h)),{width:n,height:o,scaleX:a,scaleY:h,offsetLeft:c,offsetTop:l,cropX:u,cropY:d}}static fromObject(t,e){let{filters:r,resizeFilter:n,src:o,crossOrigin:a,type:h}=t,c=i(t,ra);return Promise.all([It(o,s(s({},e),{},{crossOrigin:a})),r&&Bt(r,e),n&&Bt([n],e),Xt(c,e)]).then((t=>{let[e,i=[],[r]=[],n={}]=t;return new this(e,s(s({},c),{},{src:o,filters:i,resizeFilter:r},n))}))}static fromURL(t){let{crossOrigin:e=null,signal:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return It(t,{crossOrigin:e,signal:s}).then((t=>new this(t,i)))}static async fromElement(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;const i=Pr(t,this.ATTRIBUTE_NAMES,s);return this.fromURL(i[\"xlink:href\"]||i.href,e,i).catch((t=>(a(\"log\",\"Unable to parse Image\",t),null)))}}function aa(t){if(!us.test(t.nodeName))return{};const e=t.getAttribute(\"viewBox\");let s,i,r=1,n=1,o=0,a=0;const h=t.getAttribute(\"width\"),c=t.getAttribute(\"height\"),l=t.getAttribute(\"x\")||0,u=t.getAttribute(\"y\")||0,d=!(e&&gs.test(e)),g=!h||!c||\"100%\"===h||\"100%\"===c;let f=\"\",p=0,m=0;if(d&&(l||u)&&t.parentNode&&\"#document\"!==t.parentNode.nodeName&&(f=\" translate(\"+Be(l||\"0\")+\" \"+Be(u||\"0\")+\") \",s=(t.getAttribute(\"transform\")||\"\")+f,t.setAttribute(\"transform\",s),t.removeAttribute(\"x\"),t.removeAttribute(\"y\")),d&&g)return{width:0,height:0};const v={width:0,height:0};if(d)return v.width=Be(h),v.height=Be(c),v;const y=e.match(gs);o=-parseFloat(y[1]),a=-parseFloat(y[2]);const _=parseFloat(y[3]),x=parseFloat(y[4]);v.minX=o,v.minY=a,v.viewBoxWidth=_,v.viewBoxHeight=x,g?(v.width=_,v.height=x):(v.width=Be(h),v.height=Be(c),r=v.width/_,n=v.height/x);const C=Xe(t.getAttribute(\"preserveAspectRatio\")||\"\");if(C.alignX!==j&&(\"meet\"===C.meetOrSlice&&(n=r=r>n?n:r),\"slice\"===C.meetOrSlice&&(n=r=r>n?r:n),p=v.width-_*r,m=v.height-x*r,\"Mid\"===C.alignX&&(p/=2),\"Mid\"===C.alignY&&(m/=2),\"Min\"===C.alignX&&(p=0),\"Min\"===C.alignY&&(m=0)),1===r&&1===n&&0===o&&0===a&&0===l&&0===u)return v;if((l||u)&&\"#document\"!==t.parentNode.nodeName&&(f=\" translate(\"+Be(l||\"0\")+\" \"+Be(u||\"0\")+\") \"),s=f+\" matrix(\"+r+\" 0 0 \"+n+\" \"+(o*r+p)+\" \"+(a*n+m)+\") \",\"svg\"===t.nodeName){for(i=t.ownerDocument.createElementNS(ns,\"g\");t.firstChild;)i.appendChild(t.firstChild);t.appendChild(i)}else i=t,i.removeAttribute(\"x\"),i.removeAttribute(\"y\"),s=i.getAttribute(\"transform\")+s;return i.setAttribute(\"transform\",s),v}t(oa,\"type\",\"Image\"),t(oa,\"cacheProperties\",[...Es,...na]),t(oa,\"ownDefaults\",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),t(oa,\"CSS_CANVAS\",\"canvas-img\"),t(oa,\"ATTRIBUTE_NAMES\",[...Zi,\"x\",\"y\",\"width\",\"height\",\"preserveAspectRatio\",\"xlink:href\",\"href\",\"crossOrigin\",\"image-rendering\"]),tt.setClass(oa),tt.setSVGClass(oa);const ha=t=>t.tagName.replace(\"svg:\",\"\"),ca=Ve([\"pattern\",\"defs\",\"symbol\",\"metadata\",\"clipPath\",\"mask\",\"desc\"]);function la(t,e){let s,i,r,n,o=[];for(r=0,n=e.length;r<n;r++)s=e[r],i=t.getElementsByTagNameNS(\"http://www.w3.org/2000/svg\",s),o=o.concat(Array.from(i));return o}const ua=[\"gradientTransform\",\"x1\",\"x2\",\"y1\",\"y2\",\"gradientUnits\",\"cx\",\"cy\",\"r\",\"fx\",\"fy\"],da=\"xlink:href\";function ga(t,e){var s;const i=(null===(s=e.getAttribute(da))||void 0===s?void 0:s.slice(1))||\"\",r=t.getElementById(i);if(r&&r.getAttribute(da)&&ga(t,r),r&&(ua.forEach((t=>{const s=r.getAttribute(t);!e.hasAttribute(t)&&s&&e.setAttribute(t,s)})),!e.children.length)){const t=r.cloneNode(!0);for(;t.firstChild;)e.appendChild(t.firstChild)}e.removeAttribute(da)}const fa=[\"linearGradient\",\"radialGradient\",\"svg:linearGradient\",\"svg:radialGradient\"];function pa(t){const e=t.getElementsByTagName(\"style\"),i={};for(let t=0;t<e.length;t++){const r=(e[t].textContent||\"\").replace(/\\/\\*[\\s\\S]*?\\*\\//g,\"\");\"\"!==r.trim()&&r.split(\"}\").filter(((t,e,s)=>s.length>1&&t.trim())).forEach((t=>{if((t.match(/{/g)||[]).length>1&&t.trim().startsWith(\"@\"))return;const e=t.split(\"{\"),r={},n=e[1].trim().split(\";\").filter((function(t){return t.trim()}));for(let t=0;t<n.length;t++){const e=n[t].split(\":\"),s=e[0].trim(),i=e[1].trim();r[s]=i}(t=e[0].trim()).split(\",\").forEach((t=>{\"\"!==(t=t.replace(/^svg/i,\"\").trim())&&(i[t]=s(s({},i[t]||{}),r))}))}))}return i}const ma=t=>tt.getSVGClass(ha(t).toLowerCase());class va{constructor(t,e,s,i,r){this.elements=t,this.options=e,this.reviver=s,this.regexUrl=/^url\\(['\"]?#([^'\"]+)['\"]?\\)/g,this.doc=i,this.clipPaths=r,this.gradientDefs=function(t){const e=la(t,fa),s={};let i=e.length;for(;i--;){const r=e[i];r.getAttribute(\"xlink:href\")&&ga(t,r);const n=r.getAttribute(\"id\");n&&(s[n]=r)}return s}(i),this.cssRules=pa(i)}parse(){return Promise.all(this.elements.map((t=>this.createObject(t))))}async createObject(t){const e=ma(t);if(e){const s=await e.fromElement(t,this.options,this.cssRules);return this.resolveGradient(s,t,K),this.resolveGradient(s,t,J),s instanceof oa&&s._originalElement?Dn(s,s.parsePreserveAspectRatioAttribute()):Dn(s),await this.resolveClipPath(s,t),this.reviver&&this.reviver(t,s),s}return null}extractPropertyDefinition(t,e,s){const i=t[e],r=this.regexUrl;if(!r.test(i))return;r.lastIndex=0;const n=r.exec(i)[1];return r.lastIndex=0,s[n]}resolveGradient(t,e,i){const r=this.extractPropertyDefinition(t,i,this.gradientDefs);if(r){const n=e.getAttribute(i+\"-opacity\"),o=$n.fromElement(r,t,s(s({},this.options),{},{opacity:n}));t.set(i,o)}}async resolveClipPath(t,e,s){const i=this.extractPropertyDefinition(t,\"clipPath\",this.clipPaths);if(i){const r=wt(t.calcTransformMatrix()),n=i[0].parentElement;let o=e;for(;!s&&o.parentElement&&o.getAttribute(\"clip-path\")!==t.clipPath;)o=o.parentElement;o.parentElement.appendChild(n);const a=wr(\"\".concat(o.getAttribute(\"transform\")||\"\",\" \").concat(n.getAttribute(\"originalTransform\")||\"\"));n.setAttribute(\"transform\",\"matrix(\".concat(a.join(\",\"),\")\"));const h=await Promise.all(i.map((t=>ma(t).fromElement(t,this.options,this.cssRules).then((t=>(Dn(t),t.fillRule=t.clipRule,delete t.clipRule,t)))))),c=1===h.length?h[0]:new Ur(h),l=Tt(r,c.calcTransformMatrix());c.clipPath&&await this.resolveClipPath(c,o,n.getAttribute(\"clip-path\")?o:void 0);const{scaleX:u,scaleY:d,angle:g,skewX:f,translateX:p,translateY:m}=Dt(l);c.set({flipX:!1,flipY:!1}),c.set({scaleX:u,scaleY:d,angle:g,skewX:f,skewY:0}),c.setPositionByOrigin(new ot(p,m),D,D),t.clipPath=c}else delete t.clipPath}}const ya=t=>ls.test(ha(t)),_a=()=>({objects:[],elements:[],options:{},allElements:[]});async function xa(t,e){let{crossOrigin:i,signal:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r&&r.aborted)return a(\"log\",new c(\"parseSVGDocument\")),_a();const n=t.documentElement;!function(t){const e=la(t,[\"use\",\"svg:use\"]),s=[\"x\",\"y\",\"xlink:href\",\"href\",\"transform\"];for(const i of e){const e=i.attributes,r={};for(const t of e)t.value&&(r[t.name]=t.value);const n=(r[\"xlink:href\"]||r.href||\"\").slice(1);if(\"\"===n)return;const o=t.getElementById(n);if(null===o)return;let a=o.cloneNode(!0);const h=a.attributes,c={};for(const t of h)t.value&&(c[t.name]=t.value);const{x:l=0,y:u=0,transform:d=\"\"}=r,g=\"\".concat(d,\" \").concat(c.transform||\"\",\" translate(\").concat(l,\", \").concat(u,\")\");if(aa(a),/^svg$/i.test(a.nodeName)){const t=a.ownerDocument.createElementNS(ns,\"g\");Object.entries(c).forEach((e=>{let[s,i]=e;return t.setAttributeNS(ns,s,i)})),t.append(...a.childNodes),a=t}for(const t of e){if(!t)continue;const{name:e,value:i}=t;if(!s.includes(e))if(\"style\"===e){const t={};kr(i,t),Object.entries(c).forEach((e=>{let[s,i]=e;t[s]=i})),kr(c.style||\"\",t);const s=Object.entries(t).map((t=>t.join(\":\"))).join(\";\");a.setAttribute(e,s)}else!c[e]&&a.setAttribute(e,i)}a.setAttribute(\"transform\",g),a.setAttribute(\"instantiated_by_use\",\"1\"),a.removeAttribute(\"id\"),i.parentNode.replaceChild(a,i)}}(t);const o=Array.from(n.getElementsByTagName(\"*\")),h=s(s({},aa(n)),{},{crossOrigin:i,signal:r}),l=o.filter((t=>(aa(t),ya(t)&&!function(t){let e=t;for(;e&&(e=e.parentElement);)if(e&&e.nodeName&&ca.test(ha(e))&&!e.getAttribute(\"instantiated_by_use\"))return!0;return!1}(t))));if(!l||l&&!l.length)return s(s({},_a()),{},{options:h,allElements:o});const u={};o.filter((t=>\"clipPath\"===ha(t))).forEach((t=>{t.setAttribute(\"originalTransform\",t.getAttribute(\"transform\")||\"\");const e=t.getAttribute(\"id\");u[e]=Array.from(t.getElementsByTagName(\"*\")).filter((t=>ya(t)))}));const d=new va(l,h,e,t,u);return{objects:await d.parse(),elements:l,options:h,allElements:o}}function Ca(t,e,s){return xa((new(v().DOMParser)).parseFromString(t.trim(),\"text/xml\"),e,s)}function ba(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(((e,i)=>{kn(t.replace(/^\\n\\s*/,\"\").trim(),{onComplete:t=>{const s=t.responseXML;s&&e(s),i()},signal:s.signal})})).then((t=>xa(t,e,s))).catch((()=>_a()))}const Sa=W,wa=t=>function(e,s,i){const{points:r,pathOffset:n}=i;return new ot(r[t]).subtract(n).transform(Tt(i.getViewportTransform(),i.calcTransformMatrix()))},Ta=(t,e,s,i)=>{const{target:r,pointIndex:n}=e,o=r,a=me(new ot(s,i),void 0,o.calcOwnMatrix());return o.points[n]=a.add(o.pathOffset),o.setDimensions(),o.set(\"dirty\",!0),!0},Oa=(t,e)=>function(i,r,n,o){const a=r.target,h=new ot(a.points[(t>0?t:a.points.length)-1]),c=h.subtract(a.pathOffset).transform(a.calcOwnMatrix()),l=e(i,s(s({},r),{},{pointIndex:t}),n,o),u=h.subtract(a.pathOffset).transform(a.calcOwnMatrix()).subtract(c);return a.left-=u.x,a.top-=u.y,l},ka=t=>si(Sa,Oa(t,Ta));const Da=(t,e,s)=>{const{path:i,pathOffset:r}=t,n=i[e];return new ot(n[s]-r.x,n[s+1]-r.y).transform(Tt(t.getViewportTransform(),t.calcTransformMatrix()))};function Ma(t,e,s){const{commandIndex:i,pointIndex:r}=this;return Da(s,i,r)}function Pa(t,e,i,r){const{target:n}=e,{commandIndex:o,pointIndex:a}=this,h=((t,e,s,i,r)=>{const{path:n,pathOffset:o}=t,a=n[(i>0?i:n.length)-1],h=new ot(a[r],a[r+1]),c=h.subtract(o).transform(t.calcOwnMatrix()),l=me(new ot(e,s),void 0,t.calcOwnMatrix());n[i][r]=l.x+o.x,n[i][r+1]=l.y+o.y,t.setDimensions();const u=h.subtract(t.pathOffset).transform(t.calcOwnMatrix()).subtract(c);return t.left-=u.x,t.top-=u.y,t.set(\"dirty\",!0),!0})(n,i,r,o,a);return _e(this.actionName,s(s({},Oe(t,e,i,r)),{},{commandIndex:o,pointIndex:a})),h}class Ea extends ai{constructor(t){super(t)}render(t,e,i,r,n){const o=s(s({},r),{},{cornerColor:this.controlFill,cornerStrokeColor:this.controlStroke,transparentCorners:!this.controlFill});super.render(t,e,i,o,n)}}class Aa extends Ea{constructor(t){super(t)}render(t,e,s,i,r){const{path:n}=r,{commandIndex:o,pointIndex:a,connectToCommandIndex:h,connectToPointIndex:c}=this;t.save(),t.strokeStyle=this.controlStroke,this.connectionDashArray&&t.setLineDash(this.connectionDashArray);const[l]=n[o],u=Da(r,h,c);if(\"Q\"===l){const i=Da(r,o,a+2);t.moveTo(i.x,i.y),t.lineTo(e,s)}else t.moveTo(e,s);t.lineTo(u.x,u.y),t.stroke(),t.restore(),super.render(t,e,s,i,r)}}const ja=(t,e,i,r,n,o)=>new(i?Aa:Ea)(s(s({commandIndex:t,pointIndex:e,actionName:\"modifyPath\",positionHandler:Ma,actionHandler:Pa,connectToCommandIndex:n,connectToPointIndex:o},r),i?r.controlPointStyle:r.pointStyle));var Fa=Object.freeze({__proto__:null,changeWidth:ri,createObjectDefaultControls:Pi,createPathControls:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s={};let i=\"M\";return t.path.forEach(((t,r)=>{const n=t[0];switch(\"Z\"!==n&&(s[\"c_\".concat(r,\"_\").concat(n)]=ja(r,t.length-2,!1,e)),n){case\"C\":s[\"c_\".concat(r,\"_C_CP_1\")]=ja(r,1,!0,e,r-1,(t=>\"C\"===t?5:\"Q\"===t?3:1)(i)),s[\"c_\".concat(r,\"_C_CP_2\")]=ja(r,3,!0,e,r,5);break;case\"Q\":s[\"c_\".concat(r,\"_Q_CP_1\")]=ja(r,1,!0,e,r,3)}i=n})),s},createPolyActionHandler:ka,createPolyControls:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i={};for(let r=0;r<(\"number\"==typeof t?t:t.points.length);r++)i[\"p\".concat(r)]=new ai(s({actionName:Sa,positionHandler:wa(r),actionHandler:ka(r)},e));return i},createPolyPositionHandler:wa,createResizeControls:Ei,createTextboxDefaultControls:Ai,dragHandler:Me,factoryPolyActionHandler:Oa,getLocalPoint:De,polyActionHandler:Ta,renderCircleControl:ni,renderSquareControl:oi,rotationStyleHandler:hi,rotationWithSnapping:ci,scaleCursorStyleHandler:gi,scaleOrSkewActionName:Oi,scaleSkewCursorStyleHandler:ki,scalingEqually:pi,scalingX:mi,scalingXOrSkewingY:Di,scalingY:vi,scalingYOrSkewingX:Mi,skewCursorStyleHandler:Ci,skewHandlerX:Si,skewHandlerY:wi,wrapWithFireEvent:si,wrapWithFixedAnchor:ii});const La=t=>void 0!==t.webgl,Ra=(t,e)=>{const s=vt({width:t,height:e}),i=pt().getContext(\"webgl\"),r={imageBuffer:new ArrayBuffer(t*e*4)},n={destinationWidth:t,destinationHeight:e,targetCanvas:s};let o;o=v().performance.now(),$o.prototype.copyGLTo2D.call(r,i,n);const a=v().performance.now()-o;o=v().performance.now(),$o.prototype.copyGLTo2DPutImageData.call(r,i,n);return a>v().performance.now()-o},Ia=\"precision highp float\",Ba=\"\\n    \".concat(Ia,\";\\n    varying vec2 vTexCoord;\\n    uniform sampler2D uTexture;\\n    void main() {\\n      gl_FragColor = texture2D(uTexture, vTexCoord);\\n    }\"),Xa=[\"type\"],Ya=[\"type\"],Wa=new RegExp(Ia,\"g\");class Va{get type(){return this.constructor.type}constructor(){let t=i(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Xa);Object.assign(this,this.constructor.defaults,t)}getFragmentSource(){return Ba}getVertexSource(){return\"\\n    attribute vec2 aPosition;\\n    varying vec2 vTexCoord;\\n    void main() {\\n      vTexCoord = aPosition;\\n      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\\n    }\"}createProgram(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getFragmentSource(),s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:i=\"highp\"}}=p();\"highp\"!==i&&(e=e.replace(Wa,Ia.replace(\"highp\",i)));const r=t.createShader(t.VERTEX_SHADER),n=t.createShader(t.FRAGMENT_SHADER),o=t.createProgram();if(!r||!n||!o)throw new h(\"Vertex, fragment shader or program creation error\");if(t.shaderSource(r,s),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new h(\"Vertex shader compile error for \".concat(this.type,\": \").concat(t.getShaderInfoLog(r)));if(t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new h(\"Fragment shader compile error for \".concat(this.type,\": \").concat(t.getShaderInfoLog(n)));if(t.attachShader(o,r),t.attachShader(o,n),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw new h('Shader link error for \"'.concat(this.type,'\" ').concat(t.getProgramInfoLog(o)));const a=this.getUniformLocations(t,o)||{};return a.uStepW=t.getUniformLocation(o,\"uStepW\"),a.uStepH=t.getUniformLocation(o,\"uStepH\"),{program:o,attributeLocations:this.getAttributeLocations(t,o),uniformLocations:a}}getAttributeLocations(t,e){return{aPosition:t.getAttribLocation(e,\"aPosition\")}}getUniformLocations(t,e){const s=this.constructor.uniformLocations,i={};for(let r=0;r<s.length;r++)i[s[r]]=t.getUniformLocation(e,s[r]);return i}sendAttributeData(t,e,s){const i=e.aPosition,r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,s,t.STATIC_DRAW)}_setupFrameBuffer(t){const e=t.context;if(t.passes>1){const s=t.destinationWidth,i=t.destinationHeight;t.sourceWidth===s&&t.sourceHeight===i||(e.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(e,s,i)),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.targetTexture,0)}else e.bindFramebuffer(e.FRAMEBUFFER,null),e.finish()}_swapTextures(t){t.passes--,t.pass++;const e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e}isNeutralState(t){return!1}applyTo(t){La(t)?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){}getCacheKey(){return this.type}retrieveShader(t){const e=this.getCacheKey();return t.programCache[e]||(t.programCache[e]=this.createProgram(t.context)),t.programCache[e]}applyToWebGL(t){const e=t.context,s=this.retrieveShader(t);0===t.pass&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(s.program),this.sendAttributeData(e,s.attributeLocations,t.aPosition),e.uniform1f(s.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(s.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,s.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(t,e,s){t.activeTexture(s),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)}unbindAdditionalTexture(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)}sendUniformData(t,e){}createHelpLayer(t){if(!t.helpLayer){const{sourceWidth:e,sourceHeight:s}=t,i=vt({width:e,height:s});t.helpLayer=i}}toObject(){const t=Object.keys(this.constructor.defaults||{});return s({type:this.type},t.reduce(((t,e)=>(t[e]=this[e],t)),{}))}toJSON(){return this.toObject()}static async fromObject(t,e){return new this(i(t,Ya))}}t(Va,\"type\",\"BaseFilter\"),t(Va,\"uniformLocations\",[]);const za={multiply:\"gl_FragColor.rgb *= uColor.rgb;\\n\",screen:\"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\\n\",add:\"gl_FragColor.rgb += uColor.rgb;\\n\",difference:\"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\\n\",subtract:\"gl_FragColor.rgb -= uColor.rgb;\\n\",lighten:\"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\\n\",darken:\"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\\n\",exclusion:\"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\\n\",overlay:\"\\n    if (uColor.r < 0.5) {\\n      gl_FragColor.r *= 2.0 * uColor.r;\\n    } else {\\n      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\\n    }\\n    if (uColor.g < 0.5) {\\n      gl_FragColor.g *= 2.0 * uColor.g;\\n    } else {\\n      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\\n    }\\n    if (uColor.b < 0.5) {\\n      gl_FragColor.b *= 2.0 * uColor.b;\\n    } else {\\n      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\\n    }\\n    \",tint:\"\\n    gl_FragColor.rgb *= (1.0 - uColor.a);\\n    gl_FragColor.rgb += uColor.rgb;\\n    \"};class Ga extends Va{getCacheKey(){return\"\".concat(this.type,\"_\").concat(this.mode)}getFragmentSource(){return\"\\n      precision highp float;\\n      uniform sampler2D uTexture;\\n      uniform vec4 uColor;\\n      varying vec2 vTexCoord;\\n      void main() {\\n        vec4 color = texture2D(uTexture, vTexCoord);\\n        gl_FragColor = color;\\n        if (color.a > 0.0) {\\n          \".concat(za[this.mode],\"\\n        }\\n      }\\n      \")}applyTo2d(t){let{imageData:{data:e}}=t;const s=new Ie(this.color).getSource(),i=this.alpha,r=s[0]*i,n=s[1]*i,o=s[2]*i,a=1-i;for(let t=0;t<e.length;t+=4){const s=e[t],i=e[t+1],h=e[t+2];let c,l,u;switch(this.mode){case\"multiply\":c=s*r/255,l=i*n/255,u=h*o/255;break;case\"screen\":c=255-(255-s)*(255-r)/255,l=255-(255-i)*(255-n)/255,u=255-(255-h)*(255-o)/255;break;case\"add\":c=s+r,l=i+n,u=h+o;break;case\"difference\":c=Math.abs(s-r),l=Math.abs(i-n),u=Math.abs(h-o);break;case\"subtract\":c=s-r,l=i-n,u=h-o;break;case\"darken\":c=Math.min(s,r),l=Math.min(i,n),u=Math.min(h,o);break;case\"lighten\":c=Math.max(s,r),l=Math.max(i,n),u=Math.max(h,o);break;case\"overlay\":c=r<128?2*s*r/255:255-2*(255-s)*(255-r)/255,l=n<128?2*i*n/255:255-2*(255-i)*(255-n)/255,u=o<128?2*h*o/255:255-2*(255-h)*(255-o)/255;break;case\"exclusion\":c=r+s-2*r*s/255,l=n+i-2*n*i/255,u=o+h-2*o*h/255;break;case\"tint\":c=r+s*a,l=n+i*a,u=o+h*a}e[t]=c,e[t+1]=l,e[t+2]=u}}sendUniformData(t,e){const s=new Ie(this.color).getSource();s[0]=this.alpha*s[0]/255,s[1]=this.alpha*s[1]/255,s[2]=this.alpha*s[2]/255,s[3]=this.alpha,t.uniform4fv(e.uColor,s)}}t(Ga,\"defaults\",{color:\"#F95C63\",mode:\"multiply\",alpha:1}),t(Ga,\"type\",\"BlendColor\"),t(Ga,\"uniformLocations\",[\"uColor\"]),tt.setClass(Ga);const Ha={multiply:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform sampler2D uImage;\\n    uniform vec4 uColor;\\n    varying vec2 vTexCoord;\\n    varying vec2 vTexCoord2;\\n    void main() {\\n      vec4 color = texture2D(uTexture, vTexCoord);\\n      vec4 color2 = texture2D(uImage, vTexCoord2);\\n      color.rgba *= color2.rgba;\\n      gl_FragColor = color;\\n    }\\n    \",mask:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform sampler2D uImage;\\n    uniform vec4 uColor;\\n    varying vec2 vTexCoord;\\n    varying vec2 vTexCoord2;\\n    void main() {\\n      vec4 color = texture2D(uTexture, vTexCoord);\\n      vec4 color2 = texture2D(uImage, vTexCoord2);\\n      color.a = color2.a;\\n      gl_FragColor = color;\\n    }\\n    \"},Na=[\"type\",\"image\"];class Ua extends Va{getCacheKey(){return\"\".concat(this.type,\"_\").concat(this.mode)}getFragmentSource(){return Ha[this.mode]}getVertexSource(){return\"\\n    attribute vec2 aPosition;\\n    varying vec2 vTexCoord;\\n    varying vec2 vTexCoord2;\\n    uniform mat3 uTransformMatrix;\\n    void main() {\\n      vTexCoord = aPosition;\\n      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\\n      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\\n    }\\n    \"}applyToWebGL(t){const e=t.context,s=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,s,e.TEXTURE1),super.applyToWebGL(t),this.unbindAdditionalTexture(e,e.TEXTURE1)}createTexture(t,e){return t.getCachedTexture(e.cacheKey,e.getElement())}calculateMatrix(){const t=this.image,{width:e,height:s}=t.getElement();return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/s,1]}applyTo2d(t){let{imageData:{data:e,width:s,height:i},filterBackend:{resources:r}}=t;const n=this.image;r.blendImage||(r.blendImage=pt());const o=r.blendImage,a=o.getContext(\"2d\");o.width!==s||o.height!==i?(o.width=s,o.height=i):a.clearRect(0,0,s,i),a.setTransform(n.scaleX,0,0,n.scaleY,n.left,n.top),a.drawImage(n.getElement(),0,0,s,i);const h=a.getImageData(0,0,s,i).data;for(let t=0;t<e.length;t+=4){const s=e[t],i=e[t+1],r=e[t+2],n=e[t+3],o=h[t],a=h[t+1],c=h[t+2],l=h[t+3];switch(this.mode){case\"multiply\":e[t]=s*o/255,e[t+1]=i*a/255,e[t+2]=r*c/255,e[t+3]=n*l/255;break;case\"mask\":e[t+3]=l}}}sendUniformData(t,e){const s=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,s)}toObject(){return s(s({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(t,e){let{type:r,image:n}=t,o=i(t,Na);return oa.fromObject(n,e).then((t=>new this(s(s({},o),{},{image:t}))))}}t(Ua,\"type\",\"BlendImage\"),t(Ua,\"defaults\",{mode:\"multiply\",alpha:1}),t(Ua,\"uniformLocations\",[\"uTransformMatrix\",\"uImage\"]),tt.setClass(Ua);class qa extends Va{getFragmentSource(){return\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform vec2 uDelta;\\n    varying vec2 vTexCoord;\\n    const float nSamples = 15.0;\\n    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);\\n    float random(vec3 scale) {\\n      /* use the fragment position for a different seed per-pixel */\\n      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\\n    }\\n    void main() {\\n      vec4 color = vec4(0.0);\\n      float totalC = 0.0;\\n      float totalA = 0.0;\\n      float offset = random(v3offset);\\n      for (float t = -nSamples; t <= nSamples; t++) {\\n        float percent = (t + offset - 0.5) / nSamples;\\n        vec4 sample = texture2D(uTexture, vTexCoord + uDelta * percent);\\n        float weight = 1.0 - abs(percent);\\n        float alpha = weight * sample.a;\\n        color.rgb += sample.rgb * alpha;\\n        color.a += alpha;\\n        totalA += weight;\\n        totalC += alpha;\\n      }\\n      gl_FragColor.rgb = color.rgb / totalC;\\n      gl_FragColor.a = color.a / totalA;\\n    }\\n  \"}applyTo(t){La(t)?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){let{imageData:{data:e,width:s,height:i}}=t;this.aspectRatio=s/i,this.horizontal=!0;let r=this.getBlurValue()*s;const n=new Uint8ClampedArray(e),o=15,a=4*s;for(let t=0;t<e.length;t+=4){let s=0,i=0,h=0,c=0,l=0;const u=t-t%a,d=u+a;for(let n=-14;n<o;n++){const a=n/o,g=4*Math.floor(r*a),f=1-Math.abs(a);let p=t+g;p<u?p=u:p>d&&(p=d);const m=e[p+3]*f;s+=e[p]*m,i+=e[p+1]*m,h+=e[p+2]*m,c+=m,l+=f}n[t]=s/c,n[t+1]=i/c,n[t+2]=h/c,n[t+3]=c/l}this.horizontal=!1,r=this.getBlurValue()*i;for(let t=0;t<n.length;t+=4){let s=0,i=0,h=0,c=0,l=0;const u=t%a,d=n.length-a+u;for(let e=-14;e<o;e++){const g=e/o,f=Math.floor(r*g)*a,p=1-Math.abs(g);let m=t+f;m<u?m=u:m>d&&(m=d);const v=n[m+3]*p;s+=n[m]*v,i+=n[m+1]*v,h+=n[m+2]*v,c+=v,l+=p}e[t]=s/c,e[t+1]=i/c,e[t+2]=h/c,e[t+3]=c/l}}sendUniformData(t,e){const s=this.chooseRightDelta();t.uniform2fv(e.uDelta,s)}isNeutralState(){return 0===this.blur}getBlurValue(){let t=1;const{horizontal:e,aspectRatio:s}=this;return e?s>1&&(t=1/s):s<1&&(t=s),t*this.blur*.12}chooseRightDelta(){const t=this.getBlurValue();return this.horizontal?[t,0]:[0,t]}}t(qa,\"type\",\"Blur\"),t(qa,\"defaults\",{blur:0}),t(qa,\"uniformLocations\",[\"uDelta\"]),tt.setClass(qa);class Ka extends Va{getFragmentSource(){return\"\\n  precision highp float;\\n  uniform sampler2D uTexture;\\n  uniform float uBrightness;\\n  varying vec2 vTexCoord;\\n  void main() {\\n    vec4 color = texture2D(uTexture, vTexCoord);\\n    color.rgb += uBrightness;\\n    gl_FragColor = color;\\n  }\\n\"}applyTo2d(t){let{imageData:{data:e}}=t;const s=Math.round(255*this.brightness);for(let t=0;t<e.length;t+=4)e[t]+=s,e[t+1]+=s,e[t+2]+=s}isNeutralState(){return 0===this.brightness}sendUniformData(t,e){t.uniform1f(e.uBrightness,this.brightness)}}t(Ka,\"type\",\"Brightness\"),t(Ka,\"defaults\",{brightness:0}),t(Ka,\"uniformLocations\",[\"uBrightness\"]),tt.setClass(Ka);const Ja={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class Qa extends Va{getFragmentSource(){return\"\\n  precision highp float;\\n  uniform sampler2D uTexture;\\n  varying vec2 vTexCoord;\\n  uniform mat4 uColorMatrix;\\n  uniform vec4 uConstants;\\n  void main() {\\n    vec4 color = texture2D(uTexture, vTexCoord);\\n    color *= uColorMatrix;\\n    color += uConstants;\\n    gl_FragColor = color;\\n  }\"}applyTo2d(t){const e=t.imageData.data,s=this.matrix,i=this.colorsOnly;for(let t=0;t<e.length;t+=4){const r=e[t],n=e[t+1],o=e[t+2];if(e[t]=r*s[0]+n*s[1]+o*s[2]+255*s[4],e[t+1]=r*s[5]+n*s[6]+o*s[7]+255*s[9],e[t+2]=r*s[10]+n*s[11]+o*s[12]+255*s[14],!i){const i=e[t+3];e[t]+=i*s[3],e[t+1]+=i*s[8],e[t+2]+=i*s[13],e[t+3]=r*s[15]+n*s[16]+o*s[17]+i*s[18]+255*s[19]}}}sendUniformData(t,e){const s=this.matrix,i=[s[0],s[1],s[2],s[3],s[5],s[6],s[7],s[8],s[10],s[11],s[12],s[13],s[15],s[16],s[17],s[18]],r=[s[4],s[9],s[14],s[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,i),t.uniform4fv(e.uConstants,r)}toObject(){return s(s({},super.toObject()),{},{matrix:[...this.matrix]})}}function Za(e,s){var i;const r=(t(i=class extends Qa{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},\"type\",e),t(i,\"defaults\",{colorsOnly:!1,matrix:s}),i);return tt.setClass(r,e),r}t(Qa,\"type\",\"ColorMatrix\"),t(Qa,\"defaults\",Ja),t(Qa,\"uniformLocations\",[\"uColorMatrix\",\"uConstants\"]),tt.setClass(Qa);const $a=Za(\"Brownie\",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]),th=Za(\"Vintage\",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]),eh=Za(\"Kodachrome\",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]),sh=Za(\"Technicolor\",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]),ih=Za(\"Polaroid\",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]),rh=Za(\"Sepia\",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]),nh=Za(\"BlackWhite\",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class oh extends Va{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(t),this.subFilters=t.subFilters||[]}applyTo(t){La(t)&&(t.passes+=this.subFilters.length-1),this.subFilters.forEach((e=>{e.applyTo(t)}))}toObject(){return{type:this.type,subFilters:this.subFilters.map((t=>t.toObject()))}}isNeutralState(){return!this.subFilters.some((t=>!t.isNeutralState()))}static fromObject(t,e){return Promise.all((t.subFilters||[]).map((t=>tt.getClass(t.type).fromObject(t,e)))).then((t=>new this({subFilters:t})))}}t(oh,\"type\",\"Composed\"),tt.setClass(oh);class ah extends Va{getFragmentSource(){return\"\\n  precision highp float;\\n  uniform sampler2D uTexture;\\n  uniform float uContrast;\\n  varying vec2 vTexCoord;\\n  void main() {\\n    vec4 color = texture2D(uTexture, vTexCoord);\\n    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\\n    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;\\n    gl_FragColor = color;\\n  }\"}isNeutralState(){return 0===this.contrast}applyTo2d(t){let{imageData:{data:e}}=t;const s=Math.floor(255*this.contrast),i=259*(s+255)/(255*(259-s));for(let t=0;t<e.length;t+=4)e[t]=i*(e[t]-128)+128,e[t+1]=i*(e[t+1]-128)+128,e[t+2]=i*(e[t+2]-128)+128}sendUniformData(t,e){t.uniform1f(e.uContrast,this.contrast)}}t(ah,\"type\",\"Contrast\"),t(ah,\"defaults\",{contrast:0}),t(ah,\"uniformLocations\",[\"uContrast\"]),tt.setClass(ah);const hh={Convolute_3_1:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform float uMatrix[9];\\n    uniform float uStepW;\\n    uniform float uStepH;\\n    varying vec2 vTexCoord;\\n    void main() {\\n      vec4 color = vec4(0, 0, 0, 0);\\n      for (float h = 0.0; h < 3.0; h+=1.0) {\\n        for (float w = 0.0; w < 3.0; w+=1.0) {\\n          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\\n        }\\n      }\\n      gl_FragColor = color;\\n    }\\n    \",Convolute_3_0:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform float uMatrix[9];\\n    uniform float uStepW;\\n    uniform float uStepH;\\n    varying vec2 vTexCoord;\\n    void main() {\\n      vec4 color = vec4(0, 0, 0, 1);\\n      for (float h = 0.0; h < 3.0; h+=1.0) {\\n        for (float w = 0.0; w < 3.0; w+=1.0) {\\n          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\\n        }\\n      }\\n      float alpha = texture2D(uTexture, vTexCoord).a;\\n      gl_FragColor = color;\\n      gl_FragColor.a = alpha;\\n    }\\n    \",Convolute_5_1:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform float uMatrix[25];\\n    uniform float uStepW;\\n    uniform float uStepH;\\n    varying vec2 vTexCoord;\\n    void main() {\\n      vec4 color = vec4(0, 0, 0, 0);\\n      for (float h = 0.0; h < 5.0; h+=1.0) {\\n        for (float w = 0.0; w < 5.0; w+=1.0) {\\n          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\\n        }\\n      }\\n      gl_FragColor = color;\\n    }\\n    \",Convolute_5_0:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform float uMatrix[25];\\n    uniform float uStepW;\\n    uniform float uStepH;\\n    varying vec2 vTexCoord;\\n    void main() {\\n      vec4 color = vec4(0, 0, 0, 1);\\n      for (float h = 0.0; h < 5.0; h+=1.0) {\\n        for (float w = 0.0; w < 5.0; w+=1.0) {\\n          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\\n        }\\n      }\\n      float alpha = texture2D(uTexture, vTexCoord).a;\\n      gl_FragColor = color;\\n      gl_FragColor.a = alpha;\\n    }\\n    \",Convolute_7_1:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform float uMatrix[49];\\n    uniform float uStepW;\\n    uniform float uStepH;\\n    varying vec2 vTexCoord;\\n    void main() {\\n      vec4 color = vec4(0, 0, 0, 0);\\n      for (float h = 0.0; h < 7.0; h+=1.0) {\\n        for (float w = 0.0; w < 7.0; w+=1.0) {\\n          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\\n        }\\n      }\\n      gl_FragColor = color;\\n    }\\n    \",Convolute_7_0:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform float uMatrix[49];\\n    uniform float uStepW;\\n    uniform float uStepH;\\n    varying vec2 vTexCoord;\\n    void main() {\\n      vec4 color = vec4(0, 0, 0, 1);\\n      for (float h = 0.0; h < 7.0; h+=1.0) {\\n        for (float w = 0.0; w < 7.0; w+=1.0) {\\n          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\\n        }\\n      }\\n      float alpha = texture2D(uTexture, vTexCoord).a;\\n      gl_FragColor = color;\\n      gl_FragColor.a = alpha;\\n    }\\n    \",Convolute_9_1:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform float uMatrix[81];\\n    uniform float uStepW;\\n    uniform float uStepH;\\n    varying vec2 vTexCoord;\\n    void main() {\\n      vec4 color = vec4(0, 0, 0, 0);\\n      for (float h = 0.0; h < 9.0; h+=1.0) {\\n        for (float w = 0.0; w < 9.0; w+=1.0) {\\n          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\\n        }\\n      }\\n      gl_FragColor = color;\\n    }\\n    \",Convolute_9_0:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform float uMatrix[81];\\n    uniform float uStepW;\\n    uniform float uStepH;\\n    varying vec2 vTexCoord;\\n    void main() {\\n      vec4 color = vec4(0, 0, 0, 1);\\n      for (float h = 0.0; h < 9.0; h+=1.0) {\\n        for (float w = 0.0; w < 9.0; w+=1.0) {\\n          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\\n        }\\n      }\\n      float alpha = texture2D(uTexture, vTexCoord).a;\\n      gl_FragColor = color;\\n      gl_FragColor.a = alpha;\\n    }\\n    \"};class ch extends Va{getCacheKey(){return\"\".concat(this.type,\"_\").concat(Math.sqrt(this.matrix.length),\"_\").concat(this.opaque?1:0)}getFragmentSource(){return hh[this.getCacheKey()]}applyTo2d(t){const e=t.imageData,s=e.data,i=this.matrix,r=Math.round(Math.sqrt(i.length)),n=Math.floor(r/2),o=e.width,a=e.height,h=t.ctx.createImageData(o,a),c=h.data,l=this.opaque?1:0;let u,d,g,f,p,m,v,y,_,x,C,b,S;for(C=0;C<a;C++)for(x=0;x<o;x++){for(p=4*(C*o+x),u=0,d=0,g=0,f=0,S=0;S<r;S++)for(b=0;b<r;b++)v=C+S-n,m=x+b-n,v<0||v>=a||m<0||m>=o||(y=4*(v*o+m),_=i[S*r+b],u+=s[y]*_,d+=s[y+1]*_,g+=s[y+2]*_,l||(f+=s[y+3]*_));c[p]=u,c[p+1]=d,c[p+2]=g,c[p+3]=l?s[p+3]:f}t.imageData=h}sendUniformData(t,e){t.uniform1fv(e.uMatrix,this.matrix)}toObject(){return s(s({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}t(ch,\"type\",\"Convolute\"),t(ch,\"defaults\",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),t(ch,\"uniformLocations\",[\"uMatrix\",\"uOpaque\",\"uHalfSize\",\"uSize\"]),tt.setClass(ch);const lh=\"Gamma\";class uh extends Va{getFragmentSource(){return\"\\n  precision highp float;\\n  uniform sampler2D uTexture;\\n  uniform vec3 uGamma;\\n  varying vec2 vTexCoord;\\n  void main() {\\n    vec4 color = texture2D(uTexture, vTexCoord);\\n    vec3 correction = (1.0 / uGamma);\\n    color.r = pow(color.r, correction.r);\\n    color.g = pow(color.g, correction.g);\\n    color.b = pow(color.b, correction.b);\\n    gl_FragColor = color;\\n    gl_FragColor.rgb *= color.a;\\n  }\\n\"}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(t),this.gamma=t.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(t){let{imageData:{data:e}}=t;const s=this.gamma,i=1/s[0],r=1/s[1],n=1/s[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const o=this.rgbValues;for(let t=0;t<256;t++)o.r[t]=255*Math.pow(t/255,i),o.g[t]=255*Math.pow(t/255,r),o.b[t]=255*Math.pow(t/255,n);for(let t=0;t<e.length;t+=4)e[t]=o.r[e[t]],e[t+1]=o.g[e[t+1]],e[t+2]=o.b[e[t+2]]}sendUniformData(t,e){t.uniform3fv(e.uGamma,this.gamma)}isNeutralState(){const{gamma:t}=this;return 1===t[0]&&1===t[1]&&1===t[2]}toObject(){return{type:lh,gamma:this.gamma.concat()}}}t(uh,\"type\",lh),t(uh,\"defaults\",{gamma:[1,1,1]}),t(uh,\"uniformLocations\",[\"uGamma\"]),tt.setClass(uh);const dh={average:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    varying vec2 vTexCoord;\\n    void main() {\\n      vec4 color = texture2D(uTexture, vTexCoord);\\n      float average = (color.r + color.b + color.g) / 3.0;\\n      gl_FragColor = vec4(average, average, average, color.a);\\n    }\\n    \",lightness:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform int uMode;\\n    varying vec2 vTexCoord;\\n    void main() {\\n      vec4 col = texture2D(uTexture, vTexCoord);\\n      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\\n      gl_FragColor = vec4(average, average, average, col.a);\\n    }\\n    \",luminosity:\"\\n    precision highp float;\\n    uniform sampler2D uTexture;\\n    uniform int uMode;\\n    varying vec2 vTexCoord;\\n    void main() {\\n      vec4 col = texture2D(uTexture, vTexCoord);\\n      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\\n      gl_FragColor = vec4(average, average, average, col.a);\\n    }\\n    \"};class gh extends Va{applyTo2d(t){let{imageData:{data:e}}=t;for(let t,s=0;s<e.length;s+=4){const i=e[s],r=e[s+1],n=e[s+2];switch(this.mode){case\"average\":t=(i+r+n)/3;break;case\"lightness\":t=(Math.min(i,r,n)+Math.max(i,r,n))/2;break;case\"luminosity\":t=.21*i+.72*r+.07*n}e[s+2]=e[s+1]=e[s]=t}}getCacheKey(){return\"\".concat(this.type,\"_\").concat(this.mode)}getFragmentSource(){return dh[this.mode]}sendUniformData(t,e){t.uniform1i(e.uMode,1)}isNeutralState(){return!1}}t(gh,\"type\",\"Grayscale\"),t(gh,\"defaults\",{mode:\"average\"}),t(gh,\"uniformLocations\",[\"uMode\"]),tt.setClass(gh);const fh=s(s({},Ja),{},{rotation:0});class ph extends Qa{calculateMatrix(){const t=this.rotation*Math.PI,e=rt(t),s=nt(t),i=1/3,r=Math.sqrt(i)*s,n=1-e;this.matrix=[e+n/3,i*n-r,i*n+r,0,0,i*n+r,e+i*n,i*n-r,0,0,i*n-r,i*n+r,e+i*n,0,0,0,0,0,1,0]}isNeutralState(){return 0===this.rotation}applyTo(t){this.calculateMatrix(),super.applyTo(t)}toObject(){return{type:this.type,rotation:this.rotation}}}t(ph,\"type\",\"HueRotation\"),t(ph,\"defaults\",fh),tt.setClass(ph);class mh extends Va{applyTo2d(t){let{imageData:{data:e}}=t;for(let t=0;t<e.length;t+=4)e[t]=255-e[t],e[t+1]=255-e[t+1],e[t+2]=255-e[t+2],this.alpha&&(e[t+3]=255-e[t+3])}getFragmentSource(){return\"\\n  precision highp float;\\n  uniform sampler2D uTexture;\\n  uniform int uInvert;\\n  uniform int uAlpha;\\n  varying vec2 vTexCoord;\\n  void main() {\\n    vec4 color = texture2D(uTexture, vTexCoord);\\n    if (uInvert == 1) {\\n      if (uAlpha == 1) {\\n        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);\\n      } else {\\n        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\\n      }\\n    } else {\\n      gl_FragColor = color;\\n    }\\n  }\\n\"}isNeutralState(){return!this.invert}sendUniformData(t,e){t.uniform1i(e.uInvert,Number(this.invert)),t.uniform1i(e.uAlpha,Number(this.alpha))}}t(mh,\"type\",\"Invert\"),t(mh,\"defaults\",{alpha:!1,invert:!0}),t(mh,\"uniformLocations\",[\"uInvert\",\"uAlpha\"]),tt.setClass(mh);class vh extends Va{getFragmentSource(){return\"\\n  precision highp float;\\n  uniform sampler2D uTexture;\\n  uniform float uStepH;\\n  uniform float uNoise;\\n  uniform float uSeed;\\n  varying vec2 vTexCoord;\\n  float rand(vec2 co, float seed, float vScale) {\\n    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\\n  }\\n  void main() {\\n    vec4 color = texture2D(uTexture, vTexCoord);\\n    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\\n    gl_FragColor = color;\\n  }\\n\"}applyTo2d(t){let{imageData:{data:e}}=t;const s=this.noise;for(let t=0;t<e.length;t+=4){const i=(.5-Math.random())*s;e[t]+=i,e[t+1]+=i,e[t+2]+=i}}sendUniformData(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())}isNeutralState(){return 0===this.noise}}t(vh,\"type\",\"Noise\"),t(vh,\"defaults\",{noise:0}),t(vh,\"uniformLocations\",[\"uNoise\",\"uSeed\"]),tt.setClass(vh);class yh extends Va{applyTo2d(t){let{imageData:{data:e,width:s,height:i}}=t;for(let t=0;t<i;t+=this.blocksize)for(let r=0;r<s;r+=this.blocksize){const n=4*t*s+4*r,o=e[n],a=e[n+1],h=e[n+2],c=e[n+3];for(let n=t;n<Math.min(t+this.blocksize,i);n++)for(let t=r;t<Math.min(r+this.blocksize,s);t++){const i=4*n*s+4*t;e[i]=o,e[i+1]=a,e[i+2]=h,e[i+3]=c}}}isNeutralState(){return 1===this.blocksize}getFragmentSource(){return\"\\n  precision highp float;\\n  uniform sampler2D uTexture;\\n  uniform float uBlocksize;\\n  uniform float uStepW;\\n  uniform float uStepH;\\n  varying vec2 vTexCoord;\\n  void main() {\\n    float blockW = uBlocksize * uStepW;\\n    float blockH = uBlocksize * uStepH;\\n    int posX = int(vTexCoord.x / blockW);\\n    int posY = int(vTexCoord.y / blockH);\\n    float fposX = float(posX);\\n    float fposY = float(posY);\\n    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\\n    vec4 color = texture2D(uTexture, squareCoords);\\n    gl_FragColor = color;\\n  }\\n\"}sendUniformData(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}}t(yh,\"type\",\"Pixelate\"),t(yh,\"defaults\",{blocksize:4}),t(yh,\"uniformLocations\",[\"uBlocksize\"]),tt.setClass(yh);class _h extends Va{getFragmentSource(){return\"\\nprecision highp float;\\nuniform sampler2D uTexture;\\nuniform vec4 uLow;\\nuniform vec4 uHigh;\\nvarying vec2 vTexCoord;\\nvoid main() {\\n  gl_FragColor = texture2D(uTexture, vTexCoord);\\n  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\\n    gl_FragColor.a = 0.0;\\n  }\\n}\\n\"}applyTo2d(t){let{imageData:{data:e}}=t;const s=255*this.distance,i=new Ie(this.color).getSource(),r=[i[0]-s,i[1]-s,i[2]-s],n=[i[0]+s,i[1]+s,i[2]+s];for(let t=0;t<e.length;t+=4){const s=e[t],i=e[t+1],o=e[t+2];s>r[0]&&i>r[1]&&o>r[2]&&s<n[0]&&i<n[1]&&o<n[2]&&(e[t+3]=0)}}sendUniformData(t,e){const s=new Ie(this.color).getSource(),i=this.distance,r=[0+s[0]/255-i,0+s[1]/255-i,0+s[2]/255-i,1],n=[s[0]/255+i,s[1]/255+i,s[2]/255+i,1];t.uniform4fv(e.uLow,r),t.uniform4fv(e.uHigh,n)}}t(_h,\"type\",\"RemoveColor\"),t(_h,\"defaults\",{color:\"#FFFFFF\",distance:.02,useAlpha:!1}),t(_h,\"uniformLocations\",[\"uLow\",\"uHigh\"]),tt.setClass(_h);class xh extends Va{sendUniformData(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)}getFilterWindow(){const t=this.tempScale;return Math.ceil(this.lanczosLobes/t)}getCacheKey(){const t=this.getFilterWindow();return\"\".concat(this.type,\"_\").concat(t)}getFragmentSource(){const t=this.getFilterWindow();return this.generateShader(t)}getTaps(){const t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,s=this.getFilterWindow(),i=new Array(s);for(let r=1;r<=s;r++)i[r-1]=t(r*e);return i}generateShader(t){const e=new Array(t);for(let s=1;s<=t;s++)e[s-1]=\"\".concat(s,\".0 * uDelta\");return\"\\n      precision highp float;\\n      uniform sampler2D uTexture;\\n      uniform vec2 uDelta;\\n      varying vec2 vTexCoord;\\n      uniform float uTaps[\".concat(t,\"];\\n      void main() {\\n        vec4 color = texture2D(uTexture, vTexCoord);\\n        float sum = 1.0;\\n        \").concat(e.map(((t,e)=>\"\\n              color += texture2D(uTexture, vTexCoord + \".concat(t,\") * uTaps[\").concat(e,\"] + texture2D(uTexture, vTexCoord - \").concat(t,\") * uTaps[\").concat(e,\"];\\n              sum += 2.0 * uTaps[\").concat(e,\"];\\n            \"))).join(\"\\n\"),\"\\n        gl_FragColor = color / sum;\\n      }\\n    \")}applyToForWebgl(t){t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,super.applyTo(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,super.applyTo(t),t.sourceHeight=t.destinationHeight}applyTo(t){La(t)?this.applyToForWebgl(t):this.applyTo2d(t)}isNeutralState(){return 1===this.scaleX&&1===this.scaleY}lanczosCreate(t){return e=>{if(e>=t||e<=-t)return 0;if(e<1.1920929e-7&&e>-1.1920929e-7)return 1;const s=(e*=Math.PI)/t;return Math.sin(e)/e*Math.sin(s)/s}}applyTo2d(t){const e=t.imageData,s=this.scaleX,i=this.scaleY;this.rcpScaleX=1/s,this.rcpScaleY=1/i;const r=e.width,n=e.height,o=Math.round(r*s),a=Math.round(n*i);let h;h=\"sliceHack\"===this.resizeType?this.sliceByTwo(t,r,n,o,a):\"hermite\"===this.resizeType?this.hermiteFastResize(t,r,n,o,a):\"bilinear\"===this.resizeType?this.bilinearFiltering(t,r,n,o,a):\"lanczos\"===this.resizeType?this.lanczosResize(t,r,n,o,a):new ImageData(o,a),t.imageData=h}sliceByTwo(t,e,s,i,r){const n=t.imageData,o=.5;let a=!1,h=!1,c=e*o,l=s*o;const u=t.filterBackend.resources;let d=0,g=0;const f=e;let p=0;u.sliceByTwo||(u.sliceByTwo=pt());const m=u.sliceByTwo;(m.width<1.5*e||m.height<s)&&(m.width=1.5*e,m.height=s);const v=m.getContext(\"2d\");for(v.clearRect(0,0,1.5*e,s),v.putImageData(n,0,0),i=Math.floor(i),r=Math.floor(r);!a||!h;)e=c,s=l,i<Math.floor(c*o)?c=Math.floor(c*o):(c=i,a=!0),r<Math.floor(l*o)?l=Math.floor(l*o):(l=r,h=!0),v.drawImage(m,d,g,e,s,f,p,c,l),d=f,g=p,p+=l;return v.getImageData(d,g,i,r)}lanczosResize(t,e,s,i,r){const n=t.imageData.data,o=t.ctx.createImageData(i,r),a=o.data,h=this.lanczosCreate(this.lanczosLobes),c=this.rcpScaleX,l=this.rcpScaleY,u=2/this.rcpScaleX,d=2/this.rcpScaleY,g=Math.ceil(c*this.lanczosLobes/2),f=Math.ceil(l*this.lanczosLobes/2),p={},m={x:0,y:0},v={x:0,y:0};return function t(y){let _,x,C,b,S,w,T,O,k,D,M;for(m.x=(y+.5)*c,v.x=Math.floor(m.x),_=0;_<r;_++){for(m.y=(_+.5)*l,v.y=Math.floor(m.y),S=0,w=0,T=0,O=0,k=0,x=v.x-g;x<=v.x+g;x++)if(!(x<0||x>=e)){D=Math.floor(1e3*Math.abs(x-m.x)),p[D]||(p[D]={});for(let t=v.y-f;t<=v.y+f;t++)t<0||t>=s||(M=Math.floor(1e3*Math.abs(t-m.y)),p[D][M]||(p[D][M]=h(Math.sqrt(Math.pow(D*u,2)+Math.pow(M*d,2))/1e3)),C=p[D][M],C>0&&(b=4*(t*e+x),S+=C,w+=C*n[b],T+=C*n[b+1],O+=C*n[b+2],k+=C*n[b+3]))}b=4*(_*i+y),a[b]=w/S,a[b+1]=T/S,a[b+2]=O/S,a[b+3]=k/S}return++y<i?t(y):o}(0)}bilinearFiltering(t,e,s,i,r){let n,o,a,h,c,l,u,d,g,f,p,m,v,y=0;const _=this.rcpScaleX,x=this.rcpScaleY,C=4*(e-1),b=t.imageData.data,S=t.ctx.createImageData(i,r),w=S.data;for(u=0;u<r;u++)for(d=0;d<i;d++)for(c=Math.floor(_*d),l=Math.floor(x*u),g=_*d-c,f=x*u-l,v=4*(l*e+c),p=0;p<4;p++)n=b[v+p],o=b[v+4+p],a=b[v+C+p],h=b[v+C+4+p],m=n*(1-g)*(1-f)+o*g*(1-f)+a*f*(1-g)+h*g*f,w[y++]=m;return S}hermiteFastResize(t,e,s,i,r){const n=this.rcpScaleX,o=this.rcpScaleY,a=Math.ceil(n/2),h=Math.ceil(o/2),c=t.imageData.data,l=t.ctx.createImageData(i,r),u=l.data;for(let t=0;t<r;t++)for(let s=0;s<i;s++){const r=4*(s+t*i);let l=0,d=0,g=0,f=0,p=0,m=0,v=0;const y=(t+.5)*o;for(let i=Math.floor(t*o);i<(t+1)*o;i++){const t=Math.abs(y-(i+.5))/h,r=(s+.5)*n,o=t*t;for(let t=Math.floor(s*n);t<(s+1)*n;t++){let s=Math.abs(r-(t+.5))/a;const n=Math.sqrt(o+s*s);n>1&&n<-1||(l=2*n*n*n-3*n*n+1,l>0&&(s=4*(t+i*e),v+=l*c[s+3],g+=l,c[s+3]<255&&(l=l*c[s+3]/250),f+=l*c[s],p+=l*c[s+1],m+=l*c[s+2],d+=l))}}u[r]=f/d,u[r+1]=p/d,u[r+2]=m/d,u[r+3]=v/g}return l}}t(xh,\"type\",\"Resize\"),t(xh,\"defaults\",{resizeType:\"hermite\",scaleX:1,scaleY:1,lanczosLobes:3}),t(xh,\"uniformLocations\",[\"uDelta\",\"uTaps\"]),tt.setClass(xh);class Ch extends Va{getFragmentSource(){return\"\\n  precision highp float;\\n  uniform sampler2D uTexture;\\n  uniform float uSaturation;\\n  varying vec2 vTexCoord;\\n  void main() {\\n    vec4 color = texture2D(uTexture, vTexCoord);\\n    float rgMax = max(color.r, color.g);\\n    float rgbMax = max(rgMax, color.b);\\n    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\\n    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\\n    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\\n    gl_FragColor = color;\\n  }\\n\"}applyTo2d(t){let{imageData:{data:e}}=t;const s=-this.saturation;for(let t=0;t<e.length;t+=4){const i=e[t],r=e[t+1],n=e[t+2],o=Math.max(i,r,n);e[t]+=o!==i?(o-i)*s:0,e[t+1]+=o!==r?(o-r)*s:0,e[t+2]+=o!==n?(o-n)*s:0}}sendUniformData(t,e){t.uniform1f(e.uSaturation,-this.saturation)}isNeutralState(){return 0===this.saturation}}t(Ch,\"type\",\"Saturation\"),t(Ch,\"defaults\",{saturation:0}),t(Ch,\"uniformLocations\",[\"uSaturation\"]),tt.setClass(Ch);class bh extends Va{getFragmentSource(){return\"\\n  precision highp float;\\n  uniform sampler2D uTexture;\\n  uniform float uVibrance;\\n  varying vec2 vTexCoord;\\n  void main() {\\n    vec4 color = texture2D(uTexture, vTexCoord);\\n    float max = max(color.r, max(color.g, color.b));\\n    float avg = (color.r + color.g + color.b) / 3.0;\\n    float amt = (abs(max - avg) * 2.0) * uVibrance;\\n    color.r += max != color.r ? (max - color.r) * amt : 0.00;\\n    color.g += max != color.g ? (max - color.g) * amt : 0.00;\\n    color.b += max != color.b ? (max - color.b) * amt : 0.00;\\n    gl_FragColor = color;\\n  }\\n\"}applyTo2d(t){let{imageData:{data:e}}=t;const s=-this.vibrance;for(let t=0;t<e.length;t+=4){const i=e[t],r=e[t+1],n=e[t+2],o=Math.max(i,r,n),a=(i+r+n)/3,h=2*Math.abs(o-a)/255*s;e[t]+=o!==i?(o-i)*h:0,e[t+1]+=o!==r?(o-r)*h:0,e[t+2]+=o!==n?(o-n)*h:0}}sendUniformData(t,e){t.uniform1f(e.uVibrance,-this.vibrance)}isNeutralState(){return 0===this.vibrance}}t(bh,\"type\",\"Vibrance\"),t(bh,\"defaults\",{vibrance:0}),t(bh,\"uniformLocations\",[\"uVibrance\"]),tt.setClass(bh);var Sh=Object.freeze({__proto__:null,BaseFilter:Va,BlackWhite:nh,BlendColor:Ga,BlendImage:Ua,Blur:qa,Brightness:Ka,Brownie:$a,ColorMatrix:Qa,Composed:oh,Contrast:ah,Convolute:ch,Gamma:uh,Grayscale:gh,HueRotation:ph,Invert:mh,Kodachrome:eh,Noise:vh,Pixelate:yh,Polaroid:ih,RemoveColor:_h,Resize:xh,Saturation:Ch,Sepia:rh,Technicolor:sh,Vibrance:bh,Vintage:th});export{Qo as ActiveSelection,so as BaseBrush,ei as BaseFabricObject,Xn as Canvas,Zo as Canvas2dFilterBackend,Pn as CanvasDOMManager,co as Circle,lo as CircleBrush,qo as ClipPathLayout,Ie as Color,ai as Control,xo as Ellipse,oa as FabricImage,Li as FabricObject,Ao as FabricText,Yr as FitContentLayout,Ko as FixedLayout,$n as Gradient,Ur as Group,No as IText,oa as Image,ji as InteractiveFabricObject,Qs as Intersection,Gr as LayoutManager,Xr as LayoutStrategy,vo as Line,Li as Object,st as Observable,no as Path,eo as Pattern,go as PatternBrush,oo as PencilBrush,ot as Point,To as Polygon,wo as Polyline,jr as Rect,Ds as Shadow,uo as SprayBrush,ie as StaticCanvas,te as StaticCanvasDOMManager,Ao as Text,Uo as Textbox,yo as Triangle,$o as WebGLFilterBackend,_ as cache,tt as classRegistry,o as config,Fa as controlsUtils,ct as createCollectionMixin,Sh as filters,pa as getCSSRules,p as getEnv,m as getFabricDocument,v as getFabricWindow,sa as getFilterBackend,T as iMatrix,ea as initFilterBackend,Ra as isPutImageFaster,La as isWebGLPipelineState,Ca as loadSVGFromString,ba as loadSVGFromURL,Pr as parseAttributes,Or as parseFontDeclaration,Co as parsePointsAttribute,xa as parseSVGDocument,Dr as parseStyleAttribute,wr as parseTransformAttribute,et as runningAnimations,f as setEnv,ia as setFilterBackend,Mn as util,x as version};\n//# sourceMappingURL=index.min.mjs.map\n","/**\n * DepthMapImage - Custom Fabric.js class for depth map visualization\n *\n * Extends FabricImage to render grayscale depth maps with colormap visualization\n * (viridis/plasma). Uses WebGL shader when available, falls back to Canvas2D.\n *\n * IMPORTANT: Fabric.js 6.x uses ES6 classes, NOT createClass()\n */\nimport { FabricImage, classRegistry } from 'fabric';\n\nexport type ColormapType = 'viridis' | 'plasma' | 'grayscale';\n\ninterface DepthMapImageOptions {\n  colormap?: ColormapType;\n  opacity?: number;\n  visible?: boolean;\n}\n\n// Viridis colormap LUT (256 entries)\nconst VIRIDIS_LUT = generateViridisLUT();\nconst PLASMA_LUT = generatePlasmaLUT();\n\nfunction generateViridisLUT(): Uint8Array {\n  const lut = new Uint8Array(256 * 4);\n  // Viridis colormap approximation\n  for (let i = 0; i < 256; i++) {\n    const t = i / 255;\n    // Viridis polynomial approximation\n    const r = Math.round(255 * clamp(0.267004 + t * (0.004874 + t * (-0.259027 + t * (2.066795 + t * (-2.131557 + t * 0.736987))))));\n    const g = Math.round(255 * clamp(0.004874 + t * (1.404613 + t * (-0.598103 + t * (-0.229949 + t * (0.659864 + t * -0.238132))))));\n    const b = Math.round(255 * clamp(0.329415 + t * (1.384613 + t * (-1.860504 + t * (1.592785 + t * (-0.730173 + t * 0.135610))))));\n\n    lut[i * 4] = r;\n    lut[i * 4 + 1] = g;\n    lut[i * 4 + 2] = b;\n    lut[i * 4 + 3] = 255;\n  }\n  return lut;\n}\n\nfunction generatePlasmaLUT(): Uint8Array {\n  const lut = new Uint8Array(256 * 4);\n  // Plasma colormap approximation\n  for (let i = 0; i < 256; i++) {\n    const t = i / 255;\n    const r = Math.round(255 * clamp(0.050383 + t * (2.689401 + t * (-1.802775 + t * (-0.391194 + t * (0.706557 + t * -0.218185))))));\n    const g = Math.round(255 * clamp(0.029803 + t * (-0.177105 + t * (0.968330 + t * (0.419198 + t * (-0.991163 + t * 0.517737))))));\n    const b = Math.round(255 * clamp(0.527975 + t * (1.546816 + t * (-4.246533 + t * (6.585146 + t * (-4.621553 + t * 1.205227))))));\n\n    lut[i * 4] = r;\n    lut[i * 4 + 1] = g;\n    lut[i * 4 + 2] = b;\n    lut[i * 4 + 3] = 255;\n  }\n  return lut;\n}\n\nfunction clamp(value: number): number {\n  return Math.max(0, Math.min(1, value));\n}\n\nexport class DepthMapImage extends FabricImage {\n  static type = 'DepthMapImage';\n\n  static ownDefaults: Partial<DepthMapImageOptions> = {\n    colormap: 'viridis',\n    opacity: 0.5,\n    visible: true\n  };\n\n  declare colormap: ColormapType;\n  declare _colorizedCanvas: HTMLCanvasElement | null;\n  declare _webglContext: WebGLRenderingContext | null;\n  declare _webglProgram: WebGLProgram | null;\n  declare _sourceImageData: ImageData | null;\n\n  constructor(element: HTMLImageElement | HTMLCanvasElement, options: DepthMapImageOptions = {}) {\n    super(element, {\n      ...DepthMapImage.ownDefaults,\n      ...options\n    });\n\n    this.colormap = options.colormap || 'viridis';\n    this._colorizedCanvas = null;\n    this._webglContext = null;\n    this._webglProgram = null;\n    this._sourceImageData = null;\n\n    // Initialize colorization after image loads\n    this._initializeColorization();\n  }\n\n  /**\n   * Initialize the colorization system (WebGL or Canvas2D fallback)\n   */\n  private _initializeColorization(): void {\n    const element = this.getElement() as HTMLImageElement | HTMLCanvasElement;\n    if (!element) return;\n\n    // Create offscreen canvas for colorized output\n    this._colorizedCanvas = document.createElement('canvas');\n    this._colorizedCanvas.width = element.width || (element as HTMLImageElement).naturalWidth;\n    this._colorizedCanvas.height = element.height || (element as HTMLImageElement).naturalHeight;\n\n    // Try WebGL first\n    if (this._initWebGL()) {\n      this._applyColormapWebGL();\n    } else {\n      this._applyColormapCanvas2D();\n    }\n  }\n\n  /**\n   * Initialize WebGL context and shader program\n   */\n  private _initWebGL(): boolean {\n    if (!this._colorizedCanvas) return false;\n\n    try {\n      const gl = this._colorizedCanvas.getContext('webgl', {\n        preserveDrawingBuffer: true,\n        alpha: true\n      });\n\n      if (!gl) return false;\n\n      this._webglContext = gl;\n\n      // Vertex shader\n      const vertexShaderSource = `\n        attribute vec2 a_position;\n        attribute vec2 a_texCoord;\n        varying vec2 v_texCoord;\n        void main() {\n          gl_Position = vec4(a_position, 0.0, 1.0);\n          v_texCoord = a_texCoord;\n        }\n      `;\n\n      // Fragment shader for colormap\n      const fragmentShaderSource = `\n        precision mediump float;\n        uniform sampler2D u_image;\n        uniform sampler2D u_colormap;\n        varying vec2 v_texCoord;\n        void main() {\n          vec4 depth = texture2D(u_image, v_texCoord);\n          float gray = dot(depth.rgb, vec3(0.299, 0.587, 0.114));\n          vec4 color = texture2D(u_colormap, vec2(gray, 0.5));\n          gl_FragColor = vec4(color.rgb, depth.a);\n        }\n      `;\n\n      // Compile shaders\n      const vertexShader = this._compileShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n      const fragmentShader = this._compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n\n      if (!vertexShader || !fragmentShader) return false;\n\n      // Create program\n      const program = gl.createProgram();\n      if (!program) return false;\n\n      gl.attachShader(program, vertexShader);\n      gl.attachShader(program, fragmentShader);\n      gl.linkProgram(program);\n\n      if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n        console.error('[DepthMapImage] Program link error:', gl.getProgramInfoLog(program));\n        return false;\n      }\n\n      this._webglProgram = program;\n      return true;\n    } catch (e) {\n      console.warn('[DepthMapImage] WebGL init failed:', e);\n      return false;\n    }\n  }\n\n  private _compileShader(gl: WebGLRenderingContext, type: number, source: string): WebGLShader | null {\n    const shader = gl.createShader(type);\n    if (!shader) return null;\n\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n      console.error('[DepthMapImage] Shader compile error:', gl.getShaderInfoLog(shader));\n      gl.deleteShader(shader);\n      return null;\n    }\n\n    return shader;\n  }\n\n  /**\n   * Apply colormap using WebGL\n   */\n  private _applyColormapWebGL(): void {\n    const gl = this._webglContext;\n    const program = this._webglProgram;\n    if (!gl || !program || !this._colorizedCanvas) return;\n\n    gl.useProgram(program);\n\n    // Set up vertex positions (full screen quad)\n    const positionBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n      -1, -1, 1, -1, -1, 1,\n      -1, 1, 1, -1, 1, 1\n    ]), gl.STATIC_DRAW);\n\n    const positionLocation = gl.getAttribLocation(program, 'a_position');\n    gl.enableVertexAttribArray(positionLocation);\n    gl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n    // Set up texture coordinates\n    const texCoordBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n      0, 1, 1, 1, 0, 0,\n      0, 0, 1, 1, 1, 0\n    ]), gl.STATIC_DRAW);\n\n    const texCoordLocation = gl.getAttribLocation(program, 'a_texCoord');\n    gl.enableVertexAttribArray(texCoordLocation);\n    gl.vertexAttribPointer(texCoordLocation, 2, gl.FLOAT, false, 0, 0);\n\n    // Upload source image texture\n    const imageTexture = gl.createTexture();\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, imageTexture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.getElement() as HTMLImageElement);\n\n    // Upload colormap LUT texture\n    const colormapTexture = gl.createTexture();\n    gl.activeTexture(gl.TEXTURE1);\n    gl.bindTexture(gl.TEXTURE_2D, colormapTexture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\n    const lut = this.colormap === 'plasma' ? PLASMA_LUT : VIRIDIS_LUT;\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 256, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, lut);\n\n    // Set uniforms\n    gl.uniform1i(gl.getUniformLocation(program, 'u_image'), 0);\n    gl.uniform1i(gl.getUniformLocation(program, 'u_colormap'), 1);\n\n    // Render\n    gl.viewport(0, 0, this._colorizedCanvas.width, this._colorizedCanvas.height);\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\n  }\n\n  /**\n   * Apply colormap using Canvas2D (fallback)\n   */\n  private _applyColormapCanvas2D(): void {\n    if (!this._colorizedCanvas) return;\n\n    const ctx = this._colorizedCanvas.getContext('2d');\n    if (!ctx) return;\n\n    const element = this.getElement() as HTMLImageElement | HTMLCanvasElement;\n    const width = this._colorizedCanvas.width;\n    const height = this._colorizedCanvas.height;\n\n    // Draw original image\n    ctx.drawImage(element, 0, 0, width, height);\n\n    // Get pixel data\n    const imageData = ctx.getImageData(0, 0, width, height);\n    const data = imageData.data;\n\n    // Get LUT based on colormap type\n    const lut = this.colormap === 'plasma' ? PLASMA_LUT :\n                this.colormap === 'viridis' ? VIRIDIS_LUT : null;\n\n    if (!lut) {\n      // Grayscale - no transformation needed\n      return;\n    }\n\n    // Apply colormap\n    for (let i = 0; i < data.length; i += 4) {\n      // Convert to grayscale\n      const gray = Math.round(\n        data[i] * 0.299 +\n        data[i + 1] * 0.587 +\n        data[i + 2] * 0.114\n      );\n\n      // Look up colormap value\n      data[i] = lut[gray * 4];\n      data[i + 1] = lut[gray * 4 + 1];\n      data[i + 2] = lut[gray * 4 + 2];\n      // Alpha stays unchanged\n    }\n\n    ctx.putImageData(imageData, 0, 0);\n  }\n\n  /**\n   * Set the colormap and re-apply\n   */\n  setColormap(colormap: ColormapType): void {\n    this.colormap = colormap;\n\n    if (this._webglContext && this._webglProgram) {\n      this._applyColormapWebGL();\n    } else {\n      this._applyColormapCanvas2D();\n    }\n\n    this.dirty = true;\n    this.canvas?.requestRenderAll();\n  }\n\n  /**\n   * Override render to use colorized canvas\n   */\n  render(ctx: CanvasRenderingContext2D): void {\n    if (this._colorizedCanvas && this.colormap !== 'grayscale') {\n      // Temporarily swap the element to colorized canvas\n      const originalElement = this.getElement();\n      this.setElement(this._colorizedCanvas);\n      super.render(ctx);\n      this.setElement(originalElement as HTMLImageElement);\n    } else {\n      super.render(ctx);\n    }\n  }\n\n  /**\n   * Get serializable properties including colormap\n   */\n  getSerializableData(): Record<string, any> {\n    return {\n      colormap: this.colormap\n    };\n  }\n\n  /**\n   * Deserialization from JSON\n   */\n  static fromObject(object: Record<string, any>): Promise<DepthMapImage> {\n    return new Promise((resolve, reject) => {\n      if (!object.src) {\n        reject(new Error('DepthMapImage requires a src property'));\n        return;\n      }\n\n      const img = new Image();\n      img.crossOrigin = 'anonymous';\n      img.onload = () => {\n        resolve(new DepthMapImage(img, {\n          colormap: object.colormap,\n          ...object\n        }));\n      };\n      img.onerror = reject;\n      img.src = object.src;\n    });\n  }\n\n  /**\n   * Create from base64 data\n   */\n  static fromBase64(base64: string, options: DepthMapImageOptions = {}): Promise<DepthMapImage> {\n    return new Promise((resolve, reject) => {\n      const img = new Image();\n      img.crossOrigin = 'anonymous';\n      img.onload = () => {\n        resolve(new DepthMapImage(img, options));\n      };\n      img.onerror = reject;\n      img.src = base64.startsWith('data:') ? base64 : `data:image/png;base64,${base64}`;\n    });\n  }\n}\n\n// CRITICAL: Register class for serialization\nclassRegistry.setClass(DepthMapImage);\n\nexport default DepthMapImage;\n","/**\n * SplinePath - Custom Fabric.js class for editable bezier splines\n *\n * IMPORTANT: Fabric.js 6.x uses ES6 classes, NOT createClass()\n */\nimport { Path, classRegistry } from 'fabric';\nimport type { ControlPoint, SplineData } from '@/types/project';\n\ninterface SplinePathOptions {\n  controlPoints?: ControlPoint[];\n  stroke?: string;\n  strokeWidth?: number;\n  fill?: string;\n  selectable?: boolean;\n}\n\nexport class SplinePath extends Path {\n  // Type identifier for serialization\n  static type = 'SplinePath';\n\n  // Default values\n  static ownDefaults: Partial<SplinePathOptions> = {\n    stroke: '#00ff00',\n    strokeWidth: 2,\n    fill: '',\n    selectable: true,\n    controlPoints: []\n  };\n\n  // Instance properties\n  declare controlPoints: ControlPoint[];\n  declare _animationKeyframes: any[];\n\n  constructor(path: string, options: SplinePathOptions = {}) {\n    super(path, {\n      ...SplinePath.ownDefaults,\n      ...options\n    });\n\n    this.controlPoints = options.controlPoints || [];\n    this._animationKeyframes = [];\n  }\n\n  /**\n   * Update path data from control points\n   */\n  updatePathFromControlPoints(): void {\n    if (this.controlPoints.length < 2) {\n      this.set('path', []);\n      return;\n    }\n\n    const pathCommands: any[] = [];\n    const cp = this.controlPoints;\n\n    // Move to first point\n    pathCommands.push(['M', cp[0].x, cp[0].y]);\n\n    // Create cubic bezier curves between points\n    for (let i = 0; i < cp.length - 1; i++) {\n      const p1 = cp[i];\n      const p2 = cp[i + 1];\n\n      // Get handle positions (or use point position if no handle)\n      const h1 = p1.handleOut || { x: p1.x, y: p1.y };\n      const h2 = p2.handleIn || { x: p2.x, y: p2.y };\n\n      pathCommands.push([\n        'C',\n        h1.x, h1.y,\n        h2.x, h2.y,\n        p2.x, p2.y\n      ]);\n    }\n\n    this.set('path', pathCommands);\n    this.setCoords();\n  }\n\n  /**\n   * Add a new control point at position\n   */\n  addControlPoint(x: number, y: number, depth?: number): ControlPoint {\n    const point: ControlPoint = {\n      id: `cp_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      x,\n      y,\n      depth,\n      handleIn: null,\n      handleOut: null,\n      type: 'corner'\n    };\n\n    this.controlPoints.push(point);\n    this.updatePathFromControlPoints();\n\n    return point;\n  }\n\n  /**\n   * Move a control point\n   */\n  moveControlPoint(pointId: string, x: number, y: number): void {\n    const point = this.controlPoints.find(p => p.id === pointId);\n    if (!point) return;\n\n    const dx = x - point.x;\n    const dy = y - point.y;\n\n    point.x = x;\n    point.y = y;\n\n    // Move handles with the point\n    if (point.handleIn) {\n      point.handleIn.x += dx;\n      point.handleIn.y += dy;\n    }\n    if (point.handleOut) {\n      point.handleOut.x += dx;\n      point.handleOut.y += dy;\n    }\n\n    this.updatePathFromControlPoints();\n  }\n\n  /**\n   * Set handle position for a control point\n   */\n  setHandle(\n    pointId: string,\n    handleType: 'in' | 'out',\n    x: number,\n    y: number,\n    breakHandles: boolean = false\n  ): void {\n    const point = this.controlPoints.find(p => p.id === pointId);\n    if (!point) return;\n\n    if (handleType === 'in') {\n      point.handleIn = { x, y };\n    } else {\n      point.handleOut = { x, y };\n    }\n\n    // Mirror handle if not breaking\n    if (!breakHandles && point.type === 'smooth') {\n      const handle = handleType === 'in' ? point.handleIn : point.handleOut;\n      const oppositeKey = handleType === 'in' ? 'handleOut' : 'handleIn';\n\n      if (handle) {\n        const dx = handle.x - point.x;\n        const dy = handle.y - point.y;\n\n        point[oppositeKey] = {\n          x: point.x - dx,\n          y: point.y - dy\n        };\n      }\n    }\n\n    this.updatePathFromControlPoints();\n  }\n\n  /**\n   * Delete a control point\n   */\n  deleteControlPoint(pointId: string): void {\n    const index = this.controlPoints.findIndex(p => p.id === pointId);\n    if (index === -1) return;\n\n    this.controlPoints.splice(index, 1);\n    this.updatePathFromControlPoints();\n  }\n\n  /**\n   * Get spline data for serialization\n   */\n  getSplineData(): SplineData {\n    return {\n      pathData: this.path?.map((cmd: any) => cmd.join(' ')).join(' ') || '',\n      controlPoints: this.controlPoints,\n      closed: false,\n      stroke: this.stroke as string,\n      strokeWidth: this.strokeWidth as number,\n      fill: this.fill as string\n    };\n  }\n\n  /**\n   * Get serializable properties\n   */\n  getSerializableData(): Record<string, any> {\n    return {\n      controlPoints: this.controlPoints,\n      _animationKeyframes: this._animationKeyframes\n    };\n  }\n\n  /**\n   * Deserialization from JSON\n   */\n  static fromObject(object: Record<string, any>): Promise<SplinePath> {\n    const pathString = object.path?.map((cmd: any[]) => cmd.join(' ')).join(' ') || '';\n\n    return Promise.resolve(new SplinePath(pathString, {\n      ...object,\n      controlPoints: object.controlPoints || []\n    }));\n  }\n}\n\n// CRITICAL: Register class for serialization\nclassRegistry.setClass(SplinePath);\n\nexport default SplinePath;\n","<template>\n  <div class=\"spline-editor\">\n    <!-- Control point visuals are rendered via SVG overlay -->\n    <svg\n      class=\"control-overlay\"\n      :viewBox=\"`0 0 ${canvasWidth} ${canvasHeight}`\"\n      @mousedown=\"handleMouseDown\"\n      @mousemove=\"handleMouseMove\"\n      @mouseup=\"handleMouseUp\"\n      @mouseleave=\"handleMouseUp\"\n    >\n      <!-- Handle lines -->\n      <template v-for=\"point in visibleControlPoints\" :key=\"`handles-${point.id}`\">\n        <line\n          v-if=\"point.handleIn && selectedPointId === point.id\"\n          :x1=\"point.x\"\n          :y1=\"point.y\"\n          :x2=\"point.handleIn.x\"\n          :y2=\"point.handleIn.y\"\n          class=\"handle-line\"\n        />\n        <line\n          v-if=\"point.handleOut && selectedPointId === point.id\"\n          :x1=\"point.x\"\n          :y1=\"point.y\"\n          :x2=\"point.handleOut.x\"\n          :y2=\"point.handleOut.y\"\n          class=\"handle-line\"\n        />\n      </template>\n\n      <!-- Handle points -->\n      <template v-for=\"point in visibleControlPoints\" :key=\"`handle-points-${point.id}`\">\n        <circle\n          v-if=\"point.handleIn && selectedPointId === point.id\"\n          :cx=\"point.handleIn.x\"\n          :cy=\"point.handleIn.y\"\n          r=\"4\"\n          class=\"handle-point\"\n          :class=\"{ active: dragTarget?.type === 'handleIn' && dragTarget.pointId === point.id }\"\n          @mousedown.stop=\"startDragHandle(point.id, 'in', $event)\"\n        />\n        <circle\n          v-if=\"point.handleOut && selectedPointId === point.id\"\n          :cx=\"point.handleOut.x\"\n          :cy=\"point.handleOut.y\"\n          r=\"4\"\n          class=\"handle-point\"\n          :class=\"{ active: dragTarget?.type === 'handleOut' && dragTarget.pointId === point.id }\"\n          @mousedown.stop=\"startDragHandle(point.id, 'out', $event)\"\n        />\n      </template>\n\n      <!-- Control points -->\n      <circle\n        v-for=\"point in visibleControlPoints\"\n        :key=\"`point-${point.id}`\"\n        :cx=\"point.x\"\n        :cy=\"point.y\"\n        r=\"6\"\n        class=\"control-point\"\n        :class=\"{\n          selected: selectedPointId === point.id,\n          corner: point.type === 'corner',\n          smooth: point.type === 'smooth'\n        }\"\n        @mousedown.stop=\"startDragPoint(point.id, $event)\"\n      />\n\n      <!-- Preview point when in pen mode -->\n      <circle\n        v-if=\"previewPoint && isPenMode\"\n        :cx=\"previewPoint.x\"\n        :cy=\"previewPoint.y\"\n        r=\"4\"\n        class=\"preview-point\"\n      />\n    </svg>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted, onUnmounted } from 'vue';\nimport { useCompositorStore } from '@/stores/compositorStore';\nimport type { ControlPoint, SplineData } from '@/types/project';\n\ninterface Props {\n  layerId: string | null;\n  canvasWidth: number;\n  canvasHeight: number;\n  zoom: number;\n  viewportTransform: number[];\n  isPenMode: boolean;\n}\n\nconst props = defineProps<Props>();\n\nconst emit = defineEmits<{\n  (e: 'pointAdded', point: ControlPoint): void;\n  (e: 'pointMoved', pointId: string, x: number, y: number): void;\n  (e: 'handleMoved', pointId: string, handleType: 'in' | 'out', x: number, y: number): void;\n  (e: 'pointDeleted', pointId: string): void;\n  (e: 'pathUpdated'): void;\n}>();\n\nconst store = useCompositorStore();\n\n// State\nconst selectedPointId = ref<string | null>(null);\nconst previewPoint = ref<{ x: number; y: number } | null>(null);\nconst dragTarget = ref<{\n  type: 'point' | 'handleIn' | 'handleOut';\n  pointId: string;\n  startX: number;\n  startY: number;\n} | null>(null);\n\n// Get control points from active spline layer\nconst visibleControlPoints = computed<ControlPoint[]>(() => {\n  if (!props.layerId) return [];\n\n  const layer = store.layers.find(l => l.id === props.layerId);\n  if (!layer || layer.type !== 'spline' || !layer.data) return [];\n\n  const splineData = layer.data as SplineData;\n  return splineData.controlPoints || [];\n});\n\n// Convert screen coords to canvas coords\nfunction screenToCanvas(screenX: number, screenY: number): { x: number; y: number } {\n  const vt = props.viewportTransform;\n  // Inverse transform\n  const x = (screenX - vt[4]) / vt[0];\n  const y = (screenY - vt[5]) / vt[3];\n  return { x, y };\n}\n\n// Get mouse position relative to SVG\nfunction getMousePos(event: MouseEvent): { x: number; y: number } {\n  const svg = event.currentTarget as SVGSVGElement;\n  const rect = svg.getBoundingClientRect();\n  const screenX = event.clientX - rect.left;\n  const screenY = event.clientY - rect.top;\n  return screenToCanvas(screenX, screenY);\n}\n\n// Handle mouse events\nfunction handleMouseDown(event: MouseEvent) {\n  if (!props.isPenMode) return;\n\n  const pos = getMousePos(event);\n\n  // In pen mode, add new point on click\n  if (props.layerId) {\n    const layer = store.layers.find(l => l.id === props.layerId);\n    if (layer && layer.type === 'spline') {\n      const splineData = layer.data as SplineData;\n\n      const newPoint: ControlPoint = {\n        id: `cp_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n        x: pos.x,\n        y: pos.y,\n        handleIn: null,\n        handleOut: null,\n        type: 'corner'\n      };\n\n      // Add point to spline data\n      if (!splineData.controlPoints) {\n        splineData.controlPoints = [];\n      }\n      splineData.controlPoints.push(newPoint);\n\n      // Select the new point\n      selectedPointId.value = newPoint.id;\n\n      // Start dragging to create handle\n      dragTarget.value = {\n        type: 'handleOut',\n        pointId: newPoint.id,\n        startX: pos.x,\n        startY: pos.y\n      };\n\n      emit('pointAdded', newPoint);\n      emit('pathUpdated');\n    }\n  }\n}\n\nfunction handleMouseMove(event: MouseEvent) {\n  const pos = getMousePos(event);\n\n  // Update preview point in pen mode\n  if (props.isPenMode) {\n    previewPoint.value = pos;\n  }\n\n  // Handle dragging\n  if (dragTarget.value) {\n    const layer = store.layers.find(l => l.id === props.layerId);\n    if (!layer || layer.type !== 'spline') return;\n\n    const splineData = layer.data as SplineData;\n    const point = splineData.controlPoints?.find(p => p.id === dragTarget.value!.pointId);\n    if (!point) return;\n\n    if (dragTarget.value.type === 'point') {\n      // Move the control point\n      const dx = pos.x - point.x;\n      const dy = pos.y - point.y;\n\n      point.x = pos.x;\n      point.y = pos.y;\n\n      // Move handles with point\n      if (point.handleIn) {\n        point.handleIn.x += dx;\n        point.handleIn.y += dy;\n      }\n      if (point.handleOut) {\n        point.handleOut.x += dx;\n        point.handleOut.y += dy;\n      }\n\n      emit('pointMoved', point.id, pos.x, pos.y);\n    } else if (dragTarget.value.type === 'handleIn') {\n      point.handleIn = { x: pos.x, y: pos.y };\n\n      // Mirror to handleOut if smooth\n      if (point.type === 'smooth') {\n        const dx = pos.x - point.x;\n        const dy = pos.y - point.y;\n        point.handleOut = { x: point.x - dx, y: point.y - dy };\n      }\n\n      emit('handleMoved', point.id, 'in', pos.x, pos.y);\n    } else if (dragTarget.value.type === 'handleOut') {\n      point.handleOut = { x: pos.x, y: pos.y };\n\n      // Mirror to handleIn if smooth\n      if (point.type === 'smooth') {\n        const dx = pos.x - point.x;\n        const dy = pos.y - point.y;\n        point.handleIn = { x: point.x - dx, y: point.y - dy };\n      }\n\n      emit('handleMoved', point.id, 'out', pos.x, pos.y);\n    }\n\n    emit('pathUpdated');\n  }\n}\n\nfunction handleMouseUp() {\n  if (dragTarget.value) {\n    // If we were creating a new handle by dragging, convert to smooth point\n    const layer = store.layers.find(l => l.id === props.layerId);\n    if (layer && layer.type === 'spline') {\n      const splineData = layer.data as SplineData;\n      const point = splineData.controlPoints?.find(p => p.id === dragTarget.value!.pointId);\n      if (point && point.handleOut) {\n        // Check if handle was dragged far enough\n        const dx = point.handleOut.x - point.x;\n        const dy = point.handleOut.y - point.y;\n        const dist = Math.sqrt(dx * dx + dy * dy);\n\n        if (dist > 5) {\n          point.type = 'smooth';\n          // Create mirrored handleIn\n          point.handleIn = { x: point.x - dx, y: point.y - dy };\n        } else {\n          // Too small, remove handle\n          point.handleOut = null;\n        }\n      }\n    }\n\n    dragTarget.value = null;\n    emit('pathUpdated');\n  }\n}\n\nfunction startDragPoint(pointId: string, event: MouseEvent) {\n  selectedPointId.value = pointId;\n\n  if (!props.isPenMode) {\n    const pos = getMousePos(event);\n    dragTarget.value = {\n      type: 'point',\n      pointId,\n      startX: pos.x,\n      startY: pos.y\n    };\n  }\n}\n\nfunction startDragHandle(pointId: string, handleType: 'in' | 'out', event: MouseEvent) {\n  const pos = getMousePos(event);\n  dragTarget.value = {\n    type: handleType === 'in' ? 'handleIn' : 'handleOut',\n    pointId,\n    startX: pos.x,\n    startY: pos.y\n  };\n}\n\n// Delete selected point on Delete key\nfunction handleKeyDown(event: KeyboardEvent) {\n  if (event.key === 'Delete' || event.key === 'Backspace') {\n    if (selectedPointId.value && props.layerId) {\n      const layer = store.layers.find(l => l.id === props.layerId);\n      if (layer && layer.type === 'spline') {\n        const splineData = layer.data as SplineData;\n        const index = splineData.controlPoints?.findIndex(p => p.id === selectedPointId.value);\n        if (index !== undefined && index >= 0) {\n          splineData.controlPoints?.splice(index, 1);\n          emit('pointDeleted', selectedPointId.value);\n          emit('pathUpdated');\n          selectedPointId.value = null;\n        }\n      }\n    }\n  }\n}\n\nonMounted(() => {\n  window.addEventListener('keydown', handleKeyDown);\n});\n\nonUnmounted(() => {\n  window.removeEventListener('keydown', handleKeyDown);\n});\n\n// Expose selected point for external access\ndefineExpose({\n  selectedPointId,\n  clearSelection: () => { selectedPointId.value = null; }\n});\n</script>\n\n<style scoped>\n.spline-editor {\n  position: absolute;\n  inset: 0;\n  pointer-events: none;\n}\n\n.control-overlay {\n  width: 100%;\n  height: 100%;\n  pointer-events: all;\n}\n\n.control-point {\n  fill: #ffffff;\n  stroke: #00ff00;\n  stroke-width: 2;\n  cursor: pointer;\n  transition: fill 0.1s, transform 0.1s;\n}\n\n.control-point:hover {\n  fill: #00ff00;\n}\n\n.control-point.selected {\n  fill: #00ff00;\n  stroke: #ffffff;\n}\n\n.control-point.corner {\n  /* Square appearance for corner points */\n}\n\n.control-point.smooth {\n  /* Circle for smooth points */\n}\n\n.handle-line {\n  stroke: #00ff00;\n  stroke-width: 1;\n  stroke-dasharray: 4 2;\n  opacity: 0.7;\n}\n\n.handle-point {\n  fill: #00ff00;\n  stroke: #ffffff;\n  stroke-width: 1;\n  cursor: pointer;\n}\n\n.handle-point:hover,\n.handle-point.active {\n  fill: #ffffff;\n  stroke: #00ff00;\n}\n\n.preview-point {\n  fill: rgba(0, 255, 0, 0.5);\n  stroke: #00ff00;\n  stroke-width: 1;\n  pointer-events: none;\n}\n</style>\n","/*\n * A fast javascript implementation of simplex noise by Jonas Wagner\n\nBased on a speed-improved simplex noise algorithm for 2D, 3D and 4D in Java.\nWhich is based on example code by Stefan Gustavson (stegu@itn.liu.se).\nWith Optimisations by Peter Eastman (peastman@drizzle.stanford.edu).\nBetter rank ordering method by Stefan Gustavson in 2012.\n\n Copyright (c) 2024 Jonas Wagner\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n// these __PURE__ comments help uglifyjs with dead code removal\n//\nconst SQRT3 = /*#__PURE__*/ Math.sqrt(3.0);\nconst SQRT5 = /*#__PURE__*/ Math.sqrt(5.0);\nconst F2 = 0.5 * (SQRT3 - 1.0);\nconst G2 = (3.0 - SQRT3) / 6.0;\nconst F3 = 1.0 / 3.0;\nconst G3 = 1.0 / 6.0;\nconst F4 = (SQRT5 - 1.0) / 4.0;\nconst G4 = (5.0 - SQRT5) / 20.0;\n// I'm really not sure why this | 0 (basically a coercion to int)\n// is making this faster but I get ~5 million ops/sec more on the\n// benchmarks across the board or a ~10% speedup.\nconst fastFloor = (x) => Math.floor(x) | 0;\nconst grad2 = /*#__PURE__*/ new Float64Array([1, 1,\n    -1, 1,\n    1, -1,\n    -1, -1,\n    1, 0,\n    -1, 0,\n    1, 0,\n    -1, 0,\n    0, 1,\n    0, -1,\n    0, 1,\n    0, -1]);\n// double seems to be faster than single or int's\n// probably because most operations are in double precision\nconst grad3 = /*#__PURE__*/ new Float64Array([1, 1, 0,\n    -1, 1, 0,\n    1, -1, 0,\n    -1, -1, 0,\n    1, 0, 1,\n    -1, 0, 1,\n    1, 0, -1,\n    -1, 0, -1,\n    0, 1, 1,\n    0, -1, 1,\n    0, 1, -1,\n    0, -1, -1]);\n// double is a bit quicker here as well\nconst grad4 = /*#__PURE__*/ new Float64Array([0, 1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1,\n    0, -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1,\n    1, 0, 1, 1, 1, 0, 1, -1, 1, 0, -1, 1, 1, 0, -1, -1,\n    -1, 0, 1, 1, -1, 0, 1, -1, -1, 0, -1, 1, -1, 0, -1, -1,\n    1, 1, 0, 1, 1, 1, 0, -1, 1, -1, 0, 1, 1, -1, 0, -1,\n    -1, 1, 0, 1, -1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, -1,\n    1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1, 0,\n    -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1, 0]);\n/**\n * Creates a 2D noise function\n * @param random the random function that will be used to build the permutation table\n * @returns {NoiseFunction2D}\n */\nexport function createNoise2D(random = Math.random) {\n    const perm = buildPermutationTable(random);\n    // precalculating this yields a little ~3% performance improvement.\n    const permGrad2x = new Float64Array(perm).map(v => grad2[(v % 12) * 2]);\n    const permGrad2y = new Float64Array(perm).map(v => grad2[(v % 12) * 2 + 1]);\n    return function noise2D(x, y) {\n        // if(!isFinite(x) || !isFinite(y)) return 0;\n        let n0 = 0; // Noise contributions from the three corners\n        let n1 = 0;\n        let n2 = 0;\n        // Skew the input space to determine which simplex cell we're in\n        const s = (x + y) * F2; // Hairy factor for 2D\n        const i = fastFloor(x + s);\n        const j = fastFloor(y + s);\n        const t = (i + j) * G2;\n        const X0 = i - t; // Unskew the cell origin back to (x,y) space\n        const Y0 = j - t;\n        const x0 = x - X0; // The x,y distances from the cell origin\n        const y0 = y - Y0;\n        // For the 2D case, the simplex shape is an equilateral triangle.\n        // Determine which simplex we are in.\n        let i1, j1; // Offsets for second (middle) corner of simplex in (i,j) coords\n        if (x0 > y0) {\n            i1 = 1;\n            j1 = 0;\n        } // lower triangle, XY order: (0,0)->(1,0)->(1,1)\n        else {\n            i1 = 0;\n            j1 = 1;\n        } // upper triangle, YX order: (0,0)->(0,1)->(1,1)\n        // A step of (1,0) in (i,j) means a step of (1-c,-c) in (x,y), and\n        // a step of (0,1) in (i,j) means a step of (-c,1-c) in (x,y), where\n        // c = (3-sqrt(3))/6\n        const x1 = x0 - i1 + G2; // Offsets for middle corner in (x,y) unskewed coords\n        const y1 = y0 - j1 + G2;\n        const x2 = x0 - 1.0 + 2.0 * G2; // Offsets for last corner in (x,y) unskewed coords\n        const y2 = y0 - 1.0 + 2.0 * G2;\n        // Work out the hashed gradient indices of the three simplex corners\n        const ii = i & 255;\n        const jj = j & 255;\n        // Calculate the contribution from the three corners\n        let t0 = 0.5 - x0 * x0 - y0 * y0;\n        if (t0 >= 0) {\n            const gi0 = ii + perm[jj];\n            const g0x = permGrad2x[gi0];\n            const g0y = permGrad2y[gi0];\n            t0 *= t0;\n            // n0 = t0 * t0 * (grad2[gi0] * x0 + grad2[gi0 + 1] * y0); // (x,y) of grad3 used for 2D gradient\n            n0 = t0 * t0 * (g0x * x0 + g0y * y0);\n        }\n        let t1 = 0.5 - x1 * x1 - y1 * y1;\n        if (t1 >= 0) {\n            const gi1 = ii + i1 + perm[jj + j1];\n            const g1x = permGrad2x[gi1];\n            const g1y = permGrad2y[gi1];\n            t1 *= t1;\n            // n1 = t1 * t1 * (grad2[gi1] * x1 + grad2[gi1 + 1] * y1);\n            n1 = t1 * t1 * (g1x * x1 + g1y * y1);\n        }\n        let t2 = 0.5 - x2 * x2 - y2 * y2;\n        if (t2 >= 0) {\n            const gi2 = ii + 1 + perm[jj + 1];\n            const g2x = permGrad2x[gi2];\n            const g2y = permGrad2y[gi2];\n            t2 *= t2;\n            // n2 = t2 * t2 * (grad2[gi2] * x2 + grad2[gi2 + 1] * y2);\n            n2 = t2 * t2 * (g2x * x2 + g2y * y2);\n        }\n        // Add contributions from each corner to get the final noise value.\n        // The result is scaled to return values in the interval [-1,1].\n        return 70.0 * (n0 + n1 + n2);\n    };\n}\n/**\n * Creates a 3D noise function\n * @param random the random function that will be used to build the permutation table\n * @returns {NoiseFunction3D}\n */\nexport function createNoise3D(random = Math.random) {\n    const perm = buildPermutationTable(random);\n    // precalculating these seems to yield a speedup of over 15%\n    const permGrad3x = new Float64Array(perm).map(v => grad3[(v % 12) * 3]);\n    const permGrad3y = new Float64Array(perm).map(v => grad3[(v % 12) * 3 + 1]);\n    const permGrad3z = new Float64Array(perm).map(v => grad3[(v % 12) * 3 + 2]);\n    return function noise3D(x, y, z) {\n        let n0, n1, n2, n3; // Noise contributions from the four corners\n        // Skew the input space to determine which simplex cell we're in\n        const s = (x + y + z) * F3; // Very nice and simple skew factor for 3D\n        const i = fastFloor(x + s);\n        const j = fastFloor(y + s);\n        const k = fastFloor(z + s);\n        const t = (i + j + k) * G3;\n        const X0 = i - t; // Unskew the cell origin back to (x,y,z) space\n        const Y0 = j - t;\n        const Z0 = k - t;\n        const x0 = x - X0; // The x,y,z distances from the cell origin\n        const y0 = y - Y0;\n        const z0 = z - Z0;\n        // For the 3D case, the simplex shape is a slightly irregular tetrahedron.\n        // Determine which simplex we are in.\n        let i1, j1, k1; // Offsets for second corner of simplex in (i,j,k) coords\n        let i2, j2, k2; // Offsets for third corner of simplex in (i,j,k) coords\n        if (x0 >= y0) {\n            if (y0 >= z0) {\n                i1 = 1;\n                j1 = 0;\n                k1 = 0;\n                i2 = 1;\n                j2 = 1;\n                k2 = 0;\n            } // X Y Z order\n            else if (x0 >= z0) {\n                i1 = 1;\n                j1 = 0;\n                k1 = 0;\n                i2 = 1;\n                j2 = 0;\n                k2 = 1;\n            } // X Z Y order\n            else {\n                i1 = 0;\n                j1 = 0;\n                k1 = 1;\n                i2 = 1;\n                j2 = 0;\n                k2 = 1;\n            } // Z X Y order\n        }\n        else { // x0<y0\n            if (y0 < z0) {\n                i1 = 0;\n                j1 = 0;\n                k1 = 1;\n                i2 = 0;\n                j2 = 1;\n                k2 = 1;\n            } // Z Y X order\n            else if (x0 < z0) {\n                i1 = 0;\n                j1 = 1;\n                k1 = 0;\n                i2 = 0;\n                j2 = 1;\n                k2 = 1;\n            } // Y Z X order\n            else {\n                i1 = 0;\n                j1 = 1;\n                k1 = 0;\n                i2 = 1;\n                j2 = 1;\n                k2 = 0;\n            } // Y X Z order\n        }\n        // A step of (1,0,0) in (i,j,k) means a step of (1-c,-c,-c) in (x,y,z),\n        // a step of (0,1,0) in (i,j,k) means a step of (-c,1-c,-c) in (x,y,z), and\n        // a step of (0,0,1) in (i,j,k) means a step of (-c,-c,1-c) in (x,y,z), where\n        // c = 1/6.\n        const x1 = x0 - i1 + G3; // Offsets for second corner in (x,y,z) coords\n        const y1 = y0 - j1 + G3;\n        const z1 = z0 - k1 + G3;\n        const x2 = x0 - i2 + 2.0 * G3; // Offsets for third corner in (x,y,z) coords\n        const y2 = y0 - j2 + 2.0 * G3;\n        const z2 = z0 - k2 + 2.0 * G3;\n        const x3 = x0 - 1.0 + 3.0 * G3; // Offsets for last corner in (x,y,z) coords\n        const y3 = y0 - 1.0 + 3.0 * G3;\n        const z3 = z0 - 1.0 + 3.0 * G3;\n        // Work out the hashed gradient indices of the four simplex corners\n        const ii = i & 255;\n        const jj = j & 255;\n        const kk = k & 255;\n        // Calculate the contribution from the four corners\n        let t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0;\n        if (t0 < 0)\n            n0 = 0.0;\n        else {\n            const gi0 = ii + perm[jj + perm[kk]];\n            t0 *= t0;\n            n0 = t0 * t0 * (permGrad3x[gi0] * x0 + permGrad3y[gi0] * y0 + permGrad3z[gi0] * z0);\n        }\n        let t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1;\n        if (t1 < 0)\n            n1 = 0.0;\n        else {\n            const gi1 = ii + i1 + perm[jj + j1 + perm[kk + k1]];\n            t1 *= t1;\n            n1 = t1 * t1 * (permGrad3x[gi1] * x1 + permGrad3y[gi1] * y1 + permGrad3z[gi1] * z1);\n        }\n        let t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2;\n        if (t2 < 0)\n            n2 = 0.0;\n        else {\n            const gi2 = ii + i2 + perm[jj + j2 + perm[kk + k2]];\n            t2 *= t2;\n            n2 = t2 * t2 * (permGrad3x[gi2] * x2 + permGrad3y[gi2] * y2 + permGrad3z[gi2] * z2);\n        }\n        let t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3;\n        if (t3 < 0)\n            n3 = 0.0;\n        else {\n            const gi3 = ii + 1 + perm[jj + 1 + perm[kk + 1]];\n            t3 *= t3;\n            n3 = t3 * t3 * (permGrad3x[gi3] * x3 + permGrad3y[gi3] * y3 + permGrad3z[gi3] * z3);\n        }\n        // Add contributions from each corner to get the final noise value.\n        // The result is scaled to stay just inside [-1,1]\n        return 32.0 * (n0 + n1 + n2 + n3);\n    };\n}\n/**\n * Creates a 4D noise function\n * @param random the random function that will be used to build the permutation table\n * @returns {NoiseFunction4D}\n */\nexport function createNoise4D(random = Math.random) {\n    const perm = buildPermutationTable(random);\n    // precalculating these leads to a ~10% speedup\n    const permGrad4x = new Float64Array(perm).map(v => grad4[(v % 32) * 4]);\n    const permGrad4y = new Float64Array(perm).map(v => grad4[(v % 32) * 4 + 1]);\n    const permGrad4z = new Float64Array(perm).map(v => grad4[(v % 32) * 4 + 2]);\n    const permGrad4w = new Float64Array(perm).map(v => grad4[(v % 32) * 4 + 3]);\n    return function noise4D(x, y, z, w) {\n        let n0, n1, n2, n3, n4; // Noise contributions from the five corners\n        // Skew the (x,y,z,w) space to determine which cell of 24 simplices we're in\n        const s = (x + y + z + w) * F4; // Factor for 4D skewing\n        const i = fastFloor(x + s);\n        const j = fastFloor(y + s);\n        const k = fastFloor(z + s);\n        const l = fastFloor(w + s);\n        const t = (i + j + k + l) * G4; // Factor for 4D unskewing\n        const X0 = i - t; // Unskew the cell origin back to (x,y,z,w) space\n        const Y0 = j - t;\n        const Z0 = k - t;\n        const W0 = l - t;\n        const x0 = x - X0; // The x,y,z,w distances from the cell origin\n        const y0 = y - Y0;\n        const z0 = z - Z0;\n        const w0 = w - W0;\n        // For the 4D case, the simplex is a 4D shape I won't even try to describe.\n        // To find out which of the 24 possible simplices we're in, we need to\n        // determine the magnitude ordering of x0, y0, z0 and w0.\n        // Six pair-wise comparisons are performed between each possible pair\n        // of the four coordinates, and the results are used to rank the numbers.\n        let rankx = 0;\n        let ranky = 0;\n        let rankz = 0;\n        let rankw = 0;\n        if (x0 > y0)\n            rankx++;\n        else\n            ranky++;\n        if (x0 > z0)\n            rankx++;\n        else\n            rankz++;\n        if (x0 > w0)\n            rankx++;\n        else\n            rankw++;\n        if (y0 > z0)\n            ranky++;\n        else\n            rankz++;\n        if (y0 > w0)\n            ranky++;\n        else\n            rankw++;\n        if (z0 > w0)\n            rankz++;\n        else\n            rankw++;\n        // simplex[c] is a 4-vector with the numbers 0, 1, 2 and 3 in some order.\n        // Many values of c will never occur, since e.g. x>y>z>w makes x<z, y<w and x<w\n        // impossible. Only the 24 indices which have non-zero entries make any sense.\n        // We use a thresholding to set the coordinates in turn from the largest magnitude.\n        // Rank 3 denotes the largest coordinate.\n        // Rank 2 denotes the second largest coordinate.\n        // Rank 1 denotes the second smallest coordinate.\n        // The integer offsets for the second simplex corner\n        const i1 = rankx >= 3 ? 1 : 0;\n        const j1 = ranky >= 3 ? 1 : 0;\n        const k1 = rankz >= 3 ? 1 : 0;\n        const l1 = rankw >= 3 ? 1 : 0;\n        // The integer offsets for the third simplex corner\n        const i2 = rankx >= 2 ? 1 : 0;\n        const j2 = ranky >= 2 ? 1 : 0;\n        const k2 = rankz >= 2 ? 1 : 0;\n        const l2 = rankw >= 2 ? 1 : 0;\n        // The integer offsets for the fourth simplex corner\n        const i3 = rankx >= 1 ? 1 : 0;\n        const j3 = ranky >= 1 ? 1 : 0;\n        const k3 = rankz >= 1 ? 1 : 0;\n        const l3 = rankw >= 1 ? 1 : 0;\n        // The fifth corner has all coordinate offsets = 1, so no need to compute that.\n        const x1 = x0 - i1 + G4; // Offsets for second corner in (x,y,z,w) coords\n        const y1 = y0 - j1 + G4;\n        const z1 = z0 - k1 + G4;\n        const w1 = w0 - l1 + G4;\n        const x2 = x0 - i2 + 2.0 * G4; // Offsets for third corner in (x,y,z,w) coords\n        const y2 = y0 - j2 + 2.0 * G4;\n        const z2 = z0 - k2 + 2.0 * G4;\n        const w2 = w0 - l2 + 2.0 * G4;\n        const x3 = x0 - i3 + 3.0 * G4; // Offsets for fourth corner in (x,y,z,w) coords\n        const y3 = y0 - j3 + 3.0 * G4;\n        const z3 = z0 - k3 + 3.0 * G4;\n        const w3 = w0 - l3 + 3.0 * G4;\n        const x4 = x0 - 1.0 + 4.0 * G4; // Offsets for last corner in (x,y,z,w) coords\n        const y4 = y0 - 1.0 + 4.0 * G4;\n        const z4 = z0 - 1.0 + 4.0 * G4;\n        const w4 = w0 - 1.0 + 4.0 * G4;\n        // Work out the hashed gradient indices of the five simplex corners\n        const ii = i & 255;\n        const jj = j & 255;\n        const kk = k & 255;\n        const ll = l & 255;\n        // Calculate the contribution from the five corners\n        let t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0 - w0 * w0;\n        if (t0 < 0)\n            n0 = 0.0;\n        else {\n            const gi0 = ii + perm[jj + perm[kk + perm[ll]]];\n            t0 *= t0;\n            n0 = t0 * t0 * (permGrad4x[gi0] * x0 + permGrad4y[gi0] * y0 + permGrad4z[gi0] * z0 + permGrad4w[gi0] * w0);\n        }\n        let t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1 - w1 * w1;\n        if (t1 < 0)\n            n1 = 0.0;\n        else {\n            const gi1 = ii + i1 + perm[jj + j1 + perm[kk + k1 + perm[ll + l1]]];\n            t1 *= t1;\n            n1 = t1 * t1 * (permGrad4x[gi1] * x1 + permGrad4y[gi1] * y1 + permGrad4z[gi1] * z1 + permGrad4w[gi1] * w1);\n        }\n        let t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2 - w2 * w2;\n        if (t2 < 0)\n            n2 = 0.0;\n        else {\n            const gi2 = ii + i2 + perm[jj + j2 + perm[kk + k2 + perm[ll + l2]]];\n            t2 *= t2;\n            n2 = t2 * t2 * (permGrad4x[gi2] * x2 + permGrad4y[gi2] * y2 + permGrad4z[gi2] * z2 + permGrad4w[gi2] * w2);\n        }\n        let t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3 - w3 * w3;\n        if (t3 < 0)\n            n3 = 0.0;\n        else {\n            const gi3 = ii + i3 + perm[jj + j3 + perm[kk + k3 + perm[ll + l3]]];\n            t3 *= t3;\n            n3 = t3 * t3 * (permGrad4x[gi3] * x3 + permGrad4y[gi3] * y3 + permGrad4z[gi3] * z3 + permGrad4w[gi3] * w3);\n        }\n        let t4 = 0.6 - x4 * x4 - y4 * y4 - z4 * z4 - w4 * w4;\n        if (t4 < 0)\n            n4 = 0.0;\n        else {\n            const gi4 = ii + 1 + perm[jj + 1 + perm[kk + 1 + perm[ll + 1]]];\n            t4 *= t4;\n            n4 = t4 * t4 * (permGrad4x[gi4] * x4 + permGrad4y[gi4] * y4 + permGrad4z[gi4] * z4 + permGrad4w[gi4] * w4);\n        }\n        // Sum up and scale the result to cover the range [-1,1]\n        return 27.0 * (n0 + n1 + n2 + n3 + n4);\n    };\n}\n/**\n * Builds a random permutation table.\n * This is exported only for (internal) testing purposes.\n * Do not rely on this export.\n * @private\n */\nexport function buildPermutationTable(random) {\n    const tableSize = 512;\n    const p = new Uint8Array(tableSize);\n    for (let i = 0; i < tableSize / 2; i++) {\n        p[i] = i;\n    }\n    for (let i = 0; i < tableSize / 2 - 1; i++) {\n        const r = i + ~~(random() * (256 - i));\n        const aux = p[i];\n        p[i] = p[r];\n        p[r] = aux;\n    }\n    for (let i = 256; i < tableSize; i++) {\n        p[i] = p[i - 256];\n    }\n    return p;\n}\n//# sourceMappingURL=simplex-noise.js.map","/**\n * Particle System Engine\n *\n * Comprehensive particle simulation matching RyanOnTheInside's implementation.\n * Supports emitters, gravity wells, vortices, modulations, and audio reactivity.\n * Extended with turbulence fields, particle connections, sub-emitters, and burst on beat.\n */\nimport { EASING_PRESETS, applyEasing } from './interpolation';\nimport { createNoise2D } from 'simplex-noise';\n\n// ============================================================================\n// Types\n// ============================================================================\n\nexport interface Particle {\n  id: number;\n  x: number;\n  y: number;\n  prevX: number;\n  prevY: number;\n  vx: number;\n  vy: number;\n  age: number;\n  lifetime: number;\n  size: number;\n  baseSize: number;\n  color: [number, number, number, number];\n  baseColor: [number, number, number, number];\n  emitterId: string;\n  isSubParticle: boolean;\n}\n\nexport interface TurbulenceConfig {\n  id: string;\n  enabled: boolean;\n  scale: number;              // Noise frequency, 0.001-0.01 (smaller = larger swirls)\n  strength: number;           // Force magnitude, 0-500\n  evolutionSpeed: number;     // How fast noise changes over time, 0-1\n}\n\nexport interface ConnectionConfig {\n  enabled: boolean;\n  maxDistance: number;        // Pixels, connect if closer than this\n  maxConnections: number;     // Per particle, 1-5 (HARD LIMIT for performance)\n  lineWidth: number;          // 0.5-3\n  lineOpacity: number;        // 0-1\n  fadeByDistance: boolean;    // Opacity decreases with distance\n}\n\nexport interface SubEmitterConfig {\n  id: string;\n  parentEmitterId: string;    // Which emitter's particles trigger this, or '*' for all\n  trigger: 'death';           // Only death trigger for now\n  spawnCount: number;         // 1-10 particles on trigger\n  inheritVelocity: number;    // 0-1, how much parent velocity inherited\n  size: number;\n  sizeVariance: number;\n  lifetime: number;           // Frames\n  speed: number;\n  spread: number;             // Degrees, emission cone\n  color: [number, number, number];\n  enabled: boolean;\n}\n\ninterface SpatialGrid {\n  cellSize: number;\n  cells: Map<string, Particle[]>;\n}\n\nexport interface EmitterConfig {\n  id: string;\n  name: string;\n  x: number;\n  y: number;\n  direction: number;\n  spread: number;\n  speed: number;\n  speedVariance: number;\n  size: number;\n  sizeVariance: number;\n  color: [number, number, number];\n  emissionRate: number;\n  initialBurst: number;\n  particleLifetime: number;\n  lifetimeVariance: number;\n  enabled: boolean;\n  burstOnBeat: boolean;\n  burstCount: number;\n}\n\nexport interface GravityWellConfig {\n  id: string;\n  name: string;\n  x: number;\n  y: number;\n  strength: number;\n  radius: number;\n  falloff: 'linear' | 'quadratic' | 'constant';\n  enabled: boolean;\n}\n\nexport interface VortexConfig {\n  id: string;\n  name: string;\n  x: number;\n  y: number;\n  strength: number;\n  radius: number;\n  rotationSpeed: number;\n  inwardPull: number;\n  enabled: boolean;\n}\n\nexport interface ParticleModulation {\n  id: string;\n  emitterId: string;\n  property: 'size' | 'speed' | 'opacity' | 'colorR' | 'colorG' | 'colorB';\n  startValue: number;\n  endValue: number;\n  easing: string;\n}\n\nexport interface ParticleSystemConfig {\n  maxParticles: number;\n  gravity: number;\n  windStrength: number;\n  windDirection: number;\n  warmupPeriod: number;\n  respectMaskBoundary: boolean;\n  boundaryBehavior: 'bounce' | 'kill' | 'wrap';\n  friction: number;\n  turbulenceFields: TurbulenceConfig[];\n  subEmitters: SubEmitterConfig[];\n}\n\nexport interface RenderOptions {\n  blendMode: 'normal' | 'additive' | 'multiply' | 'screen';\n  renderTrails: boolean;\n  trailLength: number;\n  trailOpacityFalloff: number;\n  particleShape: 'circle' | 'square' | 'triangle' | 'star';\n  glowEnabled: boolean;\n  glowRadius: number;\n  glowIntensity: number;\n  // Motion blur settings\n  motionBlur: boolean;\n  motionBlurStrength: number;   // 0-1, how much to stretch based on velocity\n  motionBlurSamples: number;    // Number of samples for blur (1-16)\n  // Particle connection settings\n  connections: ConnectionConfig;\n}\n\n// ============================================================================\n// Default Configurations\n// ============================================================================\n\nexport function createDefaultEmitterConfig(id?: string): EmitterConfig {\n  return {\n    id: id || `emitter_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n    name: 'Emitter',\n    x: 0.5,\n    y: 0.5,\n    direction: 270,\n    spread: 30,\n    speed: 330,\n    speedVariance: 50,\n    size: 17,\n    sizeVariance: 5,\n    color: [255, 255, 255],\n    emissionRate: 10,\n    initialBurst: 0,\n    particleLifetime: 60,\n    lifetimeVariance: 10,\n    enabled: true,\n    burstOnBeat: false,\n    burstCount: 20\n  };\n}\n\nexport function createDefaultTurbulenceConfig(id?: string): TurbulenceConfig {\n  return {\n    id: id || `turb_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n    enabled: true,\n    scale: 0.005,\n    strength: 100,\n    evolutionSpeed: 0.3\n  };\n}\n\nexport function createDefaultConnectionConfig(): ConnectionConfig {\n  return {\n    enabled: false,\n    maxDistance: 100,\n    maxConnections: 3,\n    lineWidth: 1,\n    lineOpacity: 0.5,\n    fadeByDistance: true\n  };\n}\n\nexport function createDefaultSubEmitterConfig(id?: string): SubEmitterConfig {\n  return {\n    id: id || `sub_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n    parentEmitterId: '*',\n    trigger: 'death',\n    spawnCount: 3,\n    inheritVelocity: 0.3,\n    size: 8,\n    sizeVariance: 2,\n    lifetime: 30,\n    speed: 0.1,\n    spread: 180,\n    color: [255, 200, 100],\n    enabled: true\n  };\n}\n\nexport function createDefaultGravityWellConfig(id?: string): GravityWellConfig {\n  return {\n    id: id || `well_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n    name: 'Gravity Well',\n    x: 0.5,\n    y: 0.5,\n    strength: 100,\n    radius: 0.3,\n    falloff: 'quadratic',\n    enabled: true\n  };\n}\n\nexport function createDefaultVortexConfig(id?: string): VortexConfig {\n  return {\n    id: id || `vortex_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n    name: 'Vortex',\n    x: 0.5,\n    y: 0.5,\n    strength: 200,\n    radius: 0.3,\n    rotationSpeed: 5,\n    inwardPull: 10,\n    enabled: true\n  };\n}\n\nexport function createDefaultSystemConfig(): ParticleSystemConfig {\n  return {\n    maxParticles: 10000,\n    gravity: 0,\n    windStrength: 0,\n    windDirection: 0,\n    warmupPeriod: 0,\n    respectMaskBoundary: false,\n    boundaryBehavior: 'kill',\n    friction: 0.01,\n    turbulenceFields: [],\n    subEmitters: []\n  };\n}\n\nexport function createDefaultRenderOptions(): RenderOptions {\n  return {\n    blendMode: 'additive',\n    renderTrails: false,\n    trailLength: 5,\n    trailOpacityFalloff: 0.7,\n    particleShape: 'circle',\n    glowEnabled: false,\n    glowRadius: 10,\n    glowIntensity: 0.5,\n    motionBlur: false,\n    motionBlurStrength: 0.5,\n    motionBlurSamples: 8,\n    connections: createDefaultConnectionConfig()\n  };\n}\n\n// ============================================================================\n// Particle System Class\n// ============================================================================\n\nexport class ParticleSystem {\n  private particles: Particle[] = [];\n  private emitters: Map<string, EmitterConfig> = new Map();\n  private gravityWells: Map<string, GravityWellConfig> = new Map();\n  private vortices: Map<string, VortexConfig> = new Map();\n  private modulations: ParticleModulation[] = [];\n  private config: ParticleSystemConfig;\n  private boundaryMask: ImageData | null = null;\n  private frameCount: number = 0;\n  private emissionAccumulators: Map<string, number> = new Map();\n  private nextParticleId: number = 0;\n  private trailHistory: Map<number, Array<{x: number; y: number}>> = new Map();\n\n  // Audio reactivity state\n  private featureOverrides: Map<string, number> = new Map();\n\n  // Turbulence noise generator\n  private noise2D: ReturnType<typeof createNoise2D>;\n  private noiseTime: number = 0;\n\n  // Render options cache for spatial grid\n  private renderOptions: RenderOptions = createDefaultRenderOptions();\n\n  constructor(config: Partial<ParticleSystemConfig> = {}) {\n    this.config = { ...createDefaultSystemConfig(), ...config };\n    this.noise2D = createNoise2D();\n  }\n\n  // ============================================================================\n  // Emitter Management\n  // ============================================================================\n\n  addEmitter(config: EmitterConfig): void {\n    this.emitters.set(config.id, { ...config });\n    this.emissionAccumulators.set(config.id, 0);\n\n    // Handle initial burst\n    if (config.initialBurst > 0 && config.enabled) {\n      const burstCount = Math.floor(config.emissionRate * config.initialBurst * 10);\n      for (let i = 0; i < burstCount; i++) {\n        this.spawnParticle(config);\n      }\n    }\n  }\n\n  updateEmitter(id: string, updates: Partial<EmitterConfig>): void {\n    const emitter = this.emitters.get(id);\n    if (emitter) {\n      Object.assign(emitter, updates);\n    }\n  }\n\n  removeEmitter(id: string): void {\n    this.emitters.delete(id);\n    this.emissionAccumulators.delete(id);\n  }\n\n  getEmitter(id: string): EmitterConfig | undefined {\n    return this.emitters.get(id);\n  }\n\n  getEmitters(): EmitterConfig[] {\n    return Array.from(this.emitters.values());\n  }\n\n  // ============================================================================\n  // Gravity Well Management\n  // ============================================================================\n\n  addGravityWell(config: GravityWellConfig): void {\n    this.gravityWells.set(config.id, { ...config });\n  }\n\n  updateGravityWell(id: string, updates: Partial<GravityWellConfig>): void {\n    const well = this.gravityWells.get(id);\n    if (well) {\n      Object.assign(well, updates);\n    }\n  }\n\n  removeGravityWell(id: string): void {\n    this.gravityWells.delete(id);\n  }\n\n  getGravityWells(): GravityWellConfig[] {\n    return Array.from(this.gravityWells.values());\n  }\n\n  // ============================================================================\n  // Vortex Management\n  // ============================================================================\n\n  addVortex(config: VortexConfig): void {\n    this.vortices.set(config.id, { ...config });\n  }\n\n  updateVortex(id: string, updates: Partial<VortexConfig>): void {\n    const vortex = this.vortices.get(id);\n    if (vortex) {\n      Object.assign(vortex, updates);\n    }\n  }\n\n  removeVortex(id: string): void {\n    this.vortices.delete(id);\n  }\n\n  getVortices(): VortexConfig[] {\n    return Array.from(this.vortices.values());\n  }\n\n  // ============================================================================\n  // Modulation Management\n  // ============================================================================\n\n  addModulation(mod: ParticleModulation): void {\n    this.modulations.push({ ...mod });\n  }\n\n  removeModulation(id: string): void {\n    const index = this.modulations.findIndex(m => m.id === id);\n    if (index >= 0) {\n      this.modulations.splice(index, 1);\n    }\n  }\n\n  getModulations(): ParticleModulation[] {\n    return [...this.modulations];\n  }\n\n  // ============================================================================\n  // Boundary Mask\n  // ============================================================================\n\n  setBoundaryMask(mask: ImageData | null): void {\n    this.boundaryMask = mask;\n  }\n\n  // ============================================================================\n  // Audio Reactivity\n  // ============================================================================\n\n  setFeatureValue(param: string, value: number, emitterId?: string): void {\n    const key = emitterId ? `${emitterId}:${param}` : `*:${param}`;\n    this.featureOverrides.set(key, value);\n  }\n\n  private getFeatureValue(param: string, emitterId: string): number | undefined {\n    // Check specific emitter first, then global\n    return this.featureOverrides.get(`${emitterId}:${param}`)\n        ?? this.featureOverrides.get(`*:${param}`);\n  }\n\n  // ============================================================================\n  // Simulation\n  // ============================================================================\n\n  step(deltaTime: number = 1): void {\n    // 1. Spawn new particles from emitters\n    this.emitters.forEach((emitter, id) => {\n      if (!emitter.enabled) return;\n\n      // Get potentially audio-modified emission rate\n      const baseRate = this.getFeatureValue('emissionRate', id) ?? emitter.emissionRate;\n      const particlesToEmit = baseRate * deltaTime;\n\n      // Accumulate fractional particles\n      let accumulated = (this.emissionAccumulators.get(id) || 0) + particlesToEmit;\n\n      while (accumulated >= 1 && this.particles.length < this.config.maxParticles) {\n        this.spawnParticle(emitter);\n        accumulated -= 1;\n      }\n\n      this.emissionAccumulators.set(id, accumulated);\n    });\n\n    // 2. Update each particle\n    const windRadians = (this.config.windDirection * Math.PI) / 180;\n    const windX = Math.cos(windRadians) * this.config.windStrength * 0.001;\n    const windY = Math.sin(windRadians) * this.config.windStrength * 0.001;\n\n    // Get potentially audio-modified global values\n    const gravity = this.getFeatureValue('gravity', '*') ?? this.config.gravity;\n    const windStrength = this.getFeatureValue('windStrength', '*') ?? this.config.windStrength;\n    const actualWindX = windX * (windStrength / Math.max(1, this.config.windStrength));\n    const actualWindY = windY * (windStrength / Math.max(1, this.config.windStrength));\n\n    for (let i = this.particles.length - 1; i >= 0; i--) {\n      const p = this.particles[i];\n\n      // Store previous position for trails\n      p.prevX = p.x;\n      p.prevY = p.y;\n\n      // Update trail history\n      if (this.trailHistory.has(p.id)) {\n        const trail = this.trailHistory.get(p.id)!;\n        trail.unshift({ x: p.x, y: p.y });\n        if (trail.length > 20) trail.pop();\n      }\n\n      // a. Apply global gravity\n      p.vy += gravity * 0.001 * deltaTime;\n\n      // b. Apply wind\n      p.vx += actualWindX * deltaTime;\n      p.vy += actualWindY * deltaTime;\n\n      // c. Apply gravity wells\n      this.gravityWells.forEach(well => {\n        if (!well.enabled) return;\n\n        const dx = well.x - p.x;\n        const dy = well.y - p.y;\n        const dist = Math.sqrt(dx * dx + dy * dy);\n\n        if (dist < well.radius && dist > 0.001) {\n          let force = well.strength * 0.0001;\n\n          // Apply falloff\n          switch (well.falloff) {\n            case 'linear':\n              force *= 1 - (dist / well.radius);\n              break;\n            case 'quadratic':\n              force *= Math.pow(1 - (dist / well.radius), 2);\n              break;\n            case 'constant':\n              // No falloff\n              break;\n          }\n\n          // Normalize and apply force\n          const nx = dx / dist;\n          const ny = dy / dist;\n          p.vx += nx * force * deltaTime;\n          p.vy += ny * force * deltaTime;\n        }\n      });\n\n      // d. Apply vortices\n      this.vortices.forEach(vortex => {\n        if (!vortex.enabled) return;\n\n        const dx = vortex.x - p.x;\n        const dy = vortex.y - p.y;\n        const dist = Math.sqrt(dx * dx + dy * dy);\n\n        if (dist < vortex.radius && dist > 0.001) {\n          const influence = 1 - (dist / vortex.radius);\n          const strength = vortex.strength * 0.0001 * influence;\n\n          // Perpendicular force (tangential)\n          const nx = dx / dist;\n          const ny = dy / dist;\n          const perpX = -ny;\n          const perpY = nx;\n\n          p.vx += perpX * strength * deltaTime;\n          p.vy += perpY * strength * deltaTime;\n\n          // Inward pull (spiral)\n          const inward = vortex.inwardPull * 0.0001 * influence;\n          p.vx += nx * inward * deltaTime;\n          p.vy += ny * inward * deltaTime;\n        }\n      });\n\n      // e. Apply turbulence fields\n      this.applyTurbulence(p, deltaTime);\n\n      // f. Apply friction\n      const frictionFactor = 1 - this.config.friction;\n      p.vx *= frictionFactor;\n      p.vy *= frictionFactor;\n\n      // g. Update position\n      p.x += p.vx * deltaTime;\n      p.y += p.vy * deltaTime;\n\n      // g. Check boundary collision\n      if (this.boundaryMask && this.config.respectMaskBoundary) {\n        this.handleBoundaryCollision(p);\n      }\n\n      // Simple canvas boundary handling\n      this.handleCanvasBoundary(p);\n\n      // h. Apply modulations based on age/lifetime ratio\n      this.applyModulations(p);\n\n      // j. Increment age\n      p.age += deltaTime;\n\n      // k. Remove if age > lifetime, trigger sub-emitters on death\n      if (p.age > p.lifetime) {\n        // Trigger sub-emitters for non-sub particles\n        if (!p.isSubParticle) {\n          this.triggerSubEmitters(p);\n        }\n        this.particles.splice(i, 1);\n        this.trailHistory.delete(p.id);\n      }\n    }\n\n    // Increment noise time for turbulence evolution\n    this.noiseTime += deltaTime;\n    this.frameCount++;\n  }\n\n  private spawnParticle(emitter: EmitterConfig): void {\n    if (this.particles.length >= this.config.maxParticles) return;\n\n    // Calculate emission direction with spread\n    const spreadRad = (emitter.spread * Math.PI) / 180;\n    const baseRad = (emitter.direction * Math.PI) / 180;\n    const angle = baseRad + (Math.random() - 0.5) * spreadRad;\n\n    // Calculate speed with variance\n    const speed = emitter.speed + (Math.random() - 0.5) * 2 * emitter.speedVariance;\n    const speedNormalized = speed * 0.001;\n\n    // Calculate size with variance\n    const size = Math.max(1, emitter.size + (Math.random() - 0.5) * 2 * emitter.sizeVariance);\n\n    // Calculate lifetime with variance\n    const lifetime = Math.max(1, emitter.particleLifetime + (Math.random() - 0.5) * 2 * emitter.lifetimeVariance);\n\n    const particle: Particle = {\n      id: this.nextParticleId++,\n      x: emitter.x,\n      y: emitter.y,\n      prevX: emitter.x,\n      prevY: emitter.y,\n      vx: Math.cos(angle) * speedNormalized,\n      vy: Math.sin(angle) * speedNormalized,\n      age: 0,\n      lifetime,\n      size,\n      baseSize: size,\n      color: [...emitter.color, 255] as [number, number, number, number],\n      baseColor: [...emitter.color, 255] as [number, number, number, number],\n      emitterId: emitter.id,\n      isSubParticle: false\n    };\n\n    this.particles.push(particle);\n    this.trailHistory.set(particle.id, [{ x: particle.x, y: particle.y }]);\n  }\n\n  private handleBoundaryCollision(p: Particle): void {\n    if (!this.boundaryMask) return;\n\n    const px = Math.floor(p.x * this.boundaryMask.width);\n    const py = Math.floor(p.y * this.boundaryMask.height);\n\n    if (px < 0 || px >= this.boundaryMask.width || py < 0 || py >= this.boundaryMask.height) {\n      return;\n    }\n\n    const idx = (py * this.boundaryMask.width + px) * 4;\n    const maskValue = this.boundaryMask.data[idx]; // Use red channel\n\n    // If mask is black (0), particle is in restricted area\n    if (maskValue < 128) {\n      switch (this.config.boundaryBehavior) {\n        case 'bounce':\n          // Simple bounce - reverse velocity\n          p.vx *= -0.8;\n          p.vy *= -0.8;\n          // Move back\n          p.x = p.prevX;\n          p.y = p.prevY;\n          break;\n        case 'kill':\n          p.age = p.lifetime + 1;\n          break;\n        case 'wrap':\n          // Find valid position (simplified)\n          p.x = Math.random();\n          p.y = Math.random();\n          break;\n      }\n    }\n  }\n\n  private handleCanvasBoundary(p: Particle): void {\n    switch (this.config.boundaryBehavior) {\n      case 'bounce':\n        if (p.x < 0) { p.x = 0; p.vx *= -0.8; }\n        if (p.x > 1) { p.x = 1; p.vx *= -0.8; }\n        if (p.y < 0) { p.y = 0; p.vy *= -0.8; }\n        if (p.y > 1) { p.y = 1; p.vy *= -0.8; }\n        break;\n      case 'kill':\n        if (p.x < -0.1 || p.x > 1.1 || p.y < -0.1 || p.y > 1.1) {\n          p.age = p.lifetime + 1;\n        }\n        break;\n      case 'wrap':\n        if (p.x < 0) p.x += 1;\n        if (p.x > 1) p.x -= 1;\n        if (p.y < 0) p.y += 1;\n        if (p.y > 1) p.y -= 1;\n        break;\n    }\n  }\n\n  private applyModulations(p: Particle): void {\n    const lifeRatio = p.age / p.lifetime;\n\n    for (const mod of this.modulations) {\n      // Check if modulation applies to this particle's emitter\n      if (mod.emitterId !== '*' && mod.emitterId !== p.emitterId) continue;\n\n      // Get eased value\n      const easingKey = mod.easing as keyof typeof EASING_PRESETS;\n      const easing = EASING_PRESETS[easingKey] || EASING_PRESETS.linear;\n      const easedRatio = applyEasing(lifeRatio, easing);\n      const value = mod.startValue + (mod.endValue - mod.startValue) * easedRatio;\n\n      switch (mod.property) {\n        case 'size':\n          p.size = p.baseSize * value;\n          break;\n        case 'speed':\n          // Modulate current velocity magnitude\n          const currentSpeed = Math.sqrt(p.vx * p.vx + p.vy * p.vy);\n          if (currentSpeed > 0.0001) {\n            const scale = value / Math.max(0.0001, currentSpeed * 1000);\n            p.vx *= scale;\n            p.vy *= scale;\n          }\n          break;\n        case 'opacity':\n          p.color[3] = Math.max(0, Math.min(255, p.baseColor[3] * value));\n          break;\n        case 'colorR':\n          p.color[0] = Math.max(0, Math.min(255, value * 255));\n          break;\n        case 'colorG':\n          p.color[1] = Math.max(0, Math.min(255, value * 255));\n          break;\n        case 'colorB':\n          p.color[2] = Math.max(0, Math.min(255, value * 255));\n          break;\n      }\n    }\n  }\n\n  // ============================================================================\n  // Turbulence\n  // ============================================================================\n\n  private applyTurbulence(p: Particle, deltaTime: number): void {\n    const turbFields = this.config.turbulenceFields || [];\n    for (const turb of turbFields) {\n      if (!turb.enabled) continue;\n      const nx = p.x * turb.scale * 1000;  // Scale up for noise variation\n      const ny = p.y * turb.scale * 1000;\n      const nt = this.noiseTime * turb.evolutionSpeed;\n      const angle = this.noise2D(nx + nt, ny + nt) * Math.PI * 2;\n      const force = turb.strength * 0.00001;\n      p.vx += Math.cos(angle) * force * deltaTime;\n      p.vy += Math.sin(angle) * force * deltaTime;\n    }\n  }\n\n  addTurbulence(config: TurbulenceConfig): void {\n    if (!this.config.turbulenceFields) this.config.turbulenceFields = [];\n    this.config.turbulenceFields.push(config);\n  }\n\n  updateTurbulence(id: string, updates: Partial<TurbulenceConfig>): void {\n    const turb = this.config.turbulenceFields?.find(t => t.id === id);\n    if (turb) Object.assign(turb, updates);\n  }\n\n  removeTurbulence(id: string): void {\n    if (this.config.turbulenceFields) {\n      this.config.turbulenceFields = this.config.turbulenceFields.filter(t => t.id !== id);\n    }\n  }\n\n  getTurbulenceFields(): TurbulenceConfig[] {\n    return this.config.turbulenceFields || [];\n  }\n\n  // ============================================================================\n  // Sub-Emitters\n  // ============================================================================\n\n  private triggerSubEmitters(deadParticle: Particle): void {\n    const subEmitters = this.config.subEmitters || [];\n    for (const sub of subEmitters) {\n      if (!sub.enabled) continue;\n      if (sub.parentEmitterId !== '*' && sub.parentEmitterId !== deadParticle.emitterId) continue;\n\n      for (let i = 0; i < sub.spawnCount; i++) {\n        const angle = (Math.random() - 0.5) * sub.spread * Math.PI / 180;\n        const baseAngle = Math.atan2(deadParticle.vy, deadParticle.vx);\n        const emitAngle = baseAngle + angle;\n        const inheritedSpeed = Math.sqrt(deadParticle.vx ** 2 + deadParticle.vy ** 2) * sub.inheritVelocity;\n        const totalSpeed = sub.speed * 0.001 + inheritedSpeed;\n\n        const particle: Particle = {\n          id: this.nextParticleId++,\n          x: deadParticle.x,\n          y: deadParticle.y,\n          prevX: deadParticle.x,\n          prevY: deadParticle.y,\n          vx: Math.cos(emitAngle) * totalSpeed + deadParticle.vx * sub.inheritVelocity,\n          vy: Math.sin(emitAngle) * totalSpeed + deadParticle.vy * sub.inheritVelocity,\n          age: 0,\n          lifetime: sub.lifetime * (1 + (Math.random() - 0.5) * 0.2),\n          size: sub.size * (1 + (Math.random() - 0.5) * sub.sizeVariance / sub.size),\n          baseSize: sub.size,\n          color: [...sub.color, 255] as [number, number, number, number],\n          baseColor: [...sub.color, 255] as [number, number, number, number],\n          emitterId: sub.id,\n          isSubParticle: true\n        };\n\n        this.particles.push(particle);\n        this.trailHistory.set(particle.id, [{ x: particle.x, y: particle.y }]);\n      }\n    }\n  }\n\n  addSubEmitter(config: SubEmitterConfig): void {\n    if (!this.config.subEmitters) this.config.subEmitters = [];\n    this.config.subEmitters.push(config);\n  }\n\n  updateSubEmitter(id: string, updates: Partial<SubEmitterConfig>): void {\n    const sub = this.config.subEmitters?.find(s => s.id === id);\n    if (sub) Object.assign(sub, updates);\n  }\n\n  removeSubEmitter(id: string): void {\n    if (this.config.subEmitters) {\n      this.config.subEmitters = this.config.subEmitters.filter(s => s.id !== id);\n    }\n  }\n\n  getSubEmitters(): SubEmitterConfig[] {\n    return this.config.subEmitters || [];\n  }\n\n  // ============================================================================\n  // Burst on Beat\n  // ============================================================================\n\n  triggerBurst(emitterId: string, count?: number): void {\n    const emitter = this.emitters.get(emitterId);\n    if (!emitter || !emitter.enabled) return;\n    const burstCount = count ?? emitter.burstCount ?? 20;\n    for (let i = 0; i < burstCount; i++) {\n      this.spawnParticle(emitter);\n    }\n  }\n\n  triggerAllBursts(): void {\n    for (const emitter of this.emitters.values()) {\n      if (emitter.burstOnBeat && emitter.enabled) {\n        this.triggerBurst(emitter.id);\n      }\n    }\n  }\n\n  // ============================================================================\n  // Particle Connections - Spatial Grid\n  // ============================================================================\n\n  private buildSpatialGrid(): SpatialGrid {\n    const cellSize = this.renderOptions.connections?.maxDistance || 100;\n    const cells = new Map<string, Particle[]>();\n    for (const p of this.particles) {\n      const cellX = Math.floor(p.x * 1000 / cellSize);  // Scale normalized coords\n      const cellY = Math.floor(p.y * 1000 / cellSize);\n      const key = `${cellX},${cellY}`;\n      if (!cells.has(key)) cells.set(key, []);\n      cells.get(key)!.push(p);\n    }\n    return { cellSize, cells };\n  }\n\n  private getNeighborParticles(p: Particle, grid: SpatialGrid): Particle[] {\n    const cellX = Math.floor(p.x * 1000 / grid.cellSize);\n    const cellY = Math.floor(p.y * 1000 / grid.cellSize);\n    const neighbors: Particle[] = [];\n    for (let dx = -1; dx <= 1; dx++) {\n      for (let dy = -1; dy <= 1; dy++) {\n        const key = `${cellX + dx},${cellY + dy}`;\n        const cell = grid.cells.get(key);\n        if (cell) neighbors.push(...cell);\n      }\n    }\n    return neighbors;\n  }\n\n  private renderConnections(\n    ctx: CanvasRenderingContext2D | OffscreenCanvasRenderingContext2D,\n    width: number,\n    height: number\n  ): void {\n    const config = this.renderOptions.connections;\n    if (!config?.enabled || this.particles.length < 2) return;\n\n    const grid = this.buildSpatialGrid();\n    const maxDist = config.maxDistance / 1000;  // Normalize to 0-1\n    const maxDistSq = maxDist * maxDist;\n\n    ctx.lineWidth = config.lineWidth;\n\n    for (const p of this.particles) {\n      const neighbors = this.getNeighborParticles(p, grid);\n      let connectionCount = 0;\n\n      for (const other of neighbors) {\n        if (other.id <= p.id) continue;  // Only draw each connection once\n        if (connectionCount >= config.maxConnections) break;\n\n        const dx = other.x - p.x;\n        const dy = other.y - p.y;\n        const distSq = dx * dx + dy * dy;\n\n        if (distSq < maxDistSq) {\n          const dist = Math.sqrt(distSq);\n          let opacity = config.lineOpacity;\n          if (config.fadeByDistance) {\n            opacity *= 1 - (dist / maxDist);\n          }\n\n          const r = Math.round((p.color[0] + other.color[0]) / 2);\n          const g = Math.round((p.color[1] + other.color[1]) / 2);\n          const b = Math.round((p.color[2] + other.color[2]) / 2);\n\n          ctx.strokeStyle = `rgba(${r},${g},${b},${opacity})`;\n          ctx.beginPath();\n          ctx.moveTo(p.x * width, p.y * height);\n          ctx.lineTo(other.x * width, other.y * height);\n          ctx.stroke();\n\n          connectionCount++;\n        }\n      }\n    }\n  }\n\n  reset(): void {\n    this.particles = [];\n    this.frameCount = 0;\n    this.trailHistory.clear();\n    this.emissionAccumulators.forEach((_, key) => {\n      this.emissionAccumulators.set(key, 0);\n    });\n    this.nextParticleId = 0;\n  }\n\n  warmup(): void {\n    for (let i = 0; i < this.config.warmupPeriod; i++) {\n      this.step(1);\n    }\n  }\n\n  getParticles(): readonly Particle[] {\n    return this.particles;\n  }\n\n  getParticleCount(): number {\n    return this.particles.length;\n  }\n\n  getConfig(): ParticleSystemConfig {\n    return { ...this.config };\n  }\n\n  setConfig(updates: Partial<ParticleSystemConfig>): void {\n    Object.assign(this.config, updates);\n  }\n\n  // ============================================================================\n  // Rendering\n  // ============================================================================\n\n  renderToCanvas(\n    ctx: CanvasRenderingContext2D,\n    width: number,\n    height: number,\n    options: RenderOptions = createDefaultRenderOptions()\n  ): void {\n    // Cache render options for spatial grid\n    this.renderOptions = options;\n    ctx.save();\n\n    // Set blend mode\n    switch (options.blendMode) {\n      case 'additive':\n        ctx.globalCompositeOperation = 'lighter';\n        break;\n      case 'multiply':\n        ctx.globalCompositeOperation = 'multiply';\n        break;\n      case 'screen':\n        ctx.globalCompositeOperation = 'screen';\n        break;\n      default:\n        ctx.globalCompositeOperation = 'source-over';\n    }\n\n    // Render particle connections first, before particles\n    this.renderConnections(ctx, width, height);\n\n    for (const p of this.particles) {\n      const x = p.x * width;\n      const y = p.y * height;\n      const size = p.size;\n\n      // Render trails first\n      if (options.renderTrails) {\n        const trail = this.trailHistory.get(p.id);\n        if (trail && trail.length > 1) {\n          ctx.beginPath();\n          ctx.moveTo(x, y);\n\n          const trailLen = Math.min(trail.length, options.trailLength);\n          for (let i = 0; i < trailLen; i++) {\n            const tp = trail[i];\n            const opacity = p.color[3] * Math.pow(options.trailOpacityFalloff, i + 1);\n            ctx.strokeStyle = `rgba(${p.color[0]}, ${p.color[1]}, ${p.color[2]}, ${opacity / 255})`;\n            ctx.lineWidth = size * Math.pow(options.trailOpacityFalloff, i);\n            ctx.lineTo(tp.x * width, tp.y * height);\n          }\n          ctx.stroke();\n        }\n      }\n\n      // Apply glow\n      if (options.glowEnabled) {\n        ctx.shadowBlur = options.glowRadius;\n        ctx.shadowColor = `rgba(${p.color[0]}, ${p.color[1]}, ${p.color[2]}, ${options.glowIntensity})`;\n      } else {\n        ctx.shadowBlur = 0;\n      }\n\n      // Motion blur rendering\n      if (options.motionBlur && (p.vx !== 0 || p.vy !== 0)) {\n        this.renderParticleWithMotionBlur(ctx, p, x, y, size, width, height, options);\n      } else {\n        // Standard particle rendering\n        this.renderParticleShape(ctx, x, y, size, p.color, options.particleShape);\n      }\n    }\n\n    ctx.restore();\n  }\n\n  /**\n   * Render a single particle with motion blur effect\n   */\n  private renderParticleWithMotionBlur(\n    ctx: CanvasRenderingContext2D,\n    p: Particle,\n    x: number,\n    y: number,\n    size: number,\n    _width: number,\n    _height: number,\n    options: RenderOptions\n  ): void {\n    // Calculate velocity magnitude\n    const velocityMag = Math.sqrt(p.vx * p.vx + p.vy * p.vy);\n\n    // If velocity is too small, render normally\n    if (velocityMag < 0.0001) {\n      this.renderParticleShape(ctx, x, y, size, p.color, options.particleShape);\n      return;\n    }\n\n    // Calculate blur stretch based on velocity\n    const stretchFactor = options.motionBlurStrength * velocityMag * 500;\n    const samples = Math.min(options.motionBlurSamples, 16);\n\n    // Direction of motion\n    const dirX = p.vx / velocityMag;\n    const dirY = p.vy / velocityMag;\n\n    // Calculate stretch distance in pixels\n    const stretchDistance = Math.min(stretchFactor * size, size * 10);\n\n    // Render multiple samples along the motion vector\n    for (let i = 0; i < samples; i++) {\n      const t = i / (samples - 1); // 0 to 1\n      const sampleOpacity = (1 - t * 0.8) / samples; // Fade towards the back\n\n      // Position along the blur streak (from current position to where we were)\n      const sampleX = x - dirX * stretchDistance * t;\n      const sampleY = y - dirY * stretchDistance * t;\n\n      // Size reduces towards back of blur\n      const sampleSize = size * (1 - t * 0.3);\n\n      // Set color with adjusted opacity\n      const alpha = (p.color[3] / 255) * sampleOpacity * samples;\n      ctx.fillStyle = `rgba(${p.color[0]}, ${p.color[1]}, ${p.color[2]}, ${Math.min(1, alpha)})`;\n\n      // Draw sample\n      this.renderParticleShape(ctx, sampleX, sampleY, sampleSize, null, options.particleShape);\n    }\n\n    // Draw the main particle at full opacity\n    ctx.fillStyle = `rgba(${p.color[0]}, ${p.color[1]}, ${p.color[2]}, ${p.color[3] / 255})`;\n    this.renderParticleShape(ctx, x, y, size, p.color, options.particleShape);\n  }\n\n  /**\n   * Render a particle shape at given position\n   */\n  private renderParticleShape(\n    ctx: CanvasRenderingContext2D,\n    x: number,\n    y: number,\n    size: number,\n    color: [number, number, number, number] | null,\n    shape: RenderOptions['particleShape']\n  ): void {\n    // Set fill color if provided\n    if (color) {\n      ctx.fillStyle = `rgba(${color[0]}, ${color[1]}, ${color[2]}, ${color[3] / 255})`;\n    }\n\n    // Draw particle shape\n    switch (shape) {\n      case 'circle':\n        ctx.beginPath();\n        ctx.arc(x, y, size / 2, 0, Math.PI * 2);\n        ctx.fill();\n        break;\n\n      case 'square':\n        ctx.fillRect(x - size / 2, y - size / 2, size, size);\n        break;\n\n      case 'triangle':\n        ctx.beginPath();\n        ctx.moveTo(x, y - size / 2);\n        ctx.lineTo(x - size / 2, y + size / 2);\n        ctx.lineTo(x + size / 2, y + size / 2);\n        ctx.closePath();\n        ctx.fill();\n        break;\n\n      case 'star':\n        this.drawStar(ctx, x, y, 5, size / 2, size / 4);\n        ctx.fill();\n        break;\n    }\n  }\n\n  private drawStar(\n    ctx: CanvasRenderingContext2D,\n    cx: number,\n    cy: number,\n    spikes: number,\n    outerRadius: number,\n    innerRadius: number\n  ): void {\n    ctx.beginPath();\n    let rotation = -Math.PI / 2;\n\n    for (let i = 0; i < spikes; i++) {\n      const outerX = cx + Math.cos(rotation) * outerRadius;\n      const outerY = cy + Math.sin(rotation) * outerRadius;\n\n      if (i === 0) {\n        ctx.moveTo(outerX, outerY);\n      } else {\n        ctx.lineTo(outerX, outerY);\n      }\n\n      rotation += Math.PI / spikes;\n\n      const innerX = cx + Math.cos(rotation) * innerRadius;\n      const innerY = cy + Math.sin(rotation) * innerRadius;\n      ctx.lineTo(innerX, innerY);\n\n      rotation += Math.PI / spikes;\n    }\n\n    ctx.closePath();\n  }\n\n  renderToMask(width: number, height: number): ImageData {\n    const canvas = new OffscreenCanvas(width, height);\n    const ctx = canvas.getContext('2d')!;\n\n    // Start with white (include all)\n    ctx.fillStyle = '#FFFFFF';\n    ctx.fillRect(0, 0, width, height);\n\n    // Draw connections as black (exclude) if enabled\n    const connConfig = this.renderOptions.connections;\n    if (connConfig?.enabled && this.particles.length >= 2) {\n      ctx.strokeStyle = '#000000';\n      ctx.lineWidth = connConfig.lineWidth * 2;  // Slightly thicker for matte\n      this.renderConnections(ctx, width, height);\n    }\n\n    // Draw particles as black (exclude)\n    ctx.fillStyle = '#000000';\n    for (const p of this.particles) {\n      const x = p.x * width;\n      const y = p.y * height;\n      const size = p.size * 1.5; // Slightly larger for matte\n\n      ctx.beginPath();\n      ctx.arc(x, y, size / 2, 0, Math.PI * 2);\n      ctx.fill();\n    }\n\n    return ctx.getImageData(0, 0, width, height);\n  }\n\n  // ============================================================================\n  // Serialization\n  // ============================================================================\n\n  serialize(): object {\n    return {\n      config: this.config,\n      emitters: Array.from(this.emitters.values()),\n      gravityWells: Array.from(this.gravityWells.values()),\n      vortices: Array.from(this.vortices.values()),\n      modulations: this.modulations,\n      frameCount: this.frameCount\n    };\n  }\n\n  static deserialize(data: any): ParticleSystem {\n    const system = new ParticleSystem(data.config);\n\n    if (data.emitters) {\n      for (const emitter of data.emitters) {\n        system.addEmitter(emitter);\n      }\n    }\n\n    if (data.gravityWells) {\n      for (const well of data.gravityWells) {\n        system.addGravityWell(well);\n      }\n    }\n\n    if (data.vortices) {\n      for (const vortex of data.vortices) {\n        system.addVortex(vortex);\n      }\n    }\n\n    if (data.modulations) {\n      for (const mod of data.modulations) {\n        system.addModulation(mod);\n      }\n    }\n\n    return system;\n  }\n}\n\nexport default ParticleSystem;\n","/**\n * Depthflow Parallax System\n *\n * Creates 2.5D parallax animation from image + depth map.\n * Matches akatz-ai/ComfyUI-Depthflow-Nodes functionality.\n */\n\n// ============================================================================\n// Types\n// ============================================================================\n\nexport type DepthflowPreset =\n  | 'static'\n  | 'zoom_in'\n  | 'zoom_out'\n  | 'dolly_zoom_in'\n  | 'dolly_zoom_out'\n  | 'pan_left'\n  | 'pan_right'\n  | 'pan_up'\n  | 'pan_down'\n  | 'circle_cw'\n  | 'circle_ccw'\n  | 'horizontal_swing'\n  | 'vertical_swing'\n  | 'custom';\n\nexport interface DepthflowConfig {\n  preset: DepthflowPreset;\n  zoom: number;\n  offsetX: number;\n  offsetY: number;\n  rotation: number;\n  depthScale: number;\n  focusDepth: number;\n  dollyZoom: number;\n  orbitRadius: number;\n  orbitSpeed: number;\n  swingAmplitude: number;\n  swingFrequency: number;\n  edgeDilation: number;\n  inpaintEdges: boolean;\n}\n\nexport interface DepthflowState {\n  config: DepthflowConfig;\n  currentFrame: number;\n  totalFrames: number;\n}\n\n// ============================================================================\n// Default Configuration\n// ============================================================================\n\nexport function createDefaultDepthflowConfig(): DepthflowConfig {\n  return {\n    preset: 'static',\n    zoom: 1.0,\n    offsetX: 0,\n    offsetY: 0,\n    rotation: 0,\n    depthScale: 1.0,\n    focusDepth: 0.5,\n    dollyZoom: 0,\n    orbitRadius: 0.1,\n    orbitSpeed: 2,\n    swingAmplitude: 0.1,\n    swingFrequency: 0.5,\n    edgeDilation: 5,\n    inpaintEdges: true\n  };\n}\n\n// ============================================================================\n// WebGL Shaders\n// ============================================================================\n\nconst VERTEX_SHADER = `#version 300 es\nin vec2 a_position;\nin vec2 a_texCoord;\nout vec2 v_texCoord;\n\nvoid main() {\n  gl_Position = vec4(a_position, 0.0, 1.0);\n  v_texCoord = a_texCoord;\n}\n`;\n\nconst FRAGMENT_SHADER = `#version 300 es\nprecision highp float;\n\nin vec2 v_texCoord;\nout vec4 outColor;\n\nuniform sampler2D u_source;\nuniform sampler2D u_depth;\nuniform float u_zoom;\nuniform vec2 u_offset;\nuniform float u_rotation;\nuniform float u_depthScale;\nuniform float u_focusDepth;\nuniform float u_edgeDilation;\nuniform vec2 u_resolution;\n\nvec2 rotate2D(vec2 p, float angle) {\n  float c = cos(angle);\n  float s = sin(angle);\n  return vec2(p.x * c - p.y * s, p.x * s + p.y * c);\n}\n\nvoid main() {\n  // Get depth at current pixel\n  float depth = texture(u_depth, v_texCoord).r;\n\n  // Calculate parallax offset based on depth\n  // Objects closer than focus depth move more, objects further move less\n  float depthDiff = (depth - u_focusDepth) * u_depthScale;\n\n  // Transform texture coordinates\n  vec2 center = vec2(0.5, 0.5);\n  vec2 coord = v_texCoord - center;\n\n  // Apply rotation\n  float rotRad = u_rotation * 3.14159265 / 180.0;\n  coord = rotate2D(coord, rotRad);\n\n  // Apply zoom\n  coord /= u_zoom;\n\n  // Apply parallax offset based on depth\n  vec2 parallaxOffset = u_offset * depthDiff;\n  coord += parallaxOffset;\n\n  // Apply camera offset\n  coord -= u_offset * 0.5;\n\n  coord += center;\n\n  // Edge handling with dilation\n  float dilatePixels = u_edgeDilation / u_resolution.x;\n\n  // Clamp coordinates\n  vec2 clampedCoord = clamp(coord, vec2(dilatePixels), vec2(1.0 - dilatePixels));\n\n  // Check if we're sampling outside bounds\n  float outOfBounds = step(0.0, coord.x) * step(coord.x, 1.0) *\n                      step(0.0, coord.y) * step(coord.y, 1.0);\n\n  // Sample source texture\n  vec4 color = texture(u_source, clampedCoord);\n\n  // Fade edges if out of bounds\n  if (outOfBounds < 0.5) {\n    // Sample from clamped position with reduced alpha\n    color = texture(u_source, clampedCoord);\n    color.a *= 0.3;\n  }\n\n  outColor = color;\n}\n`;\n\n// ============================================================================\n// Depthflow Renderer Class\n// ============================================================================\n\nexport class DepthflowRenderer {\n  private sourceCanvas: HTMLCanvasElement;\n  private depthCanvas: HTMLCanvasElement;\n  private outputCanvas: HTMLCanvasElement;\n  private gl: WebGL2RenderingContext | null = null;\n  private program: WebGLProgram | null = null;\n  private useWebGL: boolean = false;\n\n  // WebGL resources\n  private sourceTexture: WebGLTexture | null = null;\n  private depthTexture: WebGLTexture | null = null;\n  private positionBuffer: WebGLBuffer | null = null;\n  private texCoordBuffer: WebGLBuffer | null = null;\n\n  // Uniform locations\n  private uniforms: Record<string, WebGLUniformLocation | null> = {};\n\n  // Current config\n  private config: DepthflowConfig = createDefaultDepthflowConfig();\n\n  // Source dimensions\n  private width: number = 0;\n  private height: number = 0;\n\n  constructor() {\n    this.sourceCanvas = document.createElement('canvas');\n    this.depthCanvas = document.createElement('canvas');\n    this.outputCanvas = document.createElement('canvas');\n\n    this.initWebGL();\n  }\n\n  private initWebGL(): void {\n    const gl = this.outputCanvas.getContext('webgl2', {\n      premultipliedAlpha: false,\n      preserveDrawingBuffer: true\n    });\n\n    if (!gl) {\n      console.warn('[Depthflow] WebGL2 not available, using Canvas2D fallback');\n      this.useWebGL = false;\n      return;\n    }\n\n    this.gl = gl;\n    this.useWebGL = true;\n\n    // Create shader program\n    const vertexShader = this.compileShader(gl, gl.VERTEX_SHADER, VERTEX_SHADER);\n    const fragmentShader = this.compileShader(gl, gl.FRAGMENT_SHADER, FRAGMENT_SHADER);\n\n    if (!vertexShader || !fragmentShader) {\n      this.useWebGL = false;\n      return;\n    }\n\n    const program = gl.createProgram()!;\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n    gl.linkProgram(program);\n\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n      console.error('[Depthflow] Program link error:', gl.getProgramInfoLog(program));\n      this.useWebGL = false;\n      return;\n    }\n\n    this.program = program;\n\n    // Get uniform locations\n    this.uniforms = {\n      u_source: gl.getUniformLocation(program, 'u_source'),\n      u_depth: gl.getUniformLocation(program, 'u_depth'),\n      u_zoom: gl.getUniformLocation(program, 'u_zoom'),\n      u_offset: gl.getUniformLocation(program, 'u_offset'),\n      u_rotation: gl.getUniformLocation(program, 'u_rotation'),\n      u_depthScale: gl.getUniformLocation(program, 'u_depthScale'),\n      u_focusDepth: gl.getUniformLocation(program, 'u_focusDepth'),\n      u_edgeDilation: gl.getUniformLocation(program, 'u_edgeDilation'),\n      u_resolution: gl.getUniformLocation(program, 'u_resolution')\n    };\n\n    // Create buffers\n    this.positionBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.positionBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n      -1, -1,  1, -1,  -1, 1,\n      -1, 1,   1, -1,   1, 1\n    ]), gl.STATIC_DRAW);\n\n    this.texCoordBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.texCoordBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n      0, 1,  1, 1,  0, 0,\n      0, 0,  1, 1,  1, 0\n    ]), gl.STATIC_DRAW);\n  }\n\n  private compileShader(gl: WebGL2RenderingContext, type: number, source: string): WebGLShader | null {\n    const shader = gl.createShader(type)!;\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n      console.error('[Depthflow] Shader compile error:', gl.getShaderInfoLog(shader));\n      gl.deleteShader(shader);\n      return null;\n    }\n\n    return shader;\n  }\n\n  setSource(image: ImageData | HTMLImageElement | HTMLCanvasElement): void {\n    if (image instanceof ImageData) {\n      this.sourceCanvas.width = image.width;\n      this.sourceCanvas.height = image.height;\n      const ctx = this.sourceCanvas.getContext('2d')!;\n      ctx.putImageData(image, 0, 0);\n    } else {\n      this.sourceCanvas.width = image.width;\n      this.sourceCanvas.height = image.height;\n      const ctx = this.sourceCanvas.getContext('2d')!;\n      ctx.drawImage(image, 0, 0);\n    }\n\n    this.width = this.sourceCanvas.width;\n    this.height = this.sourceCanvas.height;\n    this.outputCanvas.width = this.width;\n    this.outputCanvas.height = this.height;\n\n    if (this.useWebGL && this.gl) {\n      this.updateTexture('source');\n    }\n  }\n\n  setDepthMap(depth: ImageData | HTMLImageElement | HTMLCanvasElement): void {\n    if (depth instanceof ImageData) {\n      this.depthCanvas.width = depth.width;\n      this.depthCanvas.height = depth.height;\n      const ctx = this.depthCanvas.getContext('2d')!;\n      ctx.putImageData(depth, 0, 0);\n    } else {\n      this.depthCanvas.width = depth.width;\n      this.depthCanvas.height = depth.height;\n      const ctx = this.depthCanvas.getContext('2d')!;\n      ctx.drawImage(depth, 0, 0);\n    }\n\n    if (this.useWebGL && this.gl) {\n      this.updateTexture('depth');\n    }\n  }\n\n  private updateTexture(which: 'source' | 'depth'): void {\n    const gl = this.gl!;\n    const canvas = which === 'source' ? this.sourceCanvas : this.depthCanvas;\n\n    if (which === 'source') {\n      if (this.sourceTexture) gl.deleteTexture(this.sourceTexture);\n      this.sourceTexture = gl.createTexture();\n      gl.activeTexture(gl.TEXTURE0);\n      gl.bindTexture(gl.TEXTURE_2D, this.sourceTexture);\n    } else {\n      if (this.depthTexture) gl.deleteTexture(this.depthTexture);\n      this.depthTexture = gl.createTexture();\n      gl.activeTexture(gl.TEXTURE1);\n      gl.bindTexture(gl.TEXTURE_2D, this.depthTexture);\n    }\n\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, canvas);\n  }\n\n  setConfig(config: Partial<DepthflowConfig>): void {\n    this.config = { ...this.config, ...config };\n  }\n\n  getConfig(): DepthflowConfig {\n    return { ...this.config };\n  }\n\n  /**\n   * Get animated camera parameters for a specific frame based on preset\n   */\n  private getAnimatedParams(frame: number, totalFrames: number): {\n    zoom: number;\n    offsetX: number;\n    offsetY: number;\n    rotation: number;\n    depthScale: number;\n  } {\n    const progress = totalFrames > 1 ? frame / (totalFrames - 1) : 0;\n    const { preset, orbitRadius, orbitSpeed, swingAmplitude, swingFrequency } = this.config;\n\n    let zoom = this.config.zoom;\n    let offsetX = this.config.offsetX;\n    let offsetY = this.config.offsetY;\n    let rotation = this.config.rotation;\n    let depthScale = this.config.depthScale;\n\n    switch (preset) {\n      case 'static':\n        // No animation\n        break;\n\n      case 'zoom_in':\n        zoom = 1.0 + progress * 0.3;\n        break;\n\n      case 'zoom_out':\n        zoom = 1.0 - progress * 0.3;\n        break;\n\n      case 'dolly_zoom_in':\n        // Vertigo effect: zoom in while decreasing depth scale\n        zoom = 1.0 + progress * 0.4;\n        depthScale = this.config.depthScale * (1.0 - progress * 0.5);\n        break;\n\n      case 'dolly_zoom_out':\n        // Reverse vertigo\n        zoom = 1.0 - progress * 0.3;\n        depthScale = this.config.depthScale * (1.0 + progress * 0.5);\n        break;\n\n      case 'pan_left':\n        offsetX = -progress * 0.3;\n        break;\n\n      case 'pan_right':\n        offsetX = progress * 0.3;\n        break;\n\n      case 'pan_up':\n        offsetY = -progress * 0.3;\n        break;\n\n      case 'pan_down':\n        offsetY = progress * 0.3;\n        break;\n\n      case 'circle_cw': {\n        const angle = progress * Math.PI * 2 * (orbitSpeed / 360);\n        offsetX = Math.cos(angle) * orbitRadius;\n        offsetY = Math.sin(angle) * orbitRadius;\n        break;\n      }\n\n      case 'circle_ccw': {\n        const angle = -progress * Math.PI * 2 * (orbitSpeed / 360);\n        offsetX = Math.cos(angle) * orbitRadius;\n        offsetY = Math.sin(angle) * orbitRadius;\n        break;\n      }\n\n      case 'horizontal_swing':\n        offsetX = Math.sin(progress * Math.PI * 2 * swingFrequency) * swingAmplitude;\n        break;\n\n      case 'vertical_swing':\n        offsetY = Math.sin(progress * Math.PI * 2 * swingFrequency) * swingAmplitude;\n        break;\n\n      case 'custom':\n        // Use config values directly (allow keyframe animation)\n        break;\n    }\n\n    return { zoom, offsetX, offsetY, rotation, depthScale };\n  }\n\n  renderFrame(frame: number, totalFrames: number): ImageData {\n    const params = this.getAnimatedParams(frame, totalFrames);\n\n    if (this.useWebGL && this.gl && this.program) {\n      return this.renderWebGL(params);\n    } else {\n      return this.renderCanvas2D(params);\n    }\n  }\n\n  private renderWebGL(params: {\n    zoom: number;\n    offsetX: number;\n    offsetY: number;\n    rotation: number;\n    depthScale: number;\n  }): ImageData {\n    const gl = this.gl!;\n\n    gl.viewport(0, 0, this.width, this.height);\n    gl.useProgram(this.program);\n\n    // Bind textures\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, this.sourceTexture);\n    gl.uniform1i(this.uniforms.u_source, 0);\n\n    gl.activeTexture(gl.TEXTURE1);\n    gl.bindTexture(gl.TEXTURE_2D, this.depthTexture);\n    gl.uniform1i(this.uniforms.u_depth, 1);\n\n    // Set uniforms\n    gl.uniform1f(this.uniforms.u_zoom, params.zoom);\n    gl.uniform2f(this.uniforms.u_offset, params.offsetX, params.offsetY);\n    gl.uniform1f(this.uniforms.u_rotation, params.rotation);\n    gl.uniform1f(this.uniforms.u_depthScale, params.depthScale);\n    gl.uniform1f(this.uniforms.u_focusDepth, this.config.focusDepth);\n    gl.uniform1f(this.uniforms.u_edgeDilation, this.config.edgeDilation);\n    gl.uniform2f(this.uniforms.u_resolution, this.width, this.height);\n\n    // Bind position attribute\n    const positionLoc = gl.getAttribLocation(this.program!, 'a_position');\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.positionBuffer);\n    gl.enableVertexAttribArray(positionLoc);\n    gl.vertexAttribPointer(positionLoc, 2, gl.FLOAT, false, 0, 0);\n\n    // Bind texcoord attribute\n    const texCoordLoc = gl.getAttribLocation(this.program!, 'a_texCoord');\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.texCoordBuffer);\n    gl.enableVertexAttribArray(texCoordLoc);\n    gl.vertexAttribPointer(texCoordLoc, 2, gl.FLOAT, false, 0, 0);\n\n    // Draw\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\n\n    // Read pixels\n    const pixels = new Uint8ClampedArray(this.width * this.height * 4);\n    gl.readPixels(0, 0, this.width, this.height, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\n\n    // Flip Y (WebGL has inverted Y)\n    const flipped = new Uint8ClampedArray(pixels.length);\n    for (let y = 0; y < this.height; y++) {\n      const srcRow = (this.height - 1 - y) * this.width * 4;\n      const dstRow = y * this.width * 4;\n      flipped.set(pixels.subarray(srcRow, srcRow + this.width * 4), dstRow);\n    }\n\n    return new ImageData(flipped, this.width, this.height);\n  }\n\n  private renderCanvas2D(params: {\n    zoom: number;\n    offsetX: number;\n    offsetY: number;\n    rotation: number;\n    depthScale: number;\n  }): ImageData {\n    const ctx = this.outputCanvas.getContext('2d')!;\n    const sourceCtx = this.sourceCanvas.getContext('2d')!;\n    const depthCtx = this.depthCanvas.getContext('2d')!;\n\n    const sourceData = sourceCtx.getImageData(0, 0, this.width, this.height);\n    const depthData = depthCtx.getImageData(0, 0, this.width, this.height);\n    const outputData = ctx.createImageData(this.width, this.height);\n\n    const { zoom, offsetX, offsetY, rotation, depthScale } = params;\n    const { focusDepth } = this.config;\n    const rotRad = (rotation * Math.PI) / 180;\n    const cosR = Math.cos(rotRad);\n    const sinR = Math.sin(rotRad);\n\n    for (let y = 0; y < this.height; y++) {\n      for (let x = 0; x < this.width; x++) {\n        const idx = (y * this.width + x) * 4;\n\n        // Get depth value (0-1)\n        const depth = depthData.data[idx] / 255;\n        const depthDiff = (depth - focusDepth) * depthScale;\n\n        // Calculate source coordinates\n        let sx = (x / this.width - 0.5);\n        let sy = (y / this.height - 0.5);\n\n        // Apply rotation\n        const rx = sx * cosR - sy * sinR;\n        const ry = sx * sinR + sy * cosR;\n        sx = rx;\n        sy = ry;\n\n        // Apply zoom\n        sx /= zoom;\n        sy /= zoom;\n\n        // Apply parallax offset\n        sx += offsetX * depthDiff;\n        sy += offsetY * depthDiff;\n\n        // Apply camera offset\n        sx -= offsetX * 0.5;\n        sy -= offsetY * 0.5;\n\n        // Convert back to pixel coordinates\n        sx = (sx + 0.5) * this.width;\n        sy = (sy + 0.5) * this.height;\n\n        // Bilinear sampling\n        const x0 = Math.floor(sx);\n        const y0 = Math.floor(sy);\n        const x1 = x0 + 1;\n        const y1 = y0 + 1;\n        const fx = sx - x0;\n        const fy = sy - y0;\n\n        // Clamp coordinates\n        const cx0 = Math.max(0, Math.min(this.width - 1, x0));\n        const cy0 = Math.max(0, Math.min(this.height - 1, y0));\n        const cx1 = Math.max(0, Math.min(this.width - 1, x1));\n        const cy1 = Math.max(0, Math.min(this.height - 1, y1));\n\n        // Sample 4 pixels\n        const i00 = (cy0 * this.width + cx0) * 4;\n        const i10 = (cy0 * this.width + cx1) * 4;\n        const i01 = (cy1 * this.width + cx0) * 4;\n        const i11 = (cy1 * this.width + cx1) * 4;\n\n        // Bilinear interpolation\n        for (let c = 0; c < 4; c++) {\n          const v00 = sourceData.data[i00 + c];\n          const v10 = sourceData.data[i10 + c];\n          const v01 = sourceData.data[i01 + c];\n          const v11 = sourceData.data[i11 + c];\n\n          const v0 = v00 * (1 - fx) + v10 * fx;\n          const v1 = v01 * (1 - fx) + v11 * fx;\n          outputData.data[idx + c] = Math.round(v0 * (1 - fy) + v1 * fy);\n        }\n\n        // Handle out of bounds\n        if (sx < 0 || sx >= this.width || sy < 0 || sy >= this.height) {\n          outputData.data[idx + 3] = Math.round(outputData.data[idx + 3] * 0.3);\n        }\n      }\n    }\n\n    ctx.putImageData(outputData, 0, 0);\n    return outputData;\n  }\n\n  renderSequence(totalFrames: number, onProgress?: (frame: number) => void): ImageData[] {\n    const frames: ImageData[] = [];\n\n    for (let i = 0; i < totalFrames; i++) {\n      frames.push(this.renderFrame(i, totalFrames));\n      if (onProgress) {\n        onProgress(i);\n      }\n    }\n\n    return frames;\n  }\n\n  /**\n   * Get preset configuration with optional intensity modifier\n   */\n  getPresetConfig(preset: DepthflowPreset, intensity: number = 1.0): Partial<DepthflowConfig> {\n    const base: Partial<DepthflowConfig> = { preset };\n\n    switch (preset) {\n      case 'zoom_in':\n      case 'zoom_out':\n        return { ...base, depthScale: 1.0 * intensity };\n\n      case 'dolly_zoom_in':\n      case 'dolly_zoom_out':\n        return { ...base, depthScale: 1.5 * intensity, dollyZoom: 0.5 * intensity };\n\n      case 'pan_left':\n      case 'pan_right':\n      case 'pan_up':\n      case 'pan_down':\n        return { ...base, depthScale: 0.8 * intensity };\n\n      case 'circle_cw':\n      case 'circle_ccw':\n        return { ...base, orbitRadius: 0.1 * intensity, orbitSpeed: 360 };\n\n      case 'horizontal_swing':\n      case 'vertical_swing':\n        return { ...base, swingAmplitude: 0.1 * intensity, swingFrequency: 1 };\n\n      default:\n        return base;\n    }\n  }\n\n  getOutputCanvas(): HTMLCanvasElement {\n    return this.outputCanvas;\n  }\n\n  dispose(): void {\n    if (this.gl) {\n      if (this.sourceTexture) this.gl.deleteTexture(this.sourceTexture);\n      if (this.depthTexture) this.gl.deleteTexture(this.depthTexture);\n      if (this.positionBuffer) this.gl.deleteBuffer(this.positionBuffer);\n      if (this.texCoordBuffer) this.gl.deleteBuffer(this.texCoordBuffer);\n      if (this.program) this.gl.deleteProgram(this.program);\n    }\n\n    this.sourceTexture = null;\n    this.depthTexture = null;\n    this.positionBuffer = null;\n    this.texCoordBuffer = null;\n    this.program = null;\n    this.gl = null;\n  }\n}\n\n// ============================================================================\n// Depth Slicer (from Eden pipelines)\n// ============================================================================\n\nexport interface DepthSliceConfig {\n  numSlices: number;          // K-means clusters (2-10)\n  sliceIndex: number;         // Which slice to isolate (0 to numSlices-1)\n  featherAmount: number;      // Edge softness in pixels\n}\n\n/**\n * K-means clustering on depth map to create region masks\n * Like Eden's DepthSlicer node\n */\nexport function createDepthSliceMask(\n  depthMap: ImageData,\n  config: DepthSliceConfig\n): ImageData {\n  const { numSlices, sliceIndex, featherAmount } = config;\n  const { width, height, data } = depthMap;\n\n  // Extract depth values (grayscale from R channel or luminance)\n  const depthValues: number[] = [];\n  for (let i = 0; i < data.length; i += 4) {\n    // Use luminance formula for depth\n    const r = data[i];\n    const g = data[i + 1];\n    const b = data[i + 2];\n    const depth = (r * 0.299 + g * 0.587 + b * 0.114) / 255;\n    depthValues.push(depth);\n  }\n\n  // Perform K-means clustering\n  const clusterCenters = kMeansClustering(depthValues, numSlices);\n\n  // Sort cluster centers by depth value (ascending)\n  clusterCenters.sort((a, b) => a - b);\n\n  // Get the range for the selected slice\n  const sliceMin = sliceIndex === 0 ? 0 : clusterCenters[sliceIndex - 1];\n  const sliceMax = sliceIndex < clusterCenters.length ? clusterCenters[sliceIndex] : 1;\n\n  // Create mask with feathering\n  const canvas = new OffscreenCanvas(width, height);\n  const ctx = canvas.getContext('2d')!;\n  const outputImageData = ctx.createImageData(width, height);\n  const outputData = outputImageData.data;\n\n  for (let i = 0; i < depthValues.length; i++) {\n    const depth = depthValues[i];\n\n    // Calculate distance to slice range\n    let maskValue: number;\n\n    if (depth >= sliceMin && depth <= sliceMax) {\n      // Inside slice - full white\n      maskValue = 255;\n    } else {\n      // Outside slice - calculate feather falloff\n      const distanceToSlice = depth < sliceMin\n        ? sliceMin - depth\n        : depth - sliceMax;\n\n      // Convert featherAmount from pixels to depth units (approximate)\n      const featherDepth = featherAmount / Math.max(width, height);\n\n      if (distanceToSlice < featherDepth) {\n        // Within feather zone\n        maskValue = 255 * (1 - distanceToSlice / featherDepth);\n      } else {\n        maskValue = 0;\n      }\n    }\n\n    const pixelIndex = i * 4;\n    outputData[pixelIndex] = maskValue;\n    outputData[pixelIndex + 1] = maskValue;\n    outputData[pixelIndex + 2] = maskValue;\n    outputData[pixelIndex + 3] = 255;\n  }\n\n  // Apply Gaussian blur for smoother feathering if featherAmount > 0\n  if (featherAmount > 0) {\n    return applyGaussianBlur(outputImageData, Math.ceil(featherAmount / 2));\n  }\n\n  return outputImageData;\n}\n\n/**\n * K-means clustering algorithm\n */\nfunction kMeansClustering(values: number[], k: number, maxIterations: number = 50): number[] {\n  // Initialize cluster centers evenly spaced\n  let centers: number[] = [];\n  for (let i = 0; i < k; i++) {\n    centers.push((i + 0.5) / k);\n  }\n\n  // Iteratively update centers\n  for (let iter = 0; iter < maxIterations; iter++) {\n    // Assign each value to nearest center\n    const assignments: number[][] = Array.from({ length: k }, () => []);\n\n    for (const value of values) {\n      let nearestCenter = 0;\n      let nearestDist = Math.abs(value - centers[0]);\n\n      for (let c = 1; c < k; c++) {\n        const dist = Math.abs(value - centers[c]);\n        if (dist < nearestDist) {\n          nearestDist = dist;\n          nearestCenter = c;\n        }\n      }\n\n      assignments[nearestCenter].push(value);\n    }\n\n    // Update centers\n    const newCenters: number[] = [];\n    let converged = true;\n\n    for (let c = 0; c < k; c++) {\n      if (assignments[c].length > 0) {\n        const mean = assignments[c].reduce((a, b) => a + b, 0) / assignments[c].length;\n        newCenters.push(mean);\n\n        if (Math.abs(mean - centers[c]) > 0.001) {\n          converged = false;\n        }\n      } else {\n        // Empty cluster - keep old center\n        newCenters.push(centers[c]);\n      }\n    }\n\n    centers = newCenters;\n\n    if (converged) break;\n  }\n\n  return centers;\n}\n\n/**\n * Simple Gaussian blur implementation\n */\nfunction applyGaussianBlur(imageData: ImageData, radius: number): ImageData {\n  const { width, height, data } = imageData;\n  const output = new ImageData(width, height);\n  const outputData = output.data;\n\n  // Create Gaussian kernel\n  const kernelSize = radius * 2 + 1;\n  const kernel: number[] = [];\n  const sigma = radius / 2;\n  let kernelSum = 0;\n\n  for (let i = 0; i < kernelSize; i++) {\n    const x = i - radius;\n    const g = Math.exp(-(x * x) / (2 * sigma * sigma));\n    kernel.push(g);\n    kernelSum += g;\n  }\n\n  // Normalize kernel\n  for (let i = 0; i < kernelSize; i++) {\n    kernel[i] /= kernelSum;\n  }\n\n  // Temporary buffer for horizontal pass\n  const temp = new Float32Array(width * height);\n\n  // Horizontal pass\n  for (let y = 0; y < height; y++) {\n    for (let x = 0; x < width; x++) {\n      let sum = 0;\n      for (let k = 0; k < kernelSize; k++) {\n        const px = Math.max(0, Math.min(width - 1, x + k - radius));\n        sum += data[(y * width + px) * 4] * kernel[k];\n      }\n      temp[y * width + x] = sum;\n    }\n  }\n\n  // Vertical pass\n  for (let y = 0; y < height; y++) {\n    for (let x = 0; x < width; x++) {\n      let sum = 0;\n      for (let k = 0; k < kernelSize; k++) {\n        const py = Math.max(0, Math.min(height - 1, y + k - radius));\n        sum += temp[py * width + x] * kernel[k];\n      }\n\n      const pixelIndex = (y * width + x) * 4;\n      const value = Math.round(sum);\n      outputData[pixelIndex] = value;\n      outputData[pixelIndex + 1] = value;\n      outputData[pixelIndex + 2] = value;\n      outputData[pixelIndex + 3] = 255;\n    }\n  }\n\n  return output;\n}\n\n/**\n * Animated depth slice - different slice per frame\n */\nexport function createAnimatedDepthSlice(\n  depthMap: ImageData,\n  numSlices: number,\n  frameCount: number,\n  featherAmount: number\n): ImageData[] {\n  const masks: ImageData[] = [];\n\n  for (let frame = 0; frame < frameCount; frame++) {\n    // Calculate which slice to show at this frame\n    // Cycles through all slices over the duration\n    const sliceIndex = Math.floor((frame / frameCount) * numSlices) % numSlices;\n\n    const mask = createDepthSliceMask(depthMap, {\n      numSlices,\n      sliceIndex,\n      featherAmount\n    });\n\n    masks.push(mask);\n  }\n\n  return masks;\n}\n\n/**\n * Get all slices as separate masks\n */\nexport function createAllDepthSlices(\n  depthMap: ImageData,\n  numSlices: number,\n  featherAmount: number\n): ImageData[] {\n  const masks: ImageData[] = [];\n\n  for (let sliceIndex = 0; sliceIndex < numSlices; sliceIndex++) {\n    const mask = createDepthSliceMask(depthMap, {\n      numSlices,\n      sliceIndex,\n      featherAmount\n    });\n    masks.push(mask);\n  }\n\n  return masks;\n}\n\nexport default DepthflowRenderer;\n","<template>\n  <div class=\"composition-canvas\" ref=\"containerRef\">\n    <canvas ref=\"canvasRef\" />\n\n    <!-- Spline Editor overlay (when pen tool is active) -->\n    <SplineEditor\n      v-if=\"activeSplineLayerId || isPenMode\"\n      :layerId=\"activeSplineLayerId\"\n      :canvasWidth=\"canvasWidth\"\n      :canvasHeight=\"canvasHeight\"\n      :zoom=\"zoom\"\n      :viewportTransform=\"viewportTransformArray\"\n      :isPenMode=\"isPenMode\"\n      @pointAdded=\"onPointAdded\"\n      @pathUpdated=\"onPathUpdated\"\n      ref=\"splineEditorRef\"\n    />\n\n    <!-- Zoom controls -->\n    <div class=\"zoom-controls\">\n      <button @click=\"zoomIn\" title=\"Zoom In\">+</button>\n      <span class=\"zoom-level\">{{ Math.round(zoom * 100) }}%</span>\n      <button @click=\"zoomOut\" title=\"Zoom Out\">-</button>\n      <button @click=\"fitToView\" title=\"Fit to View\">Fit</button>\n    </div>\n\n    <!-- Depth overlay toggle -->\n    <div class=\"overlay-controls\" v-if=\"hasDepthMap\">\n      <label>\n        <input type=\"checkbox\" v-model=\"showDepthOverlay\" />\n        Depth Overlay\n      </label>\n      <select v-model=\"depthColormap\" class=\"colormap-select\">\n        <option value=\"viridis\">Viridis</option>\n        <option value=\"plasma\">Plasma</option>\n        <option value=\"grayscale\">Grayscale</option>\n      </select>\n      <input\n        type=\"range\"\n        min=\"0\"\n        max=\"100\"\n        v-model.number=\"depthOpacity\"\n        class=\"opacity-slider\"\n      />\n    </div>\n\n    <!-- Loading overlay -->\n    <div class=\"loading-overlay\" v-if=\"loading\">\n      <div class=\"loading-spinner\"></div>\n      <span>Loading...</span>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, onMounted, onUnmounted, watch, computed } from 'vue';\nimport { Canvas, FabricImage, Point, type FabricObject } from 'fabric';\nimport { useCompositorStore } from '@/stores/compositorStore';\nimport { DepthMapImage, type ColormapType } from '@/fabric/DepthMapImage';\nimport { SplinePath } from '@/fabric/SplinePath';\nimport SplineEditor from './SplineEditor.vue';\nimport type { SplineData, ControlPoint, ParticleLayerData, DepthflowLayerData, TextData } from '@/types/project';\nimport { ParticleSystem } from '@/services/particleSystem';\nimport { DepthflowRenderer } from '@/services/depthflow';\nimport type { PathAnimatorState } from '@/services/audioPathAnimator';\n\n// Store\nconst store = useCompositorStore();\n\n// Refs\nconst containerRef = ref<HTMLDivElement | null>(null);\nconst canvasRef = ref<HTMLCanvasElement | null>(null);\nconst splineEditorRef = ref<InstanceType<typeof SplineEditor> | null>(null);\n\n// State\nconst fabricCanvas = ref<Canvas | null>(null);\nconst sourceImageObj = ref<FabricImage | null>(null);\nconst depthMapObj = ref<DepthMapImage | null>(null);\nconst splineObjects = ref<Map<string, SplinePath>>(new Map());\nconst loading = ref(false);\nconst zoom = ref(1);\nconst showDepthOverlay = ref(true);\nconst depthColormap = ref<ColormapType>('viridis');\nconst depthOpacity = ref(50);\nconst canvasWidth = ref(800);\nconst canvasHeight = ref(600);\n\n// Particle and Depthflow systems\nconst particleSystems = ref<Map<string, ParticleSystem>>(new Map());\nconst depthflowRenderers = ref<Map<string, DepthflowRenderer>>(new Map());\nconst particleCanvas = ref<HTMLCanvasElement | null>(null);\nconst particleCtx = ref<CanvasRenderingContext2D | null>(null);\nconst animationFrameId = ref<number | null>(null);\n\n// Path animation state cache (for text-on-path with audio)\nconst pathAnimationStates = ref<Map<string, PathAnimatorState>>(new Map());\n\n// Computed\nconst hasDepthMap = computed(() => store.depthMap !== null);\nconst isPenMode = computed(() => store.currentTool === 'pen');\n\n// Active spline layer (selected spline or new spline being drawn)\nconst activeSplineLayerId = computed(() => {\n  const selectedLayer = store.selectedLayer;\n  if (selectedLayer?.type === 'spline') {\n    return selectedLayer.id;\n  }\n  // If in pen mode but no spline selected, create one\n  if (isPenMode.value && store.layers.filter(l => l.type === 'spline').length === 0) {\n    return null;\n  }\n  // Return most recent spline if in pen mode\n  if (isPenMode.value) {\n    const splines = store.layers.filter(l => l.type === 'spline');\n    return splines.length > 0 ? splines[splines.length - 1].id : null;\n  }\n  return null;\n});\n\n// Viewport transform as array for SplineEditor\nconst viewportTransformArray = computed(() => {\n  const vpt = fabricCanvas.value?.viewportTransform;\n  return vpt ? Array.from(vpt) : [1, 0, 0, 1, 0, 0];\n});\n\n// Initialize Fabric.js canvas\nonMounted(() => {\n  if (!canvasRef.value || !containerRef.value) return;\n\n  const container = containerRef.value;\n  const rect = container.getBoundingClientRect();\n  canvasWidth.value = rect.width;\n  canvasHeight.value = rect.height;\n\n  fabricCanvas.value = new Canvas(canvasRef.value, {\n    width: rect.width,\n    height: rect.height,\n    backgroundColor: '#1a1a1a',\n    selection: true,\n    preserveObjectStacking: true\n  });\n\n  // Enable zoom/pan\n  setupZoomPan();\n\n  // Handle resize\n  const resizeObserver = new ResizeObserver(handleResize);\n  resizeObserver.observe(container);\n\n  // Watch for input changes from ComfyUI\n  watch(() => store.sourceImage, loadSourceImage, { immediate: true });\n  watch(() => store.depthMap, loadDepthMap, { immediate: true });\n\n  // Watch for layer changes to render splines\n  watch(() => store.layers, renderSplineLayers, { deep: true, immediate: true });\n\n  // Watch for particle layers\n  watch(() => store.layers, syncParticleSystems, { deep: true, immediate: true });\n\n  // Watch for depthflow layers\n  watch(() => store.layers, syncDepthflowRenderers, { deep: true, immediate: true });\n\n  // Create particle overlay canvas\n  particleCanvas.value = document.createElement('canvas');\n  particleCtx.value = particleCanvas.value.getContext('2d');\n\n  // Start render loop\n  startRenderLoop();\n});\n\nonUnmounted(() => {\n  // Stop render loop\n  if (animationFrameId.value !== null) {\n    cancelAnimationFrame(animationFrameId.value);\n  }\n\n  // Dispose particle systems\n  particleSystems.value.forEach(system => {\n    system.reset();\n  });\n  particleSystems.value.clear();\n\n  // Dispose depthflow renderers\n  depthflowRenderers.value.forEach(renderer => {\n    renderer.dispose();\n  });\n  depthflowRenderers.value.clear();\n\n  fabricCanvas.value?.dispose();\n});\n\n// Setup zoom and pan controls\nfunction setupZoomPan() {\n  const canvas = fabricCanvas.value;\n  if (!canvas) return;\n\n  // Mouse wheel zoom\n  canvas.on('mouse:wheel', (opt) => {\n    const delta = opt.e.deltaY;\n    let newZoom = canvas.getZoom() * (delta > 0 ? 0.9 : 1.1);\n    newZoom = Math.min(Math.max(newZoom, 0.1), 10);\n\n    const point = new Point(opt.e.offsetX, opt.e.offsetY);\n    canvas.zoomToPoint(point, newZoom);\n    zoom.value = newZoom;\n\n    opt.e.preventDefault();\n    opt.e.stopPropagation();\n  });\n\n  // Pan with middle mouse button or alt + drag\n  let isPanning = false;\n  let lastPosX = 0;\n  let lastPosY = 0;\n\n  canvas.on('mouse:down', (opt) => {\n    const evt = opt.e as MouseEvent;\n    if (evt.button === 1 || (evt.button === 0 && evt.altKey)) {\n      isPanning = true;\n      lastPosX = evt.clientX;\n      lastPosY = evt.clientY;\n      canvas.selection = false;\n    }\n  });\n\n  canvas.on('mouse:move', (opt) => {\n    if (isPanning) {\n      const evt = opt.e as MouseEvent;\n      const vpt = canvas.viewportTransform;\n      if (vpt) {\n        vpt[4] += evt.clientX - lastPosX;\n        vpt[5] += evt.clientY - lastPosY;\n        canvas.requestRenderAll();\n      }\n      lastPosX = evt.clientX;\n      lastPosY = evt.clientY;\n    }\n  });\n\n  canvas.on('mouse:up', () => {\n    if (isPanning) {\n      isPanning = false;\n      canvas.selection = true;\n    }\n  });\n\n  // Object selection\n  canvas.on('selection:created', (e) => {\n    const selected = e.selected?.[0];\n    if (selected && (selected as any).layerId) {\n      store.selectLayer((selected as any).layerId);\n    }\n  });\n}\n\n// Handle container resize\nfunction handleResize(entries: ResizeObserverEntry[]) {\n  const canvas = fabricCanvas.value;\n  if (!canvas) return;\n\n  for (const entry of entries) {\n    const { width, height } = entry.contentRect;\n    canvas.setDimensions({ width, height });\n    canvasWidth.value = width;\n    canvasHeight.value = height;\n    canvas.requestRenderAll();\n  }\n}\n\n// Load source image from store\nasync function loadSourceImage(imageData: string | null) {\n  const canvas = fabricCanvas.value;\n  if (!canvas || !imageData) return;\n\n  loading.value = true;\n\n  try {\n    // Remove existing source image\n    if (sourceImageObj.value) {\n      canvas.remove(sourceImageObj.value as unknown as FabricObject);\n    }\n\n    // Load new image\n    const img = await loadImage(imageData);\n    sourceImageObj.value = new FabricImage(img, {\n      selectable: false,\n      evented: false,\n      left: 0,\n      top: 0\n    });\n\n    canvas.add(sourceImageObj.value as unknown as FabricObject);\n    canvas.sendObjectToBack(sourceImageObj.value as unknown as FabricObject);\n\n    // Fit to view\n    fitToView();\n  } catch (err) {\n    console.error('[CompositionCanvas] Failed to load source image:', err);\n  } finally {\n    loading.value = false;\n  }\n}\n\n// Load depth map from store\nasync function loadDepthMap(depthData: string | null) {\n  const canvas = fabricCanvas.value;\n  if (!canvas || !depthData) return;\n\n  try {\n    // Remove existing depth map\n    if (depthMapObj.value) {\n      canvas.remove(depthMapObj.value as unknown as FabricObject);\n    }\n\n    // Load depth map with colorization\n    depthMapObj.value = await DepthMapImage.fromBase64(depthData, {\n      colormap: depthColormap.value,\n      opacity: depthOpacity.value / 100,\n      visible: showDepthOverlay.value\n    });\n\n    depthMapObj.value.set({\n      selectable: false,\n      evented: false,\n      left: 0,\n      top: 0\n    });\n\n    canvas.add(depthMapObj.value as unknown as FabricObject);\n\n    // Position depth map above source but below other layers\n    if (sourceImageObj.value) {\n      const sourceIndex = canvas.getObjects().indexOf(sourceImageObj.value as unknown as FabricObject);\n      canvas.moveObjectTo(depthMapObj.value as unknown as FabricObject, sourceIndex + 1);\n    }\n\n    canvas.requestRenderAll();\n  } catch (err) {\n    console.error('[CompositionCanvas] Failed to load depth map:', err);\n  }\n}\n\n// Render spline layers from store\nfunction renderSplineLayers() {\n  const canvas = fabricCanvas.value;\n  if (!canvas) return;\n\n  const splineLayers = store.layers.filter(l => l.type === 'spline');\n\n  // Update or create spline objects\n  for (const layer of splineLayers) {\n    const splineData = layer.data as SplineData | null;\n    if (!splineData) continue;\n\n    let splineObj = splineObjects.value.get(layer.id);\n\n    if (!splineObj) {\n      // Create new SplinePath\n      splineObj = new SplinePath('', {\n        stroke: splineData.stroke || '#00ff00',\n        strokeWidth: splineData.strokeWidth || 2,\n        fill: splineData.fill || '',\n        controlPoints: splineData.controlPoints || [],\n        selectable: !layer.locked\n      });\n      (splineObj as any).layerId = layer.id;\n\n      splineObjects.value.set(layer.id, splineObj);\n      canvas.add(splineObj as unknown as FabricObject);\n    } else {\n      // Update existing\n      splineObj.controlPoints = splineData.controlPoints || [];\n      splineObj.set({\n        stroke: splineData.stroke,\n        strokeWidth: splineData.strokeWidth,\n        fill: splineData.fill,\n        selectable: !layer.locked,\n        visible: layer.visible\n      });\n    }\n\n    splineObj.updatePathFromControlPoints();\n  }\n\n  // Remove deleted splines\n  const layerIds = new Set(splineLayers.map(l => l.id));\n  for (const [id, obj] of splineObjects.value) {\n    if (!layerIds.has(id)) {\n      canvas.remove(obj as unknown as FabricObject);\n      splineObjects.value.delete(id);\n    }\n  }\n\n  canvas.requestRenderAll();\n}\n\n// Handle spline editor events\nfunction onPointAdded(_point: ControlPoint) {\n  // If no active spline layer, create one\n  if (!activeSplineLayerId.value) {\n    const newLayer = store.createLayer('spline');\n    store.selectLayer(newLayer.id);\n  }\n}\n\nfunction onPathUpdated() {\n  // Re-render splines when path is updated\n  renderSplineLayers();\n}\n\n// Watch depth overlay settings\nwatch(showDepthOverlay, (visible) => {\n  if (depthMapObj.value) {\n    depthMapObj.value.set('visible', visible);\n    fabricCanvas.value?.requestRenderAll();\n  }\n});\n\nwatch(depthColormap, (colormap) => {\n  if (depthMapObj.value) {\n    depthMapObj.value.setColormap(colormap);\n  }\n});\n\nwatch(depthOpacity, (opacity) => {\n  if (depthMapObj.value) {\n    depthMapObj.value.set('opacity', opacity / 100);\n    fabricCanvas.value?.requestRenderAll();\n  }\n});\n\n// Helper to load image from data URL or base64\nfunction loadImage(src: string): Promise<HTMLImageElement> {\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    img.crossOrigin = 'anonymous';\n    img.onload = () => resolve(img);\n    img.onerror = reject;\n    img.src = src.startsWith('data:') ? src : `data:image/png;base64,${src}`;\n  });\n}\n\n// Zoom controls\nfunction zoomIn() {\n  const canvas = fabricCanvas.value;\n  if (!canvas) return;\n\n  const newZoom = Math.min(canvas.getZoom() * 1.2, 10);\n  canvas.setZoom(newZoom);\n  zoom.value = newZoom;\n}\n\nfunction zoomOut() {\n  const canvas = fabricCanvas.value;\n  if (!canvas) return;\n\n  const newZoom = Math.max(canvas.getZoom() * 0.8, 0.1);\n  canvas.setZoom(newZoom);\n  zoom.value = newZoom;\n}\n\nfunction fitToView() {\n  const canvas = fabricCanvas.value;\n  const container = containerRef.value;\n  if (!canvas || !container || !sourceImageObj.value) return;\n\n  const rect = container.getBoundingClientRect();\n  const imgWidth = sourceImageObj.value.width || 1;\n  const imgHeight = sourceImageObj.value.height || 1;\n\n  // Calculate zoom to fit with padding\n  const padding = 40;\n  const scaleX = (rect.width - padding * 2) / imgWidth;\n  const scaleY = (rect.height - padding * 2) / imgHeight;\n  const scale = Math.min(scaleX, scaleY, 1);\n\n  // Center the image\n  const vpt = canvas.viewportTransform;\n  if (vpt) {\n    vpt[0] = scale;\n    vpt[3] = scale;\n    vpt[4] = (rect.width - imgWidth * scale) / 2;\n    vpt[5] = (rect.height - imgHeight * scale) / 2;\n  }\n\n  zoom.value = scale;\n  canvas.requestRenderAll();\n}\n\n// ============================================================\n// PARTICLE SYSTEM FUNCTIONS\n// ============================================================\n\nfunction syncParticleSystems() {\n  const particleLayers = store.layers.filter(l => l.type === 'particles');\n  const layerIds = new Set(particleLayers.map(l => l.id));\n\n  // Create new systems for new layers\n  for (const layer of particleLayers) {\n    if (!particleSystems.value.has(layer.id)) {\n      const data = layer.data as ParticleLayerData | null;\n      if (data) {\n        const system = new ParticleSystem(data.systemConfig);\n\n        // Add emitters\n        for (const emitter of data.emitters) {\n          system.addEmitter(emitter);\n        }\n\n        // Add gravity wells\n        for (const well of data.gravityWells) {\n          system.addGravityWell(well);\n        }\n\n        // Add vortices\n        for (const vortex of data.vortices) {\n          system.addVortex(vortex);\n        }\n\n        // Add modulations\n        for (const mod of data.modulations) {\n          system.addModulation(mod);\n        }\n\n        particleSystems.value.set(layer.id, system);\n      }\n    } else {\n      // Update existing system\n      const system = particleSystems.value.get(layer.id)!;\n      const data = layer.data as ParticleLayerData | null;\n\n      if (data) {\n        system.setConfig(data.systemConfig);\n\n        // Sync emitters (simplified - full sync would track individual changes)\n        const currentEmitters = system.getEmitters();\n        for (const emitter of data.emitters) {\n          const existing = currentEmitters.find(e => e.id === emitter.id);\n          if (existing) {\n            system.updateEmitter(emitter.id, emitter);\n          } else {\n            system.addEmitter(emitter);\n          }\n        }\n      }\n    }\n  }\n\n  // Remove systems for deleted layers\n  for (const [id] of particleSystems.value) {\n    if (!layerIds.has(id)) {\n      particleSystems.value.get(id)?.reset();\n      particleSystems.value.delete(id);\n    }\n  }\n}\n\nfunction syncDepthflowRenderers() {\n  const depthflowLayers = store.layers.filter(l => l.type === 'depthflow');\n  const layerIds = new Set(depthflowLayers.map(l => l.id));\n\n  // Create new renderers for new layers\n  for (const layer of depthflowLayers) {\n    if (!depthflowRenderers.value.has(layer.id)) {\n      const data = layer.data as DepthflowLayerData | null;\n      if (data) {\n        const renderer = new DepthflowRenderer();\n        renderer.setConfig(data.config);\n        depthflowRenderers.value.set(layer.id, renderer);\n      }\n    } else {\n      // Update existing renderer config\n      const renderer = depthflowRenderers.value.get(layer.id)!;\n      const data = layer.data as DepthflowLayerData | null;\n      if (data) {\n        renderer.setConfig(data.config);\n      }\n    }\n  }\n\n  // Remove renderers for deleted layers\n  for (const [id] of depthflowRenderers.value) {\n    if (!layerIds.has(id)) {\n      depthflowRenderers.value.get(id)?.dispose();\n      depthflowRenderers.value.delete(id);\n    }\n  }\n}\n\nfunction startRenderLoop() {\n  const renderFrame = () => {\n    // Update path animators with current audio values\n    if (store.isPlaying || store.audioAnalysis) {\n      updatePathAnimators();\n    }\n\n    // Update particle systems during playback\n    if (store.isPlaying) {\n      updateParticleSystems();\n    }\n\n    // Render particles on top of fabric canvas\n    renderParticles();\n\n    // Render text-on-path with audio animation\n    renderTextOnPathAudio();\n\n    animationFrameId.value = requestAnimationFrame(renderFrame);\n  };\n\n  animationFrameId.value = requestAnimationFrame(renderFrame);\n}\n\nfunction updateParticleSystems() {\n  // Check for beat/onset to trigger bursts\n  const isOnset = store.audioAnalysis?.onsets.includes(store.currentFrame) ?? false;\n\n  // Apply audio reactivity\n  particleSystems.value.forEach((system, layerId) => {\n    const mappings = store.getActiveMappingsForLayer(layerId);\n\n    for (const mapping of mappings) {\n      const featureValue = store.getAudioFeatureAtFrame(mapping.feature);\n      const scaledValue = featureValue * mapping.sensitivity;\n\n      // Extract the parameter name from target (e.g., 'particle.emissionRate' -> 'emissionRate')\n      const paramParts = mapping.target.split('.');\n      const param = paramParts.length > 1 ? paramParts[1] : mapping.target;\n\n      system.setFeatureValue(param, scaledValue, mapping.targetEmitterId);\n    }\n\n    // Trigger beat bursts if audio is loaded and we're on an onset\n    if (isOnset) {\n      system.triggerAllBursts();\n    }\n\n    // Step the simulation\n    system.step(1);\n  });\n}\n\nfunction renderParticles() {\n  const canvas = fabricCanvas.value;\n  if (!canvas || !particleCanvas.value || !particleCtx.value) return;\n\n  const particleLayers = store.layers.filter(l => l.type === 'particles' && l.visible);\n  if (particleLayers.length === 0) return;\n\n  // Resize particle canvas to match fabric canvas\n  if (particleCanvas.value.width !== canvas.width || particleCanvas.value.height !== canvas.height) {\n    particleCanvas.value.width = canvas.width || 800;\n    particleCanvas.value.height = canvas.height || 600;\n  }\n\n  const ctx = particleCtx.value;\n  ctx.clearRect(0, 0, particleCanvas.value.width, particleCanvas.value.height);\n\n  // Render each particle layer\n  for (const layer of particleLayers) {\n    const system = particleSystems.value.get(layer.id);\n    const data = layer.data as ParticleLayerData | null;\n\n    if (system && data) {\n      // Apply viewport transform\n      ctx.save();\n      const vpt = canvas.viewportTransform;\n      if (vpt) {\n        ctx.transform(vpt[0], vpt[1], vpt[2], vpt[3], vpt[4], vpt[5]);\n      }\n\n      // Render particles\n      system.renderToCanvas(\n        ctx,\n        store.width,\n        store.height,\n        data.renderOptions\n      );\n\n      ctx.restore();\n    }\n  }\n\n  // Composite particle canvas onto fabric canvas\n  const fabricCtx = canvas.getContext();\n  if (fabricCtx && particleLayers.length > 0) {\n    fabricCtx.drawImage(particleCanvas.value, 0, 0);\n  }\n}\n\n// Get particle count for a layer (used by properties panel)\nfunction getParticleCount(layerId: string): number {\n  const system = particleSystems.value.get(layerId);\n  return system?.getParticleCount() ?? 0;\n}\n\n// ============================================================\n// PATH ANIMATOR FUNCTIONS\n// ============================================================\n\n/**\n * Update all path animators with current audio values\n */\nfunction updatePathAnimators() {\n  // Call store method to update all animators\n  store.updatePathAnimators();\n\n  // Cache the states for rendering\n  for (const layer of store.layers) {\n    const animator = store.getPathAnimator(layer.id);\n    if (animator) {\n      const state = animator.getState();\n      pathAnimationStates.value.set(layer.id, state);\n    }\n  }\n}\n\n/**\n * Render text layers that are on paths with audio animation\n * This draws motion blur trails when enabled\n */\nfunction renderTextOnPathAudio() {\n  const canvas = fabricCanvas.value;\n  if (!canvas || !particleCanvas.value || !particleCtx.value) return;\n\n  const textLayers = store.layers.filter(l => l.type === 'text' && l.visible);\n  if (textLayers.length === 0) return;\n\n  const ctx = particleCtx.value;\n\n  for (const layer of textLayers) {\n    const textData = layer.data as TextData | null;\n    if (!textData?.pathLayerId) continue;\n\n    // Check if this layer has an audio path animator\n    const animator = store.getPathAnimator(layer.id);\n    if (!animator) continue;\n\n    const state = pathAnimationStates.value.get(layer.id);\n    if (!state) continue;\n\n    // Get the spline path\n    const splineLayer = store.layers.find(l => l.id === textData.pathLayerId);\n    if (!splineLayer) continue;\n\n    const splineData = splineLayer.data as SplineData | null;\n    if (!splineData?.pathData) continue;\n\n    // Apply viewport transform\n    ctx.save();\n    const vpt = canvas.viewportTransform;\n    if (vpt) {\n      ctx.transform(vpt[0], vpt[1], vpt[2], vpt[3], vpt[4], vpt[5]);\n    }\n\n    // Draw motion blur trail if enabled\n    const config = animator.getConfig();\n    // Check for position change (velocity proxy)\n    const positionDelta = Math.abs(state.position - state.previousPosition);\n    if (config.motionBlur && positionDelta > 0.001) {\n      const trail = animator.getMotionBlurTrail(8);\n\n      ctx.lineCap = 'round';\n      ctx.lineJoin = 'round';\n\n      for (let i = 0; i < trail.length - 1; i++) {\n        const point = trail[i];\n        const nextPoint = trail[i + 1];\n\n        // Gradient opacity for trail\n        const alpha = point.opacity * config.motionBlurStrength * 0.5;\n\n        ctx.strokeStyle = `rgba(255, 255, 255, ${alpha})`;\n        ctx.lineWidth = Math.max(2, (textData.fontSize || 48) * 0.1 * (1 - i / trail.length));\n\n        ctx.beginPath();\n        ctx.moveTo(point.x, point.y);\n        ctx.lineTo(nextPoint.x, nextPoint.y);\n        ctx.stroke();\n      }\n    }\n\n    // The actual text rendering on path is handled by fabric.js\n    // This function just handles the motion blur effect overlay\n\n    ctx.restore();\n  }\n}\n\n/**\n * Get the audio-animated position for a text layer on a path\n * This is called from text rendering to get the current position\n */\nfunction getTextPathPosition(layerId: string): { x: number; y: number; angle: number } | null {\n  const animator = store.getPathAnimator(layerId);\n  if (!animator) return null;\n\n  const state = pathAnimationStates.value.get(layerId);\n  if (!state) return null;\n\n  // Use animator to get position on path from the normalized position (0-1)\n  const pathPos = animator.getPositionOnPath(state.position);\n\n  return {\n    x: pathPos.x,\n    y: pathPos.y,\n    angle: pathPos.angle\n  };\n}\n\n// Expose canvas for external use\ndefineExpose({\n  fabricCanvas,\n  fitToView,\n  zoom,\n  particleSystems,\n  depthflowRenderers,\n  getParticleCount,\n  getTextPathPosition,\n  pathAnimationStates\n});\n</script>\n\n<style scoped>\n.composition-canvas {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  background: #1a1a1a;\n}\n\n.composition-canvas canvas {\n  display: block;\n}\n\n.zoom-controls {\n  position: absolute;\n  bottom: 12px;\n  left: 12px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  background: rgba(0, 0, 0, 0.7);\n  padding: 6px 10px;\n  border-radius: 6px;\n  font-size: 12px;\n  z-index: 10;\n}\n\n.zoom-controls button {\n  width: 24px;\n  height: 24px;\n  border: none;\n  background: #3a3a3a;\n  color: #e0e0e0;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.zoom-controls button:hover {\n  background: #4a4a4a;\n}\n\n.zoom-level {\n  min-width: 40px;\n  text-align: center;\n  font-variant-numeric: tabular-nums;\n}\n\n.overlay-controls {\n  position: absolute;\n  top: 12px;\n  right: 12px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  background: rgba(0, 0, 0, 0.7);\n  padding: 6px 10px;\n  border-radius: 6px;\n  font-size: 12px;\n  z-index: 10;\n}\n\n.overlay-controls label {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  cursor: pointer;\n}\n\n.colormap-select {\n  background: #3a3a3a;\n  border: none;\n  color: #e0e0e0;\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-size: 12px;\n}\n\n.opacity-slider {\n  width: 60px;\n  height: 4px;\n  cursor: pointer;\n}\n\n.loading-overlay {\n  position: absolute;\n  inset: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background: rgba(0, 0, 0, 0.7);\n  color: #e0e0e0;\n  gap: 12px;\n  z-index: 20;\n}\n\n.loading-spinner {\n  width: 32px;\n  height: 32px;\n  border: 3px solid #3a3a3a;\n  border-top-color: #4a90d9;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  to { transform: rotate(360deg); }\n}\n</style>\n","<template>\n  <div\n    class=\"enhanced-layer-track\"\n    :class=\"{\n      selected: isSelected,\n      locked: layer.locked,\n      hidden: !layer.visible,\n      soloed: isSoloed,\n      'dimmed-by-solo': isDimmedBySolo\n    }\"\n    @click=\"selectLayer\"\n    :style=\"{ '--label-color': layer.labelColor || '#7c9cff' }\"\n  >\n    <!-- Layer info sidebar -->\n    <div class=\"layer-info\">\n      <!-- Label color indicator -->\n      <div class=\"label-color\" @click.stop=\"showLabelPicker = !showLabelPicker\">\n        <div\n          v-if=\"showLabelPicker\"\n          class=\"label-picker\"\n          @click.stop\n        >\n          <button\n            v-for=\"color in labelColors\"\n            :key=\"color\"\n            :style=\"{ background: color }\"\n            @click=\"setLabelColor(color)\"\n          />\n        </div>\n      </div>\n\n      <!-- AV switches (visibility + audio) -->\n      <div class=\"av-switches\">\n        <button\n          class=\"icon-btn\"\n          :class=\"{ active: layer.visible }\"\n          @click.stop=\"toggleVisibility\"\n          :title=\"layer.visible ? 'Hide (V)' : 'Show (V)'\"\n        >\n          <span class=\"icon\">{{ layer.visible ? 'V' : '-' }}</span>\n        </button>\n        <button\n          v-if=\"hasAudio\"\n          class=\"icon-btn\"\n          :class=\"{ active: layer.audioEnabled }\"\n          @click.stop=\"toggleAudio\"\n          title=\"Toggle Audio\"\n        >\n          <span class=\"icon\">A</span>\n        </button>\n      </div>\n\n      <!-- Solo -->\n      <button\n        class=\"icon-btn solo-btn\"\n        :class=\"{ active: isSoloed }\"\n        @click.stop=\"toggleSolo\"\n        title=\"Solo (S)\"\n      >\n        <span class=\"icon\">S</span>\n      </button>\n\n      <!-- Lock -->\n      <button\n        class=\"icon-btn lock-btn\"\n        :class=\"{ active: layer.locked }\"\n        @click.stop=\"toggleLock\"\n        :title=\"layer.locked ? 'Unlock (L)' : 'Lock (L)'\"\n      >\n        <span class=\"icon\">{{ layer.locked ? 'L' : 'u' }}</span>\n      </button>\n\n      <!-- Layer name with type icon -->\n      <div class=\"layer-name-container\">\n        <span class=\"layer-type-icon\" :title=\"layer.type\">\n          {{ getTypeIcon(layer.type) }}\n        </span>\n        <span\n          class=\"layer-name\"\n          :title=\"layer.name\"\n          @dblclick.stop=\"startRename\"\n        >\n          <input\n            v-if=\"isRenaming\"\n            v-model=\"renameValue\"\n            @blur=\"finishRename\"\n            @keyup.enter=\"finishRename\"\n            @keyup.escape=\"cancelRename\"\n            class=\"rename-input\"\n            ref=\"renameInput\"\n          />\n          <template v-else>{{ layer.name }}</template>\n        </span>\n      </div>\n\n      <!-- Parent picker -->\n      <div class=\"parent-picker\">\n        <select\n          :value=\"layer.parentId || ''\"\n          @change=\"setParent\"\n          :disabled=\"layer.locked\"\n          class=\"parent-select\"\n          title=\"Parent & Link\"\n        >\n          <option value=\"\">None</option>\n          <option\n            v-for=\"parentLayer in availableParents\"\n            :key=\"parentLayer.id\"\n            :value=\"parentLayer.id\"\n          >\n            {{ parentLayer.name }}\n          </option>\n        </select>\n      </div>\n\n      <!-- Layer switches (when expanded) -->\n      <div v-if=\"showSwitches\" class=\"layer-switches\">\n        <button\n          class=\"switch-btn\"\n          :class=\"{ active: layer.shy }\"\n          @click.stop=\"toggleSwitch('shy')\"\n          title=\"Shy\"\n        >\n          Sh\n        </button>\n        <button\n          class=\"switch-btn\"\n          :class=\"{ active: layer.collapse }\"\n          @click.stop=\"toggleSwitch('collapse')\"\n          title=\"Collapse Transformations\"\n        >\n          Ct\n        </button>\n        <button\n          class=\"switch-btn\"\n          :class=\"{ active: layer.quality === 'best' }\"\n          @click.stop=\"toggleQuality\"\n          title=\"Quality\"\n        >\n          {{ layer.quality === 'best' ? 'B' : 'D' }}\n        </button>\n        <button\n          class=\"switch-btn\"\n          :class=\"{ active: layer.is3D }\"\n          @click.stop=\"toggleSwitch('is3D')\"\n          title=\"3D Layer\"\n        >\n          3D\n        </button>\n        <button\n          class=\"switch-btn\"\n          :class=\"{ active: layer.motionBlur }\"\n          @click.stop=\"toggleSwitch('motionBlur')\"\n          title=\"Motion Blur\"\n        >\n          MB\n        </button>\n      </div>\n    </div>\n\n    <!-- Timeline track area -->\n    <div class=\"track-area\" ref=\"trackAreaRef\">\n      <!-- Layer duration bar -->\n      <div\n        class=\"duration-bar\"\n        :style=\"durationBarStyle\"\n        :class=\"{ 'has-keyframes': hasKeyframes }\"\n        @mousedown=\"startDrag\"\n      >\n        <!-- In/Out handles for trimming -->\n        <div\n          class=\"trim-handle trim-in\"\n          @mousedown.stop=\"startTrimIn\"\n        />\n        <div\n          class=\"trim-handle trim-out\"\n          @mousedown.stop=\"startTrimOut\"\n        />\n\n        <!-- Effect indicators -->\n        <div v-if=\"layer.effects && layer.effects.length > 0\" class=\"effect-indicator\" title=\"Has Effects\">\n          fx\n        </div>\n      </div>\n\n      <!-- Keyframe diamonds -->\n      <div\n        v-for=\"keyframe in allKeyframes\"\n        :key=\"keyframe.id\"\n        class=\"keyframe-diamond\"\n        :style=\"{ left: `${getKeyframePosition(keyframe.frame)}%` }\"\n        :class=\"{\n          selected: selectedKeyframeIds.includes(keyframe.id),\n          [keyframe.interpolation]: true\n        }\"\n        :title=\"`${keyframe.propertyName} @ Frame ${keyframe.frame}`\"\n        @click.stop=\"selectKeyframe(keyframe.id)\"\n        @dblclick.stop=\"goToKeyframe(keyframe.frame)\"\n      />\n\n      <!-- Expression indicator -->\n      <div\n        v-for=\"expr in expressionIndicators\"\n        :key=\"expr.propertyId\"\n        class=\"expression-indicator\"\n        :style=\"{ left: `${getKeyframePosition(expr.startFrame)}%` }\"\n        title=\"Expression\"\n      >\n        =\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ref, nextTick } from 'vue';\nimport { useCompositorStore } from '@/stores/compositorStore';\nimport type { Layer, Keyframe } from '@/types/project';\n\ninterface Props {\n  layer: Layer;\n  frameCount: number;\n  allLayers: Layer[];\n  soloedLayerIds: string[];\n  showSwitches: boolean;\n}\n\nconst props = defineProps<Props>();\n\nconst emit = defineEmits<{\n  (e: 'select', layerId: string): void;\n  (e: 'updateLayer', layerId: string, updates: Partial<Layer>): void;\n  (e: 'selectKeyframe', keyframeId: string): void;\n  (e: 'setParent', childId: string, parentId: string | null): void;\n  (e: 'toggleSolo', layerId: string): void;\n}>();\n\nconst store = useCompositorStore();\n\nconst trackAreaRef = ref<HTMLDivElement | null>(null);\nconst renameInput = ref<HTMLInputElement | null>(null);\nconst showLabelPicker = ref(false);\nconst isRenaming = ref(false);\nconst renameValue = ref('');\n\n// Label colors\nconst labelColors = [\n  '#ff6b6b', '#ffc107', '#4ecdc4', '#45b7d1',\n  '#96ceb4', '#7c9cff', '#bb8fce', '#ff8a65',\n  '#a1887f', '#90a4ae', '#e0e0e0', '#333333'\n];\n\n// Selection state\nconst isSelected = computed(() => store.selectedLayerIds.includes(props.layer.id));\nconst selectedKeyframeIds = computed(() => store.selectedKeyframeIds);\nconst isSoloed = computed(() => props.soloedLayerIds.includes(props.layer.id));\nconst isDimmedBySolo = computed(() =>\n  props.soloedLayerIds.length > 0 && !isSoloed.value\n);\n\n// Check if layer has audio\nconst hasAudio = computed(() =>\n  props.layer.type === 'audio' || props.layer.type === 'video'\n);\n\n// Available parent layers (exclude self and children)\nconst availableParents = computed(() => {\n  return props.allLayers.filter(l => {\n    if (l.id === props.layer.id) return false;\n    // Don't allow circular parenting\n    let current = l;\n    while (current.parentId) {\n      if (current.parentId === props.layer.id) return false;\n      current = props.allLayers.find(p => p.id === current.parentId) || current;\n      if (!current.parentId) break;\n    }\n    return true;\n  });\n});\n\n// Calculate duration bar style\nconst durationBarStyle = computed(() => {\n  const inPercent = (props.layer.inPoint / props.frameCount) * 100;\n  const outPercent = ((props.layer.outPoint + 1) / props.frameCount) * 100;\n  const width = outPercent - inPercent;\n\n  return {\n    left: `${inPercent}%`,\n    width: `${width}%`\n  };\n});\n\n// Collect all keyframes from all animated properties\nconst allKeyframes = computed(() => {\n  const keyframes: Array<Keyframe<any> & { propertyName: string }> = [];\n\n  // From opacity\n  if (props.layer.opacity.animated) {\n    props.layer.opacity.keyframes.forEach(kf => {\n      keyframes.push({ ...kf, propertyName: 'Opacity' });\n    });\n  }\n\n  // From transform properties\n  ['position', 'scale', 'rotation'].forEach(propName => {\n    const prop = (props.layer.transform as any)[propName];\n    if (prop?.animated) {\n      prop.keyframes.forEach((kf: Keyframe<any>) => {\n        keyframes.push({ ...kf, propertyName: propName.charAt(0).toUpperCase() + propName.slice(1) });\n      });\n    }\n  });\n\n  // From custom properties\n  props.layer.properties.forEach(prop => {\n    if (prop.animated) {\n      prop.keyframes.forEach(kf => {\n        keyframes.push({ ...kf, propertyName: prop.name });\n      });\n    }\n  });\n\n  return keyframes;\n});\n\nconst hasKeyframes = computed(() => allKeyframes.value.length > 0);\n\n// Expression indicators\nconst expressionIndicators = computed(() => {\n  const exprs: Array<{ propertyId: string; startFrame: number }> = [];\n  // Check for expressions on properties\n  props.layer.properties.forEach(prop => {\n    if ((prop as any).expression) {\n      exprs.push({\n        propertyId: prop.id,\n        startFrame: props.layer.inPoint\n      });\n    }\n  });\n  return exprs;\n});\n\n// Get keyframe position as percentage\nfunction getKeyframePosition(frame: number): number {\n  return (frame / props.frameCount) * 100;\n}\n\n// Get type icon\nfunction getTypeIcon(type: string): string {\n  const icons: Record<string, string> = {\n    'spline': '~',\n    'text': 'T',\n    'solid': '[]',\n    'null': 'N',\n    'camera': 'C',\n    'light': '*',\n    'audio': 'A',\n    'video': 'V',\n    'image': 'I',\n    'shape': 'S',\n    'adjustment': 'Ad'\n  };\n  return icons[type] || '?';\n}\n\n// Actions\nfunction selectLayer() {\n  emit('select', props.layer.id);\n}\n\nfunction toggleVisibility() {\n  emit('updateLayer', props.layer.id, { visible: !props.layer.visible });\n}\n\nfunction toggleAudio() {\n  emit('updateLayer', props.layer.id, { audioEnabled: !(props.layer as any).audioEnabled });\n}\n\nfunction toggleLock() {\n  emit('updateLayer', props.layer.id, { locked: !props.layer.locked });\n}\n\nfunction toggleSolo() {\n  emit('toggleSolo', props.layer.id);\n}\n\nfunction toggleSwitch(switchName: string) {\n  emit('updateLayer', props.layer.id, { [switchName]: !(props.layer as any)[switchName] });\n}\n\nfunction toggleQuality() {\n  const newQuality = (props.layer as any).quality === 'best' ? 'draft' : 'best';\n  emit('updateLayer', props.layer.id, { quality: newQuality });\n}\n\nfunction setLabelColor(color: string) {\n  emit('updateLayer', props.layer.id, { labelColor: color });\n  showLabelPicker.value = false;\n}\n\nfunction setParent(event: Event) {\n  const select = event.target as HTMLSelectElement;\n  const parentId = select.value || null;\n  emit('setParent', props.layer.id, parentId);\n}\n\nfunction selectKeyframe(keyframeId: string) {\n  emit('selectKeyframe', keyframeId);\n}\n\nfunction goToKeyframe(frame: number) {\n  store.setFrame(frame);\n}\n\n// Renaming\nfunction startRename() {\n  if (props.layer.locked) return;\n  isRenaming.value = true;\n  renameValue.value = props.layer.name;\n  nextTick(() => {\n    renameInput.value?.focus();\n    renameInput.value?.select();\n  });\n}\n\nfunction finishRename() {\n  if (renameValue.value.trim()) {\n    emit('updateLayer', props.layer.id, { name: renameValue.value.trim() });\n  }\n  isRenaming.value = false;\n}\n\nfunction cancelRename() {\n  isRenaming.value = false;\n}\n\n// Dragging layer duration\nlet dragType: 'move' | 'trimIn' | 'trimOut' | null = null;\nlet dragStartX = 0;\nlet dragStartIn = 0;\nlet dragStartOut = 0;\n\nfunction startDrag(event: MouseEvent) {\n  if (props.layer.locked) return;\n  dragType = 'move';\n  dragStartX = event.clientX;\n  dragStartIn = props.layer.inPoint;\n  dragStartOut = props.layer.outPoint;\n  document.addEventListener('mousemove', handleDrag);\n  document.addEventListener('mouseup', stopDrag);\n}\n\nfunction startTrimIn(event: MouseEvent) {\n  if (props.layer.locked) return;\n  dragType = 'trimIn';\n  document.addEventListener('mousemove', handleDrag);\n  document.addEventListener('mouseup', stopDrag);\n}\n\nfunction startTrimOut(event: MouseEvent) {\n  if (props.layer.locked) return;\n  dragType = 'trimOut';\n  document.addEventListener('mousemove', handleDrag);\n  document.addEventListener('mouseup', stopDrag);\n}\n\nfunction handleDrag(event: MouseEvent) {\n  if (!trackAreaRef.value || !dragType) return;\n\n  const rect = trackAreaRef.value.getBoundingClientRect();\n  const x = event.clientX - rect.left;\n  const frame = Math.round((x / rect.width) * props.frameCount);\n\n  if (dragType === 'trimIn') {\n    const newInPoint = Math.min(frame, props.layer.outPoint - 1);\n    emit('updateLayer', props.layer.id, { inPoint: Math.max(0, newInPoint) });\n  } else if (dragType === 'trimOut') {\n    const newOutPoint = Math.max(frame, props.layer.inPoint + 1);\n    emit('updateLayer', props.layer.id, { outPoint: Math.min(props.frameCount - 1, newOutPoint) });\n  } else if (dragType === 'move') {\n    const dx = event.clientX - dragStartX;\n    const frameShift = Math.round((dx / rect.width) * props.frameCount);\n\n    let newIn = dragStartIn + frameShift;\n    let newOut = dragStartOut + frameShift;\n\n    // Clamp to valid range\n    if (newIn < 0) {\n      newOut -= newIn;\n      newIn = 0;\n    }\n    if (newOut > props.frameCount - 1) {\n      newIn -= (newOut - (props.frameCount - 1));\n      newOut = props.frameCount - 1;\n    }\n\n    emit('updateLayer', props.layer.id, { inPoint: newIn, outPoint: newOut });\n  }\n}\n\nfunction stopDrag() {\n  dragType = null;\n  document.removeEventListener('mousemove', handleDrag);\n  document.removeEventListener('mouseup', stopDrag);\n}\n</script>\n\n<style scoped>\n.enhanced-layer-track {\n  display: flex;\n  height: 28px;\n  border-bottom: 1px solid #2a2a2a;\n  background: #1e1e1e;\n  transition: background 0.1s;\n}\n\n.enhanced-layer-track:hover {\n  background: #232323;\n}\n\n.enhanced-layer-track.selected {\n  background: rgba(124, 156, 255, 0.1);\n}\n\n.enhanced-layer-track.hidden {\n  opacity: 0.4;\n}\n\n.enhanced-layer-track.dimmed-by-solo {\n  opacity: 0.3;\n}\n\n.enhanced-layer-track.soloed {\n  background: rgba(255, 193, 7, 0.1);\n}\n\n.layer-info {\n  width: 220px;\n  min-width: 220px;\n  display: flex;\n  align-items: center;\n  gap: 2px;\n  padding: 0 4px;\n  border-right: 1px solid #333;\n  background: #222;\n}\n\n.label-color {\n  width: 14px;\n  height: 20px;\n  background: var(--label-color);\n  border-radius: 2px;\n  cursor: pointer;\n  position: relative;\n}\n\n.label-picker {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 2px;\n  padding: 4px;\n  background: #2a2a2a;\n  border: 1px solid #444;\n  border-radius: 4px;\n  z-index: 100;\n}\n\n.label-picker button {\n  width: 16px;\n  height: 16px;\n  border: 1px solid transparent;\n  border-radius: 2px;\n  cursor: pointer;\n}\n\n.label-picker button:hover {\n  border-color: #fff;\n}\n\n.av-switches {\n  display: flex;\n}\n\n.icon-btn {\n  width: 16px;\n  height: 20px;\n  padding: 0;\n  border: none;\n  background: transparent;\n  color: #555;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n}\n\n.icon-btn:hover {\n  color: #aaa;\n}\n\n.icon-btn.active {\n  color: #7c9cff;\n}\n\n.solo-btn.active {\n  color: #ffc107;\n}\n\n.lock-btn.active {\n  color: #ff6b6b;\n}\n\n.layer-name-container {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  min-width: 0;\n  overflow: hidden;\n}\n\n.layer-type-icon {\n  font-size: 9px;\n  color: #666;\n  background: #333;\n  padding: 2px 4px;\n  border-radius: 2px;\n  font-family: monospace;\n}\n\n.layer-name {\n  flex: 1;\n  font-size: 11px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: #e0e0e0;\n}\n\n.rename-input {\n  width: 100%;\n  padding: 2px 4px;\n  border: 1px solid #7c9cff;\n  background: #1a1a1a;\n  color: #e0e0e0;\n  font-size: 11px;\n  border-radius: 2px;\n  outline: none;\n}\n\n.parent-picker {\n  width: 30px;\n}\n\n.parent-select {\n  width: 100%;\n  padding: 2px;\n  background: #1a1a1a;\n  border: 1px solid #333;\n  color: #888;\n  font-size: 9px;\n  border-radius: 2px;\n  cursor: pointer;\n}\n\n.parent-select:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.layer-switches {\n  display: flex;\n  gap: 1px;\n}\n\n.switch-btn {\n  width: 18px;\n  height: 16px;\n  padding: 0;\n  border: 1px solid #333;\n  background: #1a1a1a;\n  color: #555;\n  font-size: 8px;\n  cursor: pointer;\n  border-radius: 2px;\n}\n\n.switch-btn:hover {\n  background: #2a2a2a;\n  color: #aaa;\n}\n\n.switch-btn.active {\n  background: #7c9cff;\n  border-color: #7c9cff;\n  color: #fff;\n}\n\n.track-area {\n  flex: 1;\n  position: relative;\n  min-width: 0;\n}\n\n.duration-bar {\n  position: absolute;\n  top: 4px;\n  bottom: 4px;\n  background: var(--label-color);\n  border-radius: 3px;\n  opacity: 0.6;\n  cursor: move;\n  transition: opacity 0.1s;\n}\n\n.duration-bar:hover {\n  opacity: 0.8;\n}\n\n.duration-bar.has-keyframes {\n  background: linear-gradient(\n    to right,\n    var(--label-color),\n    color-mix(in srgb, var(--label-color), white 20%)\n  );\n}\n\n.trim-handle {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 6px;\n  cursor: ew-resize;\n  background: transparent;\n}\n\n.trim-handle:hover {\n  background: rgba(255, 255, 255, 0.2);\n}\n\n.trim-in {\n  left: 0;\n  border-radius: 3px 0 0 3px;\n}\n\n.trim-out {\n  right: 0;\n  border-radius: 0 3px 3px 0;\n}\n\n.effect-indicator {\n  position: absolute;\n  top: 2px;\n  right: 4px;\n  font-size: 8px;\n  color: #fff;\n  background: rgba(0, 0, 0, 0.5);\n  padding: 1px 3px;\n  border-radius: 2px;\n}\n\n.keyframe-diamond {\n  position: absolute;\n  top: 50%;\n  width: 8px;\n  height: 8px;\n  background: #ffc107;\n  transform: translate(-50%, -50%) rotate(45deg);\n  cursor: pointer;\n  z-index: 2;\n  transition: transform 0.1s, background 0.1s;\n  border: 1px solid transparent;\n}\n\n.keyframe-diamond:hover {\n  transform: translate(-50%, -50%) rotate(45deg) scale(1.2);\n}\n\n.keyframe-diamond.selected {\n  background: #ffffff;\n  border-color: #7c9cff;\n}\n\n.keyframe-diamond.hold {\n  background: #888;\n}\n\n.keyframe-diamond.linear {\n  border-radius: 0;\n}\n\n.keyframe-diamond.bezier {\n  border-radius: 1px;\n}\n\n.expression-indicator {\n  position: absolute;\n  top: 2px;\n  width: 12px;\n  height: 12px;\n  background: #ff6b6b;\n  border-radius: 50%;\n  color: #fff;\n  font-size: 10px;\n  font-weight: bold;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transform: translateX(-50%);\n  z-index: 3;\n}\n\n.icon {\n  font-family: monospace;\n  font-weight: bold;\n}\n</style>\n","<template>\n  <div class=\"timeline-panel\">\n    <!-- Timeline header -->\n    <div class=\"timeline-header\">\n      <div class=\"header-left\">\n        <span class=\"timeline-title\">Timeline</span>\n        <span class=\"timeline-info\">\n          {{ store.frameCount }} frames @ {{ store.fps }}fps\n        </span>\n      </div>\n\n      <div class=\"header-center\">\n        <!-- Playback controls -->\n        <div class=\"playback-controls\">\n          <button @click=\"goToStart\" title=\"Go to Start (Home)\">\n            <span class=\"icon\">|&lt;</span>\n          </button>\n          <button @click=\"stepBackward\" title=\"Previous Frame (Page Up)\">\n            <span class=\"icon\">&lt;</span>\n          </button>\n          <button @click=\"togglePlayback\" :class=\"{ active: isPlaying }\" title=\"Play/Pause (Space)\">\n            <span class=\"icon\">{{ isPlaying ? '||' : '>' }}</span>\n          </button>\n          <button @click=\"stepForward\" title=\"Next Frame (Page Down)\">\n            <span class=\"icon\">&gt;</span>\n          </button>\n          <button @click=\"goToEnd\" title=\"Go to End (End)\">\n            <span class=\"icon\">&gt;|</span>\n          </button>\n        </div>\n\n        <!-- Loop mode -->\n        <button\n          class=\"loop-btn\"\n          :class=\"{ active: loopMode !== 'none' }\"\n          @click=\"cycleLoopMode\"\n          :title=\"`Loop: ${loopMode}`\"\n        >\n          <span class=\"icon\">{{ loopMode === 'none' ? 'L-' : loopMode === 'loop' ? 'LP' : 'PP' }}</span>\n        </button>\n      </div>\n\n      <div class=\"header-right\">\n        <!-- Search filter -->\n        <input\n          type=\"text\"\n          v-model=\"searchFilter\"\n          placeholder=\"Search layers...\"\n          class=\"search-input\"\n        />\n\n        <!-- Add layer button -->\n        <button class=\"add-layer-btn\" @click=\"showAddLayerMenu = !showAddLayerMenu\">\n          <span class=\"icon\">+</span>\n          Add Layer\n        </button>\n\n        <!-- Add layer dropdown -->\n        <div v-if=\"showAddLayerMenu\" class=\"add-layer-menu\">\n          <button @click=\"addLayer('spline')\">Spline Path</button>\n          <button @click=\"addLayer('text')\">Text</button>\n          <button @click=\"addLayer('solid')\">Solid</button>\n          <button @click=\"addLayer('null')\">Null Object</button>\n          <button @click=\"addLayer('camera')\">Camera</button>\n          <button @click=\"addLayer('light')\">Light</button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Column headers -->\n    <div class=\"column-headers\">\n      <div class=\"layer-columns-header\">\n        <span class=\"col-header col-label\" title=\"Label Color\">L</span>\n        <span class=\"col-header col-av\" title=\"Audio/Video\">AV</span>\n        <span class=\"col-header col-solo\" title=\"Solo\">S</span>\n        <span class=\"col-header col-lock\" title=\"Lock\">Lk</span>\n        <span class=\"col-header col-name\">Layer Name</span>\n        <span class=\"col-header col-parent\" title=\"Parent & Link\">Par</span>\n        <span class=\"col-header col-switches\" title=\"Layer Switches\">Switches</span>\n      </div>\n      <div class=\"track-header\">\n        <!-- Work area indicator will be here -->\n      </div>\n    </div>\n\n    <!-- Timeline content -->\n    <div class=\"timeline-content\" ref=\"timelineContentRef\">\n      <!-- Time ruler with work area -->\n      <div class=\"time-ruler\">\n        <div class=\"ruler-sidebar\" />\n        <div class=\"ruler-track\" ref=\"rulerTrackRef\" @dblclick=\"setMarkerAtClick\">\n          <!-- Work area -->\n          <div\n            class=\"work-area\"\n            :style=\"workAreaStyle\"\n            @mousedown=\"startWorkAreaDrag\"\n          >\n            <div class=\"work-area-handle start\" @mousedown.stop=\"startWorkAreaTrim('start', $event)\" />\n            <div class=\"work-area-handle end\" @mousedown.stop=\"startWorkAreaTrim('end', $event)\" />\n          </div>\n\n          <!-- Markers -->\n          <div\n            v-for=\"marker in markers\"\n            :key=\"marker.id\"\n            class=\"marker\"\n            :style=\"{ left: `${(marker.frame / store.frameCount) * 100}%` }\"\n            :class=\"{ selected: selectedMarkerId === marker.id }\"\n            @click.stop=\"selectMarker(marker.id)\"\n            @dblclick.stop=\"editMarker(marker.id)\"\n            :title=\"`${marker.label} (Frame ${marker.frame})`\"\n          >\n            <div class=\"marker-flag\" :style=\"{ background: marker.color }\" />\n          </div>\n\n          <!-- Time ruler marks -->\n          <div\n            v-for=\"mark in rulerMarks\"\n            :key=\"mark.frame\"\n            class=\"ruler-mark\"\n            :class=\"{ major: mark.major }\"\n            :style=\"{ left: `${mark.position}%` }\"\n          >\n            <span v-if=\"mark.major\" class=\"mark-label\">{{ formatTimecode(mark.frame) }}</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Layer tracks -->\n      <div class=\"layer-tracks\" ref=\"layerTracksRef\">\n        <template v-for=\"layer in filteredLayers\" :key=\"layer.id\">\n          <EnhancedLayerTrack\n            :layer=\"layer\"\n            :frameCount=\"store.frameCount\"\n            :allLayers=\"store.layers\"\n            :soloedLayerIds=\"soloedLayerIds\"\n            :showSwitches=\"showLayerSwitches\"\n            @select=\"selectLayer\"\n            @updateLayer=\"updateLayer\"\n            @selectKeyframe=\"selectKeyframe\"\n            @setParent=\"setLayerParent\"\n            @toggleSolo=\"toggleSolo\"\n          />\n        </template>\n\n        <!-- Empty state -->\n        <div v-if=\"filteredLayers.length === 0\" class=\"empty-state\">\n          <p v-if=\"searchFilter\">No layers match \"{{ searchFilter }}\"</p>\n          <template v-else>\n            <p>No layers yet</p>\n            <p class=\"hint\">Click \"Add Layer\" to create a layer</p>\n          </template>\n        </div>\n      </div>\n\n      <!-- Playhead -->\n      <div\n        class=\"playhead\"\n        :style=\"{ left: `${trackOffset + playheadPosition}px` }\"\n      >\n        <div class=\"playhead-head\" />\n        <div class=\"playhead-line\" />\n      </div>\n    </div>\n\n    <!-- Timeline scrubber / mini-timeline -->\n    <div class=\"timeline-scrubber\">\n      <div class=\"scrubber-sidebar\">\n        <!-- Layer switches toggle -->\n        <button\n          class=\"toggle-switches-btn\"\n          :class=\"{ active: showLayerSwitches }\"\n          @click=\"showLayerSwitches = !showLayerSwitches\"\n          title=\"Toggle Layer Switches\"\n        >\n          Sw\n        </button>\n        <span class=\"frame-label\">\n          {{ formatTimecode(store.currentFrame) }}\n        </span>\n      </div>\n\n      <div\n        class=\"scrubber-track\"\n        @mousedown=\"startScrub\"\n        @click=\"scrubClick\"\n      >\n        <!-- Work area preview -->\n        <div class=\"scrubber-work-area\" :style=\"scrubberWorkAreaStyle\" />\n        <div\n          class=\"scrubber-progress\"\n          :style=\"{ width: `${scrubProgress}%` }\"\n        />\n      </div>\n\n      <div class=\"frame-input\">\n        <input\n          type=\"number\"\n          :value=\"store.currentFrame\"\n          :min=\"0\"\n          :max=\"store.frameCount - 1\"\n          @change=\"setFrameFromInput\"\n        />\n        <span class=\"frame-total\">/ {{ store.frameCount - 1 }}</span>\n      </div>\n    </div>\n\n    <!-- Marker edit dialog -->\n    <div v-if=\"editingMarker\" class=\"marker-dialog\" @click.self=\"editingMarker = null\">\n      <div class=\"marker-dialog-content\">\n        <h3>Edit Marker</h3>\n        <div class=\"form-row\">\n          <label>Label:</label>\n          <input type=\"text\" v-model=\"editingMarker.label\" />\n        </div>\n        <div class=\"form-row\">\n          <label>Frame:</label>\n          <input type=\"number\" v-model.number=\"editingMarker.frame\" />\n        </div>\n        <div class=\"form-row\">\n          <label>Color:</label>\n          <input type=\"color\" v-model=\"editingMarker.color\" />\n        </div>\n        <div class=\"form-row\">\n          <label>Comment:</label>\n          <textarea v-model=\"editingMarker.comment\" rows=\"3\" />\n        </div>\n        <div class=\"dialog-actions\">\n          <button @click=\"deleteMarker(editingMarker.id)\">Delete</button>\n          <button @click=\"editingMarker = null\">Cancel</button>\n          <button class=\"primary\" @click=\"saveMarker\">Save</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted, onUnmounted, reactive, watch } from 'vue';\nimport { useCompositorStore } from '@/stores/compositorStore';\nimport type { Layer } from '@/types/project';\nimport EnhancedLayerTrack from './EnhancedLayerTrack.vue';\n\nconst store = useCompositorStore();\n\nconst timelineContentRef = ref<HTMLDivElement | null>(null);\nconst rulerTrackRef = ref<HTMLDivElement | null>(null);\nconst layerTracksRef = ref<HTMLDivElement | null>(null);\nconst showAddLayerMenu = ref(false);\n\n// Track dimensions\nconst trackOffset = 220; // Width of layer info sidebar (increased for switches)\nconst trackWidth = ref(600);\n\n// Search filter\nconst searchFilter = ref('');\n\n// Layer switches visibility\nconst showLayerSwitches = ref(true);\n\n// Playback state\nconst isPlaying = ref(false);\nconst loopMode = ref<'none' | 'loop' | 'pingpong'>('loop');\nlet playbackInterval: number | null = null;\nlet playDirection = 1;\n\n// Work area\nconst workArea = reactive({\n  start: 0,\n  end: store.frameCount - 1\n});\n\n// Markers\ninterface Marker {\n  id: string;\n  frame: number;\n  label: string;\n  color: string;\n  comment: string;\n}\n\nconst markers = ref<Marker[]>([]);\nconst selectedMarkerId = ref<string | null>(null);\nconst editingMarker = ref<Marker | null>(null);\n\n// Soloed layers\nconst soloedLayerIds = ref<string[]>([]);\n\n// Computed\nconst filteredLayers = computed(() => {\n  if (!searchFilter.value) return store.layers;\n  const filter = searchFilter.value.toLowerCase();\n  return store.layers.filter(layer =>\n    layer.name.toLowerCase().includes(filter)\n  );\n});\n\nconst playheadPosition = computed(() => {\n  return (store.currentFrame / store.frameCount) * trackWidth.value;\n});\n\nconst scrubProgress = computed(() => {\n  return (store.currentFrame / (store.frameCount - 1)) * 100;\n});\n\nconst workAreaStyle = computed(() => {\n  const startPercent = (workArea.start / store.frameCount) * 100;\n  const endPercent = ((workArea.end + 1) / store.frameCount) * 100;\n  return {\n    left: `${startPercent}%`,\n    width: `${endPercent - startPercent}%`\n  };\n});\n\nconst scrubberWorkAreaStyle = computed(() => {\n  return workAreaStyle.value;\n});\n\n// Ruler marks with timecode\nconst rulerMarks = computed(() => {\n  const marks: Array<{ frame: number; position: number; major: boolean }> = [];\n  const frameCount = store.frameCount;\n\n  // Calculate step based on zoom\n  const step = Math.max(1, Math.floor(frameCount / 20));\n  const majorStep = step * 2;\n\n  for (let i = 0; i <= frameCount; i += step) {\n    marks.push({\n      frame: i,\n      position: (i / frameCount) * 100,\n      major: i % majorStep === 0\n    });\n  }\n\n  return marks;\n});\n\n// Format frame as timecode\nfunction formatTimecode(frame: number): string {\n  const fps = store.fps;\n  const totalSeconds = frame / fps;\n  const minutes = Math.floor(totalSeconds / 60);\n  const seconds = Math.floor(totalSeconds % 60);\n  const frames = frame % fps;\n\n  return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}:${frames.toString().padStart(2, '0')}`;\n}\n\n// Update track width on mount and resize\nfunction updateTrackWidth() {\n  if (rulerTrackRef.value) {\n    trackWidth.value = rulerTrackRef.value.offsetWidth;\n  }\n}\n\n// Playback controls\nfunction togglePlayback() {\n  isPlaying.value = !isPlaying.value;\n\n  if (isPlaying.value) {\n    playDirection = 1;\n    playbackInterval = window.setInterval(() => {\n      let nextFrame = store.currentFrame + playDirection;\n\n      // Handle work area bounds\n      if (nextFrame > workArea.end) {\n        if (loopMode.value === 'loop') {\n          nextFrame = workArea.start;\n        } else if (loopMode.value === 'pingpong') {\n          playDirection = -1;\n          nextFrame = store.currentFrame - 1;\n        } else {\n          stopPlayback();\n          return;\n        }\n      } else if (nextFrame < workArea.start) {\n        if (loopMode.value === 'pingpong') {\n          playDirection = 1;\n          nextFrame = store.currentFrame + 1;\n        }\n      }\n\n      store.setFrame(Math.max(workArea.start, Math.min(workArea.end, nextFrame)));\n    }, 1000 / store.fps);\n  } else {\n    stopPlayback();\n  }\n}\n\nfunction stopPlayback() {\n  isPlaying.value = false;\n  if (playbackInterval) {\n    clearInterval(playbackInterval);\n    playbackInterval = null;\n  }\n}\n\nfunction goToStart() {\n  store.setFrame(workArea.start);\n}\n\nfunction goToEnd() {\n  store.setFrame(workArea.end);\n}\n\nfunction stepForward() {\n  store.setFrame(Math.min(store.currentFrame + 1, workArea.end));\n}\n\nfunction stepBackward() {\n  store.setFrame(Math.max(store.currentFrame - 1, workArea.start));\n}\n\nfunction cycleLoopMode() {\n  const modes: typeof loopMode.value[] = ['none', 'loop', 'pingpong'];\n  const currentIndex = modes.indexOf(loopMode.value);\n  loopMode.value = modes[(currentIndex + 1) % modes.length];\n}\n\n// Layer actions\nfunction selectLayer(layerId: string) {\n  store.selectLayer(layerId);\n}\n\nfunction updateLayer(layerId: string, updates: Partial<Layer>) {\n  store.updateLayer(layerId, updates);\n}\n\nfunction selectKeyframe(keyframeId: string) {\n  const index = store.selectedKeyframeIds.indexOf(keyframeId);\n  if (index >= 0) {\n    store.selectedKeyframeIds.splice(index, 1);\n  } else {\n    store.selectedKeyframeIds.push(keyframeId);\n  }\n}\n\nfunction addLayer(type: string) {\n  store.createLayer(type as any);\n  showAddLayerMenu.value = false;\n}\n\nfunction setLayerParent(childId: string, parentId: string | null) {\n  store.updateLayer(childId, { parentId });\n}\n\nfunction toggleSolo(layerId: string) {\n  const index = soloedLayerIds.value.indexOf(layerId);\n  if (index >= 0) {\n    soloedLayerIds.value.splice(index, 1);\n  } else {\n    soloedLayerIds.value.push(layerId);\n  }\n}\n\n// Work area\nlet workAreaDragType: 'move' | 'start' | 'end' | null = null;\nlet workAreaDragStart = 0;\n\nfunction startWorkAreaDrag(event: MouseEvent) {\n  workAreaDragType = 'move';\n  workAreaDragStart = event.clientX;\n  document.addEventListener('mousemove', handleWorkAreaDrag);\n  document.addEventListener('mouseup', stopWorkAreaDrag);\n}\n\nfunction startWorkAreaTrim(type: 'start' | 'end', event: MouseEvent) {\n  workAreaDragType = type;\n  document.addEventListener('mousemove', handleWorkAreaDrag);\n  document.addEventListener('mouseup', stopWorkAreaDrag);\n}\n\nfunction handleWorkAreaDrag(event: MouseEvent) {\n  if (!rulerTrackRef.value || !workAreaDragType) return;\n\n  const rect = rulerTrackRef.value.getBoundingClientRect();\n  const x = event.clientX - rect.left;\n  const frame = Math.round((x / rect.width) * store.frameCount);\n\n  if (workAreaDragType === 'start') {\n    workArea.start = Math.max(0, Math.min(frame, workArea.end - 1));\n  } else if (workAreaDragType === 'end') {\n    workArea.end = Math.min(store.frameCount - 1, Math.max(frame, workArea.start + 1));\n  } else if (workAreaDragType === 'move') {\n    const dx = event.clientX - workAreaDragStart;\n    const frameShift = Math.round((dx / rect.width) * store.frameCount);\n\n    const newStart = workArea.start + frameShift;\n    const newEnd = workArea.end + frameShift;\n\n    if (newStart >= 0 && newEnd <= store.frameCount - 1) {\n      workArea.start = newStart;\n      workArea.end = newEnd;\n    }\n\n    workAreaDragStart = event.clientX;\n  }\n}\n\nfunction stopWorkAreaDrag() {\n  workAreaDragType = null;\n  document.removeEventListener('mousemove', handleWorkAreaDrag);\n  document.removeEventListener('mouseup', stopWorkAreaDrag);\n}\n\n// Markers\nfunction setMarkerAtClick(event: MouseEvent) {\n  if (!rulerTrackRef.value) return;\n\n  const rect = rulerTrackRef.value.getBoundingClientRect();\n  const x = event.clientX - rect.left;\n  const frame = Math.round((x / rect.width) * store.frameCount);\n\n  const newMarker: Marker = {\n    id: `marker-${Date.now()}`,\n    frame,\n    label: `Marker ${markers.value.length + 1}`,\n    color: '#ffc107',\n    comment: ''\n  };\n\n  markers.value.push(newMarker);\n  editingMarker.value = { ...newMarker };\n}\n\nfunction selectMarker(markerId: string) {\n  selectedMarkerId.value = selectedMarkerId.value === markerId ? null : markerId;\n}\n\nfunction editMarker(markerId: string) {\n  const marker = markers.value.find(m => m.id === markerId);\n  if (marker) {\n    editingMarker.value = { ...marker };\n  }\n}\n\nfunction saveMarker() {\n  if (!editingMarker.value) return;\n\n  const index = markers.value.findIndex(m => m.id === editingMarker.value!.id);\n  if (index >= 0) {\n    markers.value[index] = { ...editingMarker.value };\n  }\n  editingMarker.value = null;\n}\n\nfunction deleteMarker(markerId: string) {\n  markers.value = markers.value.filter(m => m.id !== markerId);\n  if (selectedMarkerId.value === markerId) {\n    selectedMarkerId.value = null;\n  }\n  editingMarker.value = null;\n}\n\n// Scrubbing\nlet isScrubbing = false;\n\nfunction startScrub(event: MouseEvent) {\n  isScrubbing = true;\n  scrubClick(event);\n  document.addEventListener('mousemove', handleScrub);\n  document.addEventListener('mouseup', stopScrub);\n}\n\nfunction scrubClick(event: MouseEvent) {\n  const target = event.currentTarget as HTMLElement;\n  const rect = target.getBoundingClientRect();\n  const x = event.clientX - rect.left;\n  const progress = Math.max(0, Math.min(1, x / rect.width));\n  const frame = Math.round(progress * (store.frameCount - 1));\n  store.setFrame(frame);\n}\n\nfunction handleScrub(event: MouseEvent) {\n  if (!isScrubbing) return;\n\n  const scrubberTrack = document.querySelector('.scrubber-track');\n  if (!scrubberTrack) return;\n\n  const rect = scrubberTrack.getBoundingClientRect();\n  const x = event.clientX - rect.left;\n  const progress = Math.max(0, Math.min(1, x / rect.width));\n  const frame = Math.round(progress * (store.frameCount - 1));\n  store.setFrame(frame);\n}\n\nfunction stopScrub() {\n  isScrubbing = false;\n  document.removeEventListener('mousemove', handleScrub);\n  document.removeEventListener('mouseup', stopScrub);\n}\n\nfunction setFrameFromInput(event: Event) {\n  const input = event.target as HTMLInputElement;\n  const frame = parseInt(input.value, 10);\n  if (!isNaN(frame)) {\n    store.setFrame(frame);\n  }\n}\n\n// Keyboard shortcuts\nfunction handleKeyDown(event: KeyboardEvent) {\n  // Don't handle if in input\n  if ((event.target as HTMLElement).tagName === 'INPUT' ||\n      (event.target as HTMLElement).tagName === 'TEXTAREA') {\n    return;\n  }\n\n  switch (event.key) {\n    case ' ':\n      event.preventDefault();\n      togglePlayback();\n      break;\n    case 'Home':\n      goToStart();\n      break;\n    case 'End':\n      goToEnd();\n      break;\n    case 'PageUp':\n      stepBackward();\n      break;\n    case 'PageDown':\n      stepForward();\n      break;\n    case 'b':\n    case 'B':\n      // Set work area start\n      workArea.start = store.currentFrame;\n      break;\n    case 'n':\n    case 'N':\n      // Set work area end\n      workArea.end = store.currentFrame;\n      break;\n  }\n}\n\n// Close menu when clicking outside\nfunction handleClickOutside(event: MouseEvent) {\n  const target = event.target as HTMLElement;\n  if (!target.closest('.add-layer-btn') && !target.closest('.add-layer-menu')) {\n    showAddLayerMenu.value = false;\n  }\n}\n\nonMounted(() => {\n  updateTrackWidth();\n  window.addEventListener('resize', updateTrackWidth);\n  document.addEventListener('click', handleClickOutside);\n  document.addEventListener('keydown', handleKeyDown);\n\n  // Initialize work area\n  workArea.end = store.frameCount - 1;\n});\n\nonUnmounted(() => {\n  stopPlayback();\n  window.removeEventListener('resize', updateTrackWidth);\n  document.removeEventListener('click', handleClickOutside);\n  document.removeEventListener('keydown', handleKeyDown);\n});\n\n// Update work area when frame count changes\nwatch(() => store.frameCount, (newCount) => {\n  if (workArea.end >= newCount) {\n    workArea.end = newCount - 1;\n  }\n});\n</script>\n\n<style scoped>\n.timeline-panel {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: #1e1e1e;\n  color: #e0e0e0;\n  font-size: 12px;\n}\n\n.timeline-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 6px 12px;\n  background: #252525;\n  border-bottom: 1px solid #333;\n  gap: 12px;\n}\n\n.header-left {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.timeline-title {\n  font-weight: 500;\n}\n\n.timeline-info {\n  font-size: 11px;\n  color: #888;\n}\n\n.header-center {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.playback-controls {\n  display: flex;\n  gap: 2px;\n}\n\n.playback-controls button {\n  width: 28px;\n  height: 24px;\n  border: 1px solid #444;\n  background: #2a2a2a;\n  color: #888;\n  border-radius: 3px;\n  cursor: pointer;\n  font-size: 10px;\n}\n\n.playback-controls button:hover {\n  background: #333;\n  color: #fff;\n}\n\n.playback-controls button.active {\n  background: #7c9cff;\n  border-color: #7c9cff;\n  color: #fff;\n}\n\n.loop-btn {\n  width: 28px;\n  height: 24px;\n  border: 1px solid #444;\n  background: #2a2a2a;\n  color: #888;\n  border-radius: 3px;\n  cursor: pointer;\n  font-size: 9px;\n}\n\n.loop-btn.active {\n  background: #4a90d9;\n  border-color: #4a90d9;\n  color: #fff;\n}\n\n.header-right {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  position: relative;\n}\n\n.search-input {\n  width: 120px;\n  padding: 4px 8px;\n  border: 1px solid #444;\n  background: #1e1e1e;\n  color: #e0e0e0;\n  border-radius: 3px;\n  font-size: 11px;\n}\n\n.search-input:focus {\n  outline: none;\n  border-color: #7c9cff;\n}\n\n.add-layer-btn {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  padding: 4px 10px;\n  border: none;\n  background: #7c9cff;\n  color: white;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 11px;\n}\n\n.add-layer-btn:hover {\n  background: #8cacff;\n}\n\n.add-layer-menu {\n  position: absolute;\n  top: 100%;\n  right: 0;\n  margin-top: 4px;\n  background: #2a2a2a;\n  border: 1px solid #444;\n  border-radius: 4px;\n  overflow: hidden;\n  z-index: 100;\n  min-width: 120px;\n}\n\n.add-layer-menu button {\n  display: block;\n  width: 100%;\n  padding: 8px 12px;\n  border: none;\n  background: transparent;\n  color: #e0e0e0;\n  cursor: pointer;\n  font-size: 11px;\n  text-align: left;\n}\n\n.add-layer-menu button:hover {\n  background: #3a3a3a;\n}\n\n.column-headers {\n  display: flex;\n  height: 20px;\n  background: #222;\n  border-bottom: 1px solid #333;\n  font-size: 9px;\n  color: #666;\n}\n\n.layer-columns-header {\n  width: 220px;\n  min-width: 220px;\n  display: flex;\n  align-items: center;\n  gap: 2px;\n  padding: 0 4px;\n  border-right: 1px solid #333;\n}\n\n.col-header {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.col-label { width: 14px; }\n.col-av { width: 18px; }\n.col-solo { width: 14px; }\n.col-lock { width: 14px; }\n.col-name { flex: 1; text-align: left; padding-left: 4px; }\n.col-parent { width: 30px; }\n.col-switches { width: 60px; }\n\n.track-header {\n  flex: 1;\n}\n\n.timeline-content {\n  flex: 1;\n  position: relative;\n  overflow: auto;\n  min-height: 0;\n}\n\n.time-ruler {\n  display: flex;\n  height: 24px;\n  background: #222;\n  border-bottom: 1px solid #333;\n  position: sticky;\n  top: 0;\n  z-index: 5;\n}\n\n.ruler-sidebar {\n  width: 220px;\n  min-width: 220px;\n  border-right: 1px solid #333;\n}\n\n.ruler-track {\n  flex: 1;\n  position: relative;\n}\n\n.work-area {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  background: rgba(124, 156, 255, 0.15);\n  cursor: move;\n}\n\n.work-area-handle {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 6px;\n  background: #7c9cff;\n  cursor: ew-resize;\n}\n\n.work-area-handle.start {\n  left: 0;\n}\n\n.work-area-handle.end {\n  right: 0;\n}\n\n.marker {\n  position: absolute;\n  top: 0;\n  width: 0;\n  height: 100%;\n  z-index: 3;\n  cursor: pointer;\n}\n\n.marker-flag {\n  position: absolute;\n  top: 0;\n  left: -5px;\n  width: 10px;\n  height: 10px;\n  clip-path: polygon(0 0, 100% 0, 100% 70%, 50% 100%, 0 70%);\n}\n\n.marker.selected .marker-flag {\n  transform: scale(1.2);\n  filter: brightness(1.3);\n}\n\n.ruler-mark {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 1px;\n  background: #333;\n}\n\n.ruler-mark.major {\n  background: #444;\n}\n\n.mark-label {\n  position: absolute;\n  top: 2px;\n  left: 4px;\n  font-size: 9px;\n  color: #666;\n  white-space: nowrap;\n}\n\n.layer-tracks {\n  min-height: 100px;\n}\n\n.empty-state {\n  padding: 24px;\n  text-align: center;\n  color: #555;\n}\n\n.empty-state .hint {\n  font-size: 11px;\n  margin-top: 4px;\n}\n\n.playhead {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 1px;\n  pointer-events: none;\n  z-index: 10;\n}\n\n.playhead-head {\n  position: absolute;\n  top: 0;\n  left: -5px;\n  width: 10px;\n  height: 10px;\n  background: #ff4444;\n  clip-path: polygon(0 0, 100% 0, 50% 100%);\n}\n\n.playhead-line {\n  position: absolute;\n  top: 10px;\n  bottom: 0;\n  left: 0;\n  width: 1px;\n  background: #ff4444;\n}\n\n.timeline-scrubber {\n  display: flex;\n  align-items: center;\n  padding: 6px 0;\n  background: #252525;\n  border-top: 1px solid #333;\n}\n\n.scrubber-sidebar {\n  width: 220px;\n  min-width: 220px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 0 12px;\n}\n\n.toggle-switches-btn {\n  padding: 2px 6px;\n  border: 1px solid #444;\n  background: #2a2a2a;\n  color: #666;\n  border-radius: 3px;\n  cursor: pointer;\n  font-size: 9px;\n}\n\n.toggle-switches-btn.active {\n  background: #7c9cff;\n  border-color: #7c9cff;\n  color: #fff;\n}\n\n.frame-label {\n  font-size: 11px;\n  color: #888;\n  font-family: monospace;\n}\n\n.scrubber-track {\n  flex: 1;\n  height: 6px;\n  background: #1a1a1a;\n  border-radius: 3px;\n  cursor: pointer;\n  position: relative;\n  margin: 0 12px;\n  overflow: hidden;\n}\n\n.scrubber-work-area {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  background: rgba(124, 156, 255, 0.2);\n}\n\n.scrubber-progress {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  background: #7c9cff;\n  border-radius: 3px;\n  pointer-events: none;\n}\n\n.frame-input {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  padding: 0 12px;\n}\n\n.frame-input input {\n  width: 50px;\n  padding: 2px 6px;\n  border: 1px solid #444;\n  background: #1a1a1a;\n  color: #e0e0e0;\n  border-radius: 3px;\n  font-size: 11px;\n  text-align: right;\n}\n\n.frame-input input:focus {\n  outline: none;\n  border-color: #7c9cff;\n}\n\n.frame-total {\n  font-size: 11px;\n  color: #555;\n}\n\n.marker-dialog {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.marker-dialog-content {\n  background: #2a2a2a;\n  border: 1px solid #444;\n  border-radius: 8px;\n  padding: 20px;\n  min-width: 300px;\n}\n\n.marker-dialog-content h3 {\n  margin: 0 0 16px;\n  font-size: 14px;\n}\n\n.form-row {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin-bottom: 12px;\n}\n\n.form-row label {\n  font-size: 11px;\n  color: #888;\n}\n\n.form-row input,\n.form-row textarea {\n  padding: 6px 8px;\n  border: 1px solid #444;\n  background: #1e1e1e;\n  color: #e0e0e0;\n  border-radius: 4px;\n  font-size: 12px;\n}\n\n.form-row input[type=\"color\"] {\n  width: 50px;\n  height: 30px;\n  padding: 2px;\n}\n\n.dialog-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 8px;\n  margin-top: 16px;\n}\n\n.dialog-actions button {\n  padding: 6px 12px;\n  border: 1px solid #444;\n  background: #333;\n  color: #e0e0e0;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 11px;\n}\n\n.dialog-actions button:hover {\n  background: #3a3a3a;\n}\n\n.dialog-actions button.primary {\n  background: #7c9cff;\n  border-color: #7c9cff;\n}\n\n.dialog-actions button.primary:hover {\n  background: #8cacff;\n}\n\n.icon {\n  font-family: monospace;\n  font-weight: bold;\n}\n</style>\n","<template>\n  <div class=\"graph-editor\">\n    <div class=\"graph-header\">\n      <span class=\"graph-title\">Graph Editor</span>\n\n      <!-- Mode toggle -->\n      <div class=\"mode-toggle\">\n        <button\n          :class=\"{ active: mode === 'value' }\"\n          @click=\"mode = 'value'\"\n          title=\"Value Graph\"\n        >\n          Value\n        </button>\n        <button\n          :class=\"{ active: mode === 'speed' }\"\n          @click=\"mode = 'speed'\"\n          title=\"Speed Graph\"\n        >\n          Speed\n        </button>\n      </div>\n\n      <!-- Easing presets -->\n      <div class=\"preset-buttons\">\n        <button\n          v-for=\"preset in presetList\"\n          :key=\"preset.key\"\n          class=\"preset-btn\"\n          :class=\"{ active: isPresetActive(preset.key) }\"\n          @click=\"applyPreset(preset.key)\"\n          :title=\"preset.label\"\n        >\n          {{ preset.shortLabel }}\n        </button>\n      </div>\n\n      <!-- Tools -->\n      <div class=\"toolbar\">\n        <button @click=\"fitToView\" title=\"Fit to View\">\n          <span class=\"icon\">[ ]</span>\n        </button>\n        <button @click=\"toggleAutoSelect\" :class=\"{ active: autoSelectNearby }\" title=\"Auto-select Nearby Keyframes\">\n          <span class=\"icon\">A</span>\n        </button>\n        <button @click=\"snapEnabled = !snapEnabled\" :class=\"{ active: snapEnabled }\" title=\"Snap to Grid\">\n          <span class=\"icon\">#</span>\n        </button>\n      </div>\n\n      <button class=\"close-btn\" @click=\"emit('close')\">\n        <span class=\"icon\">X</span>\n      </button>\n    </div>\n\n    <div class=\"graph-content\">\n      <!-- Property selector -->\n      <div class=\"property-list\">\n        <div class=\"property-list-header\">\n          Properties\n          <button\n            class=\"toggle-all-btn\"\n            @click=\"toggleAllProperties\"\n            :title=\"allPropertiesVisible ? 'Hide All' : 'Show All'\"\n          >\n            {{ allPropertiesVisible ? 'Hide' : 'Show' }}\n          </button>\n        </div>\n\n        <div\n          v-for=\"prop in animatableProperties\"\n          :key=\"prop.id\"\n          class=\"property-item\"\n          :class=\"{\n            selected: selectedPropertyIds.includes(prop.id),\n            animated: prop.animated\n          }\"\n        >\n          <div class=\"property-row\" @click=\"toggleProperty(prop.id)\">\n            <span\n              class=\"visibility-toggle\"\n              :class=\"{ visible: visiblePropertyIds.includes(prop.id) }\"\n              @click.stop=\"togglePropertyVisibility(prop.id)\"\n            />\n            <span\n              class=\"property-color\"\n              :style=\"{ background: getPropertyColor(prop.id) }\"\n            />\n            <span class=\"property-name\">{{ prop.name }}</span>\n            <span class=\"keyframe-count\" v-if=\"prop.animated\">\n              {{ prop.keyframes.length }}\n            </span>\n          </div>\n\n          <!-- Separate dimensions toggle for position/scale -->\n          <div\n            v-if=\"prop.name === 'Position' || prop.name === 'Scale'\"\n            class=\"dimension-toggles\"\n          >\n            <button\n              v-for=\"dim in ['x', 'y', 'z']\"\n              :key=\"dim\"\n              :class=\"{\n                active: visibleDimensions[prop.id]?.includes(dim),\n                hasValue: hasDimension(prop, dim)\n              }\"\n              @click=\"toggleDimension(prop.id, dim)\"\n            >\n              {{ dim.toUpperCase() }}\n            </button>\n          </div>\n        </div>\n\n        <div v-if=\"animatableProperties.length === 0\" class=\"no-properties\">\n          No animated properties\n        </div>\n      </div>\n\n      <!-- Main graph area -->\n      <div class=\"graph-main\">\n        <!-- Timeline ruler -->\n        <div class=\"time-ruler\" ref=\"timeRulerRef\">\n          <canvas ref=\"timeRulerCanvas\" @click=\"onTimeRulerClick\" />\n        </div>\n\n        <!-- Graph canvas -->\n        <div class=\"graph-canvas-container\" ref=\"canvasContainerRef\">\n          <canvas\n            ref=\"canvasRef\"\n            @mousedown=\"handleMouseDown\"\n            @mousemove=\"handleMouseMove\"\n            @mouseup=\"handleMouseUp\"\n            @mouseleave=\"handleMouseUp\"\n            @wheel=\"handleWheel\"\n            @contextmenu.prevent=\"showContextMenu\"\n          />\n\n          <!-- Keyframe selection box -->\n          <div\n            v-if=\"selectionBox\"\n            class=\"selection-box\"\n            :style=\"{\n              left: selectionBox.x + 'px',\n              top: selectionBox.y + 'px',\n              width: selectionBox.width + 'px',\n              height: selectionBox.height + 'px'\n            }\"\n          />\n\n          <!-- Handle controls (SVG overlay) -->\n          <svg\n            class=\"handle-overlay\"\n            :viewBox=\"`0 0 ${canvasWidth} ${canvasHeight}`\"\n          >\n            <!-- Keyframe handles for each visible property -->\n            <g\n              v-for=\"prop in visibleProperties\"\n              :key=\"prop.id\"\n              class=\"property-handles\"\n            >\n              <template v-for=\"(kf, kfIndex) in prop.keyframes\" :key=\"kfIndex\">\n                <!-- Keyframe diamond -->\n                <g\n                  v-if=\"isKeyframeInView(kf)\"\n                  class=\"keyframe-marker\"\n                  :class=\"{\n                    selected: isKeyframeSelected(prop.id, kfIndex),\n                    hovered: hoveredKeyframe?.propId === prop.id && hoveredKeyframe?.index === kfIndex\n                  }\"\n                  @mousedown.stop=\"onKeyframeMouseDown(prop.id, kfIndex, $event)\"\n                >\n                  <rect\n                    :x=\"getKeyframeScreenX(kf) - 5\"\n                    :y=\"getKeyframeScreenY(prop, kf) - 5\"\n                    width=\"10\"\n                    height=\"10\"\n                    :fill=\"getPropertyColor(prop.id)\"\n                    transform-origin=\"center\"\n                    :transform=\"`rotate(45, ${getKeyframeScreenX(kf)}, ${getKeyframeScreenY(prop, kf)})`\"\n                  />\n                </g>\n\n                <!-- Bezier handles -->\n                <g\n                  v-if=\"isKeyframeSelected(prop.id, kfIndex) && kf.interpolation === 'bezier'\"\n                  class=\"bezier-handles\"\n                >\n                  <!-- Out handle (to next keyframe) -->\n                  <g\n                    v-if=\"prop.keyframes[kfIndex + 1]\"\n                    class=\"handle out-handle\"\n                  >\n                    <line\n                      :x1=\"getKeyframeScreenX(kf)\"\n                      :y1=\"getKeyframeScreenY(prop, kf)\"\n                      :x2=\"getOutHandleX(prop, kfIndex)\"\n                      :y2=\"getOutHandleY(prop, kfIndex)\"\n                      class=\"handle-line\"\n                    />\n                    <circle\n                      :cx=\"getOutHandleX(prop, kfIndex)\"\n                      :cy=\"getOutHandleY(prop, kfIndex)\"\n                      r=\"5\"\n                      class=\"handle-point\"\n                      :class=\"{ dragging: dragTarget?.type === 'outHandle' && dragTarget?.propId === prop.id && dragTarget?.index === kfIndex }\"\n                      @mousedown.stop=\"startDragHandle('outHandle', prop.id, kfIndex, $event)\"\n                    />\n                  </g>\n\n                  <!-- In handle (from previous keyframe) -->\n                  <g\n                    v-if=\"kfIndex > 0\"\n                    class=\"handle in-handle\"\n                  >\n                    <line\n                      :x1=\"getKeyframeScreenX(kf)\"\n                      :y1=\"getKeyframeScreenY(prop, kf)\"\n                      :x2=\"getInHandleX(prop, kfIndex)\"\n                      :y2=\"getInHandleY(prop, kfIndex)\"\n                      class=\"handle-line\"\n                    />\n                    <circle\n                      :cx=\"getInHandleX(prop, kfIndex)\"\n                      :cy=\"getInHandleY(prop, kfIndex)\"\n                      r=\"5\"\n                      class=\"handle-point\"\n                      :class=\"{ dragging: dragTarget?.type === 'inHandle' && dragTarget?.propId === prop.id && dragTarget?.index === kfIndex }\"\n                      @mousedown.stop=\"startDragHandle('inHandle', prop.id, kfIndex, $event)\"\n                    />\n                  </g>\n                </g>\n              </template>\n            </g>\n\n            <!-- Current time indicator -->\n            <line\n              :x1=\"currentFrameScreenX\"\n              :y1=\"0\"\n              :x2=\"currentFrameScreenX\"\n              :y2=\"canvasHeight\"\n              class=\"current-time-line\"\n            />\n          </svg>\n        </div>\n\n        <!-- Value axis -->\n        <div class=\"value-axis\" ref=\"valueAxisRef\">\n          <canvas ref=\"valueAxisCanvas\" />\n        </div>\n      </div>\n    </div>\n\n    <!-- Keyframe info panel -->\n    <div v-if=\"selectedKeyframes.length > 0\" class=\"keyframe-info-panel\">\n      <div class=\"info-row\">\n        <span class=\"info-label\">Frame:</span>\n        <input\n          type=\"number\"\n          :value=\"selectedKeyframes[0]?.keyframe.frame\"\n          @change=\"updateSelectedKeyframeFrame\"\n          class=\"info-input\"\n        />\n      </div>\n      <div class=\"info-row\">\n        <span class=\"info-label\">Value:</span>\n        <input\n          type=\"number\"\n          :value=\"getKeyframeDisplayValue(selectedKeyframes[0])\"\n          @change=\"updateSelectedKeyframeValue\"\n          class=\"info-input\"\n          step=\"0.1\"\n        />\n      </div>\n      <div class=\"info-row\">\n        <span class=\"info-label\">Interpolation:</span>\n        <select\n          :value=\"selectedKeyframes[0]?.keyframe.interpolation\"\n          @change=\"updateSelectedKeyframeInterpolation\"\n          class=\"info-select\"\n        >\n          <option value=\"linear\">Linear</option>\n          <option value=\"bezier\">Bezier</option>\n          <option value=\"hold\">Hold</option>\n        </select>\n      </div>\n    </div>\n\n    <!-- Context menu -->\n    <div\n      v-if=\"contextMenu\"\n      class=\"context-menu\"\n      :style=\"{ left: contextMenu.x + 'px', top: contextMenu.y + 'px' }\"\n      @click=\"contextMenu = null\"\n    >\n      <button @click=\"addKeyframeAtPosition\">Add Keyframe</button>\n      <button @click=\"deleteSelectedKeyframes\" :disabled=\"selectedKeyframes.length === 0\">Delete Keyframe(s)</button>\n      <hr />\n      <button @click=\"copyKeyframes\" :disabled=\"selectedKeyframes.length === 0\">Copy</button>\n      <button @click=\"pasteKeyframes\" :disabled=\"!clipboard\">Paste</button>\n      <hr />\n      <button @click=\"selectAllKeyframes\">Select All</button>\n      <button @click=\"invertSelection\">Invert Selection</button>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch, onMounted, onUnmounted, reactive } from 'vue';\nimport { useCompositorStore } from '@/stores/compositorStore';\nimport { EASING_PRESETS, getBezierCurvePoint } from '@/services/interpolation';\nimport type { AnimatableProperty, Keyframe, BezierHandle } from '@/types/project';\n\nconst emit = defineEmits<{\n  (e: 'close'): void;\n}>();\n\nconst store = useCompositorStore();\n\n// Refs\nconst canvasRef = ref<HTMLCanvasElement | null>(null);\nconst canvasContainerRef = ref<HTMLDivElement | null>(null);\nconst timeRulerRef = ref<HTMLDivElement | null>(null);\nconst timeRulerCanvas = ref<HTMLCanvasElement | null>(null);\nconst valueAxisRef = ref<HTMLDivElement | null>(null);\nconst valueAxisCanvas = ref<HTMLCanvasElement | null>(null);\n\nconst canvasWidth = ref(400);\nconst canvasHeight = ref(200);\n\n// Mode: value graph or speed graph\nconst mode = ref<'value' | 'speed'>('value');\n\n// View state\nconst viewState = reactive({\n  frameStart: 0,\n  frameEnd: 100,\n  valueMin: 0,\n  valueMax: 100,\n  zoom: 1\n});\n\n// Selection state\nconst selectedPropertyIds = ref<string[]>([]);\nconst visiblePropertyIds = ref<string[]>([]);\nconst visibleDimensions = ref<Record<string, string[]>>({});\nconst selectedKeyframes = ref<Array<{ propId: string; index: number; keyframe: Keyframe<any> }>>([]);\nconst hoveredKeyframe = ref<{ propId: string; index: number } | null>(null);\n\n// Interaction state\nconst dragTarget = ref<{\n  type: 'keyframe' | 'inHandle' | 'outHandle' | 'pan' | 'select';\n  propId?: string;\n  index?: number;\n  startX?: number;\n  startY?: number;\n} | null>(null);\nconst selectionBox = ref<{ x: number; y: number; width: number; height: number } | null>(null);\nconst contextMenu = ref<{ x: number; y: number } | null>(null);\nconst clipboard = ref<Keyframe<any>[] | null>(null);\n\n// Options\nconst snapEnabled = ref(false);\nconst autoSelectNearby = ref(true);\n\n// Graph margins\nconst margin = { top: 10, right: 10, bottom: 10, left: 10 };\n\n// Property colors\nconst propertyColors: Record<string, string> = {\n  'Position': '#ff6b6b',\n  'Position.x': '#ff6b6b',\n  'Position.y': '#4ecdc4',\n  'Position.z': '#45b7d1',\n  'Scale': '#f7dc6f',\n  'Scale.x': '#f7dc6f',\n  'Scale.y': '#82e0aa',\n  'Scale.z': '#85c1e9',\n  'Rotation': '#bb8fce',\n  'Opacity': '#f8b739',\n  'default': '#7c9cff'\n};\n\n// Presets list\nconst presetList = [\n  { key: 'linear' as const, label: 'Linear', shortLabel: 'Lin' },\n  { key: 'easeIn' as const, label: 'Ease In', shortLabel: 'In' },\n  { key: 'easeOut' as const, label: 'Ease Out', shortLabel: 'Out' },\n  { key: 'easeInOut' as const, label: 'Ease In/Out', shortLabel: 'I/O' },\n  { key: 'easeInCubic' as const, label: 'Ease In Cubic', shortLabel: 'In3' },\n  { key: 'easeOutCubic' as const, label: 'Ease Out Cubic', shortLabel: 'Ou3' },\n  { key: 'easeInOutCubic' as const, label: 'Ease In/Out Cubic', shortLabel: 'IO3' },\n  { key: 'easeInBack' as const, label: 'Ease In Back', shortLabel: 'InB' },\n  { key: 'easeOutBack' as const, label: 'Ease Out Back', shortLabel: 'OuB' }\n];\n\n// Get all animatable properties from selected layer\nconst animatableProperties = computed((): AnimatableProperty<any>[] => {\n  const layer = store.selectedLayer;\n  if (!layer) return [];\n\n  const props: AnimatableProperty<any>[] = [];\n\n  // Transform properties\n  props.push(layer.transform.position);\n  props.push(layer.transform.scale);\n  props.push(layer.transform.rotation);\n\n  // Opacity\n  props.push(layer.opacity);\n\n  // Custom properties\n  props.push(...layer.properties);\n\n  return props;\n});\n\n// Visible properties\nconst visibleProperties = computed(() => {\n  return animatableProperties.value.filter(p =>\n    visiblePropertyIds.value.includes(p.id) && p.animated\n  );\n});\n\nconst allPropertiesVisible = computed(() => {\n  return animatableProperties.value.every(p => visiblePropertyIds.value.includes(p.id));\n});\n\n// Current frame screen position\nconst currentFrameScreenX = computed(() => {\n  return frameToScreenX(store.currentFrame);\n});\n\n// Coordinate conversion functions\nfunction frameToScreenX(frame: number): number {\n  const graphWidth = canvasWidth.value - margin.left - margin.right;\n  const t = (frame - viewState.frameStart) / (viewState.frameEnd - viewState.frameStart);\n  return margin.left + t * graphWidth;\n}\n\nfunction screenXToFrame(screenX: number): number {\n  const graphWidth = canvasWidth.value - margin.left - margin.right;\n  const t = (screenX - margin.left) / graphWidth;\n  return viewState.frameStart + t * (viewState.frameEnd - viewState.frameStart);\n}\n\nfunction valueToScreenY(value: number): number {\n  const graphHeight = canvasHeight.value - margin.top - margin.bottom;\n  const t = (value - viewState.valueMin) / (viewState.valueMax - viewState.valueMin);\n  return canvasHeight.value - margin.bottom - t * graphHeight;\n}\n\nfunction screenYToValue(screenY: number): number {\n  const graphHeight = canvasHeight.value - margin.top - margin.bottom;\n  const t = (canvasHeight.value - margin.bottom - screenY) / graphHeight;\n  return viewState.valueMin + t * (viewState.valueMax - viewState.valueMin);\n}\n\n// Keyframe position helpers\nfunction getKeyframeScreenX(kf: Keyframe<any>): number {\n  return frameToScreenX(kf.frame);\n}\n\nfunction getKeyframeScreenY(prop: AnimatableProperty<any>, kf: Keyframe<any>): number {\n  const value = typeof kf.value === 'number' ? kf.value :\n    typeof kf.value === 'object' ? (kf.value.x ?? kf.value) : 0;\n  return valueToScreenY(value);\n}\n\nfunction getKeyframeDisplayValue(selection: { propId: string; index: number; keyframe: Keyframe<any> } | undefined): number {\n  if (!selection) return 0;\n  const value = selection.keyframe.value;\n  return typeof value === 'number' ? value :\n    typeof value === 'object' ? (value.x ?? 0) : 0;\n}\n\n// Handle position helpers\nfunction getOutHandleX(prop: AnimatableProperty<any>, kfIndex: number): number {\n  const kf = prop.keyframes[kfIndex];\n  const nextKf = prop.keyframes[kfIndex + 1];\n  if (!kf || !nextKf) return 0;\n\n  const frameSpan = nextKf.frame - kf.frame;\n  const handleFrame = kf.frame + kf.outHandle.x * frameSpan;\n  return frameToScreenX(handleFrame);\n}\n\nfunction getOutHandleY(prop: AnimatableProperty<any>, kfIndex: number): number {\n  const kf = prop.keyframes[kfIndex];\n  const nextKf = prop.keyframes[kfIndex + 1];\n  if (!kf || !nextKf) return 0;\n\n  const valueSpan = getNumericValue(nextKf.value) - getNumericValue(kf.value);\n  const handleValue = getNumericValue(kf.value) + kf.outHandle.y * valueSpan;\n  return valueToScreenY(handleValue);\n}\n\nfunction getInHandleX(prop: AnimatableProperty<any>, kfIndex: number): number {\n  const kf = prop.keyframes[kfIndex];\n  const prevKf = prop.keyframes[kfIndex - 1];\n  if (!kf || !prevKf) return 0;\n\n  const frameSpan = kf.frame - prevKf.frame;\n  const handleFrame = kf.frame - kf.inHandle.x * frameSpan;\n  return frameToScreenX(handleFrame);\n}\n\nfunction getInHandleY(prop: AnimatableProperty<any>, kfIndex: number): number {\n  const kf = prop.keyframes[kfIndex];\n  const prevKf = prop.keyframes[kfIndex - 1];\n  if (!kf || !prevKf) return 0;\n\n  const valueSpan = getNumericValue(kf.value) - getNumericValue(prevKf.value);\n  const handleValue = getNumericValue(kf.value) - kf.inHandle.y * valueSpan;\n  return valueToScreenY(handleValue);\n}\n\nfunction getNumericValue(value: any): number {\n  if (typeof value === 'number') return value;\n  if (typeof value === 'object') return value.x ?? value.y ?? value.z ?? 0;\n  return 0;\n}\n\n// Utility functions\nfunction getPropertyColor(propId: string): string {\n  const prop = animatableProperties.value.find(p => p.id === propId);\n  if (!prop) return propertyColors.default;\n  return propertyColors[prop.name] ?? propertyColors.default;\n}\n\nfunction isKeyframeInView(kf: Keyframe<any>): boolean {\n  return kf.frame >= viewState.frameStart && kf.frame <= viewState.frameEnd;\n}\n\nfunction isKeyframeSelected(propId: string, index: number): boolean {\n  return selectedKeyframes.value.some(sk => sk.propId === propId && sk.index === index);\n}\n\nfunction hasDimension(prop: AnimatableProperty<any>, dim: string): boolean {\n  if (!prop.animated || prop.keyframes.length === 0) return false;\n  const value = prop.keyframes[0].value;\n  return typeof value === 'object' && dim in value;\n}\n\n// Property management\nfunction toggleProperty(propId: string): void {\n  const index = selectedPropertyIds.value.indexOf(propId);\n  if (index === -1) {\n    selectedPropertyIds.value.push(propId);\n  } else {\n    selectedPropertyIds.value.splice(index, 1);\n  }\n}\n\nfunction togglePropertyVisibility(propId: string): void {\n  const index = visiblePropertyIds.value.indexOf(propId);\n  if (index === -1) {\n    visiblePropertyIds.value.push(propId);\n  } else {\n    visiblePropertyIds.value.splice(index, 1);\n  }\n  updateViewBounds();\n}\n\nfunction toggleAllProperties(): void {\n  if (allPropertiesVisible.value) {\n    visiblePropertyIds.value = [];\n  } else {\n    visiblePropertyIds.value = animatableProperties.value.map(p => p.id);\n  }\n  updateViewBounds();\n}\n\nfunction toggleDimension(propId: string, dim: string): void {\n  if (!visibleDimensions.value[propId]) {\n    visibleDimensions.value[propId] = [];\n  }\n  const dims = visibleDimensions.value[propId];\n  const index = dims.indexOf(dim);\n  if (index === -1) {\n    dims.push(dim);\n  } else {\n    dims.splice(index, 1);\n  }\n}\n\n// View management\nfunction fitToView(): void {\n  const visible = visibleProperties.value;\n  if (visible.length === 0) return;\n\n  let minFrame = Infinity;\n  let maxFrame = -Infinity;\n  let minValue = Infinity;\n  let maxValue = -Infinity;\n\n  for (const prop of visible) {\n    for (const kf of prop.keyframes) {\n      minFrame = Math.min(minFrame, kf.frame);\n      maxFrame = Math.max(maxFrame, kf.frame);\n      const value = getNumericValue(kf.value);\n      minValue = Math.min(minValue, value);\n      maxValue = Math.max(maxValue, value);\n    }\n  }\n\n  // Add padding\n  const frameMargin = (maxFrame - minFrame) * 0.1 || 10;\n  const valueMargin = (maxValue - minValue) * 0.1 || 10;\n\n  viewState.frameStart = minFrame - frameMargin;\n  viewState.frameEnd = maxFrame + frameMargin;\n  viewState.valueMin = minValue - valueMargin;\n  viewState.valueMax = maxValue + valueMargin;\n}\n\nfunction updateViewBounds(): void {\n  fitToView();\n}\n\nfunction toggleAutoSelect(): void {\n  autoSelectNearby.value = !autoSelectNearby.value;\n}\n\n// Preset handling\nfunction isPresetActive(presetKey: string): boolean {\n  if (selectedKeyframes.value.length === 0) return false;\n\n  const preset = EASING_PRESETS[presetKey as keyof typeof EASING_PRESETS];\n  if (!preset) return false;\n\n  return selectedKeyframes.value.every(sk => {\n    const outMatch = Math.abs(sk.keyframe.outHandle.x - preset.outHandle.x) < 0.01 &&\n                     Math.abs(sk.keyframe.outHandle.y - preset.outHandle.y) < 0.01;\n    const inMatch = Math.abs(sk.keyframe.inHandle.x - preset.inHandle.x) < 0.01 &&\n                    Math.abs(sk.keyframe.inHandle.y - preset.inHandle.y) < 0.01;\n    return outMatch && inMatch;\n  });\n}\n\nfunction applyPreset(presetKey: string): void {\n  const preset = EASING_PRESETS[presetKey as keyof typeof EASING_PRESETS];\n  if (!preset) return;\n\n  for (const sk of selectedKeyframes.value) {\n    sk.keyframe.outHandle = { ...preset.outHandle };\n    sk.keyframe.inHandle = { ...preset.inHandle };\n    sk.keyframe.interpolation = presetKey === 'linear' ? 'linear' : 'bezier';\n  }\n\n  drawGraph();\n}\n\n// Mouse event handlers\nfunction handleMouseDown(event: MouseEvent): void {\n  const rect = canvasRef.value?.getBoundingClientRect();\n  if (!rect) return;\n\n  const x = event.clientX - rect.left;\n  const y = event.clientY - rect.top;\n\n  if (event.button === 1 || (event.button === 0 && event.altKey)) {\n    // Middle click or Alt+left click: pan\n    dragTarget.value = { type: 'pan', startX: x, startY: y };\n  } else if (event.button === 0) {\n    // Left click: selection box\n    if (!event.shiftKey) {\n      selectedKeyframes.value = [];\n    }\n    selectionBox.value = { x, y, width: 0, height: 0 };\n    dragTarget.value = { type: 'select', startX: x, startY: y };\n  }\n}\n\nfunction handleMouseMove(event: MouseEvent): void {\n  const rect = canvasRef.value?.getBoundingClientRect();\n  if (!rect) return;\n\n  const x = event.clientX - rect.left;\n  const y = event.clientY - rect.top;\n\n  // Update hovered keyframe\n  updateHoveredKeyframe(x, y);\n\n  if (!dragTarget.value) return;\n\n  if (dragTarget.value.type === 'pan') {\n    const dx = x - (dragTarget.value.startX ?? 0);\n    const dy = y - (dragTarget.value.startY ?? 0);\n\n    const graphWidth = canvasWidth.value - margin.left - margin.right;\n    const graphHeight = canvasHeight.value - margin.top - margin.bottom;\n\n    const frameShift = -dx / graphWidth * (viewState.frameEnd - viewState.frameStart);\n    const valueShift = dy / graphHeight * (viewState.valueMax - viewState.valueMin);\n\n    viewState.frameStart += frameShift;\n    viewState.frameEnd += frameShift;\n    viewState.valueMin += valueShift;\n    viewState.valueMax += valueShift;\n\n    dragTarget.value.startX = x;\n    dragTarget.value.startY = y;\n    drawGraph();\n  } else if (dragTarget.value.type === 'select' && selectionBox.value) {\n    const startX = dragTarget.value.startX ?? 0;\n    const startY = dragTarget.value.startY ?? 0;\n\n    selectionBox.value = {\n      x: Math.min(x, startX),\n      y: Math.min(y, startY),\n      width: Math.abs(x - startX),\n      height: Math.abs(y - startY)\n    };\n  } else if (dragTarget.value.type === 'keyframe') {\n    moveSelectedKeyframes(x, y);\n  } else if (dragTarget.value.type === 'outHandle' || dragTarget.value.type === 'inHandle') {\n    moveHandle(x, y);\n  }\n}\n\nfunction handleMouseUp(): void {\n  if (dragTarget.value?.type === 'select' && selectionBox.value) {\n    selectKeyframesInBox();\n  }\n\n  dragTarget.value = null;\n  selectionBox.value = null;\n}\n\nfunction handleWheel(event: WheelEvent): void {\n  event.preventDefault();\n\n  const rect = canvasRef.value?.getBoundingClientRect();\n  if (!rect) return;\n\n  const x = event.clientX - rect.left;\n  const zoomFactor = event.deltaY > 0 ? 1.1 : 0.9;\n\n  // Zoom around cursor position\n  const frameAtCursor = screenXToFrame(x);\n\n  const newFrameStart = frameAtCursor - (frameAtCursor - viewState.frameStart) * zoomFactor;\n  const newFrameEnd = frameAtCursor + (viewState.frameEnd - frameAtCursor) * zoomFactor;\n\n  if (event.shiftKey) {\n    // Zoom time only\n    viewState.frameStart = newFrameStart;\n    viewState.frameEnd = newFrameEnd;\n  } else {\n    // Zoom both axes\n    viewState.frameStart = newFrameStart;\n    viewState.frameEnd = newFrameEnd;\n\n    const y = event.clientY - rect.top;\n    const valueAtCursor = screenYToValue(y);\n    viewState.valueMin = valueAtCursor - (valueAtCursor - viewState.valueMin) * zoomFactor;\n    viewState.valueMax = valueAtCursor + (viewState.valueMax - valueAtCursor) * zoomFactor;\n  }\n\n  drawGraph();\n}\n\nfunction updateHoveredKeyframe(x: number, y: number): void {\n  hoveredKeyframe.value = null;\n\n  for (const prop of visibleProperties.value) {\n    for (let i = 0; i < prop.keyframes.length; i++) {\n      const kf = prop.keyframes[i];\n      const kfX = getKeyframeScreenX(kf);\n      const kfY = getKeyframeScreenY(prop, kf);\n\n      const dist = Math.sqrt((x - kfX) ** 2 + (y - kfY) ** 2);\n      if (dist < 10) {\n        hoveredKeyframe.value = { propId: prop.id, index: i };\n        return;\n      }\n    }\n  }\n}\n\nfunction onKeyframeMouseDown(propId: string, index: number, event: MouseEvent): void {\n  const prop = animatableProperties.value.find(p => p.id === propId);\n  if (!prop) return;\n\n  const kf = prop.keyframes[index];\n\n  if (!event.shiftKey) {\n    selectedKeyframes.value = [];\n  }\n\n  if (!isKeyframeSelected(propId, index)) {\n    selectedKeyframes.value.push({ propId, index, keyframe: kf });\n  }\n\n  dragTarget.value = { type: 'keyframe', propId, index };\n}\n\nfunction selectKeyframesInBox(): void {\n  if (!selectionBox.value) return;\n\n  const box = selectionBox.value;\n\n  for (const prop of visibleProperties.value) {\n    for (let i = 0; i < prop.keyframes.length; i++) {\n      const kf = prop.keyframes[i];\n      const x = getKeyframeScreenX(kf);\n      const y = getKeyframeScreenY(prop, kf);\n\n      if (x >= box.x && x <= box.x + box.width &&\n          y >= box.y && y <= box.y + box.height) {\n        if (!isKeyframeSelected(prop.id, i)) {\n          selectedKeyframes.value.push({ propId: prop.id, index: i, keyframe: kf });\n        }\n      }\n    }\n  }\n}\n\nfunction moveSelectedKeyframes(screenX: number, screenY: number): void {\n  const newFrame = Math.round(screenXToFrame(screenX));\n  const newValue = screenYToValue(screenY);\n\n  // For now, just move the first selected keyframe\n  if (selectedKeyframes.value.length > 0) {\n    const sk = selectedKeyframes.value[0];\n    sk.keyframe.frame = snapEnabled.value ? Math.round(newFrame / 5) * 5 : newFrame;\n\n    if (typeof sk.keyframe.value === 'number') {\n      sk.keyframe.value = newValue;\n    }\n  }\n\n  drawGraph();\n}\n\n// Handle dragging\nfunction startDragHandle(type: 'inHandle' | 'outHandle', propId: string, index: number, event: MouseEvent): void {\n  dragTarget.value = { type, propId, index };\n  document.addEventListener('mousemove', onDragHandle);\n  document.addEventListener('mouseup', stopDragHandle);\n}\n\nfunction onDragHandle(event: MouseEvent): void {\n  const rect = canvasRef.value?.getBoundingClientRect();\n  if (!rect || !dragTarget.value) return;\n\n  const x = event.clientX - rect.left;\n  const y = event.clientY - rect.top;\n  moveHandle(x, y);\n}\n\nfunction moveHandle(screenX: number, screenY: number): void {\n  if (!dragTarget.value || !dragTarget.value.propId) return;\n\n  const prop = animatableProperties.value.find(p => p.id === dragTarget.value!.propId);\n  if (!prop) return;\n\n  const kfIndex = dragTarget.value.index!;\n  const kf = prop.keyframes[kfIndex];\n  if (!kf) return;\n\n  if (dragTarget.value.type === 'outHandle') {\n    const nextKf = prop.keyframes[kfIndex + 1];\n    if (!nextKf) return;\n\n    const frameSpan = nextKf.frame - kf.frame;\n    const valueSpan = getNumericValue(nextKf.value) - getNumericValue(kf.value);\n\n    const handleFrame = screenXToFrame(screenX);\n    const handleValue = screenYToValue(screenY);\n\n    kf.outHandle = {\n      x: Math.max(0, Math.min(1, (handleFrame - kf.frame) / frameSpan)),\n      y: valueSpan !== 0 ? (handleValue - getNumericValue(kf.value)) / valueSpan : 0\n    };\n    kf.interpolation = 'bezier';\n  } else if (dragTarget.value.type === 'inHandle') {\n    const prevKf = prop.keyframes[kfIndex - 1];\n    if (!prevKf) return;\n\n    const frameSpan = kf.frame - prevKf.frame;\n    const valueSpan = getNumericValue(kf.value) - getNumericValue(prevKf.value);\n\n    const handleFrame = screenXToFrame(screenX);\n    const handleValue = screenYToValue(screenY);\n\n    kf.inHandle = {\n      x: Math.max(0, Math.min(1, (kf.frame - handleFrame) / frameSpan)),\n      y: valueSpan !== 0 ? (getNumericValue(kf.value) - handleValue) / valueSpan : 0\n    };\n  }\n\n  drawGraph();\n}\n\nfunction stopDragHandle(): void {\n  dragTarget.value = null;\n  document.removeEventListener('mousemove', onDragHandle);\n  document.removeEventListener('mouseup', stopDragHandle);\n}\n\n// Context menu\nfunction showContextMenu(event: MouseEvent): void {\n  contextMenu.value = { x: event.offsetX, y: event.offsetY };\n}\n\nfunction addKeyframeAtPosition(): void {\n  if (!contextMenu.value) return;\n\n  const frame = Math.round(screenXToFrame(contextMenu.value.x));\n  const value = screenYToValue(contextMenu.value.y);\n\n  // Add keyframe to first visible property\n  if (visibleProperties.value.length > 0) {\n    const prop = visibleProperties.value[0];\n    const newKf: Keyframe<any> = {\n      id: `kf_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      frame,\n      value: typeof prop.value === 'number' ? value : { x: value, y: value },\n      interpolation: 'bezier',\n      inHandle: { x: 0.33, y: 0 },\n      outHandle: { x: 0.33, y: 0 },\n      handlesBroken: false\n    };\n\n    // Insert in sorted order\n    const insertIndex = prop.keyframes.findIndex(kf => kf.frame > frame);\n    if (insertIndex === -1) {\n      prop.keyframes.push(newKf);\n    } else {\n      prop.keyframes.splice(insertIndex, 0, newKf);\n    }\n\n    prop.animated = true;\n    drawGraph();\n  }\n\n  contextMenu.value = null;\n}\n\nfunction deleteSelectedKeyframes(): void {\n  for (const sk of selectedKeyframes.value) {\n    const prop = animatableProperties.value.find(p => p.id === sk.propId);\n    if (prop) {\n      const index = prop.keyframes.indexOf(sk.keyframe);\n      if (index !== -1) {\n        prop.keyframes.splice(index, 1);\n      }\n      if (prop.keyframes.length === 0) {\n        prop.animated = false;\n      }\n    }\n  }\n  selectedKeyframes.value = [];\n  drawGraph();\n}\n\nfunction copyKeyframes(): void {\n  clipboard.value = selectedKeyframes.value.map(sk => ({ ...sk.keyframe }));\n}\n\nfunction pasteKeyframes(): void {\n  if (!clipboard.value || visibleProperties.value.length === 0) return;\n\n  const prop = visibleProperties.value[0];\n  const offset = store.currentFrame - clipboard.value[0].frame;\n\n  for (const kf of clipboard.value) {\n    const newKf = {\n      ...kf,\n      frame: kf.frame + offset\n    };\n\n    const insertIndex = prop.keyframes.findIndex(k => k.frame > newKf.frame);\n    if (insertIndex === -1) {\n      prop.keyframes.push(newKf);\n    } else {\n      prop.keyframes.splice(insertIndex, 0, newKf);\n    }\n  }\n\n  prop.animated = true;\n  drawGraph();\n}\n\nfunction selectAllKeyframes(): void {\n  selectedKeyframes.value = [];\n  for (const prop of visibleProperties.value) {\n    for (let i = 0; i < prop.keyframes.length; i++) {\n      selectedKeyframes.value.push({ propId: prop.id, index: i, keyframe: prop.keyframes[i] });\n    }\n  }\n}\n\nfunction invertSelection(): void {\n  const newSelection: typeof selectedKeyframes.value = [];\n\n  for (const prop of visibleProperties.value) {\n    for (let i = 0; i < prop.keyframes.length; i++) {\n      if (!isKeyframeSelected(prop.id, i)) {\n        newSelection.push({ propId: prop.id, index: i, keyframe: prop.keyframes[i] });\n      }\n    }\n  }\n\n  selectedKeyframes.value = newSelection;\n}\n\n// Keyframe info updates\nfunction updateSelectedKeyframeFrame(event: Event): void {\n  const value = parseInt((event.target as HTMLInputElement).value);\n  if (selectedKeyframes.value.length > 0 && !isNaN(value)) {\n    selectedKeyframes.value[0].keyframe.frame = value;\n    drawGraph();\n  }\n}\n\nfunction updateSelectedKeyframeValue(event: Event): void {\n  const value = parseFloat((event.target as HTMLInputElement).value);\n  if (selectedKeyframes.value.length > 0 && !isNaN(value)) {\n    const kf = selectedKeyframes.value[0].keyframe;\n    if (typeof kf.value === 'number') {\n      kf.value = value;\n    } else if (typeof kf.value === 'object') {\n      kf.value.x = value;\n    }\n    drawGraph();\n  }\n}\n\nfunction updateSelectedKeyframeInterpolation(event: Event): void {\n  const value = (event.target as HTMLSelectElement).value as 'linear' | 'bezier' | 'hold';\n  if (selectedKeyframes.value.length > 0) {\n    selectedKeyframes.value[0].keyframe.interpolation = value;\n    drawGraph();\n  }\n}\n\n// Time ruler click\nfunction onTimeRulerClick(event: MouseEvent): void {\n  const rect = timeRulerCanvas.value?.getBoundingClientRect();\n  if (!rect) return;\n\n  const x = event.clientX - rect.left;\n  const frame = Math.round(screenXToFrame(x));\n  store.setFrame(frame);\n}\n\n// Drawing\nfunction drawGraph(): void {\n  drawMainCanvas();\n  drawTimeRuler();\n  drawValueAxis();\n}\n\nfunction drawMainCanvas(): void {\n  const canvas = canvasRef.value;\n  if (!canvas) return;\n\n  const ctx = canvas.getContext('2d');\n  if (!ctx) return;\n\n  // Set canvas size\n  canvas.width = canvasWidth.value;\n  canvas.height = canvasHeight.value;\n\n  // Clear\n  ctx.fillStyle = '#1a1a1a';\n  ctx.fillRect(0, 0, canvasWidth.value, canvasHeight.value);\n\n  // Draw grid\n  drawGrid(ctx);\n\n  // Draw curves for each visible property\n  for (const prop of visibleProperties.value) {\n    drawPropertyCurve(ctx, prop);\n  }\n}\n\nfunction drawGrid(ctx: CanvasRenderingContext2D): void {\n  const graphWidth = canvasWidth.value - margin.left - margin.right;\n  const graphHeight = canvasHeight.value - margin.top - margin.bottom;\n\n  ctx.strokeStyle = '#2a2a2a';\n  ctx.lineWidth = 1;\n\n  // Calculate grid spacing based on view\n  const frameRange = viewState.frameEnd - viewState.frameStart;\n  const frameStep = calculateGridStep(frameRange, graphWidth, 50);\n  const valueRange = viewState.valueMax - viewState.valueMin;\n  const valueStep = calculateGridStep(valueRange, graphHeight, 30);\n\n  // Vertical lines (frame grid)\n  const firstFrame = Math.ceil(viewState.frameStart / frameStep) * frameStep;\n  for (let frame = firstFrame; frame <= viewState.frameEnd; frame += frameStep) {\n    const x = frameToScreenX(frame);\n    ctx.beginPath();\n    ctx.moveTo(x, margin.top);\n    ctx.lineTo(x, canvasHeight.value - margin.bottom);\n    ctx.stroke();\n  }\n\n  // Horizontal lines (value grid)\n  const firstValue = Math.ceil(viewState.valueMin / valueStep) * valueStep;\n  for (let value = firstValue; value <= viewState.valueMax; value += valueStep) {\n    const y = valueToScreenY(value);\n    ctx.beginPath();\n    ctx.moveTo(margin.left, y);\n    ctx.lineTo(canvasWidth.value - margin.right, y);\n    ctx.stroke();\n  }\n\n  // Zero lines\n  ctx.strokeStyle = '#3a3a3a';\n  ctx.lineWidth = 1;\n\n  if (viewState.frameStart <= 0 && viewState.frameEnd >= 0) {\n    const x = frameToScreenX(0);\n    ctx.beginPath();\n    ctx.moveTo(x, margin.top);\n    ctx.lineTo(x, canvasHeight.value - margin.bottom);\n    ctx.stroke();\n  }\n\n  if (viewState.valueMin <= 0 && viewState.valueMax >= 0) {\n    const y = valueToScreenY(0);\n    ctx.beginPath();\n    ctx.moveTo(margin.left, y);\n    ctx.lineTo(canvasWidth.value - margin.right, y);\n    ctx.stroke();\n  }\n}\n\nfunction calculateGridStep(range: number, pixelSize: number, targetSpacing: number): number {\n  const rawStep = range * targetSpacing / pixelSize;\n  const magnitude = Math.pow(10, Math.floor(Math.log10(rawStep)));\n  const normalized = rawStep / magnitude;\n\n  if (normalized <= 1) return magnitude;\n  if (normalized <= 2) return 2 * magnitude;\n  if (normalized <= 5) return 5 * magnitude;\n  return 10 * magnitude;\n}\n\nfunction drawPropertyCurve(ctx: CanvasRenderingContext2D, prop: AnimatableProperty<any>): void {\n  if (prop.keyframes.length < 2) return;\n\n  const color = getPropertyColor(prop.id);\n  ctx.strokeStyle = color;\n  ctx.lineWidth = 2;\n  ctx.beginPath();\n\n  let started = false;\n\n  for (let i = 0; i < prop.keyframes.length - 1; i++) {\n    const kf1 = prop.keyframes[i];\n    const kf2 = prop.keyframes[i + 1];\n\n    // Skip segments outside view\n    if (kf2.frame < viewState.frameStart || kf1.frame > viewState.frameEnd) continue;\n\n    const x1 = getKeyframeScreenX(kf1);\n    const y1 = getKeyframeScreenY(prop, kf1);\n    const x2 = getKeyframeScreenX(kf2);\n    const y2 = getKeyframeScreenY(prop, kf2);\n\n    if (!started) {\n      ctx.moveTo(x1, y1);\n      started = true;\n    }\n\n    if (kf1.interpolation === 'hold') {\n      ctx.lineTo(x2, y1);\n      ctx.lineTo(x2, y2);\n    } else if (kf1.interpolation === 'linear') {\n      ctx.lineTo(x2, y2);\n    } else {\n      // Bezier curve\n      const cp1x = x1 + (x2 - x1) * kf1.outHandle.x;\n      const cp1y = y1 + (y2 - y1) * kf1.outHandle.y;\n      const cp2x = x2 - (x2 - x1) * kf2.inHandle.x;\n      const cp2y = y2 - (y2 - y1) * kf2.inHandle.y;\n\n      ctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x2, y2);\n    }\n  }\n\n  ctx.stroke();\n}\n\nfunction drawTimeRuler(): void {\n  const canvas = timeRulerCanvas.value;\n  if (!canvas) return;\n\n  const rect = timeRulerRef.value?.getBoundingClientRect();\n  if (!rect) return;\n\n  canvas.width = rect.width;\n  canvas.height = 24;\n\n  const ctx = canvas.getContext('2d');\n  if (!ctx) return;\n\n  ctx.fillStyle = '#252525';\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n  const frameRange = viewState.frameEnd - viewState.frameStart;\n  const frameStep = calculateGridStep(frameRange, canvas.width, 60);\n\n  ctx.fillStyle = '#888';\n  ctx.font = '10px system-ui';\n  ctx.textAlign = 'center';\n\n  const firstFrame = Math.ceil(viewState.frameStart / frameStep) * frameStep;\n  for (let frame = firstFrame; frame <= viewState.frameEnd; frame += frameStep) {\n    const x = frameToScreenX(frame);\n    ctx.fillText(frame.toString(), x, 16);\n\n    ctx.strokeStyle = '#444';\n    ctx.beginPath();\n    ctx.moveTo(x, 20);\n    ctx.lineTo(x, 24);\n    ctx.stroke();\n  }\n\n  // Current frame marker\n  const ctfX = frameToScreenX(store.currentFrame);\n  ctx.fillStyle = '#ff4444';\n  ctx.beginPath();\n  ctx.moveTo(ctfX - 5, 0);\n  ctx.lineTo(ctfX + 5, 0);\n  ctx.lineTo(ctfX, 8);\n  ctx.closePath();\n  ctx.fill();\n}\n\nfunction drawValueAxis(): void {\n  const canvas = valueAxisCanvas.value;\n  if (!canvas) return;\n\n  const rect = valueAxisRef.value?.getBoundingClientRect();\n  if (!rect) return;\n\n  canvas.width = 40;\n  canvas.height = rect.height;\n\n  const ctx = canvas.getContext('2d');\n  if (!ctx) return;\n\n  ctx.fillStyle = '#252525';\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n  const valueRange = viewState.valueMax - viewState.valueMin;\n  const valueStep = calculateGridStep(valueRange, canvas.height, 30);\n\n  ctx.fillStyle = '#888';\n  ctx.font = '10px system-ui';\n  ctx.textAlign = 'right';\n\n  const firstValue = Math.ceil(viewState.valueMin / valueStep) * valueStep;\n  for (let value = firstValue; value <= viewState.valueMax; value += valueStep) {\n    const y = valueToScreenY(value);\n    ctx.fillText(value.toFixed(0), 36, y + 4);\n  }\n}\n\n// Resize observer\nlet resizeObserver: ResizeObserver | null = null;\n\nonMounted(() => {\n  if (canvasContainerRef.value) {\n    resizeObserver = new ResizeObserver((entries) => {\n      for (const entry of entries) {\n        canvasWidth.value = entry.contentRect.width;\n        canvasHeight.value = entry.contentRect.height;\n        drawGraph();\n      }\n    });\n    resizeObserver.observe(canvasContainerRef.value);\n  }\n\n  // Initialize visibility\n  visiblePropertyIds.value = animatableProperties.value\n    .filter(p => p.animated)\n    .map(p => p.id);\n\n  fitToView();\n  drawGraph();\n});\n\nonUnmounted(() => {\n  resizeObserver?.disconnect();\n});\n\n// Redraw on changes\nwatch([() => store.currentFrame, visiblePropertyIds, mode], () => {\n  drawGraph();\n});\n\nwatch(animatableProperties, () => {\n  fitToView();\n  drawGraph();\n}, { deep: true });\n</script>\n\n<style scoped>\n.graph-editor {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: #1e1e1e;\n  color: #e0e0e0;\n  font-size: 12px;\n}\n\n.graph-header {\n  display: flex;\n  align-items: center;\n  padding: 6px 12px;\n  background: #252525;\n  border-bottom: 1px solid #333;\n  gap: 12px;\n}\n\n.graph-title {\n  font-weight: 500;\n}\n\n.mode-toggle {\n  display: flex;\n  border: 1px solid #444;\n  border-radius: 3px;\n  overflow: hidden;\n}\n\n.mode-toggle button {\n  padding: 3px 8px;\n  border: none;\n  background: transparent;\n  color: #888;\n  font-size: 10px;\n  cursor: pointer;\n}\n\n.mode-toggle button.active {\n  background: #7c9cff;\n  color: #fff;\n}\n\n.preset-buttons {\n  display: flex;\n  gap: 2px;\n  flex: 1;\n  overflow-x: auto;\n}\n\n.preset-btn {\n  padding: 3px 6px;\n  border: 1px solid #444;\n  background: transparent;\n  color: #888;\n  border-radius: 3px;\n  font-size: 9px;\n  cursor: pointer;\n  white-space: nowrap;\n}\n\n.preset-btn:hover {\n  background: #333;\n  color: #fff;\n}\n\n.preset-btn.active {\n  background: #7c9cff;\n  border-color: #7c9cff;\n  color: #fff;\n}\n\n.toolbar {\n  display: flex;\n  gap: 4px;\n}\n\n.toolbar button {\n  width: 24px;\n  height: 24px;\n  border: 1px solid #444;\n  background: transparent;\n  color: #888;\n  border-radius: 3px;\n  cursor: pointer;\n  font-size: 10px;\n}\n\n.toolbar button:hover {\n  background: #333;\n  color: #fff;\n}\n\n.toolbar button.active {\n  background: #7c9cff;\n  border-color: #7c9cff;\n  color: #fff;\n}\n\n.close-btn {\n  padding: 4px 8px;\n  border: none;\n  background: transparent;\n  color: #888;\n  cursor: pointer;\n}\n\n.close-btn:hover {\n  color: #fff;\n}\n\n.graph-content {\n  display: flex;\n  flex: 1;\n  min-height: 0;\n}\n\n.property-list {\n  width: 140px;\n  min-width: 140px;\n  background: #222;\n  border-right: 1px solid #333;\n  overflow-y: auto;\n}\n\n.property-list-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 6px 8px;\n  background: #2a2a2a;\n  border-bottom: 1px solid #333;\n  font-size: 10px;\n  color: #888;\n}\n\n.toggle-all-btn {\n  padding: 2px 6px;\n  border: 1px solid #444;\n  background: transparent;\n  color: #888;\n  border-radius: 2px;\n  font-size: 9px;\n  cursor: pointer;\n}\n\n.property-item {\n  border-bottom: 1px solid #2a2a2a;\n}\n\n.property-item.animated {\n  border-left: 2px solid #7c9cff;\n}\n\n.property-row {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 6px 8px;\n  cursor: pointer;\n}\n\n.property-row:hover {\n  background: #2a2a2a;\n}\n\n.property-item.selected .property-row {\n  background: rgba(124, 156, 255, 0.15);\n}\n\n.visibility-toggle {\n  width: 12px;\n  height: 12px;\n  border: 1px solid #555;\n  border-radius: 2px;\n  cursor: pointer;\n}\n\n.visibility-toggle.visible {\n  background: #7c9cff;\n  border-color: #7c9cff;\n}\n\n.property-color {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n}\n\n.property-name {\n  flex: 1;\n  font-size: 11px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.keyframe-count {\n  font-size: 9px;\n  color: #666;\n  background: #333;\n  padding: 1px 4px;\n  border-radius: 2px;\n}\n\n.dimension-toggles {\n  display: flex;\n  gap: 2px;\n  padding: 2px 8px 6px 26px;\n}\n\n.dimension-toggles button {\n  padding: 2px 6px;\n  border: 1px solid #444;\n  background: transparent;\n  color: #666;\n  border-radius: 2px;\n  font-size: 9px;\n  cursor: pointer;\n}\n\n.dimension-toggles button.active {\n  background: #444;\n  color: #fff;\n}\n\n.dimension-toggles button:not(.hasValue) {\n  opacity: 0.3;\n  cursor: default;\n}\n\n.no-properties {\n  padding: 12px 8px;\n  color: #555;\n  font-size: 11px;\n  text-align: center;\n}\n\n.graph-main {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  min-width: 0;\n}\n\n.time-ruler {\n  height: 24px;\n  background: #252525;\n  border-bottom: 1px solid #333;\n}\n\n.time-ruler canvas {\n  display: block;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n}\n\n.graph-canvas-container {\n  flex: 1;\n  position: relative;\n  min-height: 0;\n}\n\n.graph-canvas-container canvas {\n  display: block;\n  width: 100%;\n  height: 100%;\n}\n\n.value-axis {\n  width: 40px;\n  background: #252525;\n  border-left: 1px solid #333;\n}\n\n.value-axis canvas {\n  display: block;\n}\n\n.selection-box {\n  position: absolute;\n  border: 1px solid #7c9cff;\n  background: rgba(124, 156, 255, 0.1);\n  pointer-events: none;\n}\n\n.handle-overlay {\n  position: absolute;\n  inset: 0;\n  pointer-events: none;\n}\n\n.keyframe-marker {\n  pointer-events: all;\n  cursor: pointer;\n}\n\n.keyframe-marker rect {\n  stroke: #fff;\n  stroke-width: 1;\n  stroke-opacity: 0;\n  transition: all 0.1s;\n}\n\n.keyframe-marker.selected rect,\n.keyframe-marker.hovered rect {\n  stroke-opacity: 1;\n}\n\n.keyframe-marker.selected rect {\n  filter: brightness(1.3);\n}\n\n.bezier-handles {\n  pointer-events: all;\n}\n\n.handle-line {\n  stroke: #888;\n  stroke-width: 1;\n}\n\n.handle-point {\n  fill: #fff;\n  stroke: #888;\n  stroke-width: 1;\n  cursor: pointer;\n  transition: all 0.1s;\n}\n\n.handle-point:hover,\n.handle-point.dragging {\n  fill: #7c9cff;\n  r: 7;\n}\n\n.current-time-line {\n  stroke: #ff4444;\n  stroke-width: 1;\n  stroke-dasharray: 4 4;\n}\n\n.keyframe-info-panel {\n  display: flex;\n  gap: 16px;\n  padding: 8px 12px;\n  background: #252525;\n  border-top: 1px solid #333;\n}\n\n.info-row {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.info-label {\n  color: #888;\n  font-size: 10px;\n}\n\n.info-input {\n  width: 60px;\n  padding: 3px 6px;\n  background: #1e1e1e;\n  border: 1px solid #444;\n  border-radius: 3px;\n  color: #e0e0e0;\n  font-size: 11px;\n}\n\n.info-select {\n  padding: 3px 6px;\n  background: #1e1e1e;\n  border: 1px solid #444;\n  border-radius: 3px;\n  color: #e0e0e0;\n  font-size: 11px;\n}\n\n.context-menu {\n  position: absolute;\n  background: #2a2a2a;\n  border: 1px solid #444;\n  border-radius: 4px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);\n  z-index: 100;\n  min-width: 150px;\n}\n\n.context-menu button {\n  display: block;\n  width: 100%;\n  padding: 8px 12px;\n  border: none;\n  background: transparent;\n  color: #e0e0e0;\n  font-size: 11px;\n  text-align: left;\n  cursor: pointer;\n}\n\n.context-menu button:hover {\n  background: #3a3a3a;\n}\n\n.context-menu button:disabled {\n  color: #666;\n  cursor: default;\n}\n\n.context-menu hr {\n  border: none;\n  border-top: 1px solid #444;\n  margin: 4px 0;\n}\n</style>\n","import { Bezier } from \"./bezier.js\";\n\n// math-inlining.\nconst { abs, cos, sin, acos, atan2, sqrt, pow } = Math;\n\n// cube root function yielding real roots\nfunction crt(v) {\n  return v < 0 ? -pow(-v, 1 / 3) : pow(v, 1 / 3);\n}\n\n// trig constants\nconst pi = Math.PI,\n  tau = 2 * pi,\n  quart = pi / 2,\n  // float precision significant decimal\n  epsilon = 0.000001,\n  // extremas used in bbox calculation and similar algorithms\n  nMax = Number.MAX_SAFE_INTEGER || 9007199254740991,\n  nMin = Number.MIN_SAFE_INTEGER || -9007199254740991,\n  // a zero coordinate, which is surprisingly useful\n  ZERO = { x: 0, y: 0, z: 0 };\n\n// Bezier utility functions\nconst utils = {\n  // Legendre-Gauss abscissae with n=24 (x_i values, defined at i=n as the roots of the nth order Legendre polynomial Pn(x))\n  Tvalues: [\n    -0.0640568928626056260850430826247450385909,\n    0.0640568928626056260850430826247450385909,\n    -0.1911188674736163091586398207570696318404,\n    0.1911188674736163091586398207570696318404,\n    -0.3150426796961633743867932913198102407864,\n    0.3150426796961633743867932913198102407864,\n    -0.4337935076260451384870842319133497124524,\n    0.4337935076260451384870842319133497124524,\n    -0.5454214713888395356583756172183723700107,\n    0.5454214713888395356583756172183723700107,\n    -0.6480936519369755692524957869107476266696,\n    0.6480936519369755692524957869107476266696,\n    -0.7401241915785543642438281030999784255232,\n    0.7401241915785543642438281030999784255232,\n    -0.8200019859739029219539498726697452080761,\n    0.8200019859739029219539498726697452080761,\n    -0.8864155270044010342131543419821967550873,\n    0.8864155270044010342131543419821967550873,\n    -0.9382745520027327585236490017087214496548,\n    0.9382745520027327585236490017087214496548,\n    -0.9747285559713094981983919930081690617411,\n    0.9747285559713094981983919930081690617411,\n    -0.9951872199970213601799974097007368118745,\n    0.9951872199970213601799974097007368118745,\n  ],\n\n  // Legendre-Gauss weights with n=24 (w_i values, defined by a function linked to in the Bezier primer article)\n  Cvalues: [\n    0.1279381953467521569740561652246953718517,\n    0.1279381953467521569740561652246953718517,\n    0.1258374563468282961213753825111836887264,\n    0.1258374563468282961213753825111836887264,\n    0.121670472927803391204463153476262425607,\n    0.121670472927803391204463153476262425607,\n    0.1155056680537256013533444839067835598622,\n    0.1155056680537256013533444839067835598622,\n    0.1074442701159656347825773424466062227946,\n    0.1074442701159656347825773424466062227946,\n    0.0976186521041138882698806644642471544279,\n    0.0976186521041138882698806644642471544279,\n    0.086190161531953275917185202983742667185,\n    0.086190161531953275917185202983742667185,\n    0.0733464814110803057340336152531165181193,\n    0.0733464814110803057340336152531165181193,\n    0.0592985849154367807463677585001085845412,\n    0.0592985849154367807463677585001085845412,\n    0.0442774388174198061686027482113382288593,\n    0.0442774388174198061686027482113382288593,\n    0.0285313886289336631813078159518782864491,\n    0.0285313886289336631813078159518782864491,\n    0.0123412297999871995468056670700372915759,\n    0.0123412297999871995468056670700372915759,\n  ],\n\n  arcfn: function (t, derivativeFn) {\n    const d = derivativeFn(t);\n    let l = d.x * d.x + d.y * d.y;\n    if (typeof d.z !== \"undefined\") {\n      l += d.z * d.z;\n    }\n    return sqrt(l);\n  },\n\n  compute: function (t, points, _3d) {\n    // shortcuts\n    if (t === 0) {\n      points[0].t = 0;\n      return points[0];\n    }\n\n    const order = points.length - 1;\n\n    if (t === 1) {\n      points[order].t = 1;\n      return points[order];\n    }\n\n    const mt = 1 - t;\n    let p = points;\n\n    // constant?\n    if (order === 0) {\n      points[0].t = t;\n      return points[0];\n    }\n\n    // linear?\n    if (order === 1) {\n      const ret = {\n        x: mt * p[0].x + t * p[1].x,\n        y: mt * p[0].y + t * p[1].y,\n        t: t,\n      };\n      if (_3d) {\n        ret.z = mt * p[0].z + t * p[1].z;\n      }\n      return ret;\n    }\n\n    // quadratic/cubic curve?\n    if (order < 4) {\n      let mt2 = mt * mt,\n        t2 = t * t,\n        a,\n        b,\n        c,\n        d = 0;\n      if (order === 2) {\n        p = [p[0], p[1], p[2], ZERO];\n        a = mt2;\n        b = mt * t * 2;\n        c = t2;\n      } else if (order === 3) {\n        a = mt2 * mt;\n        b = mt2 * t * 3;\n        c = mt * t2 * 3;\n        d = t * t2;\n      }\n      const ret = {\n        x: a * p[0].x + b * p[1].x + c * p[2].x + d * p[3].x,\n        y: a * p[0].y + b * p[1].y + c * p[2].y + d * p[3].y,\n        t: t,\n      };\n      if (_3d) {\n        ret.z = a * p[0].z + b * p[1].z + c * p[2].z + d * p[3].z;\n      }\n      return ret;\n    }\n\n    // higher order curves: use de Casteljau's computation\n    const dCpts = JSON.parse(JSON.stringify(points));\n    while (dCpts.length > 1) {\n      for (let i = 0; i < dCpts.length - 1; i++) {\n        dCpts[i] = {\n          x: dCpts[i].x + (dCpts[i + 1].x - dCpts[i].x) * t,\n          y: dCpts[i].y + (dCpts[i + 1].y - dCpts[i].y) * t,\n        };\n        if (typeof dCpts[i].z !== \"undefined\") {\n          dCpts[i].z = dCpts[i].z + (dCpts[i + 1].z - dCpts[i].z) * t;\n        }\n      }\n      dCpts.splice(dCpts.length - 1, 1);\n    }\n    dCpts[0].t = t;\n    return dCpts[0];\n  },\n\n  computeWithRatios: function (t, points, ratios, _3d) {\n    const mt = 1 - t,\n      r = ratios,\n      p = points;\n\n    let f1 = r[0],\n      f2 = r[1],\n      f3 = r[2],\n      f4 = r[3],\n      d;\n\n    // spec for linear\n    f1 *= mt;\n    f2 *= t;\n\n    if (p.length === 2) {\n      d = f1 + f2;\n      return {\n        x: (f1 * p[0].x + f2 * p[1].x) / d,\n        y: (f1 * p[0].y + f2 * p[1].y) / d,\n        z: !_3d ? false : (f1 * p[0].z + f2 * p[1].z) / d,\n        t: t,\n      };\n    }\n\n    // upgrade to quadratic\n    f1 *= mt;\n    f2 *= 2 * mt;\n    f3 *= t * t;\n\n    if (p.length === 3) {\n      d = f1 + f2 + f3;\n      return {\n        x: (f1 * p[0].x + f2 * p[1].x + f3 * p[2].x) / d,\n        y: (f1 * p[0].y + f2 * p[1].y + f3 * p[2].y) / d,\n        z: !_3d ? false : (f1 * p[0].z + f2 * p[1].z + f3 * p[2].z) / d,\n        t: t,\n      };\n    }\n\n    // upgrade to cubic\n    f1 *= mt;\n    f2 *= 1.5 * mt;\n    f3 *= 3 * mt;\n    f4 *= t * t * t;\n\n    if (p.length === 4) {\n      d = f1 + f2 + f3 + f4;\n      return {\n        x: (f1 * p[0].x + f2 * p[1].x + f3 * p[2].x + f4 * p[3].x) / d,\n        y: (f1 * p[0].y + f2 * p[1].y + f3 * p[2].y + f4 * p[3].y) / d,\n        z: !_3d\n          ? false\n          : (f1 * p[0].z + f2 * p[1].z + f3 * p[2].z + f4 * p[3].z) / d,\n        t: t,\n      };\n    }\n  },\n\n  derive: function (points, _3d) {\n    const dpoints = [];\n    for (let p = points, d = p.length, c = d - 1; d > 1; d--, c--) {\n      const list = [];\n      for (let j = 0, dpt; j < c; j++) {\n        dpt = {\n          x: c * (p[j + 1].x - p[j].x),\n          y: c * (p[j + 1].y - p[j].y),\n        };\n        if (_3d) {\n          dpt.z = c * (p[j + 1].z - p[j].z);\n        }\n        list.push(dpt);\n      }\n      dpoints.push(list);\n      p = list;\n    }\n    return dpoints;\n  },\n\n  between: function (v, m, M) {\n    return (\n      (m <= v && v <= M) ||\n      utils.approximately(v, m) ||\n      utils.approximately(v, M)\n    );\n  },\n\n  approximately: function (a, b, precision) {\n    return abs(a - b) <= (precision || epsilon);\n  },\n\n  length: function (derivativeFn) {\n    const z = 0.5,\n      len = utils.Tvalues.length;\n\n    let sum = 0;\n\n    for (let i = 0, t; i < len; i++) {\n      t = z * utils.Tvalues[i] + z;\n      sum += utils.Cvalues[i] * utils.arcfn(t, derivativeFn);\n    }\n    return z * sum;\n  },\n\n  map: function (v, ds, de, ts, te) {\n    const d1 = de - ds,\n      d2 = te - ts,\n      v2 = v - ds,\n      r = v2 / d1;\n    return ts + d2 * r;\n  },\n\n  lerp: function (r, v1, v2) {\n    const ret = {\n      x: v1.x + r * (v2.x - v1.x),\n      y: v1.y + r * (v2.y - v1.y),\n    };\n    if (v1.z !== undefined && v2.z !== undefined) {\n      ret.z = v1.z + r * (v2.z - v1.z);\n    }\n    return ret;\n  },\n\n  pointToString: function (p) {\n    let s = p.x + \"/\" + p.y;\n    if (typeof p.z !== \"undefined\") {\n      s += \"/\" + p.z;\n    }\n    return s;\n  },\n\n  pointsToString: function (points) {\n    return \"[\" + points.map(utils.pointToString).join(\", \") + \"]\";\n  },\n\n  copy: function (obj) {\n    return JSON.parse(JSON.stringify(obj));\n  },\n\n  angle: function (o, v1, v2) {\n    const dx1 = v1.x - o.x,\n      dy1 = v1.y - o.y,\n      dx2 = v2.x - o.x,\n      dy2 = v2.y - o.y,\n      cross = dx1 * dy2 - dy1 * dx2,\n      dot = dx1 * dx2 + dy1 * dy2;\n    return atan2(cross, dot);\n  },\n\n  // round as string, to avoid rounding errors\n  round: function (v, d) {\n    const s = \"\" + v;\n    const pos = s.indexOf(\".\");\n    return parseFloat(s.substring(0, pos + 1 + d));\n  },\n\n  dist: function (p1, p2) {\n    const dx = p1.x - p2.x,\n      dy = p1.y - p2.y;\n    return sqrt(dx * dx + dy * dy);\n  },\n\n  closest: function (LUT, point) {\n    let mdist = pow(2, 63),\n      mpos,\n      d;\n    LUT.forEach(function (p, idx) {\n      d = utils.dist(point, p);\n      if (d < mdist) {\n        mdist = d;\n        mpos = idx;\n      }\n    });\n    return { mdist: mdist, mpos: mpos };\n  },\n\n  abcratio: function (t, n) {\n    // see ratio(t) note on http://pomax.github.io/bezierinfo/#abc\n    if (n !== 2 && n !== 3) {\n      return false;\n    }\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    } else if (t === 0 || t === 1) {\n      return t;\n    }\n    const bottom = pow(t, n) + pow(1 - t, n),\n      top = bottom - 1;\n    return abs(top / bottom);\n  },\n\n  projectionratio: function (t, n) {\n    // see u(t) note on http://pomax.github.io/bezierinfo/#abc\n    if (n !== 2 && n !== 3) {\n      return false;\n    }\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    } else if (t === 0 || t === 1) {\n      return t;\n    }\n    const top = pow(1 - t, n),\n      bottom = pow(t, n) + top;\n    return top / bottom;\n  },\n\n  lli8: function (x1, y1, x2, y2, x3, y3, x4, y4) {\n    const nx =\n        (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),\n      ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),\n      d = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n    if (d == 0) {\n      return false;\n    }\n    return { x: nx / d, y: ny / d };\n  },\n\n  lli4: function (p1, p2, p3, p4) {\n    const x1 = p1.x,\n      y1 = p1.y,\n      x2 = p2.x,\n      y2 = p2.y,\n      x3 = p3.x,\n      y3 = p3.y,\n      x4 = p4.x,\n      y4 = p4.y;\n    return utils.lli8(x1, y1, x2, y2, x3, y3, x4, y4);\n  },\n\n  lli: function (v1, v2) {\n    return utils.lli4(v1, v1.c, v2, v2.c);\n  },\n\n  makeline: function (p1, p2) {\n    return new Bezier(\n      p1.x,\n      p1.y,\n      (p1.x + p2.x) / 2,\n      (p1.y + p2.y) / 2,\n      p2.x,\n      p2.y\n    );\n  },\n\n  findbbox: function (sections) {\n    let mx = nMax,\n      my = nMax,\n      MX = nMin,\n      MY = nMin;\n    sections.forEach(function (s) {\n      const bbox = s.bbox();\n      if (mx > bbox.x.min) mx = bbox.x.min;\n      if (my > bbox.y.min) my = bbox.y.min;\n      if (MX < bbox.x.max) MX = bbox.x.max;\n      if (MY < bbox.y.max) MY = bbox.y.max;\n    });\n    return {\n      x: { min: mx, mid: (mx + MX) / 2, max: MX, size: MX - mx },\n      y: { min: my, mid: (my + MY) / 2, max: MY, size: MY - my },\n    };\n  },\n\n  shapeintersections: function (\n    s1,\n    bbox1,\n    s2,\n    bbox2,\n    curveIntersectionThreshold\n  ) {\n    if (!utils.bboxoverlap(bbox1, bbox2)) return [];\n    const intersections = [];\n    const a1 = [s1.startcap, s1.forward, s1.back, s1.endcap];\n    const a2 = [s2.startcap, s2.forward, s2.back, s2.endcap];\n    a1.forEach(function (l1) {\n      if (l1.virtual) return;\n      a2.forEach(function (l2) {\n        if (l2.virtual) return;\n        const iss = l1.intersects(l2, curveIntersectionThreshold);\n        if (iss.length > 0) {\n          iss.c1 = l1;\n          iss.c2 = l2;\n          iss.s1 = s1;\n          iss.s2 = s2;\n          intersections.push(iss);\n        }\n      });\n    });\n    return intersections;\n  },\n\n  makeshape: function (forward, back, curveIntersectionThreshold) {\n    const bpl = back.points.length;\n    const fpl = forward.points.length;\n    const start = utils.makeline(back.points[bpl - 1], forward.points[0]);\n    const end = utils.makeline(forward.points[fpl - 1], back.points[0]);\n    const shape = {\n      startcap: start,\n      forward: forward,\n      back: back,\n      endcap: end,\n      bbox: utils.findbbox([start, forward, back, end]),\n    };\n    shape.intersections = function (s2) {\n      return utils.shapeintersections(\n        shape,\n        shape.bbox,\n        s2,\n        s2.bbox,\n        curveIntersectionThreshold\n      );\n    };\n    return shape;\n  },\n\n  getminmax: function (curve, d, list) {\n    if (!list) return { min: 0, max: 0 };\n    let min = nMax,\n      max = nMin,\n      t,\n      c;\n    if (list.indexOf(0) === -1) {\n      list = [0].concat(list);\n    }\n    if (list.indexOf(1) === -1) {\n      list.push(1);\n    }\n    for (let i = 0, len = list.length; i < len; i++) {\n      t = list[i];\n      c = curve.get(t);\n      if (c[d] < min) {\n        min = c[d];\n      }\n      if (c[d] > max) {\n        max = c[d];\n      }\n    }\n    return { min: min, mid: (min + max) / 2, max: max, size: max - min };\n  },\n\n  align: function (points, line) {\n    const tx = line.p1.x,\n      ty = line.p1.y,\n      a = -atan2(line.p2.y - ty, line.p2.x - tx),\n      d = function (v) {\n        return {\n          x: (v.x - tx) * cos(a) - (v.y - ty) * sin(a),\n          y: (v.x - tx) * sin(a) + (v.y - ty) * cos(a),\n        };\n      };\n    return points.map(d);\n  },\n\n  roots: function (points, line) {\n    line = line || { p1: { x: 0, y: 0 }, p2: { x: 1, y: 0 } };\n\n    const order = points.length - 1;\n    const aligned = utils.align(points, line);\n    const reduce = function (t) {\n      return 0 <= t && t <= 1;\n    };\n\n    if (order === 2) {\n      const a = aligned[0].y,\n        b = aligned[1].y,\n        c = aligned[2].y,\n        d = a - 2 * b + c;\n      if (d !== 0) {\n        const m1 = -sqrt(b * b - a * c),\n          m2 = -a + b,\n          v1 = -(m1 + m2) / d,\n          v2 = -(-m1 + m2) / d;\n        return [v1, v2].filter(reduce);\n      } else if (b !== c && d === 0) {\n        return [(2 * b - c) / (2 * b - 2 * c)].filter(reduce);\n      }\n      return [];\n    }\n\n    // see http://www.trans4mind.com/personal_development/mathematics/polynomials/cubicAlgebra.htm\n    const pa = aligned[0].y,\n      pb = aligned[1].y,\n      pc = aligned[2].y,\n      pd = aligned[3].y;\n\n    let d = -pa + 3 * pb - 3 * pc + pd,\n      a = 3 * pa - 6 * pb + 3 * pc,\n      b = -3 * pa + 3 * pb,\n      c = pa;\n\n    if (utils.approximately(d, 0)) {\n      // this is not a cubic curve.\n      if (utils.approximately(a, 0)) {\n        // in fact, this is not a quadratic curve either.\n        if (utils.approximately(b, 0)) {\n          // in fact in fact, there are no solutions.\n          return [];\n        }\n        // linear solution:\n        return [-c / b].filter(reduce);\n      }\n      // quadratic solution:\n      const q = sqrt(b * b - 4 * a * c),\n        a2 = 2 * a;\n      return [(q - b) / a2, (-b - q) / a2].filter(reduce);\n    }\n\n    // at this point, we know we need a cubic solution:\n\n    a /= d;\n    b /= d;\n    c /= d;\n\n    const p = (3 * b - a * a) / 3,\n      p3 = p / 3,\n      q = (2 * a * a * a - 9 * a * b + 27 * c) / 27,\n      q2 = q / 2,\n      discriminant = q2 * q2 + p3 * p3 * p3;\n\n    let u1, v1, x1, x2, x3;\n    if (discriminant < 0) {\n      const mp3 = -p / 3,\n        mp33 = mp3 * mp3 * mp3,\n        r = sqrt(mp33),\n        t = -q / (2 * r),\n        cosphi = t < -1 ? -1 : t > 1 ? 1 : t,\n        phi = acos(cosphi),\n        crtr = crt(r),\n        t1 = 2 * crtr;\n      x1 = t1 * cos(phi / 3) - a / 3;\n      x2 = t1 * cos((phi + tau) / 3) - a / 3;\n      x3 = t1 * cos((phi + 2 * tau) / 3) - a / 3;\n      return [x1, x2, x3].filter(reduce);\n    } else if (discriminant === 0) {\n      u1 = q2 < 0 ? crt(-q2) : -crt(q2);\n      x1 = 2 * u1 - a / 3;\n      x2 = -u1 - a / 3;\n      return [x1, x2].filter(reduce);\n    } else {\n      const sd = sqrt(discriminant);\n      u1 = crt(-q2 + sd);\n      v1 = crt(q2 + sd);\n      return [u1 - v1 - a / 3].filter(reduce);\n    }\n  },\n\n  droots: function (p) {\n    // quadratic roots are easy\n    if (p.length === 3) {\n      const a = p[0],\n        b = p[1],\n        c = p[2],\n        d = a - 2 * b + c;\n      if (d !== 0) {\n        const m1 = -sqrt(b * b - a * c),\n          m2 = -a + b,\n          v1 = -(m1 + m2) / d,\n          v2 = -(-m1 + m2) / d;\n        return [v1, v2];\n      } else if (b !== c && d === 0) {\n        return [(2 * b - c) / (2 * (b - c))];\n      }\n      return [];\n    }\n\n    // linear roots are even easier\n    if (p.length === 2) {\n      const a = p[0],\n        b = p[1];\n      if (a !== b) {\n        return [a / (a - b)];\n      }\n      return [];\n    }\n\n    return [];\n  },\n\n  curvature: function (t, d1, d2, _3d, kOnly) {\n    let num,\n      dnm,\n      adk,\n      dk,\n      k = 0,\n      r = 0;\n\n    //\n    // We're using the following formula for curvature:\n    //\n    //              x'y\" - y'x\"\n    //   k(t) = ------------------\n    //           (x' + y')^(3/2)\n    //\n    // from https://en.wikipedia.org/wiki/Radius_of_curvature#Definition\n    //\n    // With it corresponding 3D counterpart:\n    //\n    //          sqrt( (y'z\" - y\"z') + (z'x\" - z\"x') + (x'y\" - x\"y'))\n    //   k(t) = -------------------------------------------------------\n    //                     (x' + y' + z')^(3/2)\n    //\n\n    const d = utils.compute(t, d1);\n    const dd = utils.compute(t, d2);\n    const qdsum = d.x * d.x + d.y * d.y;\n\n    if (_3d) {\n      num = sqrt(\n        pow(d.y * dd.z - dd.y * d.z, 2) +\n          pow(d.z * dd.x - dd.z * d.x, 2) +\n          pow(d.x * dd.y - dd.x * d.y, 2)\n      );\n      dnm = pow(qdsum + d.z * d.z, 3 / 2);\n    } else {\n      num = d.x * dd.y - d.y * dd.x;\n      dnm = pow(qdsum, 3 / 2);\n    }\n\n    if (num === 0 || dnm === 0) {\n      return { k: 0, r: 0 };\n    }\n\n    k = num / dnm;\n    r = dnm / num;\n\n    // We're also computing the derivative of kappa, because\n    // there is value in knowing the rate of change for the\n    // curvature along the curve. And we're just going to\n    // ballpark it based on an epsilon.\n    if (!kOnly) {\n      // compute k'(t) based on the interval before, and after it,\n      // to at least try to not introduce forward/backward pass bias.\n      const pk = utils.curvature(t - 0.001, d1, d2, _3d, true).k;\n      const nk = utils.curvature(t + 0.001, d1, d2, _3d, true).k;\n      dk = (nk - k + (k - pk)) / 2;\n      adk = (abs(nk - k) + abs(k - pk)) / 2;\n    }\n\n    return { k: k, r: r, dk: dk, adk: adk };\n  },\n\n  inflections: function (points) {\n    if (points.length < 4) return [];\n\n    // FIXME: TODO: add in inflection abstraction for quartic+ curves?\n\n    const p = utils.align(points, { p1: points[0], p2: points.slice(-1)[0] }),\n      a = p[2].x * p[1].y,\n      b = p[3].x * p[1].y,\n      c = p[1].x * p[2].y,\n      d = p[3].x * p[2].y,\n      v1 = 18 * (-3 * a + 2 * b + 3 * c - d),\n      v2 = 18 * (3 * a - b - 3 * c),\n      v3 = 18 * (c - a);\n\n    if (utils.approximately(v1, 0)) {\n      if (!utils.approximately(v2, 0)) {\n        let t = -v3 / v2;\n        if (0 <= t && t <= 1) return [t];\n      }\n      return [];\n    }\n\n    const d2 = 2 * v1;\n\n    if (utils.approximately(d2, 0)) return [];\n\n    const trm = v2 * v2 - 4 * v1 * v3;\n\n    if (trm < 0) return [];\n\n    const sq = Math.sqrt(trm);\n\n    return [(sq - v2) / d2, -(v2 + sq) / d2].filter(function (r) {\n      return 0 <= r && r <= 1;\n    });\n  },\n\n  bboxoverlap: function (b1, b2) {\n    const dims = [\"x\", \"y\"],\n      len = dims.length;\n\n    for (let i = 0, dim, l, t, d; i < len; i++) {\n      dim = dims[i];\n      l = b1[dim].mid;\n      t = b2[dim].mid;\n      d = (b1[dim].size + b2[dim].size) / 2;\n      if (abs(l - t) >= d) return false;\n    }\n    return true;\n  },\n\n  expandbox: function (bbox, _bbox) {\n    if (_bbox.x.min < bbox.x.min) {\n      bbox.x.min = _bbox.x.min;\n    }\n    if (_bbox.y.min < bbox.y.min) {\n      bbox.y.min = _bbox.y.min;\n    }\n    if (_bbox.z && _bbox.z.min < bbox.z.min) {\n      bbox.z.min = _bbox.z.min;\n    }\n    if (_bbox.x.max > bbox.x.max) {\n      bbox.x.max = _bbox.x.max;\n    }\n    if (_bbox.y.max > bbox.y.max) {\n      bbox.y.max = _bbox.y.max;\n    }\n    if (_bbox.z && _bbox.z.max > bbox.z.max) {\n      bbox.z.max = _bbox.z.max;\n    }\n    bbox.x.mid = (bbox.x.min + bbox.x.max) / 2;\n    bbox.y.mid = (bbox.y.min + bbox.y.max) / 2;\n    if (bbox.z) {\n      bbox.z.mid = (bbox.z.min + bbox.z.max) / 2;\n    }\n    bbox.x.size = bbox.x.max - bbox.x.min;\n    bbox.y.size = bbox.y.max - bbox.y.min;\n    if (bbox.z) {\n      bbox.z.size = bbox.z.max - bbox.z.min;\n    }\n  },\n\n  pairiteration: function (c1, c2, curveIntersectionThreshold) {\n    const c1b = c1.bbox(),\n      c2b = c2.bbox(),\n      r = 100000,\n      threshold = curveIntersectionThreshold || 0.5;\n\n    if (\n      c1b.x.size + c1b.y.size < threshold &&\n      c2b.x.size + c2b.y.size < threshold\n    ) {\n      return [\n        (((r * (c1._t1 + c1._t2)) / 2) | 0) / r +\n          \"/\" +\n          (((r * (c2._t1 + c2._t2)) / 2) | 0) / r,\n      ];\n    }\n\n    let cc1 = c1.split(0.5),\n      cc2 = c2.split(0.5),\n      pairs = [\n        { left: cc1.left, right: cc2.left },\n        { left: cc1.left, right: cc2.right },\n        { left: cc1.right, right: cc2.right },\n        { left: cc1.right, right: cc2.left },\n      ];\n\n    pairs = pairs.filter(function (pair) {\n      return utils.bboxoverlap(pair.left.bbox(), pair.right.bbox());\n    });\n\n    let results = [];\n\n    if (pairs.length === 0) return results;\n\n    pairs.forEach(function (pair) {\n      results = results.concat(\n        utils.pairiteration(pair.left, pair.right, threshold)\n      );\n    });\n\n    results = results.filter(function (v, i) {\n      return results.indexOf(v) === i;\n    });\n\n    return results;\n  },\n\n  getccenter: function (p1, p2, p3) {\n    const dx1 = p2.x - p1.x,\n      dy1 = p2.y - p1.y,\n      dx2 = p3.x - p2.x,\n      dy2 = p3.y - p2.y,\n      dx1p = dx1 * cos(quart) - dy1 * sin(quart),\n      dy1p = dx1 * sin(quart) + dy1 * cos(quart),\n      dx2p = dx2 * cos(quart) - dy2 * sin(quart),\n      dy2p = dx2 * sin(quart) + dy2 * cos(quart),\n      // chord midpoints\n      mx1 = (p1.x + p2.x) / 2,\n      my1 = (p1.y + p2.y) / 2,\n      mx2 = (p2.x + p3.x) / 2,\n      my2 = (p2.y + p3.y) / 2,\n      // midpoint offsets\n      mx1n = mx1 + dx1p,\n      my1n = my1 + dy1p,\n      mx2n = mx2 + dx2p,\n      my2n = my2 + dy2p,\n      // intersection of these lines:\n      arc = utils.lli8(mx1, my1, mx1n, my1n, mx2, my2, mx2n, my2n),\n      r = utils.dist(arc, p1);\n\n    // arc start/end values, over mid point:\n    let s = atan2(p1.y - arc.y, p1.x - arc.x),\n      m = atan2(p2.y - arc.y, p2.x - arc.x),\n      e = atan2(p3.y - arc.y, p3.x - arc.x),\n      _;\n\n    // determine arc direction (cw/ccw correction)\n    if (s < e) {\n      // if s<m<e, arc(s, e)\n      // if m<s<e, arc(e, s + tau)\n      // if s<e<m, arc(e, s + tau)\n      if (s > m || m > e) {\n        s += tau;\n      }\n      if (s > e) {\n        _ = e;\n        e = s;\n        s = _;\n      }\n    } else {\n      // if e<m<s, arc(e, s)\n      // if m<e<s, arc(s, e + tau)\n      // if e<s<m, arc(s, e + tau)\n      if (e < m && m < s) {\n        _ = e;\n        e = s;\n        s = _;\n      } else {\n        e += tau;\n      }\n    }\n    // assign and done.\n    arc.s = s;\n    arc.e = e;\n    arc.r = r;\n    return arc;\n  },\n\n  numberSort: function (a, b) {\n    return a - b;\n  },\n};\n\nexport { utils };\n","import { utils } from \"./utils.js\";\n\n/**\n * Poly Bezier\n * @param {[type]} curves [description]\n */\nclass PolyBezier {\n  constructor(curves) {\n    this.curves = [];\n    this._3d = false;\n    if (!!curves) {\n      this.curves = curves;\n      this._3d = this.curves[0]._3d;\n    }\n  }\n\n  valueOf() {\n    return this.toString();\n  }\n\n  toString() {\n    return (\n      \"[\" +\n      this.curves\n        .map(function (curve) {\n          return utils.pointsToString(curve.points);\n        })\n        .join(\", \") +\n      \"]\"\n    );\n  }\n\n  addCurve(curve) {\n    this.curves.push(curve);\n    this._3d = this._3d || curve._3d;\n  }\n\n  length() {\n    return this.curves\n      .map(function (v) {\n        return v.length();\n      })\n      .reduce(function (a, b) {\n        return a + b;\n      });\n  }\n\n  curve(idx) {\n    return this.curves[idx];\n  }\n\n  bbox() {\n    const c = this.curves;\n    var bbox = c[0].bbox();\n    for (var i = 1; i < c.length; i++) {\n      utils.expandbox(bbox, c[i].bbox());\n    }\n    return bbox;\n  }\n\n  offset(d) {\n    const offset = [];\n    this.curves.forEach(function (v) {\n      offset.push(...v.offset(d));\n    });\n    return new PolyBezier(offset);\n  }\n}\n\nexport { PolyBezier };\n","/**\n  A javascript Bezier curve library by Pomax.\n\n  Based on http://pomax.github.io/bezierinfo\n\n  This code is MIT licensed.\n**/\n\nimport { utils } from \"./utils.js\";\nimport { PolyBezier } from \"./poly-bezier.js\";\n\n// math-inlining.\nconst { abs, min, max, cos, sin, acos, sqrt } = Math;\nconst pi = Math.PI;\n// a zero coordinate, which is surprisingly useful\nconst ZERO = { x: 0, y: 0, z: 0 };\n\n/**\n * Bezier curve constructor.\n *\n * ...docs pending...\n */\nclass Bezier {\n  constructor(coords) {\n    let args =\n      coords && coords.forEach ? coords : Array.from(arguments).slice();\n    let coordlen = false;\n\n    if (typeof args[0] === \"object\") {\n      coordlen = args.length;\n      const newargs = [];\n      args.forEach(function (point) {\n        [\"x\", \"y\", \"z\"].forEach(function (d) {\n          if (typeof point[d] !== \"undefined\") {\n            newargs.push(point[d]);\n          }\n        });\n      });\n      args = newargs;\n    }\n\n    let higher = false;\n    const len = args.length;\n\n    if (coordlen) {\n      if (coordlen > 4) {\n        if (arguments.length !== 1) {\n          throw new Error(\n            \"Only new Bezier(point[]) is accepted for 4th and higher order curves\"\n          );\n        }\n        higher = true;\n      }\n    } else {\n      if (len !== 6 && len !== 8 && len !== 9 && len !== 12) {\n        if (arguments.length !== 1) {\n          throw new Error(\n            \"Only new Bezier(point[]) is accepted for 4th and higher order curves\"\n          );\n        }\n      }\n    }\n\n    const _3d = (this._3d =\n      (!higher && (len === 9 || len === 12)) ||\n      (coords && coords[0] && typeof coords[0].z !== \"undefined\"));\n\n    const points = (this.points = []);\n    for (let idx = 0, step = _3d ? 3 : 2; idx < len; idx += step) {\n      var point = {\n        x: args[idx],\n        y: args[idx + 1],\n      };\n      if (_3d) {\n        point.z = args[idx + 2];\n      }\n      points.push(point);\n    }\n    const order = (this.order = points.length - 1);\n\n    const dims = (this.dims = [\"x\", \"y\"]);\n    if (_3d) dims.push(\"z\");\n    this.dimlen = dims.length;\n\n    // is this curve, practically speaking, a straight line?\n    const aligned = utils.align(points, { p1: points[0], p2: points[order] });\n    const baselength = utils.dist(points[0], points[order]);\n    this._linear = aligned.reduce((t, p) => t + abs(p.y), 0) < baselength / 50;\n\n    this._lut = [];\n    this._t1 = 0;\n    this._t2 = 1;\n    this.update();\n  }\n\n  static quadraticFromPoints(p1, p2, p3, t) {\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    }\n    // shortcuts, although they're really dumb\n    if (t === 0) {\n      return new Bezier(p2, p2, p3);\n    }\n    if (t === 1) {\n      return new Bezier(p1, p2, p2);\n    }\n    // real fitting.\n    const abc = Bezier.getABC(2, p1, p2, p3, t);\n    return new Bezier(p1, abc.A, p3);\n  }\n\n  static cubicFromPoints(S, B, E, t, d1) {\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    }\n    const abc = Bezier.getABC(3, S, B, E, t);\n    if (typeof d1 === \"undefined\") {\n      d1 = utils.dist(B, abc.C);\n    }\n    const d2 = (d1 * (1 - t)) / t;\n\n    const selen = utils.dist(S, E),\n      lx = (E.x - S.x) / selen,\n      ly = (E.y - S.y) / selen,\n      bx1 = d1 * lx,\n      by1 = d1 * ly,\n      bx2 = d2 * lx,\n      by2 = d2 * ly;\n    // derivation of new hull coordinates\n    const e1 = { x: B.x - bx1, y: B.y - by1 },\n      e2 = { x: B.x + bx2, y: B.y + by2 },\n      A = abc.A,\n      v1 = { x: A.x + (e1.x - A.x) / (1 - t), y: A.y + (e1.y - A.y) / (1 - t) },\n      v2 = { x: A.x + (e2.x - A.x) / t, y: A.y + (e2.y - A.y) / t },\n      nc1 = { x: S.x + (v1.x - S.x) / t, y: S.y + (v1.y - S.y) / t },\n      nc2 = {\n        x: E.x + (v2.x - E.x) / (1 - t),\n        y: E.y + (v2.y - E.y) / (1 - t),\n      };\n    // ...done\n    return new Bezier(S, nc1, nc2, E);\n  }\n\n  static getUtils() {\n    return utils;\n  }\n\n  getUtils() {\n    return Bezier.getUtils();\n  }\n\n  static get PolyBezier() {\n    return PolyBezier;\n  }\n\n  valueOf() {\n    return this.toString();\n  }\n\n  toString() {\n    return utils.pointsToString(this.points);\n  }\n\n  toSVG() {\n    if (this._3d) return false;\n    const p = this.points,\n      x = p[0].x,\n      y = p[0].y,\n      s = [\"M\", x, y, this.order === 2 ? \"Q\" : \"C\"];\n    for (let i = 1, last = p.length; i < last; i++) {\n      s.push(p[i].x);\n      s.push(p[i].y);\n    }\n    return s.join(\" \");\n  }\n\n  setRatios(ratios) {\n    if (ratios.length !== this.points.length) {\n      throw new Error(\"incorrect number of ratio values\");\n    }\n    this.ratios = ratios;\n    this._lut = []; //  invalidate any precomputed LUT\n  }\n\n  verify() {\n    const print = this.coordDigest();\n    if (print !== this._print) {\n      this._print = print;\n      this.update();\n    }\n  }\n\n  coordDigest() {\n    return this.points\n      .map(function (c, pos) {\n        return \"\" + pos + c.x + c.y + (c.z ? c.z : 0);\n      })\n      .join(\"\");\n  }\n\n  update() {\n    // invalidate any precomputed LUT\n    this._lut = [];\n    this.dpoints = utils.derive(this.points, this._3d);\n    this.computedirection();\n  }\n\n  computedirection() {\n    const points = this.points;\n    const angle = utils.angle(points[0], points[this.order], points[1]);\n    this.clockwise = angle > 0;\n  }\n\n  length() {\n    return utils.length(this.derivative.bind(this));\n  }\n\n  static getABC(order = 2, S, B, E, t = 0.5) {\n    const u = utils.projectionratio(t, order),\n      um = 1 - u,\n      C = {\n        x: u * S.x + um * E.x,\n        y: u * S.y + um * E.y,\n      },\n      s = utils.abcratio(t, order),\n      A = {\n        x: B.x + (B.x - C.x) / s,\n        y: B.y + (B.y - C.y) / s,\n      };\n    return { A, B, C, S, E };\n  }\n\n  getABC(t, B) {\n    B = B || this.get(t);\n    let S = this.points[0];\n    let E = this.points[this.order];\n    return Bezier.getABC(this.order, S, B, E, t);\n  }\n\n  getLUT(steps) {\n    this.verify();\n    steps = steps || 100;\n    if (this._lut.length === steps + 1) {\n      return this._lut;\n    }\n    this._lut = [];\n    // n steps means n+1 points\n    steps++;\n    this._lut = [];\n    for (let i = 0, p, t; i < steps; i++) {\n      t = i / (steps - 1);\n      p = this.compute(t);\n      p.t = t;\n      this._lut.push(p);\n    }\n    return this._lut;\n  }\n\n  on(point, error) {\n    error = error || 5;\n    const lut = this.getLUT(),\n      hits = [];\n    for (let i = 0, c, t = 0; i < lut.length; i++) {\n      c = lut[i];\n      if (utils.dist(c, point) < error) {\n        hits.push(c);\n        t += i / lut.length;\n      }\n    }\n    if (!hits.length) return false;\n    return (t /= hits.length);\n  }\n\n  project(point) {\n    // step 1: coarse check\n    const LUT = this.getLUT(),\n      l = LUT.length - 1,\n      closest = utils.closest(LUT, point),\n      mpos = closest.mpos,\n      t1 = (mpos - 1) / l,\n      t2 = (mpos + 1) / l,\n      step = 0.1 / l;\n\n    // step 2: fine check\n    let mdist = closest.mdist,\n      t = t1,\n      ft = t,\n      p;\n    mdist += 1;\n    for (let d; t < t2 + step; t += step) {\n      p = this.compute(t);\n      d = utils.dist(point, p);\n      if (d < mdist) {\n        mdist = d;\n        ft = t;\n      }\n    }\n    ft = ft < 0 ? 0 : ft > 1 ? 1 : ft;\n    p = this.compute(ft);\n    p.t = ft;\n    p.d = mdist;\n    return p;\n  }\n\n  get(t) {\n    return this.compute(t);\n  }\n\n  point(idx) {\n    return this.points[idx];\n  }\n\n  compute(t) {\n    if (this.ratios) {\n      return utils.computeWithRatios(t, this.points, this.ratios, this._3d);\n    }\n    return utils.compute(t, this.points, this._3d, this.ratios);\n  }\n\n  raise() {\n    const p = this.points,\n      np = [p[0]],\n      k = p.length;\n    for (let i = 1, pi, pim; i < k; i++) {\n      pi = p[i];\n      pim = p[i - 1];\n      np[i] = {\n        x: ((k - i) / k) * pi.x + (i / k) * pim.x,\n        y: ((k - i) / k) * pi.y + (i / k) * pim.y,\n      };\n    }\n    np[k] = p[k - 1];\n    return new Bezier(np);\n  }\n\n  derivative(t) {\n    return utils.compute(t, this.dpoints[0], this._3d);\n  }\n\n  dderivative(t) {\n    return utils.compute(t, this.dpoints[1], this._3d);\n  }\n\n  align() {\n    let p = this.points;\n    return new Bezier(utils.align(p, { p1: p[0], p2: p[p.length - 1] }));\n  }\n\n  curvature(t) {\n    return utils.curvature(t, this.dpoints[0], this.dpoints[1], this._3d);\n  }\n\n  inflections() {\n    return utils.inflections(this.points);\n  }\n\n  normal(t) {\n    return this._3d ? this.__normal3(t) : this.__normal2(t);\n  }\n\n  __normal2(t) {\n    const d = this.derivative(t);\n    const q = sqrt(d.x * d.x + d.y * d.y);\n    return { t, x: -d.y / q, y: d.x / q };\n  }\n\n  __normal3(t) {\n    // see http://stackoverflow.com/questions/25453159\n    const r1 = this.derivative(t),\n      r2 = this.derivative(t + 0.01),\n      q1 = sqrt(r1.x * r1.x + r1.y * r1.y + r1.z * r1.z),\n      q2 = sqrt(r2.x * r2.x + r2.y * r2.y + r2.z * r2.z);\n    r1.x /= q1;\n    r1.y /= q1;\n    r1.z /= q1;\n    r2.x /= q2;\n    r2.y /= q2;\n    r2.z /= q2;\n    // cross product\n    const c = {\n      x: r2.y * r1.z - r2.z * r1.y,\n      y: r2.z * r1.x - r2.x * r1.z,\n      z: r2.x * r1.y - r2.y * r1.x,\n    };\n    const m = sqrt(c.x * c.x + c.y * c.y + c.z * c.z);\n    c.x /= m;\n    c.y /= m;\n    c.z /= m;\n    // rotation matrix\n    const R = [\n      c.x * c.x,\n      c.x * c.y - c.z,\n      c.x * c.z + c.y,\n      c.x * c.y + c.z,\n      c.y * c.y,\n      c.y * c.z - c.x,\n      c.x * c.z - c.y,\n      c.y * c.z + c.x,\n      c.z * c.z,\n    ];\n    // normal vector:\n    const n = {\n      t,\n      x: R[0] * r1.x + R[1] * r1.y + R[2] * r1.z,\n      y: R[3] * r1.x + R[4] * r1.y + R[5] * r1.z,\n      z: R[6] * r1.x + R[7] * r1.y + R[8] * r1.z,\n    };\n    return n;\n  }\n\n  hull(t) {\n    let p = this.points,\n      _p = [],\n      q = [],\n      idx = 0;\n    q[idx++] = p[0];\n    q[idx++] = p[1];\n    q[idx++] = p[2];\n    if (this.order === 3) {\n      q[idx++] = p[3];\n    }\n    // we lerp between all points at each iteration, until we have 1 point left.\n    while (p.length > 1) {\n      _p = [];\n      for (let i = 0, pt, l = p.length - 1; i < l; i++) {\n        pt = utils.lerp(t, p[i], p[i + 1]);\n        q[idx++] = pt;\n        _p.push(pt);\n      }\n      p = _p;\n    }\n    return q;\n  }\n\n  split(t1, t2) {\n    // shortcuts\n    if (t1 === 0 && !!t2) {\n      return this.split(t2).left;\n    }\n    if (t2 === 1) {\n      return this.split(t1).right;\n    }\n\n    // no shortcut: use \"de Casteljau\" iteration.\n    const q = this.hull(t1);\n    const result = {\n      left:\n        this.order === 2\n          ? new Bezier([q[0], q[3], q[5]])\n          : new Bezier([q[0], q[4], q[7], q[9]]),\n      right:\n        this.order === 2\n          ? new Bezier([q[5], q[4], q[2]])\n          : new Bezier([q[9], q[8], q[6], q[3]]),\n      span: q,\n    };\n\n    // make sure we bind _t1/_t2 information!\n    result.left._t1 = utils.map(0, 0, 1, this._t1, this._t2);\n    result.left._t2 = utils.map(t1, 0, 1, this._t1, this._t2);\n    result.right._t1 = utils.map(t1, 0, 1, this._t1, this._t2);\n    result.right._t2 = utils.map(1, 0, 1, this._t1, this._t2);\n\n    // if we have no t2, we're done\n    if (!t2) {\n      return result;\n    }\n\n    // if we have a t2, split again:\n    t2 = utils.map(t2, t1, 1, 0, 1);\n    return result.right.split(t2).left;\n  }\n\n  extrema() {\n    const result = {};\n    let roots = [];\n\n    this.dims.forEach(\n      function (dim) {\n        let mfn = function (v) {\n          return v[dim];\n        };\n        let p = this.dpoints[0].map(mfn);\n        result[dim] = utils.droots(p);\n        if (this.order === 3) {\n          p = this.dpoints[1].map(mfn);\n          result[dim] = result[dim].concat(utils.droots(p));\n        }\n        result[dim] = result[dim].filter(function (t) {\n          return t >= 0 && t <= 1;\n        });\n        roots = roots.concat(result[dim].sort(utils.numberSort));\n      }.bind(this)\n    );\n\n    result.values = roots.sort(utils.numberSort).filter(function (v, idx) {\n      return roots.indexOf(v) === idx;\n    });\n\n    return result;\n  }\n\n  bbox() {\n    const extrema = this.extrema(),\n      result = {};\n    this.dims.forEach(\n      function (d) {\n        result[d] = utils.getminmax(this, d, extrema[d]);\n      }.bind(this)\n    );\n    return result;\n  }\n\n  overlaps(curve) {\n    const lbbox = this.bbox(),\n      tbbox = curve.bbox();\n    return utils.bboxoverlap(lbbox, tbbox);\n  }\n\n  offset(t, d) {\n    if (typeof d !== \"undefined\") {\n      const c = this.get(t),\n        n = this.normal(t);\n      const ret = {\n        c: c,\n        n: n,\n        x: c.x + n.x * d,\n        y: c.y + n.y * d,\n      };\n      if (this._3d) {\n        ret.z = c.z + n.z * d;\n      }\n      return ret;\n    }\n    if (this._linear) {\n      const nv = this.normal(0),\n        coords = this.points.map(function (p) {\n          const ret = {\n            x: p.x + t * nv.x,\n            y: p.y + t * nv.y,\n          };\n          if (p.z && nv.z) {\n            ret.z = p.z + t * nv.z;\n          }\n          return ret;\n        });\n      return [new Bezier(coords)];\n    }\n    return this.reduce().map(function (s) {\n      if (s._linear) {\n        return s.offset(t)[0];\n      }\n      return s.scale(t);\n    });\n  }\n\n  simple() {\n    if (this.order === 3) {\n      const a1 = utils.angle(this.points[0], this.points[3], this.points[1]);\n      const a2 = utils.angle(this.points[0], this.points[3], this.points[2]);\n      if ((a1 > 0 && a2 < 0) || (a1 < 0 && a2 > 0)) return false;\n    }\n    const n1 = this.normal(0);\n    const n2 = this.normal(1);\n    let s = n1.x * n2.x + n1.y * n2.y;\n    if (this._3d) {\n      s += n1.z * n2.z;\n    }\n    return abs(acos(s)) < pi / 3;\n  }\n\n  reduce() {\n    // TODO: examine these var types in more detail...\n    let i,\n      t1 = 0,\n      t2 = 0,\n      step = 0.01,\n      segment,\n      pass1 = [],\n      pass2 = [];\n    // first pass: split on extrema\n    let extrema = this.extrema().values;\n    if (extrema.indexOf(0) === -1) {\n      extrema = [0].concat(extrema);\n    }\n    if (extrema.indexOf(1) === -1) {\n      extrema.push(1);\n    }\n\n    for (t1 = extrema[0], i = 1; i < extrema.length; i++) {\n      t2 = extrema[i];\n      segment = this.split(t1, t2);\n      segment._t1 = t1;\n      segment._t2 = t2;\n      pass1.push(segment);\n      t1 = t2;\n    }\n\n    // second pass: further reduce these segments to simple segments\n    pass1.forEach(function (p1) {\n      t1 = 0;\n      t2 = 0;\n      while (t2 <= 1) {\n        for (t2 = t1 + step; t2 <= 1 + step; t2 += step) {\n          segment = p1.split(t1, t2);\n          if (!segment.simple()) {\n            t2 -= step;\n            if (abs(t1 - t2) < step) {\n              // we can never form a reduction\n              return [];\n            }\n            segment = p1.split(t1, t2);\n            segment._t1 = utils.map(t1, 0, 1, p1._t1, p1._t2);\n            segment._t2 = utils.map(t2, 0, 1, p1._t1, p1._t2);\n            pass2.push(segment);\n            t1 = t2;\n            break;\n          }\n        }\n      }\n      if (t1 < 1) {\n        segment = p1.split(t1, 1);\n        segment._t1 = utils.map(t1, 0, 1, p1._t1, p1._t2);\n        segment._t2 = p1._t2;\n        pass2.push(segment);\n      }\n    });\n    return pass2;\n  }\n\n  translate(v, d1, d2) {\n    d2 = typeof d2 === \"number\" ? d2 : d1;\n\n    // TODO: make this take curves with control points outside\n    //       of the start-end interval into account\n\n    const o = this.order;\n    let d = this.points.map((_, i) => (1 - i / o) * d1 + (i / o) * d2);\n    return new Bezier(\n      this.points.map((p, i) => ({\n        x: p.x + v.x * d[i],\n        y: p.y + v.y * d[i],\n      }))\n    );\n  }\n\n  scale(d) {\n    const order = this.order;\n    let distanceFn = false;\n    if (typeof d === \"function\") {\n      distanceFn = d;\n    }\n    if (distanceFn && order === 2) {\n      return this.raise().scale(distanceFn);\n    }\n\n    // TODO: add special handling for non-linear degenerate curves.\n\n    const clockwise = this.clockwise;\n    const points = this.points;\n\n    if (this._linear) {\n      return this.translate(\n        this.normal(0),\n        distanceFn ? distanceFn(0) : d,\n        distanceFn ? distanceFn(1) : d\n      );\n    }\n\n    const r1 = distanceFn ? distanceFn(0) : d;\n    const r2 = distanceFn ? distanceFn(1) : d;\n    const v = [this.offset(0, 10), this.offset(1, 10)];\n    const np = [];\n    const o = utils.lli4(v[0], v[0].c, v[1], v[1].c);\n\n    if (!o) {\n      throw new Error(\"cannot scale this curve. Try reducing it first.\");\n    }\n\n    // move all points by distance 'd' wrt the origin 'o',\n    // and move end points by fixed distance along normal.\n    [0, 1].forEach(function (t) {\n      const p = (np[t * order] = utils.copy(points[t * order]));\n      p.x += (t ? r2 : r1) * v[t].n.x;\n      p.y += (t ? r2 : r1) * v[t].n.y;\n    });\n\n    if (!distanceFn) {\n      // move control points to lie on the intersection of the offset\n      // derivative vector, and the origin-through-control vector\n      [0, 1].forEach((t) => {\n        if (order === 2 && !!t) return;\n        const p = np[t * order];\n        const d = this.derivative(t);\n        const p2 = { x: p.x + d.x, y: p.y + d.y };\n        np[t + 1] = utils.lli4(p, p2, o, points[t + 1]);\n      });\n      return new Bezier(np);\n    }\n\n    // move control points by \"however much necessary to\n    // ensure the correct tangent to endpoint\".\n    [0, 1].forEach(function (t) {\n      if (order === 2 && !!t) return;\n      var p = points[t + 1];\n      var ov = {\n        x: p.x - o.x,\n        y: p.y - o.y,\n      };\n      var rc = distanceFn ? distanceFn((t + 1) / order) : d;\n      if (distanceFn && !clockwise) rc = -rc;\n      var m = sqrt(ov.x * ov.x + ov.y * ov.y);\n      ov.x /= m;\n      ov.y /= m;\n      np[t + 1] = {\n        x: p.x + rc * ov.x,\n        y: p.y + rc * ov.y,\n      };\n    });\n    return new Bezier(np);\n  }\n\n  outline(d1, d2, d3, d4) {\n    d2 = d2 === undefined ? d1 : d2;\n\n    if (this._linear) {\n      // TODO: find the actual extrema, because they might\n      //       be before the start, or past the end.\n\n      const n = this.normal(0);\n      const start = this.points[0];\n      const end = this.points[this.points.length - 1];\n      let s, mid, e;\n\n      if (d3 === undefined) {\n        d3 = d1;\n        d4 = d2;\n      }\n\n      s = { x: start.x + n.x * d1, y: start.y + n.y * d1 };\n      e = { x: end.x + n.x * d3, y: end.y + n.y * d3 };\n      mid = { x: (s.x + e.x) / 2, y: (s.y + e.y) / 2 };\n      const fline = [s, mid, e];\n\n      s = { x: start.x - n.x * d2, y: start.y - n.y * d2 };\n      e = { x: end.x - n.x * d4, y: end.y - n.y * d4 };\n      mid = { x: (s.x + e.x) / 2, y: (s.y + e.y) / 2 };\n      const bline = [e, mid, s];\n\n      const ls = utils.makeline(bline[2], fline[0]);\n      const le = utils.makeline(fline[2], bline[0]);\n      const segments = [ls, new Bezier(fline), le, new Bezier(bline)];\n      return new PolyBezier(segments);\n    }\n\n    const reduced = this.reduce(),\n      len = reduced.length,\n      fcurves = [];\n\n    let bcurves = [],\n      p,\n      alen = 0,\n      tlen = this.length();\n\n    const graduated = typeof d3 !== \"undefined\" && typeof d4 !== \"undefined\";\n\n    function linearDistanceFunction(s, e, tlen, alen, slen) {\n      return function (v) {\n        const f1 = alen / tlen,\n          f2 = (alen + slen) / tlen,\n          d = e - s;\n        return utils.map(v, 0, 1, s + f1 * d, s + f2 * d);\n      };\n    }\n\n    // form curve oulines\n    reduced.forEach(function (segment) {\n      const slen = segment.length();\n      if (graduated) {\n        fcurves.push(\n          segment.scale(linearDistanceFunction(d1, d3, tlen, alen, slen))\n        );\n        bcurves.push(\n          segment.scale(linearDistanceFunction(-d2, -d4, tlen, alen, slen))\n        );\n      } else {\n        fcurves.push(segment.scale(d1));\n        bcurves.push(segment.scale(-d2));\n      }\n      alen += slen;\n    });\n\n    // reverse the \"return\" outline\n    bcurves = bcurves\n      .map(function (s) {\n        p = s.points;\n        if (p[3]) {\n          s.points = [p[3], p[2], p[1], p[0]];\n        } else {\n          s.points = [p[2], p[1], p[0]];\n        }\n        return s;\n      })\n      .reverse();\n\n    // form the endcaps as lines\n    const fs = fcurves[0].points[0],\n      fe = fcurves[len - 1].points[fcurves[len - 1].points.length - 1],\n      bs = bcurves[len - 1].points[bcurves[len - 1].points.length - 1],\n      be = bcurves[0].points[0],\n      ls = utils.makeline(bs, fs),\n      le = utils.makeline(fe, be),\n      segments = [ls].concat(fcurves).concat([le]).concat(bcurves);\n\n    return new PolyBezier(segments);\n  }\n\n  outlineshapes(d1, d2, curveIntersectionThreshold) {\n    d2 = d2 || d1;\n    const outline = this.outline(d1, d2).curves;\n    const shapes = [];\n    for (let i = 1, len = outline.length; i < len / 2; i++) {\n      const shape = utils.makeshape(\n        outline[i],\n        outline[len - i],\n        curveIntersectionThreshold\n      );\n      shape.startcap.virtual = i > 1;\n      shape.endcap.virtual = i < len / 2 - 1;\n      shapes.push(shape);\n    }\n    return shapes;\n  }\n\n  intersects(curve, curveIntersectionThreshold) {\n    if (!curve) return this.selfintersects(curveIntersectionThreshold);\n    if (curve.p1 && curve.p2) {\n      return this.lineIntersects(curve);\n    }\n    if (curve instanceof Bezier) {\n      curve = curve.reduce();\n    }\n    return this.curveintersects(\n      this.reduce(),\n      curve,\n      curveIntersectionThreshold\n    );\n  }\n\n  lineIntersects(line) {\n    const mx = min(line.p1.x, line.p2.x),\n      my = min(line.p1.y, line.p2.y),\n      MX = max(line.p1.x, line.p2.x),\n      MY = max(line.p1.y, line.p2.y);\n    return utils.roots(this.points, line).filter((t) => {\n      var p = this.get(t);\n      return utils.between(p.x, mx, MX) && utils.between(p.y, my, MY);\n    });\n  }\n\n  selfintersects(curveIntersectionThreshold) {\n    // \"simple\" curves cannot intersect with their direct\n    // neighbour, so for each segment X we check whether\n    // it intersects [0:x-2][x+2:last].\n\n    const reduced = this.reduce(),\n      len = reduced.length - 2,\n      results = [];\n\n    for (let i = 0, result, left, right; i < len; i++) {\n      left = reduced.slice(i, i + 1);\n      right = reduced.slice(i + 2);\n      result = this.curveintersects(left, right, curveIntersectionThreshold);\n      results.push(...result);\n    }\n    return results;\n  }\n\n  curveintersects(c1, c2, curveIntersectionThreshold) {\n    const pairs = [];\n    // step 1: pair off any overlapping segments\n    c1.forEach(function (l) {\n      c2.forEach(function (r) {\n        if (l.overlaps(r)) {\n          pairs.push({ left: l, right: r });\n        }\n      });\n    });\n    // step 2: for each pairing, run through the convergence algorithm.\n    let intersections = [];\n    pairs.forEach(function (pair) {\n      const result = utils.pairiteration(\n        pair.left,\n        pair.right,\n        curveIntersectionThreshold\n      );\n      if (result.length > 0) {\n        intersections = intersections.concat(result);\n      }\n    });\n    return intersections;\n  }\n\n  arcs(errorThreshold) {\n    errorThreshold = errorThreshold || 0.5;\n    return this._iterate(errorThreshold, []);\n  }\n\n  _error(pc, np1, s, e) {\n    const q = (e - s) / 4,\n      c1 = this.get(s + q),\n      c2 = this.get(e - q),\n      ref = utils.dist(pc, np1),\n      d1 = utils.dist(pc, c1),\n      d2 = utils.dist(pc, c2);\n    return abs(d1 - ref) + abs(d2 - ref);\n  }\n\n  _iterate(errorThreshold, circles) {\n    let t_s = 0,\n      t_e = 1,\n      safety;\n    // we do a binary search to find the \"good `t` closest to no-longer-good\"\n    do {\n      safety = 0;\n\n      // step 1: start with the maximum possible arc\n      t_e = 1;\n\n      // points:\n      let np1 = this.get(t_s),\n        np2,\n        np3,\n        arc,\n        prev_arc;\n\n      // booleans:\n      let curr_good = false,\n        prev_good = false,\n        done;\n\n      // numbers:\n      let t_m = t_e,\n        prev_e = 1,\n        step = 0;\n\n      // step 2: find the best possible arc\n      do {\n        prev_good = curr_good;\n        prev_arc = arc;\n        t_m = (t_s + t_e) / 2;\n        step++;\n\n        np2 = this.get(t_m);\n        np3 = this.get(t_e);\n\n        arc = utils.getccenter(np1, np2, np3);\n\n        //also save the t values\n        arc.interval = {\n          start: t_s,\n          end: t_e,\n        };\n\n        let error = this._error(arc, np1, t_s, t_e);\n        curr_good = error <= errorThreshold;\n\n        done = prev_good && !curr_good;\n        if (!done) prev_e = t_e;\n\n        // this arc is fine: we can move 'e' up to see if we can find a wider arc\n        if (curr_good) {\n          // if e is already at max, then we're done for this arc.\n          if (t_e >= 1) {\n            // make sure we cap at t=1\n            arc.interval.end = prev_e = 1;\n            prev_arc = arc;\n            // if we capped the arc segment to t=1 we also need to make sure that\n            // the arc's end angle is correct with respect to the bezier end point.\n            if (t_e > 1) {\n              let d = {\n                x: arc.x + arc.r * cos(arc.e),\n                y: arc.y + arc.r * sin(arc.e),\n              };\n              arc.e += utils.angle({ x: arc.x, y: arc.y }, d, this.get(1));\n            }\n            break;\n          }\n          // if not, move it up by half the iteration distance\n          t_e = t_e + (t_e - t_s) / 2;\n        } else {\n          // this is a bad arc: we need to move 'e' down to find a good arc\n          t_e = t_m;\n        }\n      } while (!done && safety++ < 100);\n\n      if (safety >= 100) {\n        break;\n      }\n\n      // console.log(\"L835: [F] arc found\", t_s, prev_e, prev_arc.x, prev_arc.y, prev_arc.s, prev_arc.e);\n\n      prev_arc = prev_arc ? prev_arc : arc;\n      circles.push(prev_arc);\n      t_s = prev_e;\n    } while (t_e < 1);\n    return circles;\n  }\n}\n\nexport { Bezier };\n","/**\n * Arc Length Parameterization for Bezier Curves\n *\n * Bezier.js does NOT have a built-in arc-length to t conversion.\n * This class builds a lookup table for efficient distance -> parameter mapping.\n */\nimport * as BezierModule from 'bezier-js';\nimport type BezierType from 'bezier-js';\nconst Bezier = (BezierModule as any).default || BezierModule;\ntype Bezier = BezierType;\n\ninterface ArcLengthEntry {\n  t: number;\n  length: number;\n}\n\ninterface PointOnPath {\n  point: { x: number; y: number };\n  tangent: { x: number; y: number };\n  t: number;\n}\n\nexport class ArcLengthParameterizer {\n  private curve: Bezier;\n  private lut: ArcLengthEntry[];\n  public totalLength: number;\n\n  /**\n   * @param curve - Bezier.js curve instance\n   * @param resolution - Number of samples for LUT (higher = more accurate)\n   */\n  constructor(curve: Bezier, resolution: number = 1000) {\n    this.curve = curve;\n    this.lut = [];\n    this.totalLength = 0;\n\n    this.buildLUT(resolution);\n  }\n\n  /**\n   * Build the arc length lookup table\n   */\n  private buildLUT(resolution: number): void {\n    let accumulatedLength = 0;\n    let prevPoint = this.curve.get(0);\n\n    for (let i = 0; i <= resolution; i++) {\n      const t = i / resolution;\n      const point = this.curve.get(t);\n\n      if (i > 0) {\n        const dx = point.x - prevPoint.x;\n        const dy = point.y - prevPoint.y;\n        accumulatedLength += Math.sqrt(dx * dx + dy * dy);\n      }\n\n      this.lut.push({\n        t: t,\n        length: accumulatedLength\n      });\n\n      prevPoint = point;\n    }\n\n    this.totalLength = accumulatedLength;\n  }\n\n  /**\n   * Convert arc length distance to t parameter\n   *\n   * @param distance - Distance along curve (0 to totalLength)\n   * @returns t parameter (0 to 1)\n   */\n  distanceToT(distance: number): number {\n    if (distance <= 0) return 0;\n    if (distance >= this.totalLength) return 1;\n\n    // Binary search in LUT\n    let low = 0;\n    let high = this.lut.length - 1;\n\n    while (low < high) {\n      const mid = Math.floor((low + high) / 2);\n\n      if (this.lut[mid].length < distance) {\n        low = mid + 1;\n      } else {\n        high = mid;\n      }\n    }\n\n    // Linear interpolation between LUT entries for precision\n    const entry = this.lut[low];\n    const prevEntry = this.lut[Math.max(0, low - 1)];\n\n    if (entry.length === prevEntry.length) {\n      return entry.t;\n    }\n\n    const ratio = (distance - prevEntry.length) / (entry.length - prevEntry.length);\n    return prevEntry.t + ratio * (entry.t - prevEntry.t);\n  }\n\n  /**\n   * Get point and tangent at arc length distance\n   */\n  getPointAtDistance(distance: number): PointOnPath {\n    const t = this.distanceToT(distance);\n\n    return {\n      point: this.curve.get(t),\n      tangent: this.curve.derivative(t),\n      t: t\n    };\n  }\n\n  /**\n   * Get evenly spaced points along the curve\n   *\n   * @param count - Number of points\n   * @returns Array of points with position and tangent\n   */\n  getEvenlySpacedPoints(count: number): PointOnPath[] {\n    const points: PointOnPath[] = [];\n    const spacing = this.totalLength / (count - 1);\n\n    for (let i = 0; i < count; i++) {\n      const distance = i * spacing;\n      points.push(this.getPointAtDistance(distance));\n    }\n\n    return points;\n  }\n}\n\n/**\n * Convert Fabric.js path commands to Bezier.js curves\n */\nexport function fabricPathToBezier(pathCommands: any[]): Bezier | null {\n  if (!pathCommands || pathCommands.length < 2) {\n    return null;\n  }\n\n  let startPoint: { x: number; y: number } | null = null;\n\n  for (const cmd of pathCommands) {\n    const [command, ...coords] = cmd;\n\n    if (command === 'M') {\n      startPoint = { x: coords[0], y: coords[1] };\n    } else if (command === 'C' && startPoint) {\n      // Cubic bezier: startPoint, control1, control2, endPoint\n      return new Bezier(\n        startPoint.x, startPoint.y,\n        coords[0], coords[1],  // control point 1\n        coords[2], coords[3],  // control point 2\n        coords[4], coords[5]   // end point\n      );\n    } else if (command === 'Q' && startPoint) {\n      // Quadratic bezier\n      return new Bezier(\n        startPoint.x, startPoint.y,\n        coords[0], coords[1],  // control point\n        coords[2], coords[3]   // end point\n      );\n    }\n  }\n\n  return null;\n}\n\n/**\n * Convert an array of control points to a series of Bezier curves\n */\nexport function controlPointsToBeziers(controlPoints: Array<{\n  x: number;\n  y: number;\n  handleIn: { x: number; y: number } | null;\n  handleOut: { x: number; y: number } | null;\n}>): Bezier[] {\n  const beziers: Bezier[] = [];\n\n  for (let i = 0; i < controlPoints.length - 1; i++) {\n    const p1 = controlPoints[i];\n    const p2 = controlPoints[i + 1];\n\n    const h1 = p1.handleOut || { x: p1.x, y: p1.y };\n    const h2 = p2.handleIn || { x: p2.x, y: p2.y };\n\n    beziers.push(new Bezier(\n      p1.x, p1.y,\n      h1.x, h1.y,\n      h2.x, h2.y,\n      p2.x, p2.y\n    ));\n  }\n\n  return beziers;\n}\n\n/**\n * Create a multi-segment arc length parameterizer for paths with multiple curves\n */\nexport class MultiSegmentParameterizer {\n  private parameterizers: ArcLengthParameterizer[];\n  private segmentLengths: number[];\n  public totalLength: number;\n\n  constructor(beziers: Bezier[], resolution: number = 500) {\n    this.parameterizers = beziers.map(b => new ArcLengthParameterizer(b, resolution));\n    this.segmentLengths = this.parameterizers.map(p => p.totalLength);\n    this.totalLength = this.segmentLengths.reduce((a, b) => a + b, 0);\n  }\n\n  getPointAtDistance(distance: number): PointOnPath {\n    if (distance <= 0) {\n      return this.parameterizers[0].getPointAtDistance(0);\n    }\n    if (distance >= this.totalLength) {\n      const last = this.parameterizers[this.parameterizers.length - 1];\n      return last.getPointAtDistance(last.totalLength);\n    }\n\n    // Find which segment this distance falls into\n    let accumulatedLength = 0;\n    for (let i = 0; i < this.parameterizers.length; i++) {\n      const segmentLength = this.segmentLengths[i];\n      if (accumulatedLength + segmentLength >= distance) {\n        const localDistance = distance - accumulatedLength;\n        return this.parameterizers[i].getPointAtDistance(localDistance);\n      }\n      accumulatedLength += segmentLength;\n    }\n\n    // Fallback to last point\n    const last = this.parameterizers[this.parameterizers.length - 1];\n    return last.getPointAtDistance(last.totalLength);\n  }\n\n  getEvenlySpacedPoints(count: number): PointOnPath[] {\n    const points: PointOnPath[] = [];\n    const spacing = this.totalLength / (count - 1);\n\n    for (let i = 0; i < count; i++) {\n      const distance = i * spacing;\n      points.push(this.getPointAtDistance(distance));\n    }\n\n    return points;\n  }\n}\n\nexport default ArcLengthParameterizer;\n","/**\n * Matte Export Service\n *\n * Generates frame sequences with text and particles excluded for Wan video generation.\n */\nimport type { WeylProject, Layer, TextData, SplineData, ParticleLayerData } from '@/types/project';\nimport { interpolateProperty } from './interpolation';\nimport { ArcLengthParameterizer, fabricPathToBezier } from './arcLength';\nimport { ParticleSystem } from './particleSystem';\n\nexport interface ExportProgress {\n  frame: number;\n  total: number;\n  percent: number;\n}\n\nexport type ProgressCallback = (progress: ExportProgress) => void;\n\nexport interface ExportOptions {\n  width: number;\n  height: number;\n  matteMode: 'exclude_text' | 'include_all';\n}\n\nexport interface DimensionValidation {\n  valid: boolean;\n  correctedWidth: number;\n  correctedHeight: number;\n  message?: string;\n}\n\nclass MatteExporter {\n  private offscreenCanvas: OffscreenCanvas | null = null;\n  private ctx: OffscreenCanvasRenderingContext2D | null = null;\n  private particleSystems: Map<string, ParticleSystem> = new Map();\n\n  /**\n   * Validate dimensions for Wan model requirements\n   * Dimensions must be divisible by 8\n   */\n  validateDimensions(width: number, height: number): DimensionValidation {\n    // Must be divisible by 8\n    const correctedWidth = Math.round(width / 8) * 8;\n    const correctedHeight = Math.round(height / 8) * 8;\n\n    // Minimum 256px\n    const finalWidth = Math.max(256, correctedWidth);\n    const finalHeight = Math.max(256, correctedHeight);\n\n    const valid = width === finalWidth && height === finalHeight;\n\n    return {\n      valid,\n      correctedWidth: finalWidth,\n      correctedHeight: finalHeight,\n      message: valid ? undefined : `Adjusted to ${finalWidth}x${finalHeight} (divisible by 8)`\n    };\n  }\n\n  /**\n   * Get standard resolution presets with 8-divisible dimensions\n   */\n  getResolutionPresets(): Array<{ label: string; width: number; height: number }> {\n    return [\n      { label: '480p (848x480)', width: 848, height: 480 },\n      { label: '720p (1280x720)', width: 1280, height: 720 },\n      { label: '1080p (1920x1080)', width: 1920, height: 1080 }\n    ];\n  }\n\n  /**\n   * Generate matte sequence for all frames\n   *\n   * Wan mask format:\n   * - White (255) = Keep original / generate content\n   * - Black (0) = Exclude from generation\n   *\n   * For text exclusion: Text regions are BLACK, everything else WHITE\n   */\n  async generateMatteSequence(\n    project: WeylProject,\n    options: ExportOptions,\n    onProgress?: ProgressCallback\n  ): Promise<Blob[]> {\n    const { frameCount } = project.composition;\n    const { width, height } = options;\n\n    // Initialize offscreen canvas\n    this.offscreenCanvas = new OffscreenCanvas(width, height);\n    this.ctx = this.offscreenCanvas.getContext('2d')!;\n\n    // Initialize particle systems for particle layers\n    this.initializeParticleSystems(project);\n\n    const frames: Blob[] = [];\n\n    for (let frame = 0; frame < frameCount; frame++) {\n      // Report progress\n      if (onProgress) {\n        onProgress({\n          frame,\n          total: frameCount,\n          percent: Math.round((frame / frameCount) * 100)\n        });\n      }\n\n      // Step particle systems to current frame\n      this.stepParticleSystemsToFrame(project, frame);\n\n      // Generate frame\n      const frameBlob = await this.generateFrame(project, frame, options);\n      frames.push(frameBlob);\n    }\n\n    // Clean up particle systems\n    this.particleSystems.clear();\n\n    // Final progress update\n    if (onProgress) {\n      onProgress({\n        frame: frameCount,\n        total: frameCount,\n        percent: 100\n      });\n    }\n\n    return frames;\n  }\n\n  /**\n   * Generate a single matte frame\n   */\n  async generateFrame(\n    project: WeylProject,\n    frame: number,\n    options: ExportOptions\n  ): Promise<Blob> {\n    const ctx = this.ctx!;\n    const { width, height } = options;\n\n    // Clear with WHITE (include everything by default)\n    ctx.fillStyle = '#FFFFFF';\n    ctx.fillRect(0, 0, width, height);\n\n    // If include_all mode, return white frame\n    if (options.matteMode === 'include_all') {\n      return await this.offscreenCanvas!.convertToBlob({ type: 'image/png' });\n    }\n\n    // Set BLACK for exclusion\n    ctx.fillStyle = '#000000';\n\n    // Calculate scale factor for resolution difference\n    const scaleX = width / project.composition.width;\n    const scaleY = height / project.composition.height;\n\n    // Find text layers that are visible at this frame\n    const textLayers = project.layers.filter(layer =>\n      layer.type === 'text' &&\n      layer.visible &&\n      frame >= layer.inPoint &&\n      frame <= layer.outPoint\n    );\n\n    for (const layer of textLayers) {\n      await this.renderTextLayerToMatte(ctx, layer, project, frame, scaleX, scaleY);\n    }\n\n    // Find particle layers that are visible at this frame\n    const particleLayers = project.layers.filter(layer =>\n      layer.type === 'particles' &&\n      layer.visible &&\n      frame >= layer.inPoint &&\n      frame <= layer.outPoint\n    );\n\n    for (const layer of particleLayers) {\n      this.renderParticleLayerToMatte(ctx, layer, width, height);\n    }\n\n    // Convert to PNG blob\n    return await this.offscreenCanvas!.convertToBlob({ type: 'image/png' });\n  }\n\n  /**\n   * Generate a preview frame (for UI display)\n   */\n  async generatePreviewFrame(\n    project: WeylProject,\n    frame: number,\n    options: ExportOptions\n  ): Promise<string> {\n    // Ensure canvas is initialized\n    if (!this.offscreenCanvas ||\n        this.offscreenCanvas.width !== options.width ||\n        this.offscreenCanvas.height !== options.height) {\n      this.offscreenCanvas = new OffscreenCanvas(options.width, options.height);\n      this.ctx = this.offscreenCanvas.getContext('2d')!;\n    }\n\n    const blob = await this.generateFrame(project, frame, options);\n    return URL.createObjectURL(blob);\n  }\n\n  /**\n   * Render text layer as black region on matte\n   */\n  private async renderTextLayerToMatte(\n    ctx: OffscreenCanvasRenderingContext2D,\n    layer: Layer,\n    project: WeylProject,\n    frame: number,\n    scaleX: number,\n    scaleY: number\n  ): Promise<void> {\n    const textData = layer.data as TextData;\n    if (!textData) return;\n\n    // Get animated font size\n    const fontSizeProp = layer.properties.find(p => p.name === 'fontSize');\n    const fontSize = fontSizeProp\n      ? interpolateProperty(fontSizeProp, frame)\n      : textData.fontSize;\n\n    // Scale font size\n    const scaledFontSize = fontSize * Math.min(scaleX, scaleY);\n\n    ctx.font = `${textData.fontWeight} ${scaledFontSize}px \"${textData.fontFamily}\"`;\n\n    // Check if text is on a path\n    if (textData.pathLayerId) {\n      await this.renderTextOnPathToMatte(ctx, layer, textData, project, frame, scaledFontSize, scaleX, scaleY);\n    } else {\n      this.renderTextBlockToMatte(ctx, layer, textData, frame, scaledFontSize, scaleX, scaleY);\n    }\n  }\n\n  /**\n   * Render text that follows a spline path\n   * Per-character rectangles following path\n   */\n  private async renderTextOnPathToMatte(\n    ctx: OffscreenCanvasRenderingContext2D,\n    layer: Layer,\n    textData: TextData,\n    project: WeylProject,\n    frame: number,\n    fontSize: number,\n    scaleX: number,\n    scaleY: number\n  ): Promise<void> {\n    // Find the path layer\n    const pathLayer = project.layers.find(l => l.id === textData.pathLayerId);\n    if (!pathLayer || pathLayer.type !== 'spline') return;\n\n    const splineData = pathLayer.data as SplineData;\n    if (!splineData?.controlPoints || splineData.controlPoints.length < 2) return;\n\n    // Build path commands from control points\n    const pathCommands = this.buildPathCommands(splineData);\n    if (!pathCommands || pathCommands.length < 2) return;\n\n    // Parse path to Bezier curve\n    const bezierCurve = fabricPathToBezier(pathCommands);\n    if (!bezierCurve) return;\n\n    // Create arc length parameterizer\n    const parameterizer = new ArcLengthParameterizer(bezierCurve);\n\n    // Get animated path offset\n    const offsetProp = layer.properties.find(p => p.name === 'pathOffset');\n    const pathOffset = offsetProp\n      ? interpolateProperty(offsetProp, frame)\n      : textData.pathOffset;\n\n    const totalLength = parameterizer.totalLength;\n    let currentDistance = pathOffset * totalLength;\n\n    // Render each character as a black rectangle\n    const padding = 4 * Math.min(scaleX, scaleY); // Scale padding\n\n    for (const char of textData.text) {\n      if (char === ' ') {\n        // Skip spaces but add width\n        const spaceWidth = ctx.measureText(' ').width;\n        currentDistance += spaceWidth + textData.letterSpacing;\n        continue;\n      }\n\n      const charWidth = ctx.measureText(char).width;\n\n      // Clamp distance\n      const clampedDistance = Math.max(0, Math.min(currentDistance, totalLength));\n\n      const { point, tangent } = parameterizer.getPointAtDistance(clampedDistance);\n      const angle = Math.atan2(tangent.y, tangent.x);\n\n      // Scale the position\n      const scaledX = point.x * scaleX;\n      const scaledY = point.y * scaleY;\n\n      ctx.save();\n      ctx.translate(scaledX, scaledY);\n      ctx.rotate(angle);\n\n      // Draw black rectangle covering the character\n      ctx.fillRect(\n        -padding,\n        -fontSize - padding,\n        charWidth + padding * 2,\n        fontSize + padding * 2\n      );\n\n      ctx.restore();\n\n      currentDistance += charWidth + textData.letterSpacing;\n    }\n  }\n\n  /**\n   * Build path commands from spline control points\n   */\n  private buildPathCommands(splineData: SplineData): any[] | null {\n    const cp = splineData.controlPoints;\n    if (!cp || cp.length < 2) return null;\n\n    const pathCommands: any[] = [];\n\n    // Move to first point\n    pathCommands.push(['M', cp[0].x, cp[0].y]);\n\n    // Create cubic bezier curves between points\n    for (let i = 0; i < cp.length - 1; i++) {\n      const p1 = cp[i];\n      const p2 = cp[i + 1];\n\n      // Get handle positions (or use point position if no handle)\n      const h1 = p1.handleOut || { x: p1.x, y: p1.y };\n      const h2 = p2.handleIn || { x: p2.x, y: p2.y };\n\n      pathCommands.push([\n        'C',\n        h1.x, h1.y,\n        h2.x, h2.y,\n        p2.x, p2.y\n      ]);\n    }\n\n    return pathCommands;\n  }\n\n  /**\n   * Render regular text block (not on path)\n   * Standard text bounding box\n   */\n  private renderTextBlockToMatte(\n    ctx: OffscreenCanvasRenderingContext2D,\n    layer: Layer,\n    textData: TextData,\n    frame: number,\n    fontSize: number,\n    scaleX: number,\n    scaleY: number\n  ): void {\n    // Get transform\n    const positionProp = layer.transform.position;\n    const position = interpolateProperty(positionProp, frame);\n\n    const rotationProp = layer.transform.rotation;\n    const rotation = interpolateProperty(rotationProp, frame);\n\n    const scaleProp = layer.transform.scale;\n    const scale = interpolateProperty(scaleProp, frame);\n\n    ctx.save();\n\n    // Scale position\n    ctx.translate(position.x * scaleX, position.y * scaleY);\n    ctx.rotate((rotation * Math.PI) / 180);\n    ctx.scale(scale.x, scale.y);\n\n    // Measure text\n    const metrics = ctx.measureText(textData.text);\n    const textWidth = metrics.width;\n    const textHeight = fontSize;\n\n    // Draw black rectangle\n    const padding = 4;\n    ctx.fillRect(\n      -padding,\n      -textHeight - padding,\n      textWidth + padding * 2,\n      textHeight + padding * 2\n    );\n\n    ctx.restore();\n  }\n\n  /**\n   * Download frames as ZIP\n   */\n  async downloadAsZip(\n    frames: Blob[],\n    filename: string = 'matte_sequence',\n    onProgress?: (percent: number) => void\n  ): Promise<void> {\n    // Dynamic import JSZip\n    const JSZip = (await import('jszip')).default;\n    const zip = new JSZip();\n\n    // Add frames to zip\n    frames.forEach((blob, index) => {\n      const frameName = `${filename}_${String(index).padStart(4, '0')}.png`;\n      zip.file(frameName, blob);\n    });\n\n    // Generate zip with progress\n    const content = await zip.generateAsync(\n      { type: 'blob' },\n      (metadata) => {\n        if (onProgress) {\n          onProgress(Math.round(metadata.percent));\n        }\n      }\n    );\n\n    // Download\n    const url = URL.createObjectURL(content);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `${filename}.zip`;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n\n    URL.revokeObjectURL(url);\n  }\n\n  /**\n   * Initialize particle systems for all particle layers\n   */\n  private initializeParticleSystems(project: WeylProject): void {\n    this.particleSystems.clear();\n\n    const particleLayers = project.layers.filter(\n      layer => layer.type === 'particles'\n    );\n\n    for (const layer of particleLayers) {\n      const data = layer.data as ParticleLayerData;\n      if (!data) continue;\n\n      const system = new ParticleSystem(data.systemConfig);\n\n      // Add emitters\n      for (const emitter of data.emitters) {\n        system.addEmitter(emitter);\n      }\n\n      // Add gravity wells\n      for (const well of data.gravityWells) {\n        system.addGravityWell(well);\n      }\n\n      // Add vortices\n      for (const vortex of data.vortices) {\n        system.addVortex(vortex);\n      }\n\n      // Add modulations\n      for (const mod of data.modulations) {\n        system.addModulation(mod);\n      }\n\n      // Run warmup period\n      const warmupFrames = data.systemConfig.warmupPeriod || 0;\n      for (let i = 0; i < warmupFrames; i++) {\n        system.step();\n      }\n\n      this.particleSystems.set(layer.id, system);\n    }\n  }\n\n  /**\n   * Step particle systems to the current frame\n   * For sequential export, we step from frame 0 through each frame\n   */\n  private stepParticleSystemsToFrame(project: WeylProject, frame: number): void {\n    // Only step if this isn't the first frame (systems already initialized at frame 0)\n    if (frame === 0) return;\n\n    // Step all visible particle systems\n    for (const layer of project.layers) {\n      if (layer.type !== 'particles') continue;\n\n      const system = this.particleSystems.get(layer.id);\n      if (!system) continue;\n\n      // Only step if layer is visible at this frame\n      if (layer.visible && frame >= layer.inPoint && frame <= layer.outPoint) {\n        system.step();\n      }\n    }\n  }\n\n  /**\n   * Render particle layer as black regions on matte\n   */\n  private renderParticleLayerToMatte(\n    ctx: OffscreenCanvasRenderingContext2D,\n    layer: Layer,\n    width: number,\n    height: number\n  ): void {\n    const system = this.particleSystems.get(layer.id);\n    if (!system) return;\n\n    // Get the particle mask from the system\n    const maskData = system.renderToMask(width, height);\n\n    // Create a temporary canvas to hold the mask\n    const tempCanvas = new OffscreenCanvas(width, height);\n    const tempCtx = tempCanvas.getContext('2d')!;\n    tempCtx.putImageData(maskData, 0, 0);\n\n    // Composite the mask onto the main canvas\n    // The mask already has black particles on white background\n    // We use 'multiply' to combine - white stays white, black stays black\n    ctx.globalCompositeOperation = 'multiply';\n    ctx.drawImage(tempCanvas, 0, 0);\n    ctx.globalCompositeOperation = 'source-over';\n  }\n\n  /**\n   * Clean up resources\n   */\n  dispose(): void {\n    this.offscreenCanvas = null;\n    this.ctx = null;\n    this.particleSystems.clear();\n  }\n}\n\nexport const matteExporter = new MatteExporter();\nexport default matteExporter;\n","<template>\n  <div class=\"export-dialog-overlay\" @click.self=\"emit('close')\">\n    <div class=\"export-dialog\">\n      <div class=\"dialog-header\">\n        <h3>Export Matte Sequence</h3>\n        <button class=\"close-btn\" @click=\"emit('close')\">\n          <i class=\"pi pi-times\" />\n        </button>\n      </div>\n\n      <div class=\"dialog-content\">\n        <!-- Resolution Selection -->\n        <div class=\"form-group\">\n          <label>Resolution</label>\n          <div class=\"resolution-presets\">\n            <button\n              v-for=\"preset in resolutionPresets\"\n              :key=\"preset.label\"\n              class=\"preset-btn\"\n              :class=\"{ active: selectedPreset === preset.label }\"\n              @click=\"selectPreset(preset)\"\n            >\n              {{ preset.label }}\n            </button>\n          </div>\n          <div class=\"custom-resolution\">\n            <div class=\"dimension-input\">\n              <label>Width</label>\n              <input\n                v-model.number=\"customWidth\"\n                type=\"number\"\n                min=\"256\"\n                step=\"8\"\n                @change=\"validateCustomDimensions\"\n              />\n            </div>\n            <span class=\"dimension-x\"></span>\n            <div class=\"dimension-input\">\n              <label>Height</label>\n              <input\n                v-model.number=\"customHeight\"\n                type=\"number\"\n                min=\"256\"\n                step=\"8\"\n                @change=\"validateCustomDimensions\"\n              />\n            </div>\n          </div>\n          <p v-if=\"dimensionWarning\" class=\"dimension-warning\">\n            <i class=\"pi pi-info-circle\" />\n            {{ dimensionWarning }}\n          </p>\n        </div>\n\n        <!-- Matte Mode -->\n        <div class=\"form-group\">\n          <label>Matte Mode</label>\n          <div class=\"matte-mode-options\">\n            <button\n              class=\"mode-btn\"\n              :class=\"{ active: matteMode === 'exclude_text' }\"\n              @click=\"matteMode = 'exclude_text'\"\n            >\n              <i class=\"pi pi-ban\" />\n              <span>Exclude Text</span>\n              <small>Text regions are BLACK (excluded from generation)</small>\n            </button>\n            <button\n              class=\"mode-btn\"\n              :class=\"{ active: matteMode === 'include_all' }\"\n              @click=\"matteMode = 'include_all'\"\n            >\n              <i class=\"pi pi-check-circle\" />\n              <span>Include All</span>\n              <small>Entire frame is WHITE (generate everything)</small>\n            </button>\n          </div>\n        </div>\n\n        <!-- Preview -->\n        <div class=\"form-group\">\n          <label>Preview (Frame 0)</label>\n          <div class=\"preview-container\">\n            <img\n              v-if=\"previewUrl\"\n              :src=\"previewUrl\"\n              alt=\"Matte preview\"\n              class=\"preview-image\"\n            />\n            <div v-else class=\"preview-placeholder\">\n              <i class=\"pi pi-image\" />\n              <span>Generating preview...</span>\n            </div>\n          </div>\n          <p class=\"preview-info\">\n            White = Keep original / generate content<br />\n            Black = Exclude from generation\n          </p>\n        </div>\n\n        <!-- Export Progress -->\n        <div v-if=\"isExporting\" class=\"progress-section\">\n          <div class=\"progress-bar\">\n            <div\n              class=\"progress-fill\"\n              :style=\"{ width: `${exportProgress}%` }\"\n            />\n          </div>\n          <p class=\"progress-text\">\n            {{ progressMessage }}\n          </p>\n        </div>\n      </div>\n\n      <div class=\"dialog-footer\">\n        <div class=\"export-info\">\n          <span>{{ store.frameCount }} frames @ {{ exportWidth }}{{ exportHeight }}</span>\n        </div>\n        <button class=\"cancel-btn\" @click=\"emit('close')\" :disabled=\"isExporting\">\n          Cancel\n        </button>\n        <button\n          class=\"export-btn\"\n          @click=\"startExport\"\n          :disabled=\"isExporting || !store.hasProject\"\n        >\n          <i class=\"pi pi-download\" />\n          {{ isExporting ? 'Exporting...' : 'Export ZIP' }}\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch, onMounted, onUnmounted } from 'vue';\nimport { useCompositorStore } from '@/stores/compositorStore';\nimport { matteExporter, type ExportOptions } from '@/services/matteExporter';\n\nconst emit = defineEmits<{\n  (e: 'close'): void;\n  (e: 'exported'): void;\n}>();\n\nconst store = useCompositorStore();\n\n// Resolution presets\nconst resolutionPresets = matteExporter.getResolutionPresets();\n\n// State\nconst selectedPreset = ref('720p (1280x720)');\nconst customWidth = ref(1280);\nconst customHeight = ref(720);\nconst dimensionWarning = ref<string | undefined>();\nconst matteMode = ref<'exclude_text' | 'include_all'>('exclude_text');\nconst previewUrl = ref<string | null>(null);\nconst isExporting = ref(false);\nconst exportProgress = ref(0);\nconst progressMessage = ref('');\n\n// Computed export dimensions\nconst exportWidth = computed(() => customWidth.value);\nconst exportHeight = computed(() => customHeight.value);\n\n// Select a preset\nfunction selectPreset(preset: { label: string; width: number; height: number }): void {\n  selectedPreset.value = preset.label;\n  customWidth.value = preset.width;\n  customHeight.value = preset.height;\n  dimensionWarning.value = undefined;\n}\n\n// Validate custom dimensions\nfunction validateCustomDimensions(): void {\n  const validation = matteExporter.validateDimensions(customWidth.value, customHeight.value);\n\n  if (!validation.valid) {\n    customWidth.value = validation.correctedWidth;\n    customHeight.value = validation.correctedHeight;\n    dimensionWarning.value = validation.message;\n    selectedPreset.value = '';\n  } else {\n    dimensionWarning.value = undefined;\n    // Check if matches a preset\n    const matchingPreset = resolutionPresets.find(\n      p => p.width === customWidth.value && p.height === customHeight.value\n    );\n    selectedPreset.value = matchingPreset?.label || '';\n  }\n}\n\n// Generate preview\nasync function generatePreview(): Promise<void> {\n  if (!store.hasProject) return;\n\n  // Revoke old preview URL\n  if (previewUrl.value) {\n    URL.revokeObjectURL(previewUrl.value);\n    previewUrl.value = null;\n  }\n\n  const options: ExportOptions = {\n    width: exportWidth.value,\n    height: exportHeight.value,\n    matteMode: matteMode.value\n  };\n\n  previewUrl.value = await matteExporter.generatePreviewFrame(\n    store.project,\n    0,\n    options\n  );\n}\n\n// Start export\nasync function startExport(): Promise<void> {\n  if (isExporting.value || !store.hasProject) return;\n\n  isExporting.value = true;\n  exportProgress.value = 0;\n  progressMessage.value = 'Generating frames...';\n\n  const options: ExportOptions = {\n    width: exportWidth.value,\n    height: exportHeight.value,\n    matteMode: matteMode.value\n  };\n\n  try {\n    // Generate all frames\n    const frames = await matteExporter.generateMatteSequence(\n      store.project,\n      options,\n      (progress) => {\n        exportProgress.value = progress.percent;\n        progressMessage.value = `Generating frame ${progress.frame + 1} of ${progress.total}...`;\n      }\n    );\n\n    // Package as ZIP\n    progressMessage.value = 'Creating ZIP archive...';\n    await matteExporter.downloadAsZip(\n      frames,\n      `matte_${Date.now()}`,\n      (percent) => {\n        progressMessage.value = `Compressing... ${percent}%`;\n      }\n    );\n\n    progressMessage.value = 'Export complete!';\n    emit('exported');\n\n    // Close after brief delay\n    setTimeout(() => {\n      emit('close');\n    }, 1000);\n\n  } catch (err) {\n    console.error('[ExportDialog] Export failed:', err);\n    progressMessage.value = `Export failed: ${err instanceof Error ? err.message : 'Unknown error'}`;\n  } finally {\n    isExporting.value = false;\n  }\n}\n\n// Watch for changes that affect preview\nwatch(\n  [exportWidth, exportHeight, matteMode],\n  () => {\n    generatePreview();\n  },\n  { immediate: false }\n);\n\n// Initialize\nonMounted(() => {\n  // Set initial dimensions from composition\n  if (store.hasProject) {\n    const validation = matteExporter.validateDimensions(store.width, store.height);\n    customWidth.value = validation.correctedWidth;\n    customHeight.value = validation.correctedHeight;\n\n    // Check if matches a preset\n    const matchingPreset = resolutionPresets.find(\n      p => p.width === customWidth.value && p.height === customHeight.value\n    );\n    selectedPreset.value = matchingPreset?.label || '';\n\n    if (!validation.valid) {\n      dimensionWarning.value = validation.message;\n    }\n  }\n\n  generatePreview();\n});\n\n// Cleanup\nonUnmounted(() => {\n  if (previewUrl.value) {\n    URL.revokeObjectURL(previewUrl.value);\n  }\n  matteExporter.dispose();\n});\n</script>\n\n<style scoped>\n.export-dialog-overlay {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.6);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.export-dialog {\n  width: 520px;\n  max-height: 90vh;\n  background: #2a2a2a;\n  border-radius: 8px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);\n  display: flex;\n  flex-direction: column;\n}\n\n.dialog-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px 16px;\n  border-bottom: 1px solid #3d3d3d;\n}\n\n.dialog-header h3 {\n  margin: 0;\n  font-size: 14px;\n  font-weight: 500;\n  color: #e0e0e0;\n}\n\n.close-btn {\n  padding: 4px 8px;\n  border: none;\n  background: transparent;\n  color: #888;\n  cursor: pointer;\n}\n\n.close-btn:hover {\n  color: #fff;\n}\n\n.dialog-content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 16px;\n}\n\n.form-group {\n  margin-bottom: 20px;\n}\n\n.form-group > label {\n  display: block;\n  font-size: 12px;\n  font-weight: 500;\n  color: #aaa;\n  margin-bottom: 8px;\n}\n\n.resolution-presets {\n  display: flex;\n  gap: 8px;\n  margin-bottom: 12px;\n}\n\n.preset-btn {\n  flex: 1;\n  padding: 8px 12px;\n  border: 1px solid #3d3d3d;\n  background: #1e1e1e;\n  color: #aaa;\n  border-radius: 4px;\n  font-size: 11px;\n  cursor: pointer;\n  transition: all 0.1s;\n}\n\n.preset-btn:hover {\n  background: #333;\n  color: #fff;\n}\n\n.preset-btn.active {\n  background: #4a90d9;\n  border-color: #4a90d9;\n  color: #fff;\n}\n\n.custom-resolution {\n  display: flex;\n  align-items: flex-end;\n  gap: 8px;\n}\n\n.dimension-input {\n  flex: 1;\n}\n\n.dimension-input label {\n  display: block;\n  font-size: 10px;\n  color: #666;\n  margin-bottom: 4px;\n}\n\n.dimension-input input {\n  width: 100%;\n  padding: 6px 8px;\n  border: 1px solid #3d3d3d;\n  background: #1e1e1e;\n  color: #e0e0e0;\n  border-radius: 4px;\n  font-size: 13px;\n}\n\n.dimension-input input:focus {\n  outline: none;\n  border-color: #4a90d9;\n}\n\n.dimension-x {\n  color: #666;\n  font-size: 14px;\n  padding-bottom: 6px;\n}\n\n.dimension-warning {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  margin-top: 8px;\n  padding: 6px 10px;\n  background: rgba(255, 193, 7, 0.1);\n  border: 1px solid rgba(255, 193, 7, 0.3);\n  border-radius: 4px;\n  font-size: 11px;\n  color: #ffc107;\n}\n\n.matte-mode-options {\n  display: flex;\n  gap: 12px;\n}\n\n.mode-btn {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 6px;\n  padding: 12px;\n  border: 1px solid #3d3d3d;\n  background: #1e1e1e;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.1s;\n}\n\n.mode-btn:hover {\n  background: #333;\n}\n\n.mode-btn.active {\n  background: rgba(74, 144, 217, 0.2);\n  border-color: #4a90d9;\n}\n\n.mode-btn i {\n  font-size: 20px;\n  color: #666;\n}\n\n.mode-btn.active i {\n  color: #4a90d9;\n}\n\n.mode-btn span {\n  font-size: 12px;\n  font-weight: 500;\n  color: #e0e0e0;\n}\n\n.mode-btn small {\n  font-size: 10px;\n  color: #666;\n  text-align: center;\n}\n\n.preview-container {\n  width: 100%;\n  height: 200px;\n  background: #1e1e1e;\n  border: 1px solid #3d3d3d;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n}\n\n.preview-image {\n  max-width: 100%;\n  max-height: 100%;\n  object-fit: contain;\n}\n\n.preview-placeholder {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 8px;\n  color: #666;\n}\n\n.preview-placeholder i {\n  font-size: 32px;\n}\n\n.preview-placeholder span {\n  font-size: 12px;\n}\n\n.preview-info {\n  margin-top: 8px;\n  font-size: 10px;\n  color: #666;\n  text-align: center;\n}\n\n.progress-section {\n  margin-top: 16px;\n  padding: 12px;\n  background: #1e1e1e;\n  border-radius: 4px;\n}\n\n.progress-bar {\n  height: 8px;\n  background: #333;\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n.progress-fill {\n  height: 100%;\n  background: #4a90d9;\n  transition: width 0.2s;\n}\n\n.progress-text {\n  margin-top: 8px;\n  font-size: 11px;\n  color: #aaa;\n  text-align: center;\n}\n\n.dialog-footer {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 12px 16px;\n  border-top: 1px solid #3d3d3d;\n}\n\n.export-info {\n  flex: 1;\n  font-size: 11px;\n  color: #666;\n}\n\n.cancel-btn {\n  padding: 8px 16px;\n  border: 1px solid #3d3d3d;\n  background: transparent;\n  color: #aaa;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.cancel-btn:hover:not(:disabled) {\n  background: #333;\n  color: #fff;\n}\n\n.cancel-btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.export-btn {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 8px 16px;\n  border: none;\n  background: #4a90d9;\n  color: #fff;\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.export-btn:hover:not(:disabled) {\n  background: #5a9fe9;\n}\n\n.export-btn:disabled {\n  background: #333;\n  color: #666;\n  cursor: not-allowed;\n}\n</style>\n","<template>\n  <div class=\"workspace-layout\">\n    <!-- Top Toolbar -->\n    <div class=\"toolbar\">\n      <div class=\"tool-group\">\n        <button\n          :class=\"{ active: currentTool === 'select' }\"\n          @click=\"currentTool = 'select'\"\n          title=\"Select (V)\"\n        >\n          <span class=\"icon\"></span>\n        </button>\n        <button\n          :class=\"{ active: currentTool === 'pen' }\"\n          @click=\"currentTool = 'pen'\"\n          title=\"Pen Tool (P)\"\n        >\n          <span class=\"icon\"></span>\n        </button>\n        <button\n          :class=\"{ active: currentTool === 'text' }\"\n          @click=\"currentTool = 'text'\"\n          title=\"Text Tool (T)\"\n        >\n          <span class=\"icon\">T</span>\n        </button>\n        <button\n          :class=\"{ active: currentTool === 'hand' }\"\n          @click=\"currentTool = 'hand'\"\n          title=\"Hand Tool (H)\"\n        >\n          <span class=\"icon\"></span>\n        </button>\n        <button\n          :class=\"{ active: currentTool === 'zoom' }\"\n          @click=\"currentTool = 'zoom'\"\n          title=\"Zoom Tool (Z)\"\n        >\n          <span class=\"icon\"></span>\n        </button>\n      </div>\n\n      <div class=\"divider\"></div>\n\n      <div class=\"tool-group\">\n        <button @click=\"goToStart\" title=\"Go to Start (Home)\">\n          <span class=\"icon\"></span>\n        </button>\n        <button @click=\"stepBackward\" title=\"Step Backward\">\n          <span class=\"icon\"></span>\n        </button>\n        <button @click=\"togglePlay\" :title=\"isPlaying ? 'Pause (Space)' : 'Play (Space)'\">\n          <span class=\"icon\">{{ isPlaying ? '' : '' }}</span>\n        </button>\n        <button @click=\"stepForward\" title=\"Step Forward\">\n          <span class=\"icon\"></span>\n        </button>\n        <button @click=\"goToEnd\" title=\"Go to End (End)\">\n          <span class=\"icon\"></span>\n        </button>\n      </div>\n\n      <div class=\"timecode-display\">\n        {{ formattedTimecode }}\n      </div>\n\n      <div class=\"divider\"></div>\n\n      <div class=\"tool-group\">\n        <select v-model=\"activeWorkspace\" class=\"workspace-selector\">\n          <option value=\"standard\">Standard</option>\n          <option value=\"animation\">Animation</option>\n          <option value=\"effects\">Effects</option>\n          <option value=\"minimal\">Minimal</option>\n        </select>\n      </div>\n\n      <div class=\"spacer\"></div>\n\n      <div class=\"tool-group\">\n        <span class=\"gpu-badge\" :class=\"gpuTier\">{{ gpuTier.toUpperCase() }}</span>\n        <button @click=\"undo\" :disabled=\"!canUndo\" title=\"Undo (Ctrl+Z)\">\n          <span class=\"icon\"></span>\n        </button>\n        <button @click=\"redo\" :disabled=\"!canRedo\" title=\"Redo (Ctrl+Shift+Z)\">\n          <span class=\"icon\"></span>\n        </button>\n        <button @click=\"showExportDialog = true\" title=\"Export\">\n          <span class=\"icon\"></span> Export\n        </button>\n      </div>\n    </div>\n\n    <!-- Main Workspace with Splitpanes -->\n    <div class=\"workspace-content\">\n      <Splitpanes class=\"default-theme horizontal-split\">\n        <!-- Left Panel: Project/Effects -->\n        <Pane :size=\"15\" :min-size=\"10\" :max-size=\"25\">\n          <div class=\"panel left-panel\">\n            <div class=\"panel-tabs\">\n              <button\n                :class=\"{ active: leftTab === 'project' }\"\n                @click=\"leftTab = 'project'\"\n              >\n                Project\n              </button>\n              <button\n                :class=\"{ active: leftTab === 'effects' }\"\n                @click=\"leftTab = 'effects'\"\n              >\n                Effects\n              </button>\n            </div>\n            <div class=\"panel-content\">\n              <ProjectPanel v-if=\"leftTab === 'project'\" />\n              <EffectsPanel v-else-if=\"leftTab === 'effects'\" />\n            </div>\n          </div>\n        </Pane>\n\n        <!-- Center: Viewport + Timeline -->\n        <Pane :size=\"60\" :min-size=\"30\">\n          <Splitpanes horizontal class=\"default-theme\">\n            <!-- Viewport -->\n            <Pane :size=\"65\" :min-size=\"20\">\n              <div class=\"panel viewport-panel\">\n                <div class=\"viewport-header\">\n                  <div class=\"viewport-tabs\">\n                    <button\n                      :class=\"{ active: viewportTab === 'composition' }\"\n                      @click=\"viewportTab = 'composition'\"\n                    >\n                      Composition\n                    </button>\n                    <button\n                      :class=\"{ active: viewportTab === 'layer' }\"\n                      @click=\"viewportTab = 'layer'\"\n                    >\n                      Layer\n                    </button>\n                    <button\n                      :class=\"{ active: viewportTab === 'footage' }\"\n                      @click=\"viewportTab = 'footage'\"\n                    >\n                      Footage\n                    </button>\n                  </div>\n                  <div class=\"viewport-controls\">\n                    <select v-model=\"viewZoom\" class=\"zoom-select\">\n                      <option value=\"fit\">Fit</option>\n                      <option value=\"25\">25%</option>\n                      <option value=\"50\">50%</option>\n                      <option value=\"100\">100%</option>\n                      <option value=\"200\">200%</option>\n                    </select>\n                    <button\n                      :class=\"{ active: showGuides }\"\n                      @click=\"showGuides = !showGuides\"\n                      title=\"Toggle Guides\"\n                    >\n                      <span class=\"icon\"></span>\n                    </button>\n                    <button\n                      :class=\"{ active: showGrid }\"\n                      @click=\"showGrid = !showGrid\"\n                      title=\"Toggle Grid\"\n                    >\n                      <span class=\"icon\"></span>\n                    </button>\n                  </div>\n                </div>\n                <div class=\"viewport-content\">\n                  <ViewportRenderer\n                    v-if=\"viewportTab === 'composition'\"\n                    :camera=\"activeCamera\"\n                    :viewportState=\"viewportState\"\n                    :viewOptions=\"viewOptions\"\n                    :compWidth=\"compWidth\"\n                    :compHeight=\"compHeight\"\n                  />\n                  <CompositionCanvas v-else ref=\"canvasRef\" />\n                </div>\n              </div>\n            </Pane>\n\n            <!-- Timeline + Graph Editor -->\n            <Pane :size=\"35\" :min-size=\"15\">\n              <Splitpanes v-if=\"showGraphEditor\" horizontal class=\"default-theme\">\n                <Pane :size=\"50\" :min-size=\"20\">\n                  <div class=\"panel timeline-panel\">\n                    <TimelinePanel />\n                  </div>\n                </Pane>\n                <Pane :size=\"50\" :min-size=\"20\">\n                  <div class=\"panel graph-editor-panel\">\n                    <GraphEditor @close=\"showGraphEditor = false\" />\n                  </div>\n                </Pane>\n              </Splitpanes>\n              <div v-else class=\"panel timeline-panel\">\n                <TimelinePanel />\n              </div>\n            </Pane>\n          </Splitpanes>\n        </Pane>\n\n        <!-- Right Panel: Properties/Camera -->\n        <Pane :size=\"25\" :min-size=\"15\" :max-size=\"30\">\n          <div class=\"panel right-panel\">\n            <div class=\"panel-tabs\">\n              <button\n                :class=\"{ active: rightTab === 'properties' }\"\n                @click=\"rightTab = 'properties'\"\n              >\n                Properties\n              </button>\n              <button\n                :class=\"{ active: rightTab === 'camera' }\"\n                @click=\"rightTab = 'camera'\"\n              >\n                Camera\n              </button>\n              <button\n                :class=\"{ active: rightTab === 'audio' }\"\n                @click=\"rightTab = 'audio'\"\n              >\n                Audio\n              </button>\n            </div>\n            <div class=\"panel-content\">\n              <PropertiesPanel v-if=\"rightTab === 'properties'\" />\n              <CameraProperties\n                v-else-if=\"rightTab === 'camera'\"\n                :camera=\"activeCamera\"\n                @update:camera=\"updateCamera\"\n              />\n              <AudioPanel v-else-if=\"rightTab === 'audio'\" />\n            </div>\n          </div>\n        </Pane>\n      </Splitpanes>\n    </div>\n\n    <!-- Status Bar -->\n    <div class=\"status-bar\">\n      <div class=\"status-left\">\n        <span class=\"status-item\">{{ projectName }}</span>\n        <span class=\"status-divider\">|</span>\n        <span class=\"status-item\">{{ compositionInfo }}</span>\n      </div>\n      <div class=\"status-center\">\n        <span v-if=\"renderProgress > 0\" class=\"render-progress\">\n          Rendering: {{ Math.round(renderProgress * 100) }}%\n        </span>\n      </div>\n      <div class=\"status-right\">\n        <span class=\"status-item\">{{ memoryUsage }}</span>\n        <span class=\"status-divider\">|</span>\n        <span class=\"status-item\">{{ fps }} fps</span>\n      </div>\n    </div>\n\n    <!-- Export Dialog -->\n    <ExportDialog\n      v-if=\"showExportDialog\"\n      @close=\"showExportDialog = false\"\n      @exported=\"onExportComplete\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted, onUnmounted } from 'vue';\nimport { Splitpanes, Pane } from 'splitpanes';\nimport 'splitpanes/dist/splitpanes.css';\n\nimport { useCompositorStore } from '@/stores/compositorStore';\nimport { detectGPUTier, type GPUTier } from '@/services/gpuDetection';\nimport { createDefaultCamera, createDefaultViewportState } from '@/types/camera';\nimport type { Camera3D, ViewportState } from '@/types/camera';\n\n// Panels\nimport ProjectPanel from '@/components/panels/ProjectPanel.vue';\nimport EffectsPanel from '@/components/panels/EffectsPanel.vue';\nimport PropertiesPanel from '@/components/panels/PropertiesPanel.vue';\nimport CameraProperties from '@/components/panels/CameraProperties.vue';\nimport AudioPanel from '@/components/panels/AudioPanel.vue';\n\n// Viewport\nimport ViewportRenderer from '@/components/viewport/ViewportRenderer.vue';\nimport CompositionCanvas from '@/components/canvas/CompositionCanvas.vue';\n\n// Timeline\nimport TimelinePanel from '@/components/timeline/TimelinePanel.vue';\nimport GraphEditor from '@/components/graph-editor/GraphEditor.vue';\n\n// Dialogs\nimport ExportDialog from '@/components/dialogs/ExportDialog.vue';\n\n// Store\nconst store = useCompositorStore();\n\n// State\nconst currentTool = ref<'select' | 'pen' | 'text' | 'hand' | 'zoom'>('select');\nconst activeWorkspace = ref('standard');\nconst leftTab = ref<'project' | 'effects'>('project');\nconst rightTab = ref<'properties' | 'camera' | 'audio'>('properties');\nconst viewportTab = ref<'composition' | 'layer' | 'footage'>('composition');\n\nconst viewZoom = ref('fit');\nconst showGuides = ref(false);\nconst showGrid = ref(true);\nconst showGraphEditor = ref(false);\nconst showExportDialog = ref(false);\n\nconst isPlaying = ref(false);\nconst gpuTier = ref<GPUTier['tier']>('cpu');\n\nconst canvasRef = ref<InstanceType<typeof CompositionCanvas> | null>(null);\n\n// Camera state\nconst activeCamera = ref<Camera3D>(createDefaultCamera());\nconst viewportState = ref<ViewportState>(createDefaultViewportState());\nconst viewOptions = ref({\n  showGrid: true,\n  showAxes: true,\n  showCameraFrustum: true,\n  showCompositionBounds: true,\n  showFocalPlane: false,\n  showLayerOutlines: true,\n  gridSize: 100,\n  gridDivisions: 10\n});\n\n// Composition dimensions\nconst compWidth = computed(() => store.project?.composition?.width || 1920);\nconst compHeight = computed(() => store.project?.composition?.height || 1080);\n\n// Performance tracking\nconst fps = ref(60);\nconst memoryUsage = ref('0 MB');\nconst renderProgress = ref(0);\n\n// Computed\nconst formattedTimecode = computed(() => {\n  const frame = store.currentFrame;\n  const fpsVal = store.project?.composition?.fps || 30;\n  const totalSeconds = frame / fpsVal;\n  const minutes = Math.floor(totalSeconds / 60);\n  const seconds = Math.floor(totalSeconds % 60);\n  const frames = frame % fpsVal;\n  return `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}:${String(frames).padStart(2, '0')}`;\n});\n\nconst projectName = computed(() => {\n  return store.project?.meta?.name || 'Untitled Project';\n});\n\nconst compositionInfo = computed(() => {\n  const comp = store.project?.composition;\n  if (!comp) return 'No Composition';\n  return `${comp.width}${comp.height} @ ${comp.fps}fps`;\n});\n\nconst canUndo = computed(() => store.canUndo);\nconst canRedo = computed(() => store.canRedo);\n\n// Actions\nfunction togglePlay() {\n  isPlaying.value = !isPlaying.value;\n  if (isPlaying.value) {\n    store.play();\n  } else {\n    store.pause();\n  }\n}\n\nfunction goToStart() {\n  store.goToStart();\n}\n\nfunction goToEnd() {\n  store.goToEnd();\n}\n\nfunction stepForward() {\n  store.setFrame(store.currentFrame + 1);\n}\n\nfunction stepBackward() {\n  store.setFrame(Math.max(0, store.currentFrame - 1));\n}\n\nfunction undo() {\n  store.undo();\n}\n\nfunction redo() {\n  store.redo();\n}\n\nfunction updateCamera(camera: Camera3D) {\n  activeCamera.value = camera;\n}\n\nfunction onExportComplete() {\n  console.log('[Weyl] Export completed');\n}\n\n// Keyboard shortcuts\nfunction handleKeydown(e: KeyboardEvent) {\n  // Don't handle if input is focused\n  if (document.activeElement?.tagName === 'INPUT' ||\n      document.activeElement?.tagName === 'TEXTAREA') {\n    return;\n  }\n\n  switch (e.key.toLowerCase()) {\n    case ' ':\n      e.preventDefault();\n      togglePlay();\n      break;\n    case 'v':\n      currentTool.value = 'select';\n      break;\n    case 'p':\n      currentTool.value = 'pen';\n      break;\n    case 't':\n      currentTool.value = 'text';\n      break;\n    case 'h':\n      currentTool.value = 'hand';\n      break;\n    case 'z':\n      if (e.ctrlKey || e.metaKey) {\n        e.preventDefault();\n        if (e.shiftKey) {\n          redo();\n        } else {\n          undo();\n        }\n      } else {\n        currentTool.value = 'zoom';\n      }\n      break;\n    case 'home':\n      e.preventDefault();\n      goToStart();\n      break;\n    case 'end':\n      e.preventDefault();\n      goToEnd();\n      break;\n    case 'arrowleft':\n      e.preventDefault();\n      stepBackward();\n      break;\n    case 'arrowright':\n      e.preventDefault();\n      stepForward();\n      break;\n    case 'g':\n      if (e.shiftKey) {\n        showGraphEditor.value = !showGraphEditor.value;\n      }\n      break;\n  }\n}\n\n// Performance monitoring\nlet perfInterval: number;\n\nfunction updatePerformanceStats() {\n  // Memory usage (if available)\n  if ('memory' in performance) {\n    const mem = (performance as any).memory;\n    const usedMB = Math.round(mem.usedJSHeapSize / 1024 / 1024);\n    memoryUsage.value = `${usedMB} MB`;\n  }\n}\n\n// Lifecycle\nonMounted(async () => {\n  const tierInfo = await detectGPUTier();\n  gpuTier.value = tierInfo.tier;\n\n  window.addEventListener('keydown', handleKeydown);\n\n  perfInterval = window.setInterval(updatePerformanceStats, 1000);\n});\n\nonUnmounted(() => {\n  window.removeEventListener('keydown', handleKeydown);\n  clearInterval(perfInterval);\n});\n</script>\n\n<style scoped>\n.workspace-layout {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background: #1a1a1a;\n  color: #e0e0e0;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n  font-size: 12px;\n}\n\n/* Toolbar */\n.toolbar {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 4px 8px;\n  background: #2a2a2a;\n  border-bottom: 1px solid #3a3a3a;\n  min-height: 36px;\n}\n\n.tool-group {\n  display: flex;\n  align-items: center;\n  gap: 2px;\n}\n\n.tool-group button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 4px;\n  min-width: 28px;\n  height: 28px;\n  padding: 0 6px;\n  border: none;\n  background: transparent;\n  color: #aaa;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 12px;\n}\n\n.tool-group button:hover {\n  background: #3a3a3a;\n  color: #fff;\n}\n\n.tool-group button.active {\n  background: #4a90d9;\n  color: #fff;\n}\n\n.tool-group button:disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n}\n\n.icon {\n  font-size: 14px;\n}\n\n.divider {\n  width: 1px;\n  height: 20px;\n  background: #3a3a3a;\n  margin: 0 4px;\n}\n\n.spacer {\n  flex: 1;\n}\n\n.timecode-display {\n  font-family: 'SF Mono', Monaco, monospace;\n  font-size: 14px;\n  padding: 4px 12px;\n  background: #1a1a1a;\n  border-radius: 4px;\n  min-width: 90px;\n  text-align: center;\n}\n\n.workspace-selector {\n  padding: 4px 8px;\n  background: #1a1a1a;\n  border: 1px solid #3a3a3a;\n  color: #e0e0e0;\n  border-radius: 4px;\n  font-size: 11px;\n}\n\n.gpu-badge {\n  font-size: 9px;\n  padding: 2px 6px;\n  border-radius: 3px;\n  font-weight: bold;\n  text-transform: uppercase;\n}\n\n.gpu-badge.cpu { background: #555; }\n.gpu-badge.webgl { background: #4a7c4a; }\n.gpu-badge.webgpu { background: #4a6a9c; }\n.gpu-badge.blackwell { background: #76b900; color: #000; }\n\n/* Main Workspace */\n.workspace-content {\n  flex: 1;\n  min-height: 0;\n  overflow: hidden;\n}\n\n.horizontal-split {\n  height: 100%;\n}\n\n/* Panels */\n.panel {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: #1e1e1e;\n  overflow: hidden;\n}\n\n.left-panel,\n.right-panel {\n  border-right: 1px solid #2a2a2a;\n}\n\n.right-panel {\n  border-right: none;\n  border-left: 1px solid #2a2a2a;\n}\n\n.panel-tabs {\n  display: flex;\n  background: #252525;\n  border-bottom: 1px solid #2a2a2a;\n}\n\n.panel-tabs button {\n  flex: 1;\n  padding: 8px 12px;\n  border: none;\n  background: transparent;\n  color: #888;\n  font-size: 11px;\n  cursor: pointer;\n  border-bottom: 2px solid transparent;\n}\n\n.panel-tabs button:hover {\n  color: #e0e0e0;\n}\n\n.panel-tabs button.active {\n  color: #e0e0e0;\n  border-bottom-color: #4a90d9;\n}\n\n.panel-content {\n  flex: 1;\n  overflow: hidden;\n}\n\n/* Viewport */\n.viewport-panel {\n  background: #1a1a1a;\n}\n\n.viewport-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 4px 8px;\n  background: #252525;\n  border-bottom: 1px solid #2a2a2a;\n}\n\n.viewport-tabs {\n  display: flex;\n  gap: 2px;\n}\n\n.viewport-tabs button {\n  padding: 4px 10px;\n  border: none;\n  background: transparent;\n  color: #888;\n  font-size: 11px;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.viewport-tabs button:hover {\n  color: #e0e0e0;\n}\n\n.viewport-tabs button.active {\n  background: #3a3a3a;\n  color: #e0e0e0;\n}\n\n.viewport-controls {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.zoom-select {\n  padding: 2px 6px;\n  background: #1a1a1a;\n  border: 1px solid #3a3a3a;\n  color: #e0e0e0;\n  border-radius: 3px;\n  font-size: 10px;\n}\n\n.viewport-controls button {\n  width: 24px;\n  height: 24px;\n  padding: 0;\n  border: none;\n  background: transparent;\n  color: #666;\n  border-radius: 3px;\n  cursor: pointer;\n  font-size: 12px;\n}\n\n.viewport-controls button:hover {\n  background: #3a3a3a;\n  color: #e0e0e0;\n}\n\n.viewport-controls button.active {\n  color: #4a90d9;\n}\n\n.viewport-content {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: #111;\n  overflow: hidden;\n}\n\n/* Timeline Panel */\n.timeline-panel {\n  border-top: 1px solid #2a2a2a;\n}\n\n.graph-editor-panel {\n  border-top: 1px solid #2a2a2a;\n}\n\n/* Status Bar */\n.status-bar {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 4px 12px;\n  background: #252525;\n  border-top: 1px solid #2a2a2a;\n  font-size: 10px;\n  color: #888;\n}\n\n.status-left,\n.status-center,\n.status-right {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.status-divider {\n  color: #444;\n}\n\n.render-progress {\n  color: #4a90d9;\n}\n\n/* Splitpanes Theme Overrides */\n:deep(.splitpanes.default-theme .splitpanes__pane) {\n  background: transparent;\n}\n\n:deep(.splitpanes.default-theme .splitpanes__splitter) {\n  background: #2a2a2a;\n  border: none;\n}\n\n:deep(.splitpanes.default-theme .splitpanes__splitter:hover) {\n  background: #4a90d9;\n}\n\n:deep(.splitpanes--vertical > .splitpanes__splitter) {\n  width: 4px;\n  min-width: 4px;\n}\n\n:deep(.splitpanes--horizontal > .splitpanes__splitter) {\n  height: 4px;\n  min-height: 4px;\n}\n</style>","<template>\n  <WorkspaceLayout />\n</template>\n\n<script setup lang=\"ts\">\nimport WorkspaceLayout from './components/layout/WorkspaceLayout.vue';\n</script>\n\n<style>\n/* Global styles for the app */\n* {\n  box-sizing: border-box;\n}\n\nhtml, body, #app {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n</style>\n","import { createApp, App as VueApp } from 'vue'\nimport { createPinia } from 'pinia'\nimport App from './App.vue'\nimport 'splitpanes/dist/splitpanes.css'\n\nlet appInstance: VueApp | null = null;\n\nexport function mountApp(container?: HTMLElement | string): VueApp | null {\n  let el: HTMLElement | null = null;\n  \n  if (typeof container === 'string') {\n    el = document.getElementById(container) || document.querySelector(container);\n  } else if (container instanceof HTMLElement) {\n    el = container;\n  } else {\n    el = document.getElementById('weyl-compositor-root') || document.getElementById('app');\n  }\n  \n  if (!el) return null;\n  \n  const app = createApp(App);\n  app.use(createPinia());\n  app.mount(el);\n  appInstance = app;\n  \n  setupBridge();\n  return app;\n}\n\nfunction setupBridge() {\n  window.addEventListener('weyl:inputs-ready', ((e: CustomEvent) => {\n    window.dispatchEvent(new CustomEvent('weyl:load-project-inputs', { detail: e.detail }));\n  }) as EventListener);\n}\n\nexport async function sendToComfyUI(matte: string, preview: string): Promise<boolean> {\n  return window.WeylCompositor?.sendOutput?.(matte, preview) ?? false;\n}\n\ndeclare global {\n  interface Window {\n    WeylCompositor?: {\n      getNodeId: () => string | null;\n      sendOutput: (matte: string, preview: string) => Promise<boolean>;\n    };\n  }\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', () => mountApp());\n} else {\n  setTimeout(() => { if (!appInstance) mountApp(); }, 0);\n}\n","/*!\n\nJSZip v3.10.1 - A JavaScript class for generating and reading zip files\n<http://stuartk.com/jszip>\n\n(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>\nDual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.\n\nJSZip uses the library pako released under the MIT license :\nhttps://github.com/nodeca/pako/blob/main/LICENSE\n*/\n\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).JSZip=e()}}(function(){return function s(a,o,h){function u(r,e){if(!o[r]){if(!a[r]){var t=\"function\"==typeof require&&require;if(!e&&t)return t(r,!0);if(l)return l(r,!0);var n=new Error(\"Cannot find module '\"+r+\"'\");throw n.code=\"MODULE_NOT_FOUND\",n}var i=o[r]={exports:{}};a[r][0].call(i.exports,function(e){var t=a[r][1][e];return u(t||e)},i,i.exports,s,a,o,h)}return o[r].exports}for(var l=\"function\"==typeof require&&require,e=0;e<h.length;e++)u(h[e]);return u}({1:[function(e,t,r){\"use strict\";var d=e(\"./utils\"),c=e(\"./support\"),p=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";r.encode=function(e){for(var t,r,n,i,s,a,o,h=[],u=0,l=e.length,f=l,c=\"string\"!==d.getTypeOf(e);u<e.length;)f=l-u,n=c?(t=e[u++],r=u<l?e[u++]:0,u<l?e[u++]:0):(t=e.charCodeAt(u++),r=u<l?e.charCodeAt(u++):0,u<l?e.charCodeAt(u++):0),i=t>>2,s=(3&t)<<4|r>>4,a=1<f?(15&r)<<2|n>>6:64,o=2<f?63&n:64,h.push(p.charAt(i)+p.charAt(s)+p.charAt(a)+p.charAt(o));return h.join(\"\")},r.decode=function(e){var t,r,n,i,s,a,o=0,h=0,u=\"data:\";if(e.substr(0,u.length)===u)throw new Error(\"Invalid base64 input, it looks like a data url.\");var l,f=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,\"\")).length/4;if(e.charAt(e.length-1)===p.charAt(64)&&f--,e.charAt(e.length-2)===p.charAt(64)&&f--,f%1!=0)throw new Error(\"Invalid base64 input, bad content length.\");for(l=c.uint8array?new Uint8Array(0|f):new Array(0|f);o<e.length;)t=p.indexOf(e.charAt(o++))<<2|(i=p.indexOf(e.charAt(o++)))>>4,r=(15&i)<<4|(s=p.indexOf(e.charAt(o++)))>>2,n=(3&s)<<6|(a=p.indexOf(e.charAt(o++))),l[h++]=t,64!==s&&(l[h++]=r),64!==a&&(l[h++]=n);return l}},{\"./support\":30,\"./utils\":32}],2:[function(e,t,r){\"use strict\";var n=e(\"./external\"),i=e(\"./stream/DataWorker\"),s=e(\"./stream/Crc32Probe\"),a=e(\"./stream/DataLengthProbe\");function o(e,t,r,n,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=i}o.prototype={getContentWorker:function(){var e=new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a(\"data_length\")),t=this;return e.on(\"end\",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error(\"Bug : uncompressed data size mismatch\")}),e},getCompressedWorker:function(){return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo(\"compressedSize\",this.compressedSize).withStreamInfo(\"uncompressedSize\",this.uncompressedSize).withStreamInfo(\"crc32\",this.crc32).withStreamInfo(\"compression\",this.compression)}},o.createWorkerFrom=function(e,t,r){return e.pipe(new s).pipe(new a(\"uncompressedSize\")).pipe(t.compressWorker(r)).pipe(new a(\"compressedSize\")).withStreamInfo(\"compression\",t)},t.exports=o},{\"./external\":6,\"./stream/Crc32Probe\":25,\"./stream/DataLengthProbe\":26,\"./stream/DataWorker\":27}],3:[function(e,t,r){\"use strict\";var n=e(\"./stream/GenericWorker\");r.STORE={magic:\"\\0\\0\",compressWorker:function(){return new n(\"STORE compression\")},uncompressWorker:function(){return new n(\"STORE decompression\")}},r.DEFLATE=e(\"./flate\")},{\"./flate\":7,\"./stream/GenericWorker\":28}],4:[function(e,t,r){\"use strict\";var n=e(\"./utils\");var o=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?\"string\"!==n.getTypeOf(e)?function(e,t,r,n){var i=o,s=n+r;e^=-1;for(var a=n;a<s;a++)e=e>>>8^i[255&(e^t[a])];return-1^e}(0|t,e,e.length,0):function(e,t,r,n){var i=o,s=n+r;e^=-1;for(var a=n;a<s;a++)e=e>>>8^i[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length,0):0}},{\"./utils\":32}],5:[function(e,t,r){\"use strict\";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){\"use strict\";var n=null;n=\"undefined\"!=typeof Promise?Promise:e(\"lie\"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,r){\"use strict\";var n=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Uint32Array,i=e(\"pako\"),s=e(\"./utils\"),a=e(\"./stream/GenericWorker\"),o=n?\"uint8array\":\"array\";function h(e,t){a.call(this,\"FlateWorker/\"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}r.magic=\"\\b\\0\",s.inherits(h,a),h.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(o,e.data),!1)},h.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},r.compressWorker=function(e){return new h(\"Deflate\",e)},r.uncompressWorker=function(){return new h(\"Inflate\",{})}},{\"./stream/GenericWorker\":28,\"./utils\":32,pako:38}],8:[function(e,t,r){\"use strict\";function A(e,t){var r,n=\"\";for(r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n}function n(e,t,r,n,i,s){var a,o,h=e.file,u=e.compression,l=s!==O.utf8encode,f=I.transformTo(\"string\",s(h.name)),c=I.transformTo(\"string\",O.utf8encode(h.name)),d=h.comment,p=I.transformTo(\"string\",s(d)),m=I.transformTo(\"string\",O.utf8encode(d)),_=c.length!==h.name.length,g=m.length!==d.length,b=\"\",v=\"\",y=\"\",w=h.dir,k=h.date,x={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(x.crc32=e.crc32,x.compressedSize=e.compressedSize,x.uncompressedSize=e.uncompressedSize);var S=0;t&&(S|=8),l||!_&&!g||(S|=2048);var z=0,C=0;w&&(z|=16),\"UNIX\"===i?(C=798,z|=function(e,t){var r=e;return e||(r=t?16893:33204),(65535&r)<<16}(h.unixPermissions,w)):(C=20,z|=function(e){return 63&(e||0)}(h.dosPermissions)),a=k.getUTCHours(),a<<=6,a|=k.getUTCMinutes(),a<<=5,a|=k.getUTCSeconds()/2,o=k.getUTCFullYear()-1980,o<<=4,o|=k.getUTCMonth()+1,o<<=5,o|=k.getUTCDate(),_&&(v=A(1,1)+A(B(f),4)+c,b+=\"up\"+A(v.length,2)+v),g&&(y=A(1,1)+A(B(p),4)+m,b+=\"uc\"+A(y.length,2)+y);var E=\"\";return E+=\"\\n\\0\",E+=A(S,2),E+=u.magic,E+=A(a,2),E+=A(o,2),E+=A(x.crc32,4),E+=A(x.compressedSize,4),E+=A(x.uncompressedSize,4),E+=A(f.length,2),E+=A(b.length,2),{fileRecord:R.LOCAL_FILE_HEADER+E+f+b,dirRecord:R.CENTRAL_FILE_HEADER+A(C,2)+E+A(p.length,2)+\"\\0\\0\\0\\0\"+A(z,4)+A(n,4)+f+b+p}}var I=e(\"../utils\"),i=e(\"../stream/GenericWorker\"),O=e(\"../utf8\"),B=e(\"../crc32\"),R=e(\"../signature\");function s(e,t,r,n){i.call(this,\"ZipFileWorker\"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}I.inherits(s,i),s.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,i.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))},s.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=n(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},s.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=n(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:function(e){return R.DATA_DESCRIPTOR+A(e.crc32,4)+A(e.compressedSize,4)+A(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},s.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,n=function(e,t,r,n,i){var s=I.transformTo(\"string\",i(n));return R.CENTRAL_DIRECTORY_END+\"\\0\\0\\0\\0\"+A(e,2)+A(e,2)+A(t,4)+A(r,4)+A(s.length,2)+s}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},s.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},s.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on(\"data\",function(e){t.processChunk(e)}),e.on(\"end\",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on(\"error\",function(e){t.error(e)}),this},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},s.prototype.error=function(e){var t=this._sources;if(!i.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},s.prototype.lock=function(){i.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=s},{\"../crc32\":4,\"../signature\":23,\"../stream/GenericWorker\":28,\"../utf8\":31,\"../utils\":32}],9:[function(e,t,r){\"use strict\";var u=e(\"../compressions\"),n=e(\"./ZipFileWorker\");r.generateWorker=function(e,a,t){var o=new n(a.streamFiles,t,a.platform,a.encodeFileName),h=0;try{e.forEach(function(e,t){h++;var r=function(e,t){var r=e||t,n=u[r];if(!n)throw new Error(r+\" is not a valid compression method !\");return n}(t.options.compression,a.compression),n=t.options.compressionOptions||a.compressionOptions||{},i=t.dir,s=t.date;t._compressWorker(r,n).withStreamInfo(\"file\",{name:e,dir:i,date:s,comment:t.comment||\"\",unixPermissions:t.unixPermissions,dosPermissions:t.dosPermissions}).pipe(o)}),o.entriesCount=h}catch(e){o.error(e)}return o}},{\"../compressions\":3,\"./ZipFileWorker\":8}],10:[function(e,t,r){\"use strict\";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error(\"The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.\");this.files=Object.create(null),this.comment=null,this.root=\"\",this.clone=function(){var e=new n;for(var t in this)\"function\"!=typeof this[t]&&(e[t]=this[t]);return e}}(n.prototype=e(\"./object\")).loadAsync=e(\"./load\"),n.support=e(\"./support\"),n.defaults=e(\"./defaults\"),n.version=\"3.10.1\",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e(\"./external\"),t.exports=n},{\"./defaults\":5,\"./external\":6,\"./load\":11,\"./object\":15,\"./support\":30}],11:[function(e,t,r){\"use strict\";var u=e(\"./utils\"),i=e(\"./external\"),n=e(\"./utf8\"),s=e(\"./zipEntries\"),a=e(\"./stream/Crc32Probe\"),l=e(\"./nodejsUtils\");function f(n){return new i.Promise(function(e,t){var r=n.decompressed.getContentWorker().pipe(new a);r.on(\"error\",function(e){t(e)}).on(\"end\",function(){r.streamInfo.crc32!==n.decompressed.crc32?t(new Error(\"Corrupted zip : CRC32 mismatch\")):e()}).resume()})}t.exports=function(e,o){var h=this;return o=u.extend(o||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:n.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error(\"JSZip can't accept a stream when loading a zip file.\")):u.prepareContent(\"the loaded zip file\",e,!0,o.optimizedBinaryString,o.base64).then(function(e){var t=new s(o);return t.load(e),t}).then(function(e){var t=[i.Promise.resolve(e)],r=e.files;if(o.checkCRC32)for(var n=0;n<r.length;n++)t.push(f(r[n]));return i.Promise.all(t)}).then(function(e){for(var t=e.shift(),r=t.files,n=0;n<r.length;n++){var i=r[n],s=i.fileNameStr,a=u.resolve(i.fileNameStr);h.file(a,i.decompressed,{binary:!0,optimizedBinaryString:!0,date:i.date,dir:i.dir,comment:i.fileCommentStr.length?i.fileCommentStr:null,unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions,createFolders:o.createFolders}),i.dir||(h.file(a).unsafeOriginalName=s)}return t.zipComment.length&&(h.comment=t.zipComment),h})}},{\"./external\":6,\"./nodejsUtils\":14,\"./stream/Crc32Probe\":25,\"./utf8\":31,\"./utils\":32,\"./zipEntries\":33}],12:[function(e,t,r){\"use strict\";var n=e(\"../utils\"),i=e(\"../stream/GenericWorker\");function s(e,t){i.call(this,\"Nodejs stream input adapter for \"+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(s,i),s.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on(\"data\",function(e){t.push({data:e,meta:{percent:0}})}).on(\"error\",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on(\"end\",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},s.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=s},{\"../stream/GenericWorker\":28,\"../utils\":32}],13:[function(e,t,r){\"use strict\";var i=e(\"readable-stream\").Readable;function n(e,t,r){i.call(this,t),this._helper=e;var n=this;e.on(\"data\",function(e,t){n.push(e)||n._helper.pause(),r&&r(t)}).on(\"error\",function(e){n.emit(\"error\",e)}).on(\"end\",function(){n.push(null)})}e(\"../utils\").inherits(n,i),n.prototype._read=function(){this._helper.resume()},t.exports=n},{\"../utils\":32,\"readable-stream\":16}],14:[function(e,t,r){\"use strict\";t.exports={isNode:\"undefined\"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if(\"number\"==typeof e)throw new Error('The \"data\" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&\"function\"==typeof e.on&&\"function\"==typeof e.pause&&\"function\"==typeof e.resume}}},{}],15:[function(e,t,r){\"use strict\";function s(e,t,r){var n,i=u.getTypeOf(t),s=u.extend(r||{},f);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),\"string\"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=g(e)),s.createFolders&&(n=_(e))&&b.call(this,n,!0);var a=\"string\"===i&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!a),(t instanceof c&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t=\"\",s.compression=\"STORE\",i=\"string\");var o=null;o=t instanceof c||t instanceof l?t:p.isNode&&p.isStream(t)?new m(e,t):u.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var h=new d(e,o,s);this.files[e]=h}var i=e(\"./utf8\"),u=e(\"./utils\"),l=e(\"./stream/GenericWorker\"),a=e(\"./stream/StreamHelper\"),f=e(\"./defaults\"),c=e(\"./compressedObject\"),d=e(\"./zipObject\"),o=e(\"./generate\"),p=e(\"./nodejsUtils\"),m=e(\"./nodejs/NodejsStreamInputAdapter\"),_=function(e){\"/\"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf(\"/\");return 0<t?e.substring(0,t):\"\"},g=function(e){return\"/\"!==e.slice(-1)&&(e+=\"/\"),e},b=function(e,t){return t=void 0!==t?t:f.createFolders,e=g(e),this.files[e]||s.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function h(e){return\"[object RegExp]\"===Object.prototype.toString.call(e)}var n={load:function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},forEach:function(e){var t,r,n;for(t in this.files)n=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,n)},filter:function(r){var n=[];return this.forEach(function(e,t){r(e,t)&&n.push(t)}),n},file:function(e,t,r){if(1!==arguments.length)return e=this.root+e,s.call(this,e,t,r),this;if(h(e)){var n=e;return this.filter(function(e,t){return!t.dir&&n.test(e)})}var i=this.files[this.root+e];return i&&!i.dir?i:null},folder:function(r){if(!r)return this;if(h(r))return this.filter(function(e,t){return t.dir&&r.test(e)});var e=this.root+r,t=b.call(this,e),n=this.clone();return n.root=t.name,n},remove:function(r){r=this.root+r;var e=this.files[r];if(e||(\"/\"!==r.slice(-1)&&(r+=\"/\"),e=this.files[r]),e&&!e.dir)delete this.files[r];else for(var t=this.filter(function(e,t){return t.name.slice(0,r.length)===r}),n=0;n<t.length;n++)delete this.files[t[n].name];return this},generate:function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},generateInternalStream:function(e){var t,r={};try{if((r=u.extend(e||{},{streamFiles:!1,compression:\"STORE\",compressionOptions:null,type:\"\",platform:\"DOS\",comment:null,mimeType:\"application/zip\",encodeFileName:i.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),\"binarystring\"===r.type&&(r.type=\"string\"),!r.type)throw new Error(\"No output type specified.\");u.checkSupport(r.type),\"darwin\"!==r.platform&&\"freebsd\"!==r.platform&&\"linux\"!==r.platform&&\"sunos\"!==r.platform||(r.platform=\"UNIX\"),\"win32\"===r.platform&&(r.platform=\"DOS\");var n=r.comment||this.comment||\"\";t=o.generateWorker(this,r,n)}catch(e){(t=new l(\"error\")).error(e)}return new a(t,r.type||\"string\",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type=\"nodebuffer\"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=n},{\"./compressedObject\":2,\"./defaults\":5,\"./generate\":9,\"./nodejs/NodejsStreamInputAdapter\":12,\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31,\"./utils\":32,\"./zipObject\":35}],16:[function(e,t,r){\"use strict\";t.exports=e(\"stream\")},{stream:void 0}],17:[function(e,t,r){\"use strict\";var n=e(\"./DataReader\");function i(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e(\"../utils\").inherits(i,n),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===t&&this.data[s+1]===r&&this.data[s+2]===n&&this.data[s+3]===i)return s-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),s=this.readData(4);return t===s[0]&&r===s[1]&&n===s[2]&&i===s[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./DataReader\":18}],18:[function(e,t,r){\"use strict\";var n=e(\"../utils\");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error(\"End of data reached (data length = \"+this.length+\", asked index = \"+e+\"). Corrupted zip ?\")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return n.transformTo(\"string\",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{\"../utils\":32}],19:[function(e,t,r){\"use strict\";var n=e(\"./Uint8ArrayReader\");function i(e){n.call(this,e)}e(\"../utils\").inherits(i,n),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./Uint8ArrayReader\":21}],20:[function(e,t,r){\"use strict\";var n=e(\"./DataReader\");function i(e){n.call(this,e)}e(\"../utils\").inherits(i,n),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./DataReader\":18}],21:[function(e,t,r){\"use strict\";var n=e(\"./ArrayReader\");function i(e){n.call(this,e)}e(\"../utils\").inherits(i,n),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./ArrayReader\":17}],22:[function(e,t,r){\"use strict\";var n=e(\"../utils\"),i=e(\"../support\"),s=e(\"./ArrayReader\"),a=e(\"./StringReader\"),o=e(\"./NodeBufferReader\"),h=e(\"./Uint8ArrayReader\");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),\"string\"!==t||i.uint8array?\"nodebuffer\"===t?new o(e):i.uint8array?new h(n.transformTo(\"uint8array\",e)):new s(n.transformTo(\"array\",e)):new a(e)}},{\"../support\":30,\"../utils\":32,\"./ArrayReader\":17,\"./NodeBufferReader\":19,\"./StringReader\":20,\"./Uint8ArrayReader\":21}],23:[function(e,t,r){\"use strict\";r.LOCAL_FILE_HEADER=\"PK\u0003\u0004\",r.CENTRAL_FILE_HEADER=\"PK\u0001\u0002\",r.CENTRAL_DIRECTORY_END=\"PK\u0005\u0006\",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR=\"PK\u0006\u0007\",r.ZIP64_CENTRAL_DIRECTORY_END=\"PK\u0006\u0006\",r.DATA_DESCRIPTOR=\"PK\u0007\\b\"},{}],24:[function(e,t,r){\"use strict\";var n=e(\"./GenericWorker\"),i=e(\"../utils\");function s(e){n.call(this,\"ConvertWorker to \"+e),this.destType=e}i.inherits(s,n),s.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],25:[function(e,t,r){\"use strict\";var n=e(\"./GenericWorker\"),i=e(\"../crc32\");function s(){n.call(this,\"Crc32Probe\"),this.withStreamInfo(\"crc32\",0)}e(\"../utils\").inherits(s,n),s.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=s},{\"../crc32\":4,\"../utils\":32,\"./GenericWorker\":28}],26:[function(e,t,r){\"use strict\";var n=e(\"../utils\"),i=e(\"./GenericWorker\");function s(e){i.call(this,\"DataLengthProbe for \"+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(s,i),s.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],27:[function(e,t,r){\"use strict\";var n=e(\"../utils\"),i=e(\"./GenericWorker\");function s(e){i.call(this,\"DataWorker\");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type=\"\",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}n.inherits(s,i),s.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case\"string\":e=this.data.substring(this.index,t);break;case\"uint8array\":e=this.data.subarray(this.index,t);break;case\"array\":case\"nodebuffer\":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],28:[function(e,t,r){\"use strict\";function n(e){this.name=e||\"default\",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit(\"data\",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit(\"end\"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit(\"error\",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit(\"error\",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on(\"data\",function(e){t.processChunk(e)}),e.on(\"end\",function(){t.end()}),e.on(\"error\",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e=\"Worker \"+this.name;return this.previous?this.previous+\" -> \"+e:e}},t.exports=n},{}],29:[function(e,t,r){\"use strict\";var h=e(\"../utils\"),i=e(\"./ConvertWorker\"),s=e(\"./GenericWorker\"),u=e(\"../base64\"),n=e(\"../support\"),a=e(\"../external\"),o=null;if(n.nodestream)try{o=e(\"../nodejs/NodejsStreamOutputAdapter\")}catch(e){}function l(e,o){return new a.Promise(function(t,r){var n=[],i=e._internalType,s=e._outputType,a=e._mimeType;e.on(\"data\",function(e,t){n.push(e),o&&o(t)}).on(\"error\",function(e){n=[],r(e)}).on(\"end\",function(){try{var e=function(e,t,r){switch(e){case\"blob\":return h.newBlob(h.transformTo(\"arraybuffer\",t),r);case\"base64\":return u.encode(t);default:return h.transformTo(e,t)}}(s,function(e,t){var r,n=0,i=null,s=0;for(r=0;r<t.length;r++)s+=t[r].length;switch(e){case\"string\":return t.join(\"\");case\"array\":return Array.prototype.concat.apply([],t);case\"uint8array\":for(i=new Uint8Array(s),r=0;r<t.length;r++)i.set(t[r],n),n+=t[r].length;return i;case\"nodebuffer\":return Buffer.concat(t);default:throw new Error(\"concat : unsupported type '\"+e+\"'\")}}(i,n),a);t(e)}catch(e){r(e)}n=[]}).resume()})}function f(e,t,r){var n=t;switch(t){case\"blob\":case\"arraybuffer\":n=\"uint8array\";break;case\"base64\":n=\"string\"}try{this._internalType=n,this._outputType=t,this._mimeType=r,h.checkSupport(n),this._worker=e.pipe(new i(n)),e.lock()}catch(e){this._worker=new s(\"error\"),this._worker.error(e)}}f.prototype={accumulate:function(e){return l(this,e)},on:function(e,t){var r=this;return\"data\"===e?this._worker.on(e,function(e){t.call(r,e.data,e.meta)}):this._worker.on(e,function(){h.delay(t,arguments,r)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(h.checkSupport(\"nodestream\"),\"nodebuffer\"!==this._outputType)throw new Error(this._outputType+\" is not supported by this method\");return new o(this,{objectMode:\"nodebuffer\"!==this._outputType},e)}},t.exports=f},{\"../base64\":1,\"../external\":6,\"../nodejs/NodejsStreamOutputAdapter\":13,\"../support\":30,\"../utils\":32,\"./ConvertWorker\":24,\"./GenericWorker\":28}],30:[function(e,t,r){\"use strict\";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array,r.nodebuffer=\"undefined\"!=typeof Buffer,r.uint8array=\"undefined\"!=typeof Uint8Array,\"undefined\"==typeof ArrayBuffer)r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=0===new Blob([n],{type:\"application/zip\"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(n),r.blob=0===i.getBlob(\"application/zip\").size}catch(e){r.blob=!1}}}try{r.nodestream=!!e(\"readable-stream\").Readable}catch(e){r.nodestream=!1}},{\"readable-stream\":16}],31:[function(e,t,s){\"use strict\";for(var o=e(\"./utils\"),h=e(\"./support\"),r=e(\"./nodejsUtils\"),n=e(\"./stream/GenericWorker\"),u=new Array(256),i=0;i<256;i++)u[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;u[254]=u[254]=1;function a(){n.call(this,\"utf-8 decode\"),this.leftOver=null}function l(){n.call(this,\"utf-8 encode\")}s.utf8encode=function(e){return h.nodebuffer?r.newBufferFrom(e,\"utf-8\"):function(e){var t,r,n,i,s,a=e.length,o=0;for(i=0;i<a;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=h.uint8array?new Uint8Array(o):new Array(o),i=s=0;s<o;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[s++]=r:(r<2048?t[s++]=192|r>>>6:(r<65536?t[s++]=224|r>>>12:(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63),t[s++]=128|r>>>6&63),t[s++]=128|63&r);return t}(e)},s.utf8decode=function(e){return h.nodebuffer?o.transformTo(\"nodebuffer\",e).toString(\"utf-8\"):function(e){var t,r,n,i,s=e.length,a=new Array(2*s);for(t=r=0;t<s;)if((n=e[t++])<128)a[r++]=n;else if(4<(i=u[n]))a[r++]=65533,t+=i-1;else{for(n&=2===i?31:3===i?15:7;1<i&&t<s;)n=n<<6|63&e[t++],i--;1<i?a[r++]=65533:n<65536?a[r++]=n:(n-=65536,a[r++]=55296|n>>10&1023,a[r++]=56320|1023&n)}return a.length!==r&&(a.subarray?a=a.subarray(0,r):a.length=r),o.applyFromCharCode(a)}(e=o.transformTo(h.uint8array?\"uint8array\":\"array\",e))},o.inherits(a,n),a.prototype.processChunk=function(e){var t=o.transformTo(h.uint8array?\"uint8array\":\"array\",e.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var r=t;(t=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),t.set(r,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var n=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+u[e[r]]>t?r:t}(t),i=t;n!==t.length&&(h.uint8array?(i=t.subarray(0,n),this.leftOver=t.subarray(n,t.length)):(i=t.slice(0,n),this.leftOver=t.slice(n,t.length))),this.push({data:s.utf8decode(i),meta:e.meta})},a.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=a,o.inherits(l,n),l.prototype.processChunk=function(e){this.push({data:s.utf8encode(e.data),meta:e.meta})},s.Utf8EncodeWorker=l},{\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./support\":30,\"./utils\":32}],32:[function(e,t,a){\"use strict\";var o=e(\"./support\"),h=e(\"./base64\"),r=e(\"./nodejsUtils\"),u=e(\"./external\");function n(e){return e}function l(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}e(\"setimmediate\"),a.newBlob=function(t,r){a.checkSupport(\"blob\");try{return new Blob([t],{type:r})}catch(e){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(t),n.getBlob(r)}catch(e){throw new Error(\"Bug : can't construct the Blob.\")}}};var i={stringifyByChunk:function(e,t,r){var n=[],i=0,s=e.length;if(s<=r)return String.fromCharCode.apply(null,e);for(;i<s;)\"array\"===t||\"nodebuffer\"===t?n.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+r,s)))):n.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+r,s)))),i+=r;return n.join(\"\")},stringifyByChar:function(e){for(var t=\"\",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&1===String.fromCharCode.apply(null,r.allocBuffer(1)).length}catch(e){return!1}}()}};function s(e){var t=65536,r=a.getTypeOf(e),n=!0;if(\"uint8array\"===r?n=i.applyCanBeUsed.uint8array:\"nodebuffer\"===r&&(n=i.applyCanBeUsed.nodebuffer),n)for(;1<t;)try{return i.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return i.stringifyByChar(e)}function f(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}a.applyFromCharCode=s;var c={};c.string={string:n,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return c.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,r.allocBuffer(e.length))}},c.array={string:s,array:n,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return r.newBufferFrom(e)}},c.arraybuffer={string:function(e){return s(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:n,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return r.newBufferFrom(new Uint8Array(e))}},c.uint8array={string:s,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:n,nodebuffer:function(e){return r.newBufferFrom(e)}},c.nodebuffer={string:s,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return c.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:n},a.transformTo=function(e,t){if(t=t||\"\",!e)return t;a.checkSupport(e);var r=a.getTypeOf(t);return c[r][e](t)},a.resolve=function(e){for(var t=e.split(\"/\"),r=[],n=0;n<t.length;n++){var i=t[n];\".\"===i||\"\"===i&&0!==n&&n!==t.length-1||(\"..\"===i?r.pop():r.push(i))}return r.join(\"/\")},a.getTypeOf=function(e){return\"string\"==typeof e?\"string\":\"[object Array]\"===Object.prototype.toString.call(e)?\"array\":o.nodebuffer&&r.isBuffer(e)?\"nodebuffer\":o.uint8array&&e instanceof Uint8Array?\"uint8array\":o.arraybuffer&&e instanceof ArrayBuffer?\"arraybuffer\":void 0},a.checkSupport=function(e){if(!o[e.toLowerCase()])throw new Error(e+\" is not supported by this platform\")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(e){var t,r,n=\"\";for(r=0;r<(e||\"\").length;r++)n+=\"\\\\x\"+((t=e.charCodeAt(r))<16?\"0\":\"\")+t.toString(16).toUpperCase();return n},a.delay=function(e,t,r){setImmediate(function(){e.apply(r||null,t||[])})},a.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r},a.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},a.prepareContent=function(r,e,n,i,s){return u.Promise.resolve(e).then(function(n){return o.blob&&(n instanceof Blob||-1!==[\"[object File]\",\"[object Blob]\"].indexOf(Object.prototype.toString.call(n)))&&\"undefined\"!=typeof FileReader?new u.Promise(function(t,r){var e=new FileReader;e.onload=function(e){t(e.target.result)},e.onerror=function(e){r(e.target.error)},e.readAsArrayBuffer(n)}):n}).then(function(e){var t=a.getTypeOf(e);return t?(\"arraybuffer\"===t?e=a.transformTo(\"uint8array\",e):\"string\"===t&&(s?e=h.decode(e):n&&!0!==i&&(e=function(e){return l(e,o.uint8array?new Uint8Array(e.length):new Array(e.length))}(e))),e):u.Promise.reject(new Error(\"Can't read the data of '\"+r+\"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?\"))})}},{\"./base64\":1,\"./external\":6,\"./nodejsUtils\":14,\"./support\":30,setimmediate:54}],33:[function(e,t,r){\"use strict\";var n=e(\"./reader/readerFor\"),i=e(\"./utils\"),s=e(\"./signature\"),a=e(\"./zipEntry\"),o=e(\"./support\");function h(e){this.files=[],this.loadOptions=e}h.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error(\"Corrupted zip or bug: unexpected signature (\"+i.pretty(t)+\", expected \"+i.pretty(e)+\")\")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=o.uint8array?\"uint8array\":\"array\",r=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error(\"Multi-volumes zip are not supported\")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error(\"Corrupted zip or bug: expected \"+this.centralDirRecords+\" records in central dir, got \"+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(e<0)throw!this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error(\"Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html\"):new Error(\"Corrupted zip: can't find end of central directory\");this.reader.setIndex(e);var t=e;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory locator\");if(this.reader.setIndex(e),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory\");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=t-r;if(0<n)this.isSignature(t,s.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error(\"Corrupted zip: missing \"+Math.abs(n)+\" bytes.\")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=h},{\"./reader/readerFor\":22,\"./signature\":23,\"./support\":30,\"./utils\":32,\"./zipEntry\":34}],34:[function(e,t,r){\"use strict\";var n=e(\"./reader/readerFor\"),s=e(\"./utils\"),i=e(\"./compressedObject\"),a=e(\"./crc32\"),o=e(\"./utf8\"),h=e(\"./compressions\"),u=e(\"./support\");function l(e,t){this.options=e,this.loadOptions=t}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error(\"Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)\");if(null===(t=function(e){for(var t in h)if(Object.prototype.hasOwnProperty.call(h,t)&&h[t].magic===e)return h[t];return null}(this.compressionMethod)))throw new Error(\"Corrupted zip : compression \"+s.pretty(this.compressionMethod)+\" unknown (inner file : \"+s.transformTo(\"string\",this.fileName)+\")\");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error(\"Encrypted zip are not supported\");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||\"/\"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=n(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,r,n,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),r=e.readInt(2),n=e.readData(r),this.extraFields[t]={id:t,length:r,value:n};e.setIndex(i)},handleUTF8:function(){var e=u.uint8array?\"uint8array\":\"array\";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=s.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var i=s.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)?null:a(this.fileName)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)?null:a(this.fileComment)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null}},t.exports=l},{\"./compressedObject\":2,\"./compressions\":3,\"./crc32\":4,\"./reader/readerFor\":22,\"./support\":30,\"./utf8\":31,\"./utils\":32}],35:[function(e,t,r){\"use strict\";function n(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var s=e(\"./stream/StreamHelper\"),i=e(\"./stream/DataWorker\"),a=e(\"./utf8\"),o=e(\"./compressedObject\"),h=e(\"./stream/GenericWorker\");n.prototype={internalStream:function(e){var t=null,r=\"string\";try{if(!e)throw new Error(\"No output type specified.\");var n=\"string\"===(r=e.toLowerCase())||\"text\"===r;\"binarystring\"!==r&&\"text\"!==r||(r=\"string\"),t=this._decompressWorker();var i=!this._dataBinary;i&&!n&&(t=t.pipe(new a.Utf8EncodeWorker)),!i&&n&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new h(\"error\")).error(e)}return new s(t,r,\"\")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||\"nodebuffer\").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof h?this._data:new i(this._data)}};for(var u=[\"asText\",\"asBinary\",\"asNodeBuffer\",\"asUint8Array\",\"asArrayBuffer\"],l=function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},f=0;f<u.length;f++)n.prototype[u[f]]=l;t.exports=n},{\"./compressedObject\":2,\"./stream/DataWorker\":27,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31}],36:[function(e,l,t){(function(t){\"use strict\";var r,n,e=t.MutationObserver||t.WebKitMutationObserver;if(e){var i=0,s=new e(u),a=t.document.createTextNode(\"\");s.observe(a,{characterData:!0}),r=function(){a.data=i=++i%2}}else if(t.setImmediate||void 0===t.MessageChannel)r=\"document\"in t&&\"onreadystatechange\"in t.document.createElement(\"script\")?function(){var e=t.document.createElement(\"script\");e.onreadystatechange=function(){u(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(u,0)};else{var o=new t.MessageChannel;o.port1.onmessage=u,r=function(){o.port2.postMessage(0)}}var h=[];function u(){var e,t;n=!0;for(var r=h.length;r;){for(t=h,h=[],e=-1;++e<r;)t[e]();r=h.length}n=!1}l.exports=function(e){1!==h.push(e)||n||r()}}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],37:[function(e,t,r){\"use strict\";var i=e(\"immediate\");function u(){}var l={},s=[\"REJECTED\"],a=[\"FULFILLED\"],n=[\"PENDING\"];function o(e){if(\"function\"!=typeof e)throw new TypeError(\"resolver must be a function\");this.state=n,this.queue=[],this.outcome=void 0,e!==u&&d(this,e)}function h(e,t,r){this.promise=e,\"function\"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),\"function\"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(t,r,n){i(function(){var e;try{e=r(n)}catch(e){return l.reject(t,e)}e===t?l.reject(t,new TypeError(\"Cannot resolve promise with itself\")):l.resolve(t,e)})}function c(e){var t=e&&e.then;if(e&&(\"object\"==typeof e||\"function\"==typeof e)&&\"function\"==typeof t)return function(){t.apply(e,arguments)}}function d(t,e){var r=!1;function n(e){r||(r=!0,l.reject(t,e))}function i(e){r||(r=!0,l.resolve(t,e))}var s=p(function(){e(i,n)});\"error\"===s.status&&n(s.value)}function p(e,t){var r={};try{r.value=e(t),r.status=\"success\"}catch(e){r.status=\"error\",r.value=e}return r}(t.exports=o).prototype.finally=function(t){if(\"function\"!=typeof t)return this;var r=this.constructor;return this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})})},o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if(\"function\"!=typeof e&&this.state===a||\"function\"!=typeof t&&this.state===s)return this;var r=new this.constructor(u);this.state!==n?f(r,this.state===a?e:t,this.outcome):this.queue.push(new h(r,e,t));return r},h.prototype.callFulfilled=function(e){l.resolve(this.promise,e)},h.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},h.prototype.callRejected=function(e){l.reject(this.promise,e)},h.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},l.resolve=function(e,t){var r=p(c,t);if(\"error\"===r.status)return l.reject(e,r.value);var n=r.value;if(n)d(e,n);else{e.state=a,e.outcome=t;for(var i=-1,s=e.queue.length;++i<s;)e.queue[i].callFulfilled(t)}return e},l.reject=function(e,t){e.state=s,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},o.resolve=function(e){if(e instanceof this)return e;return l.resolve(new this(u),e)},o.reject=function(e){var t=new this(u);return l.reject(t,e)},o.all=function(e){var r=this;if(\"[object Array]\"!==Object.prototype.toString.call(e))return this.reject(new TypeError(\"must be an array\"));var n=e.length,i=!1;if(!n)return this.resolve([]);var s=new Array(n),a=0,t=-1,o=new this(u);for(;++t<n;)h(e[t],t);return o;function h(e,t){r.resolve(e).then(function(e){s[t]=e,++a!==n||i||(i=!0,l.resolve(o,s))},function(e){i||(i=!0,l.reject(o,e))})}},o.race=function(e){var t=this;if(\"[object Array]\"!==Object.prototype.toString.call(e))return this.reject(new TypeError(\"must be an array\"));var r=e.length,n=!1;if(!r)return this.resolve([]);var i=-1,s=new this(u);for(;++i<r;)a=e[i],t.resolve(a).then(function(e){n||(n=!0,l.resolve(s,e))},function(e){n||(n=!0,l.reject(s,e))});var a;return s}},{immediate:36}],38:[function(e,t,r){\"use strict\";var n={};(0,e(\"./lib/utils/common\").assign)(n,e(\"./lib/deflate\"),e(\"./lib/inflate\"),e(\"./lib/zlib/constants\")),t.exports=n},{\"./lib/deflate\":39,\"./lib/inflate\":40,\"./lib/utils/common\":41,\"./lib/zlib/constants\":44}],39:[function(e,t,r){\"use strict\";var a=e(\"./zlib/deflate\"),o=e(\"./utils/common\"),h=e(\"./utils/strings\"),i=e(\"./zlib/messages\"),s=e(\"./zlib/zstream\"),u=Object.prototype.toString,l=0,f=-1,c=0,d=8;function p(e){if(!(this instanceof p))return new p(e);this.options=o.assign({level:f,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:\"\"},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=a.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==l)throw new Error(i[r]);if(t.header&&a.deflateSetHeader(this.strm,t.header),t.dictionary){var n;if(n=\"string\"==typeof t.dictionary?h.string2buf(t.dictionary):\"[object ArrayBuffer]\"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=a.deflateSetDictionary(this.strm,n))!==l)throw new Error(i[r]);this._dict_set=!0}}function n(e,t){var r=new p(t);if(r.push(e,!0),r.err)throw r.msg||i[r.err];return r.result}p.prototype.push=function(e,t){var r,n,i=this.strm,s=this.options.chunkSize;if(this.ended)return!1;n=t===~~t?t:!0===t?4:0,\"string\"==typeof e?i.input=h.string2buf(e):\"[object ArrayBuffer]\"===u.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new o.Buf8(s),i.next_out=0,i.avail_out=s),1!==(r=a.deflate(i,n))&&r!==l)return this.onEnd(r),!(this.ended=!0);0!==i.avail_out&&(0!==i.avail_in||4!==n&&2!==n)||(\"string\"===this.options.to?this.onData(h.buf2binstring(o.shrinkBuf(i.output,i.next_out))):this.onData(o.shrinkBuf(i.output,i.next_out)))}while((0<i.avail_in||0===i.avail_out)&&1!==r);return 4===n?(r=a.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===l):2!==n||(this.onEnd(l),!(i.avail_out=0))},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===l&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=p,r.deflate=n,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,n(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,n(e,t)}},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/deflate\":46,\"./zlib/messages\":51,\"./zlib/zstream\":53}],40:[function(e,t,r){\"use strict\";var c=e(\"./zlib/inflate\"),d=e(\"./utils/common\"),p=e(\"./utils/strings\"),m=e(\"./zlib/constants\"),n=e(\"./zlib/messages\"),i=e(\"./zlib/zstream\"),s=e(\"./zlib/gzheader\"),_=Object.prototype.toString;function a(e){if(!(this instanceof a))return new a(e);this.options=d.assign({chunkSize:16384,windowBits:0,to:\"\"},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var r=c.inflateInit2(this.strm,t.windowBits);if(r!==m.Z_OK)throw new Error(n[r]);this.header=new s,c.inflateGetHeader(this.strm,this.header)}function o(e,t){var r=new a(t);if(r.push(e,!0),r.err)throw r.msg||n[r.err];return r.result}a.prototype.push=function(e,t){var r,n,i,s,a,o,h=this.strm,u=this.options.chunkSize,l=this.options.dictionary,f=!1;if(this.ended)return!1;n=t===~~t?t:!0===t?m.Z_FINISH:m.Z_NO_FLUSH,\"string\"==typeof e?h.input=p.binstring2buf(e):\"[object ArrayBuffer]\"===_.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new d.Buf8(u),h.next_out=0,h.avail_out=u),(r=c.inflate(h,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&l&&(o=\"string\"==typeof l?p.string2buf(l):\"[object ArrayBuffer]\"===_.call(l)?new Uint8Array(l):l,r=c.inflateSetDictionary(this.strm,o)),r===m.Z_BUF_ERROR&&!0===f&&(r=m.Z_OK,f=!1),r!==m.Z_STREAM_END&&r!==m.Z_OK)return this.onEnd(r),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&r!==m.Z_STREAM_END&&(0!==h.avail_in||n!==m.Z_FINISH&&n!==m.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(i=p.utf8border(h.output,h.next_out),s=h.next_out-i,a=p.buf2string(h.output,i),h.next_out=s,h.avail_out=u-s,s&&d.arraySet(h.output,h.output,i,s,0),this.onData(a)):this.onData(d.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(f=!0)}while((0<h.avail_in||0===h.avail_out)&&r!==m.Z_STREAM_END);return r===m.Z_STREAM_END&&(n=m.Z_FINISH),n===m.Z_FINISH?(r=c.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===m.Z_OK):n!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(h.avail_out=0))},a.prototype.onData=function(e){this.chunks.push(e)},a.prototype.onEnd=function(e){e===m.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=a,r.inflate=o,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,o(e,t)},r.ungzip=o},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/constants\":44,\"./zlib/gzheader\":47,\"./zlib/inflate\":49,\"./zlib/messages\":51,\"./zlib/zstream\":53}],41:[function(e,t,r){\"use strict\";var n=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if(\"object\"!=typeof r)throw new TypeError(r+\"must be non-object\");for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){var t,r,n,i,s,a;for(t=n=0,r=e.length;t<r;t++)n+=e[t].length;for(a=new Uint8Array(n),t=i=0,r=e.length;t<r;t++)s=e[t],a.set(s,i),i+=s.length;return a}},s={arraySet:function(e,t,r,n,i){for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,s))},r.setTyped(n)},{}],42:[function(e,t,r){\"use strict\";var h=e(\"./common\"),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var u=new h.Buf8(256),n=0;n<256;n++)u[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;function l(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&i))return String.fromCharCode.apply(null,h.shrinkBuf(e,t));for(var r=\"\",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}u[254]=u[254]=1,r.string2buf=function(e){var t,r,n,i,s,a=e.length,o=0;for(i=0;i<a;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new h.Buf8(o),i=s=0;s<o;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[s++]=r:(r<2048?t[s++]=192|r>>>6:(r<65536?t[s++]=224|r>>>12:(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63),t[s++]=128|r>>>6&63),t[s++]=128|63&r);return t},r.buf2binstring=function(e){return l(e,e.length)},r.binstring2buf=function(e){for(var t=new h.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,n,i,s,a=t||e.length,o=new Array(2*a);for(r=n=0;r<a;)if((i=e[r++])<128)o[n++]=i;else if(4<(s=u[i]))o[n++]=65533,r+=s-1;else{for(i&=2===s?31:3===s?15:7;1<s&&r<a;)i=i<<6|63&e[r++],s--;1<s?o[n++]=65533:i<65536?o[n++]=i:(i-=65536,o[n++]=55296|i>>10&1023,o[n++]=56320|1023&i)}return l(o,n)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+u[e[r]]>t?r:t}},{\"./common\":41}],43:[function(e,t,r){\"use strict\";t.exports=function(e,t,r,n){for(var i=65535&e|0,s=e>>>16&65535|0,a=0;0!==r;){for(r-=a=2e3<r?2e3:r;s=s+(i=i+t[n++]|0)|0,--a;);i%=65521,s%=65521}return i|s<<16|0}},{}],44:[function(e,t,r){\"use strict\";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){\"use strict\";var o=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,n){var i=o,s=n+r;e^=-1;for(var a=n;a<s;a++)e=e>>>8^i[255&(e^t[a])];return-1^e}},{}],46:[function(e,t,r){\"use strict\";var h,c=e(\"../utils/common\"),u=e(\"./trees\"),d=e(\"./adler32\"),p=e(\"./crc32\"),n=e(\"./messages\"),l=0,f=4,m=0,_=-2,g=-1,b=4,i=2,v=8,y=9,s=286,a=30,o=19,w=2*s+1,k=15,x=3,S=258,z=S+x+1,C=42,E=113,A=1,I=2,O=3,B=4;function R(e,t){return e.msg=n[t],t}function T(e){return(e<<1)-(4<e?9:0)}function D(e){for(var t=e.length;0<=--t;)e[t]=0}function F(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(c.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function N(e,t){u._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,F(e.strm)}function U(e,t){e.pending_buf[e.pending++]=t}function P(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function L(e,t){var r,n,i=e.max_chain_length,s=e.strstart,a=e.prev_length,o=e.nice_match,h=e.strstart>e.w_size-z?e.strstart-(e.w_size-z):0,u=e.window,l=e.w_mask,f=e.prev,c=e.strstart+S,d=u[s+a-1],p=u[s+a];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(u[(r=t)+a]===p&&u[r+a-1]===d&&u[r]===u[s]&&u[++r]===u[s+1]){s+=2,r++;do{}while(u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&s<c);if(n=S-(c-s),s=c-S,a<n){if(e.match_start=t,o<=(a=n))break;d=u[s+a-1],p=u[s+a]}}}while((t=f[t&l])>h&&0!=--i);return a<=e.lookahead?a:e.lookahead}function j(e){var t,r,n,i,s,a,o,h,u,l,f=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=f+(f-z)){for(c.arraySet(e.window,e.window,f,f,0),e.match_start-=f,e.strstart-=f,e.block_start-=f,t=r=e.hash_size;n=e.head[--t],e.head[t]=f<=n?n-f:0,--r;);for(t=r=f;n=e.prev[--t],e.prev[t]=f<=n?n-f:0,--r;);i+=f}if(0===e.strm.avail_in)break;if(a=e.strm,o=e.window,h=e.strstart+e.lookahead,u=i,l=void 0,l=a.avail_in,u<l&&(l=u),r=0===l?0:(a.avail_in-=l,c.arraySet(o,a.input,a.next_in,l,h),1===a.state.wrap?a.adler=d(a.adler,o,l,h):2===a.state.wrap&&(a.adler=p(a.adler,o,l,h)),a.next_in+=l,a.total_in+=l,l),e.lookahead+=r,e.lookahead+e.insert>=x)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+x-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<x)););}while(e.lookahead<z&&0!==e.strm.avail_in)}function Z(e,t){for(var r,n;;){if(e.lookahead<z){if(j(e),e.lookahead<z&&t===l)return A;if(0===e.lookahead)break}if(r=0,e.lookahead>=x&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-z&&(e.match_length=L(e,r)),e.match_length>=x)if(n=u._tr_tally(e,e.strstart-e.match_start,e.match_length-x),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=x){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=e.strstart<x-1?e.strstart:x-1,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}function W(e,t){for(var r,n,i;;){if(e.lookahead<z){if(j(e),e.lookahead<z&&t===l)return A;if(0===e.lookahead)break}if(r=0,e.lookahead>=x&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=x-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-z&&(e.match_length=L(e,r),e.match_length<=5&&(1===e.strategy||e.match_length===x&&4096<e.strstart-e.match_start)&&(e.match_length=x-1)),e.prev_length>=x&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-x,n=u._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-x),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=x-1,e.strstart++,n&&(N(e,!1),0===e.strm.avail_out))return A}else if(e.match_available){if((n=u._tr_tally(e,0,e.window[e.strstart-1]))&&N(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return A}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=u._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<x-1?e.strstart:x-1,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}function M(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*w),this.dyn_dtree=new c.Buf16(2*(2*a+1)),this.bl_tree=new c.Buf16(2*(2*o+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(k+1),this.heap=new c.Buf16(2*s+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*s+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=i,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?C:E,e.adler=2===t.wrap?0:1,t.last_flush=l,u._tr_init(t),m):R(e,_)}function K(e){var t=G(e);return t===m&&function(e){e.window_size=2*e.w_size,D(e.head),e.max_lazy_match=h[e.level].max_lazy,e.good_match=h[e.level].good_length,e.nice_match=h[e.level].nice_length,e.max_chain_length=h[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=x-1,e.match_available=0,e.ins_h=0}(e.state),t}function Y(e,t,r,n,i,s){if(!e)return _;var a=1;if(t===g&&(t=6),n<0?(a=0,n=-n):15<n&&(a=2,n-=16),i<1||y<i||r!==v||n<8||15<n||t<0||9<t||s<0||b<s)return R(e,_);8===n&&(n=9);var o=new H;return(e.state=o).strm=e,o.wrap=a,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+x-1)/x),o.window=new c.Buf8(2*o.w_size),o.head=new c.Buf16(o.hash_size),o.prev=new c.Buf16(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new c.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=s,o.method=r,K(e)}h=[new M(0,0,0,0,function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(j(e),0===e.lookahead&&t===l)return A;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,N(e,!1),0===e.strm.avail_out))return A;if(e.strstart-e.block_start>=e.w_size-z&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===f?(N(e,!0),0===e.strm.avail_out?O:B):(e.strstart>e.block_start&&(N(e,!1),e.strm.avail_out),A)}),new M(4,4,8,4,Z),new M(4,5,16,8,Z),new M(4,6,32,32,Z),new M(4,4,16,16,W),new M(8,16,32,32,W),new M(8,16,128,128,W),new M(8,32,128,256,W),new M(32,128,258,1024,W),new M(32,258,258,4096,W)],r.deflateInit=function(e,t){return Y(e,t,v,15,8,0)},r.deflateInit2=Y,r.deflateReset=K,r.deflateResetKeep=G,r.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?_:(e.state.gzhead=t,m):_},r.deflate=function(e,t){var r,n,i,s;if(!e||!e.state||5<t||t<0)return e?R(e,_):_;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||666===n.status&&t!==f)return R(e,0===e.avail_out?-5:_);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===C)if(2===n.wrap)e.adler=0,U(n,31),U(n,139),U(n,8),n.gzhead?(U(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),U(n,255&n.gzhead.time),U(n,n.gzhead.time>>8&255),U(n,n.gzhead.time>>16&255),U(n,n.gzhead.time>>24&255),U(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),U(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(U(n,255&n.gzhead.extra.length),U(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=p(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(U(n,0),U(n,0),U(n,0),U(n,0),U(n,0),U(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),U(n,3),n.status=E);else{var a=v+(n.w_bits-8<<4)<<8;a|=(2<=n.strategy||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(a|=32),a+=31-a%31,n.status=E,P(n,a),0!==n.strstart&&(P(n,e.adler>>>16),P(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),F(e),i=n.pending,n.pending!==n.pending_buf_size));)U(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),F(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,U(n,s)}while(0!==s);n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),0===s&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),F(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,U(n,s)}while(0!==s);n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),0===s&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&F(e),n.pending+2<=n.pending_buf_size&&(U(n,255&e.adler),U(n,e.adler>>8&255),e.adler=0,n.status=E)):n.status=E),0!==n.pending){if(F(e),0===e.avail_out)return n.last_flush=-1,m}else if(0===e.avail_in&&T(t)<=T(r)&&t!==f)return R(e,-5);if(666===n.status&&0!==e.avail_in)return R(e,-5);if(0!==e.avail_in||0!==n.lookahead||t!==l&&666!==n.status){var o=2===n.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(j(e),0===e.lookahead)){if(t===l)return A;break}if(e.match_length=0,r=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}(n,t):3===n.strategy?function(e,t){for(var r,n,i,s,a=e.window;;){if(e.lookahead<=S){if(j(e),e.lookahead<=S&&t===l)return A;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=x&&0<e.strstart&&(n=a[i=e.strstart-1])===a[++i]&&n===a[++i]&&n===a[++i]){s=e.strstart+S;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<s);e.match_length=S-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=x?(r=u._tr_tally(e,1,e.match_length-x),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}(n,t):h[n.level].func(n,t);if(o!==O&&o!==B||(n.status=666),o===A||o===O)return 0===e.avail_out&&(n.last_flush=-1),m;if(o===I&&(1===t?u._tr_align(n):5!==t&&(u._tr_stored_block(n,0,0,!1),3===t&&(D(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),F(e),0===e.avail_out))return n.last_flush=-1,m}return t!==f?m:n.wrap<=0?1:(2===n.wrap?(U(n,255&e.adler),U(n,e.adler>>8&255),U(n,e.adler>>16&255),U(n,e.adler>>24&255),U(n,255&e.total_in),U(n,e.total_in>>8&255),U(n,e.total_in>>16&255),U(n,e.total_in>>24&255)):(P(n,e.adler>>>16),P(n,65535&e.adler)),F(e),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?m:1)},r.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==C&&69!==t&&73!==t&&91!==t&&103!==t&&t!==E&&666!==t?R(e,_):(e.state=null,t===E?R(e,-3):m):_},r.deflateSetDictionary=function(e,t){var r,n,i,s,a,o,h,u,l=t.length;if(!e||!e.state)return _;if(2===(s=(r=e.state).wrap)||1===s&&r.status!==C||r.lookahead)return _;for(1===s&&(e.adler=d(e.adler,t,l,0)),r.wrap=0,l>=r.w_size&&(0===s&&(D(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new c.Buf8(r.w_size),c.arraySet(u,t,l-r.w_size,r.w_size,0),t=u,l=r.w_size),a=e.avail_in,o=e.next_in,h=e.input,e.avail_in=l,e.next_in=0,e.input=t,j(r);r.lookahead>=x;){for(n=r.strstart,i=r.lookahead-(x-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+x-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++,--i;);r.strstart=n,r.lookahead=x-1,j(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=x-1,r.match_available=0,e.next_in=o,e.input=h,e.avail_in=a,r.wrap=s,m},r.deflateInfo=\"pako deflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./messages\":51,\"./trees\":52}],47:[function(e,t,r){\"use strict\";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){\"use strict\";t.exports=function(e,t){var r,n,i,s,a,o,h,u,l,f,c,d,p,m,_,g,b,v,y,w,k,x,S,z,C;r=e.state,n=e.next_in,z=e.input,i=n+(e.avail_in-5),s=e.next_out,C=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),h=r.dmax,u=r.wsize,l=r.whave,f=r.wnext,c=r.window,d=r.hold,p=r.bits,m=r.lencode,_=r.distcode,g=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;e:do{p<15&&(d+=z[n++]<<p,p+=8,d+=z[n++]<<p,p+=8),v=m[d&g];t:for(;;){if(d>>>=y=v>>>24,p-=y,0===(y=v>>>16&255))C[s++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=m[(65535&v)+(d&(1<<y)-1)];continue t}if(32&y){r.mode=12;break e}e.msg=\"invalid literal/length code\",r.mode=30;break e}w=65535&v,(y&=15)&&(p<y&&(d+=z[n++]<<p,p+=8),w+=d&(1<<y)-1,d>>>=y,p-=y),p<15&&(d+=z[n++]<<p,p+=8,d+=z[n++]<<p,p+=8),v=_[d&b];r:for(;;){if(d>>>=y=v>>>24,p-=y,!(16&(y=v>>>16&255))){if(0==(64&y)){v=_[(65535&v)+(d&(1<<y)-1)];continue r}e.msg=\"invalid distance code\",r.mode=30;break e}if(k=65535&v,p<(y&=15)&&(d+=z[n++]<<p,(p+=8)<y&&(d+=z[n++]<<p,p+=8)),h<(k+=d&(1<<y)-1)){e.msg=\"invalid distance too far back\",r.mode=30;break e}if(d>>>=y,p-=y,(y=s-a)<k){if(l<(y=k-y)&&r.sane){e.msg=\"invalid distance too far back\",r.mode=30;break e}if(S=c,(x=0)===f){if(x+=u-y,y<w){for(w-=y;C[s++]=c[x++],--y;);x=s-k,S=C}}else if(f<y){if(x+=u+f-y,(y-=f)<w){for(w-=y;C[s++]=c[x++],--y;);if(x=0,f<w){for(w-=y=f;C[s++]=c[x++],--y;);x=s-k,S=C}}}else if(x+=f-y,y<w){for(w-=y;C[s++]=c[x++],--y;);x=s-k,S=C}for(;2<w;)C[s++]=S[x++],C[s++]=S[x++],C[s++]=S[x++],w-=3;w&&(C[s++]=S[x++],1<w&&(C[s++]=S[x++]))}else{for(x=s-k;C[s++]=C[x++],C[s++]=C[x++],C[s++]=C[x++],2<(w-=3););w&&(C[s++]=C[x++],1<w&&(C[s++]=C[x++]))}break}}break}}while(n<i&&s<o);n-=w=p>>3,d&=(1<<(p-=w<<3))-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=s<o?o-s+257:257-(s-o),r.hold=d,r.bits=p}},{}],49:[function(e,t,r){\"use strict\";var I=e(\"../utils/common\"),O=e(\"./adler32\"),B=e(\"./crc32\"),R=e(\"./inffast\"),T=e(\"./inftrees\"),D=1,F=2,N=0,U=-2,P=1,n=852,i=592;function L(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function s(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new I.Buf16(320),this.work=new I.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg=\"\",t.wrap&&(e.adler=1&t.wrap),t.mode=P,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new I.Buf32(n),t.distcode=t.distdyn=new I.Buf32(i),t.sane=1,t.back=-1,N):U}function o(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,a(e)):U}function h(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?U:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,o(e))):U}function u(e,t){var r,n;return e?(n=new s,(e.state=n).window=null,(r=h(e,t))!==N&&(e.state=null),r):U}var l,f,c=!0;function j(e){if(c){var t;for(l=new I.Buf32(512),f=new I.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(T(D,e.lens,0,288,l,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;T(F,e.lens,0,32,f,0,e.work,{bits:5}),c=!1}e.lencode=l,e.lenbits=9,e.distcode=f,e.distbits=5}function Z(e,t,r,n){var i,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new I.Buf8(s.wsize)),n>=s.wsize?(I.arraySet(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(n<(i=s.wsize-s.wnext)&&(i=n),I.arraySet(s.window,t,r-n,i,s.wnext),(n-=i)?(I.arraySet(s.window,t,r-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}r.inflateReset=o,r.inflateReset2=h,r.inflateResetKeep=a,r.inflateInit=function(e){return u(e,15)},r.inflateInit2=u,r.inflate=function(e,t){var r,n,i,s,a,o,h,u,l,f,c,d,p,m,_,g,b,v,y,w,k,x,S,z,C=0,E=new I.Buf8(4),A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return U;12===(r=e.state).mode&&(r.mode=13),a=e.next_out,i=e.output,h=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,u=r.hold,l=r.bits,f=o,c=h,x=N;e:for(;;)switch(r.mode){case P:if(0===r.wrap){r.mode=13;break}for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(2&r.wrap&&35615===u){E[r.check=0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0),l=u=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg=\"incorrect header check\",r.mode=30;break}if(8!=(15&u)){e.msg=\"unknown compression method\",r.mode=30;break}if(l-=4,k=8+(15&(u>>>=4)),0===r.wbits)r.wbits=k;else if(k>r.wbits){e.msg=\"invalid window size\",r.mode=30;break}r.dmax=1<<k,e.adler=r.check=1,r.mode=512&u?10:12,l=u=0;break;case 2:for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(r.flags=u,8!=(255&r.flags)){e.msg=\"unknown compression method\",r.mode=30;break}if(57344&r.flags){e.msg=\"unknown header flags set\",r.mode=30;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=3;case 3:for(;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.head&&(r.head.time=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,r.check=B(r.check,E,4,0)),l=u=0,r.mode=4;case 4:for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=5;case 5:if(1024&r.flags){for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(o<(d=r.length)&&(d=o),d&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),I.arraySet(r.head.extra,n,s,d,k)),512&r.flags&&(r.check=B(r.check,n,d,s)),o-=d,s+=d,r.length-=d),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break e;for(d=0;k=n[s+d++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k)),k&&d<o;);if(512&r.flags&&(r.check=B(r.check,n,d,s)),o-=d,s+=d,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===o)break e;for(d=0;k=n[s+d++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k)),k&&d<o;);if(512&r.flags&&(r.check=B(r.check,n,d,s)),o-=d,s+=d,k)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(u!==(65535&r.check)){e.msg=\"header crc mismatch\",r.mode=30;break}l=u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}e.adler=r.check=L(u),l=u=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=a,e.avail_out=h,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=l,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){u>>>=7&l,l-=7&l,r.mode=27;break}for(;l<3;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}switch(r.last=1&u,l-=1,3&(u>>>=1)){case 0:r.mode=14;break;case 1:if(j(r),r.mode=20,6!==t)break;u>>>=2,l-=2;break e;case 2:r.mode=17;break;case 3:e.msg=\"invalid block type\",r.mode=30}u>>>=2,l-=2;break;case 14:for(u>>>=7&l,l-=7&l;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){e.msg=\"invalid stored block lengths\",r.mode=30;break}if(r.length=65535&u,l=u=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(d=r.length){if(o<d&&(d=o),h<d&&(d=h),0===d)break e;I.arraySet(i,n,s,d,a),o-=d,s+=d,h-=d,a+=d,r.length-=d;break}r.mode=12;break;case 17:for(;l<14;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(r.nlen=257+(31&u),u>>>=5,l-=5,r.ndist=1+(31&u),u>>>=5,l-=5,r.ncode=4+(15&u),u>>>=4,l-=4,286<r.nlen||30<r.ndist){e.msg=\"too many length or distance symbols\",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;l<3;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.lens[A[r.have++]]=7&u,u>>>=3,l-=3}for(;r.have<19;)r.lens[A[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,S={bits:r.lenbits},x=T(0,r.lens,0,19,r.lencode,0,r.work,S),r.lenbits=S.bits,x){e.msg=\"invalid code lengths set\",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(b<16)u>>>=_,l-=_,r.lens[r.have++]=b;else{if(16===b){for(z=_+2;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(u>>>=_,l-=_,0===r.have){e.msg=\"invalid bit length repeat\",r.mode=30;break}k=r.lens[r.have-1],d=3+(3&u),u>>>=2,l-=2}else if(17===b){for(z=_+3;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}l-=_,k=0,d=3+(7&(u>>>=_)),u>>>=3,l-=3}else{for(z=_+7;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}l-=_,k=0,d=11+(127&(u>>>=_)),u>>>=7,l-=7}if(r.have+d>r.nlen+r.ndist){e.msg=\"invalid bit length repeat\",r.mode=30;break}for(;d--;)r.lens[r.have++]=k}}if(30===r.mode)break;if(0===r.lens[256]){e.msg=\"invalid code -- missing end-of-block\",r.mode=30;break}if(r.lenbits=9,S={bits:r.lenbits},x=T(D,r.lens,0,r.nlen,r.lencode,0,r.work,S),r.lenbits=S.bits,x){e.msg=\"invalid literal/lengths set\",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,S={bits:r.distbits},x=T(F,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,S),r.distbits=S.bits,x){e.msg=\"invalid distances set\",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(6<=o&&258<=h){e.next_out=a,e.avail_out=h,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=l,R(e,c),a=e.next_out,i=e.output,h=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,u=r.hold,l=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(g&&0==(240&g)){for(v=_,y=g,w=b;g=(C=r.lencode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,r.length=b,0===g){r.mode=26;break}if(32&g){r.back=-1,r.mode=12;break}if(64&g){e.msg=\"invalid literal/length code\",r.mode=30;break}r.extra=15&g,r.mode=22;case 22:if(r.extra){for(z=r.extra;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;g=(C=r.distcode[u&(1<<r.distbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(0==(240&g)){for(v=_,y=g,w=b;g=(C=r.distcode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,64&g){e.msg=\"invalid distance code\",r.mode=30;break}r.offset=b,r.extra=15&g,r.mode=24;case 24:if(r.extra){for(z=r.extra;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg=\"invalid distance too far back\",r.mode=30;break}r.mode=25;case 25:if(0===h)break e;if(d=c-h,r.offset>d){if((d=r.offset-d)>r.whave&&r.sane){e.msg=\"invalid distance too far back\",r.mode=30;break}p=d>r.wnext?(d-=r.wnext,r.wsize-d):r.wnext-d,d>r.length&&(d=r.length),m=r.window}else m=i,p=a-r.offset,d=r.length;for(h<d&&(d=h),h-=d,r.length-=d;i[a++]=m[p++],--d;);0===r.length&&(r.mode=21);break;case 26:if(0===h)break e;i[a++]=r.length,h--,r.mode=21;break;case 27:if(r.wrap){for(;l<32;){if(0===o)break e;o--,u|=n[s++]<<l,l+=8}if(c-=h,e.total_out+=c,r.total+=c,c&&(e.adler=r.check=r.flags?B(r.check,i,c,a-c):O(r.check,i,c,a-c)),c=h,(r.flags?u:L(u))!==r.check){e.msg=\"incorrect data check\",r.mode=30;break}l=u=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(u!==(4294967295&r.total)){e.msg=\"incorrect length check\",r.mode=30;break}l=u=0}r.mode=29;case 29:x=1;break e;case 30:x=-3;break e;case 31:return-4;case 32:default:return U}return e.next_out=a,e.avail_out=h,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=l,(r.wsize||c!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&Z(e,e.output,e.next_out,c-e.avail_out)?(r.mode=31,-4):(f-=e.avail_in,c-=e.avail_out,e.total_in+=f,e.total_out+=c,r.total+=c,r.wrap&&c&&(e.adler=r.check=r.flags?B(r.check,i,c,e.next_out-c):O(r.check,i,c,e.next_out-c)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==f&&0===c||4===t)&&x===N&&(x=-5),x)},r.inflateEnd=function(e){if(!e||!e.state)return U;var t=e.state;return t.window&&(t.window=null),e.state=null,N},r.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?U:((r.head=t).done=!1,N):U},r.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?U:11===r.mode&&O(1,t,n,0)!==r.check?-3:Z(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,N):U},r.inflateInfo=\"pako inflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./inffast\":48,\"./inftrees\":50}],50:[function(e,t,r){\"use strict\";var D=e(\"../utils/common\"),F=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],N=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],U=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],P=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,n,i,s,a,o){var h,u,l,f,c,d,p,m,_,g=o.bits,b=0,v=0,y=0,w=0,k=0,x=0,S=0,z=0,C=0,E=0,A=null,I=0,O=new D.Buf16(16),B=new D.Buf16(16),R=null,T=0;for(b=0;b<=15;b++)O[b]=0;for(v=0;v<n;v++)O[t[r+v]]++;for(k=g,w=15;1<=w&&0===O[w];w--);if(w<k&&(k=w),0===w)return i[s++]=20971520,i[s++]=20971520,o.bits=1,0;for(y=1;y<w&&0===O[y];y++);for(k<y&&(k=y),b=z=1;b<=15;b++)if(z<<=1,(z-=O[b])<0)return-1;if(0<z&&(0===e||1!==w))return-1;for(B[1]=0,b=1;b<15;b++)B[b+1]=B[b]+O[b];for(v=0;v<n;v++)0!==t[r+v]&&(a[B[t[r+v]]++]=v);if(d=0===e?(A=R=a,19):1===e?(A=F,I-=257,R=N,T-=257,256):(A=U,R=P,-1),b=y,c=s,S=v=E=0,l=-1,f=(C=1<<(x=k))-1,1===e&&852<C||2===e&&592<C)return 1;for(;;){for(p=b-S,_=a[v]<d?(m=0,a[v]):a[v]>d?(m=R[T+a[v]],A[I+a[v]]):(m=96,0),h=1<<b-S,y=u=1<<x;i[c+(E>>S)+(u-=h)]=p<<24|m<<16|_|0,0!==u;);for(h=1<<b-1;E&h;)h>>=1;if(0!==h?(E&=h-1,E+=h):E=0,v++,0==--O[b]){if(b===w)break;b=t[r+a[v]]}if(k<b&&(E&f)!==l){for(0===S&&(S=k),c+=y,z=1<<(x=b-S);x+S<w&&!((z-=O[x+S])<=0);)x++,z<<=1;if(C+=1<<x,1===e&&852<C||2===e&&592<C)return 1;i[l=E&f]=k<<24|x<<16|c-s|0}}return 0!==E&&(i[c+E]=b-S<<24|64<<16|0),o.bits=k,0}},{\"../utils/common\":41}],51:[function(e,t,r){\"use strict\";t.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},{}],52:[function(e,t,r){\"use strict\";var i=e(\"../utils/common\"),o=0,h=1;function n(e){for(var t=e.length;0<=--t;)e[t]=0}var s=0,a=29,u=256,l=u+1+a,f=30,c=19,_=2*l+1,g=15,d=16,p=7,m=256,b=16,v=17,y=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(l+2));n(z);var C=new Array(2*f);n(C);var E=new Array(512);n(E);var A=new Array(256);n(A);var I=new Array(a);n(I);var O,B,R,T=new Array(f);function D(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function F(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function N(e){return e<256?E[e]:E[256+(e>>>7)]}function U(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function P(e,t,r){e.bi_valid>d-r?(e.bi_buf|=t<<e.bi_valid&65535,U(e,e.bi_buf),e.bi_buf=t>>d-e.bi_valid,e.bi_valid+=r-d):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function L(e,t,r){P(e,r[2*t],r[2*t+1])}function j(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1}function Z(e,t,r){var n,i,s=new Array(g+1),a=0;for(n=1;n<=g;n++)s[n]=a=a+r[n-1]<<1;for(i=0;i<=t;i++){var o=e[2*i+1];0!==o&&(e[2*i]=j(s[o]++,o))}}function W(e){var t;for(t=0;t<l;t++)e.dyn_ltree[2*t]=0;for(t=0;t<f;t++)e.dyn_dtree[2*t]=0;for(t=0;t<c;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*m]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function M(e){8<e.bi_valid?U(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function H(e,t,r,n){var i=2*t,s=2*r;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]}function G(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&H(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!H(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function K(e,t,r){var n,i,s,a,o=0;if(0!==e.last_lit)for(;n=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===n?L(e,i,t):(L(e,(s=A[i])+u+1,t),0!==(a=w[s])&&P(e,i-=I[s],a),L(e,s=N(--n),r),0!==(a=k[s])&&P(e,n-=T[s],a)),o<e.last_lit;);L(e,m,t)}function Y(e,t){var r,n,i,s=t.dyn_tree,a=t.stat_desc.static_tree,o=t.stat_desc.has_stree,h=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=_,r=0;r<h;r++)0!==s[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):s[2*r+1]=0;for(;e.heap_len<2;)s[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,o&&(e.static_len-=a[2*i+1]);for(t.max_code=u,r=e.heap_len>>1;1<=r;r--)G(e,s,r);for(i=h;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],G(e,s,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,s[2*i]=s[2*r]+s[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,s[2*r+1]=s[2*n+1]=i,e.heap[1]=i++,G(e,s,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,s,a,o,h=t.dyn_tree,u=t.max_code,l=t.stat_desc.static_tree,f=t.stat_desc.has_stree,c=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(s=0;s<=g;s++)e.bl_count[s]=0;for(h[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<_;r++)p<(s=h[2*h[2*(n=e.heap[r])+1]+1]+1)&&(s=p,m++),h[2*n+1]=s,u<n||(e.bl_count[s]++,a=0,d<=n&&(a=c[n-d]),o=h[2*n],e.opt_len+=o*(s+a),f&&(e.static_len+=o*(l[2*n+1]+a)));if(0!==m){do{for(s=p-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[p]--,m-=2}while(0<m);for(s=p;0!==s;s--)for(n=e.bl_count[s];0!==n;)u<(i=e.heap[--r])||(h[2*i+1]!==s&&(e.opt_len+=(s-h[2*i+1])*h[2*i],h[2*i+1]=s),n--)}}(e,t),Z(s,u,e.bl_count)}function X(e,t,r){var n,i,s=-1,a=t[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=t[2*(n+1)+1],++o<h&&i===a||(o<u?e.bl_tree[2*i]+=o:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[2*b]++):o<=10?e.bl_tree[2*v]++:e.bl_tree[2*y]++,s=i,u=(o=0)===a?(h=138,3):i===a?(h=6,3):(h=7,4))}function V(e,t,r){var n,i,s=-1,a=t[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),n=0;n<=r;n++)if(i=a,a=t[2*(n+1)+1],!(++o<h&&i===a)){if(o<u)for(;L(e,i,e.bl_tree),0!=--o;);else 0!==i?(i!==s&&(L(e,i,e.bl_tree),o--),L(e,b,e.bl_tree),P(e,o-3,2)):o<=10?(L(e,v,e.bl_tree),P(e,o-3,3)):(L(e,y,e.bl_tree),P(e,o-11,7));s=i,u=(o=0)===a?(h=138,3):i===a?(h=6,3):(h=7,4)}}n(T);var q=!1;function J(e,t,r,n){P(e,(s<<1)+(n?1:0),3),function(e,t,r,n){M(e),n&&(U(e,r),U(e,~r)),i.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}r._tr_init=function(e){q||(function(){var e,t,r,n,i,s=new Array(g+1);for(n=r=0;n<a-1;n++)for(I[n]=r,e=0;e<1<<w[n];e++)A[r++]=n;for(A[r-1]=n,n=i=0;n<16;n++)for(T[n]=i,e=0;e<1<<k[n];e++)E[i++]=n;for(i>>=7;n<f;n++)for(T[n]=i<<7,e=0;e<1<<k[n]-7;e++)E[256+i++]=n;for(t=0;t<=g;t++)s[t]=0;for(e=0;e<=143;)z[2*e+1]=8,e++,s[8]++;for(;e<=255;)z[2*e+1]=9,e++,s[9]++;for(;e<=279;)z[2*e+1]=7,e++,s[7]++;for(;e<=287;)z[2*e+1]=8,e++,s[8]++;for(Z(z,l+1,s),e=0;e<f;e++)C[2*e+1]=5,C[2*e]=j(e,5);O=new D(z,w,u+1,l,g),B=new D(C,k,0,f,g),R=new D(new Array(0),x,0,c,p)}(),q=!0),e.l_desc=new F(e.dyn_ltree,O),e.d_desc=new F(e.dyn_dtree,B),e.bl_desc=new F(e.bl_tree,R),e.bi_buf=0,e.bi_valid=0,W(e)},r._tr_stored_block=J,r._tr_flush_block=function(e,t,r,n){var i,s,a=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return h;for(t=32;t<u;t++)if(0!==e.dyn_ltree[2*t])return h;return o}(e)),Y(e,e.l_desc),Y(e,e.d_desc),a=function(e){var t;for(X(e,e.dyn_ltree,e.l_desc.max_code),X(e,e.dyn_dtree,e.d_desc.max_code),Y(e,e.bl_desc),t=c-1;3<=t&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=i&&(i=s)):i=s=r+5,r+4<=i&&-1!==t?J(e,t,r,n):4===e.strategy||s===i?(P(e,2+(n?1:0),3),K(e,z,C)):(P(e,4+(n?1:0),3),function(e,t,r,n){var i;for(P(e,t-257,5),P(e,r-1,5),P(e,n-4,4),i=0;i<n;i++)P(e,e.bl_tree[2*S[i]+1],3);V(e,e.dyn_ltree,t-1),V(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),K(e,e.dyn_ltree,e.dyn_dtree)),W(e),n&&M(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(A[r]+u+1)]++,e.dyn_dtree[2*N(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){P(e,2,3),L(e,m,z),function(e){16===e.bi_valid?(U(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{\"../utils/common\":41}],53:[function(e,t,r){\"use strict\";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(r,n){\"use strict\";if(!r.setImmediate){var i,s,t,a,o=1,h={},u=!1,l=r.document,e=Object.getPrototypeOf&&Object.getPrototypeOf(r);e=e&&e.setTimeout?e:r,i=\"[object process]\"==={}.toString.call(r.process)?function(e){process.nextTick(function(){c(e)})}:function(){if(r.postMessage&&!r.importScripts){var e=!0,t=r.onmessage;return r.onmessage=function(){e=!1},r.postMessage(\"\",\"*\"),r.onmessage=t,e}}()?(a=\"setImmediate$\"+Math.random()+\"$\",r.addEventListener?r.addEventListener(\"message\",d,!1):r.attachEvent(\"onmessage\",d),function(e){r.postMessage(a+e,\"*\")}):r.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){c(e.data)},function(e){t.port2.postMessage(e)}):l&&\"onreadystatechange\"in l.createElement(\"script\")?(s=l.documentElement,function(e){var t=l.createElement(\"script\");t.onreadystatechange=function(){c(e),t.onreadystatechange=null,s.removeChild(t),t=null},s.appendChild(t)}):function(e){setTimeout(c,0,e)},e.setImmediate=function(e){\"function\"!=typeof e&&(e=new Function(\"\"+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return h[o]=n,i(o),o++},e.clearImmediate=f}function f(e){delete h[e]}function c(e){if(u)setTimeout(c,0,e);else{var t=h[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{f(e),u=!1}}}}function d(e){e.source===r&&\"string\"==typeof e.data&&0===e.data.indexOf(a)&&c(+e.data.slice(a.length))}}(\"undefined\"==typeof self?void 0===e?this:e:self)}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}]},{},[10])(10)});"],"names":["makeMap","str","map","key","val","EMPTY_OBJ","EMPTY_ARR","NOOP","NO","isOn","isModelListener","extend","remove","arr","el","i","hasOwnProperty","hasOwn","isArray","isMap","toTypeString","isSet","isDate","isFunction","isString","isSymbol","isObject","isPromise","objectToString","value","toRawType","isPlainObject","isIntegerKey","isReservedProp","isBuiltInDirective","cacheStringFunction","fn","cache","camelizeRE","camelize","c","hyphenateRE","hyphenate","capitalize","toHandlerKey","hasChanged","oldValue","invokeArrayFns","fns","arg","def","obj","writable","looseToNumber","n","_globalThis","getGlobalThis","normalizeStyle","res","item","normalized","parseStringStyle","listDelimiterRE","propertyDelimiterRE","styleCommentRE","cssText","ret","tmp","normalizeClass","name","HTML_TAGS","SVG_TAGS","MATH_TAGS","isHTMLTag","isSVGTag","isMathMLTag","specialBooleanAttrs","isSpecialBooleanAttr","includeBooleanAttr","looseCompareArrays","a","b","equal","looseEqual","aValidType","bValidType","aKeysCount","bKeysCount","aHasKey","bHasKey","looseIndexOf","isRef","toDisplayString","replacer","_key","entries","val2","stringifySymbol","v","_a","warn","msg","args","activeEffectScope","EffectScope","detached","l","currentEffectScope","fromParent","last","effectScope","getCurrentScope","onScopeDispose","failSilently","activeSub","pausedQueueEffects","ReactiveEffect","batch","cleanupEffect","prepareDeps","prevEffect","prevShouldTrack","shouldTrack","cleanupDeps","link","removeSub","isDirty","batchDepth","batchedSub","batchedComputed","sub","isComputed","startBatch","endBatch","next","error","err","head","tail","prev","removeDep","refreshComputed","computed","globalVersion","dep","prevSub","soft","nextSub","prevDep","nextDep","trackStack","pauseTracking","resetTracking","e","cleanup","Link","Dep","debugInfo","addSub","currentTail","targetMap","ITERATE_KEY","MAP_KEY_ITERATE_KEY","ARRAY_ITERATE_KEY","track","target","type","depsMap","trigger","newValue","oldTarget","run","targetIsArray","isArrayIndex","newLength","key2","getDepFromReactive","object","depMap","reactiveReadArray","array","raw","toRaw","isShallow","toReactive","shallowReadArray","toWrapped","isReadonly","isReactive","toReadonly","arrayInstrumentations","iterator","x","thisArg","apply","searchProxy","separator","noTracking","reduce","comparer","self","method","wrapValue","iter","result","arrayProto","wrappedRetFn","needsWrap","methodFn","result2","wrappedFn","index","acc","isProxy","isNonTrackableKeys","builtInSymbols","BaseReactiveHandler","_isReadonly","_isShallow","receiver","isReadonly2","isShallow2","shallowReadonlyMap","readonlyMap","shallowReactiveMap","reactiveMap","readonly","reactive","MutableReactiveHandler","isArrayWithIntegerKey","isOldValueReadonly","hadKey","ReadonlyReactiveHandler","mutableHandlers","readonlyHandlers","shallowReactiveHandlers","shallowReadonlyHandlers","toShallow","getProto","createIterableMethod","rawTarget","targetIsMap","isPair","isKeyOnly","innerIterator","wrap","done","createReadonlyMethod","createInstrumentations","shallow","instrumentations","rawKey","has","callback","observed","get","checkIdentityKeys","hadItems","createInstrumentationGetter","mutableCollectionHandlers","shallowCollectionHandlers","readonlyCollectionHandlers","shallowReadonlyCollectionHandlers","targetTypeMap","rawType","getTargetType","createReactiveObject","shallowReactive","shallowReadonly","baseHandlers","collectionHandlers","proxyMap","targetType","existingProxy","proxy","markRaw","r","ref","createRef","rawValue","RefImpl","useDirectValue","unref","ref2","shallowUnwrapHandlers","proxyRefs","objectWithRefs","toRefs","propertyToRef","ObjectRefImpl","_object","_defaultValue","newVal","nestedRef","GetterRefImpl","_getter","toRef","source","defaultValue","ComputedRefImpl","setter","isSSR","getterOrOptions","debugOptions","getter","cRef","INITIAL_WATCHER_VALUE","cleanupMap","activeWatcher","onWatcherCleanup","cleanupFn","owner","cleanups","watch","cb","options","immediate","deep","once","scheduler","augmentJob","call","warnInvalidSource","s","reactiveGetter","source2","traverse","effect","boundCleanup","forceTrigger","isMultiSource","currentEffect","baseGetter","depth","scope","watchHandle","_cb","job","immediateFirstRun","currentWatcher","cleanup2","seen","stack","pushWarningContext","vnode","popWarningContext","isWarning","warn$1","instance","appWarnHandler","trace","getComponentTrace","callWithErrorHandling","_b","formatComponentName","warnArgs","formatTrace","currentVNode","normalizedStack","parentInstance","logs","entry","formatTraceEntry","recurseCount","postfix","isRoot","open","close","formatProps","props","keys","formatProp","ErrorTypeStrings$1","handleError","callWithAsyncErrorHandling","values","throwInDev","contextVNode","errorHandler","throwUnhandledErrorInProduction","cur","exposedInstance","errorInfo","errorCapturedHooks","logError","throwInProd","info","queue","flushIndex","pendingPostFlushCbs","activePostFlushCbs","postFlushIndex","resolvedPromise","currentFlushPromise","RECURSION_LIMIT","nextTick","p","findInsertionIndex","id","start","end","middle","middleJob","middleJobId","getId","queueJob","jobId","lastJob","queueFlush","flushJobs","queuePostFlushCb","flushPreFlushCbs","checkRecursiveUpdates","flushPostFlushCbs","deduped","check","count","componentName","getComponentName","isHmrUpdating","hmrDirtyComponents","tryWrap","createRecord","rerender","reload","registerHMR","record","unregisterHMR","initialDef","normalizeClassComponent","component","isClassComponent","newRender","newComp","updateComponentDef","instances","oldComp","dirtyInstances","devtools$1","buffer","devtoolsNotInstalled","emit$1","event","setDevtoolsHook$1","hook","newHook","devtoolsInitApp","app","version","Fragment","Text","Comment","Static","devtoolsUnmountApp","devtoolsComponentAdded","createDevtoolsComponentHook","devtoolsComponentUpdated","_devtoolsComponentRemoved","devtoolsComponentRemoved","devtoolsPerfStart","createDevtoolsPerformanceHook","devtoolsPerfEnd","time","devtoolsComponentEmit","params","currentRenderingInstance","currentScopeId","setCurrentRenderingInstance","withCtx","ctx","isNonScopedSlot","renderFnWithContext","setBlockTracking","prevInstance","validateDirectiveName","withDirectives","directives","getComponentPublicInstance","bindings","dir","modifiers","invokeDirectiveHook","prevVNode","oldBindings","binding","TeleportEndKey","isTeleport","leaveCbKey","setTransitionHooks","hooks","defineComponent","extraOptions","markAsyncBoundary","knownTemplateRefs","pendingSetRefMap","setRef","rawRef","oldRawRef","parentSuspense","isUnmount","isAsyncWrapper","refValue","oldRef","refs","setupState","rawSetupState","canSetSetupRef","canSetRef","invalidatePendingSetRef","oldRawRefAtom","_isString","_isRef","doSet","existing","queuePostRenderEffect","pendingSetRef","isKeepAlive","onActivated","registerKeepAliveHook","onDeactivated","currentInstance","wrappedHook","current","injectHook","injectToKeepAliveRoot","keepAliveRoot","injected","onUnmounted","prepend","reset","setCurrentInstance","apiName","createHook","lifecycle","isInSSRComponentSetup","onBeforeMount","onMounted","onBeforeUpdate","onUpdated","onBeforeUnmount","onServerPrefetch","onRenderTriggered","onRenderTracked","onErrorCaptured","COMPONENTS","NULL_DYNAMIC_COMPONENT","resolveDynamicComponent","resolveAsset","warnMissing","maybeSelfReference","Component","selfName","resolve","registry","renderList","renderItem","cached","sourceIsArray","sourceIsReactiveArray","isReadonlySource","renderSlot","slots","fallback","noSlotted","hasProps","openBlock","createBlock","createVNode","slot","validSlotContent","ensureValidVNode","slotKey","rendered","vnodes","child","isVNode","getPublicInstance","isStatefulComponent","publicPropertiesMap","resolveMergedOptions","instanceWatch","isReservedPrefix","hasSetupBinding","state","PublicInstanceProxyHandlers","data","accessCache","appContext","shouldCacheAccess","publicGetter","cssModule","globalProperties","markAttrsAccessed","cssModules","descriptor","createDevRenderContext","exposePropsOnRenderContext","propsOptions","exposeSetupStateOnRenderContext","useSlots","getContext","calledFunctionName","getCurrentInstance","createSetupContext","normalizePropsOrEmits","createDuplicateChecker","applyOptions","publicThis","callHook","dataOptions","computedOptions","methods","watchOptions","provideOptions","injectOptions","created","beforeMount","mounted","beforeUpdate","updated","activated","deactivated","beforeDestroy","beforeUnmount","destroyed","unmounted","render","renderTracked","renderTriggered","errorCaptured","serverPrefetch","expose","inheritAttrs","components","filters","checkDuplicateProperties","resolveInjections","methodHandler","opt","set","createWatcher","provides","provide","registerLifecycleHook","register","_hook","exposed","normalizeInject","inject","h","createPathGetter","handler","base","mixins","extendsOptions","globalMixins","optionMergeStrategies","resolved","m","mergeOptions","to","from","strats","asMixin","strat","internalOptionMergeStrats","mergeDataFn","mergeEmitsOrPropsOptions","mergeObjectOptions","mergeAsArray","mergeWatchOptions","mergeInject","merged","createAppContext","uid$1","createAppAPI","hydrate","rootComponent","rootProps","context","installedPlugins","pluginCleanupFns","isMounted","plugin","mixin","validateComponentName","directive","rootContainer","isHydrate","namespace","cloned","cloneVNode","lastApp","currentApp","parentProvides","treatDefaultAsFactory","hasInjectionContext","ssrContextKey","useSSRContext","doWatch","flush","baseWatchOptions","runsImmediately","ssrCleanup","watchStopHandle","isPre","isFirstRun","watch$1","path","segments","getModelModifiers","modelName","emit","rawArgs","emitsOptions","validator","lowerCaseEvent","handlerName","onceHandler","mixinEmitsCache","normalizeEmitsOptions","comp","hasExtends","extendEmits","raw2","normalizedFromExtend","isEmitListener","accessedAttrs","renderComponentRoot","withProxy","attrs","renderCache","fallthroughAttrs","proxyToUse","thisProxy","normalizeVNode","render2","getFunctionalFallthrough","blockStack","root","setRoot","getChildRoot","shapeFlag","filterModelListeners","allAttrs","eventAttrs","extraAttrs","isElementRoot","rawChildren","dynamicChildren","childRoot","filterSingleRoot","dynamicIndex","updatedRoot","children","recurse","singleRoot","shouldUpdateComponent","nextVNode","optimized","prevProps","prevChildren","nextProps","nextChildren","patchFlag","emits","hasPropsChanged","dynamicProps","nextKeys","updateHOCHostEl","parent","internalObjectProto","createInternalObject","isInternalObject","initProps","rawProps","isStateful","setFullProps","validateProps","isInHmrContext","updateProps","rawPrevProps","rawCurrentProps","hasAttrsChanged","propsToUpdate","camelizedKey","resolvePropValue","kebabKey","needCastKeys","rawCastValues","camelKey","castValues","isAbsent","hasDefault","propsDefaults","mixinPropsCache","normalizePropsOptions","extendProps","normalizedKey","validatePropName","prop","propType","shouldCast","shouldCastTrue","typeName","getType","ctor","resolvedValues","camelizePropsKey","validateProp","required","skipCheck","isValid","types","expectedTypes","valid","expectedType","assertType","getInvalidTypeMessage","isSimpleType","t","message","receivedType","expectedValue","styleValue","receivedValue","isExplicable","isBoolean","elem","isInternalKey","normalizeSlotValue","normalizeSlot","rawSlot","normalizeObjectSlots","rawSlots","normalizeVNodeSlots","assignSlots","initSlots","updateSlots","needDeletionCheck","deletionComparisonTarget","supported","perf","startMeasure","isSupported","endMeasure","startTag","endTag","measureName","initFeatureFlags","needWarn","multi","queueEffectWithSuspense","createRenderer","baseCreateRenderer","createHydrationFns","hostInsert","hostRemove","hostPatchProp","hostCreateElement","hostCreateText","hostCreateComment","hostSetText","hostSetElementText","hostParentNode","hostNextSibling","hostSetScopeId","hostInsertStaticContent","patch","n1","n2","container","anchor","parentComponent","slotScopeIds","isSameVNodeType","getNextHostNode","unmount","processText","processCommentNode","mountStaticNode","patchStaticNode","processFragment","processElement","processComponent","internals","removeStaticNode","moveStaticNode","nextSibling","mountElement","customElement","patchElement","vnodeHook","transition","dirs","mountChildren","resolveChildrenNamespace","setScopeId","invokeVNodeHook","needCallTransitionHooks","needTransition","scopeId","subTree","isSuspense","parentVNode","cloneIfMounted","oldProps","newProps","toggleRecurse","patchBlockChildren","traverseStaticChildren","patchChildren","patchProps","oldChildren","newChildren","fallbackContainer","oldVNode","newVNode","fragmentStartAnchor","fragmentEndAnchor","fragmentSlotScopeIds","mountComponent","updateComponent","initialVNode","createComponentInstance","setupComponent","setupRenderEffect","placeholder","updateComponentPreRender","componentUpdateFn","bu","u","nonHydratedAsyncRoot","locateNonHydratedAsyncRoot","originNext","nextTree","prevTree","bm","isAsyncWrapperVNode","scopedInitialVNode","update","c1","prevShapeFlag","c2","patchKeyedChildren","patchUnkeyedChildren","unmountChildren","oldLength","commonLength","nextChild","parentAnchor","l2","e1","e2","nextPos","s1","s2","keyToNewIndexMap","j","patched","toBePatched","moved","maxNewIndexSoFar","newIndexToOldIndexMap","prevChild","newIndex","increasingNewIndexSequence","getSequence","nextIndex","anchorVNode","move","moveType","leave","delayLeave","afterLeave","remove2","performLeave","doRemove","cacheIndex","shouldInvokeDirs","shouldInvokeVnodeHook","unmountComponent","removeFragment","performRemove","bum","um","invalidateMount","teleportEnd","isFlushing","currentNamespace","allowed","ch1","ch2","len","arrI","subComponent","suspense","currentBlock","disableTracking","closeBlock","isBlockTreeEnabled","inVOnce","setupBlock","createElementBlock","createBaseVNode","createVNodeWithArgsTransform","_createVNode","normalizeKey","normalizeRef","ref_key","ref_for","isBlockNode","needFullChildrenNormalization","normalizeChildren","guardReactiveProps","klass","style","extraProps","mergeRef","cloneTransition","mergedProps","mergeProps","deepCloneVNode","createTextVNode","text","flag","createStaticVNode","content","numberOfNodes","createCommentVNode","asBlock","slotFlag","toMerge","incoming","emptyAppContext","uid","internalSetCurrentInstance","setInSSRSetupState","g","registerGlobalSetter","setters","unsetCurrentInstance","isBuiltInTag","isNativeTag","setupResult","setupStatefulComponent","names","isRuntimeOnly","setup","setupContext","isAsyncSetup","resolvedResult","handleSetupResult","finishComponentSetup","skipOptions","attrsProxyHandlers","getSlotsProxy","exposedType","attrsProxy","slotsProxy","classifyRE","classify","includeInferred","match","inferFromRegistry","computed$1","propsOrChildren","initCustomFormatter","vueStyle","numberStyle","stringStyle","keywordStyle","formatter","genRefFlag","formatValue","formatInstance","blocks","createInstanceBlock","extractKeys","asRaw","Comp","extracted","isKeyOfType","opts","policy","tt","unsafeToTrustedHTML","svgNS","mathmlNS","doc","templateContainer","nodeOps","tag","is","node","selector","before","template","wrapper","vtcKey","patchClass","isSVG","transitionClasses","vShowOriginalDisplay","vShowHidden","vShow","setDisplay","CSS_VAR_TEXT","displayRE","patchStyle","isCssString","hasControlledDisplay","prevStyle","setStyle","cssVarText","semicolonRE","importantRE","prefixed","autoPrefix","prefixes","prefixCache","rawName","xlinkNS","patchAttr","patchDOMProp","attrName","needRemove","addEventListener","removeEventListener","veiKey","patchEvent","prevValue","nextValue","invokers","existingInvoker","sanitizeEventValue","parseName","invoker","createInvoker","optionsModifierRE","cachedNow","getNow","initialValue","patchStopImmediatePropagation","propName","originalStop","isNativeOn","patchProp","shouldSetAsProp","camelize$1","getModelAssigner","onCompositionStart","onCompositionEnd","assignKey","castValue","trim","number","vModelText","lazy","castToNumber","elValue","vModelCheckbox","_","modelValue","elementValue","getValue","checked","assign","found","filtered","getCheckboxValue","setChecked","vModelSelect","isSetModel","selectedVal","o","setSelected","_binding","isMultiple","isArrayValue","option","optionValue","optionType","systemModifiers","modifierGuards","withModifiers","cacheKey","guard","keyNames","withKeys","eventKey","k","rendererOptions","renderer","ensureRenderer","createApp","injectNativeTagCheck","injectCompilerOptionsCheck","mount","containerOrSelector","normalizeContainer","resolveRootNamespace","isCustomElement","compilerOptions","initDev","del","getDevtoolsGlobalHook","getTarget","isProxyAvailable","HOOK_SETUP","HOOK_PLUGIN_SETTINGS_SET","isPerformanceSupported","now","ApiProxy","defaultSettings","localSettingsSaveId","currentSettings","pluginId","_target","setupDevtoolsPlugin","pluginDescriptor","setupFn","enableProxy","activePinia","setActivePinia","pinia","piniaSymbol","MutationType","IS_CLIENT","_global","bom","blob","autoBom","download","url","xhr","saveAs","corsEnabled","click","evt","_navigator","isMacOSWebView","downloadSaveAs","msSaveAs","fileSaverSaveAs","popup","force","isSafari","isChromeIOS","reader","toastMessage","piniaMessage","isPinia","checkClipboardAccess","checkNotFocusedError","actionGlobalCopyState","actionGlobalPasteState","loadStoresState","actionGlobalSaveState","fileInput","getFileOpener","openFile","reject","files","file","actionGlobalOpenStateFile","storeState","formatDisplay","display","PINIA_ROOT_LABEL","PINIA_ROOT_ID","formatStoreForInspectorTree","store","formatStoreForInspectorState","storeNames","storeMap","storeId","getters","getterName","formatEventData","events","formatMutationType","isTimelineActive","componentStateTypes","MUTATIONS_LAYER_ID","INSPECTOR_ID","assign$1","getStoreType","registerPiniaDevtools","api","nodeId","payload","piniaStores","stores","inspectedStore","addStoreToDevtools","after","onError","groupId","runningActionId","activeAction","eventData","hotUpdate","newStore","$dispose","patchActionForGrouping","actionNames","wrapWithProxy","actions","storeActions","actionName","_actionId","trackedStore","retValue","devtoolsPlugin","originalHotUpdate","createPinia","_p","toBeInstalled","patchObject","newState","oldState","subPatch","targetValue","noop","addSubscription","subscriptions","onCleanup","removeSubscription","idx","triggerSubscriptions","fallbackRunWithContext","ACTION_MARKER","ACTION_NAME","mergeReactiveObjects","patchToApply","skipHydrateSymbol","shouldHydrate","createOptionsStore","hot","initialState","localState","computedGetters","createSetupStore","$id","isOptionsStore","optionsForPlugin","$subscribeOptions","isListening","debuggerEvents","isSyncListening","actionSubscriptions","hotState","activeListener","$patch","partialStateOrMutator","subscriptionMutation","myListenerId","$reset","$state","action","wrappedAction","afterCallbackList","onErrorCallbackList","_hmrPayload","partialStore","stopWatcher","setupStore","actionValue","stateKey","newStateTarget","oldStateSource","actionFn","getterValue","nonEnumerable","extender","extensions","defineStore","idOrOptions","setupOptions","isSetupStore","useStore","hasContext","hotId","vm","Pe","D","y","E","ce","M","z","S","f","R","P","O","K","I","d","A","U","W","J","$","N","H","ue","Q","V","Z","ee","F","ne","C","ie","te","T","L","ae","oe","se","q","B","G","X","re","fe","Y","ve","me","ge","w","de","pe","he","ze","xe","DEFAULT_FFT_SIZE","FREQUENCY_BANDS","loadAudioFile","arrayBuffer","audioContext","audioBuffer","analyzeAudio","fps","duration","frameCount","sampleRate","amplitudeEnvelope","extractAmplitudeEnvelope","rmsEnergy","extractRMSEnergy","frequencyBands","extractFrequencyBands","spectralCentroid","extractSpectralCentroid","onsets","detectOnsets","bpm","detectBPM","channelData","samplesPerFrame","envelope","frame","startSample","endSample","maxAmp","amp","maxValue","rmsValues","sumSquares","rms","offlineCtx","analyser","bands","binFrequency","bandBins","band","low","high","fftResult","simpleFFT","energy","samples","magnitudes","windowed","windowValue","halfN","real","imag","angle","centroids","weightedSum","totalMagnitude","frequency","centroid","sensitivity","spectralFlux","prevSpectrum","spectrum","flux","diff","threshold","calculateAdaptiveThreshold","window","mean","std","downsampleFactor","downsampled","applyEnvelopeFollower","minBPM","maxBPM","downsampledRate","minLag","maxLag","maxCorrelation","bestLag","analysisLength","signal","lag","correlation","smoothing","env","sample","getFeatureAtFrame","analysis","feature","clampedFrame","detectPeaks","weights","config","minPeaksDistance","multiply","amplified","rawPeaks","curr","filteredPeaks","peak","recentPeakIndex","alternating","currentState","isBeatAtFrame","isPeakAtFrame","peaks","createAnimatableProperty","createDefaultTransform","createEmptyProject","width","height","interpolateProperty","property","keyframes","k1","k2","elapsed","cubicBezierEasing","interpolateValue","outHandle","inHandle","x1","y1","x2","y2","guessT","currentX","bezierPoint","currentSlope","bezierDerivative","p0","p1","p2","p3","mt","v1","v2","interpolateColor","r1","g1","b1","r2","g2","b2","EASING_PRESETS","getBezierCurvePoint","applyEasing","ratio","preset","AudioReactiveMapper","__publicField","peakData","mapping","updates","layerId","mappingId","smoothed","mappings","DEFAULT_CONFIG","AudioPathAnimator","pathData","commands","currentY","cmd","nums","firstMove","totalLength","segment","points","dx","dy","degree","length","prevX","prevY","mt2","t2","audioValue","isBeat","smoothedInput","pathPoint","processedValue","decayRate","finalValue","delta","newPosition","seg","segmentT","tangentX","tangentY","steps","trail","startT","endT","pos","opacity","useCompositorStore","inputs","layer","currentIndex","addToSelection","elapsedFrames","newFrame","tool","snapshot","maxHistory","json","project","propertyName","keyframe","existingIndex","keyframeId","textData","splineData","particleData","emitterId","emitter","sourceLayerId","depthLayerId","depthflowData","animator","amplitude","_layerId","estimateVRAM","adapter","device","maxBufferSize","detectGPUTier","deviceName","gl","CAMERA_PRESETS","createDefaultCamera","compWidth","compHeight","centerX","centerY","createDefaultViewportState","showSearch","searchQuery","selectedItem","expandedFolders","folders","items","filteredFolders","query","folder","filteredRootItems","selectedItemDetails","getItemInfo","toggleFolder","folderId","selectItem","itemId","openItem","createNewItem","getItemIcon","parts","seconds","onDragStart","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_cache","_hoisted_3","$event","_hoisted_4","_hoisted_5","_hoisted_6","_Fragment","_renderList","_withModifiers","_toDisplayString","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","EFFECT_DEFINITIONS","EFFECT_CATEGORIES","createEffect","definitionKey","ANIMATION_PRESETS","activeTab","expandedCategories","expandedPresetCategories","favorites","saved","saveFavorites","allEffects","filteredCategories","cat","effects","groupedPresets","groups","category","presets","favoriteEffects","toggleCategory","togglePresetCategory","toggleFavorite","effectKey","getCategoryIcon","applyEffect","selectedLayer","applyPreset","onDragPreset","_hoisted_12","_normalizeClass","_hoisted_16","group","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_29","_hoisted_30","_hoisted_31","__props","__emit","isScrubbing","scrubStartX","scrubStartValue","showReset","displayValue","clamp","round","factor","startScrub","onScrubMove","stopScrub","deltaX","multiplier","deltaValue","onInput","input","onKeyDown","onBlur","trackRef","isDragging","fillPercent","range","onTrackClick","rect","percent","startThumbDrag","_e","onThumbDrag","stopThumbDrag","_normalizeStyle","dialRef","normalizeAngle","startDrag","updateAngle","onDrag","stopDrag","deltaY","WEB_SAFE_FONTS","GOOGLE_FONTS","FontService","fonts","familyMap","font","categories","family","families","weightsStr","testString","fallbackWidth","testWidth","fontService","hasKeyframeAtCurrentFrame","keyframeAtCurrentFrame","iconClass","buttonTitle","toggleKeyframe","removeKeyframe","addKeyframe","defaultHandles","newKeyframe","searchInputRef","selectedPreviewFont","previewText","fontCategories","hasSystemFonts","categoryName","selectFont","fontFamily","confirmSelection","requestSystemFonts","_hoisted_7","showFontPicker","webSafeFonts","googleFonts","splineLayers","fontSizeProperty","pathOffsetProperty","pathOffsetValue","updateTextContent","updateFont","updateFontSize","updateFill","updatePathAttachment","updatePathOffset","updateLetterSpacing","_vModelText","_vModelSelect","_createBlock","KeyframeToggle","FontPicker","expandedSections","expandedEmitters","forceTab","layerData","systemConfig","emitters","gravityWells","vortices","modulations","renderOptions","turbulenceFields","subEmitters","connections","particleCount","toggleSection","section","toggleEmitter","updateSystemConfig","updateEmitter","updateEmitterColor","hex","rgb","hexToRgb","addEmitter","newEmitter","removeEmitter","updateGravityWell","addGravityWell","newWell","removeGravityWell","updateVortex","addVortex","newVortex","removeVortex","updateModulation","addModulation","newMod","removeModulation","updateRenderOption","updateConnection","updateTurbulence","addTurbulence","newTurb","removeTurbulence","updateSubEmitter","updateSubEmitterColor","addSubEmitter","newSub","removeSubEmitter","rgbToHex","_hoisted_28","_hoisted_32","_hoisted_34","_hoisted_35","_hoisted_37","_hoisted_38","_hoisted_40","_hoisted_41","_hoisted_43","_hoisted_44","_hoisted_46","_hoisted_47","_hoisted_49","_hoisted_50","_hoisted_52","_hoisted_53","_hoisted_55","_hoisted_57","_hoisted_58","_hoisted_60","_hoisted_61","_hoisted_63","_hoisted_64","_hoisted_66","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","well","_hoisted_74","_hoisted_76","_hoisted_79","_hoisted_81","_hoisted_82","_hoisted_84","_hoisted_85","_hoisted_87","_hoisted_88","_hoisted_90","_hoisted_91","_hoisted_93","vortex","_hoisted_94","_hoisted_96","_hoisted_99","_hoisted_101","_hoisted_102","_hoisted_104","_hoisted_105","_hoisted_107","_hoisted_108","_hoisted_110","_hoisted_111","_hoisted_113","_hoisted_114","_hoisted_116","_hoisted_117","_hoisted_118","turb","_hoisted_119","_hoisted_120","_hoisted_123","_hoisted_125","_hoisted_126","_hoisted_128","_hoisted_129","_hoisted_131","_hoisted_132","_hoisted_133","_hoisted_134","_hoisted_135","_hoisted_137","_hoisted_138","_hoisted_141","_hoisted_143","_hoisted_145","_hoisted_146","_hoisted_148","_hoisted_149","_hoisted_151","_hoisted_152","_hoisted_154","_hoisted_155","_hoisted_157","_hoisted_158","_hoisted_160","_hoisted_161","_hoisted_163","_hoisted_164","_hoisted_165","mod","_hoisted_166","_hoisted_168","_hoisted_170","_hoisted_172","_hoisted_174","_hoisted_176","_hoisted_178","_hoisted_179","_hoisted_180","_hoisted_181","_hoisted_183","_hoisted_185","_hoisted_187","_hoisted_189","_hoisted_190","_hoisted_192","_hoisted_194","_hoisted_195","_hoisted_197","_hoisted_198","_hoisted_200","_hoisted_202","_hoisted_203","_hoisted_205","_hoisted_206","_hoisted_208","_hoisted_209","_hoisted_211","_hoisted_212","_hoisted_214","previewSize","previewCanvas","isPreviewPlaying","previewFrame","previewAnimationId","presetIntensity","depthflowConfig","totalFrames","imageLayers","depthLayers","isOrbitPreset","isSwingPreset","isDollyPreset","showPresetSettings","presetSettingsTitle","updateConfig","updateDepthflowConfig","selectPreset","updatePresetIntensity","intensity","togglePreview","playPreview","renderPreview","canvas","_hoisted_33","_hoisted_36","_hoisted_39","_hoisted_56","_hoisted_65","_createTextVNode","_hoisted_67","scaleLocked","layerName","transform","blendMode","blendModes","layerPropertiesComponent","TextProperties","ParticleProperties","DepthflowProperties","_c","_d","_f","_g","_h","_i","_j","_k","_l","_m","_n","newX","oldX","updateLayerName","updateTransform","updateBlendMode","hasKeyframe","toggleEffect","removeEffect","onLayerUpdate","_withKeys","_unref","ScrubableNumber","SliderInput","mode","_resolveDynamicComponent","vec3","addVec3","subVec3","scaleVec3","lengthVec3","normalizeVec3","crossVec3","dotVec3","perspectiveMat4","fovY","aspect","near","far","nf","orthographicMat4","left","right","bottom","top","lookAtMat4","eye","up","zx","zy","zz","xx","xy","xz","yx","yy","yz","transformPoint","focalLengthToFOV","focalLength","sensorSize","fovToFocalLength","fov","updateProperty","updatePosition","axis","updatePOI","updateOrientation","updateFocalLength","angleOfView","updateAngleOfView","updateDOF","updateIris","updateHighlight","_withDirectives","_vShow","_hoisted_42","AngleDial","_hoisted_45","_hoisted_48","_hoisted_51","_hoisted_54","_hoisted_59","_hoisted_62","$emit","audioFileInput","waveformCanvas","waveformMode","masterVolume","isMuted","beatSensitivity","beatThreshold","detectedBPM","beatPulse","linkedLayer","reactiveProperty","reactiveBand","reactiveIntensity","reactiveSmoothing","hasAudio","audioFileName","audioDuration","minutes","audioSampleRate","availableLayers","handleAudioFileSelected","removeAudio","toggleMute","initWaveformVisualization","drawStaticWaveform","step","min","max","playheadX","beatInterval","startBeatSimulation","beatMs","stopBeatSimulation","CAMERA_BODY_SIZE","CAMERA_LENS_LENGTH","generateCameraBody","camera","lines","color","forward","radX","radY","worldUp","halfSize","bodyBack","corners","zOffset","lensEnd","lensPoints","nextAngle","generateFrustum","maxDistance","nearHalfHeight","nearHalfWidth","farHalfHeight","farHalfWidth","nearCenter","nearCorners","farCenter","farCorners","generateCompositionBounds","generatePOILine","generateFocalPlane","focusDist","center","halfWidth","halfHeight","generateCameraVisualization","showFrustum","showBounds","showFocalPlane","getCameraViewMatrices","view","projection","viewProjection","multiplyMat4Local","getOrthoViewMatrices","viewType","customView","size","phi","theta","dist","be","row","col","sum","projectToScreen","point","screenWidth","screenHeight","transformed","vp","generate3DAxes","generateGrid","spacing","centerColor","extent","isCenter","canvasRefs","contexts","dragStartPos","dragViewIndex","dragButton","layoutOptions","layout","activeViewIndex","customViews","activeViews","setCanvasRef","isCustomView","getViewDisplayName","setActiveView","updateViewType","newViews","setLayout","newLayout","getViewCount","resetCustomView","defaultView","onCanvasMouseDown","viewIndex","onCanvasMouseMove","onCanvasMouseUp","newTheta","newPhi","onCanvasWheel","zoomFactor","dpr","matrices","viz","createDummyCamera","line","animationId","animate","layoutOption","et","st","it","rt","nt","ot","at","ht","ct","lt","ut","dt","gt","ft","pt","vt","yt","_t","xt","Ct","bt","St","wt","Tt","Ot","kt","Dt","Mt","Pt","Et","At","jt","Ft","Lt","Rt","It","Bt","Xt","Yt","Wt","Vt","zt","Gt","Ht","Nt","Ut","qt","Kt","Jt","Qt","Zt","$t","le","ye","Ce","Se","we","Te","Oe","ke","De","Me","Ee","Ae","je","Fe","Le","Re","Ie","Be","Xe","Ye","We","Ve","Ge","He","Ne","Ue","qe","Ke","Je","Qe","Ze","$e","ts","es","ss","rs","os","as","hs","cs","ds","fs","ps","ms","vs","ys","_s","Ss","ws","xs","Cs","bs","Ts","Os","ks","Ds","Ms","Ps","Es","As","Ls","Xs","Ys","Ws","Vs","zs","Gs","Hs","Ns","Us","qs","Ks","Js","Qs","Zs","$s","ti","ei","si","ii","ri","ni","oi","ai","hi","ci","li","ui","di","gi","fi","pi","mi","vi","yi","xi","Ci","bi","Si","wi","Ti","Oi","ki","Di","Mi","Pi","Ei","Ai","ji","Fi","Li","Ri","Ii","Bi","Xi","Yi","Wi","Vi","zi","Gi","Hi","Ni","Ui","Ki","Ji","Qi","Zi","$i","tr","er","sr","ir","rr","nr","or","ar","hr","cr","lr","ur","dr","gr","fr","pr","mr","vr","yr","_r","xr","Cr","br","Sr","wr","Tr","Or","kr","Dr","Mr","Pr","Er","Ar","jr","Fr","Lr","Rr","Ir","Br","Xr","Yr","Wr","Vr","zr","Gr","Hr","Nr","Ur","qr","Kr","Jr","Qr","Zr","$r","tn","en","sn","an","rn","nn","on","hn","cn","ln","un","dn","gn","pn","mn","vn","yn","xn","Cn","bn","wn","Tn","Pn","En","An","jn","Fn","Ln","Rn","In","Bn","Xn","Yn","Wn","Vn","zn","Gn","Hn","Nn","Un","qn","Kn","Jn","Qn","Zn","$n","eo","io","ro","no","ao","ho","co","fo","po","mo","vo","yo","_o","xo","Co","bo","So","wo","To","Oo","ko","Do","Mo","Po","Eo","Ao","jo","Fo","Lo","Ro","Io","Bo","Xo","Yo","Wo","Vo","zo","Go","Ho","No","Uo","qo","Ko","Jo","Qo","Zo","$o","ta","ea","sa","ra","na","oa","La","Ia","Ba","Xa","Ya","Wa","Va","za","Ga","Ha","Na","Ua","qa","Ka","Ja","Qa","Za","oh","ah","hh","ch","lh","uh","dh","gh","fh","ph","mh","vh","yh","xh","Ch","bh","VIRIDIS_LUT","generateViridisLUT","PLASMA_LUT","generatePlasmaLUT","lut","_DepthMapImage","FabricImage","element","vertexShaderSource","fragmentShaderSource","vertexShader","fragmentShader","program","shader","positionBuffer","positionLocation","texCoordBuffer","texCoordLocation","imageTexture","colormapTexture","imageData","gray","colormap","originalElement","img","base64","DepthMapImage","classRegistry","_SplinePath","Path","pathCommands","cp","h1","h2","pointId","handleType","breakHandles","handle","oppositeKey","pathString","SplinePath","selectedPointId","previewPoint","dragTarget","visibleControlPoints","screenToCanvas","screenX","screenY","getMousePos","handleMouseDown","newPoint","handleMouseMove","handleMouseUp","startDragPoint","startDragHandle","handleKeyDown","__expose","SQRT3","F2","G2","fastFloor","grad2","createNoise2D","random","perm","buildPermutationTable","permGrad2x","permGrad2y","n0","X0","Y0","x0","y0","i1","j1","jj","t0","gi0","g0x","g0y","t1","gi1","g1x","g1y","gi2","g2x","g2y","aux","createDefaultConnectionConfig","createDefaultSystemConfig","createDefaultRenderOptions","ParticleSystem","burstCount","mask","param","deltaTime","particlesToEmit","accumulated","windRadians","windX","windY","gravity","windStrength","actualWindX","actualWindY","nx","ny","influence","strength","perpX","perpY","inward","frictionFactor","spreadRad","speedNormalized","lifetime","particle","px","py","lifeRatio","easingKey","easing","easedRatio","currentSpeed","scale","turbFields","deadParticle","emitAngle","inheritedSpeed","totalSpeed","cellSize","cells","cellX","cellY","grid","neighbors","cell","maxDist","maxDistSq","connectionCount","other","distSq","trailLen","tp","_width","_height","velocityMag","stretchFactor","dirX","dirY","stretchDistance","sampleOpacity","sampleX","sampleY","sampleSize","alpha","shape","cx","cy","spikes","outerRadius","innerRadius","rotation","outerX","outerY","innerX","innerY","connConfig","system","createDefaultDepthflowConfig","VERTEX_SHADER","FRAGMENT_SHADER","DepthflowRenderer","image","which","progress","orbitRadius","orbitSpeed","swingAmplitude","swingFrequency","zoom","offsetX","offsetY","depthScale","positionLoc","texCoordLoc","pixels","flipped","srcRow","dstRow","sourceCtx","depthCtx","sourceData","depthData","outputData","focusDepth","rotRad","cosR","sinR","depthDiff","sx","sy","rx","ry","fx","fy","cx0","cy0","cx1","cy1","i00","i10","i01","i11","v00","v10","v01","v11","v0","onProgress","frames","containerRef","canvasRef","splineEditorRef","fabricCanvas","sourceImageObj","depthMapObj","splineObjects","loading","showDepthOverlay","depthColormap","depthOpacity","canvasWidth","canvasHeight","particleSystems","depthflowRenderers","particleCanvas","particleCtx","animationFrameId","pathAnimationStates","hasDepthMap","isPenMode","activeSplineLayerId","splines","viewportTransformArray","vpt","Canvas","setupZoomPan","handleResize","loadSourceImage","loadDepthMap","renderSplineLayers","syncParticleSystems","syncDepthflowRenderers","startRenderLoop","newZoom","Point","isPanning","lastPosX","lastPosY","selected","loadImage","fitToView","sourceIndex","splineObj","layerIds","onPointAdded","_point","newLayer","onPathUpdated","visible","src","zoomIn","zoomOut","imgWidth","imgHeight","padding","scaleX","scaleY","particleLayers","currentEmitters","depthflowLayers","renderFrame","updatePathAnimators","updateParticleSystems","renderParticles","renderTextOnPathAudio","isOnset","scaledValue","paramParts","fabricCtx","getParticleCount","textLayers","splineLayer","positionDelta","nextPoint","getTextPathPosition","pathPos","SplineEditor","trackAreaRef","renameInput","showLabelPicker","isRenaming","renameValue","labelColors","isSelected","selectedKeyframeIds","isSoloed","isDimmedBySolo","availableParents","durationBarStyle","inPercent","allKeyframes","kf","hasKeyframes","expressionIndicators","exprs","getKeyframePosition","getTypeIcon","selectLayer","toggleVisibility","toggleAudio","toggleLock","toggleSolo","toggleSwitch","switchName","toggleQuality","newQuality","setLabelColor","setParent","parentId","selectKeyframe","goToKeyframe","startRename","finishRename","cancelRename","dragType","dragStartX","dragStartIn","dragStartOut","handleDrag","startTrimIn","startTrimOut","newInPoint","newOutPoint","frameShift","newIn","newOut","parentLayer","expr","trackOffset","timelineContentRef","rulerTrackRef","layerTracksRef","showAddLayerMenu","trackWidth","searchFilter","showLayerSwitches","isPlaying","loopMode","playbackInterval","playDirection","workArea","markers","selectedMarkerId","editingMarker","soloedLayerIds","filteredLayers","filter","playheadPosition","scrubProgress","workAreaStyle","startPercent","endPercent","scrubberWorkAreaStyle","rulerMarks","marks","majorStep","formatTimecode","totalSeconds","updateTrackWidth","togglePlayback","nextFrame","stopPlayback","goToStart","goToEnd","stepForward","stepBackward","cycleLoopMode","modes","updateLayer","addLayer","setLayerParent","childId","workAreaDragType","workAreaDragStart","startWorkAreaDrag","handleWorkAreaDrag","stopWorkAreaDrag","startWorkAreaTrim","newStart","newEnd","setMarkerAtClick","newMarker","selectMarker","markerId","editMarker","marker","saveMarker","deleteMarker","scrubClick","handleScrub","scrubberTrack","setFrameFromInput","handleClickOutside","newCount","mark","EnhancedLayerTrack","canvasContainerRef","timeRulerRef","timeRulerCanvas","valueAxisRef","valueAxisCanvas","viewState","selectedPropertyIds","visiblePropertyIds","visibleDimensions","selectedKeyframes","hoveredKeyframe","selectionBox","contextMenu","clipboard","snapEnabled","autoSelectNearby","margin","propertyColors","presetList","animatableProperties","visibleProperties","allPropertiesVisible","currentFrameScreenX","frameToScreenX","graphWidth","screenXToFrame","valueToScreenY","graphHeight","screenYToValue","getKeyframeScreenX","getKeyframeScreenY","getKeyframeDisplayValue","selection","getOutHandleX","kfIndex","nextKf","frameSpan","handleFrame","getOutHandleY","valueSpan","getNumericValue","handleValue","getInHandleX","prevKf","getInHandleY","getPropertyColor","propId","isKeyframeInView","isKeyframeSelected","sk","hasDimension","dim","toggleProperty","togglePropertyVisibility","updateViewBounds","toggleAllProperties","toggleDimension","dims","minFrame","maxFrame","minValue","frameMargin","valueMargin","toggleAutoSelect","isPresetActive","presetKey","outMatch","inMatch","drawGraph","updateHoveredKeyframe","valueShift","startX","startY","moveSelectedKeyframes","moveHandle","selectKeyframesInBox","handleWheel","frameAtCursor","newFrameStart","newFrameEnd","valueAtCursor","kfX","kfY","onKeyframeMouseDown","box","onDragHandle","stopDragHandle","showContextMenu","addKeyframeAtPosition","newKf","insertIndex","deleteSelectedKeyframes","copyKeyframes","pasteKeyframes","offset","selectAllKeyframes","invertSelection","newSelection","updateSelectedKeyframeFrame","updateSelectedKeyframeValue","updateSelectedKeyframeInterpolation","onTimeRulerClick","drawMainCanvas","drawTimeRuler","drawValueAxis","drawGrid","drawPropertyCurve","frameRange","frameStep","calculateGridStep","valueRange","valueStep","firstFrame","firstValue","pixelSize","targetSpacing","rawStep","magnitude","started","kf1","kf2","cp1x","cp1y","cp2x","cp2y","ctfX","resizeObserver","abs","cos","sin","acos","atan2","sqrt","pow","crt","tau","quart","epsilon","nMax","nMin","ZERO","utils","derivativeFn","_3d","order","dCpts","ratios","f1","f2","f3","f4","dpoints","list","dpt","precision","d1","d2","dx1","dy1","dx2","dy2","cross","dot","LUT","mdist","mpos","x3","y3","x4","y4","p4","Bezier","sections","mx","my","MX","MY","bbox","bbox1","bbox2","curveIntersectionThreshold","intersections","a1","a2","l1","iss","back","bpl","fpl","curve","tx","ty","aligned","m1","m2","pa","pb","pc","pd","q2","discriminant","u1","mp3","mp33","cosphi","crtr","sd","kOnly","num","dnm","adk","dk","dd","qdsum","pk","nk","v3","trm","sq","_bbox","c1b","c2b","cc1","cc2","pairs","pair","results","dx1p","dy1p","dx2p","dy2p","mx1","my1","mx2","my2","mx1n","my1n","mx2n","my2n","arc","PolyBezier","curves","Bezier$1","coords","coordlen","newargs","higher","baselength","abc","selen","lx","ly","bx1","by1","bx2","by2","nc1","nc2","print","hits","closest","np","pim","q1","roots","mfn","extrema","lbbox","tbbox","nv","pass1","pass2","distanceFn","clockwise","ov","rc","d3","d4","mid","fline","bline","ls","reduced","fcurves","bcurves","alen","tlen","graduated","linearDistanceFunction","slen","outline","shapes","errorThreshold","np1","circles","t_s","t_e","safety","np2","np3","prev_arc","curr_good","prev_good","t_m","prev_e","BezierModule","ArcLengthParameterizer","resolution","accumulatedLength","prevPoint","distance","prevEntry","fabricPathToBezier","startPoint","command","MatteExporter","correctedWidth","correctedHeight","finalWidth","finalHeight","frameBlob","fontSizeProp","scaledFontSize","fontSize","pathLayer","bezierCurve","parameterizer","offsetProp","pathOffset","currentDistance","char","spaceWidth","charWidth","clampedDistance","tangent","scaledX","scaledY","positionProp","position","rotationProp","scaleProp","textWidth","textHeight","filename","JSZip","jszip_min","zip","frameName","metadata","warmupFrames","maskData","tempCanvas","matteExporter","resolutionPresets","selectedPreset","customWidth","customHeight","dimensionWarning","matteMode","previewUrl","isExporting","exportProgress","progressMessage","exportWidth","exportHeight","validateCustomDimensions","validation","matchingPreset","generatePreview","startExport","currentTool","activeWorkspace","leftTab","rightTab","viewportTab","viewZoom","showGuides","showGrid","showGraphEditor","showExportDialog","gpuTier","activeCamera","viewportState","viewOptions","memoryUsage","renderProgress","formattedTimecode","fpsVal","projectName","compositionInfo","canUndo","canRedo","togglePlay","undo","redo","updateCamera","onExportComplete","handleKeydown","perfInterval","updatePerformanceStats","mem","usedMB","tierInfo","Splitpanes","Pane","ProjectPanel","EffectsPanel","ViewportRenderer","CompositionCanvas","TimelinePanel","GraphEditor","PropertiesPanel","CameraProperties","AudioPanel","ExportDialog","WorkspaceLayout","appInstance","mountApp","App","setupBridge","sendToComfyUI","matte","preview","module","require","global"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,39,43,50,51,52,59]}